define.loadPackageTheme("b1-anw",function(){define("json!sap.sbo.services.service-config",function(){return{documentBase:"/sbo/",pooledUrl:"/sbo/pooled",enablePooling:!1,threshold:75}}),define("json!sap.sbo.util.enums",function(){return{bool:{Yes:"tYES",No:"tNO"},boPermissions:{ReadOnly:"boper_ReadOnly",Full:"boper_Full",None:"boper_None"},boPriceListGroupNum:{Group1:"boplgn_Group1",Group2:"boplgn_Group2",Group3:"boplgn_Group3",Group4:"boplgn_Group4"},BoObjectTypes:{Order:"oOrders",Quotation:"oQuotations"}}}),define("json!sap.sbo.localization.const-EN",function(){return{date:{setText:"OK",cancelText:"Cancel",monthText:"Month",dayText:"Day",yearText:"Year",hourText:"Hours",minuteText:"Minutes",secText:"Seconds",nowText:"Now",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}}}),define("json!sap.sbo.localization.const-ZH",function(){return{date:{setText:"确定",cancelText:"取消",monthText:"月",dayText:"天",yearText:"年",hourText:"小时",minuteText:"分",secText:"秒",nowText:"现在",dayNames:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayNamesShort:["周日","周一","周二","周三","周四","周五","周六"],monthNames:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],monthNamesShort:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"]}}}),define("json!sap.sbo.app.search.mockData",function(){return{"odata.metadata":{type:"EntitisModel.SearchResult"},bingo:{value:[{"odata.metadata":{type:"EntitisModel.SearchResultCategory"},count:2,type:"97",name:"SalesOpportunity",records:{value:[{"odata.metadata":{type:"EntitisModel.SearchResultRecord"},identity:2,type:"97",properties:{"odata.metadata":{type:"EntitisModel.SBOMap"},entries:{value:[{"odata.metadata":{type:"EntitisModel.MapEntry"},key:"Name",value:"123"},{"odata.metadata":{type:"EntitisModel.MapEntry"},key:"BusinessPartner",value:"ABC"}]}}},{"odata.metadata":{type:"EntitisModel.SearchResultRecord"},identity:5,type:"97",properties:{"odata.metadata":{type:"EntitisModel.SBOMap"},entries:{value:[{"odata.metadata":{type:"EntitisModel.MapEntry"},key:"Name",value:"My opportunity"},{"odata.metadata":{type:"EntitisModel.MapEntry"},key:"BusinessPartner",value:"CBD"}]}}}]}},{"odata.metadata":{type:"EntitisModel.SearchResultCategory"},count:1,type:"2",name:"BusinessPartner",records:{value:[{"odata.metadata":{type:"EntitisModel.SearchResultRecord"},identity:35,type:"2",properties:{"odata.metadata":{type:"EntitisModel.SBOMap"},entries:{value:[{"odata.metadata":{type:"EntitisModel.MapEntry"},key:"Name",value:"My Test"},{"odata.metadata":{type:"EntitisModel.MapEntry"},key:"CardCode",value:"C20000"},{"odata.metadata":{type:"EntitisModel.MapEntry"},key:"CardName",value:"OYougen"}]}}}]}}]}}}),define("json!sap.sbo.ui.nav-config",function(){return{"com.sap.sbo.SalesOpportunity":{view:"sap.sbo.page.{device}.SalesOpportunity.Home",params:["sequentialNo"],style:"FullView"},"com.sap.sbo.ContactPerson":{view:"sap.sbo.page.{device}.Contact.ContactHome",params:["contactPersonID"],style:"FullView"},"com.sap.sbo.UserEmployee":{view:"sap.sbo.page.{device}.user.BasicInfo",params:["employeeID"],style:"FullView"},"com.sap.sbo.BusinessPartner":{view:"sap.sbo.page.{device}.Customer.CustomerHome",params:["cardCode"],style:"FullView"},"com.sap.sbo.Task":{params:["taskID","boEntityKey"],pad:{view:"sap.sbo.page.pad.task.taskDialog",style:"Dialog",size:{width:937,height:648}},phone:{view:"sap.sbo.page.phone.task.taskDialog",style:"FullView"}},"com.sap.sbo.Page":{params:["noteID","bo"],pad:{view:"sap.sbo.page.pad.notepage.NotePageDialog",style:"Dialog",size:{width:934,height:648}},phone:{view:"sap.sbo.page.phone.notepage.NotePageDialog",style:"FullView"}},"com.sap.sbo.Item":{view:"sap.sbo.page.{device}.Product.ProductHome",params:["itemCode"],style:"FullView"},"com.sap.sbo.Order":{view:"sap.sbo.page.{device}.SalesOrder.SalesOrderHome",params:["docEntry"],style:"FullView"},"com.sap.sbo.Quotation":{view:"sap.sbo.page.{device}.SalesQuotation.SalesQuotationHome",params:["docEntry"],style:"FullView"},"com.sap.sbo.Campaign":{view:"sap.sbo.page.{device}.Campaign.Home",params:["campaignNumber"],style:"FullView"},"com.sap.sbo.Leads":{view:"sap.sbo.page.{device}.Leads.Home",params:["id"],style:"FullView"},"com.sap.sbo.Note":{view:"sap.sbo.page.{device}.colleague.ColleagueHome",params:["employeeID"],style:"FullView"}}}),define("json!sap.sbo.page.all-bo",function(){return[{name:"SalesOpportunity",namespace:"com.sap.sbo"},{name:"ContactPerson",namespace:"com.sap.sbo"},{name:"Campaign",namespace:"com.sap.sbo"},{name:"BusinessPartner",namespace:"com.sap.sbo"},{name:"Item",namespace:"com.sap.sbo"},{name:"Quotation",namespace:"com.sap.sbo"},{name:"Order",namespace:"com.sap.sbo"},{name:"Leads",namespace:"com.sap.sbo"},{name:"UserEmployee",namespace:"com.sap.sbo"},{name:"SalesOpportunitySourceSetup",namespace:"com.sap.sbo"},{name:"SalesOpportunityReasonSetup",namespace:"com.sap.sbo"},{name:"SalesStage",namespace:"com.sap.sbo"},{name:"ApprovalSetting",namespace:"com.sap.sbo"},{name:"PriceList",namespace:"com.sap.sbo"},{name:"Manufacturers",namespace:"com.sap.sbo"},{name:"ItemGroup",namespace:"com.sap.sbo"},{name:"Industry",namespace:"com.sap.sbo"},{name:"BusinessPartnerGroup",namespace:"com.sap.sbo"},{name:"VatGroups",namespace:"com.sap.sbo"},{name:"ShippingType",namespace:"com.sap.sbo"}]}),define("json!sap.sbo.page.bo-services",function(){return{TargetGroup:"sap.sbo.services.TargetGroupsService",SalesStage:"sap.sbo.services.SalesStagesService",SalesOpportunitySourceSetup:"sap.sbo.services.SalesOpportunitySourceSetupsService",SalesOpportunityReasonSetup:"sap.sbo.services.SalesOpportunityReasonSetupsService",SalesOpportunityCompetitorSetup:"sap.sbo.services.SalesOpportunityCompetitorSetupsService",ApprovalSetting:"sap.sbo.services.ApprovalSettingsService",PriceList:"sap.sbo.services.PriceListsService",Manufacturers:"sap.sbo.services.ManufacturersService",ItemGroup:"sap.sbo.services.ItemGroupsService",Industry:"sap.sbo.services.IndustriesService",UserEmployee:"sap.sbo.services.UserEmployeesService",BusinessPartnerGroup:"sap.sbo.services.BusinessPartnerGroupsService",VatGroups:"sap.sbo.services.VatGroupsService",Country:"sap.sbo.services.CountriesService",Currency:"sap.sbo.services.CurrenciesService",BusinessPartner:"sap.sbo.services.BusinessPartnersService",ContactPerson:"sap.sbo.services.ContactPersonsService",EmployeesInfo:"sap.sbo.services.EmployeesInfosService",SalesPerson:"sap.sbo.services.SalesPersonsService",State:"sap.sbo.services.StatesService",ShippingType:"sap.sbo.services.ShippingTypesService",SalesTaxCode:"sap.sbo.services.SalesTaxCodesService"}}),define("json!sap.sbo.page.common.listFilters.Contact",function(){return{ALL_CONTACTS:"",MY_CONTACTS:"([ownerCode] = {{#CurrentEmployeeID#}})",STANDALONE:"([cardCode] = '')",ACTIVE_CONTACTS:"([active] = 'tYES')",INACTIVE_CONTACTS:"([active] = 'tNO')"}}),define("json!sap.sbo.page.common.listFilters.Customer",function(){return{ALL_CUSTOMERS:"",MY_CUSTOMERS:"([ownerCode] = {{#CurrentEmployeeID#}})",PROSPECTS:"([prospect] = 'tYES')",CUSTOMERS:"([prospect] = 'tNO')",ACTIVE_CUSTOMERS:"([isActive] = 'tYES')",INACTIVE_CUSTOMERS:"([isActive] = 'tNO')"}}),define("json!sap.sbo.page.common.listFilters.Lead",function(){return{ALL_LEADS:"",MY_LEADS:"([ownerCode] = {{#CurrentEmployeeID#}})",OPEN_LEADS:"([status]='Open')"}}),define("json!sap.sbo.page.common.listFilters.SalesOpportunity",function(){return{ALL_OPPS:"",OPEN_OPPS:"([status] = 'sos_Open')",MY_OPPS:"([dataOwnershipfield] = {{#CurrentEmployeeID#}})"}}),define("json!sap.sbo.page.common.listFilters.SalesOrder",function(){return{ALL_ORDERS:"",MY_ORDERS:"([documentsOwner] = {{#CurrentEmployeeID#}})",OPEN_ORDERS:"([status] = 'dsOpen')"}}),define("json!sap.sbo.page.common.listFilters.Product",function(){return{ALL_PRODUCTS:"",ACTIVE_PRODUCTS:"([isActive] = 'tYES')",INACTIVE_PRODUCTS:"([isActive] = 'tNO')"}}),define("json!sap.sbo.page.common.listFilters.SalesQuotation",function(){return{ALL_QUOTS:"",MY_QUOTS:"([documentsOwner] = {{#CurrentEmployeeID#}})",OPEN_QUOTS:"([status] = 'dsOpen')"}}),define("json!sap.sbo.page.pad.settings.settings-ui-meta",function(){return{lead:{settingTitle:"app/settings/LEADS_TITLE",settingView:null,boName:"Leads",boNamespace:"com.sap.sbo",basicSettings:[{settingId:"information",settingDisplayName:"app/settings/PLURAL_SORCE",description:"app/settings/LEAD_SOURCES_DESC",settingView:null,removable:!0,ignoredViewProps:["sort","sequenceNo"],ignoredCreationProps:["sort","sequenceNo"],ignoredEditionProps:["sort","sequenceNo"],boName:"SalesOpportunitySourceSetup",boNamespace:"com.sap.sbo"},{settingId:"reason",settingDisplayName:"app/settings/PLURAL_REASON",description:"app/settings/LEAD_REASONS_DESC",settingView:null,removable:!0,ignoredViewProps:["sort","sequenceNo"],ignoredCreationProps:["sort","sequenceNo"],ignoredEditionProps:["sort","sequenceNo"],boName:"SalesOpportunityReasonSetup",boNamespace:"com.sap.sbo"}]},opportunity:{settingTitle:"app/settings/OPPO_TITLE",settingView:null,boName:"SalesOpportunity",boNamespace:"com.sap.sbo",basicSettings:[{settingId:"stage",settingDisplayName:"app/settings/PLURAL_STAGE",description:"app/settings/OPPO__STAGES_DESC",settingView:null,removable:!1,boName:"SalesStage",boNamespace:"com.sap.sbo"},{settingId:"information",settingDisplayName:"app/settings/PLURAL_SORCE",description:"app/settings/OPPO_SOURCES_DESC",settingView:null,removable:!0,ignoredViewProps:["sort","sequenceNo"],ignoredCreationProps:["sort","sequenceNo"],ignoredEditionProps:["sort","sequenceNo"],boName:"SalesOpportunitySourceSetup",boNamespace:"com.sap.sbo"},{settingId:"reason",settingDisplayName:"app/settings/PLURAL_REASON",description:"app/settings/OPPO_REASONS_DESC",settingView:null,removable:!0,ignoredViewProps:["sort","sequenceNo"],ignoredCreationProps:["sort","sequenceNo"],ignoredEditionProps:["sort","sequenceNo"],boName:"SalesOpportunityReasonSetup",boNamespace:"com.sap.sbo"}]},quotation:{settingTitle:"app/settings/QUOT_TITLE",settingView:null,boName:"Quotation",boNamespace:"com.sap.sbo",basicSettings:[{settingId:"quotationApproval",settingDisplayName:"app/settings/PLURAL_APPR",description:"app/settings/QUOT_APPR_DESC",settingView:"sap.sbo.page.pad.settings.ApprovalSettingsView",removable:!0,boName:"ApprovalSetting",boNamespace:"com.sap.sbo"}]},order:{settingTitle:"app/settings/ORDERS_TITLE",settingView:null,boName:"Order",boNamespace:"com.sap.sbo",basicSettings:[{settingId:"vatGroups",settingDisplayName:"app/settings/PLURAL_VATGROUP",description:"app/settings/ORDER_TAXES_DESC",settingView:null,removable:!0,boName:"VatGroups",boNamespace:"com.sap.sbo"},{settingId:"orderApproval",settingDisplayName:"app/settings/PLURAL_APPR",description:"app/settings/ORDER_APPR_DESC",settingView:"sap.sbo.page.pad.settings.ApprovalSettingsView",removable:!0,boName:"ApprovalSetting",boNamespace:"com.sap.sbo"}]},product:{settingTitle:"app/settings/PRODUCTS_TITLE",settingView:null,boName:"Item",boNamespace:"com.sap.sbo",basicSettings:[{settingId:"priceList",settingDisplayName:"app/settings/PLURAL_PRICE",description:"app/settings/PRICE_DESC",settingView:"sap.sbo.page.pad.settings.PriceListView",removable:!0,boName:"PriceList",boNamespace:"com.sap.sbo"},{settingId:"manufacturers",settingDisplayName:"app/settings/PLURAL_MANU",description:"app/settings/MANU_DESC",settingView:null,removable:!0,ignoredCreationProps:["code"],ignoredEditionProps:["code"],ignoredViewProps:["code"],boName:"Manufacturers",boNamespace:"com.sap.sbo"},{settingId:"productGroup",settingDisplayName:"app/settings/PLURAL_PRODGROP",description:"app/settings/PRODGROP_DESC",settingView:null,removable:!0,ignoredCreationProps:["number"],ignoredEditionProps:["number"],ignoredViewProps:["number"],boName:"ItemGroup",boNamespace:"com.sap.sbo"},{settingId:"shippingType",settingDisplayName:"app/settings/PLURAL_SHIPTYPE",description:"app/settings/SHIPTYPE_DESC",settingView:null,removable:!0,ignoredCreationProps:["code"],ignoredEditionProps:["code"],ignoredViewProps:["code"],boName:"ShippingType",boNamespace:"com.sap.sbo"}]},customer:{settingTitle:"app/settings/CUSTOMERS_TITLE",settingView:null,boName:"BusinessPartner",boNamespace:"com.sap.sbo",basicSettings:[{settingId:"industry",settingDisplayName:"app/settings/PLURAL_INDUSTRY",description:"app/settings/INDUSTRY_DESC",settingView:null,removable:!0,ignoredCreationProps:["industryCode"],ignoredEditionProps:["industryCode"],ignoredViewProps:["industryCode"],boName:"Industry",boNamespace:"com.sap.sbo"},{settingId:"customerGroup",settingDisplayName:"app/settings/PLURAL_CUSTGROP",description:"app/settings/CUSTGROP_DESC",settingView:null,removable:!0,ignoredCreationProps:["code"],ignoredEditionProps:["code"],ignoredViewProps:["code"],boName:"BusinessPartnerGroup",boNamespace:"com.sap.sbo"}]},contact:{settingTitle:"app/settings/CONTACTS_TITLE",settingView:null,boName:"ContactPerson",boNamespace:"com.sap.sbo",basicSettings:[]},user:{settingView:"sap.sbo.page.pad.user.UserList",boName:"UserEmployee",boNamespace:"com.sap.sbo",basicSettings:[]},decimalSetting:{settingView:"sap.sbo.page.pad.settings.DecimalSettings",boName:null,boNamespace:null,basicSettings:[]},companyProfileSetting:{settingView:"sap.sbo.page.pad.settings.CompanyProfile",boName:null,boNamespace:null,basicSettings:[]},dataOwnerSetting:{settingView:"sap.sbo.page.pad.settings.DOConfigSettings",boName:null,boNamespace:null,basicSettings:[]},importData:{settingView:"sap.sbo.page.pad.extention.MassDataImport",boName:null,boNamespace:null,basicSettings:[]},ExportData:{settingView:"sap.sbo.page.pad.extention.MassDataExportTemplate",boName:null,boNamespace:null,basicSettings:[]},ExportTemplate:{settingView:"sap.sbo.page.pad.extention.MassDataExportTemplate",boName:null,boNamespace:null,basicSettings:[]}}}),define("html!sap.sbo.index",function(){return'<div class="sap-sbo-index">\r\n  <div class="mainViewRegion" data-sap-widget="sap.ui.widget.ViewRegion" data-sap-option="region:\'sfa-sbo-index\',maxViewCount:1"></div>\r\n</div>\r\n'}),define("html!sap.sbo.layout.BaseMetadataLayout",function(){return'<div data-sap-template="editor" class="sbo-metadata-layout-property-editor">\r\n  <div class="sbo-metadata-layout-property-editor-mask">\r\n  </div>\r\n  <span class="field-title">{{$label}}</span>\r\n  <div data-sap-template="icons" class="sbo-metadata-layout-property-action">\r\n    <div gl-action="addField"></div>\r\n    <div gl-action="removeField"></div>\r\n    <div gl-action="editField"></div>\r\n  </div>\r\n</div>\r\n\r\n<div data-sap-template="addField" class="sbo-metadata-layout-property-add">\r\n  <span>{{i18n@common/META_ADD_FIELD}}</span>\r\n</div>\r\n\r\n\r\n'}),define("html!sap.sbo.chooseList.phone.ChooseListAddress",function(){return'<div class="choose-list address">\r\n	<div data-sap-template="Item" >\r\n            <div class="id">{{addressType, formatter.addressType}}</div>\r\n            <div class="desc">{{addressName}}&nbsp;</div>\r\n	</div>\r\n</div>\r\n<!--\r\nvim:ts=2 sw=2 noexpandtab\r\n-->\r\n'}),define("html!sap.sbo.chooseList.phone.ChooseListContact",function(){return'<div class="choose-list contact">\r\n	<div data-sap-template="Item" >\r\n	        <div class="id"> {{position}}&nbsp; </div>\r\n			<div class="desc"> {{displayName}} </div>\r\n	</div>\r\n</div>\r\n<!--\r\nvim:ts=2 sw=2 noexpandtab\r\n-->\r\n'}),define("html!sap.sbo.chooseList.phone.ChooseListCustomer",function(){return'<div class="choose-list customer">\r\n	<div data-sap-template="Item" >\r\n			<div class="id"> {{cardCode}} </div>\r\n			<div class="desc"> {{cardName}}&nbsp; </div>\r\n	</div>\r\n</div>\r\n<!--\r\nvim:ts=2 sw=2 noexpandtab\r\n-->\r\n'}),define("html!sap.sbo.chooseList.phone.ChooseListCustomerGroup",function(){return'<div class="choose-list customerGroup">\r\n	<div data-sap-template="Item" >\r\n            <div class="desc"> {{name}} </div>            \r\n	</div>\r\n</div>\r\n<!--\r\nvim:ts=2 sw=2 noexpandtab\r\n-->\r\n'}),define("html!sap.sbo.chooseList.phone.ChooseListEmployee",function(){return'<div class="choose-list employee">\r\n	<div data-sap-template="Item" >\r\n		<!--  	<div class="id"> {{employeeID}} </div>-->\r\n			<div class="desc"> {{displayName}} </div>\r\n	</div>\r\n</div>\r\n<!--\r\nvim:ts=2 sw=2 noexpandtab\r\n-->\r\n'}),define("html!sap.sbo.chooseList.phone.ChooseListIndustry",function(){return'<div class="choose-list industry">\r\n	<div data-sap-template="Item" >\r\n	        <div class="id"> {{industryName}} </div>\r\n            <div class="desc"> {{industryDescription}}&nbsp; </div>\r\n	</div>\r\n</div>\r\n<!--\r\nvim:ts=2 sw=2 noexpandtab\r\n-->\r\n'}),define("html!sap.sbo.chooseList.phone.ChooseListItemGroup",function(){return'<div class="choose-list itemGroup">\r\n	<div data-sap-template="Item" >\r\n            <div class="desc"> {{groupName}} </div>\r\n	</div>\r\n</div>\r\n<!--\r\nvim:ts=2 sw=2 noexpandtab\r\n-->\r\n'}),define("html!sap.sbo.chooseList.phone.ChooseListLead",function(){return'<div class="choose-list">\r\n	<div data-sap-template="Item" >\r\n            <div class="id">{{id}}</div>\r\n            <div class="desc">{{description}}</div>\r\n	</div>\r\n</div>\r\n<!--\r\nvim:ts=2 sw=2 noexpandtab\r\n-->\r\n'}),define("html!sap.sbo.chooseList.phone.ChooseListManufacturer",function(){return'<div class="choose-list manufacturer">\r\n	<div data-sap-template="Item" >\r\n            <div class="desc"> {{manufacturerName}} </div>\r\n	</div>\r\n</div>\r\n<!--\r\nvim:ts=2 sw=2 noexpandtab\r\n-->\r\n'}),define("html!sap.sbo.chooseList.phone.ChooseListOpportunity",function(){return'<div class="choose-list">\r\n	<div data-sap-template="Item" >\r\n            <div class="id">{{cardCode}}</div>\r\n            <div class="desc">{{opportunityName}}</div>\r\n	</div>\r\n</div>\r\n<!--\r\nvim:ts=2 sw=2 noexpandtab\r\n-->\r\n'}),define("html!sap.sbo.chooseList.phone.ChooseListOrder",function(){return'<div class="choose-list">\r\n	<div data-sap-template="Item" >\r\n            <div class="id">{{docEntry}}</div>\r\n            <div class="desc">{{cardCode}}</div>\r\n	</div>\r\n</div>\r\n<!--\r\nvim:ts=2 sw=2 noexpandtab\r\n-->\r\n'}),define("html!sap.sbo.chooseList.phone.ChooseListProduct",function(){return'<div class="choose-list product">\r\n	<div data-sap-template="Item" >\r\n			<div class="id"> {{itemCode}} </div>\r\n			<div class="desc"> {{itemName}}&nbsp; </div>\r\n	</div>\r\n</div>\r\n<!--\r\nvim:ts=2 sw=2 noexpandtab\r\n-->\r\n'}),define("html!sap.sbo.chooseList.phone.ChooseListQuotation",function(){return'<div class="choose-list">\r\n	<div data-sap-template="Item" >\r\n            <div class="id">{{docEntry}}</div>\r\n            <div class="desc">{{cardCode}}</div>\r\n	</div>\r\n</div>\r\n<!--\r\nvim:ts=2 sw=2 noexpandtab\r\n-->\r\n'}),define("html!sap.sbo.chooseList.phone.ChooseListReason",function(){return'<div class="choose-list reason">\r\n	<div data-sap-template="Item" >\r\n			<div class="id"> {{sequenceNo}} </div>\r\n			<div class="desc"> {{description}} </div>\r\n	</div>\r\n</div>'}),define("html!sap.sbo.chooseList.phone.ChooseListSource",function(){return'<div class="choose-list source">\r\n	<div data-sap-template="Item" >\r\n			<div class="id"> {{sequenceNo}} </div>\r\n			<div class="desc"> {{description}} </div>\r\n	</div>\r\n</div>'}),define("html!sap.sbo.chooseList.pad.ChooseListAddress",function(){return'<div class="choose-list address">\r\n	<div data-sap-template="Item" >\r\n            <div class="id">{{addressType, formatter.getAddressType}}</div>\r\n            <div class="desc">{{addressName}}&nbsp;</div>\r\n	</div>\r\n</div>\r\n<!--\r\nvim:ts=2 sw=2 noexpandtab\r\n-->\r\n'}),define("html!sap.sbo.chooseList.pad.ChooseListCompetitor",function(){return'<div class="choose-list customer">\r\n	<div data-sap-template="Item" >\r\n			<div class="id"> {{sequenceNo}} </div>\r\n			<div class="desc"> {{name}} </div>\r\n	</div>\r\n</div>\r\n<!--\r\nvim:ts=2 sw=2 noexpandtab\r\n-->\r\n'}),define("html!sap.sbo.chooseList.pad.ChooseListContact",function(){return'<div class="choose-list contact">\r\n	<div data-sap-template="Item" >\r\n            <div class="id"> {{position}}&nbsp; </div>\r\n            <div class="desc"> {{displayName}} </div>\r\n	</div>\r\n</div>\r\n<!--\r\nvim:ts=2 sw=2 noexpandtab\r\n-->\r\n'}),define("html!sap.sbo.chooseList.pad.ChooseListCustomer",function(){return'<div class="choose-list customer">\r\n	<div data-sap-template="Item" >\r\n			<div class="id">{{cardCode}}</div>\r\n			<div class="desc">{{cardName}}</div>\r\n	</div>\r\n</div>'}),define("html!sap.sbo.chooseList.pad.ChooseListCustomerGroup",function(){return'<div class="choose-list customerGroup">\r\n	<div data-sap-template="Item" >\r\n            <div class="desc"> {{name}} </div>            \r\n	</div>\r\n</div>\r\n<!--\r\nvim:ts=2 sw=2 noexpandtab\r\n-->\r\n'}),define("html!sap.sbo.chooseList.pad.ChooseListEmployee",function(){return'<div class="choose-list employee">\r\n	<div data-sap-template="Item" >\r\n			<div class="id"> {{employeeID}} </div>\r\n			<div class="desc"> {{displayName}} </div>\r\n	</div>\r\n</div>\r\n<!--\r\nvim:ts=2 sw=2 noexpandtab\r\n-->\r\n'}),define("html!sap.sbo.chooseList.pad.ChooseListIndustry",function(){return'<div class="choose-list industry">\r\n	<div data-sap-template="Item" >\r\n	        <div class="id"> {{industryName}} </div>\r\n            <div class="desc"> {{industryDescription}}&nbsp; </div>\r\n	</div>\r\n</div>\r\n<!--\r\nvim:ts=2 sw=2 noexpandtab\r\n-->\r\n'}),define("html!sap.sbo.chooseList.pad.ChooseListItemGroup",function(){return'<div class="choose-list itemGroup">\r\n	<div data-sap-template="Item" >\r\n            <div class="desc"> {{groupName}} </div>\r\n	</div>\r\n</div>\r\n<!--\r\nvim:ts=2 sw=2 noexpandtab\r\n-->\r\n'}),define("html!sap.sbo.chooseList.pad.ChooseListLeads",function(){return'<div class="choose-list">\r\n	<div data-sap-template="Item" >\r\n			<div class="id">{{id}}</div>\r\n			<div class="desc">{{description}}</div>\r\n	</div>\r\n</div>'}),define("html!sap.sbo.chooseList.pad.ChooseListManager",function(){return'<div class="choose-list-manager">\r\n	<div data-sap-template="Item" >\r\n			<div class="id"> {{employeeId}} </div>\r\n			<div class="name"> {{firstName}} {{lastName}} </div>\r\n	</div>\r\n</div>'}),define("html!sap.sbo.chooseList.pad.ChooseListManufacturer",function(){return'<div class="choose-list manufacturer">\r\n	<div data-sap-template="Item" >\r\n            <div class="desc"> {{manufacturerName}} </div>\r\n	</div>\r\n</div>\r\n<!--\r\nvim:ts=2 sw=2 noexpandtab\r\n-->\r\n'}),define("html!sap.sbo.chooseList.pad.ChooseListOpportunity",function(){return'<div class="choose-list">\r\n	<div data-sap-template="Item" >\r\n			<div class="id">{{cardCode}}</div>\r\n			<div class="desc">{{opportunityName}}</div>\r\n	</div>\r\n</div>'}),define("html!sap.sbo.chooseList.pad.ChooseListOrder",function(){return'<div class="choose-list">\r\n	<div data-sap-template="Item" >\r\n			<div class="id">{{docEntry}}</div>\r\n			<div class="desc">{{cardCode}}</div>\r\n	</div>\r\n</div>'}),define("html!sap.sbo.chooseList.pad.ChooseListProduct",function(){return'<div class="choose-list product">\r\n	<div data-sap-template="Item" >\r\n			<div class="id"> {{itemCode}} </div>\r\n			<div class="desc"> {{itemName}} </div>\r\n	</div>\r\n</div>\r\n<!--\r\nvim:ts=2 sw=2 noexpandtab\r\n-->\r\n'}),define("html!sap.sbo.chooseList.pad.ChooseListQuotation",function(){return'<div class="choose-list">\r\n	<div data-sap-template="Item" >\r\n			<div class="id">{{docEntry}}</div>\r\n			 <div class="desc">{{cardCode}}</div>      \r\n	</div>\r\n</div>'}),define("html!sap.sbo.chooseList.pad.ChooseListReason",function(){return'<div class="choose-list customer">\r\n	<div data-sap-template="Item" >\r\n			<div class="id"> {{sequenceNo}} </div>\r\n			<div class="desc"> {{description}} </div>\r\n	</div>\r\n</div>\r\n<!--\r\nvim:ts=2 sw=2 noexpandtab\r\n-->\r\n'}),define("html!sap.sbo.chooseList.pad.ChooseListSource",function(){return'<div class="choose-list customer">\r\n	<div data-sap-template="Item" >\r\n			<div class="id"> {{sequenceNo}} </div>\r\n			<div class="desc"> {{description}} </div>\r\n	</div>\r\n</div>\r\n<!--\r\nvim:ts=2 sw=2 noexpandtab\r\n-->\r\n'}),define("html!sap.sbo.chooseList.pad.ChooseListTargetGroup",function(){return'<div class="choose-list customer">\r\n	<div data-sap-template="Item" >\r\n			<div class="id"> {{targetGroupCode}} </div>\r\n			<div class="desc"> {{targetGroupName}} </div>\r\n	</div>\r\n</div>\r\n<!--\r\nvim:ts=2 sw=2 noexpandtab\r\n-->\r\n'}),define("html!sap.sbo.app.about.About",function(){return'<div data-id="sbo-about" data-error="{{error}}">\r\n	<div data-id="error"> \r\n		<div class="title">Error happend: </div>\r\n		<span class="errorMessage">{{data/errorMessage}}</span>\r\n	</div>\r\n	<div data-id="buildInfo">\r\n		<span class="title"> Build info: </span>\r\n		<table>\r\n			<thead>\r\n				<tr>\r\n					<th>Project Id</th>\r\n					<th>Last Changelist Id</th>\r\n					<th>Last Submitter</th>\r\n					<th>Build Number</th>\r\n					<th>Description</th>\r\n					<th>Timestamp</th>\r\n					<th>Build Server IP</th>\r\n					<th>Build Server Name</th>\r\n					<th>Builder Name</th>\r\n				</tr>\r\n			</thead>\r\n			<tbody data-sap-widget="sap.sbo.ui.Loop" data-sap-option=\'data: {{data/buildInfo}}\'>\r\n				<tr data-sap-template="tr">\r\n					<td>{{loop@data/projectId}}</td>\r\n					<td>{{loop@data/changelistId}}</td>\r\n					<td>{{loop@data/submitter}}</td>\r\n					<td><a href={{loop@data/buildUrl}} target="_blank">{{loop@data/buildNumber}}</a></td>\r\n					<td class="desc" title="{{loop@data/description}}"><div>{{loop@data/description}}</div></td>\r\n					<td>{{loop@data/timestamp}}</td>\r\n					<td>{{loop@data/buildServerIp}}</td>\r\n					<td>{{loop@data/computerName}}</td>\r\n					<td>{{loop@data/builderName}}</td>\r\n				</tr>\r\n			</tbody>\r\n		</table>\r\n	</div>\r\n</div>\r\n\r\n<!-- \r\nvim:ts=2 sw=2 noexpandtab\r\n-->\r\n\r\n\r\n'}),define("html!sap.sbo.app.BOProfile.ProfileDetails",function(){return'<div data-sbo-class="profile-details-block">\r\n	<div data-sbo-class="column">\r\n	   <div data-sbo-class="avatar-button-container">\r\n	      <div button-show={{bShow}} class="btn Replace">{{i18n@common/REPLACE}}</div>\r\n          <div button-show={{bShow}} class="btn OK">{{i18n@common/CLOSE}}</div>\r\n        </div>\r\n		<div data-sbo-class="avatar-container">\r\n			<img src="{{imageSource}}" data-sbo-class="avatar"/>\r\n		</div>\r\n	</div> \r\n</div>\r\n'}),define("html!sap.sbo.app.Campaign.CampaignTile",function(){return'<div class="sbo-bo-tile sbo-bo-tile-{{count}} sbo-Campaign-tile campaign">\r\n    <div class="title">{{i18n@common/CAMPAIGN_NAME}}</div>\r\n    <div class="number"><div class="value">{{count, sap.sbo.util.formatter.circleNumber_more}}</div></div>\r\n</div>'}),define("html!sap.sbo.app.colleague.ColleagueTile",function(){return'<div class="sbo-bo-tile sbo-bo-tile-{{count}} sbo-colleague-tile colleague">\r\n    <div class="title">Colleagues</div>\r\n    <div class="body">\r\n    	<div class="number"><div class="value">{{count, sap.sbo.util.formatter.circleNumber_more}}</div></div>\r\n    </div>\r\n</div>'}),define("html!sap.sbo.app.Contact.ContactTile",function(){return'<div class="sbo-bo-tile sbo-bo-tile-{{count}} sbo-Contact-tile contact">\r\n    <div class="title">{{i18n@common/CONTACT_NAME}}</div>\r\n    <div class="number"><div class="value">{{count, sap.sbo.util.formatter.circleNumber_more}}</div></div>\r\n</div>'}),define("html!sap.sbo.app.Customer.CustomerTile",function(){return'<div class="sbo-bo-tile sbo-bo-tile-{{count}} sbo-customer-tile customer">\r\n    <div class="title">{{i18n@common/CUSTOMER_NAME}}</div>\r\n    <div class="number"><div class="value">{{count, sap.sbo.util.formatter.circleNumber_more}}</div></div>\r\n</div>'}),define("html!sap.sbo.app.dashboard.ConfigView",function(){return'<div class="boardpanel dashboard-configview">\r\n  <div class="left" >\r\n    <div data-sap-widget="sap.sbo.ui.widget.GroupableListView" data-sap-command="dashboardConfigViewModel@GuilinControlEvent.change:changeMeasures" data-sap-option="data:{{dashboardConfigViewModel@measures,two-way}}" data-sap-command="">\r\n      <div data-sap-template="ListContent" >\r\n        <div class="" data-sap-widget="sap.ui.widget.Checkbox"  data-sap-option="text:{{data/name}},checked:{{data/selected,two-way}}"></div>\r\n      </div>\r\n</div>\r\n  </div>\r\n  <div class="bottom">\r\n    <div data-sap-widget="sap.sbo.ui.widget.GroupableListView" data-sap-command="dashboardConfigViewModel@GuilinControlEvent.change:changeDimensions" data-sap-option="data:{{dashboardConfigViewModel@dimensions,two-way}}" data-sap-command="">\r\n      <div data-sap-template="ListContent">\r\n        <div class="" data-sap-widget="sap.ui.widget.Checkbox" data-sap-option="text:{{data/name}},checked:{{data/selected,two-way}}"></div>\r\n      </div>\r\n</div>\r\n  </div>\r\n  <div class="chartContent" style="background: rgb(255, 255, 255);">\r\n    <div data-sap-widget="sap.sbo.ui.widget.ChartView" data-sap-option="chartType:{{dashboardConfigViewModel@chartType}},dimensions:{{dashboardConfigViewModel@dimensionsString}},measures:{{dashboardConfigViewModel@measuresString}},headers:{{dashboardConfigViewModel@dataHeaders}},datas:{{dashboardConfigViewModel@queryDatas}}"></div>\r\n  </div>\r\n  <div class="chartType" data-sap-widget="sap.ui.widget.DropDownBox" data-sap-option="data:{{dashboardConfigViewModel@chartList}},selectedValue:{{dashboardConfigViewModel@chartType,two-way}},textField:\'name\',valueField:\'name\'"></div>\r\n  <div class="goto" data-sap-command="dashboardConfigViewModel@vclick:gotoQueryView">BACK</div>\r\n</div>\r\n'}),define("html!sap.sbo.app.dashboard.DashboardPanel",function(){return"<div class=\"dashboardcontainer\">\r\n<div data-sap-widget=\"sap.ui.widget.ViewRegion\" data-sap-option=\"region:'dashboardpanelregion',defaultView:['sap.sbo.app.dashboard.QueryView','sap.sbo.app.dashboard.ConfigView'],actionPlugin:'sap.sbo.app.dashboard.PanelActionPlugin'\"></div>\r\n</div>\r\n"}),define("html!sap.sbo.app.dashboard.home",function(){return'<div class="sap-sbo-dashboard-home">\r\n  <div data-sap-widget="sap.sbo.app.dashboard.DashboardPanel"></div>\r\n</div>\r\n'}),define("html!sap.sbo.app.dashboard.QueryView",function(){return'<div class="boardpanel dashboard-queryview">\r\n  <div class="left">\r\n    <div data-sap-widget="sap.sbo.ui.widget.GroupableListView" data-sap-option="data:{{groups}}" data-sap-command="pickData:chooseQuery"></div>\r\n  </div>\r\n  <div class="right">\r\n    <div class="goto gotohidden" data-sap-command="vclick:gotoChartConfig">NEXT   ></div>\r\n    <div class="queryTitle">{{title}}</div>\r\n    <div class="dataContent">\r\n      <div class="dragContent">\r\n        <div class="headerSection"></div>\r\n        <div class="queryTable">\r\n          <div class="tablecontent">\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n'}),define("html!sap.sbo.app.Leads.LeadsTile",function(){return'<div class="sbo-bo-tile sbo-bo-tile-{{count}} sbo-Leads-tile lead">\r\n    <div class="title">{{i18n@app/lead/LEADS}}</div>\r\n    <div class="number"><div class="value">{{count, sap.sbo.util.formatter.circleNumber_more}}</div></div>\r\n</div>'}),define("html!sap.sbo.app.home.PortraitTile",function(){return'<div class="sbo-app-home-portrait-tile">\r\n    <div style="position: absolute; height: 100%; width: 100%; text-align: center;">\r\n      <div style="back"></div>\r\n      <div id="user-picture" data-sap-widget="sap.ui.widget.Photo" data-sap-option="src:{{imageSource}},arrangeType:\'widthFit\'"></div>\r\n    <!--	<img id="user-picture" src="{{imageSource}}" style="width:100%"> -->\r\n    </div>\r\n</div>\r\n'}),define("html!sap.sbo.app.home.ProfileDetails",function(){return'<div data-sbo-class="profile-details-block">\r\n	<div data-sbo-class="column">\r\n		<div data-sbo-class="avatar-container">\r\n			<img src="{{imageSource}}" data-sbo-class="avatar"/>\r\n		</div>\r\n		<div data-sbo-class="avatar-button-container">\r\n		</div>\r\n	</div>\r\n	<div data-sbo-class="column">\r\n		<div data-sbo-class="field">{{salesEmployeeName}} {{employeeID}}</div>\r\n		<h1>{{firstName}} {{lastName}}</h1>\r\n		<div data-sbo-class="field">{{jobTitle}}</div>\r\n		<div data-sbo-class="fieldtitle">{{i18n@common/MOBILE_PHONE}}</div>\r\n		<div data-sbo-class="field">{{mobilePhone}}</div>\r\n		<div data-sbo-class="fieldtitle">{{i18n@common/EMAIL}}</div>\r\n		<div data-sbo-class="field">{{eMail}}</div>\r\n		<div data-sbo-class="fieldtitle">{{i18n@common/OFFICE_PHONE}}</div>\r\n		<div data-sbo-class="field">{{officePhone}}</div>\r\n	</div>\r\n</div>\r\n'
}),define("html!sap.sbo.app.notepage.NotePageTile",function(){return'<div>\r\n	<div class="sbo-bo-tile sbo-bo-tile-{{count}} sbo-note-tile memo" mode-class=\'PadMemoSmall\'>\r\n		<div class="title">{{title}}</div>\r\n		<div class="number"><div class="value">{{count, sap.sbo.util.formatter.circleNumber_more}}</div></div>\r\n		<!--\r\n		  <div data-sbo-class="count" >\r\n			  <div class="label">{{i18n@app/memo/LASTUPDATE}}</div>\r\n			  <div class="label">{{dateLastEdit,sap.sbo.page.common.notepage.NotePageUtil.showLocalDateTime}}</div> \r\n		  </div>\r\n		-->\r\n	</div>\r\n	<div class="sbo-bo-tile sbo-bo-tile-{{count}} sbo-note-tile memo" mode-class=\'PhoneMemoSmall\'>\r\n		<div class="title">{{title}}</div>\r\n		<div class="number"><div class="value">{{count, sap.sbo.util.formatter.circleNumber_more}}</div></div>\r\n	</div>\r\n	\r\n	<div class="sbo-bo-tile sbo-bo-tile-{{count}} memo" mode-class=\'PhoneMemoShowDetails\' style = "display:none">\r\n\r\n		<div class="title">{{title}}</div>\r\n		<div class="number" style = "margin:15px 20px;width:70px;"><div class="value"style = "left:20px;">{{count, sap.sbo.util.formatter.circleNumber_more}}</div></div>\r\n			<div data-sfa-class="notePagePhone22-list">\r\n			  <div data-sfa-class="container" ctrl="listView" data-sap-widget="sap.ui.Repeat" data-sap-option="data:{{details,two-way}}">	\r\n					<div data-sap-template="Content" data-sfa-class="tile" data-sfa-tile-id="{{id}}" style = "height:100%;">\r\n						<div data-sfa-class="memocontent" memotype={{,sap.sbo.page.common.notepage.NotePageUtil.getMemoTypePhone}}>\r\n								<div  data-sfa-class="fileicon"> \r\n								    <div data-sfa-class="icon" data-sap-widget = \'sap.ui.widget.Icon\' data-sap-option = "iconURL:{{,sap.sbo.page.common.notepage.NotePageUtil.tilePreviewUrl}}"></div>\r\n								</div>\r\n								<ul class = "fileinfo" style=" list-style:none;">\r\n										<li>{{attachmentFileName}}</li>\r\n										<li>{{attachmentFileSize,sap.sbo.page.common.notepage.NotePageUtil.convertFileSize}}</li>\r\n										<li>{{attachmentUpdateDate,sap.sbo.page.common.notepage.NotePageUtil.getLocalDateFromUTC}}</li>\r\n								</ul>\r\n								<div  data-sfa-class="textcontent">{{,sap.sbo.page.common.notepage.NotePageUtil.getShortDesc}}</div>\r\n								<div data-sfa-class="thumbnails" data-sap-widget = \'sap.ui.widget.Icon\' data-sap-option = "iconURL:{{,sap.sbo.page.common.notepage.NotePageUtil.tilePreviewUrl}}"></div>\r\n								</div>\r\n					</div>\r\n			 </div>\r\n		  </div>\r\n		  <div class="notepage-empty-container22" style = "display:none"><a class="notepage-add-icon icon"></a><div class = "notepage-empty-text des">{{i18n@app/memo/EMPTYINFO6}}</div></div> \r\n	      </div>\r\n	\r\n	   <div class="sbo-bo-tile sbo-bo-tile-{{count}} memo" mode-class=\'PadMemoShowDetails\' style = "display:none">\r\n            <div class="sbo-bo-tile sbo-bo-tile-{{count}} sbo-note-tile memo" >\r\n			        <div class="title">{{title}}</div>\r\n			        <div class="number"><div class="value">{{count, sap.sbo.util.formatter.circleNumber_more}}</div></div>\r\n            </div>\r\n            <div data-sfa-class="notePagePad24-list">\r\n              <div data-sfa-class="container" ctrl="listView" data-sap-widget="sap.ui.Repeat" data-sap-option="data:{{details,two-way}}">   \r\n                    <div data-sap-template="Content" data-sfa-class="tile" data-sfa-tile-id="{{id}}">\r\n                        <div data-sfa-class="memocontent" memotype={{,sap.sbo.page.common.notepage.NotePageUtil.getMemoTypePhone}}>\r\n                                <div  data-sfa-class="fileicon"> \r\n                                    <div data-sfa-class="icon" data-sap-widget = \'sap.ui.widget.Icon\' data-sap-option = "iconURL:{{,sap.sbo.page.common.notepage.NotePageUtil.tilePreviewUrl}}"></div>\r\n                                </div>\r\n                                <ul class = "fileinfo" style=" list-style:none;">\r\n                                        <li>{{attachmentFileName}}</li>\r\n                                        <li>{{attachmentFileSize,sap.sbo.page.common.notepage.NotePageUtil.convertFileSize}}</li>\r\n                                        <li>{{attachmentUpdateDate,sap.sbo.page.common.notepage.NotePageUtil.getLocalDateFromUTC}}</li>\r\n                                </ul>\r\n                                <div  data-sfa-class="textcontent">{{,sap.sbo.page.common.notepage.NotePageUtil.getShortDesc}}</div>\r\n                                <div data-sfa-class="thumbnails" data-sap-widget = \'sap.ui.widget.Icon\' data-sap-option = "iconURL:{{,sap.sbo.page.common.notepage.NotePageUtil.tilePreviewUrl}}"></div>\r\n                                </div>\r\n                    </div>\r\n             </div>\r\n          </div>\r\n          <div class="notepage-empty-container24" style = "display:none"><a class="notepage-add-icon"></a><div class = "notepage-empty-text">{{i18n@app/memo/EMPTYINFO6}}</div></div> \r\n          </div>\r\n </div>\r\n	\r\n'}),define("html!sap.sbo.app.Product.ProductTile",function(){return'<div class="sbo-bo-tile sbo-bo-tile-{{count}} sbo-product-tile product">\r\n    <div class="title">{{i18n@common/PRODUCT_NAME}}</div>\r\n    <div class="number"><div class="value">{{count, sap.sbo.util.formatter.circleNumber_more}}</div></div>\r\n</div>'}),define("html!sap.sbo.app.queryDesigner.FieldColumn",function(){return'\r\n<div data-id="bo-query-designer-field-column">\r\n\r\n	<div class="header">\r\n		<div class="detail">\r\n			<div class="field">\r\n        <div class="row">\r\n				  <input type="text" title="{{loop@data/displayLabel}}" class="label" data-sap-widget=\'sap.ui.widget.TextField\'\r\n				         data-sap-option="value: {{loop@data/displayLabel, two-way}}"/>\r\n				  <div class="icon sort {{loop@data/sortType}}" data-sap-widget="sap.sbo.ui.widget.MultiStateIcon"\r\n					     data-sap-option=\'states:{{meta@sortMeta}}, currentState:{{loop@data/sortType, two-way}}\'></div>\r\n        </div>\r\n        <div class="row">\r\n          <div class="aggregateion select {{meta@halflayout}}" data-sap-widget="sap.ui.widget.DropDownBox" data-sap-option=\'data:{{meta@aggregationMeta}},textField:"name",valueField:"name",selectedValue:{{loop@data/aggregationType,two-way}}\'></div>\r\n\r\n          <div class=" date select {{meta@dateclass}} {{meta@halflayout}}" data-sap-widget="sap.ui.widget.DropDownBox" data-sap-option=\'data:{{meta@dateFormatMeta}},textField:"name",selectedValue:{{loop@data/dateFormatType,two-way}},valueField:"name"\'></div>\r\n			  </div>\r\n        <div class="row">\r\n          <div class="filtercontainer" data-sap-widget="sap.sbo.ui.widget.MultiStateContent" data-sap-option="currentState:{{meta@filterState}}">\r\n            <div class="newfilter filterpanel">\r\n              <div class="newfiltercontent">ADD FILTER</div>\r\n            </div>\r\n            <div class=" filterpanel">\r\n              <div class=" filtergroup filteritemcount-{{meta@filtercount}}">\r\n                <div class="groupitem eq">\r\n                  <div class="content">EQ</div>\r\n                </div>\r\n                <div class="groupitem like">\r\n                  <div class="content">CONTAINS</div>\r\n                </div>\r\n                <div class="groupitem in">\r\n                  <div class="content">IN</div>\r\n                </div>\r\n                <div class="groupitem fromto">\r\n                  <div class="content">RANG</div>\r\n                </div>\r\n                <div class="lastgroupitem close">\r\n                  <div class="content">X</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=" filterpanel">\r\n              <div  class=" filtercontent">\r\n                <div class="setting">\r\n                  <div class="eqSetting settingitem">\r\n                    <div class="opt" >=</div>\r\n                    <div class="optContent"><input class="inputtext" data-sap-widget="sap.ui.widget.TextField" data-sap-option="placeHolder:\'input condition\', value:{{meta@filterData/value, two-way}}, liveChange: true"/></div>\r\n                  </div>\r\n                  <div class="likeSetting settingitem"></div>\r\n                  <div class="inSetting"></div>\r\n                  <div class="rangSetting"></div>\r\n                </div>\r\n                <div class="close">X</div>\r\n            </div></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n			<div class="footer">\r\n\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n'}),define("html!sap.sbo.app.queryDesigner.GroupsHome",function(){return'<div class="sap-sbo-queryDesigner-groupshome">\r\n\r\n  <div class="dataContent">\r\n\r\n    <div class="viewtitle">Groups</div>\r\n    <div class="addBar" data-sap-command="vclick:addGroup"></div>\r\n\r\n    <div id="loop" data-sap-widget="sap.sbo.ui.Loop"  data-sap-option="data:{{allGroups}},modelName:\'\'">\r\n      <div class="dataItem hoverable" data-sap-template="Content">\r\n        <div class="leftPanel">\r\n          <div class="title">Name</div>\r\n          <input data-sap-widget="sap.ui.widget.TextField" data-sap-option="value:{{data/name,two-way}},readonly:true" readonly/>\r\n          <div class="title">Description</div>\r\n          <textarea data-sap-widget="sap.ui.widget.TextArea" data-sap-option="value:{{data/description,two-way}},readonly:true" readonly/>\r\n        </div>\r\n        <div class="rightPanel">\r\n          <div class="edit"></div>\r\n          <div class="cancel"></div>\r\n          <div class="ok"></div>\r\n          <div class="del"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n</div>\r\n'}),define("html!sap.sbo.app.queryDesigner.Home",function(){return'<div>\r\n  <div id="bo-query-designer" >\r\n    <div class="sbo-bqd-view" data-sap-widget="sap.ui.View"></div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n'}),define("html!sap.sbo.app.queryDesigner.LeftPanel",function(){return'<div>\r\n	<div id="bo-query-designer-left-panel" >\r\n			<div class="tab" style="display:none"\r\n				data-sap-widget=\'sap.ui.widget.Tab\'\r\n				data-sap-option=\'tabs:["Business Doc","Master data"], itemWidth:100, selected: 0\'></div>\r\n\r\n			<div class="content {{leftPanel@category}}">\r\n				<div class="businessDoc">\r\n					<div class="header">\r\n						<div class="filter">\r\n							<input type="search" data-sap-widget="sap.ui.widget.TextField"\r\n							data-sap-option="type:\'search\', placeHolder:\'search\', value:{{leftPanel@searchTerm, two-way}}, liveChange: true"/>\r\n						</div>\r\n						<div class="toolbar" data-filter-type="{{leftPanel@filterType}}">\r\n							<div class="icon all" title="all" data-type=""></div>\r\n							<div class="icon text" title="text" data-type="text"></div>\r\n							<div class="icon date" title="date" data-type="date"></div>\r\n							<div class="icon currency" title="number" data-type="number"></div>\r\n						</div>\r\n					</div>\r\n					<div class="bocontent">\r\n\r\n						<div class="bo-repeat" data-sap-widget="sap.sbo.ui.Loop" data-sap-option=\'modelName:"",data: {{leftPanel@boData}}\' >\r\n							<div data-sap-template="Content" class="bo fields-num-{{boFilterdFieldLength}} {{category}}">\r\n								<div class="title"> {{data/label}} ({{data/boFilterdFieldLength}}) </div>\r\n								<div class="fields" data-sap-widget="sap.sbo.ui.Loop" data-sap-option=\'modelName:"",data: {{data/properties/value}}\'>\r\n									<div data-sap-template="Content" class="boField">\r\n										<div class="icon {{data/category}}"></div>\r\n										<div class="content">\r\n											<span class="fieldName"></span>\r\n										</div>\r\n									</div>\r\n								</div>\r\n							</div>\r\n						</div>\r\n\r\n					</div>\r\n				</div>\r\n				<!-- <div class="masterData"> Master Data </div> -->\r\n			</div>\r\n	</div>\r\n</div>\r\n\r\n<!--\r\nvim:ts=2 sw=2 noexpandtab\r\n-->\r\n'}),define("html!sap.sbo.app.queryDesigner.Main",function(){return'<div>\r\n	<div id="bo-query-designer-main" >\r\n		<div class="leftContainer">\r\n			<div class="leftPanel" data-sap-widget="sap.ui.View"> </div>\r\n		</div>\r\n		<div class="resize-bar"></div>\r\n		<div class="rightContainer">\r\n			<div class="rightPanel" data-sap-widget="sap.ui.View"> </div>\r\n		</div>\r\n	</div>\r\n</div>\r\n<!-- \r\nvim:ts=2 sw=2 noexpandtab\r\n-->\r\n\r\n'}),define("html!sap.sbo.app.queryDesigner.Open",function(){return'<div class="sap-sbo-querydesigner-open">\r\n  <div class="viewtitle">Choose Query</div>\r\n    <div data-sap-widget="sap.sbo.ui.Loop" data-sap-option="modelName:\'\', data:{{groups}}">\r\n        <div data-sap-template="Content">\r\n          <div class="group">\r\n            <div class="vcenter">\r\n             {{data/name}}\r\n            </div>\r\n          </div>\r\n            <div data-sap-widget="sap.sbo.ui.Loop" data-sap-option="modelName:\'\', data:{{data/queries}}">\r\n                <div data-sap-template="Content">\r\n                    <div class="name">\r\n                      <div class="vcenter">\r\n                      {{data/name}}\r\n                      </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'}),define("html!sap.sbo.app.queryDesigner.RightPanel",function(){return'<div>\r\n	<div id="bo-query-designer-right-panel" >\r\n		<div class="header">\r\n			<div class="fieldsContainer">\r\n				<div class="fields" data-sap-widget="sap.sbo.ui.Loop" data-sap-option=" data: {{ queryBO/properties ,two-way}}">\r\n					<div class="field" data-sap-template="Content">\r\n						<div class="column">\r\n							<div class="header-bar">\r\n								<div class="header">{{loop@data/boLabel}}</div>\r\n								<div class="icon delete"></div>\r\n							</div>\r\n							<div class="content" data-sap-widget="sap.ui.View" data-sap-option=\'name:"sap.sbo.app.queryDesigner.FieldColumn"\'></div>\r\n						</div>\r\n					</div>\r\n          <div class="queryTable">\r\n            <div class="tablecontent">\r\n\r\n            </div>\r\n          </div>\r\n\r\n				</div>\r\n\r\n        <div class="ChartSetting">\r\n          <div class="row">\r\n            <div class="title">Chart Type</div>\r\n            <div class="content">\r\n              <div class="option"  data-sap-widget="sap.ui.widget.DropDownBox" data-sap-option=\'data:{{chartType}},textField:"name",valueField:"name",selectedValue:{{selectedChart,two-way}}\'></div>\r\n            </div>\r\n          </div>\r\n          <div class="row">\r\n            <div class="title">Dimensions</div>\r\n            <div data-sap-widget="sap.sbo.ui.Loop" data-sap-option="  data: {{ dimensions ,two-way}}">\r\n              <div  data-sap-template="Content">\r\n                  <div class="content">\r\n                    <div class="name">{{loop@data/name}}</div>\r\n                    <div class="option"  data-sap-widget="sap.ui.widget.DropDownBox" data-sap-option=\'data:{{dimensionTypes}},textField:"name",valueField:"value",selectedValue:{{loop@data/dimension,two-way}}\'></div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class="row">\r\n              <div class="title">Measures</div>\r\n              <div data-sap-widget="sap.sbo.ui.Loop" data-sap-option="  data: {{ measures ,two-way}}">\r\n                <div  data-sap-template="Content">\r\n                  <div class="content">\r\n\r\n                    <div class="name"  data-sap-widget="sap.ui.widget.Checkbox" data-sap-option=\'text:{{loop@data/name}},checked:{{loop@data/selected,two-way}}\'></div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n<div class="bottom"><div class="ok item">OK</div><div class="cancel item">Cancel</div></div>\r\n          </div>\r\n         <div class="chartview"></div>\r\n      </div>\r\n		</div>\r\n\r\n	</div>\r\n</div>\r\n\r\n<!--\r\n    vim:ts=2 sw=2 noexpandtab\r\n  -->\r\n'}),define("html!sap.sbo.app.queryDesigner.SaveQuery",function(){return'<div class="sap-sbo-querydesigner-savequery">\r\n    <div class="dataContent">\r\n        <div class="title">\r\n\r\n        </div>\r\n        <div class="viewtitle">\r\n          Save Query\r\n        </div>\r\n        <div class="groups" data-sap-widget="sap.ui.widget.DropDownBox" data-sap-option="data:{{groups}},textField:\'name\',valueField:\'id\',selectedValue:{{selectedGroup,two-way}}">\r\n        </div>\r\n        <div class="title">\r\n        </div>\r\n        <div class="name">\r\n          <input data-sap-widget="sap.ui.widget.TextField" data-sap-option="value:{{name,two-way}}" ></input>\r\n        </div>\r\n        <div class="actions"><button data-sap-command="vclick:save">Save</button><!-- <button>Cancel</button>--> </div>\r\n    </div>\r\n</div>\r\n'}),define("html!sap.sbo.app.report.PropertySetting",function(){return'<div class="container">\r\n  <div class="header">\r\n    <div class="labelInput"><input data-sap-widget="sap.ui.widget.TextField" data-sap-option="value:{{propertyItem@data/displayLabel,two-way}},liveChange:true" /></div>\r\n    		  <div class="icon sort {{propertyItem@data/sortType}}" data-sap-widget="sap.sbo.ui.widget.MultiStateIcon"\r\n					     data-sap-option=\'states:{{sorts}}, currentState:{{propertyItem@data/sortType, two-way}}\'></div>\r\n    <div class="icon deleteicon" data-sap-command="propertyItem@vclick:delItem"></div>\r\n  </div>\r\n  <div class="tabs">\r\n\r\n  </div>\r\n  <div class="content">\r\n\r\n  </div>\r\n</div>\r\n'}),define("html!sap.sbo.app.report.TableList",function(){return"<div>\r\n  <table>\r\n    <th>\r\n\r\n    </th>\r\n  </table>\r\n</div>\r\n"}),define("html!sap.sbo.app.report.tile",function(){return'<div class="sbo-bo-tile sbo-bo-tile-{{count}} sbo-app-opportunity-tile opportunity">\r\n    <div class="title">{{i18n@report/titles}}</div>\r\n    <div class="number"><div class="value">{{count, sap.sbo.util.formatter.circleNumber_more}}</div></div>\r\n</div>\r\n'}),define("html!sap.sbo.app.SalesOpportunity.Tile",function(){return'<div class="sbo-bo-tile sbo-bo-tile-{{count}} sbo-app-opportunity-tile opportunity">\r\n    <div class="title">{{i18n@app/oppo/OPPORTUNITIES}}</div>\r\n    <div class="number"><div class="value">{{count, sap.sbo.util.formatter.circleNumber_more}}</div></div>\r\n</div>\r\n<div class="chart {{bigvisibility}}" style="position: absolute;top: 170px;bottom: 0px;left: 0px;right: 0px;">\r\n  <div data-sap-widget="sap.sbo.ui.widget.ReportWidget" data-sap-command="chart.click:showlargeone" data-sap-option="reportId:\'1\',legendVisible:{{legendVisible}}"></div>\r\n</div>\r\n'}),define("html!sap.sbo.app.SalesOrder.SalesOrderTile",function(){return'<div class="sbo-bo-tile sbo-bo-tile-{{count}} sbo-SalesOrder-tile order">\r\n    <div class="title">{{i18n@common/ORDERS_NAME}}</div>\r\n    <div class="number"><div class="value">{{count, sap.sbo.util.formatter.circleNumber_more}}</div></div>\r\n</div>'}),define("html!sap.sbo.app.SalesQuotation.SalesQuotationTile",function(){return'<div class="sbo-bo-tile sbo-bo-tile-{{count}} sbo-SalesQuotation-tile on quotation">\r\n    <div class="title">{{i18n@common/QUOTATIONS_NAME}}</div>\r\n    <div class="number"><div class="value">{{count, sap.sbo.util.formatter.circleNumber_more}}</div></div>\r\n</div>'}),define("html!sap.sbo.app.TargetGroup.TargetGroupTile",function(){return'<div class="sbo-bo-tile sbo-bo-tile-{{count}} sbo-Campaign-tile campaign">\r\n    <div class="title">Target Groups</div>\r\n    <div class="number"><div class="value">{{count, sap.sbo.util.formatter.circleNumber_more}}</div></div>\r\n</div>'}),define("html!sap.sbo.app.search.FreeSelect",function(){return'<div>\r\n  <h1>Free Select</h1>\r\n  <div><span data-sap-widget="sap.ui.widget.Checkbox" data-sap-option="text: \'Only My Object\', checked: {{onlyOwner, two-way}}"></span></div>\r\n  <div data-sap-widget=\'sap.sbo.app.search.FreeSelectBOListWidget\' data-sap-option="datas:{{BOs,two-way}}">\r\n  </div>\r\n<div class="sap-sbo-app-search-freeselect-bottom">\r\n  <button data-sap-command="vclick:clickOK">OK</button>  <button data-sap-command="vclick:clickCancel">Cancel</button>\r\n</div>\r\n</div>\r\n'}),define("html!sap.sbo.app.search.FreeSelectBOListWidget",function(){return'  <div class="sap-sbo-app-search-freeselect-bolistwidget">\r\n    <div class="repeat" data-sap-widget=\'sap.ui.Repeat\' data-sap-option="data:{{BOList}}">\r\n      <div class="sap-sbo-app-search-freeselect-bolistwidget-bo {{selected,class2ToBoolean}}"  data-bo-id="{{key}}"  data-sap-template=\'Content\'>\r\n        <div class="bo-content" >{{name}}</div>\r\n        <div class="bo-flag {{selected,classToBoolean}}" ></div>\r\n      </div>\r\n	  </div>\r\n  </div>\r\n'}),define("html!sap.sbo.app.search.home",function(){return'<div class="sap-sbo-app-search-home">\r\n  <div class="searchtitle">\r\n    <span>Search in:</span>\r\n    <span  data-sap-command="vclick:gotoSetting">\r\n      <span class="scopeflag">{{scopeflag}}</span>\r\n      <span class="to"> ></span>\r\n    </span>\r\n  </div>\r\n  <div class="searchbar">\r\n    <div class="searchContainer">\r\n      <input class="search" data-sap-widget="sap.ui.widget.TextField" data-sap-command="keyup:search" data-sap-option="value:{{searchText,two-way}}"/>\r\n\r\n    </div>\r\n    <div class="setting" data-sap-command="vclick:gotoSetting"></div>\r\n  </div>\r\n <div class="searchcontent">\r\n   <div data-sap-widget="sap.sbo.app.search.ListView" data-sap-option="datas:{{searchResults}}"></div>\r\n</div>\r\n</div>\r\n'}),define("html!sap.sbo.app.search.ListView",function(){return'<div class="sap-sbo-app-search-listview">\r\n  <div class="wrapper">\r\n    <div class="repeat" data-sap-widget=\'sap.ui.Repeat\' data-sap-option="data:{{results}}">\r\n      <div class="groupItem" data-group-name="{{name}}"   data-sap-template=\'Content\'>\r\n        <div class="groupbar" >\r\n          <div class="cancel">X</div>\r\n          <div class="text">{{name}}({{count}})</div>\r\n        </div>\r\n        <div class="searchContent">\r\n          <div  data-sap-widget=\'sap.ui.Repeat\' data-sap-option="data:{{records/value}}">\r\n            <div class=""   data-sap-template=\'Content\'>\r\n              <div class="recorditem">\r\n                <div class="recordrepeat" data-sap-widget=\'sap.ui.Repeat\' data-sap-option="data:{{properties/entries/value}}">\r\n                  <div class=""   data-sap-template=\'Content\'>\r\n                    <div class="itemdata">\r\n                      <span>{{key}}</span><span>{{value}}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="end">\r\n\r\n            <div class="more  {{remain,classToNumber}}" >\r\n               <span>{{remain}}</span> more\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n	  </div>\r\n  </div>\r\n</div>\r\n'}),define("html!sap.sbo.app.search.SearchDialog",function(){return"<div>\r\n<div data-sfa-class = \"sap-sbo-app-search-header\">\r\n    <div data-sfa-class =\"sap-sbo-app-search-exit\"></div>\r\n    <div data-sfa-class = \"sap-sbo-app-search-title\">{{i18n@app/SEARCH/ENTERPRISESEATCH}}</div>\r\n</div>\r\n <div data-sfa-class = \"sap-sbo-app-search-main\">\r\n <div data-sfa-class = \"sap-sbo-app-search-main-header\">\r\n <img data-sfa-class = 'sap-sbo-app-search-main-settingImage' src = 'image/search/Setting.png'/>\r\n <input type = 'text' id = 'SearchBox' class = 'sap-sbo-app-search-searchTextBox' />\r\n <img data-sfa-class = 'sap-sbo-app-search-main-searchImage' src = 'image/search/Search.png'/>\r\n  <img data-sfa-class = 'sap-sbo-app-search-main-closeImage' src = 'image/search/Close.png'/>\r\n </div>\r\n <div data-sfa-class = \"sap-sbo-app.search-result-howMany\">{{Settings/ShowTotal,sap.sbo.app.search.SearchUtil.GetResultFoundNumber}}</div>\r\n <div data-sfa-class = \"sap-sbo-app-search-result\">  \r\n </div>\r\n </div>\r\n<div data-sfa-class = \"sap-sbo-app-search-setting\">\r\n<div data-sfa-class = 'sap-sbo-app-search-myNetwork'><div>{{i18n@app/SEARCH/MYNETWORK}}</div> <div data-sfa-class='sap-sbo-app-search-mySwitcher' class = 'sap-sbo-app-search-switcher' data-sap-key='myNetwork'  data-sap-widget = 'sap.ui.widget.Icon' data-sap-option = 'iconURL:{{Settings/myNetwork,sap.sbo.app.search.SearchUtil.GetSwitchButtonByStatus}}' ></div></div>\r\n <div data-sfa-class = \"myNetworkExplain\">{{i18n@app/SEARCH/MYCF}}</div>\r\n <div data-sap-widget='sap.ui.Repeat' data-sfa-class = 'sap-sbo-app-search-repeat'  data-sap-option='data:{{Settings/Objects}}'>\r\n <div data-sap-template='Content'  data-sfa-class = 'sap-sbo-app-search-bos'><div>{{,sap.sbo.app.search.SearchUtil.GetDisplayNumber}}</div>\r\n <div data-index = '{{_internal_@index}}' class = 'sap-sbo-app-search-switcher' data-sfa-class='sap-sbo-app-search-mySwitcher' \r\n data-sap-widget = 'sap.ui.widget.Icon' data-sap-option = 'iconURL:{{inScope,sap.sbo.app.search.SearchUtil.GetSwitchButtonByStatus}}' >\r\n </div></div></div>\r\n</div>\r\n<div class = 'formateSearchValue' style = \"display:none;\"/>\r\n</div>"}),define("html!sap.sbo.app.search.SearchRegion",function(){return"<div data-sap-widget=\"sap.ui.widget.ViewRegion\" data-sap-option=\"region:'searchRegion',defaultView:['sap.sbo.app.search.home']\"></div>\r\n"}),define("html!sap.sbo.app.template.Base",function(){return'<div data-sap-template="Base" \r\n	gl-readonly="{{$readOnly}}" \r\n	gl-enabled="{{$enabled}}" \r\n	gl-userDefined="{{$userDefined}}" \r\n	gl-mandatory="{{$mandatory}}"\r\n	gl-aggregated="{{$aggregatedProperty}}"\r\n	gl-group="{{$group}}"\r\n	gl-property="#PROPERTY#">\r\n</div>\r\n<!-- vim:set ts=2 sw=2 noexpandtab:  -->\r\n\r\n'}),define("html!sap.sbo.app.template.CreationProperty",function(){return'<div data-sap-template="String" height="50">\r\n    <div class="string key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value"><input data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{#PROPERTY#, two-way}}, nullable: true" style="width:100%;"></div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Integer" height="70">\r\n    <div class="integer key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value">\r\n            <input data-sap-widget="sap.ui.widget.InputField" data-sap-option="value: {{#PROPERTY#, two-way}}, nullable: true, disabled: #readOnly#, type: \'integer\'" style="width: 50px;">\r\n        </div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Long" height="70">\r\n    <div class="integer key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value">\r\n            <input data-sap-widget="sap.ui.widget.InputField" data-sap-option="value: {{#PROPERTY#, two-way}}, nullable: true, disabled: #readOnly#, type: \'integer\'" style="width: 50px;">\r\n        </div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Double" height="50">\r\n    <div class="float key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value"><input data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{#PROPERTY#, two-way}}, nullable: true, disabled: #readOnly#" style="width:100%;"></div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Price" height="50">\r\n    <div class="float key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value"><input data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{#PROPERTY#, two-way}}, nullable: true, disabled: #readOnly#" style="width:100%;"></div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Sum" height="50">\r\n    <div class="float key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value"><input data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{#PROPERTY#, two-way}}, nullable: true, disabled: #readOnly#" style="width:100%;"></div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Quantity" height="50">\r\n    <div class="float key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value"><input data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{#PROPERTY#, two-way}}, nullable: true, disabled: #readOnly#" style="width:100%;"></div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="array" height="100">\r\n    <div style="background: White; position:absolute; top:0;left:0; bottom:0; right:0; border: 1px solid #B7B7B7;">\r\n        <div style="">#label#</div>\r\n        <div style="">{{#PROPERTY#/length}}</div>\r\n    </div>\r\n</div>\r\n\r\n<div data-sap-template="DateTime" height="50">\r\n    <div class="datetime key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value">\r\n            <div type="date" data-sap-widget="sap.sbo.ui.widget.DateTimeField" data-sap-option="value:{{#PROPERTY#, two-way, sap.sbo.util.formatter.date_JODATime}}" style="width:100%;"></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Date" height="50">\r\n    <div class="datetime key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value">\r\n            <div type="date" data-sap-widget="sap.sbo.ui.widget.DateTimeField" data-sap-option="value:{{#PROPERTY#, two-way, sap.sbo.util.formatter.date_JODATime}}" style="width:100%;"></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Percent" height="50">\r\n    <div class="percent key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value">{{#PROPERTY#}}%</div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Boolean" height="80">\r\n    <div class="bostatus key-value">\r\n        <div class="key">\r\n            <div data-sap-widget="sap.ui.widget.Checkbox" data-sap-option="text:\'#label#\', checked:{{#PROPERTY#, sap.sbo.util.formatter.boolean_null,two-way}}"></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Memo" height="100">\r\n    <div class="memo key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value">\r\n            <textarea data-sap-widget="sap.ui.widget.TextArea" data-sap-option="value: {{#PROPERTY#, two-way}},nullable: true" style="width:100%;"></textarea>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="BoYesNoEnum" height="80">\r\n    <div class="bostatus key-value">\r\n        <div class="value">\r\n            <div data-sap-widget="sap.ui.widget.Checkbox" data-sap-option="text:\'#label#\', checked:{{#PROPERTY#, sap.sbo.util.formatter.bool_string,two-way}}"></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="BoSoOsStatus" height="80">\r\n    <div class="bostatus key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value">\r\n            <div data-sap-widget="sap.sbo.ui.widget.BoStatus" data-sap-option="value:{{#PROPERTY#,two-way}},readonly:false"></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="BoSoClosedInTypes" height="80">\r\n    <div class="boclose key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value">BoSoClosedInTypes: {{#PROPERTY#}}</div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="BoCardCompanyTypes" height="80">\r\n    <div class="bostatus key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value">\r\n            <div data-sap-widget="sap.ui.widget.DropDownBox" data-sap-option="textField: \'text\', valueField: \'key\', data: [{key: \'cCompany\', text: \'Public\'},{key:\'cPrivate\', text: \'Private\'}], selectedValue: {{#PROPERTY#, two-way}}"></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Phone" height="50">\r\n    <div class="string key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value"><input data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{#PROPERTY#, two-way}}, nullable: true" style="width:100%;"></div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Email" height="50">\r\n    <div class="string key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value"><input data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{#PROPERTY#, two-way}}, nullable: true" style="width:100%;"></div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Fax" height="50">\r\n    <div class="string key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value"><input data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{#PROPERTY#, two-way}}, nullable: true" style="width:100%;"></div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Link" height="50">\r\n    <div class="string key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value"><input data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{#PROPERTY#, two-way}}, nullable: true" style="width:100%;"></div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="ZipCode" height="50">\r\n    <div class="string key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value"><input data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{#PROPERTY#, two-way}}, nullable: true" style="width:100%;"></div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="ThreatLevelEnum" height="50">\r\n    <div class="string key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value">\r\n        	<div data-sap-widget="sap.ui.widget.DropDownBox" data-sap-option="textField: \'text\', valueField: \'key\', data: [{key: \'tlLow\', text: \'Low\'},{key:\'tlMedium\', text: \'Medium\'},{key:\'tlHigh\', text: \'High\'}], selectedValue: {{#PROPERTY#, two-way}}"></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="" height="50">\r\n    <div class="key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value">!! property need to be specitialization !!</div>\r\n    </div>\r\n</div>\r\n'
}),define("html!sap.sbo.app.template.DynamicProperty",function(){return'<div data-sap-template="String" >\r\n	<div class="writable string key-value">\r\n		<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n		<div class="value">\r\n			<input type="text" maxlength="{{$size}}" data-sap-widget="sap.ui.widget.TextField" \r\n			data-sap-option="value: {{#PROPERTY#, sap.sbo.util.formatter.undefined2null, two-way}}, nullable: true, liveChange:true" />\r\n		</div>\r\n	</div>\r\n	<div class="readonly string key-value">\r\n		<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n		<div class="value">\r\n			<div>{{#PROPERTY#}}&nbsp;</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n<div data-sap-template="Integer" >\r\n	<div class="writable integer key-value">\r\n		<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n		<div class="value">\r\n			<input type="text" pattern="[0-9]*" data-sap-widget="sap.sbo.ui.widget.DecimalInputField" \r\n			data-sap-option="value: {{#PROPERTY#, two-way}}, nullable: true, liveChange:true, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}} , decimalNum:0" />\r\n		</div>\r\n	</div>\r\n	<div class="readonly integer key-value">\r\n		<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n		<div class="value">\r\n			<div data-sap-widget="sap.sbo.ui.widget.DecimalLabel"\r\n			data-sap-option="value: {{#PROPERTY#, sap.sbo.util.formatter.undefined2null}}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}} , decimalNum:0" >\r\n				&nbsp;</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n<div data-sap-template="Long" >\r\n	<div class="writable integer key-value">\r\n		<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n		<div class="value">\r\n			<input type="text" pattern="[0-9]*" data-sap-widget="sap.sbo.ui.widget.DecimalInputField" \r\n			data-sap-option="value: {{#PROPERTY#, two-way}}, nullable: true, liveChange:true, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}} , decimalNum:0" />\r\n		</div>\r\n	</div>\r\n	<div class="readonly integer key-value">\r\n		<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n		<div class="value">\r\n			<div data-sap-widget="sap.sbo.ui.widget.DecimalLabel"\r\n			data-sap-option="value: {{#PROPERTY#, sap.sbo.util.formatter.undefined2null}}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}} , decimalNum:0" >\r\n				&nbsp;</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n<div data-sap-template="Double" >\r\n	<div class="writable float key-value">\r\n		<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n		<div class="value">\r\n			<input type="text" data-sap-widget="sap.sbo.ui.widget.DecimalInputField" \r\n			data-sap-option="value: {{#PROPERTY#, sap.formatter.real_string_nullable , two-way}}, nullable: true, liveChange:true, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}} , decimalNum:6, removeLastZeros: true" />\r\n		</div>\r\n	</div>\r\n	<div class="readonly float key-value">\r\n		<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n		<div class="value">\r\n			<div data-sap-widget="sap.sbo.ui.widget.DecimalLabel"\r\n			data-sap-option="value: {{#PROPERTY#, sap.formatter.real_string_nullable }}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}} , decimalNum:6, removeLastZeros: true" >\r\n				&nbsp;</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n<div data-sap-template="Price" >\r\n	<div class="writable float key-value">\r\n		<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n		<div class="value" data-currency="{{globalSettings@currencySettings/localCurrency}}" currency-right="{{globalSettings@currencySettings/displayCurrencyOnTheRight}}" >			\r\n			<input type="text" data-sap-widget="sap.sbo.ui.widget.DecimalInputField" \r\n			data-sap-option="value: {{#PROPERTY#, sap.formatter.real_string_nullable , two-way}}, nullable: true, liveChange:true, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}} , decimalNum:{{globalSettings@types/Price/DecimalPlace}}" />\r\n		</div>\r\n	</div>\r\n	<div class="readonly float key-value">\r\n		<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n		<div class="value">\r\n			<div data-sap-widget="sap.sbo.ui.widget.DecimalLabel"\r\n			data-sap-option="value: {{#PROPERTY#, sap.formatter.real_string_nullable }}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}} , decimalNum:{{globalSettings@types/Price/DecimalPlace}},\r\n			currency:{{globalSettings@currencySettings/localCurrency}}, currencyLocalRight:{{globalSettings@currencySettings/displayCurrencyOnTheRight}}" >\r\n				&nbsp;</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n<div data-sap-template="Rate">\r\n	<div class="writable float key-value">\r\n		<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n		<div class="value">\r\n			<input type="text" data-sap-widget="sap.sbo.ui.widget.DecimalInputField" \r\n			data-sap-option="value: {{#PROPERTY#, sap.formatter.real_string_nullable , two-way}}, nullable: true, liveChange:true, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}} , decimalNum:{{globalSettings@types/Rate/DecimalPlace}}" />\r\n		</div>\r\n	</div>\r\n	<div class="readonly float key-value">\r\n		<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n		<div class="value">\r\n			<div data-sap-widget="sap.sbo.ui.widget.DecimalLabel"\r\n			data-sap-option="value: {{#PROPERTY#, sap.formatter.real_string_nullable }}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}} , decimalNum:{{globalSettings@types/Rate/DecimalPlace}}" >\r\n				&nbsp;</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n<div data-sap-template="Sum" >\r\n	<div class="writable float key-value">\r\n		<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n		<div class="value" data-currency="{{globalSettings@currencySettings/localCurrency}}" currency-right="{{globalSettings@currencySettings/displayCurrencyOnTheRight}}" >\r\n			<input type="text" data-sap-widget="sap.sbo.ui.widget.DecimalInputField" \r\n			data-sap-option="value: {{#PROPERTY#, sap.formatter.real_string_nullable , two-way}}, nullable: true, liveChange:true, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}} , decimalNum:{{globalSettings@types/Sum/DecimalPlace}}" />\r\n		</div>\r\n	</div>\r\n	<div class="readonly float key-value">\r\n		<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n		<div class="value">\r\n			<div data-sap-widget="sap.sbo.ui.widget.DecimalLabel"\r\n			data-sap-option="value: {{#PROPERTY#, sap.formatter.real_string_nullable }}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}} , decimalNum:{{globalSettings@types/Sum/DecimalPlace}},\r\n			currency:{{globalSettings@currencySettings/localCurrency}}, currencyLocalRight:{{globalSettings@currencySettings/displayCurrencyOnTheRight}}" >\r\n				&nbsp;</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n<div data-sap-template="Quantity">\r\n	<div class="writable float key-value">\r\n		<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n		<div class="value">\r\n			<input type="text" data-sap-widget="sap.sbo.ui.widget.DecimalInputField" \r\n			data-sap-option="value: {{#PROPERTY#, sap.formatter.real_string_nullable , two-way}}, nullable: true, liveChange:true, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}} , decimalNum:{{globalSettings@types/Quantity/DecimalPlace}}" />\r\n		</div>\r\n	</div>\r\n	<div class="readonly float key-value">\r\n		<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n		<div class="value">\r\n			<div data-sap-widget="sap.sbo.ui.widget.DecimalLabel"\r\n			data-sap-option="value: {{#PROPERTY#, sap.formatter.real_string_nullable }}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}} , decimalNum:{{globalSettings@types/Quantity/DecimalPlace}}" >\r\n				&nbsp;</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n\r\n<div data-sap-template="DateTime" >\r\n	<div class="writable datetime key-value">\r\n		<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n		<div class="value">\r\n			<div type="date" data-sap-widget="sap.sbo.ui.widget.DateTimeField" \r\n			data-sap-option="value:{{#PROPERTY#, two-way, sap.sbo.util.formatter.date_JODATime}}"></div>\r\n		</div>\r\n	</div>\r\n	<div class="readonly datetime key-value">\r\n		<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n		<div class="value">\r\n			<div data-sap-widget="sap.sbo.ui.widget.DateLabel" \r\n				data-sap-option="value: {{#PROPERTY#, sap.sbo.util.formatter.date_JODATime}}, format:{{globalSettings@date/formatString}}">&nbsp;</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n<div data-sap-template="Date" >\r\n	<div class="writable datetime key-value">\r\n		<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n		<div class="value">\r\n			<div type="date" data-sap-widget="sap.sbo.ui.widget.DateTimeField" \r\n			data-sap-option="value:{{#PROPERTY#, two-way, sap.sbo.util.formatter.date_JODATime}}"></div>\r\n		</div>\r\n	</div>\r\n	<div class="readonly datetime key-value">\r\n		<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n		<div class="value">\r\n			<div data-sap-widget="sap.sbo.ui.widget.DateLabel" \r\n				data-sap-option="value: {{#PROPERTY#, sap.sbo.util.formatter.date_JODATime}}, format:{{globalSettings@date/formatString}}">&nbsp;\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n<div data-sap-template="Percent" >\r\n	<div class="writable percent key-value">\r\n		<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n		<div class="value">\r\n			<input type="text" data-sap-widget="sap.sbo.ui.widget.DecimalInputField" \r\n			data-sap-option="value: {{#PROPERTY#, sap.formatter.real_string_nullable , two-way}}, nullable: true, liveChange:true, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}} , decimalNum:{{globalSettings@types/Percent/DecimalPlace}}" />\r\n			<span>%</span>\r\n		</div>\r\n	</div>\r\n	<div class="readonly percent key-value">\r\n		<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n		<div class="value">\r\n			<div>\r\n				<span data-sap-widget="sap.sbo.ui.widget.DecimalLabel"\r\n					data-sap-option="value: {{#PROPERTY#, sap.formatter.real_string_nullable }}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}} , decimalNum:{{globalSettings@types/Percent/DecimalPlace}}" >\r\n				</span><span>%</span>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n<div data-sap-template="Measure" >\r\n	<div class="writable measure key-value">\r\n		<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n		<div class="value">\r\n			<input type="text" data-sap-widget="sap.sbo.ui.widget.DecimalInputField" \r\n			data-sap-option="value: {{#PROPERTY#, sap.formatter.real_string_nullable , two-way}}, nullable: true, liveChange:true, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}} , decimalNum:{{globalSettings@types/Measure/DecimalPlace}}" />\r\n		</div>\r\n	</div>\r\n	<div class="readonly measure key-value">\r\n		<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n		<div class="value">\r\n			<div data-sap-widget="sap.sbo.ui.widget.DecimalLabel"\r\n				data-sap-option="value: {{#PROPERTY#, sap.formatter.real_string_nullable }}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}} , decimalNum:{{globalSettings@types/Measure/DecimalPlace}}" >\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n<div data-sap-template="Memo" >\r\n	<div class="writable memo key-value">\r\n		<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n		<div class="value">\r\n			<textarea data-sap-widget="sap.ui.widget.TextArea" \r\n				data-sap-option="value: {{#PROPERTY#, two-way}},nullable: true, disabled:{{$readOnly}}" >\r\n			</textarea>\r\n		</div>\r\n	</div>\r\n	<div class="readonly memo key-value">\r\n		<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n		<div class="value">\r\n			<pre>{{#PROPERTY#}}&nbsp;</pre>\r\n		</div>\r\n	</div>\r\n</div>\r\n<div data-sap-template="Text" >\r\n	<div class="writable text key-value">\r\n		<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n		<div class="value">\r\n			<textarea data-sap-widget="sap.ui.widget.TextArea" \r\n				data-sap-option="value: {{#PROPERTY#, two-way}},nullable: true, disabled:{{$readOnly}}" >\r\n			</textarea>\r\n		</div>\r\n	</div>\r\n	<div class="readonly text key-value">\r\n		<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n		<div class="value">\r\n			<pre>{{#PROPERTY#}}&nbsp;</pre>\r\n		</div>\r\n	</div>\r\n</div>\r\n<div data-sap-template="Boolean" >\r\n	<div class="key-value">\r\n		<div class="key">\r\n			<div data-sap-widget="sap.ui.widget.Checkbox" \r\n				data-sap-option="text:{{$label}}, checked:{{#PROPERTY#, sap.sbo.util.formatter.boolean_null,two-way}},disabled: {{$readOnly}}">\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n\r\n\r\n<div data-sap-template="BoYesNoEnum" >\r\n	<div class="bostatus key-value">\r\n		<div class="value">\r\n			<div data-sap-widget="sap.ui.widget.Checkbox" \r\n				data-sap-option="text:{{$label}}, checked:{{#PROPERTY#, sap.sbo.util.formatter.bool_string,two-way}},disabled: {{$readOnly}}">\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n\r\n<div data-sap-template="Phone" >\r\n	<div class="writable Phone key-value">\r\n		<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n		<div class="value">\r\n			<input type="tel" maxlength="{{$size}}" data-sap-widget="sap.ui.widget.TextField" \r\n			data-sap-option="value: {{#PROPERTY#, two-way}}, nullable: true, liveChange:true" />\r\n		</div>\r\n	</div>\r\n	<div class="phone readonly Phone key-value">\r\n		<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n		<a class="value hyperLink" href="{{#PROPERTY#, formatter.telHrefConvertor}}" data-touchable="{{#PROPERTY#, sap.sbo.util.formatter.emptyString2BoolAdapter}}">\r\n		    <span data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{#PROPERTY#, sap.sbo.util.formatter.getPhoneImg}}, arrangeType:"original" \'></span>\r\n			<span><span>{{#PROPERTY#}}&nbsp;</span></span>\r\n		</a>\r\n	</div>\r\n	<div class="pad readonly Phone key-value">\r\n		<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n		<div class="value">\r\n			<div>{{#PROPERTY#}}&nbsp;</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n<div data-sap-template="Email" >\r\n	<div class="writable Email key-value">\r\n		<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n		<div class="value">\r\n			<input type="email" maxlength="{{$size}}" data-sap-widget="sap.ui.widget.TextField" \r\n			data-sap-option="value: {{#PROPERTY#, two-way}}, nullable: true, liveChange:true" />\r\n		</div>\r\n	</div>\r\n	<div class="phone readonly Email key-value">\r\n		<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n		<a class="value hyperLink" href="{{#PROPERTY#, formatter.mailtoHrefConvertor}}" data-touchable="{{#PROPERTY#, sap.sbo.util.formatter.emptyString2BoolAdapter}}">\r\n		    <span data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{#PROPERTY#, sap.sbo.util.formatter.getEmailImg}}, arrangeType:"original" \'></span>\r\n			<span><span>{{#PROPERTY#}}&nbsp;</span></span>\r\n		</a>\r\n	</div>\r\n    <div class="pad readonly Email key-value">\r\n        <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n        <div class="value hyperLink">\r\n            <a href="mailto:{{#PROPERTY#}}"><span data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{#PROPERTY#, sap.sbo.util.formatter.getEmailImg}}, arrangeType:"original" \'></span></a>\r\n            <span>{{#PROPERTY#}}&nbsp;</span>\r\n        </div>\r\n    </div>	\r\n</div>\r\n<div data-sap-template="Fax" >\r\n    <div class="writable Fax key-value">\r\n        <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n        <div class="value">\r\n            <input type="tel" maxlength="{{$size}}" data-sap-widget="sap.ui.widget.TextField" \r\n            data-sap-option="value: {{#PROPERTY#, two-way}}, nullable: true, liveChange:true" />\r\n        </div>\r\n    </div>\r\n    <div class="phone readonly Fax key-value">\r\n        <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n        <div class="value">\r\n            <div>{{#PROPERTY#}}&nbsp;</div>\r\n        </div>\r\n    </div>\r\n    <div class="pad readonly Fax key-value">\r\n        <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n        <div class="value">\r\n            <div>{{#PROPERTY#}}&nbsp;</div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Link" >\r\n	<div class="writable Link key-value">\r\n		<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n		<div class="value">\r\n			<input type="url" maxlength="{{$size}}" data-sap-widget="sap.ui.widget.TextField" \r\n			data-sap-option="value: {{#PROPERTY#, two-way}}, nullable: true, liveChange:true" >\r\n		</div>\r\n	</div>\r\n	<div class="phone readonly Link key-value" >\r\n		<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n		<a class="value hyperLink" href="{{#PROPERTY#, formatter.linkHrefConvertor}}" data-touchable="{{#PROPERTY#, sap.sbo.util.formatter.emptyString2BoolAdapter}}">\r\n		    <span data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{#PROPERTY#, sap.sbo.util.formatter.getLinkImg}}, arrangeType:"original" \'></span>\r\n			<span>{{#PROPERTY#}}&nbsp;</span>\r\n		</a>\r\n	</div>\r\n    <div class="pad readonly Link key-value">\r\n        <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n        <div class="value hyperLink">\r\n            <a href="{{#PROPERTY#, formatter.linkHrefConvertor}}">\r\n            <span data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{#PROPERTY#, sap.sbo.util.formatter.getLinkImg}}, arrangeType:"original" \'></span></a>\r\n            <span>{{#PROPERTY#}}&nbsp;</span>\r\n        </div>\r\n    </div>	\r\n</div>\r\n<div data-sap-template="ZipCode" >\r\n	<div class="writable ZipCode key-value">\r\n		<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n		<div class="value">\r\n			<input type="text" maxlength="{{$size}}" data-sap-widget="sap.ui.widget.TextField" \r\n			data-sap-option="value: {{#PROPERTY#, two-way}}, nullable: true, liveChange:true" >\r\n		</div>\r\n	</div>\r\n	<div class="readonly ZipCode key-value">\r\n		<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n		<div class="value">\r\n			<div>{{#PROPERTY#}}&nbsp;</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n\r\n<div data-sap-template="*enumeration*" >\r\n	<div class="writable enumeration key-value">\r\n		<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n		<div class="value">\r\n			<div data-sap-widget="sap.ui.widget.DropDownBox"\r\n				data-sap-option="nullable:!#mandatory#, textField: \'label\', valueField: \'name\', data: {{meta@enum/#type#}}, selectedValue: {{#PROPERTY#, two-way}}">\r\n			</div>\r\n		</div>\r\n	</div>\r\n	<div class="readonly enumeration key-value">\r\n		<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n		<div class="value">\r\n			<div data-sap-widget="sap.sbo.ui.widget.EnumLabel" \r\n				data-sap-option="textField: \'label\', valueField: \'name\', data: {{meta@enum/#type#}}, selectedValue: {{#PROPERTY#}}">&nbsp;\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n\r\n<div data-sap-template="*validvalues*" >\r\n	<div class="writable validvalues key-value">\r\n		<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n		<div class="value">\r\n			<div data-sap-widget="sap.ui.widget.DropDownBox"\r\n				data-sap-option="nullable:!#mandatory#, textField: \'description\', valueField: \'value\', data: {{$validValues/value}}, selectedValue: {{#PROPERTY#, two-way}}">\r\n			</div>\r\n		</div>\r\n	</div>\r\n	<div class="readonly enumeration key-value">\r\n		<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n		<div class="value">\r\n			<div data-sap-widget="sap.sbo.ui.widget.EnumLabel" \r\n				data-sap-option="textField: \'description\', valueField: \'value\', data: {{$validValues/value}}, selectedValue: {{#PROPERTY#}}">&nbsp;\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n\r\n<div data-sap-template="*labelOnly*" >\r\n	<div class="key-value">\r\n		<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n		</div>\r\n	</div>\r\n</div>\r\n\r\n<!-- vim:set ts=2 sw=2 noexpandtab:  -->\r\n'}),define("html!sap.sbo.app.template.EditProperty",function(){return'<div data-sap-template="String" height="70">\r\n    <div class="string key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value"><input data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{#PROPERTY#, two-way}}, nullable: true" ></div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Integer" height="70">\r\n    <div class="integer key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value">\r\n            <input data-sap-widget="sap.ui.widget.InputField" data-sap-option="value: {{#PROPERTY#, two-way}}, nullable: true, disabled: #readOnly#, type: \'integer\'" style="width: 50px;">\r\n        </div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Long" height="70">\r\n    <div class="integer key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value">\r\n            <input data-sap-widget="sap.ui.widget.InputField" data-sap-option="value: {{#PROPERTY#, two-way}}, nullable: true, disabled: #readOnly#, type: \'integer\'" style="width: 50px;">\r\n        </div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Double" height="70">\r\n    <div class="float key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value"><input data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{#PROPERTY#, two-way}}, nullable: true, disabled: #readOnly#"></div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Price" height="70">\r\n    <div class="float key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value"><input data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{#PROPERTY#, two-way}}, nullable: true, disabled: #readOnly#"></div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Sum" height="70">\r\n    <div class="float key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value"><input data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{#PROPERTY#, two-way}}, nullable: true, disabled: #readOnly#"></div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Quantity" height="70">\r\n    <div class="float key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value"><input data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{#PROPERTY#, two-way}}, nullable: true, disabled: #readOnly#"></div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="array" height="100">\r\n    <div style="background: White; position:absolute; top:0;left:0; bottom:0; right:0; border: 1px solid #B7B7B7;">\r\n        <div style="">#label#</div>\r\n        <div style="">{{#PROPERTY#/length}}</div>\r\n    </div>\r\n</div>\r\n\r\n<div data-sap-template="DateTime" height="70">\r\n    <div class="datetime key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value">\r\n            <div type="date" data-sap-widget="sap.sbo.ui.widget.DateTimeField" data-sap-option="value:{{#PROPERTY#, two-way, sap.sbo.util.formatter.date_JODATime}}"></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Date" height="70">\r\n    <div class="datetime key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value">\r\n            <div type="date" data-sap-widget="sap.sbo.ui.widget.DateTimeField" data-sap-option="value:{{#PROPERTY#, two-way, sap.sbo.util.formatter.date_JODATime}}"></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Percent" height="70">\r\n    <div class="percent key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value">\r\n            <input data-sap-widget="sap.ui.widget.InputField" data-sap-option="value: {{#PROPERTY#, sap.sbo.util.formatter.double_string_nullable, two-way}}, nullable: true, disabled: #readOnly#, type: \'float\'" style="width: 70px;">\r\n            <span>%</span>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Memo" height="100">\r\n    <div class="memo key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value">\r\n            <textarea data-sap-widget="sap.ui.widget.TextArea" data-sap-option="value: {{#PROPERTY#, two-way}},nullable: true" style="width:100%;"></textarea>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Boolean" height="40">\r\n    <div class="key-value">\r\n        <div class="key">\r\n        	<div class="checkbox">\r\n                <div data-sap-widget="sap.ui.widget.Checkbox" data-sap-option="text:\'#label#\', checked:{{#PROPERTY#, sap.sbo.util.formatter.boolean_null,two-way}}"></div>\r\n            </div>    \r\n        </div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="BoSoOsStatus" height="80">\r\n    <div class="bostatus key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value">\r\n            <div data-sap-widget="sap.sbo.ui.widget.BoStatus" data-sap-option="value:{{#PROPERTY#,two-way}},readonly:false"></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="BoYesNoEnum" height="40">\r\n    <div class="bostatus key-value">\r\n        <div class="value">\r\n        	<div class="checkbox">\r\n                <div data-sap-widget="sap.ui.widget.Checkbox" data-sap-option="text:\'#label#\', checked:{{#PROPERTY#, sap.sbo.util.formatter.bool_string,two-way}}"></div>\r\n            </div>    \r\n        </div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="BoSoClosedInTypes" height="80">\r\n    <div class="boclose key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value">BoSoClosedInTypes: {{#PROPERTY#}}</div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="BoCardCompanyTypes" height="80">\r\n    <div class="bostatus key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value">\r\n            <div data-sap-widget="sap.ui.widget.DropDownBox" data-sap-option="textField: \'text\', valueField: \'key\', data: [{key: \'cCompany\', text: \'Public\'},{key:\'cPrivate\', text: \'Private\'}], selectedValue: {{#PROPERTY#, two-way}}"></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Phone" height="70">\r\n    <div class="string key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value"><input data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{#PROPERTY#, two-way}}, nullable: true" ></div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Email" height="70">\r\n    <div class="string key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value"><input data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{#PROPERTY#, two-way}}, nullable: true" ></div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Fax" height="70">\r\n    <div class="string key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value"><input data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{#PROPERTY#, two-way}}, nullable: true" ></div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Link" height="70">\r\n    <div class="string key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value"><input data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{#PROPERTY#, two-way}}, nullable: true" ></div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="ZipCode" height="70">\r\n    <div class="string key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value"><input data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{#PROPERTY#, two-way}}, nullable: true" ></div>\r\n    </div>\r\n</div>\r\n'
}),define("html!sap.sbo.app.template.FilterProperty",function(){return'<div data-sap-template="String">\r\n    <div class="string key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value"><input data-sap-widget="_layout_.sap.ui.widget.TextField" data-sap-option="value: {{#value#, two-way}}, nullable: true" ></div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Enum">\r\n    <div class="enum key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value">\r\n        	<div data-sap-widget="_layout_.sap.ui.Repeat" data-sap-option="data: {{#enumValues#}}">\r\n        		<a data-sap-template="Content" gl-key="{{name}}">{{label}}</a>\r\n        	</div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Integer">\r\n    <div class="integer key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value">\r\n        	<div class="from"><label>{{i18n@common/FROM}}</label><input data-sap-widget="_layout_.sap.ui.widget.InputField" data-sap-option="value: {{#min#, _layout_.sap.sbo.util.formatter.double_string_nullable, two-way}}, nullable: true, type: \'integer\'"  /></div>\r\n            <div class="to"><label>{{i18n@common/TO}}</label><input data-sap-widget="_layout_.sap.ui.widget.InputField" data-sap-option="value: {{#max#, _layout_.sap.sbo.util.formatter.double_string_nullable, two-way}}, nullable: true, type: \'integer\'" /></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Long">\r\n    <div class="integer key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value">\r\n            <div class="from"><label>{{i18n@common/FROM}}</label><input data-sap-widget="_layout_.sap.ui.widget.InputField" data-sap-option="value: {{#min#, two-way}}, nullable: true, type: \'integer\'" ></div>\r\n            <div class="to"><label>{{i18n@common/TO}}</label><input data-sap-widget="_layout_.sap.ui.widget.InputField" data-sap-option="value: {{#max#, two-way}}, nullable: true, type: \'integer\'" ></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Double">\r\n    <div class="float key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value">\r\n        	<div class="from"><label>{{i18n@common/FROM}}</label><input data-sap-widget="_layout_.sap.ui.widget.InputField" data-sap-option="value: {{#min#, _layout_.sap.sbo.util.formatter.double_string_nullable, two-way}}, nullable: true, type: \'integer\'"  /></div>\r\n            <div class="to"><label>{{i18n@common/TO}}</label><input data-sap-widget="_layout_.sap.ui.widget.InputField" data-sap-option="value: {{#max#, _layout_.sap.sbo.util.formatter.double_string_nullable, two-way}}, nullable: true, type: \'integer\'" /></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Price">\r\n    <div class="float key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value">\r\n        	<div class="from"><label>{{i18n@common/FROM}}</label><input data-sap-widget="_layout_.sap.ui.widget.InputField" data-sap-option="value: {{#min#, _layout_.sap.sbo.util.formatter.double_string_nullable, two-way}}, nullable: true, type: \'integer\'"  /></div>\r\n            <div class="to"><label>{{i18n@common/TO}}</label><input data-sap-widget="_layout_.sap.ui.widget.InputField" data-sap-option="value: {{#max#, _layout_.sap.sbo.util.formatter.double_string_nullable, two-way}}, nullable: true, type: \'integer\'" /></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Sum">\r\n    <div class="float key-value">\r\n        <div class="key">#label#</div>\r\n	<div class="value">\r\n        	<div class="from"><label>{{i18n@common/FROM}}</label><input data-sap-widget="_layout_.sap.ui.widget.InputField" data-sap-option="value: {{#min#, _layout_.sap.sbo.util.formatter.double_string_nullable, two-way}}, nullable: true, type: \'integer\'"  /></div>\r\n            <div class="to"><label>{{i18n@common/TO}}</label><input data-sap-widget="_layout_.sap.ui.widget.InputField" data-sap-option="value: {{#max#, _layout_.sap.sbo.util.formatter.double_string_nullable, two-way}}, nullable: true, type: \'integer\'" /></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Quantity">\r\n    <div class="float key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value">\r\n        	<div class="from"><label>{{i18n@common/FROM}}</label><input data-sap-widget="_layout_.sap.ui.widget.InputField" data-sap-option="value: {{#min#, _layout_.sap.sbo.util.formatter.double_string_nullable, two-way}}, nullable: true, type: \'integer\'"  /></div>\r\n            <div class="to"><label>{{i18n@common/TO}}</label><input data-sap-widget="_layout_.sap.ui.widget.InputField" data-sap-option="value: {{#max#, _layout_.sap.sbo.util.formatter.double_string_nullable, two-way}}, nullable: true, type: \'integer\'" /></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="DateTime">\r\n    <div class="datetime key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value">\r\n            <div class="from"><label>{{i18n@common/FROM}}</label><div type="date" data-sap-widget="_layout_.sap.sbo.ui.widget.DateTimeField" data-sap-option="value:{{#from#, two-way}}"></div></div>\r\n            <div class="to"><label>{{i18n@common/TO}}</label><div type="date" data-sap-widget="_layout_.sap.sbo.ui.widget.DateTimeField" data-sap-option="value:{{#to#, two-way}}"></div></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Date">\r\n    <div class="datetime key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value">\r\n            <div class="from"><label>{{i18n@common/FROM}}</label><div type="date" data-sap-widget="_layout_.sap.sbo.ui.widget.DateTimeField" data-sap-option="value:{{#from#, two-way}}" ></div></div>\r\n            <div class="to"><label>{{i18n@common/TO}}</label><div type="date" data-sap-widget="_layout_.sap.sbo.ui.widget.DateTimeField" data-sap-option="value:{{#to#, two-way}}" ></div></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Percent">\r\n    <div class="percent key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value">\r\n        	<div class="from"><label>{{i18n@common/FROM}}</label><input data-sap-widget="_layout_.sap.ui.widget.InputField" data-sap-option="value: {{#min#, _layout_.sap.sbo.util.formatter.double_string_nullable, two-way}}, nullable: true, type: \'float\'"  />\r\n        	    <span>%</span>\r\n        	    </div>\r\n            <div class="to"><label>{{i18n@common/TO}}</label><input data-sap-widget="_layout_.sap.ui.widget.InputField" data-sap-option="value: {{#max#, _layout_.sap.sbo.util.formatter.double_string_nullable, two-way}}, nullable: true, type: \'float\'" />\r\n            <span>%</span></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Boolean">\r\n    <div class="key-value">\r\n        <div class="key">\r\n            <div data-sap-widget="_layout_.sap.ui.widget.Checkbox" data-sap-option="text:\'#label#\', checked:{{#value#, _layout_.sap.sbo.util.formatter.boolean_null,two-way}}"></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- <div data-sap-template="BoSoOsStatus">\r\n    <div class="bostatus key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value">\r\n            <div data-sap-widget="_layout_.sap.sbo.ui.widget.BoStatus" data-sap-option="value:{{#value#,two-way}},readonly:false"></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="BoSoClosedInTypes">\r\n    <div class="boclose key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value">BoSoClosedInTypes: {{#value#}}</div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="BoCardCompanyTypes">\r\n    <div class="bostatus key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value">\r\n            <div data-sap-widget="_layout_.sap.ui.widget.DropDownBox" data-sap-option="textField: \'text\', valueField: \'key\', data: [{key: \'cCompany\', text: \'Public\'},{key:\'cPrivate\', text: \'Private\'}], selectedValue: {{#value#, two-way}}"></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n -->\r\n<div data-sap-template="BoYesNoEnum">\r\n    <div class="bostatus key-value">\r\n    	<div class="key">#label#</div>\r\n        <div class="value">\r\n            <div data-sap-widget="_layout_.sap.ui.widget.Checkbox" data-sap-option="text:{{i18n@common/YES}}, checked:{{#value#, _layout_.sap.sbo.util.formatter.bool_string,two-way}}"></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Phone">\r\n    <div class="string key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value"><input data-sap-widget="_layout_.sap.ui.widget.TextField" data-sap-option="value: {{#value#, two-way}}, nullable: true" ></div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Email">\r\n    <div class="string key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value"><input data-sap-widget="_layout_.sap.ui.widget.TextField" data-sap-option="value: {{#value#, two-way}}, nullable: true" ></div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Fax">\r\n    <div class="string key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value"><input data-sap-widget="_layout_.sap.ui.widget.TextField" data-sap-option="value: {{#value#, two-way}}, nullable: true" ></div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="ZipCode">\r\n    <div class="string key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value"><input data-sap-widget="_layout_.sap.ui.widget.TextField" data-sap-option="value: {{#value#, two-way}}, nullable: true" ></div>\r\n    </div>\r\n</div>'}),define("html!sap.sbo.app.template.GeneralProperty",function(){return'<div data-sap-template="String" height="50">\r\n    <div class="string key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value">{{#PROPERTY#}}</div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Integer" height="50">\r\n    <div class="integer key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value">{{#PROPERTY#, sap.sbo.util.formatter.null2Zero}}</div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Long" height="50">\r\n    <div class="integer key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value">{{#PROPERTY#, sap.sbo.util.formatter.null2Zero}}</div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Double" height="50">\r\n    <div class="float key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value">{{#PROPERTY#, sap.sbo.util.formatter.null2Zero}}</div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Price" height="50">\r\n    <div class="float key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value">{{#PROPERTY#, sap.sbo.util.formatter.null2Zero}}</div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Sum" height="50">\r\n    <div class="float key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value">{{#PROPERTY#, sap.sbo.util.formatter.null2Zero}}</div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Quantity" height="50">\r\n    <div class="float key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value">{{#PROPERTY#, sap.sbo.util.formatter.null2Zero}}</div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="array" height="50">\r\n    <div class="array key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value">Count: {{#PROPERTY#/length}}</div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="DateTime" height="50">\r\n    <div class="datetime key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value"><div data-sap-widget="sap.sbo.ui.widget.DateLabel" data-sap-option="value: {{#PROPERTY#, sap.sbo.util.formatter.date_JODATime}}"></div></div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Date" height="50">\r\n    <div class="datetime key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value"><div data-sap-widget="sap.sbo.ui.widget.DateLabel" data-sap-option="value: {{#PROPERTY#, sap.sbo.util.formatter.date_JODATime}}"></div></div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Percent" height="50">\r\n    <div class="percent key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value">{{#PROPERTY#, sap.sbo.util.formatter.null2Zero}}%</div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Memo" height="100">\r\n    <div class="memo key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value">{{#PROPERTY#}}</div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="BoSoOsStatus" height="80">\r\n    <div class="bostatus key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value">\r\n            <div data-sap-widget="sap.sbo.ui.widget.BoStatus" data-sap-option="value:{{#PROPERTY#}},readonly:true"></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="BoSoClosedInTypes" height="50">\r\n    <div class="boclose key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value">BoSoClosedInTypes: {{#PROPERTY#}}</div>\r\n    </div>\r\n</div>\r\n\r\n<div data-sap-template="BoYesNoEnum" height="50">\r\n    <div class="key-value">\r\n        <div data-sap-widget="sap.ui.widget.Checkbox" data-sap-option="text:\'#label#\', checked:{{#PROPERTY#, sap.sbo.util.formatter.bool_string,two-way}}, disabled:true"></div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Boolean" height="50">\r\n    <div class="key-value">\r\n        <div class="key">\r\n            <div data-sap-widget="sap.ui.widget.Checkbox" data-sap-option="text:\'#label#\', checked:{{#PROPERTY#, sap.sbo.util.formatter.boolean_null}}, disabled:true"></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Phone" height="50">\r\n    <div class="string key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value">{{#PROPERTY#}}</div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Email" height="50">\r\n    <div class="string key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value">{{#PROPERTY#}}</div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Fax" height="50">\r\n    <div class="string key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value">{{#PROPERTY#}}</div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="Link" height="50">\r\n    <div class="string key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value">{{#PROPERTY#}}</div>\r\n    </div>\r\n</div>\r\n<div data-sap-template="ZipCode" height="50">\r\n    <div class="string key-value">\r\n        <div class="key">#label#</div>\r\n        <div class="value">{{#PROPERTY#}}</div>\r\n    </div>\r\n</div>\r\n'}),define("html!sap.sbo.app.task.taskTile",function(){return'<div>\r\n<div data-sfa-class="taskTile" class="taskTile">\r\n	<div data-sfa-class="taskheader">\r\n	 \r\n	<div class="sbo-bo-tile sbo-bo-tile-{{count}} task">\r\n	   		  <div class="title">{{i18n@app/task/TASKS}}</div>\r\n    		  <div class="number"><div class="value">{{count, sap.sbo.util.formatter.circleNumber_more}}</div></div>\r\n	  </div>\r\n	  \r\n	   <div data-sfa-class="taskContainer" class = "sap-sbo-app-task-taskContainer-Repeat" data-sap-widget="sap.ui.Repeat"  data-sap-option="data:{{details/value,two-way}}" > 	\r\n	  		<div id="tile" data-sap-template="Content" data-sfa-class="taskAttach" data-sfa-tile-id="{{Id}}" >\r\n	  		<div class = "taskTileHeader">\r\n	  		  <div class="TileDate" data-sfa-class="{{,sap.sbo.app.task.taskUtil.getDueDataClassInTile}}">{{endDate,sap.sbo.app.task.taskUtil.DateDisplay}}</div>\r\n	  		  <div data-sfa-class = "typeIcon"  data-sap-widget = \'sap.ui.widget.Icon\' data-sap-option = "iconURL:{{type,sap.sbo.app.task.taskUtil.ImageUrlComplete}}"></div>\r\n	        </div>		\r\n	  		 <div data-sfa-class = "taskTileContent">\r\n	  				<div data-sfa-class="{{,sap.sbo.app.task.taskUtil.getMemoContentClass}}">\r\n	          			<p> {{,sap.sbo.app.task.taskUtil.ShortDescWithMemoFileNameInTile}}</p>\r\n	         		</div>\r\n	          		<div id = "AttachmentImage" data-sfa-class="attachmentIcon" data-sap-widget = \'sap.ui.widget.Icon\' data-sap-option = "iconURL:{{,sap.sbo.app.task.taskUtil.previewUrlBytask}}" \r\n	          		class = "{{,sap.sbo.app.task.taskUtil.memoIconDisplayByDescription}}">\r\n	         		</div>\r\n				</div>\r\n	      </div>\r\n	  </div>\r\n	  <div class="sap-sbo-app-task-empty-container" ><a class="sap-sbo-app-task-layout-add-icon"></a><div class = "sap-sbo-app-task-empty-text">{{i18n@app/task/NOTOPENTASKS}}</div></div> \r\n	</div>\r\n</div>\r\n<div class="sbo-bo-tile sbo-bo-tile-{{count}} task taskTileSmall" id="taskTileSmall">\r\n    <div class="title">{{i18n@app/task/TASKS}}</div>\r\n    <div class="number"><div class="value">{{count, sap.sbo.util.formatter.circleNumber_more}}</div></div>\r\n</div>\r\n<div class="taskTileShowDetails sbo-bo-tile sbo-bo-tile-{{count}} task ">\r\n	<div class="title" data-sfa-class = "TaskShowDetailsTitle">{{i18n@app/task/TASKS}}</div>\r\n	 <div class="number" style = "margin:0px 20px;width:70px;"><div class="value" style = "left:20px;">{{count, sap.sbo.util.formatter.circleNumber_more}}</div></div>\r\n	 <div data-sap-widget="sap.ui.Repeat" class = "sap-sbo-app-taskTile-phone-repeat"  data-sap-option="data:{{details/value,two-way}}" > 	\r\n	  		<div data-sap-template="Content"  data-sfa-tile-id="{{Id}}" style = "padding-left:15px;padding-right:15px;height:80px;">\r\n				<div data-sfa-class = "taskTileContent" style = "height:60px;">\r\n	  				<div data-sfa-class="MemoContentBlack">\r\n	          			<p> {{,sap.sbo.app.task.taskUtil.ShortDescWithMemoFileNameInTile}}</p>\r\n	         		</div>\r\n				</div>\r\n				<div data-sfa-class = "taskbFooter">\r\n	  				<div data-sfa-class = "typeIcon" data-sap-widget = \'sap.ui.widget.Icon\' data-sap-option = "iconURL:{{type,sap.sbo.app.task.taskUtil.ImageUrlComplete}}">\r\n	         		</div>\r\n	         	<div data-sfa-class = "taskTileDateTime">	\r\n	         		<div data-sfa-class="{{,sap.sbo.app.task.taskUtil.getDueDataClassInTile}}">\r\n	           			{{endDate, sap.sbo.app.task.taskUtil.DateDisplay}} \r\n	  				</div> \r\n	  			</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n	<div class = "sap-sbo-app-taskTile-phone-EmptyDiv"><a class="sap-sbo-app-task-layout-add-icon" style = "margin-left:0px;"></a><div class = "sap-sbo-app-task-empty-text">{{i18n@app/task/NOTOPENTASKS}}</div></div> \r\n</div>\r\n</div>'}),define("html!sap.sbo.app.MasterDatas.Competitor.CompetitorTile",function(){return'<div class="sbo-bo-tile sbo-bo-tile-{{count}} sbo-app-competitor-tile competitor">\r\n    <div class="title">{{i18n@app/competitor/COMPETITOR}}</div>\r\n    <div class="number"><div class="value">{{count, sap.sbo.util.formatter.circleNumber_more}}</div></div>\r\n    </div>\r\n</div>'}),define("html!sap.sbo.app.network.FeedTile",function(){return'\r\n<div id="tile_2_4" class="sbo-bo-tile sbo-bo-tile-{{count}} sbo-Contact-tile feed">\r\n    <div class="title">{{i18n@app/feed/tile/title}}</div>\r\n    <div class="number"><div class="value">{{count}}</div></div>\r\n    <div class="label">{{i18n@feed/hot/setAsHot}}</div>\r\n    <div class="latest_feed">\r\n        <div class="border"></div>\r\n        <div class="portrait">{{!object/portraitHTML_Tile}}</div>\r\n        <div class="cnt">\r\n            <div class="feed_title">\r\n                <span class="author">{{!actor, formatter.getDisplayName}}</span>\r\n            </div>\r\n            <div class="feed_content">\r\n                <div class="content">{{!object/contentHTML}}</div>\r\n                <div class="textEllipsis"></div>\r\n            </div>\r\n            <div id="attachedPanel" class="{{object/attached, formatter.getAttachedStatus}}">\r\n              <div class="img" data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{object/attached, formatter.getFirstAttachedFile}},arrangeType:"both"\' ></div>\r\n                <!--<div>{{object/attached/totalItems}}</div>-->\r\n            </div>\r\n            <div class="comment">\r\n                <span class="createdBy">{{published, sap.sbo.util.formatter.convertTimeToDisplay}}</span>\r\n                <span class="commentsCount">{{comments/totalItems, formatter.getCommentsCount}}</span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div id="tile_2_2" style="display:none;" class="sbo-bo-tile sbo-bo-tile-{{count}} sbo-Contact-tile feed">\r\n    <div class="title">{{i18n@app/feed/tile/title}}</div>\r\n    <div class="number"><div class="value">{{count}}</div></div>\r\n    <div class="label">{{i18n@feed/hot/setAsHot}}</div>\r\n</div>\r\n'}),define("html!sap.sbo.app.network.Reason",function(){return'<div data-sbo-class="reasonPanel">\r\n    <div data-sbo-class="title">{{i18n@app/network/reason/title}}</div>\r\n    <textarea id="txt_reason" rows="3" cols="1"></textarea>\r\n    <div data-sbo-class="bottomBar">\r\n        <div id="btnOk">{{i18n@app/network/btnOK}}</div>\r\n       \r\n        <div id="btnCancel">{{i18n@app/network/btnCancel}}</div>\r\n    </div>\r\n</div>'}),define("html!sap.sbo.app.network.RelatedList",function(){return"<div class='bo-listview opps'>\r\n	<div id=\"related-listView\" data-id=\"listView\" data-sap-widget=\"sap.sbo.layout.pad.ListLayout\" data-sap-option=\"pageSize:0,showEmptyContent:false\">\r\n		<div data-sap-template=\"Content\" class=\"sbo-cardview-item\">\r\n			<div class='item opps-item' data-sap-bo-type='{{boType}}' data-sap-bo-code='{{boCode}}'>\r\n				<div class=\"header\">\r\n					<div class='related-header'>{{boName}}</div><div class='relatedID'>{{id}}</div>\r\n					<div class='related-icon' data-sap-type='{{type}}'></div>\r\n				</div>\r\n				<div class=\"related-desc\">{{name}}</div>\r\n				<div class=\"related-reason\">\r\n					{{reason}}\r\n				</div>\r\n				<div class='related-tail' data-sap-type='{{type}}'>\r\n					{{i18n@common/REMOVE}}\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>"}),define("html!sap.sbo.app.network.RelatedTile",function(){return'<div id="sap-sbo-related-tile">\r\n	<div data-sbo-subclass="related" >\r\n		<div id="related_tile_2_4" class="sbo-bo-tile" data-sfa-class="tile" data-sfa-subclass="related-tile">\r\n			<div class="title">\r\n				{{i18n@app/network/related/title}}\r\n			</div>\r\n			\r\n			<div class=\'number\'>\r\n				<div class="value"></div>\r\n			</div>		\r\n			<div class=\'splitter\'></div>\r\n			<div class=\'related_content\'>\r\n				   <div data-sbo-class="repeat" data-sap-widget="sap.ui.Repeat" data-sap-option=\'data: {{followers/contents,two-way}}\' >\r\n			            <div data-sap-template="Content" data-sbo-class="content">\r\n			                <div class="relate-repeat-item">\r\n			                    <div class="relate-rpt-title" data-sap-boType=\'{{boType}}\' data-sap-boCode=\'{{boCode}}\'>{{boName}}</div><div class="related-id">{{id}}</div>\r\n			                    <div class="relate-rpt-desc">{{name, formatter.convertItemName}}</div>\r\n			                    <div class="relate-rpt-reason">{{reason}}</div>\r\n			                </div>\r\n			            </div>\r\n			        </div>\r\n			        <div class=\'related_reminder\'>\r\n			        	{{i18n@app/relatedTile/reminder}}\r\n			        </div>	\r\n			</div>	\r\n			<div class = "sap-sbo-app-taskTile-phone-EmptyDiv">\r\n				<a class="sap-sbo-app-task-layout-add-icon"></a>\r\n				<div class = "sap-sbo-app-task-empty-text">{{i18n@app/relatedTile/reminder}}</div>\r\n			</div>\r\n		</div>\r\n		\r\n		<div class=\'related-tail\'>\r\n			<div class=\'tail-text\'>{{i18n@app/network/related/more}}</div><div class=\'count\'></div>\r\n		</div>	\r\n	</div>\r\n\r\n</div>'}),define("html!sap.sbo.app.network.RelatedTo",function(){return'<div data-sbo-class="pItemList">\r\n    <div class="title">{{i18n@app/network/relatedTo/title}}</div>\r\n    <div class="selectPanel">\r\n        <input type="button" value="{{i18n@app/network/relatedTo/btnRelate}}" id="btnRelate"/>\r\n    </div>\r\n    <div class="itemList">\r\n        <ul></ul>\r\n    </div>\r\n</div>'}),define("html!sap.sbo.app.network.SelectBO",function(){return'<div data-sbo-class="BOList">\r\n    <div class="title">{{i18n@app/network/selectBO/title}}</div>\r\n    <div class="selectBO">\r\n        <ul>\r\n            <li data-val="97">{{i18n@app/network/selectBO/opp}}</li>\r\n            <li data-val="4">{{i18n@app/network/selectBO/product}}</li>\r\n            <li data-val="2">{{i18n@app/network/selectBO/customer}}</li>\r\n            <li data-val="11">{{i18n@app/network/selectBO/cp}}</li>\r\n        </ul>\r\n    </div>\r\n</div>'}),define("html!sap.sbo.app.network.phone.FeedTile",function(){return'<div id="tile_1_2" class="sbo-bo-tile sbo-bo-tile-{{count}} sbo-Contact-tile feed">\r\n    <div class="title">{{i18n@app/feed/tile/title}}</div>\r\n    <div class="number"><div class="value">{{count, sap.sbo.util.formatter.circleNumber_more}}</div></div>\r\n</div>\r\n<div id="tile_2_2" class="sbo-phone-feed-tile">\r\n    <div class="top">\r\n        <span class="title">{{i18n@app/feed/tile/title}}</span>\r\n        <span class="count">{{count, formatter.convertDisplayStr}}</span>\r\n    </div>\r\n    <div class="content" style="display: {{published, formatter.getTimeDisplayStatus}}">\r\n        <div class="first-feed">\r\n            <div class="portrait">{{!object/portraitHTML}}</div>\r\n            <div class="cnt">\r\n                <div class="feed-title">{{!actor, formatter.getDisplayName}}</div>\r\n                <div class="feed-content">{{!object/contentHTML}}</div>\r\n                <div class="comment">\r\n                    <span class="createdBy">{{published, sap.sbo.util.formatter.convertTimeToDisplay}}</span>\r\n                    <span class="cmt">{{comments/totalItems, formatter.getComments}}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'}),define("html!sap.sbo.app.user.ChangeMyPassword",function(){return'<div class="change_password_panel">\r\n    <div class="topbar">\r\n        <div id="btnOK">{{i18n@page/button/save}}</div>\r\n        <div id="btnCancel">{{i18n@app/network/btnCancel}}</div>\r\n    </div>\r\n    <div class="title">{{i18n@page/user/btnCgPsw}}</div>\r\n    <div class="property">\r\n        <div class="label">{{i18n@app/user/cgPsw/crtPsw}}</div>\r\n        <div class="inputBox">\r\n            <input type="password" id="currentPsd"/>\r\n        </div>\r\n    </div>\r\n    <div class="property">\r\n        <div class="label">{{i18n@app/user/cgPsw/newPsw}}</div>\r\n        <div class="inputBox">\r\n            <input type="password" id="newPsd"/>\r\n        </div>\r\n    </div>\r\n    <div class="property">\r\n        <div class="label">{{i18n@app/user/cgPsw/confirmPsw}}</div>\r\n        <div class="inputBox">\r\n            <input type="password" id="confirmPsd"/>\r\n        </div>\r\n    </div>\r\n</div>'}),define("html!sap.sbo.app.user.ChangePassword",function(){return'<div class="change_password_panel">\r\n    <div class="topbar">\r\n        <div id="btnOK">{{i18n@page/button/save}}</div>\r\n        <div id="btnCancel">{{i18n@app/network/btnCancel}}</div>\r\n    </div>\r\n    <div class="title">{{i18n@page/user/btnCgPsw}}</div>\r\n    <div class="property">\r\n        <div class="label">{{i18n@app/user/cgPsw/newPsw}}</div>\r\n        <div class="inputBox">\r\n            <input type="password" id="newPsd"/>\r\n        </div>\r\n    </div>\r\n    <div class="property">\r\n        <div class="label">{{i18n@app/user/cgPsw/confirmPsw}}</div>\r\n        <div class="inputBox">\r\n            <input type="password" id="confirmPsd"/>\r\n        </div>\r\n    </div>\r\n</div>'}),define("html!sap.sbo.app.user.phone.ChangeMyPassword",function(){return'<div class="change_password_panel">\r\n    <div class="property">\r\n        <div class="label">{{i18n@app/user/cgPsw/crtPsw}}</div>\r\n        <div class="inputBox">\r\n            <input type="password" id="currentPsd"/>\r\n        </div>\r\n    </div>\r\n    <div class="property">\r\n        <div class="label">{{i18n@app/user/cgPsw/newPsw}}</div>\r\n        <div class="inputBox">\r\n            <input type="password" id="newPsd"/>\r\n        </div>\r\n    </div>\r\n    <div class="property">\r\n        <div class="label">{{i18n@app/user/cgPsw/confirmPsw}}</div>\r\n        <div class="inputBox">\r\n            <input type="password" id="confirmPsd"/>\r\n        </div>\r\n    </div>\r\n</div>'}),define("html!sap.sbo.ui.BaseChooseListFrameView",function(){return'<div data-id=\'sbo-chooselist\'>    \r\n	<div data-id="header">\r\n		<div data-id="title">{{title}}</div>\r\n		<div data-id="count">{{length}}</div>\r\n		<div data-id="extendAnchor" style="display:none"> </div>\r\n	</div>\r\n	<div data-id="results">\r\n		<div data-id="container" >\r\n      <div data-id="none" data-touchable="true">{{i18n@layout/NONE_FIELD}}</div>\r\n			<div data-id="list">\r\n		</div>\r\n		<div data-id="loadingInfo" class="{{requestStatus}}">\r\n			<span class="info ready">{{i18n@layout/DRAG_FOR_MORE}}</span>\r\n			<span class="info releaseToLoad">{{i18n@layout/RELEASE_TO_LOAD}}</span>\r\n			<span class="info noMore"> </span>\r\n			<span class="info loading">{{i18n@layout/LOADING}}</span>\r\n		</div>\r\n	</div>\r\n  </div>\r\n  <div class="loadingMask"></div>\r\n</div>\r\n'}),define("html!sap.sbo.ui.DataPickerView",function(){return'<div>\r\n  <div data-sap-widget="sap.sbo.ui.widget.DataPicker"\r\n       data-sap-option="groupLabelField:\'name\',groupsData:{{groupsData}},listData:{{listData}}"\r\n       data-sap-command="tagSelected:pickTag;dataSelected:pickData">\r\n\r\n    <div data-sap-template=\'Content\'>\r\n      {{data/name}}\r\n    </div>\r\n\r\n  </div>\r\n</div>\r\n'}),define("html!sap.sbo.ui.pad.ChooseListFrameView",function(){return'<div data-id="sbo-chooselist-pad-header-extend">\r\n	<div data-id="ok"><a href="javascript:void(0);"></a> </div>\r\n	<div data-id="exit"><a href="javascript:void(0);"></a> </div>\r\n	<div data-id="input">\r\n		<input data-sap-widget="sap.ui.widget.TextField" data-sap-option="value:{{searchTerm, two-way}}, liveChange: true"/>\r\n		<a data-id="toggle-search" />\r\n	</div>\r\n</div>\r\n<!--\r\n vim:ts=2 sw=2 noexpandtab\r\n -->\r\n'}),define("html!sap.sbo.ui.phone.ChooseListFrameView",function(){return'<div data-id="sbo-chooselist-phone-header-extend">\r\n	<div data-id="exit"></div>\r\n	<a data-id="ok" >{{i18n@common/SAVE}}</a>\r\n	<div data-id="input">\r\n		<input data-sap-widget="sap.ui.widget.TextField" data-sap-option="value:{{searchTerm, two-way}}, liveChange: true"/> \r\n		<a data-id="toggle-search" />\r\n	</div>\r\n</div>\r\n<!--\r\n vim:ts=2 sw=2 noexpandtab\r\n -->\r\n'}),define("html!sap.sbo.ui.widget.Address",function(){return'<div class="addressWidget pad" >\r\n    <div class="icon" displayIcon={{address@displayIcon}} data-touchable="true">\r\n       <span add-part="icon"><a href={{address@addressLink}} target=\'_blank\'><img src=\'./image/Customer/address.png\'></a></span>\r\n    </div> \r\n    <div class="info">\r\n       <div add-part="street1">{{address@street1}}</div>\r\n       <div add-part="street2">{{address@street2}}</div>\r\n       <div add-part="street3">{{address@street3}}</div>\r\n       <div add-part="street4">{{address@street4}}</div>\r\n    </div>\r\n</div>\r\n\r\n<div class="addressWidget phone" data-touchable="true">\r\n    <a href={{address@addressLink}} target=\'_blank\'>\r\n	    <div class="icon" displayIcon={{address@displayIcon}}>\r\n	       <span add-part="icon"><img src=\'./image/Customer/address.png\'></span>\r\n	    </div> \r\n	    <div class="info">\r\n	       <div add-part="street1">{{address@street1}}</div>\r\n	       <div add-part="street2">{{address@street2}}</div>\r\n	       <div add-part="street3">{{address@street3}}</div>\r\n	       <div add-part="street4">{{address@street4}}</div>\r\n	    </div>\r\n    </a>\r\n</div>'
}),define("html!sap.sbo.ui.widget.BoLabel",function(){return'<div class="*>navigator">\r\n</div>\r\n<div class="*>pic">\r\n  <img />\r\n</div>\r\n<div class="*>placeholder">\r\n  &nbsp;\r\n</div>\r\n<div class="*>desc">\r\n</div>\r\n\r\n'}),define("html!sap.sbo.ui.widget.BoList",function(){return'<div class="header">\r\n	<div class="labels"\r\n		data-sap-widget="sap.sbo.layout.pad.MetadataRaw"\r\n		data-sap-option="labelOnly: true">\r\n	</div>\r\n</div>\r\n\r\n<div class="list">\r\n	<div class="items"	data-sap-widget="sap.sbo.ui.Loop"\r\n		data-sap-option="">\r\n		<div class="item" data-sap-template="Content">\r\n			<div class="icon" gl-action="remove" gl-confirm="true"></div>\r\n			<div class="row">\r\n				<div class="fields"\r\n					data-sap-widget="sap.sbo.layout.pad.MetadataRaw"\r\n					data-sap-option="readonly:true, modelPrefix:\'loop@data/\'">\r\n				</div>\r\n				<div class="icon" gl-action="detail"></div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n\r\n<!--\r\n vim:ts=2 sw=2 noexpandtab\r\n -->\r\n'}),define("html!sap.sbo.ui.widget.ChartTileView",function(){return'<div data-sap-widget="sap.sbo.ui.widget.ReportWidget" data-sap-command="runDashboardDone:gotDashboardData;chart.click:gotoDetailView" data-sap-option="titleVisible:false,axisVisible:false,legendVisible:false,reportId:{{reportId}},filterData:{{filter}}"></div>\r\n'}),define("html!sap.sbo.ui.widget.DataPicker",function(){return'<div class="dataPickerContent">\r\n  <div class="topSection">\r\n    <div class="searchSection">\r\n      <div data-sap-widget="sap.sbo.ui.widget.SearchInput" data-sap-option=""></div>\r\n    </div>\r\n    <div class="tagSection">\r\n      <div data-sap-widget="sap.sbo.ui.widget.TagPanel" data-sap-option="data:{{sapsbouiwidgetDataPicker@groupsSource}},multiSelection:false" ></div>\r\n    </div>\r\n  </div>\r\n  <div class="listSection">\r\n    <div class="datalist" data-sap-widget="sap.sbo.ui.widget.ListView" data-sap-option="data:{{sapsbouiwidgetDataPicker@listSource}}">\r\n\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n'}),define("html!sap.sbo.ui.widget.GroupableListView",function(){return'<div class="groupableListView">\r\n  <div class="listContainer">\r\n    <div class="listContent"  data-sap-widget="sap.sbo.ui.Loop" data-sap-option=\'modelName:"",data: {{sapsbouiwidgetGroupableListView@source,two-way}}\' >\r\n      <div data-sap-template="Content" class="groupItem">\r\n        <div class="groupname">\r\n          <div class="groupcontent">\r\n            {{data/groupName}}\r\n          </div>\r\n          <div class="groupcount">\r\n            {{data/count}}\r\n          </div>\r\n        </div>\r\n        <div class="placeholder"></div>\r\n        <div data-sap-widget="sap.sbo.ui.Loop" data-sap-option="modelName:\'\',data:{{data/datas,two-way}}">\r\n          <div data-sap-template="Content" class="dataItem">\r\n            <div class="dataTpl" data-sap-command="sapsbouiwidgetGroupableListView@vclick:selectItem">{{data/label}}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class="groupnamecopy hide"> </div>\r\n</div>\r\n'}),define("html!sap.sbo.ui.widget.ListGridView",function(){return'<div class="list-grid-view">\r\n   <div class="header-loop" data-sap-widget="sap.sbo.ui.Loop" data-sap-option=\'modelName:"",data: {{listGridViewModel@headers,two-way}}\' >\r\n	<div class="header-template column-{{internal/index}}" data-sap-template="content">\r\n  		<span class="header-item">{{data/text}}</span>\r\n  	</div>\r\n   </div>\r\n   <div class="rows-container">\r\n	   <div class="row-loop" data-sap-widget="sap.sbo.ui.Loop" data-sap-option=\'modelName:"",data: {{listGridViewModel@rows,two-way}}\' >\r\n		<div data-sap-template="content" class="column-loop-container-{{internal/index}}">\r\n	  		<div class="column-loop" data-sap-widget="sap.sbo.ui.Loop" data-sap-option=\'modelName:"",data: {{data/columns,two-way}}\' >\r\n				<div class="column-template column-{{internal/index}}" data-sap-template="content">\r\n			  		{{!data/template}}\r\n			  	</div>\r\n		   </div>\r\n		   <!--  <div class="nav-icon" data-sap-command="listGridViewModel@vclick:doNext"></div>-->\r\n	  	</div>\r\n	   </div>\r\n     </div>\r\n     <div class="more-trigger" data-sap-command="listGridViewModel@vclick:loadMore">{{i18n@common/MORE}}</div>\r\n</div>\r\n<div class="template-container">\r\n	<div data-sap-template="boolean">\r\n		<span data-sap-widget="sap.ui.widget.Checkbox" data-sap-option="text: \'\', checked: {{data/value, two-way}}" data-sap-command="listGridViewModel@GuilinControlEvent.change:onCheck"></span>\r\n	</div>\r\n	<div data-sap-template="text">\r\n		<span class="column-item" title="{{data/value}}">{{data/value}}</span>\r\n	</div>\r\n</div>\r\n'}),define("html!sap.sbo.ui.widget.ListManipulator",function(){return'<div class="sap-sbo-ui-widget-list-manipulator-content">\r\n\r\n	<div class="sap-sbo-ui-widget-list-manipulator-tab-bar">\r\n		<div data-sap-command="vclick:showQuickFilters" class="tab-icon-container quick-filter-icon-container"></div>\r\n		<div data-sap-command="vclick:showFilter" class="tab-icon-container filter-icon-container"></div>\r\n		<div data-sap-command="vclick:showSort" class="tab-icon-container sort-icon-container"></div>\r\n	</div>\r\n\r\n	<div class="sap-sbo-ui-widget-list-manipulator-quick-filter-container">\r\n		<ul class="sap-sbo-ui-widget-list-manipulator-quick-filter-repeat" data-sap-widget="sap.ui.Repeat" data-sap-option="data: {{quickFilters}}">\r\n			<li data-sap-template="Content" class="sap-sbo-ui-widget-list-manipulator-quick-filter-item" gl-quick-filter-expr="{{expr}}">{{label}}</li>\r\n		</ul>\r\n	</div>\r\n	\r\n	<div class="sap-sbo-ui-widget-list-manipulator-filter-container">\r\n		<div>\r\n			<input class="sap-sbo-ui-widget-list-manipulator-search-box" data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{searchTerm, two-way}}"/>\r\n			<a class="sap-sbo-ui-widget-list-manipulator-search-icon" data-sap-command="vclick:toggleSearch" />\r\n			<a class="sap-sbo-ui-widget-list-manipulator-expand-icon" data-sap-command="vclick:toggleFilters" />\r\n		</div>\r\n		<div class="sap-sbo-ui-widget-list-manipulator-filter-by-label">{{i18n@common/FILTER_BY}}</div>\r\n		<ul class="sap-sbo-ui-widget-list-manipulator-filter-fields-repeat" data-sap-widget="sap.ui.Repeat" data-sap-option="data: {{filter}}">\r\n			<li data-sap-template="Content" class="sap-sbo-ui-widget-list-manipulator-filter-item" property="{{property}}" field-type="{{type}}">\r\n				<div class="sap-sbo-ui-widget-list-manipulator-filter-fields-label">{{label}}</div>\r\n				<div class="sap-sbo-ui-widget-list-manipulator-filter-fields-content" data-touchable="true">\r\n					<span class="sap-sbo-ui-widget-list-manipulator-filter-preview sap-sbo-ui-widget-list-manipulator-{{property}}-preview">{{i18n@common/ALL}}</span><a class="sap-sbo-ui-widget-list-manipulator-filter-details-icon" />\r\n				</div>\r\n			</li>\r\n		</ul>\r\n	</div>\r\n	\r\n	<div class="sap-sbo-ui-widget-list-manipulator-sort-container">\r\n		<div class="sap-sbo-ui-widget-list-manipulator-sort-repeat" data-sap-widget="sap.ui.Repeat" data-sap-option="data: {{sort}}">\r\n			<div data-sap-template="Content">\r\n				<label>{{label}}</label>\r\n				<div class="icon-container">\r\n					<a class="sort-icon" gl-sort-property="{{property}}" gl-sort-type="{{type}}"/>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n\r\n	<div class="sap-sbo-ui-widget-list-manipulator-filter-configurator">\r\n		<div class="sap-sbo-ui-widget-list-manipulator-filter-top-bar">\r\n			<a class="sap-sbo-ui-widget-list-manipulator-back-icon" data-sap-command="vclick:backToFilter" />\r\n			<a class="sap-sbo-ui-widget-list-manipulator-done-filter-button" data-sap-command="vclick:applyFilter" >{{i18n@common/SAVE}}</a>\r\n			<a class="sap-sbo-ui-widget-list-manipulator-clean-filter-button" data-sap-command="vclick:cleanFilter" >{{i18n@common/CLEAN_FILTER}}</a>\r\n		</div>\r\n		<div class="sap-sbo-ui-widget-list-manipulator-filter-control">\r\n			\r\n		</div>\r\n	</div>\r\n\r\n</div>'}),define("html!sap.sbo.ui.widget.ListView",function(){return'<div class="listView">\r\n  <div class="emptyMSG {{sapsbouiwidgetListView@hideStyle}}">{{sapsbouiwidgetListView@emptymsg}}</div>\r\n  <div class="listContainer">\r\n    <div class="bo-repeat" data-sap-widget="sap.sbo.ui.Loop" data-sap-option=\'modelName:"",data: {{sapsbouiwidgetListView@source,two-way}}\' >\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n'}),define("html!sap.sbo.ui.widget.MultipleValueHelp",function(){return'<div class="sap-sbo-ui-multi-vh-container">\r\n	<div data-sap-template="content" gl-value="{{value}}">\r\n		<div class="sap-sbo-ui-multi-vh-content">\r\n			<div class="sap-sbo-ui-multi-vh-subtitle">{{subtitle}}</div>	\r\n			<div class="sap-sbo-ui-multi-vh-title">{{title}}</div>	\r\n		</div>\r\n		<a class="sap-sbo-ui-multi-vh-delete-icon"></a>	\r\n	</div>\r\n</div>\r\n<div class="sap-sbo-ui-multi-vh-add-row">\r\n	<a class="sap-sbo-ui-multi-vh-add-icon"></a>\r\n</div>'}),define("html!sap.sbo.ui.widget.PhoneMediaBar",function(){return'<div class="sap-sbo-ui-widget-phonemediabar">\r\n    <div class="container">\r\n        <div class="press-talk" data-sap-widget="sap.sbo.ui.widget.PressToTalk" data-sap-option="echovoice: true, autoupload: {{autoComplete}}"></div>\r\n    </div>\r\n    <div class="container">\r\n        <div class="photo-pick" data-sap-widget="sap.sbo.ui.widget.PhotoPicker" data-sap-option="resourcetype:\'camera\', autoupload: {{autoComplete}}"></div>\r\n    </div>\r\n    <div class="container">\r\n        <div class="photo-album" data-sap-widget="sap.sbo.ui.widget.PhotoPicker" data-sap-option="resourcetype:\'album\', autoupload: {{autoComplete}}"></div>\r\n    </div>\r\n</div>'}),define("html!sap.sbo.ui.widget.PreviewBox",function(){return"<div>\r\n	<div class=\"previewbox-wrap\">\r\n		<div class=\"previewbox-outer\">\r\n			<div class=\"previewbox-content\">\r\n				<img class=\"previewbox-img\" alt=\"\">\r\n			</div>\r\n			<a class=\"previewbox-close\"></a>\r\n			<div class=\"previewbox-title\"></div>\r\n		</div>\r\n	</div>\r\n	<div class='sap-sbo-ui-widget-previewbox-mask'>\r\n		<div class='bg'></div>\r\n		<div class='close-box'>\r\n			<div>X</div>\r\n		</div>\r\n		<div class='bottom-bar'>\r\n			<div class='zooming-bar'>\r\n				<div class='zoom-in' data-touchable='true'>\r\n					+\r\n				</div>\r\n				<div class='zoom-out' data-touchable='true'>\r\n					-\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n"}),define("html!sap.sbo.ui.widget.Progress",function(){return'<div>\r\n	<div class="sbo-progress-wrap">\r\n		<div class="sbo-progress-outer">\r\n			<div class="sbo-progress-bar"></div>\r\n		</div>\r\n	</div>\r\n	<div class=\'sap-sbo-ui-widget-progress-mask\'>\r\n		<div class=\'close-box\'>\r\n			<div>X</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n'}),define("html!sap.sbo.ui.widget.ReportWidget",function(){return'\r\n<div data-sap-widget="sap.sbo.ui.widget.ChartView" data-sap-option="chartType:{{sap.sbo.ui.widget.ReportWidget@chartType}},dimensions:{{sap.sbo.ui.widget.ReportWidget@dimensionsString}},measures:{{sap.sbo.ui.widget.ReportWidget@measuresString}},headers:{{sap.sbo.ui.widget.ReportWidget@dataHeaders}},datas:{{sap.sbo.ui.widget.ReportWidget@queryDatas}},legendVisible:{{sap.sbo.ui.widget.ReportWidget@legendVisible}},title:{{sap.sbo.ui.widget.ReportWidget@title}},xAxisVisible:{{sap.sbo.ui.widget.ReportWidget@axisVisible}},yAxis0Visible:{{sap.sbo.ui.widget.ReportWidget@axisVisible}},yAxis1Visible:{{sap.sbo.ui.widget.ReportWidget@axisVisible}},xLabelVisible:{{sap.sbo.ui.widget.ReportWidget@axisVisible}}"></div>\r\n'}),define("html!sap.sbo.ui.widget.SearchInput",function(){return'<div class="searchbar">\r\n  <div class="searchContainer">\r\n    <input class="search" data-sap-command="keyup:search" />\r\n    <div class="close hideClose" data-sap-command="vclick:clear"></div>\r\n  </div>\r\n</div>\r\n'}),define("html!sap.sbo.ui.widget.TagPanel",function(){return'<div class="tagContainer">\r\n  <div class="bo-repeat" data-sap-widget="sap.sbo.ui.Loop" data-sap-option=\'data: {{sapsbouiwidgetTagPanel@source,two-way}}\' >\r\n    			<div data-sap-template="Content" class="tag selected-{{loop@data/selected}}" data-index="{{loop@data/index}}">{{loop@data/name}}</div>\r\n    </div>\r\n</div>\r\n'}),define("html!sap.sbo.ui.widget.UploadButton",function(){return'<div class="sap-sbo-ui-widget-uploadbutton-crop" data-sap-widget="sap.ui.Dialog" data-sap-option="modal: true,showHeader: false, showFooter: false, cssClass:\'sap-sbo-ui-widget-uploadbutton-crop\', width:800, height:600, title:{{title}}">\r\n	\r\n	<div id="dlg-body" data-sap-template="Body">\r\n	<div class="operationBar">\r\n		<div class="operationBar-title">{{title}}</div>\r\n		<div data-sap-widget="sap.ui.Repeat"\r\n			data-sap-option="data: {{buttons}}">\r\n			<div data-sap-template="Content">\r\n				<div class="right-button" data=\'{{key}}\'>{{text}}</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n	<img src="{{imagedata}}" id="{{imageid}}" class="sap-sbo-ui-widget-uploadbutton-imagecrop"></img>\r\n	</div>\r\n</div> '}),define("html!sap.sbo.page.BaseSubBoMetadataView",function(){return'<div data-id=\'sbo-subbo-metadata-view\'>\r\n	<div class="header"></div>\r\n	<div class="list">\r\n		<div class="container">\r\n			<div class="items"	data-sap-widget="sap.sbo.ui.Loop">\r\n				<div class="item" data-sap-template="Content">\r\n					<div class="header"> \r\n					</div>\r\n				</div>\r\n			</div>\r\n			\r\n			\r\n			<div class="empty-container">\r\n				<a class="add-icon" data-sap-command="eventModel@vclick:editAndCreate"></a>\r\n			</div>\r\n			\r\n		</div>\r\n	</div>\r\n</div>\r\n<!--\r\n vim:ts=2 sw=2 noexpandtab\r\n -->\r\n\r\n'}),define("html!sap.sbo.page.pad.EditMetaDataField",function(){return'<div class="EditMetaDataField" data-sap-template="ViewContent" isNewAdd="{{data/isNewField}}" userDefined="{{data/userDefined}}" readonly="{{data/userDefined}}">\r\n		\r\n		<div class="title">\r\n			{{data/title}}\r\n		</div>\r\n		\r\n		<div id="infoArea" dataType="{{data/type_data/key}}" isDecimal="{{data/type_data/isDecimal}}" isEnum="{{data/isEnum}}" enableValidValues="{{data/enableValidValues}}" >\r\n			<div id="udf_NameField" class="labelBox">\r\n				<div class="boxHeader">\r\n					<label>{{i18n@app/settings/NAME}}</label>\r\n				</div>\r\n				<div class="boxContent">\r\n					<input id="field_Name"  type="text" data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{data/name,two-way}},disabled:{{data/disabledlist/udf_name,two-way}},nullable:true,liveChange:true"></input>\r\n				</div>\r\n				<div class="attachInfo">\r\n					{{data/errorList/field_Name}}\r\n				</div>\r\n			</div>\r\n		\r\n			<div class="labelBox">\r\n				<div class="boxHeader">\r\n					<label>{{i18n@app/settings/DISPLAY_NAME}}</label>\r\n				</div>\r\n				<div class="boxContent">\r\n					<input id="field_DisplayName"  type="text" data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{data/label,two-way}},nullable:true,liveChange:true"></input>\r\n				</div>\r\n				<div class="attachInfo">\r\n					{{data/errorList/field_DisplayName}}\r\n				</div>\r\n			</div>\r\n		\r\n			<div class="labelBox">\r\n				<div class="boxHeader">\r\n					<label>{{i18n@app/settings/TYPE}}</label>\r\n				</div>\r\n				<div class="boxContent">\r\n					<div id="typePicker" data-sap-widget="sap.ui.widget.ValueHelpField" data-sap-option="value:{{data/type_data/text,two-way}},readonly:true,disabled:{{data/disabledlist/type,two-way}}"></div>\r\n				</div>\r\n			</div>				\r\n\r\n\r\n			<div class="labelBox">\r\n				<div class="boxHeader">\r\n					<label>{{i18n@app/settings/DESCRIPTION}}</label>\r\n				</div>\r\n				<div class="boxContent">\r\n					<input type="text"   data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{data/description,two-way}}, nullable:true,liveChange:true"></input>\r\n				</div>\r\n			</div>\r\n			\r\n			\r\n			<div id="validValuesGroup" class="group" expanded="{{data/enableValidValues}}">\r\n				<div class="groupHeader">\r\n					<div class="headerContent">\r\n						<div columnId="1">\r\n							{{i18n@app/settings/VALID_VALUES}}\r\n						</div>\r\n						<div columnId="2">\r\n							<span id="validValuesCheckbox" data-sap-widget=\'sap.ui.widget.Checkbox\' data-sap-option="text:\'\', checked: {{data/enableValidValues,two-way}}"></span>\r\n							<a id="chooseValidValues">{{i18n@app/settings/CHOOSE_VALID_VALUES}}</a>\r\n						</div>\r\n					</div>\r\n				</div>\r\n				<div class="groupContent">\r\n					<!-- valid values list -->\r\n					<div class="validValuesListBox">\r\n						<div class="tableheader">\r\n							<div columnId="1">{{i18n@app/settings/VALUE}}</div>\r\n							<div columnId="2">{{i18n@app/settings/DESCRIPTION}}</div>\r\n						</div>\r\n						\r\n						<div id="itemsPresenter" data-sap-widget="sap.ui.Repeat" data-sap-option=\'data: {{data/validValues_List,two-way}}\' >\r\n							<div class="row" data-sap-template="Content">\r\n								<div columnId="1">\r\n									<input type="text" data-sap-widget="sap.ui.widget.TextField" data-sap-option=\'value: {{textValue,two-way}},disabled:{{isEnum,two-way}}, nullable:true,liveChange:true\'/>\r\n							    	<div type="Date" data-sap-widget="sap.sbo.ui.widget.DateTimeField" data-sap-option="value:{{dateValue,two-way,sap.sbo.util.formatter.date_JODATime}}" ></div> \r\n							    	<input data-sap-widget="sap.sbo.ui.widget.DecimalInputField" \r\n							    	data-sap-option="value: {{decimalValue, two-way, sap.formatter.real_string_nullable}},\r\n							    	 nullable: true, liveChange:true, decimalSeparator: {{globalSettings@separators/DecimalSeparator}},\r\n							    	  thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}} , \r\n							    	  decimalNum:{{globalSettings@types/Price/DecimalPlace}}" /> \r\n								</div>\r\n								<div columnId="2">\r\n									<input type="text" data-sap-widget="sap.ui.widget.TextField" data-sap-option=\'value: {{desc,two-way}},disabled:{{isEnum,two-way}}, nullable:true,liveChange:true\'/>\r\n								</div>\r\n								\r\n								<div columnId="3">\r\n									<button id="removeValidValue" data-sap-widget="sap.ui.widget.Button" data-sap-option="text:{{i18n@app/settings/REMOVE}}"></button>\r\n								</div>\r\n							</div>\r\n						</div>\r\n						\r\n						<div class="row">\r\n							<a id="addNewValidValue">{{i18n@app/settings/ADD_VALID_VALUE}}</a>\r\n						</div>\r\n					</div>\r\n					\r\n				</div>\r\n			</div> \r\n			\r\n			\r\n			<div id="validationRuleGroup" class="group" expanded="{{data/enableValidation}}">\r\n				<div class="groupHeader">\r\n					<div class="headerContent">\r\n						<div columnId="1">\r\n							{{i18n@app/settings/VALIDATIONS}}\r\n						</div>\r\n						<div columnId="2">\r\n							<span id="validationCheckbox" data-sap-widget=\'sap.ui.widget.Checkbox\' data-sap-option="text:\'\', checked: {{data/enableValidation,two-way}}"></span>\r\n						</div>\r\n					</div>\r\n				</div>\r\n				<div class="groupContent">\r\n					<!-- validation rule -->\r\n					<div class="validationRuleBox" selectedRule="{{data/selectedRule,two-way}}">\r\n						\r\n						<div class="labelBox">\r\n							<div class="boxHeader">\r\n								<label>{{i18n@app/settings/OPERATOR}}</label>\r\n							</div>\r\n							<div class="boxContent">\r\n								<div id="validateRulesBox" data-sap-widget="sap.ui.widget.DropDownBox" data-sap-option="data:{{data/rules,two-way}},valueField:\'key\',textField:\'text\', selectedValue:{{data/selectedRule, two-way}}"></div>\r\n							</div>\r\n						</div>\r\n						\r\n						<div class="expressionBox">\r\n							<div class="shadowBox">\r\n								<label id="otherRuleShadow" class="shadowText" value="{{data/ruleExpression_Text,two-way}}">{{i18n@app/settings/VALUE}}</label>\r\n								<label id="regexRuleShadow" class="shadowText" value="{{data/ruleExpression_Text,two-way}}">{{i18n@app/settings/EXPRESSION}}</label>\r\n								<input type="text" data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{data/ruleExpression_Text,two-way}},liveChange:true"></input>\r\n							</div>\r\n							<div type="Date" data-sap-widget="sap.sbo.ui.widget.DateTimeField" data-sap-option="value:{{data/ruleExpression_Date,two-way,sap.sbo.util.formatter.date_JODATime}}" ></div>\r\n							<input data-sap-widget="sap.sbo.ui.widget.DecimalInputField" \r\n							data-sap-option="value: {{data/ruleExpression_Decimal, two-way, sap.formatter.real_string_nullable }}, \r\n							nullable: true, liveChange:true, decimalSeparator: {{globalSettings@separators/DecimalSeparator}}, \r\n							thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}} ,\r\n							 decimalNum:{{globalSettings@types/Price/DecimalPlace}}" /> \r\n						</div>\r\n						\r\n 						<div class="fromToBox">\r\n							<div columnId="1">\r\n								<div class="shadowBox">\r\n									<label class="shadowText" value="{{data/ruleExpression_From_Text,two-way}}">{{i18n@app/settings/FROM}}</label>\r\n									<input type="text" data-sap-widget="sap.ui.widget.TextField" data-sap-option=\'value:{{data/ruleExpression_From_Text,two-way}},liveChange:true\'/>\r\n								</div>\r\n								<div type="Date" data-sap-widget="sap.sbo.ui.widget.DateTimeField" data-sap-option="value:{{data/ruleExpression_From_Date,two-way,sap.sbo.util.formatter.date_JODATime}}" ></div>\r\n								<input data-sap-widget="sap.sbo.ui.widget.DecimalInputField" \r\n								data-sap-option="value: {{data/ruleExpression_From_Decimal, two-way, sap.formatter.real_string_nullable }}, \r\n								nullable: true, liveChange:true, decimalSeparator: {{globalSettings@separators/DecimalSeparator}}, \r\n								thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}} , \r\n								decimalNum:{{globalSettings@types/Price/DecimalPlace}}" />\r\n							</div>\r\n							<div columnId="2">\r\n								~\r\n							</div>\r\n							<div columnId="3">\r\n								<div class="shadowBox">\r\n									<label class="shadowText" value="{{data/ruleExpression_To_Text,two-way}}">{{i18n@app/settings/TO}}</label>\r\n									<input type="text" data-sap-widget="sap.ui.widget.TextField" data-sap-option=\'value:{{data/ruleExpression_To_Text,two-way}},liveChange:true\'/>\r\n								</div>\r\n								<div type="Date" data-sap-widget="sap.sbo.ui.widget.DateTimeField" data-sap-option="value:{{data/ruleExpression_To_Date,two-way,sap.sbo.util.formatter.date_JODATime}}" ></div>\r\n								<input data-sap-widget="sap.sbo.ui.widget.DecimalInputField" \r\n								data-sap-option="value: {{data/ruleExpression_To_Decimal, two-way, sap.formatter.real_string_nullable }}, \r\n								nullable: true, liveChange:true, decimalSeparator: {{globalSettings@separators/DecimalSeparator}}, \r\n								thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}} , \r\n								decimalNum:{{globalSettings@types/Price/DecimalPlace}}" /> \r\n							</div>\r\n						</div>\r\n						\r\n						<!-- <div class="attachInfo">\r\n							{{data/errorList/field_Name}}\r\n						</div> -->\r\n						\r\n						<div class="labelBox">\r\n							<div class="boxHeader">\r\n								<label>{{i18n@app/settings/CUS_ERR_MESSAGE}}</label>\r\n							</div>\r\n							<div class="boxContent">\r\n								<input type="text" data-sap-widget="sap.ui.widget.TextField" data-sap-option=\'value:{{data/customErrorMessage,two-way}},nullable:true,liveChange:true\'/>\r\n							</div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div> \r\n			\r\n			<div id="defaultValueGroup" class="labelBox">\r\n				<div class="boxHeader">\r\n					<label>{{i18n@app/settings/DEFAULT_VALUE}}</label>\r\n				</div>\r\n				<div class="boxContent">\r\n					<input id="defaultValueTextInput" type="text" data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{data/defaultValue_Text,two-way}},nullable:true,liveChange:true"></input>\r\n					<div id="defaultValueDropdownList" data-sap-widget="sap.ui.widget.DropDownBox" data-sap-option="data:{{data/defaultValue_List,two-way}},valueField:\'key\',textField:\'text\', selectedValue:{{data/selectedDefaultValue, two-way}}"></div>\r\n					<div type="Date" data-sap-widget="sap.sbo.ui.widget.DateTimeField" data-sap-option="value:{{data/defaultValue_Date,two-way,sap.sbo.util.formatter.date_JODATime}}" ></div>\r\n					<input id="defaultValueDecimalInput" data-sap-widget="sap.sbo.ui.widget.DecimalInputField" \r\n					data-sap-option="value: {{data/defaultValue_Decimal, two-way, sap.formatter.real_string_nullable }}, nullable: true, liveChange:true, \r\n					decimalSeparator: {{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}} , \r\n					decimalNum:{{globalSettings@types/Price/DecimalPlace}}" /> \r\n				</div>\r\n				<div class="attachInfo">\r\n					{{data/errorList/field_DefaultValue}}\r\n				</div>\r\n			</div>\r\n\r\n		\r\n		</div>\r\n		\r\n		<div class="checkBox">\r\n			<span data-sap-widget=\'sap.ui.widget.Checkbox\'\r\n				data-sap-option="text:{{i18n@app/settings/REQUIRED}},checked: {{data/mandatory,two-way}}"></span>\r\n		</div>\r\n		\r\n		<div class="actionPanel">\r\n			<button id="saveButton" data-sap-widget=\'sap.ui.widget.Button\' data-sap-option="text:{{i18n@app/settings/SAVE}}"></button>\r\n			<button id="resetButton" data-sap-widget=\'sap.ui.widget.Button\' data-sap-option="text:{{i18n@app/settings/RESET}}"></button>\r\n			<button id="deleteButton" data-sap-widget=\'sap.ui.widget.Button\' data-sap-option="text:{{i18n@app/settings/DELETE}}"></button>\r\n		</div>\r\n	</div>\r\n'}),define("html!sap.sbo.page.pad.Home",function(){return'<div class=\'sbo-home\'>\r\n	<div ctrl=\'layout\' class=\'sbo-home-layout\' data-sap-widget="sap.sbo.layout.pad.AdvancedTilesLayout" data-sap-option="">\r\n		<!--\r\n		<div data-sap-template="View" mode="2x2" coordinate="0,0" mode-pad="2x6" coordinate-pad="0,0" uuid="sbo.PortraitTile" name="sap.sbo.app.home.PortraitTile"></div>\r\n		-->\r\n		<div data-sap-template="View" mode="2x4" coordinate="0,0" mode-pad="2x4" coordinate-pad="0,0" uuid="sbo.FeedTile" name="sap.sbo.app.network.FeedTile"></div>\r\n		<div data-sap-template="View" mode="2x2" coordinate="1,0" mode-pad="2x2" coordinate-pad="1,0" uuid="sbo.NotePageTile" name="sap.sbo.app.notepage.NotePageTile"></div>\r\n		<div data-sap-template="View" mode="2x4" coordinate="0,2" mode-pad="2x2" coordinate-pad="0,2" uuid="sbo.taskTile" name="sap.sbo.app.task.taskTile"></div>\r\n		<div data-sap-template="View" mode="2x2" coordinate="1,1" mode-pad="2x2" coordinate-pad="1,1" uuid="sbo.ContactTile" name="sap.sbo.app.Contact.ContactTile"></div>\r\n		<div data-sap-template="View" mode="2x2" coordinate="1,2" mode-pad="2x2" coordinate-pad="1,2" uuid="sbo.CustomerTile" name="sap.sbo.app.Customer.CustomerTile"></div>\r\n		<div data-sap-template="View" mode="2x2" coordinate="2,0" mode-pad="2x2" coordinate-pad="2,0" uuid="sbo.LeadsTile" name="sap.sbo.app.Leads.LeadsTile"></div>\r\n		<div data-sap-template="View" mode="2x4" coordinate="2,1" mode-pad="2x4" coordinate-pad="2,1" uuid="sbo.SalesOppsTile" name="sap.sbo.app.SalesOpportunity.Tile"></div>\r\n		<div data-sap-template="View" mode="2x2" coordinate="0,4" mode-pad="2x2" coordinate-pad="3,0" uuid="sbo.SalesQuotationTile" name="sap.sbo.app.SalesQuotation.SalesQuotationTile"></div>\r\n		<div data-sap-template="View" mode="2x2" coordinate="1,3" mode-pad="2x2" coordinate-pad="3,1" uuid="sbo.SalesOrderTile" name="sap.sbo.app.SalesOrder.SalesOrderTile"></div>\r\n	    <div data-sap-template="View" mode="2x2" coordinate="2,3" mode-pad="2x2" coordinate-pad="3,2" uuid="sbo.ProductTile" name="sap.sbo.app.Product.ProductTile"></div>\r\n		<div data-sap-template="View" mode="2x2" coordinate="1,4" mode-pad="2x2" coordinate-pad="4,1" uuid="sbo.ReportTile" name="sap.sbo.app.report.tile"></div>\r\n		<div data-sap-template="View" mode="2x2" coordinate="2,4" mode-pad="2x2" coordinate-pad="4,0" uuid="sbo.CampaignTile" name="sap.sbo.app.Campaign.CampaignTile"></div>\r\n	</div>\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.LightBoMetadataList",function(){return'<div data-id=\'sbo-lightbo-metadata-list\'>\r\n	<div class="header"></div>\r\n	<div class="list">\r\n		<div class="container">\r\n			<div class="items"	data-sap-widget="sap.sbo.ui.Loop"\r\n				data-sap-option="data:{{value, two-way}}">\r\n				<div class="item" data-sap-template="Content">\r\n					<div class="header"></div>\r\n					<div class="fields"\r\n						data-sap-widget="sap.sbo.layout.pad.MetadataRaw"\r\n						data-sap-option="modelPrefix:\'loop@data/\'">\r\n					</div>\r\n					<div class="icons"> \r\n						<div class="modify">\r\n							<div class="icon" gl-action="edit"> </div>\r\n							<div class="icon" gl-action="remove"> </div>\r\n						</div>\r\n						<div class="confirmation">\r\n							<div class="icon" gl-action="yes"></div>\r\n							<div class="icon" gl-action="no"></div>\r\n						</div>\r\n					</div>\r\n					<div class="mask"> </div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n\r\n<!--\r\n vim:ts=2 sw=2 noexpandtab\r\n -->\r\n'}),define("html!sap.sbo.page.pad.SubBoMetadataView",function(){return'<div data-sap-template="pageHeader">\r\n  <div data-id="sbo-subbo-metadata-page-header">\r\n    <div class="titles">\r\n      <div class="subTitle">{{titles@subTitle}}</div>\r\n      <div class="title">{{titles@title}}</div>\r\n    </div>\r\n    <div class="buttons">\r\n      <button gl-action="create" data-sap-widget="sap.ui.widget.Button" data-sap-option="text: {{i18n@common/ADD}}" data-touchable="true"></button>\r\n      <button gl-action="save" data-sap-widget="sap.ui.widget.Button" data-sap-option="text: {{i18n@common/SAVE}}" data-touchable="true"></button>\r\n      <button gl-action="cancel" data-sap-widget="sap.ui.widget.Button" data-sap-option="text: {{i18n@common/CANCEL}}" data-touchable="true"></button>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div data-sap-template="header">\r\n    <div class="header-fields sbo-app-template-editproperty"\r\n      data-sap-widget="sap.sbo.layout.pad.MetadataRaw"\r\n      data-sap-option="sequenceAutoExpand:false, metadata:{{setting@metadata}}, readonly:{{setting@customReadonly}}, dynamicMeta:{{setting@dynamicMeta}}">\r\n    </div>\r\n</div>\r\n<div data-sap-template="itemHeader">\r\n    <div class="deleteicon" data-type="actionicon"></div>\r\n    <div class="detailicon" data-type="actionicon"></div>\r\n</div>\r\n<div data-sap-template="itemFields">\r\n  <div class="fields sbo-app-template-editproperty"\r\n    data-sap-widget="sap.sbo.layout.pad.MetadataList"\r\n    data-sap-option="hideScrollbar: true, modelPrefix:\'loop@data/\', verticalPadding: 20, readonly:{{setting@customReadonly}}">\r\n  </div>\r\n</div>\r\n<!--\r\n vim:ts=2 sw=2 noexpandtab\r\n -->\r\n\r\n\r\n'}),define("html!sap.sbo.page.pad.SubBoMetadataView2EditFrame",function(){return'<div data-id=\'sbo-subbo-metadata-view-edit-frame\'>\r\n	<div class="actions top">\r\n		<button data-touchable="{{setting@buttonEnabled}}" data-action="close" >{{i18n@common/OK}}</button>\r\n		<button data-touchable="{{setting@buttonEnabled}}" data-action="cancel">{{i18n@common/CANCEL}}</button>\r\n		<button data-touchable="{{setting@buttonEnabled}}" data-action="save" >{{i18n@common/SAVE}}</button>\r\n	</div>\r\n  <div class="content">\r\n    <div class="fields"\r\n      data-sap-widget="sap.sbo.layout.pad.MetadataRaw"\r\n      data-sap-option="modelPrefix:\'#MODELPREFIX#\'">\r\n    </div>\r\n  </div>\r\n	<div class="actions bottom">\r\n		<button data-touchable="{{setting@buttonEnabled}}" data-action="remove" class="button">{{i18n@common/REMOVE}}</button>\r\n	</div>\r\n\r\n</div>\r\n\r\n<!--\r\n vim:ts=2 sw=2 noexpandtab\r\n -->\r\n\r\n'}),define("html!sap.sbo.page.pad.SubBoMetadataView2",function(){return'<div data-sap-template="pageHeader">\r\n  <div data-id="sbo-subbo-metadata-page-header">\r\n    <div class="titles">\r\n      <div class="subTitle">{{titles@subTitle}}</div>\r\n      <div class="title">{{titles@title}}</div>\r\n    </div>\r\n    <div class="buttons">\r\n			<button gl-action="create" data-sap-widget="sap.ui.widget.Button" data-sap-option="text: {{i18n@common/ADD}}" data-touchable="{{setting@buttonEnabled}}"></button>\r\n      <button gl-action="save" data-sap-widget="sap.ui.widget.Button" data-sap-option="text: {{i18n@common/SAVE}}" data-touchable="{{setting@buttonEnabled}}"></button>\r\n      <button gl-action="cancel" data-sap-widget="sap.ui.widget.Button" data-sap-option="text: {{i18n@common/CANCEL}}" data-touchable="{{setting@buttonEnabled}}"></button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div data-sap-template="header">\r\n		<div class="header-fields sbo-app-template-editproperty"\r\n			data-sap-widget="sap.sbo.layout.pad.MetadataRaw"\r\n			data-sap-option="sequenceAutoExpand:false, metadata:{{setting@metadata}}, dynamicMeta:{{setting@dynamicMeta}}">\r\n		</div>\r\n		<!-- <div class="header-fields sbo-app-template-editproperty"                                                                                               -->\r\n		<!--   data-sap-widget="sap.sbo.layout.pad.MetadataRaw"                                                                                                     -->\r\n		<!--   data-sap-option="sequenceAutoExpand:false, metadata:{{setting@metadata}}, readonly:{{setting@customReadonly}}, dynamicMeta:{{setting@dynamicMeta}}"> -->\r\n		<!-- </div>                                                                                                                                                 -->\r\n		<!-- <div class="more">                     -->\r\n		<!--         <div class="icon"> &gt; </div> -->\r\n		<!--     </div>                             -->\r\n</div>\r\n\r\n<div data-sap-template="itemsLabel">\r\n	<div class="labels sbo-app-template-editproperty"\r\n		data-sap-widget="sap.sbo.layout.pad.MetadataRaw"\r\n		data-sap-option="sequenceAutoExpand: false, labelOnly: true">\r\n	</div>\r\n</div>\r\n\r\n<div data-sap-template="itemHeader">\r\n</div>\r\n\r\n<div data-sap-template="itemFields">\r\n	<div class="fields sbo-app-template-editproperty"\r\n		data-sap-widget="sap.sbo.layout.pad.MetadataRaw"\r\n		data-sap-option="sequenceAutoExpand: false, modelPrefix:\'loop@data/\',readonly: true">\r\n	</div>\r\n</div>\r\n\r\n<!--\r\n vim:ts=2 sw=2 noexpandtab\r\n -->\r\n\r\n'
}),define("html!sap.sbo.page.pad.Campaign.BasicInfoEdit",function(){return'<div class="camp-basic-info edit">\r\n    <div ctrl="main"\r\n        class="sbo-app-template-editproperty sbo-app-template-property-info-enable"\r\n        data-sap-widget="sap.sbo.layout.pad.MetadataLayout" \r\n        data-sap-option="verticalPadding: 20, horizontalPadding: 100, colWidth:250, ignoredProperty: []"\r\n    >\r\n        <div data-sap-template="Content">\r\n            <div data-sap-template="Property" property="campaignNumber"  	option =\'{"group":"campaigngroup1"}\'></div>\r\n            <div data-sap-template="Property" property="campaignName"  		option =\'{"group":"campaigngroup1"}\'></div>            \r\n            <div data-sap-template="Property" property="campaignType"  		option =\'{"group":"campaigngroup1"}\'></div>\r\n            <div data-sap-template="Property" property="remarks" 			option =\'{"group":"campaigngroup2"}\'></div>\r\n            <div data-sap-template="Property" property="owner" 				option =\'{"group":"campaigngroup3"}\' 	link="ownerEmployeeDisplayName"></div>\r\n            <div data-sap-template="Property" property="status" 			option =\'{"group":"campaigngroup3"}\'></div>\r\n            <div data-sap-template="Property" property="startDate"    		option =\'{"group":"campaigngroup4"}\'></div>\r\n            <div data-sap-template="Property" property="finishDate"    		option =\'{"group":"campaigngroup4"}\'></div>\r\n            <div data-sap-template="Property" property="webURL"    		option =\'{"group":"campaigngroup5"}\'></div>             \r\n        </div>\r\n        <div data-sap-template="PropertyTemplate">\r\n        	                        \r\n              <div data-sap-template="[owner]">\r\n                <div class="writable key-value">\r\n                    <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                        <div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                     </div>                      \r\n                    <div class="value"  >\r\n                        <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n                          data-sap-option="text:{{ownerEmployeeDisplayName}}, navigationEnabled: false">\r\n                        </div>                        \r\n                    </div>\r\n                </div>\r\n\r\n                <div class="readonly key-value">\r\n                    <div class="key"\r\n                        gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                        <div class="key-label">{{$label}}</div>\r\n                        <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                    </div>\r\n                    <div class="value">\r\n                        <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n                   			data-sap-option="iconUrl:{{owner@OwnerImage/url}}, text:{{ownerEmployeeDisplayName}}, readonly:{{$readOnly}}, inNavigationMode:{{meta@readonly}}"\r\n                   		></div>\r\n                    </div>\r\n                </div>             \r\n         </div> \r\n         <div data-sap-template="[status]" height="50">\r\n                <div class="readonly enumeration key-value">\r\n                    <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n                    <div class="value">\r\n                        <span style=\'display:inline-block;\' data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{#PROPERTY#,  sap.sbo.page.pad.Campaign.CampaignCommon.convertStatusImage}}, arrangeType:"original" \' ></span>\r\n                        <span data-sap-widget="sap.sbo.ui.widget.EnumLabel" \r\n                            data-sap-option="textField: \'label\', valueField: \'name\', data: {{meta@enum/#type#}}, selectedValue: {{#PROPERTY#}}">\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n				<div class="writable enumeration key-value">\r\n					<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n					<div class="value">\r\n						<div data-sap-widget="sap.ui.widget.DropDownBox"\r\n							data-sap-option="nullable:false, textField: \'label\', valueField: \'name\', data: {{meta@enum/#type#}}, selectedValue: {{#PROPERTY#, two-way}}">\r\n						</div>\r\n					</div>\r\n				</div>\r\n         </div>\r\n		 <div data-sap-template="[campaignType]" >\r\n			<div class="writable enumeration key-value">\r\n				<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n				<div class="value">\r\n					<div data-sap-widget="sap.ui.widget.DropDownBox"\r\n						data-sap-option="nullable:!#mandatory#, textField: \'label\', valueField: \'name\', data: {{meta@enum/#type#, sap.sbo.page.pad.Campaign.CampaignCommon.campaignTypeFilter}}, selectedValue: {{#PROPERTY#, two-way}}">\r\n					</div>\r\n				</div>\r\n			</div>\r\n			<div class="readonly enumeration key-value">\r\n				<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n				<div class="value">\r\n					<div data-sap-widget="sap.sbo.ui.widget.EnumLabel" \r\n						data-sap-option="textField: \'label\', valueField: \'name\', data: {{meta@enum/#type#}}, selectedValue: {{#PROPERTY#}}">&nbsp;\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n         <div data-sap-template="[webURL]" height="50" data-ctype="{{campaignType}}">\r\n               	<div class="writable Link key-value">\r\n					<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n					<div class="value">\r\n						<input type="url" maxlength="{{$size}}" data-sap-widget="sap.ui.widget.TextField" \r\n						data-sap-option="value: {{#PROPERTY#, two-way}}, nullable: true, liveChange:true" >\r\n					</div>\r\n				</div>\r\n			    <div class="readonly Link key-value">\r\n			        <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n			        <div class="value hyperLink">\r\n			            <a href="{{#PROPERTY#, formatter.linkHrefConvertor}}">\r\n			            <span data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{#PROPERTY#, sap.sbo.util.formatter.getLinkImg}}, arrangeType:"original" \'></span></a>\r\n			            <span>{{#PROPERTY#}}&nbsp;</span>\r\n			        </div>\r\n			    </div>\r\n   	 		</div>\r\n   	 		\r\n         </div> 	\r\n    </div>\r\n\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.Campaign.BusinessPartner",function(){return'<div class="sbo-campaign-customer-edit">\r\n	<div data-sap-template="pageHeaderButtons">\r\n      <button gl-action="addCustomer" data-sap-widget="sap.ui.widget.Button" data-sap-option="text: {{i18n@app/campaign/addCustomer}}" data-touchable="true"></button>\r\n      <button gl-action="addContact" data-sap-widget="sap.ui.widget.Button" data-sap-option="text: {{i18n@app/campaign/addContact}}" data-touchable="true"></button>\r\n	</div>\r\n	<div data-sap-template="itemHeader">\r\n        <div class="statusIcon">\r\n            <img class="contactPicture" src="{{loop@data/lineStatus, formatter.statusImge}}"/>\r\n        </div>\r\n  	    <div ctrl="showTarggetGroup" show-target-group={{loop@data/bPCode,formatter.showContact}} class="show-target-group">\r\n		    <div class="customer" ctrl="layout" hideContact="{{loop@data/contactCode,formatter.isContactDisplay}}">\r\n		        <div class="bPInfo" data-touchable="{{setting@customReadonly}}">\r\n    		        <span><img class="bPPicture" src="./image/Campaign/customer2.png" /></span>\r\n	    	        <div class="customerInfo">\r\n		    	        <h3 style="color: #999999">{{loop@data/bPCode}}</h3>\r\n			            <h2>{{loop@data/bPName}}</h2>\r\n			            <h3 style="color: #999999">{{loop@data/bPGroupDisplayName}}</h3>\r\n			        </div>\r\n		        </div>\r\n		        <div class="bPContactInfo" data-touchable="{{setting@customReadonly}}">\r\n       		        <span><img class="contactPicture" src="./image/Campaign/contact.png" /></span>\r\n   	    	        <div class="customerContactName">\r\n    	    	        <h2>{{loop@data/contactDisplayName}}</h2>\r\n   			            <h3 style="color: #999999">{{loop@data/contactPosition}}</h3>\r\n    		        </div>\r\n		        </div>\r\n		    </div>\r\n		    <div class="contact" data-touchable="{{setting@customReadonly}}">\r\n		        <span class="contactPIC"><img src="./image/Campaign/contact.png" /></span>\r\n		        <div class="contactInfo">\r\n			        <h3 style="color: #999999">{{loop@data/contactCode}}</h3>\r\n			        <h2>{{loop@data/contactDisplayName}}</h2>\r\n			        <h3 style="color: #999999">{{loop@data/contactPosition}}</h3>\r\n			    </div>\r\n		    </div>\r\n        </div>\r\n        <div class="detail" data-touchable="{{loop@data/lineStatus, formatter.isRemoveEnable}}">\r\n           <span class="remove" data-id="remove">\r\n               <span><img src="./image/Customer/remove.png" /></span>\r\n               <span>{{i18n@app/contact/REMOVE}}</span>\r\n           </span>\r\n        </div>   \r\n        <div class=\'button\'>\r\n            <div class="convert" data-id="convert" navigate-lead="{{loop@data/docNumber,formatter.navigateLead}}" data-touchable="{{loop@data, formatter.isConvertEnable}}">\r\n                <span class="convertTo"><h3>{{i18n@app/campaign/convertToLead}}</h3></span>\r\n                <span class="navigateTo"><h3>{{i18n@app/campaign/navigateToLead}}</h3></span>\r\n                <!-- \r\n                <span><img src="./image/Campaign/lead.png" /></span>\r\n                -->\r\n            </div>\r\n            <div class="task" data-id="task" data-touchable="true">\r\n                <span><img src="./image/Campaign/task.png" /></span>\r\n            </div>\r\n        </div>\r\n        <div class="changeStatus">\r\n            <div class="blank" is-current-icon="{{loop@data/lineStatus, formatter.statusImge}}" data-touchable="true">\r\n                <span class="changeStatusIcon"><img src="./image/Campaign/blankColor.png" /></span>\r\n                <span class="changeStatusText">{{i18n@app/campaign/statusUnclear}}</span>\r\n            </div>\r\n            <div class="sent" data-touchable="true">\r\n                <span class="changeStatusIcon"><img src="./image/Campaign/sentColor.png" /></span>\r\n                <span class="changeStatusText">{{i18n@app/campaign/statusSend}}</span>\r\n            </div>\r\n            <div class="responsed" data-touchable="true">\r\n                <span class="changeStatusIcon"><img src="./image/Campaign/ResponseColor.png" /></span>\r\n                <span class="changeStatusText">{{i18n@app/campaign/statusResponse}}</span>\r\n            </div>\r\n            <div class="unsubscribed" data-touchable="true">\r\n                <span class="changeStatusIcon"><img src="./image/Campaign/unsubscribeColor.png" /></span>\r\n                <span class="changeStatusText">{{i18n@app/campaign/statusUnsubscribe}}</span>\r\n            </div>\r\n        </div>\r\n	</div>\r\n	<div data-sap-template="itemFields">\r\n\r\n		<div data-sap-template="Content">\r\n		</div>\r\n		<div data-sap-template="PropertyTemplate">\r\n		</div>\r\n	</div>               \r\n\r\n</div>'}),define("html!sap.sbo.page.pad.Campaign.CampaignCreation",function(){return'<div class=\'sbo-bo-creation-frame\'>\r\n    <div class="title">\r\n        {{i18n@app/campaign/NEWCAMPAIGN}}\r\n    </div>\r\n    <div class="fields" ctrl=\'layout\' data-hideWebURL="{{campaignType,formatter.isWebType}}">\r\n        <div ctrl="main"\r\n            class="sbo-app-template-editproperty" \r\n            data-sap-widget="sap.sbo.layout.pad.MetadataList" \r\n            data-sap-option="verticalPadding: 5, ignoredProperty: [\'campaignNumber\',\'ownerEmployeeDisplayName\']"\r\n        >\r\n            <div data-sap-template="Content">\r\n                <div data-sap-template="Property" property="campaignNumber"></div>\r\n                <div data-sap-template="Property" property="campaignName"></div>\r\n                <div data-sap-template="Html" uuid=\'campaignBusinessPartners\'>\r\n                  <div class="field-campaignBusinessPartners">\r\n                    <div class="key">{{i18n@app/campaign/CUSTOMERMEMBER}}</div>\r\n                    <div class="value">\r\n                      <span class="selectedMemeber" style="float: left">{{campaignBusinessPartners/length}} {{i18n@app/document/SELECTED}}</span>\r\n                      <span class="product" style="float: right"><img class="navigation" src=\'./image/settings/double_arrow_fold.png\'></span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div data-sap-template="Property" property="campaignType"></div>\r\n                <div data-sap-template="Property" property="owner"></div>\r\n                <div data-sap-template="Property" property="status"></div>\r\n                <div data-sap-template="Property" property="startDate"></div>\r\n                <div data-sap-template="Property" property="finishDate"></div>\r\n                <div data-sap-template="Property" property="remarks"></div>\r\n                <div data-sap-template="Property" property="webURL"></div>\r\n            </div>\r\n            <div data-sap-template=\'PropertyTemplate\'>\r\n                <div  data-sap-template="[owner]" >\r\n                   <div class="key-value">\r\n                       <div class="key">\r\n                           <div class="key-label">{{$label}}</div>\r\n                       </div>\r\n                       <div class="value">\r\n                           <div data-id="ownerName" data-sap-widget="sap.ui.widget.ValueHelpField"  data-sap-option="value: {{ownerEmployeeDisplayName}}"></div>\r\n                       </div>\r\n                   </div>\r\n                </div>\r\n                	<div  data-sap-template="[campaignType]" >\r\n	                   	<div class="key-value">\r\n			                <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n							<div class="value">\r\n								<div data-sap-widget="sap.ui.widget.DropDownBox"\r\n									data-sap-option="nullable:!#mandatory#, textField: \'label\', valueField: \'name\', data: {{meta@enum/#type#, sap.sbo.page.pad.Campaign.CampaignCommon.campaignTypeFilter}}, selectedValue: {{#PROPERTY#, two-way}}">\r\n								</div>\r\n							</div>\r\n						</div>\r\n					</div>	\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="action">\r\n        <button ctrl="btnCancel" data-touchable=\'true\' data-sap-widget="sap.ui.widget.Button" data-sap-option="text: {{i18n@common/CANCEL}}"></button>\r\n        <button ctrl="btnSaveOpen" data-touchable=\'true\' data-sap-widget="sap.ui.widget.Button" data-sap-option="text: {{i18n@common/DONE}}"></button>\r\n    </div>\r\n\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.Campaign.CampaignListView",function(){return'<div class=\'bo-listview Campaign\'>\r\n    <div data-id="listView" data-sap-widget="sap.sbo.layout.pad.ListLayout" data-sap-option="pageSize: 0">\r\n        <div data-sap-template="Content">\r\n            <div class=\'item\' title="{{i18n@app/campaign/CAMPAIGN}} {{campaignNumber}}">\r\n                <div class=\'header\'>\r\n                    <div class="index">{{campaignNumber}}</div>\r\n                    <div class="title">\r\n                        <h3>{{campaignName}}</h3>\r\n                        <h3>{{campaignType,formatter.typeDescription}}</h3>\r\n                    </div>\r\n                </div>  \r\n				<div class="details">\r\n					<div class="field" data-show="YES"><h4>{{remarks}}</h4></div>\r\n				</div>\r\n				<div class="status">\r\n					{{!status, formatter.convertStatusImage}}\r\n				</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.Campaign.Competitor",function(){return'<div class="sbo-opps-item-edit">\r\n	<div data-sap-template="itemHeader">\r\n\r\n		<div class="sbo-opps-item-desc">\r\n			<h1>{{loop@data/competitorID}}</h1>\r\n			<h2>{{loop@data/competitorName}}</h2>\r\n		</div>\r\n\r\n	</div>\r\n\r\n	<div data-sap-template="itemFields">\r\n\r\n		<div data-sap-template="Content">\r\n			<div data-sap-template="Property" property="threatLevel"></div>\r\n			<div data-sap-template="Property" property="memo"></div>\r\n		</div>\r\n	</div>        \r\n</div>'}),define("html!sap.sbo.page.pad.Campaign.CopyToLeads",function(){return'<div class=\'contact-list\'>\r\n  <div data-id="listView" data-sap-widget="sap.sbo.layout.pad.ListLayout" data-sap-option="pageSize: 0">\r\n    <div data-sap-template="Content">\r\n        <div class=\'item\' title="{{bPCode}} {{bPName}}">\r\n            <div class=\'header\'>\r\n                <div class="sub-title">{{contactPosition}}</div>\r\n                <div class="title">{{contactTitle}} {{contactCode}} </div>\r\n            </div>\r\n            <div class="details">\r\n                <div class=\'field\' data-show="YES">\r\n                    <div class=\'image\'><img src="./image/common/mobile.png"></div>\r\n                    <div class="info">{{contactMobile}}</div>\r\n                </div>\r\n                \r\n                <div class=\'field\' data-show="YES">\r\n                    <div class=\'image\'><img src="./image/common/phone.png"></div>\r\n                    <div class="info">{{contactTelephone}}</div>\r\n                </div>\r\n                \r\n                <div class=\'field\' data-show="YES">\r\n                    <div class=\'image\'><img src="./image/common/edit.png"></div>\r\n                    <div class="info">{{contactFax}}</div>\r\n                </div>                \r\n                \r\n                <div class=\'field\' data-show="YES">\r\n                    <div class=\'image\'><img src="./image/common/email.png"></div>\r\n                    <div class="info">{{contactEmail}}</div>\r\n                </div>\r\n                \r\n                <div class=\'field\' data-show="YES">\r\n                    <div class=\'image\'><img src="./image/Address/Address.png"></div>\r\n                    <div class="info">{{contactAddress}}</div>\r\n                </div>\r\n            </div>\r\n            <div class=\'buttons\'>\r\n              <div class=\'btn-main\' title="Select the customer" data-mainContact="{{isSelected}}" style="display:block !important">\r\n	             <img src="./image/Customer/star.png">\r\n	          </div>\r\n		          \r\n              <div class=\'btn-del\' title="Remove contact">\r\n                  <img src="./image/Customer/delete.png" style="display:none">\r\n              </div>              \r\n            </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.Campaign.Home",function(){return'<div class=\'sbo-bo-home sbo-opps-home\'>\r\n\r\n    <div ctrl=\'layout\' class=\'sbo-bo-home-layout\'\r\n    data-sap-widget="sap.sbo.layout.pad.AdvancedTilesLayout"\r\n    data-sap-option="">\r\n\r\n        <div data-sap-template="Html" mode="2x6" coordinate="0,0" mode-pad="2x6" coordinate-pad="0,0" uuid="general">\r\n            <div field=\'basicInfo\' class="sbo-bo-tile bo-tile-profile sbo-app-template-tileproperty sbo-app-template-editproperty"\r\n                data-sap-widget="sap.sbo.layout.pad.MetadataRaw"\r\n                data-sap-option="sequenceAutoExpand:false"\r\n             >\r\n            	<div class="title">\r\n                    {{i18n@app/DETAILS}}\r\n                </div>\r\n                <div data-sap-template="Content">\r\n                	<div data-sap-template="Property" property="campaignName"></div>\r\n                	<div data-sap-template="Property" property="status"></div>\r\n                	<div data-sap-template="Property" property="campaignType"></div>\r\n                	<div data-sap-template="Property" property="ownerEmployeeDisplayName"></div>\r\n                    <div data-sap-template="Property" property="startDate"></div>\r\n			     </div>\r\n			     <div data-sap-template="PropertyTemplate"> \r\n			      <div data-sap-template="[status]" height="50">\r\n			                <div class="readonly enumeration key-value">\r\n			                    <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n			                    <div class="value">\r\n			                        <span style=\'display:inline-block;\' data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{#PROPERTY#,  sap.sbo.page.pad.Campaign.CampaignCommon.convertStatusImage}}, arrangeType:"original" \' ></span>\r\n			                        <span data-sap-widget="sap.sbo.ui.widget.EnumLabel" \r\n			                            data-sap-option="textField: \'label\', valueField: \'name\', data: {{meta@enum/#type#}}, selectedValue: {{#PROPERTY#}}">\r\n			                        </span>\r\n			                    </div>\r\n			                </div>\r\n			         </div>                                       \r\n                </div>\r\n			</div>\r\n        </div>\r\n		<div data-sap-template="Html" mode="2x2" coordinate="1,0" mode-pad="2x2" coordinate-pad="1,0" uuid="campaignbp">\r\n            <div field="businessPartners" class="sbo-bo-tile customer sbo-bo-tile-{{campaignBusinessPartners/length}}">\r\n                <div class="title">\r\n                    {{i18n@app/campaign/CUSTOMERMEMBER}}\r\n                </div>\r\n                <div class="number">\r\n                    <div class="value">{{campaignBusinessPartners/length, sap.sbo.util.formatter.circleNumber_more}}</div>\r\n                </div>               \r\n            </div>\r\n        </div>\r\n        <div data-sap-template="Html" mode="2x2" coordinate="1,1" mode-pad="2x2" coordinate-pad="1,1" uuid="campaignitem">\r\n            <div field="products" class="sbo-bo-tile customer sbo-bo-tile-{{campaignItems/length}}">\r\n                <div class="title">\r\n                    {{i18n@app/campaign/PRODUCT}}\r\n                </div>\r\n                <div class="number">\r\n                    <div class="value">{{campaignItems/length, sap.sbo.util.formatter.circleNumber_more}}</div>\r\n                </div>               \r\n            </div>\r\n        </div>\r\n        \r\n        <div data-sap-template="View" mode="2x2" coordinate="1,2" mode-pad="2x2" coordinate-pad="1,2" uuid="sbo.taskTile" name="sap.sbo.app.task.taskTile" option=""></div>\r\n        <div data-sap-template="View" mode="2x2" coordinate="2,0" mode-pad="2x2" coordinate-pad="2,0" uuid="sbo.NotePageTile" name="sap.sbo.app.notepage.NotePageTile"></div>\r\n        <div data-sap-template="View" mode="2x2" coordinate="2,1" mode-pad="2x2" coordinate-pad="2,1" uuid="sbo.FeedTile" name="sap.sbo.app.network.FeedTile"></div>\r\n        <div data-sap-template="View" mode="2x2" coordinate="2,2" mode-pad="2x2" coordinate-pad="2,2" uuid="sbo.RelatedTile" name="sap.sbo.app.network.RelatedTile"></div> \r\n       \r\n    </div>\r\n</div>'}),define("html!sap.sbo.page.pad.Campaign.Product",function(){return'<div class="sbo-campaign-item-edit">\r\n	<div data-sap-template="itemHeader">\r\n	\r\n        <div class="subtitle">{{loop@data/itemCode}}</div>\r\n        <div class="title" data-boLabel="itemCode" data-sap-widget="sap.sbo.ui.widget.BoLabel" data-sap-option="text:{{loop@data/itemName}}, readonly:{{setting@customReadonly}}, inNavigationMode:{{setting@customReadonly}}"></div>    \r\n\r\n	</div>\r\n\r\n	<div data-sap-template="itemFields">\r\n\r\n		<div data-sap-template="Content">\r\n		</div>\r\n		<div data-sap-template="PropertyTemplate">\r\n		</div>\r\n\r\n	</div>\r\n    \r\n</div>'}),define("html!sap.sbo.page.pad.CampaignSetting.CampaignSetting",function(){return'<div class=\'sbo-CampaignSetting\'>\r\n    <div ctrl=\'layout\' class=\'sbo-home-layout\' data-sap-widget="sap.sbo.layout.pad.AdvancedTilesLayout" data-sap-option="disableLayoutService:true">\r\n        <div data-sap-template="View" mode="2x2" uuid="sbo.TargetGroupTile" name="sap.sbo.app.TargetGroup.TargetGroupTile"></div>\r\n        <div data-sap-template="View" mode="2x2" uuid="sbo.CompetitorTile" name="sap.sbo.app.MasterDatas.Competitor.CompetitorTile"></div>\r\n    </div> 	\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.Contact.AddressListView",function(){return'<div class="sbo-contact-address-edit">\r\n\r\n    <div data-sap-template="header">\r\n\r\n    </div>\r\n\r\n    <div data-sap-template="itemHeader">\r\n        <div class="Main" data-mainContact="{{loop@internal/bMainFlag}}"> </div>\r\n    </div>\r\n\r\n    <div data-sap-template="itemFields">\r\n\r\n        <div data-sap-template="Content">\r\n            <div data-sap-template="Property" property="addressName"></div>\r\n            <div data-sap-template="Property" property="country"></div>\r\n            <div data-sap-template="Property" property="state"></div>\r\n            <div data-sap-template="Property" property="zipCode"></div>\r\n            <div data-sap-template="Property" property="city"></div>\r\n            <div data-sap-template="Property" property="street"></div>\r\n        </div>\r\n        <div data-sap-template="PropertyTemplate">\r\n            <div data-sap-template="[addressName]">\r\n                <div class="readonly key-value">\r\n			        <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.nullStringAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n			        <div class="value">\r\n			            <span>{{#PROPERTY#}}&nbsp;</span>\r\n			        </div>               \r\n                </div>            \r\n                <div class="writable key-value">\r\n			        <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.nullStringAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n			        <div class="value">\r\n			            <input maxlength="{{$size}}" type="text" data-sap-widget="sap.ui.widget.TextField" \r\n			            data-sap-option="value: {{loop@data/addressName, two-way}}, nullable: true, liveChange:false" />\r\n			        </div>                    \r\n                </div>\r\n            </div>\r\n                    \r\n            <div data-sap-template="String[country]">\r\n                <div class="writable key-value">\r\n                    <div class="key"\r\n                        gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                        <div class="key-label">{{$label}}</div>\r\n                        <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                    </div>\r\n                    <div class="value">  \r\n                        <div \r\n                            data-sap-widget="sap.ui.widget.DropDownBox" \r\n                            data-sap-option="textField: \'name\', valueField: \'code\', data: {{list@countrylist}}, selectedValue: {{loop@data/country, two-way}}"></div> \r\n                    </div>\r\n                </div>\r\n            </div> \r\n         \r\n            <div data-sap-template="String[state]">\r\n                <div class="writable key-value">\r\n                    <div class="key"\r\n                        gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                        <div class="key-label">{{$label}}</div>\r\n                        <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                    </div>\r\n                    <div class="value">  \r\n                        <div \r\n                            data-sap-widget="sap.ui.widget.DropDownBox" \r\n                            data-sap-option="disabled:{{loop@internal/statelist/length, formatter.isZero}},textField: \'name\', valueField: \'code\', data: {{loop@internal/statelist}}, selectedValue: {{loop@data/state, two-way}}"></div> \r\n                    </div>\r\n                </div>\r\n            </div>             \r\n            \r\n            <div data-sap-template="[street]">\r\n                <div class="readonly key-value">\r\n                    <div class="key"\r\n                        gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                        <div class="key-label">{{i18n@app/address/DETAIL}}</div>\r\n                        <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                    </div>\r\n                    <div class="value">\r\n                        <div class="value" data-sap-widget="sap.sbo.ui.widget.Address"\r\n                            data-sap-option="locale:{{loop@data/country, formatter.string_null}}, \r\n	                        country:{{loop@data/CountryName, formatter.string_null}}, \r\n	                        state:{{loop@data/state, formatter.string_null}}, \r\n	                        zipCode:{{loop@data/zipCode, formatter.string_null}}, \r\n	                        city:{{loop@data/city, formatter.string_null}}, \r\n	                        street1:{{loop@data/street, formatter.string_null}}, \r\n	                        street2:{{loop@data/block, formatter.string_null}}">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n			    <div class="writable key-value">\r\n			        <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n			        <div class="value">\r\n			            <input maxlength="{{$size}}" type="text" data-sap-widget="sap.ui.widget.TextField" \r\n			            data-sap-option="value: {{#PROPERTY#, two-way}}, nullable: true, liveChange:true" />\r\n			        </div>\r\n                    <div class="value">\r\n                        <input maxlength="{{meta@properties/block/size}}" type="text" data-sap-widget="sap.ui.widget.TextField" \r\n                        data-sap-option="value: {{loop@data/block, two-way}}, nullable: true, liveChange:true" />\r\n                    </div>			        \r\n			    </div>\r\n            </div>             \r\n        \r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n<!--\r\nvim:ts=2 sw=2 noexpandtab\r\n-->\r\n'}),define("html!sap.sbo.page.pad.Contact.ContactCreation",function(){return'<div class=\'sbo-bo-creation-frame\'>\r\n    <div class="title">\r\n       {{i18n@app/contact/NEW_CONTACT}}\r\n    </div>\r\n    <div class="fields">\r\n        <div ctrl="main"\r\n            class="sbo-app-template-editproperty" \r\n            data-sap-widget="sap.sbo.layout.pad.MetadataList" \r\n            data-sap-option=" verticalPadding: 5, ignoredProperty: [\'contactPersonID\', \'name\', \'active\', \'ownerCode\', \'mainAdd\',\'portraitId\',\'BusinessPartnerCardName\',\'OwnerEmployeeFirstName\',\'OwnerEmployeeLastName\',\'OwnerEmployeeDisplayName\',\'displayName\']"\r\n        >\r\n            <div data-sap-template="Content">\r\n                <div data-sap-template="Property" property="lastName"></div>\r\n                <div data-sap-template="Property" property="firstName"></div>\r\n                <div data-sap-template="Property" property="cardCode"></div>\r\n                <div data-sap-template="Property" property="title"></div>\r\n                <div data-sap-template="Property" property="position"></div>\r\n                <div data-sap-template="Property" property="mobilePhone"></div>\r\n                <div data-sap-template="Property" property="phone1"></div>\r\n                <div data-sap-template="Property" property="e_Mail"></div>\r\n                <div data-sap-template="Property" property="fax"></div>\r\n            </div>\r\n                \r\n            <div data-sap-template=\'PropertyTemplate\'>\r\n                <div data-sap-template="String[cardCode]">\r\n		            <div class="key-value">\r\n		              <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n		              <div class="value">\r\n		                  <div>{{cardCode}}</div>\r\n		                  <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n		                    data-sap-option="text:{{BusinessPartnerCardName}}, readonly:{{customer@readonly}}, navigationEnabled: false"\r\n		                    ></div>\r\n		              </div>\r\n		            </div> \r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="action">\r\n        <button ctrl="btnCancel" data-touchable=\'true\' data-sap-widget="sap.ui.widget.Button" data-sap-option="text: {{i18n@common/CANCEL}}"></button>\r\n        <button ctrl="btnSaveOpen" data-touchable=\'true\' data-sap-widget="sap.ui.widget.Button" data-sap-option="text: {{i18n@app/SAVE_VIEW}}"></button>\r\n    </div>\r\n\r\n</div>\r\n'
}),define("html!sap.sbo.page.pad.Contact.ContactEdit",function(){return'<div>\r\n    <div ctrl="main"\r\n        class="sbo-app-template-editproperty sbo-app-template-property-info-enable" \r\n        data-sap-widget="sap.sbo.layout.pad.MetadataLayout" \r\n        data-sap-option="ignoredProperty: [ \'contactPersonID\', \'name\', \'mainAdd\',\'portraitId\',\'BusinessPartnerCardName\',\'OwnerEmployeeFirstName\',\'OwnerEmployeeLastName\',\'OwnerEmployeeDisplayName\',\'displayName\']"\r\n    > \r\n\r\n    <div data-sap-template="Content">\r\n        <div data-sap-template="Property" property="lastName" option=\'{"group":"basic"}\'></div>\r\n        <div data-sap-template="Property" property="firstName" option=\'{"group":"basic"}\'></div>\r\n        <div data-sap-template="Property" property="title" option=\'{"group":"basic"}\'></div>                          \r\n        <div data-sap-template="Property" property="position" option=\'{"group":"basic"}\'></div>\r\n        <div data-sap-template="Property" property="cardCode" option=\'{"group":"customer"}\'></div>\r\n        <div data-sap-template="Property" property="ownerCode" option=\'{"group":"status"}\'></div>\r\n        <div data-sap-template="Property" property="active" option=\'{"group":"status"}\'></div>\r\n        <div data-sap-template="Property" property="mobilePhone" option=\'{"group":"communicationWay"}\'></div>\r\n        <div data-sap-template="Property" property="phone1" option=\'{"group":"communicationWay"}\'></div>\r\n        <div data-sap-template="Property" property="fax" option=\'{"group":"communicationWay"}\'></div>                                                                               \r\n        <div data-sap-template="Property" property="e_Mail" option=\'{"group":"communicationWay"}\'></div>\r\n    </div>\r\n     \r\n     <div data-sap-template=\'PropertyTemplate\'>\r\n         <div data-sap-template="String[cardCode]">\r\n	        <div class="key-value">\r\n	          <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n	          <div class="value">\r\n	              <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n                    data-sap-option="text:{{cardCode}}, readonly:true, inNavigationMode:{{meta@readonly}}"></div>\r\n	              <div>{{BusinessPartnerCardName}}&nbsp;</div>\r\n	          </div>\r\n	        </div>      \r\n         </div>\r\n         \r\n         <div data-sap-template="[ownerCode]">\r\n                <div class="key-value">\r\n                  <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n                  <div class="value">\r\n                    <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n                      data-sap-option="iconUrl:{{owner@OwnerImage/url}}, text:{{OwnerEmployeeDisplayName}}, readonly:{{$readOnly}}, inNavigationMode:{{meta@readonly}}"\r\n                      ></div>\r\n                  </div>\r\n                </div>     \r\n         </div>\r\n         \r\n        <div data-sap-template="[active]">\r\n             <div class="writable key-value">\r\n                <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n                 <div class="value">\r\n                    <span boEditId=\'rightInfo\' class=\'changeStatus\' boEditId=\'hyperLink\' data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{#PROPERTY#, sap.sbo.util.formatter.getActiveImg}}, arrangeType:"original" \' ></span>\r\n                    <span>{{#PROPERTY#,sap.sbo.util.formatter.isActive}}</span>     \r\n                 </div> \r\n             </div>\r\n             \r\n            <div class="readonly key-value">\r\n             <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n             <div class="value">\r\n                <div>{{#PROPERTY#,sap.sbo.util.formatter.isActive}}</div>\r\n             </div>\r\n            </div>  \r\n        </div>            \r\n     </div>\r\n             \r\n    </div>\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.Contact.ContactHome",function(){return'<div class=\'sbo-contact-home sbo-bo-home\'>\r\n\r\n	<div ctrl=\'layout\' class=\'sbo-bo-home-layout\'\r\n		data-sap-widget="sap.sbo.layout.pad.AdvancedTilesLayout"\r\n		data-sap-option="">\r\n\r\n        <div data-sap-template="Html" mode="2x6" coordinate="0,0" mode-pad="2x6" coordinate-pad="0,0" uuid="general">\r\n            <div  field="basicInfo" \r\n                class="sbo-bo-tile bo-tile-profile sbo-app-template-tileproperty sbo-app-template-editproperty"\r\n                data-sap-widget="sap.sbo.layout.pad.MetadataRaw" \r\n                data-sap-option="sequenceAutoExpand:false"\r\n            >\r\n                <div class="title">\r\n                    {{i18n@app/BASIC}}\r\n                </div>\r\n                <div uuid="logo" class="img" data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{Image/url}}, radius:"50%", arrangeType:"both" \' ></div>\r\n                <div data-sap-template="Content">\r\n                    <div data-sap-template="Property" property="cardCode"></div>\r\n                    <div data-sap-template="Property" property="position"></div>\r\n                    <div data-sap-template="Property" property="mobilePhone"></div>\r\n                    <div data-sap-template="Property" property="phone1"></div>\r\n                </div>\r\n                <div data-sap-template="PropertyTemplate">\r\n                                                            \r\n                    <div data-sap-template="[cardCode]">\r\n                        <div class="key-value readonly">\r\n                            <div class="key"\r\n                                gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                                <div class="key-label">{{$label}}</div>\r\n                                <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                            </div>\r\n                            <div class="value">\r\n                                <span style="width:40%; display:inline-block; white-space: nowrap;">{{#PROPERTY#}}&nbsp;</span>\r\n                                <span style="width:47%; display:inline-block; white-space: nowrap;">{{BusinessPartnerCardName}}&nbsp;</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>  \r\n                                                                       \r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n		<div data-sap-template="Html" mode="2x2" coordinate="1,2" mode-pad="2x2" coordinate-pad="1,0" uuid="address">\r\n			<div class="sbo-bo-tile sbo-bo-tile-{{contactAddresses/length}} address">\r\n				<div class="title">\r\n                    {{i18n@app/contact/ADDRESSES}}\r\n                </div>\r\n                <div class="number">\r\n                    <div class="value">{{contactAddresses/length, sap.sbo.util.formatter.circleNumber_more}}</div>\r\n                </div>\r\n			</div>\r\n		</div>\r\n\r\n        <div data-sap-template="View" mode="2x4" coordinate="1,0" mode-pad="2x2" coordinate-pad="1,1" uuid="task" name="sap.sbo.app.task.taskTile"></div>\r\n        <div data-sap-template="View" mode="2x2" coordinate="2,0" mode-pad="2x2" coordinate-pad="1,2" uuid="note" name="sap.sbo.app.notepage.NotePageTile"></div>\r\n        <div data-sap-template="View" mode="2x2" coordinate="2,1" mode-pad="2x6" coordinate-pad="2,0" uuid="feed" name="sap.sbo.app.network.FeedTile"></div>\r\n        <div data-sap-template="View" mode="2x4" coordinate="2,2" mode-pad="2x6" coordinate-pad="3,0" uuid="sbo.RelatedTile" name="sap.sbo.app.network.RelatedTile"></div>\r\n        \r\n	</div>\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.Contact.ContactListView",function(){return'<div class=\'contact-list\'>\r\n  <div data-id="listView" data-sap-widget="sap.sbo.layout.pad.ListLayout" data-sap-option=\'pageSize: 0 \r\n     ,select:["contactPersonID","displayName","position","mobilePhone","phone1","fax","e_Mail","portraitId","cardCode","ownerCode","active", "name"]\'>\r\n    <div data-sap-template="Content">\r\n        <div class=\'item\' data-inActive="{{active, formatter.bool_string}}">\r\n            <div class=\'header\'>\r\n                <div class="title">{{displayName}} </div>\r\n                <div class="index">{{position}}</div>\r\n            </div>\r\n            <div class="avatar-container" data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{Image/url, sap.sbo.page.common.oppUtil.convertNullString}}, radius:"50%",  arrangeType:"both" \' ></div>\r\n            <div class="details">\r\n                <div class=\'field\' data-show="{{mobileShow}}">\r\n                    <img class="icon" src="./image/common/mobile.png"/>\r\n                    <span class="info">{{mobilePhone}}</span>\r\n                </div>\r\n                \r\n                <div class=\'field\' data-show="{{phoneShow}}">\r\n                    <img class="icon"  src="./image/common/phone.png"/>\r\n                    <span class="info">{{phone1}}</span>\r\n                </div>\r\n                \r\n                <div class=\'field\' data-show="{{faxShow}}">\r\n                    <img class=\'icon\' src="./image/common/fax.png"/>\r\n                    <span class="info">{{fax}}</span>\r\n                </div>                 \r\n                \r\n                <div class=\'field\' data-show="{{emailShow}}">\r\n                    <img class="icon"  src="./image/common/email.png"/>\r\n                    <span class="info">{{e_Mail}}</span>\r\n                </div>\r\n            </div>\r\n            <div class="status" data-mainContact="{{bMainFlag}}"><img src="./image/Customer/goldenStar.png" /></div>\r\n            <div class=\'button setMain\'>\r\n                <div class="detail" data-id="setMain" data-mainContact="{{bMainFlag}}">\r\n	                <span data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{bMainFlag, formatter.setMain}}, arrangeType:"original" \'></span>\r\n                    <span>{{i18n@app/customer/MAIN_CONTACT}}</span>	                \r\n                </div>               \r\n            </div>\r\n            <div class=\'button remove\'>\r\n                <div class="detail" data-id="remove">\r\n	                <span><img src="./image/Customer/remove.png" /></span>\r\n	                <span>{{i18n@app/contact/REMOVE}}</span>\r\n                </div>             \r\n            </div>\r\n    </div>\r\n  </div>\r\n  \r\n        <div data-sap-template="PropertyTemplate" style="display: none;">\r\n            <div data-sap-template="String[cardCode]">\r\n                <div class="key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div data-id="cardCode"\r\n                            data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n                            data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.pad.ChooseListCustomer\', titleField: \'cardName\', subtitleField: \'cardCode\', valueField: \'cardCode\'"></div>    \r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n            <div data-sap-template="Integer[ownerCode]">\r\n                <div class="key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div data-id="ownerCode"\r\n                            data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n                            data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.pad.ChooseListEmployee\', titleField: \'displayName\', valueField: \'employeeID\'"></div>    \r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n</div>\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.dataOwnership.DOCreation",function(){return"<div id='DOCreation_container'>\r\n	<div id= \"title\">\r\n		<span class=\"account\">{{cfg@account}}</span>\r\n		\r\n		<span class=\"bo\">{{cfg@bo}}</span>\r\n	</div>\r\n	\r\n	<div id=\"content\">\r\n		<div class=\"line\">\r\n			<span>\r\n				{{i18n@sys/dos/ASSIGN_PEER}}\r\n			</span>\r\n			<div id = 'peer_dropdown' data-sap-widget='sap.ui.widget.DropDownBox' data-sap-option='data:{{dropMeta@data}},textField: \"text\",valueField: \"code\", selectedValue: {{cfg@peer,two-way}}'></div>\r\n			\r\n		</div>\r\n		<div class=\"line\">\r\n			<span>\r\n				{{i18n@sys/dos/ASSIGN_MANAGER}}\r\n			</span>\r\n			<div id = 'manager_dropdown' data-sap-widget='sap.ui.widget.DropDownBox' data-sap-option='data:{{dropMeta@data}},textField: \"text\",valueField: \"code\", selectedValue: {{cfg@manager,two-way}}'></div>\r\n		\r\n		</div>\r\n		<div class=\"line\">\r\n			<span>\r\n				{{i18n@sys/dos/ASSIGN_SUBORDINATE}}\r\n			</span>\r\n			<div id = 'subordinate_dropdown' data-sap-widget='sap.ui.widget.DropDownBox' data-sap-option='data:{{dropMeta@data}},textField: \"text\",valueField: \"code\", selectedValue: {{cfg@subordinate,two-way}}'></div>\r\n\r\n		</div>\r\n	</div>\r\n	\r\n	<div class=\"tail\">\r\n		<button id='saveBtn' data-sap-widget='sap.ui.widget.Button' data-sap-option='text:{{i18n@sys/dos/BUTTON_SAVE}}'></button>\r\n		<button id='cancelBtn' data-sap-widget='sap.ui.widget.Button' data-sap-option='text:{{i18n@sys/dos/BUTTON_CANCEL}}'></button>\r\n	</div>\r\n	\r\n</div>\r\n"}),define("html!sap.sbo.page.pad.dataOwnership.DOEnablement",function(){return'<div id= "DOEnablement_container">\r\n	\r\n\r\n<!--<div id="enablement" data-sap-widget=\'sap.ui.widget.Checkbox\'\r\n				data-sap-option="text: {{i18n@filter}}, checked: {{enable@checked, two-way}}"></div>-->\r\n	<div class="listView" data-sap-widget="sap.sbo.layout.pad.ListLayout" data-sap-option="pageSize: 0">\r\n\r\n	<div data-sap-template="Content">\r\n			<div class = "items">\r\n				<span class=\'title\'>{{name}}</span>\r\n				<span class=\'content\'>{{filter}}</span>\r\n			</div>\r\n		</div>\r\n\r\n	</div>\r\n\r\n</div>\r\n\r\n'}),define("html!sap.sbo.page.pad.dataOwnership.DOAssignment",function(){return"<div id=\"DOAssignMent_container\">\r\n	\r\n	<div class='button_bar'>\r\n		<!-- <div class='peopleIcon'></div> -->\r\n		<!-- <div class='icon_splitter'></div> -->\r\n		<div class=\"btn_ok\">{{i18n@common/DONE}}</div>\r\n		<div class='btn_splitter'></div>\r\n		<div class=\"btn_cancel\">{{i18n@common/CANCEL}}</div>\r\n		\r\n	</div>\r\n	\r\n	<div class='horizontal_splitter_title'></div>\r\n	\r\n	<div class='title'>{{i18n@sys/dos/ASSIGN_TITLE}}</div>\r\n	<div class=\"content\">\r\n		<div id='auths' sap-ctrl=\"iscrol\" data-sap-widget=\"sap.ui.Repeat\" data-sap-option='data: {{DOList@contents,two-way}}' >\r\n			<div id='scroll_container'>\r\n				<div data-sap-template=\"Content\">\r\n					<div class='deleteIcon' data-sap-ctrl='{{isFrozen}}' data-sap-empID = '{{id}}'></div>\r\n					<div class=\"container\">\r\n					<div class='username'>{{account}}</div>\r\n					<div class=\"content_right\" data-sap-widget='sap.ui.widget.DropDownBox'\r\n					data-sap-option='data:{{dropMeta@data}},textField: \"text\",valueField: \"code\", selectedValue: {{authorization,two-way}}, disabled:{{isFrozen}}' ></div>\r\n					</div>\r\n				<!--	<div class='selection'></div> -->\r\n					<div class='horizontal_splitter_content'></div>\r\n					\r\n				</div>\r\n			\r\n			</div>\r\n				<div class='click_more'>\r\n					<span>{{i18n@sys/dos/click/more}}</span>\r\n					<div class='horizontal_splitter_content'></div>\r\n					</div>\r\n					\r\n		</div>\r\n	</div>\r\n</div>	\r\n	\r\n	\r\n\r\n"}),define("html!sap.sbo.page.pad.dataOwnership.DOEnablementDetail",function(){return"<div id= \"DOEnablementDetail_container\">\r\n	<div class=\"listView\" data-sap-widget=\"sap.sbo.layout.pad.ListLayout\" data-sap-option=\"pageSize: 0\">\r\n\r\n	<!--	<div data-sap-template=\"Header\">\r\n			\r\n			<div id=\"enablement\" data-sap-widget='sap.ui.widget.Checkbox'\r\n				data-sap-option=\"text: {{i18n@enable_filter}}, checked: {{enableCfg@checked, two-way}}\">></div>\r\n			<div id='textShow'></div>\r\n			\r\n		</div> -->\r\n		<div data-sap-template=\"Content\">\r\n			<div class = \"items_enable\" >\r\n				<div class = 'title'><span>{{account}}</span><div class=\"icon\"></div></div>\r\n				<div class = 'content'>\r\n					<div class = 'line'><span>{{i18n@sys/dos/ASSIGN_PEER}}</span><span sap-ctrl=''>{{textpeer}}</span></div>\r\n					<div class = 'line'><span>{{i18n@sys/dos/ASSIGN_MANAGER}}</span><span ap-ctrl=''>{{textmanager}}</span></div>\r\n					<div class = 'line'><span>{{i18n@sys/dos/ASSIGN_SUBORDINATE}}</span><span ap-ctrl=''>{{textsubordinate}}</span></div>\r\n				</div>\r\n				<div class = 'standardEmployeeIcon' data-isSuperUser=\"{{isFrozen}}\">\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n\r\n"}),define("html!sap.sbo.page.pad.Document.ItemsEdit",function(){return'<div class="sbo-document-item-edit">\r\n\r\n    <div data-sap-template="headerFields">\r\n        <div data-sap-template="Content">\r\n            <div data-sap-template="Property" property="discountPercent" link="totalDiscount"></div>\r\n            <div data-sap-template="Property" property="vatSum" option=\'{"readOnly":true}\'></div>\r\n            <div data-sap-template="Property" property="docTotal"></div>\r\n        </div>\r\n        <div data-sap-template="PropertyTemplate">\r\n	        <div data-sap-template="[discountPercent]" >\r\n			    <div class="writable percent key-value">\r\n			        <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n			        <div class="value">\r\n			            <input class="percent" type="text" data-sap-widget="sap.sbo.ui.widget.DecimalInputField" \r\n			            data-sap-option="value: {{#PROPERTY#, sap.formatter.real_string_nullable , two-way}}, nullable: true, liveChange:true, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}} , decimalNum:{{globalSettings@types/Percent/DecimalPlace}}" />\r\n			            <span class="sign">%</span>\r\n			            <span class="amount" data-sap-widget="sap.sbo.ui.widget.DecimalLabel" data-sap-option="value:{{totalDiscount,sap.formatter.real_string_nullable}}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}},decimalNum:{{globalSettings@types/Sum/DecimalPlace}},\r\n                                        currency:{{globalSettings@currencySettings/localCurrency}}, currencyLocalRight:{{globalSettings@currencySettings/displayCurrencyOnTheRight}}"></span>\r\n			        </div>\r\n			    </div>\r\n			    <div class="readonly percent key-value">\r\n			        <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n			        <div class="value">\r\n			            <span>\r\n			                <span class="percent" data-sap-widget="sap.sbo.ui.widget.DecimalLabel"\r\n			                    data-sap-option="value: {{#PROPERTY#, sap.formatter.real_string_nullable }}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}} , decimalNum:{{globalSettings@types/Percent/DecimalPlace}}" >\r\n			                </span>\r\n			                <span class="sign">%</span>\r\n			                <span class="amount" data-sap-widget="sap.sbo.ui.widget.DecimalLabel" data-sap-option="value:{{totalDiscount,sap.formatter.real_string_nullable}}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}},decimalNum:{{globalSettings@types/Sum/DecimalPlace}},\r\n                                        currency:{{globalSettings@currencySettings/localCurrency}}, currencyLocalRight:{{globalSettings@currencySettings/displayCurrencyOnTheRight}}"></span>\r\n			            </span>\r\n			        </div>\r\n			    </div>\r\n			</div>          		\r\n        </div>\r\n    </div>\r\n    \r\n\r\n    <div data-sap-template="itemHeader">\r\n         <div class="label">{{i18n@app/document/PRODUCT}}</div>\r\n         <div class="subtitle">{{loop@data/itemCode}}</div>\r\n         <div class="title" data-boLabel="itemCode" data-sap-widget="sap.sbo.ui.widget.BoLabel" data-sap-option="text:{{loop@data/itemDescription}}, readonly:{{setting@customReadonly}}, inNavigationMode:{{setting@customReadonly}}"></div>   \r\n\r\n    </div>\r\n\r\n    <div data-sap-template="itemFields">\r\n\r\n        <div data-sap-template="Content">\r\n            <div data-sap-template="Property" property="quantity"></div>\r\n            <div data-sap-template="Property" property="unitPrice"></div>           \r\n            <div data-sap-template="Property" property="vatGroup"></div>\r\n            <div data-sap-template="Property" property="taxCode"></div>\r\n            <div data-sap-template="Property" property="taxTotal"></div>\r\n            <div data-sap-template="Property" property="priceAfterVAT"></div>\r\n            <div data-sap-template="Property" property="discountPercent"></div>\r\n            <div data-sap-template="Property" property="grossTotal"></div>\r\n        </div>\r\n        <div data-sap-template="PropertyTemplate">\r\n            <div data-sap-template="String[taxCode]" height="80">\r\n                <div class="readonly key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div>{{loop@data/taxCode}}</div> \r\n                    </div>\r\n                </div>\r\n	            <div class="writable key-value">\r\n	                <div class="key">#label#</div>\r\n	                <div class="value">\r\n	                    <div \r\n	                        data-sap-widget="sap.ui.widget.DropDownBox" \r\n	                        data-sap-option="textField: \'name\', valueField: \'code\', data: {{list@tax}}, selectedValue: {{loop@data/taxCode, two-way}}"></div> \r\n	                </div>\r\n	            </div>\r\n            </div>\r\n              \r\n            <div data-sap-template="String[vatGroup]" height="80">\r\n                <div class="readonly key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div>{{loop@data/vatGroup}}</div> \r\n                    </div>\r\n                </div>\r\n                <div class="writable key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div \r\n                            data-sap-widget="sap.ui.widget.DropDownBox" \r\n                            data-sap-option="textField: \'name\', valueField: \'code\', data: {{list@vatGroup}}, selectedValue: {{loop@data/vatGroup, two-way}}"></div> \r\n                    </div>\r\n                </div>\r\n            </div>                        \r\n        </div>      \r\n    </div>\r\n\r\n</div>\r\n\r\n<!--\r\nvim:ts=2 sw=2 noexpandtab\r\n-->\r\n'}),define("html!sap.sbo.page.pad.extention.BusinessPartnerSetting",function(){return'<div class=\'sbo-businessPartnerSetting\'>\r\n	<div ctrl=\'layout\' class=\'sbo-businessPartnerSetting-Layout\'\r\n        data-sap-widget="sap.sbo.layout.pad.AdvancedTilesLayout"\r\n        data-sap-option="disableLayoutService:true">\r\n        <div data-sap-template="Html" mode="2x2" uuid="industry">\r\n          <div index="sfa-customerSetting-industry" class="sbo-bo-tile industryssetting sbo-bo-tile-{{countOfInd}} green" field="industry">    \r\n                <div class="title">\r\n                    <div>\r\n                        {{i18n@app/industry/INDUSTRY}}\r\n                    </div>\r\n                </div>\r\n                <div class="number">\r\n                    <div class="value" id="numOfIndustry"></div>\r\n                </div>\r\n            </div>\r\n       </div>\r\n       <div data-sap-template="Html" mode="2x2" uuid="customergroup">\r\n          <div index="sfa-customerSetting-customergroup" class="sbo-bo-tile industryssetting sbo-bo-tile-{{countOfCusGroup}} yellow" field="customergroup">    \r\n                <div class="title">\r\n                    <div>\r\n                        {{i18n@app/bpgroup/CUS_GROUPS}}\r\n                    </div>\r\n                </div>\r\n                <div class="number">\r\n                    <div class="value" id="numOfCusGroup"></div>\r\n                </div>\r\n            </div>\r\n       </div>\r\n    </div>\r\n</div>'}),define("html!sap.sbo.page.pad.extention.DataImportDialog",function(){return'<div class=\'sbo-dataImportDialog\'>\r\n	<div>\r\n		<div ctrlId="title">Data Import</div>\r\n		<div ctrlId="importFileName">importFileName: {{importFileName}}\r\n		</div>\r\n		<div ctrlId="ChooseTemplate"\r\n			data-sap-widget="sap.sbo.ui.widget.UploadButton"\r\n			data-sap-option="autoupload: false, text: \'ChooseTemplate\'"\r\n			style="width: 130px; height: 30px; float: left; padding-left: 20px;"></div>\r\n		<button ctrlId="btnCancel" data-sap-widget=\'sap.ui.widget.Button\'\r\n			data-sap-option="text:\'Cancel\'"></button>\r\n		<button ctrlId="btnPreCheck" data-sap-widget=\'sap.ui.widget.Button\'\r\n			data-sap-option="text:\'Next\'"></button>\r\n	</div>\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.extention.EditBPSettingFrame",function(){return"<div class='sbo-editBPSettingFrame'>\r\n	<div>\r\n		<div>General Settings</div>\r\n		<div>\r\n			<div>Customer Activity Restrictions</div>\r\n			<div uuid='sbo-editBPSettingFrame-CreditLimit'\r\n				data-sap-widget='sap.ui.widget.Checkbox'\r\n				data-sap-option=\"text: 'Credit Limit',   checked: {{GeneralSetting/creditRestriction, formatter.ConvertBetweenEnumAndBoolean, two-way}}\"></div>\r\n			<div groupid='CreditLimit' data-sap-widget='sap.ui.widget.Checkbox'\r\n				data-sap-option=\"text: 'ARInvoice',  checked: {{GeneralSetting/restrictSales, formatter.ConvertBetweenEnumAndBoolean, two-way}}\"></div>\r\n			<div groupid='CreditLimit' data-sap-widget='sap.ui.widget.Checkbox'\r\n				data-sap-option=\"text: 'Delivery',  checked: {{GeneralSetting/restrictDelNotesPO, formatter.ConvertBetweenEnumAndBoolean, two-way}}\"></div>\r\n			<div groupid='CreditLimit' data-sap-widget='sap.ui.widget.Checkbox'\r\n				data-sap-option=\"text: 'Sales Order',  checked: {{GeneralSetting/restrictOrders, formatter.ConvertBetweenEnumAndBoolean, two-way}}\"></div>\r\n			<div groupid='CreditLimit' data-sap-widget='sap.ui.widget.Checkbox'\r\n				data-sap-option=\"text: 'Pick List',  checked: {{GeneralSetting/pickList, formatter.ConvertBetweenEnumAndBoolean, two-way}}\"></div>\r\n\r\n			<div data-sap-widget='sap.ui.widget.Checkbox'\r\n				data-sap-option=\"text: 'Commitment Limit',  checked: {{GeneralSetting/commitmentRestriction, formatter.ConvertBetweenEnumAndBoolean, two-way}}\"></div>\r\n			<div data-sap-widget='sap.ui.widget.Checkbox'\r\n				data-sap-option=\"text: 'Consider Deliveries Balance',  checked: {{GeneralSetting/considerDelNotesinSalesR, formatter.ConvertBetweenEnumAndBoolean, two-way}}\"></div>\r\n\r\n			<div uuid='sbo-editBPSettingFrame-ActivateAP'\r\n				data-sap-widget='sap.ui.widget.Checkbox'\r\n				data-sap-option=\"text: 'Activate Approval Procedures',  checked: {{GeneralSetting/docConfirmation, formatter.ConvertBetweenEnumAndBoolean, two-way}}\"></div>\r\n			<div groupid='ActivateAP' data-sap-widget='sap.ui.widget.Checkbox'\r\n				data-sap-option=\"text: 'Activate Approval Procedures in DI',  checked: {{GeneralSetting/enableApprovalProcedureInDI, formatter.ConvertBetweenEnumAndBoolean, two-way}}\"></div>\r\n\r\n			<div data-sfa-class=\"groupHeadTitle\">Set Commission by</div>\r\n			<div id='sfa-editBPSettingFrame-SalesEmployees'\r\n				data-sap-widget='sap.ui.widget.Checkbox'\r\n				data-sap-option=\"text: 'Sales Employees',  checked: {{GeneralSetting/setCommissionbySE, formatter.ConvertBetweenEnumAndBoolean, two-way}}\"></div>\r\n			<div id='sfa-editBPSettingFrame-Items'\r\n				data-sap-widget='sap.ui.widget.Checkbox'\r\n				data-sap-option=\"text: 'Items',  checked: {{GeneralSetting/setCommissionbyItem, formatter.ConvertBetweenEnumAndBoolean, two-way}}\"></div>\r\n			<div id='sfa-editBPSettingFrame-Customers'\r\n				data-sap-widget='sap.ui.widget.Checkbox'\r\n				data-sap-option=\"text: 'Customers',  checked: {{GeneralSetting/setCommissionbyCustomer, formatter.ConvertBetweenEnumAndBoolean, two-way}}\"></div>\r\n		</div>\r\n		\r\n		<button uuid=\"btnSave\" id=\"sfa-editBPSettingFrame-save\"\r\n			data-sap-widget='sap.ui.widget.Button' data-sap-option=\"text:'Save'\"></button>\r\n		<button uuid=\"btnCancel\" id=\"sfa-editBPSettingFrame-cancel\"\r\n			data-sap-widget='sap.ui.widget.Button'\r\n			data-sap-option=\"text:'Cancel'\"></button>\r\n\r\n	</div>\r\n</div>\r\n"}),define("html!sap.sbo.page.pad.extention.MassDataExportTemplate",function(){return'<div id="sap-sbo-data-export">\r\n    <div>{{instance}}</div>\r\n    <div class="contentblock" data-sap-widget="sap.ui.Repeat" data-sap-option="data:{{SupportedDataType}}">\r\n        <div class=\'masterdata\' data-sap-template="Content" datatype = \'{{dataType}}\'>\r\n            <div class="title"><div id="title-text">{{titleI18nKey}}</div></div>\r\n            <div class="description">{{descriptionI18nKey}}</div>\r\n        </div>\r\n    </div>\r\n	<iframe ctrlId="innerFrame" style="display: none;"> </iframe>\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.extention.MassDataImport",function(){return'<div class=\'sbo-massDataImport\'>\r\n    <div ctrlId = "import">\r\n        <div class = "decoratorBolder" ctrlId = "dropZone">\r\n            <div id="t1">\r\n                <div id="t1-text">{{i18n@dm/GRAG_DROP_T1}}</div>\r\n            </div>\r\n            <div id="down-arrow"></div>            \r\n            <div id= "t2">\r\n                {{i18n@dm/GRAG_DROP_T2}}\r\n            </div>\r\n        </div>\r\n        <div ctrlId = "browseFile">\r\n            <div id = "t3">\r\n                <div id="t3-text">{{i18n@dm/GRAG_DROP_T3}}</div>\r\n            </div>\r\n            <div id = "upLoadFile">\r\n                <div id="file-path-input"></div>\r\n               <div id="btn-browser" ctrlId=\'importBtn\' \r\n			   	data-sap-widget="sap.sbo.ui.widget.UploadButton" \r\n			   	data-sap-option="text:{{i18n@common/BROWSE}}, autoupload: true">\r\n               </div>\r\n            </div>\r\n        </div>\r\n		\r\n		<div ctrlId = "helpInfo">\r\n			<div ctrlId = "helpInfo1">{{i18n@dm/DOWNLOAD_TEMPLATE}}</div>\r\n			<div ctrlId = "helpInfoLink">{{i18n@dm/DOWNLOAD_TEMPLATE1}}</div>\r\n		</div>\r\n    </div>\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.extention.MassDataImportFailedRecords",function(){return'<div class=\'sbo-massDataImportFailedRecords\'>\r\n    <div ctrlId="tableContents">\r\n    </div>\r\n    <iframe ctrlId = "innerFrame" style="display: none;">\r\n    </iframe>\r\n    <div class="listView" data-sap-widget="sap.sbo.ui.widget.ListGridView" data-sap-option="headers:{{headers}}, rows:{{rows}}">\r\n    </div>\r\n</div>\r\n'
}),define("html!sap.sbo.page.pad.extention.MassDataImportProgress",function(){return'<div class=\'sbo-massDataImportProgress\'>\r\n    <div ctrlId = "progressBar">\r\n        <div ctrId = "title">\r\n            <div ctrId = "titleTxt">\r\n                <span id = "importOrExport"></span>\r\n                <span id = "etc">...</span>\r\n            </div>\r\n        </div>\r\n        <div ctrlId=\'importProgressbar\' data-sap-widget=\'sap.ui.widget.Progressbar\' data-sap-option=\'value: {{importProgressValue}}, max:100\'>\r\n        </div>\r\n        <div ctrlId = "importProgress">\r\n        </div>\r\n    </div>\r\n    <iframe ctrlId="innerFrame" style="display: none;">\r\n    </iframe>\r\n    <div ctrlId = "infoBox">\r\n        <div ctrlId = "records">\r\n            <div class = "recordsTitle">\r\n                {{i18n@dm/IMPORT_RECORDS}}\r\n            </div>\r\n            <div class = "tableCell">\r\n                <div class = "level">\r\n                    <span id = "result_imported"></span>\r\n                </div>\r\n                <div class = "level">\r\n                    <span id = "result_skipped"></span>\r\n                </div>\r\n                <div ctrlId = "failedNum" class = "level">\r\n                    <span id = "result_failed"></span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div ctrlId = "download">\r\n        </div>\r\n        <div ctrlId = "gotoBO">\r\n            <div class = "tableCell">\r\n                <div ctrlId = "gotoBOInfo">\r\n                    <span>{{i18n@dm/IMPORT_NOTIFICATION}}</span>\r\n                </div>\r\n                <div ctrlId = "gotoBOLink" class= "linkedText">\r\n                    <span id="import_goto_bo"></span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div ctrlId = "dicBox">\r\n        <div ctrlId = "dicBoxTitle">\r\n        	{{i18n@dm/FAILED_CREATE_DICDATA}}\r\n        </div>\r\n		<div ctrlId = "sheet"></div>\r\n		<div ctrlId = "line"></div>\r\n        <div class="listView" data-sap-widget="sap.sbo.ui.widget.ListGridView" data-sap-option="headers:{{headers}}, rows:{{rows}}">\r\n        </div>\r\n    </div>\r\n	<div ctrlId = "plBox">\r\n		 <div ctrlId = "fialedCreatePL">\r\n        </div>\r\n		 <div ctrlId = "reason">\r\n        </div>\r\n	</div>\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.Incident.Feedback",function(){return"<div class='userFeedback'>\r\n	<div class='feedback-title'>\r\n		<div class='title'>{{i18n@app/FEEDBACK/TITLE}}</div>\r\n		<div class='button'>\r\n			<div class='btn-close'>{{i18n@app/FEEDBACK/BTN/CLOSE}}</div>\r\n			<div class=\"btn-splitter\"></div>\r\n			<div class='btn-send'>{{i18n@app/FEEDBACK/BTN/SEND}}</div>\r\n		</div>\r\n		\r\n	</div>\r\n	<div class='horizontal_splitter_title'></div>\r\n	<div class='feedback-body'>\r\n		<div class='feedback_type'>\r\n			<div class='selectContainer'>\r\n				<div class='bottom'></div>\r\n				<div class='left'>{{i18n@app/FEEDBACK/BTN/IDEA}}</div>\r\n				<div class='right'>{{i18n@app/FEEDBACK/BTN/PROBLEM}}</div>\r\n				\r\n			</div>		\r\n		</div>\r\n		<div class='horizontal_splitter_desc'></div>\r\n		<div class='comments'>\r\n			<div class=\"comments_idea\" data-sap-hide=false>\r\n				<textarea class='text'></textarea>\r\n			</div>\r\n\r\n			<div class=\"comments_problem\" data-sap-hide=false>\r\n				<textarea class='text'></textarea>\r\n			</div>\r\n			\r\n			<!-- <div class=\"idea-holder\">\r\n				<textarea class='reminder' readonly=true></textarea>\r\n			</div>\r\n			\r\n			<div class=\"problem-holder\">\r\n				<textarea class='reminder' readonly=true></textarea>\r\n			</div> -->\r\n\r\n		</div>\r\n		</div>\r\n	</div>\r\n	\r\n	\r\n\r\n</div>\r\n"}),define("html!sap.sbo.page.pad.Incident.IncidentReporting",function(){return"<div class='incident-reporting'>\r\n	<div class='reporting-title'>\r\n		<div class='title'>\r\n			{{i18n@app/INCIDENT/TITLE}}\r\n		</div>\r\n		<div class='button'>\r\n			<div class='btn-send'>\r\n				{{i18n@app/FEEDBACK/BTN/SEND}}\r\n			</div>\r\n			<div class=\"btn-splitter\"></div>\r\n			<div class='btn-close'>\r\n				{{i18n@app/FEEDBACK/BTN/CLOSE}}\r\n			</div>\r\n		</div>\r\n\r\n	</div>\r\n	<div class='horizontal_splitter_title'></div>\r\n	<div class='content'>\r\n				<div class='error_container' sap-ctrl='iscrol'>\r\n					<div>\r\n					<div class='error_prefix'>\r\n						{{i18n@app/INCIDENT/PREFIX}}\r\n					</div>\r\n				\r\n					<div class='error_info'>\r\n						{{error@errorInfo}}\r\n					</div>\r\n				  </div>\r\n			</div>\r\n		\r\n		<div class='int_title'>\r\n			<div class='text'>\r\n				{{i18n@app/INCIDENT/TITL/LABEL}}\r\n			</div>\r\n			<input class='title_content' value='{{error@title}}'></input>\r\n		</div>\r\n		<div class='desc'>\r\n			{{i18n@app/INCIDENT/DESC/LABEL}}\r\n		</div>\r\n		<textarea class=\"comments\" placeholder=\"{{i18n@app/FEEDBACK/COMMENTS/PRO}}\"></textarea>		\r\n		\r\n\r\n		<div class='tail'>\r\n			<div data-sap-widget=\"sap.ui.widget.Checkbox\" data-sap-option=\"text:{{i18n@app/INCIDENT/PRIORITY}}, checked:{{check@priority,two-way}}\"></div>\r\n		</div>\r\n\r\n	</div>\r\n\r\n</div>"}),define("html!sap.sbo.page.pad.Leads.BasicInfoEdit",function(){return'<div class="opps-basic-info edit">\r\n    <div ctrl="main"\r\n        class="sbo-app-template-editproperty sbo-app-template-property-info-enable"\r\n        data-sap-widget="sap.sbo.layout.pad.MetadataLayout" \r\n        data-sap-option="verticalPadding: 20, horizontalPadding: 100, colWidth:250, ignoredProperty: [\'campaignNumber\', \'contactPersonCode\', \'mainContactPersonDisplayName\']"\r\n    >\r\n        <div data-sap-template="Content">\r\n            <div data-sap-template="Property" property="id"  option =\'{"group":"leadGeneral"}\'></div>\r\n            <div data-sap-template="Property" property="description"  option =\'{"group":"leadGeneral"}\'></div>            \r\n            <div data-sap-template="Property" property="bpCode" link="bpName"  option =\'{"group":"leadGeneral"}\'></div>\r\n            <div data-sap-template="Property" property="source" link="sourceDescription" option =\'{"group":"leadGeneral"}\'></div>\r\n            <div data-sap-template="Property" property="qualification" option =\'{"group":"leadGeneral"}\'></div>\r\n            <div data-sap-template="Property" property="ownerCode" link="OwnerEmployeeDisplayName" option =\'{"group":"leadGroup2"}\'></div>\r\n            <div data-sap-template="Property" property="status" option =\'{"group":"leadGroup2"}\'></div>\r\n            <div data-sap-template="Property" property="reasonForStatus" link="reasonDescription" option =\'{"group":"leadGroup2"}\'></div>    \r\n            \r\n        </div>\r\n        <div data-sap-template="PropertyTemplate">\r\n        	                        \r\n              <div data-sap-template="[ownerCode]">\r\n                <div class="writable key-value">                    \r\n                    <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                        <div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                     </div>                      \r\n                    <div class="value"  >\r\n                        <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n                          data-sap-option="text:{{OwnerEmployeeDisplayName}}, navigationEnabled: false">\r\n                        </div>                        \r\n                    </div>	          \r\n                </div>\r\n\r\n                <div class="readonly key-value">\r\n                    <div class="key"\r\n                        gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                        <div class="key-label">{{$label}}</div>\r\n                        <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                    </div>\r\n                    <div class="value">\r\n                        <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n                   			data-sap-option="iconUrl:{{owner@OwnerImage/url}}, text:{{OwnerEmployeeDisplayName}}, readonly:{{$readOnly}}, inNavigationMode:{{meta@readonly}}"\r\n                   		></div>\r\n                    </div>\r\n                </div>             \r\n         </div>            \r\n    	 <div data-sap-template="[reasonForStatus]">\r\n    	 	<div class="readonly key-value">\r\n    	 		<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n    	 			<div class="key-lable">{{$label}}</div>\r\n    	 		</div>\r\n    	 		<div class="value">\r\n    	 			<div>{{reasonDescription}}</div>\r\n    	 		</div>\r\n    	 	</div>\r\n    	 	<div class="writable key-value">\r\n    	 		<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                    <div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                 </div>                      \r\n                <div class="value"  >\r\n                    <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n                      data-sap-option="text:{{reasonDescription}}, navigationEnabled: false">\r\n                    </div>                        \r\n                </div>\r\n    	 	</div>\r\n    	 </div>\r\n    	<div data-sap-template="[source]">\r\n    	 	<div class="readonly key-value">\r\n    	 		<div class="key">\r\n    	 			<div class="key-lable">{{$label}}</div>\r\n    	 		</div>\r\n    	 		<div class="value">\r\n    	 			<div>{{sourceDescription}}</div>\r\n    	 		</div>\r\n    	 	</div>\r\n    	 	<div class="writable key-value">\r\n               <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                   <div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                </div>                      \r\n               <div class="value"  >\r\n                   <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n                     data-sap-option="text:{{sourceDescription}}, navigationEnabled: false">\r\n                   </div>                        \r\n               </div>\r\n    	 	</div>\r\n    	 </div>\r\n         <div data-sap-template="String[bpCode]">        \r\n            <div class="readonly key-value">\r\n                <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n                <div class="value">\r\n                    <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n                    	data-sap-option="text:{{bpCode}}, readonly:true, inNavigationMode:{{meta@readonly}}">\r\n                    </div>\r\n                    <div>{{bpName}}&nbsp;</div>\r\n                </div>\r\n            </div>\r\n            <div class="writable key-value">\r\n				<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                     <div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                  </div>                      \r\n                <div class="value"  >\r\n                     <div>{{bpCode}}</div>\r\n                     <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n                       data-sap-option="text:{{bpName}}, navigationEnabled: false">\r\n                     </div>                        \r\n                </div>\r\n            </div>         \r\n         </div>\r\n    </div>\r\n\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.Leads.Competitor",function(){return'<div class="sbo-opps-item-edit">\r\n    \r\n    <div field="items" \r\n        class="sbo-opps-item-edit-list"\r\n        data-sap-widget="sap.sbo.layout.pad.CardLayout" data-sap-option="data: {{competitors, two-way}}, width: 230">\r\n        <div class="sbo-opps-item-edit-list-item" data-sap-template="Content">\r\n            <div class="first">\r\n                <h1>{{competitorID}}</h1>\r\n                <img class="close" src="image/SalesOpportunity/delete.png">\r\n            </div>\r\n            <div class="second">\r\n                <div class="key-value">\r\n                    <div class="key">Threat Level</div>\r\n                    <div class="value"><input data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{classification, two-way}}, nullable: true, readonly:false"></div>\r\n                </div>\r\n                <div class="key-value">\r\n                    <div class="key">Memo</div>\r\n                    <div class="value"><input data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{competitorName, two-way}}, nullable: true, readonly:false"></div>\r\n                </div>\r\n            </div>\r\n            \r\n        </div>\r\n    </div>\r\n    \r\n</div>'}),define("html!sap.sbo.page.pad.Leads.Home",function(){return'<div class=\'sbo-bo-home sbo-opps-home\'>\r\n\r\n    <div ctrl=\'layout\' class=\'sbo-bo-home-layout\'\r\n    data-sap-widget="sap.sbo.layout.pad.AdvancedTilesLayout"\r\n    data-sap-option="">\r\n\r\n        <div data-sap-template="Html" mode="2x6" coordinate="0,0" mode-pad="2x6" coordinate-pad="0,0" uuid="general">\r\n            <div field=\'basicInfo\' \r\n               class="sbo-bo-tile bo-tile-profile sbo-app-template-tileproperty sbo-app-template-editproperty"\r\n                data-sap-widget="sap.sbo.layout.pad.MetadataRaw"\r\n                data-sap-option="sequenceAutoExpand:false"\r\n            >\r\n            	<div class="title">\r\n                    {{i18n@app/DETAILS}}\r\n                </div>\r\n                <div data-sap-template="Content">\r\n                	<div data-sap-template="Property" property="id"></div>\r\n                	<div data-sap-template="Property" property="bpCode" link="bpName"></div>\r\n                	<div data-sap-template="Property" property="OwnerEmployeeDisplayName"></div>\r\n                    <div data-sap-template="Property" property="status"></div>\r\n                    <div data-sap-template="Property" property="qualification"></div>\r\n			     </div>\r\n			      <div data-sap-template="PropertyTemplate">\r\n                    <div data-sap-template="[bpCode]" height="88" >\r\n                        <div class="key-value">\r\n                            <div class="key"\r\n                                gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                                <div class="key-label">{{$label}}</div>\r\n                                <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                            </div>\r\n                            <div class=\'value\'>\r\n		                        <div>{{#PROPERTY#}}</div>\r\n		                        <div class="hyperLink" data-id="cardName">{{bpName}}</div>\r\n		                    </div>\r\n                        </div>\r\n                    </div>                    \r\n                </div>\r\n            </div>\r\n         </div>   \r\n        <div data-sap-template="Html" mode="2x2" coordinate="1,0" mode-pad="2x2" coordinate-pad="1,0" uuid="contact">\r\n            <div field="contacts" class="sbo-bo-tile sbo-bo-tile-{{contacts/length}} contact">\r\n                <div class="title">\r\n                    {{i18n@app/lead/CONTACTPERSON}}\r\n                </div>\r\n                <div class="number">\r\n                    <div class="value">{{contacts/length, sap.sbo.util.formatter.circleNumber_more}}</div>\r\n                </div>                \r\n            </div>\r\n        </div>\r\n    	<div data-sap-template="View" mode="2x4" coordinate="1,1" mode-pad="2x4" coordinate-pad="1,1" uuid="sbo.taskTile" name="sap.sbo.app.task.taskTile" option=""></div>\r\n        <div data-sap-template="View" mode="2x2" coordinate="2,0" mode-pad="2x2" coordinate-pad="2,0" uuid="sbo.NotePageTile" name="sap.sbo.app.notepage.NotePageTile"></div>\r\n        <div data-sap-template="View" mode="2x2" coordinate="2,1" mode-pad="2x2" coordinate-pad="2,1" uuid="sbo.FeedTile" name="sap.sbo.app.network.FeedTile"></div>\r\n        <div data-sap-template="View" mode="2x4" coordinate="2,2" mode-pad="2x2" coordinate-pad="2,2" uuid="sbo.RelatedTile" name="sap.sbo.app.network.RelatedTile"></div> \r\n    </div>\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.Leads.LeadsCreation",function(){return'<div class=\'sbo-bo-creation-frame\'>\r\n    <div class="title">\r\n        {{i18n@app/lead/NEWLEAD}}\r\n    </div>\r\n    <div class="fields">\r\n        <div ctrl="main"\r\n            class="sbo-app-template-editproperty" \r\n            data-sap-widget="sap.sbo.layout.pad.MetadataList" \r\n            data-sap-option="verticalPadding: 5, ignoredProperty: [\'id\', \'campaignNumber\', \'contactPersonCode\', \'ownerCode\',  \'source\']"\r\n        >\r\n            <div data-sap-template="Content">\r\n                <div data-sap-template="Property" property="description"></div>\r\n                <div data-sap-template="Property" property="bpCode" link="bpName"></div>\r\n                <div data-sap-template="Property" property="mainContactPersonDisplayName"></div>    \r\n                <div data-sap-template="Property" property="OwnerEmployeeDisplayName"></div>\r\n                <div data-sap-template="Property" property="status"></div>\r\n                <div data-sap-template="Property" property="reasonForStatus" link="reasonDescription"></div>\r\n                <div data-sap-template="Property" property="qualification"></div>                \r\n                <div data-sap-template="Property" property="sourceDescription"></div>                   \r\n            </div>\r\n            <div data-sap-template=\'PropertyTemplate\'>\r\n                <div data-sap-template="String[bpCode]" height="50">\r\n                    <div class="string key-value">\r\n	                    <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n	                        <div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n	                     </div>                      \r\n	                    <div class="value"  >\r\n	                        <div>{{bpCode}}</div>\r\n	                        <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n	                          data-sap-option="text:{{bpName}}, readonly:{{bpModel@readonly}}, navigationEnabled: false">\r\n	                        </div>                        \r\n	                    </div>\r\n	                </div>                    \r\n                </div>\r\n                <div data-sap-template="String[mainContactPersonDisplayName]" height="50">\r\n                    <div class="string key-value">\r\n	                    <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n	                        <div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n	                     </div>                      \r\n	                    <div class="value"  >\r\n	                        <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n	                          data-sap-option="text:{{mainContactPersonDisplayName}}, readonly:{{contactModel@readonly}}, navigationEnabled: false">\r\n	                        </div>                        \r\n	                    </div>\r\n	                </div>                                        \r\n                </div>                \r\n                 <div  data-sap-template="String[sourceDescription]">\r\n                    <div class="string key-value">\r\n	                    <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n	                        <div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n	                     </div>                      \r\n	                    <div class="value"  >\r\n	                        <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n	                          data-sap-option="text:{{sourceDescription}}, navigationEnabled: false">\r\n	                        </div>                        \r\n	                    </div>\r\n	                </div>\r\n                </div>\r\n                <div  data-sap-template="[reasonForStatus]">\r\n                    <div class="string key-value">\r\n	                    <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n	                        <div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n	                     </div>                      \r\n	                    <div class="value"  >\r\n	                        <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n	                          data-sap-option="text:{{reasonDescription}}, navigationEnabled: false">\r\n	                        </div>                        \r\n	                    </div>\r\n	                </div>\r\n	            </div>\r\n                <div  data-sap-template="String[OwnerEmployeeDisplayName]">\r\n                    <div class="string key-value">\r\n	                    <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n	                        <div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n	                     </div>                      \r\n	                    <div class="value"  >\r\n	                        <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n	                          data-sap-option="text:{{OwnerEmployeeDisplayName}}, navigationEnabled: false">\r\n	                        </div>                        \r\n	                    </div>\r\n	                </div>\r\n                </div>                \r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="action">        \r\n        <button ctrl="btnCancel" data-touchable=\'true\' data-sap-widget="sap.ui.widget.Button" data-sap-option="text: {{i18n@common/CANCEL}}"></button>\r\n        <button ctrl="btnSaveOpen" data-touchable=\'true\' data-sap-widget="sap.ui.widget.Button" data-sap-option="text: {{i18n@common/DONE}}"></button>\r\n    </div>\r\n\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.Leads.LeadsListView",function(){return'<div class=\'bo-listview Leads\'>\r\n    <div data-id="listView" data-sap-widget="sap.sbo.layout.pad.ListLayout" \r\n    data-sap-option=\'pageSize:0, select:["id", "description", "qualification","bpCode", "bpName", "status"]\'>\r\n        <div data-sap-template="Content">\r\n            <div class=\'item\' title={{i18n@app/lead/LEAD}} {{id}}>\r\n                <div class=\'header\'>\r\n                    <div class="index">{{id}}</div>\r\n                    <div class="title">{{description}}</div>\r\n                    <div class="sub-title qualification" id="qul">{{!qualification, formatter.qualificationConverter}}</div>\r\n                </div>  \r\n				<div class="details">					\r\n					<div class="field">{{bpCode}}</div>\r\n					<div class="field">{{bpName}}</div>\r\n				</div>\r\n				<div class="status">\r\n					{{!status, formatter.convertStatusImage}}\r\n				</div>\r\n            </div>\r\n        </div>\r\n        <div data-sap-template="PropertyTemplate" style="display: none;">\r\n        	<div data-sap-template="String[bpCode]">\r\n				<div class="key-value">\r\n					<div class="key">#label#</div>\r\n					<div class="value">						\r\n						<div data-id="cardCode"\r\n							data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n							data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.pad.ChooseListCustomer\', titleField: \'cardName\', subtitleField: \'cardCode\', valueField: \'cardCode\'"></div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n			<div data-sap-template="Integer[contactPersonCode]">\r\n                <div class="key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div data-id="contactPerson"\r\n                            data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n                            data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.pad.ChooseListContact\', titleField: \'displayName\', subtitleField: \'position\', valueField: \'name\'"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div data-sap-template="Integer[ownerCode]">\r\n                <div class="key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div data-id="ownerCode"\r\n                            data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n                            data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.pad.ChooseListEmployee\', titleField: \'displayName\', valueField: \'employeeID\'"></div>    \r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div data-sap-template="Integer[source]">\r\n                <div class="key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div data-id="source"\r\n                            data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n                            data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.pad.ChooseListSource\', titleField: \'description\', valueField: \'sequenceNo\'"></div>    \r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div data-sap-template="Integer[reasonForStatus]">\r\n                <div class="key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div data-id="source"\r\n                            data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n                            data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.pad.ChooseListReason\', titleField: \'description\', valueField: \'sequenceNo\'"></div>    \r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.LeadSetting.LeadSetting",function(){return'<div class=\'sbo-CampaignSetting\'>\r\n    <div ctrl=\'layout\' class=\'sbo-home-layout\' data-sap-widget="sap.sbo.layout.pad.AdvancedTilesLayout" data-sap-option="disableLayoutService:true">\r\n        <div data-sap-template="View" mode="2x2" uuid="sbo.CompetitorTile" name="sap.sbo.app.MasterDatas.Competitor.CompetitorTile"></div>\r\n    </div> 	\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.network.Feed",function(){return'<div class=\'feed-container\'>\r\n    <div class="author">\r\n        <div class="portrait">\r\n            {{!object/portraitHTML}}\r\n        </div>\r\n    </div>\r\n    <div class="main_content">\r\n        <div class="name">{{, formatter.getFeedAuthor}}</div>\r\n        <div class="{{hot, formatter.getHotStatus}}"><img class="status-icon" src="{{hot, formatter.getHotImage}}" alt=""/></div>\r\n        <div class="{{target, formatter.getTargetClassName}}">\r\n            <span>{{targetType}}</span>\r\n            <a href=\'javascript:void(0);\' data-sap-widget=\'sap.sbo.ui.widget.BoLink\' data-sap-option=\'keepHTMLText:true, boEntity: {{targetEntity}}\'>{{targetName}}</a>\r\n        </div>\r\n        <div class="content">{{!object/contentHTML}}</div>\r\n        <div data-sbo-class="repeat" id=\'Div1\' data-sap-widget="sap.ui.Repeat" data-sap-option=\'data: {{object/attached/items/value,two-way}}\' >\r\n            <div data-sap-template="Content" data-sbo-class="content">\r\n                <div class="attached_img">\r\n                    <div class="img" data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{item/path}}, radius:"1px", arrangeType:"both" \' ></div>\r\n                    <span>{{item/realPath}}</span>\r\n                    <span>{{item/objectType}}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="updatedOn">\r\n            <span class="comments">{{comments/totalItems, formatter.getCommentsCount}}</span>\r\n            <span class="update">{{published, sap.sbo.util.formatter.convertTimeToDisplay}}</span>\r\n        </div>\r\n    </div>\r\n</div> '}),define("html!sap.sbo.page.pad.network.Feeds",function(){return'<div class="feeds">\r\n	<div class=\'feed_list\' data-sap-widget=\'sap.sbo.ui.pad.TimeLineLayout\' data-sap-option=\'itemWidth: 387\'>\r\n        <div class="list">\r\n            <div data-sap-template="Content" class="feed_item">\r\n                <div data-sap-widget="sap.ui.View" data-sap-option="name: \'sap.sbo.page.pad.network.Feed\', data: {{item}}"></div>\r\n		    </div>\r\n        </div>\r\n        <div class="tip_message">\r\n            {{i18n@feed/detail/tip/message}}\r\n        </div>\r\n        <div class="feed_detail">\r\n            <div class="feed-panel">\r\n                <div class="author_info">\r\n                    <div class=\'icon\'>\r\n		                <div class="pt">{{!object/portraitHTML}}</div>\r\n	                </div>\r\n                    <div class="author">\r\n                        <div class="author-name">{{actor/displayName, sap.sbo.util.formatter.replaceUnderline}}</div>\r\n                        <div class="time">{{published, sap.sbo.util.formatter.convertTimeToDisplay}}</div>\r\n                    </div>\r\n                </div>\r\n                <div class="{{, formatter.getHotStatus}}">\r\n                    <img id="setStatus" src="{{hot, formatter.getHotImage}}" alt="" />\r\n                    <div>{{hot, formatter.getHotTipMsg}}</div>\r\n                </div>\r\n                <div class="addComment">\r\n                    <img id="comment" src="image/feed/comment.png" alt="" />\r\n                    <div>{{i18n@page/phone/network/comment}}</div>\r\n                </div>\r\n            </div>\r\n            <div class="main-panel">\r\n                <div class="feed-ctt">\r\n                    <div class="container">\r\n                        <div id="boLink" class="{{target, formatter.getTargetClassName}}">\r\n                            <span>{{targetType}}</span>\r\n                            <a href=\'javascript:void(0);\' data-sap-widget=\'sap.sbo.ui.widget.BoLink\' data-sap-option=\'keepHTMLText:true, boEntity: {{targetEntity}}\'>{{targetName}}</a>\r\n                        </div>\r\n			            <div class=\'main-title\'>\r\n                            {{!object/contentHTML}}\r\n                        </div>\r\n                        <div class="attached_panel" style="display:{{object/attached/items/value, formatter.getAttachedStatus}}">\r\n                            <div data-sbo-class="repeat" id=\'Div2\' data-sap-widget="sap.ui.Repeat" data-sap-option=\'data: {{object/attached/items/value,two-way}}\' >\r\n                                <div data-sap-template="Content" data-sbo-class="content">\r\n                                    <div class="attached_img">\r\n                                        <a href="{{item/realPath}}" target="_blank">\r\n                                            <div class="img" data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{item/path}}, radius:"1px", arrangeType:"both" \' ></div>\r\n                                        </a>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="comments-list">\r\n                    <div id="myComments" class="rpt" data-sap-widget="sap.ui.Repeat" data-sap-option="data: {{comments/items/value, two-way}}">\r\n                        <div data-sap-template="Content">\r\n                            <div class="comment-block">\r\n                                <div class="comment_portrait">\r\n                                    <div>\r\n                                        <div class="img" data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{item, sap.sbo.util.formatter.avatarImageUrl_protriadID}}, radius:"1px", arrangeType:"both" \' ></div>\r\n                                        <div class="name">{{item/actor/displayName}}</div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class="content_panel right">\r\n                                    <div class="updatedOn">\r\n                                        <span>{{item/published, sap.sbo.util.formatter.convertTimeToDisplay}}</span>\r\n                                    </div>\r\n                                    <div class="content">{{!item/object/content}}</div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n	</div>\r\n</div>'
}),define("html!sap.sbo.page.pad.network.PostComment",function(){return'<div class="post_comment">\r\n    <div class="topBar">\r\n        <div id="btnOk">{{i18n@app/network/btnOK}}</div>\r\n        <div id="btnCancel">{{i18n@app/network/btnCancel}}</div>\r\n    </div>\r\n    <!--<div class="title">{{i18n@page/phone/network/comment}}</div>-->\r\n    <textarea id="txt_reason" class="sfa-post-status-text-area" placeholder="{{i18n@feed/comment/empty/text}}" maxlength="1900"\r\n        data-sap-widget="sap.sbo.ui.widget.AutoCompletableTextArea"\r\n        data-sap-option="cols: 1, rows: 5"></textarea>\r\n</div>'}),define("html!sap.sbo.page.pad.network.PostFeedDialog",function(){return'<div class="postDialog">\r\n    <div class="tool_bar">\r\n        <div id="press-talk" data-sap-widget="sap.sbo.ui.widget.PressToTalk" style="display:{{isPad}}" data-sap-option="echovoice: true, autoupload: false, url: \'social/file\'"></div>\r\n        <div class="sep" style="display:{{isPad}}">&nbsp;</div>\r\n        <div class="photo-pick" data-sap-widget="sap.sbo.ui.widget.PhotoPicker" style="display:{{isPad}}"  data-sap-option="resourcetype:\'camera\', text: \'{{i18n@page/pad/postFeed/btnCamera}}\', autoupload: false, url: \'social/file\'"></div>\r\n        <div class="sep" style="display:{{isPad}}">&nbsp;</div>\r\n        <div class="photo-album" data-sap-widget="sap.sbo.ui.widget.PhotoPicker" style="display:{{isPad}}"  data-sap-option="resourcetype:\'album\', text: \'{{i18n@page/pad/postFeed/btnAlbum}}\', autoupload: false, url: \'social/file\'"></div>\r\n        <div id="uploadfile" data-sap-widget="sap.sbo.ui.widget.UploadButton"  data-sap-option="url: \'social/file\', autoupload: false, cropimage: false" \r\n            style=" float:left; padding-left:20px;display:{{isDesktop}}"></div>\r\n    </div>\r\n    <div class="submit_bar">\r\n        <span id="post" class="postBtn">{{i18n@page/button/save}}</span>\r\n        <span>&nbsp;&nbsp;|&nbsp;&nbsp;</span><span id="cancel" class="memoBtn">{{i18n@app/network/btnCancel}}</span>\r\n    </div>\r\n    <textarea class="sfa-post-status-text-area" placeholder="{{i18n@feed/comment/empty/text}}" \r\n        data-sap-widget="sap.sbo.ui.widget.AutoCompletableTextAreaGrp" maxlength="1900"\r\n        data-sap-option="cols: {{textArea/cols}}, rows: {{textArea/rows}}, wrap: {{textArea/wrap}}, value: {{textArea/value, two-way}}"></textarea>\r\n    <div class="attached-files">\r\n            \r\n    </div>\r\n    <div class="tip">{{i18n@post/feed/tip}}</div>\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.network.Reason",function(){return'<div data-sbo-class="reasonPanel">\r\n    <div data-sbo-class="title">{{i18n@app/network/reason/title}}</div>\r\n    <textarea id="txt_reason" rows="3" cols="1"></textarea>\r\n    <div data-sbo-class="bottomBar">\r\n        <div id="btnOk">{{i18n@app/network/btnOK}}</div>\r\n       \r\n        <div id="btnCancel">{{i18n@app/network/btnCancel}}</div>\r\n    </div>\r\n</div>'}),define("html!sap.sbo.page.pad.network.RelatedList",function(){return"<div class='bo-listview opps'>\r\n	<div id=\"related-listView\" data-id=\"listView\" data-sap-widget=\"sap.sbo.layout.pad.ListLayout\" data-sap-option=\"pageSize:0,showEmptyContent:false\">\r\n		<div data-sap-template=\"Content\" class=\"sbo-cardview-item\">\r\n			<div class='item opps-item' data-sap-bo-type='{{boType}}' data-sap-bo-code='{{boCode}}'>\r\n				<div class=\"header\">\r\n					<div class='related-header'>{{boName}}</div><div class='relatedID'>{{id}}</div>\r\n					<div class='related-icon' data-sap-type='{{type}}'></div>\r\n				</div>\r\n				<div class=\"related-desc\">{{name}}</div>\r\n				<div class=\"related-reason\">\r\n					{{reason}}\r\n				</div>\r\n				<div class='related-tail' data-sap-type='{{type}}'>\r\n					{{i18n@common/REMOVE}}\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>"}),define("html!sap.sbo.page.pad.notepage.NotePageDialog",function(){return'<div data-sfa-class="notePage-detail">\r\n	<div data-sfa-class="block">\r\n	 <div class = "operationBar">\r\n	  <div class = "EditBar" modetype=\'edit\'>\r\n		<div id="uploadfile2" data-sfa-class= \'memoButton\' data-sap-widget="sap.sbo.ui.widget.UploadButton"data-sap-option="autoupload: true, cropimage:false"style=""></div>\r\n		<div id="press-talk" data-sfa-class= \'memoButton\' data-sap-widget="sap.sbo.ui.widget.PressToTalk"style=""data-sap-option="echovoice: true, autoupload: true,url:\'../sbo/file\'"></div>\r\n		<div id="photo-pick" data-sfa-class= \'memoButton\' data-sap-widget="sap.sbo.ui.widget.PhotoPicker"style=""data-sap-option="resourcetype:\'camera\',text:{{i18n@app/memo/CAMERA}}, autoupload: true,url:\'../sbo/file\'"></div>\r\n		<div id="photo-album" data-sfa-class= \'memoButton\' data-sap-widget="sap.sbo.ui.widget.PhotoPicker" style=";border:0px"  data-sap-option="resourcetype:\'album\', text: {{i18n@app/memo/ALBUM}}, autoupload: true,url:\'../sbo/file\'"></div>\r\n		<div id=\'saveBtn\' data-sfa-class= \'memoButton\' modetype=\'edit\'  >{{i18n@common/SAVE}}</div>\r\n		<div id=\'cancelBtn\' data-sfa-class= \'memoButton\' modetype=\'edit\' >{{i18n@common/CANCEL}}</div>\r\n	   </div>\r\n	   <div class = "ViewBar" modetype=\'view\' >\r\n		<div id=\'closeBtn\' data-sfa-class= \'memoButton\' modetype=\'view\'  style=\'float:right\'>{{i18n@common/CLOSE}}</div>\r\n		<div id=\'deleteBtn\' data-sfa-class= \'memoButton\' modetype=\'view\'  style=\'float:right\'>{{i18n@common/DELETE}}</div>\r\n		<div id=\'editBtn\' data-sfa-class= \'memoButton\' modetype=\'view\'  style=\'float:right\'>{{i18n@common/EDIT}}</div>\r\n		<div id=\'convertBtn\' data-sfa-class= \'memoButton\' modetype=\'view\'  style=\'float:right\'>{{i18n@app/memo/CONVERT}}</div>\r\n	   		<div id="convertList" style="width:438px;" data-sap-widget="sap.sbo.ui.widget.PopupMenu" data-sap-option="direction:\'bottom\',targetid:\'convertBtn\'">\r\n                <div class="sfa-popup-menu-standard">\r\n                    <div key="1">\r\n                        {{i18n@app/memo/TASK}}\r\n                    </div>\r\n                    <div key="2">\r\n                        {{i18n@app/memo/CONTACT}}\r\n                    </div>\r\n                    <div key="3">\r\n                        {{i18n@app/lead/LEAD}}\r\n                    </div>\r\n                    <div key="4">\r\n                        {{i18n@app/memo/OPPORTUNITY}}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n	   </div>\r\n	 </div>\r\n	<div data-sfa-class="titleline">\r\n			<div data-sfa-class="title">{{title}}</div>\r\n			<div modetype=\'edit\' data-sfa-class="copyflag" >\r\n				<span data-sfa-class="copyflagchk"  data-sap-widget=\'sap.ui.widget.Checkbox\' data-sap-option="checked:{{page/copyFlag,two-way}},text:{{i18n@app/memo/COPYFLAG}}"></span>\r\n			    <img data-sfa-class="copyflagicon"  src=\'image/common/info_help.png\'"></img>	\r\n			</div>\r\n			<div modetype=\'view\' data-sfa-class=\'copyflag\' data-sap-class=\'copyflagview\'>\r\n			    <span modetype=\'view\' data-sfa-class="copyflagchk">{{i18n@app/memo/COPYFLAG}}</span>\r\n			   <img data-sfa-class="copyflagicon"  src=\'image/common/info_help.png\'"></img>   \r\n			</div>\r\n			<div data-sfa-class="copyflaginfo" style="display:none">{{i18n@app/memo/COPYFLAGINFO}}</div>\r\n	</div>\r\n	<div data-sfa-class="notepageContent">\r\n		<div data-sfa-class="memotext">\r\n			  <textarea data-sfa-class="page-text-area" id=\'textarea\' modetype=\'edit\' class=\'notetextarea\'\r\n				data-sap-widget=\'sap.sbo.ui.widget.AutoCompletableTextAreaGrp\'\r\n				data-sap-option="value:{{page/text, two-way}}" placeholder= \'{{i18n@app/memo/PLACEHOLDER}}\'></textarea>\r\n				<div  modetype=\'view\' border=\'true\'class=\'richtextarea\' placeholder= \'{{i18n@app/memo/PLACEHOLDER}}\'>{{!richMediaText}}</div>\r\n		</div>\r\n		<div data-sfa-class="memoattachment">\r\n			<div data-sfa-class="container" data-sap-widget="sap.ui.Repeat"	data-sap-option="data:{{list}}">\r\n				<div data-sap-template="Content" data-sfa-class="tile" attachmenttype={{,sap.sbo.page.common.notepage.NotePageUtil.getAttachmentType}}\r\n					data-sfa-tile-id="{{attachmentId}}">\r\n					<div data-sfa-class="thumbnails" data-sap-widget = \'sap.ui.widget.Icon\' data-sap-option = "iconURL:{{previewUrl}}"></div>\r\n				    <div  data-sfa-class="fileicon"> \r\n				   <div data-sfa-class="icon" data-sap-widget = \'sap.ui.widget.Icon\' data-sap-option = "iconURL:{{previewUrl}}"></div>					\r\n					<div data-sfa-class="fileinfo">{{attachmentFileName}}</div>\r\n				</div>\r\n				 <img id = "removeBtn" data-sfa-class="removeBtn"  modetype=\'edit\' src = "image/memo/remove.png" />\r\n				</div>\r\n			</div>\r\n		  </div>	\r\n		</div>\r\n	</div>\r\n</div>\r\n\r\n\r\n'}),define("html!sap.sbo.page.pad.notepage.NotePageList",function(){return'<div data-sfa-class="notePage-list">\r\n <div data-sfa-class="container" ctrl="listView" data-sap-widget="sap.sbo.layout.pad.ListLayout" data-sap-option="source:{{list}}, pageSize: 0,emptyTexts: {{emptyInfo}}">	\r\n			<div data-sap-template="content" data-sfa-class="tile" \r\n				data-sfa-tile-id="{{id}}">\r\n					<div data-sfa-class="memocontent" memotype={{,sap.sbo.page.common.notepage.NotePageUtil.getMemoTypePhone}}>\r\n							<div  data-sfa-class="fileicon"> \r\n							    <div data-sfa-class="icon" data-sap-widget = \'sap.ui.widget.Icon\' data-sap-option = "iconURL:{{,sap.sbo.page.common.notepage.NotePageUtil.listPreviewUrl}}"></div>\r\n							</div>\r\n							<ul class = "fileinfo" style=" list-style:none;">\r\n									<li>{{attachmentFileName}}</li>\r\n									<li>{{attachmentFileSize,sap.sbo.page.common.notepage.NotePageUtil.convertFileSize}}</li>\r\n									<li>{{attachmentUpdateDate,sap.sbo.page.common.notepage.NotePageUtil.getLocalDateFromUTC}}</li>\r\n							</ul>\r\n							<div  data-sfa-class="textcontent">{{,sap.sbo.page.common.notepage.NotePageUtil.getShortDesc}}</div>\r\n							<div data-sfa-class="thumbnails" data-sap-widget = \'sap.ui.widget.Icon\' data-sap-option = "iconURL:{{,sap.sbo.page.common.notepage.NotePageUtil.listPreviewUrl}}"></div>\r\n							<div data-sfa-class="copyflag"  >{{copyFlag,sap.sbo.page.common.notepage.NotePageUtil.displayByBool}}</div>\r\n					</div>\r\n				</div>\r\n	</div>\r\n</div>'}),define("html!sap.sbo.page.pad.Product.PriceListEdit",function(){return'<div class="sbo-product-pricelist-edit">\r\n\r\n     <div data-sap-template="header">\r\n\r\n        <div class="key-value">\r\n            <div class="key"></div>\r\n            <div class="value"></div>\r\n        </div>\r\n\r\n    </div> \r\n\r\n    <div data-sap-template="itemHeader">\r\n\r\n        <div class="sbo-product-pricelist-desc">\r\n            <h2>{{loop@data/PriceListName}}</h2>\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <div data-sap-template="itemFields">\r\n\r\n        <div data-sap-template="Content">\r\n            <div data-sap-template="Property" property="price"></div>\r\n            <div data-sap-template="Property" property="ValidFrom"></div>\r\n            <div data-sap-template="Property" property="ValidTo"></div>\r\n        </div>\r\n        <div data-sap-template="PropertyTemplate">\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n<!--\r\nvim:ts=2 sw=2 noexpandtab\r\n-->\r\n'}),define("html!sap.sbo.page.pad.Product.ProductCardView",function(){return'<div class=\'bo-listview product\'>\r\n	<div data-id="listView" data-sap-widget="sap.sbo.layout.pad.ListLayout" data-sap-option=\'pageSize: 0\r\n     ,select:["itemCode", "itemName", "itemGroupName","itemsGroupCode", "manufacturerName","manufacturer","productImageId"]\'>\r\n		<div data-sap-template="Content">\r\n		    <div class=\'item\' data-inActive="{{IsActive}}">\r\n                <div class="avatar-container" data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{Image/url, sap.sbo.page.common.oppUtil.convertNullString}}, radius:"50%",  arrangeType:"both" \' ></div>\r\n				<div class=\'header\'>\r\n				    <div class="index">{{itemCode}}</div>\r\n                    <div class="title">{{itemName}}</div>\r\n				</div>\r\n				<div class="details">\r\n				    <div class=\'field\'>\r\n                        <div class="info">{{ItemPrices/price}}</div>\r\n                    </div>\r\n				    <div class=\'field\'>\r\n                        <div class="info">{{itemGroupName}}</div>\r\n                    </div>\r\n	                <div class=\'field\'>\r\n	                    <div class="info">{{manufacturerName}}</div>\r\n	                </div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n\r\n        <div data-sap-template="PropertyTemplate" style="display: none;">\r\n            <div data-sap-template="String[itemCode]" height="100">\r\n                <div class="key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div data-id="itemCode"\r\n                            data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n                            data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.pad.ChooseListProduct\', titleField: \'itemName\', subtitleField: \'itemCode\', valueField: \'itemCode\'"></div>        \r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n            <div data-sap-template="Integer[itemsGroupCode]" height="100">\r\n                <div class="key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div data-id="itemsGroupCode"\r\n                            data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n                            data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.pad.ChooseListItemGroup\', titleField: \'groupName\', valueField: \'number\'"></div>    \r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n            <div data-sap-template="Integer[manufacturer]" height="100">\r\n                <div class="key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div data-id="manufacturer"\r\n                            data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n                            data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.pad.ChooseListManufacturer\', titleField: \'manufacturerName\', valueField: \'code\'"></div>        \r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>		\r\n	</div>\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.Product.ProductCreation",function(){return'<div class=\'sbo-bo-creation-frame\'>\r\n    <div class="title">\r\n        {{i18n@app/product/NEW_PRODUCT}}\r\n    </div>\r\n    <div class="fields">\r\n        <div ctrl="main"\r\n            class="sbo-app-template-editproperty" \r\n            data-sap-widget="sap.sbo.layout.pad.MetadataList" \r\n            data-sap-option="verticalPadding: 5, ignoredProperty: [\'user_Text\',\'isActive\',\'shipType\',\'inventoryUOM\',\'salesUnit\',\'salesItemsPerUnit\',\'itemType\',\'barCode\',\'foreignName\',\'itemGroupName\',\'manufacturerName\',\'productImageId\',\'salesVATGroup\',\'SalesVatGroupsName\',\'shiptypeName\']"\r\n        >\r\n            <div data-sap-template="Content">\r\n                <div data-sap-template="Property" property="itemCode"></div>\r\n                <div data-sap-template="Property" property="itemName"></div>\r\n                <div data-sap-template="Property" property="itemsGroupCode"></div>\r\n<!--                 <div data-sap-template="Property" property="customerName"></div> -->\r\n<!--                 <div data-sap-template="Property" property="maxLocalTotal" option=\'{"readonly":false}\'></div> -->\r\n<!--                 <div data-sap-template="Property" property="status"></div> -->\r\n<!--                 <div data-sap-template="Property" property="predictedClosingDate"></div> -->\r\n<!--                 <div data-sap-template="Property" property="remarks"></div> -->\r\n            </div>\r\n            <div data-sap-template="PropertyTemplate">\r\n                <div data-sap-template="Integer[itemsGroupCode]" height="80">\r\n                    <div class="string key-value">\r\n<!--                         <div class="value">{{#PROPERTY#}}</div> -->\r\n                        <div class="key">#label#</div>\r\n                        <div class="value">  \r\n                            <div \r\n                                data-sap-widget="sap.ui.widget.DropDownBox" \r\n                                data-sap-option="textField: \'groupName\', valueField: \'number\', data: {{list@itemgroups}}, selectedValue:{{itemsGroupCode, two-way}}" style=\'width:100%;\'></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div data-sap-template="Integer[manufacturer]" height="80">\r\n                    <div class="string key-value">\r\n<!--                         <div class="value">{{#PROPERTY#}}</div> -->\r\n                        <div class="key">#label#</div>\r\n                        <div class="value">  \r\n                            <div \r\n                                data-sap-widget="sap.ui.widget.DropDownBox" \r\n                                data-sap-option="textField: \'manufacturerName\', valueField: \'code\', data: {{list@manufacturers}}, selectedValue:{{manufacturer, two-way}}" style=\'width:100%;\'></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="action">\r\n        <button ctrl="btnCancel" data-touchable=\'true\' data-sap-widget="sap.ui.widget.Button" data-sap-option="text: {{i18n@common/CANCEL}}"></button>\r\n        <button ctrl="btnSaveOpen" data-touchable=\'true\' data-sap-widget="sap.ui.widget.Button" data-sap-option="text: {{i18n@app/SAVE_VIEW}}"></button>\r\n    </div>\r\n\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.Product.ProductEdit",function(){return'<div>\r\n    <div ctrl="main"\r\n        class="sbo-app-template-editproperty sbo-app-template-property-info-enable"\r\n        data-sap-widget="sap.sbo.layout.pad.MetadataLayout" \r\n        data-sap-option="ignoredProperty: [\'itemGroupName\',\'manufacturerName\',\'productImageId\',\'SalesVatGroupsName\',\'shiptypeName\']"\r\n    >\r\n    \r\n    <div data-sap-template="Content">\r\n        <div data-sap-template="Property" property="itemCode" option=\'{"group":"basic"}\'></div>\r\n        <div data-sap-template="Property" property="itemName" option=\'{"group":"basic"}\'></div>\r\n        <div data-sap-template="Property" property="manufacturer" option=\'{"group":"basic"}\'></div>\r\n        <div data-sap-template="Property" property="itemsGroupCode" option=\'{"group":"basic"}\'></div>                          \r\n        <div data-sap-template="Property" property="isActive" option=\'{"group":"status"}\'></div>\r\n        <div data-sap-template="Property" property="salesUnit" option=\'{"group":"uom"}\'></div>\r\n        <div data-sap-template="Property" property="salesItemsPerUnit" option=\'{"group":"uom"}\'></div>\r\n        <div data-sap-template="Property" property="user_Text" option=\'{"group":"remark"}\'></div>\r\n        <div data-sap-template="Property" property="salesVATGroup" option=\'{"group":"tax"}\'></div>              \r\n    </div>\r\n        \r\n        <div data-sap-template="PropertyTemplate">\r\n            <div data-sap-template="String[itemCode]">\r\n	            <div class="string key-value">\r\n	                <div class="key">#label#</div>\r\n	                <div class="value">\r\n	                   <div>{{#PROPERTY#}}</div>\r\n	                </div>\r\n	            </div>\r\n            </div>\r\n            <div data-sap-template="Integer[itemsGroupCode]">\r\n                <div class="writable key-value">\r\n                    <div class="key"\r\n                        gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                        <div class="key-label">{{$label}}</div>\r\n                        <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                    </div>\r\n                    <div class="value">\r\n                        <div data-sap-widget="sap.ui.widget.DropDownBox"\r\n                            data-sap-option="textField: \'groupName\', valueField: \'number\', data: {{list@itemgroups}}, selectedValue:{{itemsGroupCode, two-way}}">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="readonly key-value">\r\n                    <div class="key"\r\n                        gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                        <div class="key-label">{{$label}}</div>\r\n                        <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                    </div>\r\n                    <div class=\'value\'>\r\n                        <div>{{itemGroupName}}&nbsp;</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div data-sap-template="Integer[manufacturer]">\r\n                <div class="writable key-value">\r\n                    <div class="key"\r\n                        gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                        <div class="key-label">{{$label}}</div>\r\n                        <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                    </div>\r\n                    <div class="value">\r\n                        <div data-sap-widget="sap.ui.widget.DropDownBox"\r\n                            data-sap-option="textField: \'manufacturerName\', valueField: \'code\', data: {{list@manufacturers}}, selectedValue:{{manufacturer, two-way}}">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="readonly key-value">\r\n                    <div class="key"\r\n                        gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                        <div class="key-label">{{$label}}</div>\r\n                        <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                    </div>\r\n                    <div class=\'value\'>\r\n                        <div>{{manufacturerName}}&nbsp;</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n                                  \r\n            <div data-sap-template="String[salesVATGroup]">\r\n                <div class="writable key-value">\r\n                    <div class="key"\r\n                        gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                        <div class="key-label">{{$label}}</div>\r\n                        <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                    </div>\r\n                    <div class="value">\r\n                        <div data-sap-widget="sap.ui.widget.DropDownBox"\r\n                            data-sap-option="textField: \'name\', valueField: \'code\', data: {{list@vatGroup}}, selectedValue:{{salesVATGroup, two-way}}">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="readonly key-value">\r\n                    <div class="key"\r\n                        gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                        <div class="key-label">{{$label}}</div>\r\n                        <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                    </div>\r\n                    <div class=\'value\'>\r\n                        <div>{{SalesVatGroupsName}}&nbsp;</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div data-sap-template="[isActive]">\r\n                <div class="writable key-value">\r\n                    <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n                     <div class="value">\r\n                        <span boEditId=\'rightInfo\' class=\'changeStatus\' boEditId=\'hyperLink\' \r\n                    data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{#PROPERTY#, sap.sbo.util.formatter.getActiveImg}}, arrangeType:"original" \' ></span>\r\n                        <span>{{#PROPERTY#,sap.sbo.util.formatter.isActive}}</span>     \r\n                     </div> \r\n                 </div>\r\n                 \r\n                <div class="readonly key-value">\r\n                 <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n                 <div class="value">\r\n                    <div>{{#PROPERTY#,sap.sbo.util.formatter.isActive}}</div>\r\n                 </div>\r\n                </div> \r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>'}),define("html!sap.sbo.page.pad.Product.ProductHome",function(){return'<div class="sbo-bo-home sbo-product-home">\r\n    <div ctrl=\'layout\' class=\'sbo-product-layout\'\r\n    data-sap-widget="sap.sbo.layout.pad.AdvancedTilesLayout"\r\n    data-sap-option="">\r\n\r\n        <div data-sap-template="Html" mode="2x6" coordinate="0,0" mode-pad="2x6" coordinate-pad="0,0" uuid="general">\r\n            <div  field="basicInfo" \r\n                class="sbo-bo-tile bo-tile-profile sbo-app-template-tileproperty sbo-app-template-editproperty"\r\n                data-sap-widget="sap.sbo.layout.pad.MetadataRaw" \r\n                data-sap-option="sequenceAutoExpand:false"\r\n            >\r\n                <div class="title">\r\n                    {{i18n@app/BASIC}}\r\n                </div>\r\n                <div uuid="logo" class="img" data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{Image/url}}, radius:"50%", arrangeType:"both" \' ></div>\r\n                <div data-sap-template="Content">\r\n                    <div data-sap-template="Property" property="itemsGroupCode"></div>\r\n                    <div data-sap-template="Property" property="salesUnit"></div>\r\n                    <div data-sap-template="Property" property="manufacturer"></div>\r\n                    <div data-sap-template="Property" property="isActive"></div>\r\n                  </div>\r\n                <div data-sap-template="PropertyTemplate">\r\n		            <div data-sap-template="Integer[itemsGroupCode]">		\r\n		                <div class="key-value readonly">\r\n		                    <div class="key"\r\n		                        gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n		                        <div class="key-label">{{$label}}</div>\r\n		                        <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n		                    </div>\r\n		                    <div class=\'value\'><div>{{itemGroupName}}&nbsp;</div></div>\r\n		                </div>\r\n		            </div>\r\n		            \r\n		            <div data-sap-template="Integer[manufacturer]">		\r\n		                <div class="key-value readonly">\r\n		                    <div class="key"\r\n		                        gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n		                        <div class="key-label">{{$label}}</div>\r\n		                        <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n		                    </div>\r\n		                    <div class=\'value\'><div>{{manufacturerName}}&nbsp;</div></div>\r\n		                </div>\r\n		            </div> \r\n		            \r\n		            <div data-sap-template="[isActive]">		\r\n		                <div class="key-value readonly">\r\n		                    <div class="key"\r\n		                        gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n		                        <div class="key-label">{{$label}}</div>\r\n		                        <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n		                    </div>\r\n		                    <div class="value">\r\n		                        <span>{{!isActive,formatter.isActive_pic}}</span> <span>{{isActive,formatter.isActive}}</span>\r\n		                    </div>\r\n		                </div>\r\n		            </div>		                            \r\n                </div>\r\n            </div>		\r\n		</div>\r\n		\r\n		<div data-sap-template="Html" mode="2x2" coordinate="1,0" mode-pad="2x2" coordinate-pad="1,0" uuid="pricelist">\r\n            <div class="sbo-bo-tile pricelist sbo-bo-tile-{{itemPrices/length}} product" field="pricelist">\r\n                <div class="title">\r\n                    {{i18n@app/product/PRICES}}\r\n                </div>\r\n                <div class="number">\r\n                    <div class="value">{{itemPrices/length, sap.sbo.util.formatter.circleNumber_more}}</div>\r\n                </div> \r\n            </div>\r\n        </div>\r\n\r\n        <div data-sap-template="View" mode="2x2" coordinate="2,1" mode-pad="2x2" coordinate-pad="2,1" uuid="task" name="sap.sbo.app.task.taskTile"></div>\r\n        <div data-sap-template="View" mode="2x2" coordinate="2,2" mode-pad="2x2" coordinate-pad="2,2" uuid="note" name="sap.sbo.app.notepage.NotePageTile"></div>\r\n        <div data-sap-template="View" mode="2x4" coordinate="1,1" mode-pad="2x4" coordinate-pad="1,1" uuid="feed" name="sap.sbo.app.network.FeedTile"></div>\r\n        <div data-sap-template="View" mode="2x2" coordinate="2,0" mode-pad="2x2" coordinate-pad="2,0" uuid="sbo.RelatedTile" name="sap.sbo.app.network.RelatedTile"></div>    \r\n	</div>\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.SalesOpportunity.BasicInfoEdit",function(){return'<div class="opps-basic-info edit">\r\n  <div ctrl="main"\r\n    class="sbo-app-template-editproperty sbo-app-template-property-info-enable"\r\n    data-sap-widget="sap.sbo.layout.pad.MetadataLayout" \r\n    data-sap-option="ignoredProperty: [\'totalAmt\',\'grossProfitTotalLocal\',\'contactPerson\',\'customerName\',\'discountPercent\',\'stageDescription\',\'mainContactPersonDisplayName\',\'ownerEmployeeDisplayName\',\'sourceDescription\',\'reasonDescription\']"        \r\n    >\r\n    <div data-sap-template="Content">\r\n      <div data-sap-template="Property" property="currentStageNumber"           option =\'{"group":"stage"}\'></div>\r\n      <div data-sap-template="Property" property="opportunityName"              option =\'{"group":"basic"}\'></div>\r\n      <div data-sap-template="Property" property="sequentialNo"                 option =\'{"group":"basic"}\'></div>\r\n      <div data-sap-template="Property" property="cardCode" link="customerName" option =\'{"group":"customer"}\'></div>\r\n      <div data-sap-template="Property" property="dataOwnershipfield"           option =\'{"group":"owner"}\'></div>\r\n      <div data-sap-template="Property" property="status"                       option =\'{"group":"owner"}\'></div>\r\n      <div data-sap-template="Property" property="reasonForClosing"             option =\'{"group":"owner"}\'></div>\r\n      <div data-sap-template="Property" property="startDate"                    option =\'{"group":"date"}\'></div>\r\n      <div data-sap-template="Property" property="predictedClosingDate"         option =\'{"group":"date"}\'></div>\r\n      <div data-sap-template="Property" property="closingDate"                  option =\'{"group":"date"}\'></div>\r\n      <div data-sap-template="Property" property="maxLocalTotal"                option =\'{"group":"summary"}\'></div>\r\n      <div data-sap-template="Property" property="closingPercentage"            option =\'{"group":"summary"}\'></div>\r\n      <div data-sap-template="Property" property="weightedSumLC"                option =\'{"group":"summary"}\'></div>\r\n      <div data-sap-template="Property" property="source"                       option =\'{"group":"other"}\'></div>\r\n      <div data-sap-template="Property" property="remarks"                      option =\'{"group":"other"}\'></div>\r\n    </div>\r\n    <div data-sap-template="PropertyTemplate">\r\n      <div data-sap-template="Integer[currentStageNumber]" >\r\n        <div class="key-value">\r\n          <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}"><div class="key-label">{{i18n@app/oppo/STAGE}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n          <div class="value">\r\n            <div property="salesOpportunitiesLines" data-sap-widget="sap.sbo.ui.widget.Stage"  style="height:100%" data-sap-option="scrollLength:\'100%\', readonly:{{$readOnly}}, values: {{salesOpportunitiesLines,two-way}}, metaDatas:{{stage@metadata}}">\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div data-sap-template="String[cardCode]" >                                                                                                                                                                                                            \r\n        <div class="key-value">\r\n          <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}"><div class="key-label">{{i18n@app/oppo/CUSTOMER}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n          <div class="value">\r\n               <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n                 data-sap-option="text:{{cardCode}}, readonly:true, inNavigationMode:{{meta@readonly}}">{{cardCode}}</div>\r\n               <div>{{customerName}}&nbsp;</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div  data-sap-template="[reasonForClosing]" >                                                                                                                                                                                       \r\n        <div class="key-value">\r\n          <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n          <div class="value">\r\n            <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n              data-sap-option="text:{{reasonDescription}}, readonly:{{$readOnly}}, navigationEnabled: false, placeHolder:\'\'"\r\n              ></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div  data-sap-template="[source]" >                                                                                                                                                                                                                         \r\n        <div class="key-value">\r\n          <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n          <div class="value">\r\n            <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n              data-sap-option="text:{{sourceDescription}}, readonly:{{$readOnly}}, navigationEnabled: false"\r\n              ></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div  data-sap-template="[dataOwnershipfield]" >                                                                                                                                                                                                                           \r\n        <div class="key-value">\r\n          <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n          <div class="value">\r\n            <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n              data-sap-option="iconUrl:{{owner@OwnerImage/url}}, text:{{ownerEmployeeDisplayName}}, readonly:{{$readOnly}}, inNavigationMode:{{meta@readonly}}"\r\n              ></div>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n      <div  data-sap-template="[status]" >\r\n        <div class="key-value writable">\r\n          <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n          <div class="value">\r\n              <div data-sap-widget="sap.sbo.ui.widget.BoStatus" data-sap-option="value:{{status,two-way}}"></div>\r\n          </div>\r\n        </div>\r\n        <div class="key-value readonly">\r\n          <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n          <div class="value">\r\n              <span style="display:inline-block;" data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{#PROPERTY#, formatter.convertStatusImage}}, arrangeType:"original" \'></span>\r\n              <span>{{status,formatter.statusText}}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n\r\n</div>\r\n'
}),define("html!sap.sbo.page.pad.SalesOpportunity.CreationFrame2",function(){return'<div class=\'sbo-bo-creation-frame\'>\r\n    <div class="title">\r\n        {{i18n@app/oppo/NEW_OPPORTUNITY}}\r\n    </div>\r\n    <div class="fields">\r\n        <div ctrl="main"\r\n            class="sbo-app-template-editproperty" \r\n            data-sap-widget="sap.sbo.layout.pad.MetadataList" \r\n            data-sap-option="verticalPadding: 5, ignoredProperty: [\'ownerEmployeeDisplayName\',\'status\',\'remarks\', \'closingDate\', \'sequentialNo\', \'salesPerson\',\'contactPerson\',\'interestField1\',\'interestField2\',\'interestField3\',\'interestLevel\',\'maxSystemTotal\',\'weightedSumSC\',\'grossProfit\',\'grossProfitTotalLocal\',\'grossProfitTotalSystem\',\'reasonForClosing\',\'totalAmountLocal\',\'totalAmountSystem\',\'closingGrossProfitLocal\',\'closingGrossProfitSystem\',\'totalAmounSystem\',\'closingPercentage\',\'industry\',\'linkedDocumentType\',\'statusRemarks\',\'projectCode\',\'bPChanelName\',\'userSignature\',\'territory\',\'bPChannelContact\',\'bPChanelCode\',\'totalAmt\',\'bRFCID\',\'attachmentEntry\',\'discountPercent\', \'closingType\',\'linkedDocumentNumber\',\'weightedSumLC\',\'documentCheckbox\', \'stageDescription\',\'mainContactPersonDisplayName\',\'ownerEmployeeFirstName\',\'ownerEmployeeLastName\',\'reasonDescription\',\'sourceDescription\']"\r\n        >\r\n            <div data-sap-template="Content">\r\n                <div data-sap-template="Property" property="opportunityName"></div>\r\n                <div data-sap-template="Property" property="cardCode" link="customerName"></div>\r\n                <div data-sap-template="Property" property="status"></div>\r\n                <div data-sap-template="Property" property="dataOwnershipfield"></div>\r\n                <div data-sap-template="Property" property="currentStageNumber"></div>\r\n                <div data-sap-template="Property" property="maxLocalTotal" option=\'{"readOnly":false}\'></div>\r\n                <div data-sap-template="Property" property="startDate"></div>\r\n                <div data-sap-template="Property" property="predictedClosingDate"></div>\r\n                <!--<div data-sap-template="Property" property="weightedSumLC"></div> -->\r\n                <div data-sap-template="Property" property="source"></div>\r\n                <!-- <div data-sap-template="Html" uuid=\'salesOpportunitiesItems\'>                                                                     -->\r\n                <!--   <div class="field salesOpportunitiesItems">                                                                                     -->\r\n                <!--     <div class="key">{{i18n@app/oppo/LABEL_ITEMS}}({{salesOpportunitiesItems/length}})</div>                                      -->\r\n                <!--     <div class="value">                                                                                                           -->\r\n                <!--       <div class="product" style="text-align: right;"><img class="navigation" src=\'./image/settings/double_arrow_fold.png\'></div> -->\r\n                <!--     </div>                                                                                                                        -->\r\n                <!--   </div>                                                                                                                          -->\r\n                <!-- </div>                                                                                                                            -->\r\n            </div>\r\n            <div data-sap-template=\'PropertyTemplate\'>\r\n\r\n		   <div data-sap-template="Integer[currentStageNumber]">\r\n		                <div property="salesOpportunitiesLines" data-sap-widget="sap.sbo.app.SalesOpportunity.Stage"  style="height:100%" data-sap-option="readonly:false, values: {{salesOpportunitiesLines,two-way}}, metaDatas:{{stage@metadata}}">\r\n		                </div>\r\n		            </div>\r\n\r\n                <div data-sap-template="String[cardCode]">\r\n                    <div class="key-value">\r\n                        <div class="key">\r\n                            <div class="key-label">{{i18n@app/oppo/CUSTOMER}}</div>\r\n                        </div>\r\n                        <div class="value">\r\n                            <div index="cardCode" data-sap-widget="sap.ui.widget.ValueHelpField" data-sap-option="value: {{#PROPERTY#,two-way,formatter.convertEmtpyNull}}" style=\'width:100%;\'></div>\r\n                        </div>\r\n                        <div class="key">{{i18n@app/oppo/CUSTOMERNAME}}</div>\r\n                        <div class="value">\r\n                            <div>{{customerName}}&nbsp;</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div  data-sap-template="[source]">\r\n                    <div class="key-value">\r\n                        <div class="key">#label#</div>\r\n                        <div class="value">\r\n                            <div data-id="source" data-sap-widget="sap.ui.widget.ValueHelpField"  data-sap-option="value: {{sourceDescription}}"></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div  data-sap-template="[dataOwnershipfield]" >\r\n                   <div class="key-value">\r\n                       <div class="key">\r\n                           <div class="key-label">{{$label}}</div>\r\n                       </div>\r\n                       <div class="value">\r\n                           <div data-id="ownerName" data-sap-widget="sap.ui.widget.ValueHelpField"  data-sap-option="value: {{ownerEmployeeDisplayName}}"></div>\r\n                       </div>\r\n                   </div>\r\n                </div>\r\n      \r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="action">\r\n        <button ctrl="btnCancel" data-touchable=\'true\' data-sap-widget="sap.ui.widget.Button" data-sap-option="text: {{i18n@common/CANCEL}}"></button>\r\n        <button ctrl="btnSaveOpen" data-touchable=\'true\' data-sap-widget="sap.ui.widget.Button" data-sap-option="text: {{i18n@common/DONE}}"></button>\r\n    </div>\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.SalesOpportunity.Home",function(){return'<div class=\'sbo-bo-home sbo-opps-home\'>\r\n\r\n    <div ctrl=\'layout\' class=\'sbo-bo-home-layout\'\r\n    data-sap-widget="sap.sbo.layout.pad.AdvancedTilesLayout"\r\n    data-sap-option="">\r\n\r\n        <div data-sap-template="Html" mode="2x6" coordinate="0,0" mode-pad="2x6" coordinate-pad="0,0" uuid="general">\r\n            <div  field="basicInfo" \r\n                class="sbo-bo-tile bo-tile-profile sbo-app-template-tileproperty sbo-app-template-editproperty"\r\n                data-sap-widget="sap.sbo.layout.pad.MetadataRaw" \r\n                data-sap-option="sequenceAutoExpand:false"\r\n            >\r\n            	<div class="title">\r\n                    {{i18n@app/BASIC}}\r\n                </div>\r\n                <div data-sap-template="Content">\r\n                    <div data-sap-template="Property" property="opportunityName"></div>\r\n                    <div data-sap-template="Property" property="sequentialNo"></div>\r\n                    <div data-sap-template="Property" property="customerName" link="cardCode"></div>\r\n                    <div data-sap-template="Property" property="dataOwnershipfield" link="ownerEmployeeLastName"></div>\r\n                    <div data-sap-template="Property" property="status"></div>\r\n                    <!-- \r\n                    <div data-sap-template="Property" property="contactPerson" link="contactPersonName"></div>\r\n                    <div data-sap-template="Property" property="currentStageNumber" link="stageDescription"></div>\r\n                    <div data-sap-template="Property" property="maxLocalTotal"></div>\r\n                    <div data-sap-template="Property" property="closingPercentage"></div>\r\n                    <div data-sap-template="Property" property="contactPerson"></div>\r\n                    <div data-sap-template="Property" property="closingDate"></div>\r\n                    <div data-sap-template="Property" property="weightedSumLC"></div>\r\n                     -->\r\n                </div>\r\n                <div data-sap-template="PropertyTemplate">\r\n                    <div data-sap-template="[customerName]" height="50" >\r\n                        <div class="key-value">\r\n                            <div class="key"\r\n                                gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                                <div class="key-label">{{i18n@app/oppo/CUSTOMER}}</div>\r\n                                <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                            </div>\r\n                            <div class=\'value\'>\r\n		                        <div>{{cardCode}}</div>\r\n		                        <div class="hyperLink" data-id="cardName">{{customerName}}&nbsp;</div>\r\n		                    </div>\r\n                        </div>\r\n                        <!-- \r\n                        <div class="bo-header">\r\n                            <div class="bo-label">{{i18n@common/CUSTOMER_NAME}}</div>\r\n                            <div class=\'bo-value\'>{{cardCode}}</div>\r\n                            <div class=\'bo-value title\'>{{customerName}}</div>\r\n                        </div>\r\n                        -->\r\n                    </div>\r\n                    <div data-sap-template="[dataOwnershipfield]" height="50" >\r\n                        <div class="key-value">\r\n                            <div class="key"\r\n                                gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                                <div class="key-label">#label#</div>\r\n                                <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                            </div>\r\n                            <div class=\'value\'>\r\n		                        <div>{{ownerEmployeeDisplayName}}</div>\r\n		                    </div>\r\n                        </div>\r\n                    </div>\r\n                    <div data-sap-template="[contactPerson]" height="50" >\r\n                        <div class="bo-header">\r\n                            <div class="bo-label">#label#</div>\r\n                            <div class=\'bo-value\'>{{mainContactPersonDisplayName}}</div>\r\n                        </div>\r\n                    </div>\r\n                    <div data-sap-template="[status]" height="50" >\r\n                        <div class="key-value">\r\n                            <div class="key">\r\n                                <div class="key-label">#label#</div>\r\n                            </div>\r\n                            <div class="value">\r\n                                <span><img src="{{status,formatter.convertStatusImage}}"></span>\r\n                                <span>{{status,formatter.statusText}}</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n		<div data-sap-template="Html" mode="2x2" coordinate="1,0" mode-pad="2x2" coordinate-pad="1,0" uuid="contacts">\r\n            <div field="contacts" class="sbo-bo-tile sbo-bo-tile-{{Related@contactNumber}} contact">\r\n                <div class="title">\r\n                    {{i18n@common/CONTACT_NAME}}\r\n                </div>\r\n                <div class="number">\r\n                    <div class="value">{{Related@contactNumber, sap.sbo.util.formatter.circleNumber_more}}</div>\r\n                </div>\r\n                <!-- \r\n                <div class="details-right">\r\n                    <div class="bo-field">\r\n                        <div class="bo-label">{{i18n@app/oppo/MAIN_CONTACT}}</div>\r\n                        <div class="bo-value">{{Related@contact/contactPersonName}}</div>\r\n                        <div class="bo-value">{{Related@contact/position}}</div>\r\n                    </div>\r\n                </div>\r\n                -->\r\n            </div>\r\n        </div>\r\n        \r\n        <div data-sap-template="Html" mode="2x4" coordinate="1,1" mode-pad="2x4" coordinate-pad="1,1" uuid="products">\r\n            <div field="products" class="sbo-bo-tile sbo-bo-tile-{{salesOpportunitiesItems/length}} product">\r\n                <div class="title">\r\n                    {{i18n@common/PRODUCT_NAME}}\r\n                </div>\r\n                <div class="number">\r\n                 	<div class="value">{{salesOpportunitiesItems/length, sap.sbo.util.formatter.circleNumber_more}}</div>\r\n                </div>\r\n                <div class="info">\r\n	                <div class="key-value">\r\n	                   <div class="key">\r\n	                       {{i18n@app/document/DOC_TOTAL}}\r\n	                   </div>\r\n	                   <div class="value">\r\n                          <div class="value" data-sap-widget="sap.sbo.ui.widget.DecimalLabel"\r\n			                  data-sap-option="value: {{totalAmt, sap.formatter.real_string_nullable }}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}} , decimalNum:{{globalSettings@types/Sum/DecimalPlace}},\r\n			                  currency:{{globalSettings@currencySettings/localCurrency}}, currencyLocalRight:{{globalSettings@currencySettings/displayCurrencyOnTheRight}}" >\r\n				          </div>                    \r\n	                   </div>\r\n	                </div>\r\n	                <div class="key-value">\r\n                       <div class="key">\r\n                           {{i18n@app/document/DISCOUNT}}\r\n                       </div>\r\n                       <div class="value">\r\n                            <span data-sap-widget="sap.sbo.ui.widget.DecimalLabel"\r\n			                    data-sap-option="value: {{discountPercent, sap.formatter.real_string_nullable  }}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}} , decimalNum:{{globalSettings@types/Percent/DecimalPlace}}" >                         			                \r\n				            </span><span>%</span>\r\n                       </div>\r\n                    </div>\r\n                    \r\n                </div>                \r\n                <!-- \r\n                <div class="product-overview">\r\n                    <div class="value">\r\n                        <span data-sap-widget="sap.sbo.ui.widget.DecimalLabel"\r\n			                data-sap-option="value: {{discountPercent, sap.formatter.real_string_nullable  }}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}} , decimalNum:{{globalSettings@types/Percent/DecimalPlace}}" >                         			                \r\n				        </span><span>%</span>\r\n				    </div>                    \r\n                    <div class="value" data-sap-widget="sap.sbo.ui.widget.DecimalLabel"\r\n			                data-sap-option="value: {{totalAmt, sap.formatter.real_string_nullable }}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}} , decimalNum:{{globalSettings@types/Sum/DecimalPlace}}" >\r\n				    </div>                    \r\n                </div>\r\n                <div class="items" data-sap-widget="sap.ui.Repeat" data-sap-option="data: {{salesOpportunitiesItems}}">\r\n                    <div data-sap-template="Content" class=\'item\'>\r\n                        <div class=\'code\'>{{itemCode}}</div>\r\n                        <div class=\'name\'>{{description}}</div>\r\n                        <div class=\'price\' data-sap-widget="sap.sbo.ui.widget.DecimalLabel"\r\n			                data-sap-option="value: {{unitPrice, sap.formatter.real_string_nullable }}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}} , decimalNum:{{globalSettings@types/Price/DecimalPlace}}">\r\n			                </div>\r\n                        <div class=\'lineTotal\' data-sap-widget="sap.sbo.ui.widget.DecimalLabel"\r\n			                data-sap-option="value: {{lineTotal, sap.formatter.real_string_nullable }}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}} , decimalNum:{{globalSettings@types/Sum/DecimalPlace}}" >\r\n			                </div>\r\n                    </div>\r\n                </div>\r\n                 -->\r\n            </div>\r\n        </div>\r\n        <div data-sap-template="View" mode="2x4" coordinate="2,0" mode-pad="2x4" coordinate-pad="2,0" uuid="sbo.taskTile" name="sap.sbo.app.task.taskTile" option=""></div>\r\n\r\n        <div data-sap-template="View" mode="2x4" coordinate="0,3" mode-pad="2x4" coordinate-pad="3,0" uuid="sbo.FeedTile" name="sap.sbo.app.network.FeedTile"></div>\r\n        <div data-sap-template="View" mode="2x2" coordinate="2,2" mode-pad="2x2" coordinate-pad="2,2" uuid="sbo.NotePageTile" name="sap.sbo.app.notepage.NotePageTile"></div>\r\n\r\n        <div data-sap-template="View" mode="2x6" coordinate="1,3" mode-pad="2x6" coordinate-pad="4,0" uuid="sbo.RelatedTile" name="sap.sbo.app.network.RelatedTile"></div>\r\n    </div>\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.SalesOpportunity.ItemsEdit",function(){return'<div class="sbo-opps-item-edit">\r\n\r\n	<div data-sap-template="headerFields">\r\n		<div data-sap-template="Content">\r\n			<div data-sap-template="Property" property="totalAmt"></div>\r\n			<div data-sap-template="Property" property="discountPercent"></div>\r\n		</div>\r\n		<div data-sap-template="PropertyTemplate">\r\n			<div  data-sap-template="[totalAmt]" >\r\n				<div class="key-value readonly writable">\r\n					<div class="key"><div class="key-label">{{i18n@app/oppo/TOTAL_SALES_AMOUNT}}</div></div>\r\n					<div class="value">\r\n						<div class="value" data-sap-widget="sap.sbo.ui.widget.DecimalLabel"\r\n							data-sap-option="value: {{totalAmt, sap.formatter.real_string_nullable }}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}} , decimalNum:{{globalSettings@types/Sum/DecimalPlace}},\r\n							currency:{{globalSettings@currencySettings/localCurrency}}, currencyLocalRight:{{globalSettings@currencySettings/displayCurrencyOnTheRight}}" >\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n\r\n	<!-- <div data-sap-template="header">                                                                                                                                                                                                                                                                                   -->\r\n\r\n	<!--   <div class="key-value">                                                                                                                                                                                                                                                                                          -->\r\n	<!--     <div class="key">{{i18n@app/oppo/TOTAL_SALES_AMOUNT}}</div>                                                                                                                                                                                                                                                    -->\r\n	<!--           <div class="value" data-sap-widget="sap.sbo.ui.widget.DecimalLabel"                                                                                                                                                                                                                                      -->\r\n	<!--         data-sap-option="value: {{totalAmt, sap.formatter.real_string_nullable }}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}} , decimalNum:{{globalSettings@types/Sum/DecimalPlace}}" >                                  -->\r\n	<!--       </div>                                                                                                                                                                                                                                                                                                       -->\r\n	<!--   </div>                                                                                                                                                                                                                                                                                                           -->\r\n	<!--                                                                                                                                                                                                                                                                                                                    -->\r\n	<!--   <div class="key-value" gl-readonly="{{meta@properties/discountPercent/readOnly}}">                                                                                                                                                                                                                               -->\r\n	<!--     <div class="key">{{meta@properties/discountPercent/label}}</div>                                                                                                                                                                                                                                               -->\r\n	<!--           <div class="value readonly"><span data-sap-widget="sap.sbo.ui.widget.DecimalLabel"                                                                                                                                                                                                                       -->\r\n	<!--         data-sap-option="value: {{discountPercent, sap.formatter.real_string_nullable }}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}} , decimalNum:{{globalSettings@types/Sum/DecimalPlace}}" >                           -->\r\n	<!--         </span><span>%</span>                                                                                                                                                                                                                                                                                      -->\r\n	<!--       </div>                                                                                                                                                                                                                                                                                                       -->\r\n	<!--           <div class="value writable"><input data-sap-widget="sap.sbo.ui.widget.DecimalInputField"                                                                                                                                                                                                                 -->\r\n	<!--         data-sap-option="value: {{discountPercent, sap.formatter.real_string_nullable,two-way }}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}} , decimalNum:{{globalSettings@types/Sum/DecimalPlace}}, liveChange: true" > -->\r\n	<!--         <span>%</span>                                                                                                                                                                                                                                                                                             -->\r\n	<!--       </div>                                                                                                                                                                                                                                                                                                       -->\r\n	<!--   </div>                                                                                                                                                                                                                                                                                                           -->\r\n	<!-- </div>                                                                                                                                                                                                                                                                                                             -->\r\n\r\n	<div data-sap-template="itemHeader">\r\n\r\n		<div class="label">{{i18n@app/oppo/LABEL_ITEM}}</div>\r\n		<div class="subtitle">{{loop@data/itemCode}}</div>\r\n		<div class="title" data-boLabel="itemCode" data-sap-widget="sap.sbo.ui.widget.BoLabel" data-sap-option="text:{{loop@data/description}}, readonly:{{setting@customReadonly}}, inNavigationMode:{{setting@customReadonly}}"></div>	\r\n\r\n	</div>\r\n\r\n	<div data-sap-template="itemFields">\r\n\r\n		<div data-sap-template="Content">\r\n			<div data-sap-template="Property" property="quantity"></div>\r\n			<div data-sap-template="Property" property="unitPrice"></div>\r\n			<div data-sap-template="Property" property="discount"></div>\r\n			<div data-sap-template="Property" property="lineTotal"></div>\r\n		</div>\r\n		<div data-sap-template="PropertyTemplate">\r\n	\r\n		</div>\r\n\r\n	</div>\r\n\r\n</div>\r\n\r\n<!--\r\nvim:ts=2 sw=2 noexpandtab\r\n-->\r\n'}),define("html!sap.sbo.page.pad.SalesOpportunity.ItemsEdit2",function(){return'<div class="sbo-opps-item-edit2">\r\n\r\n	<div data-sap-template="headerFields">\r\n		<div data-sap-template="Content">\r\n			<div data-sap-template="Property" property="totalAmt"></div>\r\n			<div data-sap-template="Property" property="discountPercent"></div>\r\n		</div>\r\n		<div data-sap-template="PropertyTemplate">\r\n			<div  data-sap-template="[totalAmt]" >\r\n				<div class="key-value readonly writable">\r\n					<div class="key"><div class="key-label">{{i18n@app/oppo/TOTAL_SALES_AMOUNT}}</div></div>\r\n					<div class="value">\r\n						<div class="value" data-sap-widget="sap.sbo.ui.widget.DecimalLabel"\r\n							data-sap-option="value: {{totalAmt, sap.formatter.real_string_nullable }}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}} , decimalNum:{{globalSettings@types/Sum/DecimalPlace}},\r\n							currency:{{globalSettings@currencySettings/localCurrency}}, currencyLocalRight:{{globalSettings@currencySettings/displayCurrencyOnTheRight}}" >\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n\r\n	<div data-sap-template="itemHeader">\r\n\r\n	</div>\r\n\r\n	<div data-sap-template="itemFields">\r\n\r\n		<div data-sap-template="Content">\r\n			<div data-sap-template="Property" property="itemCode"></div>\r\n			<div data-sap-template="Property" property="description"></div>\r\n			<div data-sap-template="Property" property="quantity"></div>\r\n			<div data-sap-template="Property" property="unitPrice"></div>\r\n			<div data-sap-template="Property" property="discount"></div>\r\n			<div data-sap-template="Property" property="lineTotal"></div>\r\n		</div>\r\n		<div data-sap-template="PropertyTemplate">\r\n\r\n			<!-- <div data-sap-template="[itemCode]" >         -->\r\n			<!--   <div class="sub-title">{{#PROPERTY#}}</div> -->\r\n			<!-- </div>                                        -->\r\n\r\n			<!-- <div data-sap-template="[description]" >      -->\r\n			<!--   <div class="title">{{#PROPERTY#}}</div>     -->\r\n			<!-- </div>                                        -->\r\n\r\n		</div>\r\n\r\n	</div>\r\n\r\n</div>\r\n\r\n<!--\r\nvim:ts=2 sw=2 noexpandtab\r\n-->\r\n\r\n'}),define("html!sap.sbo.page.pad.SalesOpportunity.ItemsEdit2EditFrame",function(){return'<div class="sbo-opps-item-edit2-edit-frame">\r\n	<div data-sap-template="itemFields">\r\n\r\n		<div data-sap-template="Content">\r\n			<div data-sap-template="Property" property="itemCode" link="description"></div>\r\n			<div data-sap-template="Property" property="quantity"></div>\r\n			<div data-sap-template="Property" property="unitPrice"></div>\r\n			<div data-sap-template="Property" property="discount"></div>\r\n			<div data-sap-template="Property" property="lineTotal"></div>\r\n		</div>\r\n		<div data-sap-template="PropertyTemplate">\r\n			<div data-sap-template="[itemCode]" >\r\n				<div class="itemCode">\r\n					<div class="sub-title">{{#MODELPREFIX#itemCode}}</div>\r\n					<div class="title">{{#MODELPREFIX#description}}</div>\r\n				</div>\r\n			</div>\r\n\r\n		</div>\r\n\r\n	</div>\r\n\r\n\r\n</div>\r\n\r\n<!--\r\nvim:ts=2 sw=2 noexpandtab\r\n-->\r\n\r\n\r\n'}),define("html!sap.sbo.page.pad.SalesOpportunity.ListView",function(){return'<div class=\'bo-listview opps\'>\r\n	<div data-id="listView" data-sap-widget="sap.sbo.layout.pad.ListLayout" \r\n	data-sap-option=\'pageSize:0,select:["sequentialNo", "currentStageNumber", "opportunityName","cardCode", "customerName", "stageDescription", "status"]\'>\r\n		<div data-sap-template="Content" class="sbo-cardview-item">\r\n			<div class=\'item opps-item\'>\r\n				<div class="header">\r\n					<div class="index">{{sequentialNo}}</div>\r\n					<div class="title">{{opportunityName}}</div>\r\n          			<div class="sub-title">{{i18n@app/oppo/STAGE}} {{currentStageNumber}} - {{stageDescription}}</div>\r\n				</div>\r\n				<div class="details">\r\n					<div class="field">{{cardCode}}</div>					\r\n					<div class="field">{{customerName}}</div>\r\n				</div>\r\n				<div class="status">\r\n					{{!status, sap.sbo.page.common.oppUtil.convertStatusImage}}\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n	\r\n	<div data-sap-template="PropertyTemplate" style="display: none;">\r\n			<div data-sap-template="String[customerName]">\r\n				<div class="key-value">\r\n					<div class="key">#label#</div>\r\n					<div class="value">\r\n						<div data-id="cardCode"\r\n							data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n							data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.pad.ChooseListCustomer\', titleField: \'cardName\', subtitleField: \'cardCode\', valueField: \'cardName\'"></div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n			\r\n			<div data-sap-template="Integer[contactPerson]">\r\n                <div class="key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div data-id="contactPerson"\r\n                            data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n                            data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.pad.ChooseListContact\', titleField: \'displayName\', subtitleField: \'position\', valueField: \'name\'"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n            <div data-sap-template="Integer[dataOwnershipfield]">\r\n                <div class="key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div data-id="dataOwnershipfield"\r\n                            data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n                            data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.pad.ChooseListEmployee\', titleField: \'displayName\', subtitleField: \'employeeID\', valueField: \'employeeID\'"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n            <div data-sap-template="Integer[reasonForClosing]">\r\n                <div class="key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div data-id="reasonForClosing"\r\n                            data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n                            data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.pad.ChooseListReason\', titleField: \'description\', subtitleField: \'sequenceNo\', valueField: \'sequenceNo\'"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n            <div data-sap-template="Integer[source]">\r\n                <div class="key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div data-id="source"\r\n                            data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n                            data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.pad.ChooseListSource\', titleField: \'description\', subtitleField: \'sequenceNo\', valueField: \'sequenceNo\'"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n		</div>\r\n	\r\n</div>\r\n\r\n<!--\r\n vim:ts=2 sw=2 noexpandtab\r\n -->\r\n'
}),define("html!sap.sbo.page.pad.SalesOpportunitySetting.EditReasonsSetting",function(){return'<div class=\'sfa-editSalesStagesSetting\'>\r\n    <div>\r\n        <div class = "title">\r\n            <div data-sfa-class="salesStagesTitle" data-sap-option="sequenceNo">\r\n                {{sequenceNo}}\r\n            </div>\r\n        </div>\r\n        <div class = "block">\r\n            <div class = "description">\r\n              {{i18n@salestage/DESCRIPTION}}\r\n            </div>\r\n            <input class="field" id="description" data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{description, two-way}}, liveChange: true" maxlength="30">\r\n        </div>\r\n        <div class = "block">\r\n            <div class = "sort">\r\n                {{i18n@salestage/SORT}}\r\n            </div>\r\n            <input class="field" id="sort" data-sap-widget="sap.sbo.ui.widget.DecimalInputField" data-sap-option="value: {{sort, two-way}},decimalNum:0, liveChange: true">\r\n        </div>\r\n    </div>\r\n    <div class="action">\r\n        <button data-sfa-class="btnSave" id="reasonsSave" data-sap-widget=\'sap.ui.widget.Button\' data-sap-option=\'text:{{i18n@common/SAVE}}\'>\r\n        </button>\r\n        <button data-sfa-class="btnCancel" id="reasonsCancel" data-sap-widget=\'sap.ui.widget.Button\' data-sap-option="text:{{i18n@common/CANCEL}}">\r\n        </button>\r\n    </div>\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.SalesOpportunitySetting.EditSalesStagesSetting",function(){return'<div class=\'sfa-editSalesStagesSetting\'>\r\n    <div>\r\n        <div class = "title">\r\n            <div data-sfa-class="salesStagesTitle" data-sap-option="data:{{name}}">\r\n                {{name}}\r\n            </div>\r\n        </div>\r\n        <div class = "block">\r\n            <div class = "description">\r\n              {{i18n@salestage/STAGE_NAME}}\r\n            </div>\r\n            <input class="field" id="stageName" data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{name, two-way}}">\r\n        </div>\r\n        <div class = "block">\r\n            <div class = "description">\r\n                {{i18n@salestage/CLOSING_PERCENTAGE}} \r\n            </div>\r\n            <input class="field" id="closingPercentage" data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{closingPercentage, two-way}}">\r\n        </div>\r\n        <div class="block">\r\n            <span class = "description" id="checkBoxCancel" data-sap-widget="sap.ui.widget.Checkbox" data-sap-option="text:{{i18n@salestage/CANCEL_STAGES}}, checked: {{cancelled, two-way}}"></span>\r\n        </div>\r\n    </div>\r\n    <div class="action">\r\n        <button data-sfa-class="btnSave" id="salesStagesSave" data-sap-widget=\'sap.ui.widget.Button\' data-sap-option=\'text:{{i18n@common/SAVE}}\'>\r\n        </button>\r\n        <button data-sfa-class="btnCancel" id="salesStagesCancel" data-sap-widget=\'sap.ui.widget.Button\' data-sap-option="text:{{i18n@common/CANCEL}}">\r\n        </button>\r\n    </div>\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.SalesOpportunitySetting.EditSourcesSetting",function(){return'<div class=\'sfa-editSalesStagesSetting\'>\r\n    <div>\r\n        <div class = "title">\r\n            <div data-sfa-class="salesStagesTitle" data-sap-option="sequenceNo">\r\n                {{sequenceNo}}\r\n            </div>\r\n        </div>\r\n        <div class = "block">\r\n            <div class = "description">\r\n              {{i18n@salestage/DESCRIPTION}}\r\n            </div>\r\n            <input class="field" id="description" data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{description, two-way}},liveChange: true" maxlength="30">\r\n        </div>\r\n        <div class = "block">\r\n            <div class = "sort">\r\n                {{i18n@salestage/SORT}}\r\n            </div>\r\n            <input class="field" id="sort" data-sap-widget="sap.sbo.ui.widget.DecimalInputField" data-sap-option="value: {{sort, two-way}},decimalNum:0, liveChange: true">\r\n        </div>\r\n    </div>\r\n    <div class="action">\r\n        <button data-sfa-class="btnSave" id="reasonsSave" data-sap-widget=\'sap.ui.widget.Button\' data-sap-option=\'text:{{i18n@common/SAVE}}\'>\r\n        </button>\r\n        <button data-sfa-class="btnCancel" id="reasonsCancel" data-sap-widget=\'sap.ui.widget.Button\' data-sap-option="text:{{i18n@common/CANCEL}}">\r\n        </button>\r\n    </div>\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.SalesOpportunitySetting.ReasonsSettingTile",function(){return'<div>\r\n    <div id="salesStagesRepeat" class="listView" ctrl="listView" data-sap-widget="sap.sbo.layout.pad.ListLayout" data-sap-option="pageSize: 0">\r\n        <div data-sap-template="Content" class="SalesStage">\r\n            <div class="Sequence" data-sap-option="data:{{sequenceNo,two-way}}" class="sap-ui-textfield">\r\n                {{sequenceNo}}\r\n            </div>\r\n            <div class="TitleName" data-sap-option="data:{{name,two-way}}" class="sap-ui-textfield">\r\n                {{description,formatter.convertLongDescription}}\r\n            </div>\r\n            <div class="TitleCancel" data-sap-widget=\'sap.ui.widget.Icon\' data-sap-option="iconURL: \'image/Customer/delete.png\' ">\r\n            </div>\r\n            <div class="leftBottom">\r\n                <div class="TitlePercentage">\r\n                    {{i18n@salestage/SORT}}\r\n                </div>\r\n                <div class="Percentage" data-sap-option="data:{{closingPercentage,two-way}}">\r\n                    {{sort}}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.SalesOpportunitySetting.SalesOpportunitySetting",function(){return'<div class=\'sbo-salesOpportunitySetting\'>\r\n    <div ctrl=\'layout\' class=\'sbo-salesOpportunitySetting-layout\' data-sap-widget="sap.sbo.layout.pad.AdvancedTilesLayout" data-sap-option="disableLayoutService: true">\r\n        <div data-sap-template="Html" mode="2x6" coordinate="0,0" uuid="v2">\r\n            <div index="sfa-salesOpportunitySetting-stages">\r\n            	   \r\n                <div class="Title">\r\n                    <div>\r\n                    	{{i18n@salestage/OPPORTUNITY_STAGES}}\r\n                    </div>\r\n                </div>\r\n                <div class="Number">\r\n                    <div id=\'numOfStages\'>\r\n                    </div>\r\n                </div>\r\n			\r\n             <div class="Repeat">\r\n                    <div id="salesStagesRepeat" data-sap-option="data: {{stages,one-way}}" data-sap-widget="sap.ui.Repeat">\r\n                        <div data-sap-template="Content" class="SalesStage">\r\n                            <div class="Sequence" data-sap-option="data:{{sequenceNo,one-way}}">\r\n                                {{sequenceNo}}\r\n                            </div>\r\n                            <div class ="Right">\r\n                                <div class="Name" data-sap-option="data:{{name,two-way}}">\r\n                                    {{name}}\r\n                                </div>\r\n                                <div class="Percentage" data-sap-option="data:{{closingPercentage,two-way}}">\r\n                                    {{i18n@salestage/CLOSING_PERCENTAGE}} {{closingPercentage}}%\r\n                                </div>\r\n                                \r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n       \r\n				</div>\r\n            </div>\r\n        </div>\r\n            \r\n        <div data-sap-template="Html" mode="2x6" coordinate="1,0" uuid="v3">\r\n            <div index="sfa-salesOpportunitySetting-reasons">\r\n            	   \r\n                <div class="Title">\r\n                    <div>\r\n                    	{{i18n@salestage/REASONS}}\r\n                    </div>\r\n                </div>\r\n                <div class="Number">\r\n                    <div id=\'numOfReasons\'>\r\n                    </div>\r\n                </div>\r\n			\r\n             <div class="Repeat">\r\n                    <div id="salesStagesRepeat" data-sap-option="data: {{reasons,one-way}}" data-sap-widget="sap.ui.Repeat">\r\n                        <div data-sap-template="Content" class="SalesStage">\r\n                            <div class="Sequence" data-sap-option="data:{{sequenceNo,one-way}}">\r\n                                {{sequenceNo}}\r\n                            </div>\r\n                            <div class ="Right">\r\n                                <div class="Name" data-sap-option="data:{{name,two-way}}">\r\n                                    {{description}}\r\n                                </div>\r\n                                <div class="Percentage" data-sap-option="data:{{closingPercentage,two-way}}">\r\n                                    {{i18n@salestage/SORT}} {{sort}}\r\n                                </div>\r\n                                \r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n       \r\n				</div>\r\n            </div>\r\n        </div>\r\n\r\n        <div data-sap-template="Html" mode="2x6" coordinate="2,0" uuid="v4">\r\n            <div index="sfa-salesOpportunitySetting-sources">\r\n            	   \r\n                <div class="Title">\r\n                    <div>\r\n                    	{{i18n@salestage/SOURCES}}\r\n                    </div>\r\n                </div>\r\n                <div class="Number">\r\n                    <div id=\'numOfSources\'>\r\n                    </div>\r\n                </div>\r\n			\r\n             <div class="Repeat">\r\n                    <div id="salesStagesRepeat" data-sap-option="data: {{sources,one-way}}" data-sap-widget="sap.ui.Repeat">\r\n                        <div data-sap-template="Content" class="SalesStage">\r\n                            <div class="Sequence" data-sap-option="data:{{sequenceNo,one-way}}">\r\n                                {{sequenceNo}}\r\n                            </div>\r\n                            <div class ="Right">\r\n                                <div class="Name" data-sap-option="data:{{name,two-way}}">\r\n                                    {{description}}\r\n                                </div>\r\n                                <div class="Percentage" data-sap-option="data:{{closingPercentage,two-way}}">\r\n                                    {{i18n@salestage/SORT}} {{sort}}\r\n                                </div>\r\n                                \r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n       \r\n				</div>\r\n            </div>\r\n        </div>\r\n		  \r\n    </div>\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.SalesOpportunitySetting.SalesStagesSettingEdit__",function(){return'<div class="sbo-stages-edit">\r\n\r\n	<div class="fields"\r\n    data-sap-widget="sap.sbo.layout.pad.MetadataRaw"\r\n    data-sap-option="metadata:{{local@meta}}, propertyTemplate: {{local@template}}"\r\n    >\r\n			<div data-sap-template="Content">\r\n				<!-- <div data-sap-template="Property" property="stageNo"></div>           -->\r\n				<!-- <div data-sap-template="Property" property="name"></div>              -->\r\n				<!-- <div data-sap-template="Property" property="closingPercentage"></div> -->\r\n				<!-- <div data-sap-template="Property" property="cancelled"></div>         -->\r\n			</div>\r\n			<div data-sap-template="PropertyTemplate">\r\n			</div>\r\n	</div>\r\n\r\n	<div class="btn save">Save</div>\r\n\r\n</div>\r\n\r\n<!--\r\nvim:ts=2 sw=2 noexpandtab\r\n-->\r\n'}),define("html!sap.sbo.page.pad.SalesOpportunitySetting.SalesStagesSettingTile",function(){return'<div>\r\n    <div id="salesStagesRepeat" class="listView" ctrl="listView" data-sap-widget="sap.sbo.layout.pad.ListLayout" data-sap-option="pageSize: 0">\r\n        <div data-sap-template="Content" class="SalesStage">\r\n            <div class="Sequence" data-sap-option="data:{{sequenceNo,two-way}}" class="sap-ui-textfield">\r\n                {{sequenceNo}}\r\n            </div>\r\n            <div class="TitleName" data-sap-option="data:{{name,two-way}}" class="sap-ui-textfield">\r\n                {{name}}\r\n            </div>\r\n            <div class="TitleCancel" data-sap-widget=\'sap.ui.widget.Icon\' data-sap-option="iconURL:  {{cancelled,formatter.ConvertBetweenEnumAndBoolean,one-way}}">\r\n            </div>\r\n            <div class="leftBottom">\r\n                <div class="TitlePercentage">\r\n                    {{i18n@salestage/CLOSING_PERCENTAGE}} \r\n                </div>\r\n                <div class="Percentage" data-sap-option="data:{{closingPercentage,two-way}}">\r\n                    {{closingPercentage}}%\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.SalesOpportunitySetting.SalesStagesSettingTile_",function(){return'<div class="sbo-stages-edit">\r\n\r\n	<div data-sap-template="header">\r\n	</div>\r\n\r\n	<div data-sap-template="itemHeader">\r\n	</div>\r\n\r\n	<div data-sap-template="itemFields">\r\n		<div data-sap-template="Content">\r\n			<div data-sap-template="Property" property="stageNo"></div>\r\n			<div data-sap-template="Property" property="name"></div>\r\n			<div data-sap-template="Property" property="closingPercentage"></div>\r\n			<div data-sap-template="Property" property="cancelled"></div>\r\n		</div>\r\n		<div data-sap-template="PropertyTemplate">\r\n\r\n			<!-- <div data-sap-template="[stageNo]" gl-readonly="{{$readOnly}}" gl-enabled="{{$enabled}}">                                                                           -->\r\n			<!--   <div class="key-value">                                                                                                                                           -->\r\n			<!--     <div class="value">                                                                                                                                             -->\r\n			<!--       <input data-sap-widget="sap.ui.widget.InputField" data-sap-option="value: {{#PROPERTY#, two-way}}, nullable: true, disabled: {{$readOnly}}, type: \'integer\'"> -->\r\n			<!--     </div>                                                                                                                                                          -->\r\n			<!--   </div>                                                                                                                                                            -->\r\n			<!-- </div>                                                                                                                                                              -->\r\n\r\n			<!-- <div data-sap-template="[name]" gl-readonly="{{$readOnly}}" gl-enabled="{{$enabled}}">                                                                              -->\r\n			<!--   <div class="key-value">                                                                                                                                           -->\r\n			<!--     <div class="value">                                                                                                                                             -->\r\n			<!--       <input data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{#PROPERTY#, two-way}}, nullable: true,disabled: {{$readOnly}}" ></input>           -->\r\n			<!--     </div>                                                                                                                                                          -->\r\n			<!--   </div>                                                                                                                                                            -->\r\n			<!-- </div>                                                                                                                                                              -->\r\n\r\n		</div>\r\n\r\n	</div>\r\n\r\n</div>\r\n\r\n<!--\r\nvim:ts=2 sw=2 noexpandtab\r\n-->\r\n\r\n\r\n'}),define("html!sap.sbo.page.pad.SalesOpportunitySetting.SalesStagesSettingTile__",function(){return'<div class="sbo-stages-list">\r\n\r\n	<div class="btn toggle-edit">Toggle edit</div>\r\n	<div class="bolist"\r\n		data-sap-widget="sap.sbo.ui.widget.BoList"\r\n		data-sap-option="ignoredProperty:[\'sequenceNo\'], metadata:{{meta}}, data:{{data}}, editMode:{{editMode}}">\r\n\r\n		<div data-sap-template="Properties">\r\n			<div data-sap-template="Content">\r\n				<!-- <div data-sap-template="Property" property="stageNo"></div>           -->\r\n				<!-- <div data-sap-template="Property" property="name"></div>              -->\r\n				<!-- <div data-sap-template="Property" property="closingPercentage"></div> -->\r\n				<!-- <div data-sap-template="Property" property="cancelled"></div>         -->\r\n			</div>\r\n			<div data-sap-template="PropertyTemplate">\r\n			</div>\r\n		</div>\r\n\r\n	</div>\r\n\r\n</div>\r\n\r\n<!--\r\nvim:ts=2 sw=2 noexpandtab\r\n-->\r\n\r\n\r\n\r\n'}),define("html!sap.sbo.page.pad.SalesOpportunitySetting.SourcesSettingTile",function(){return'<div>\r\n    <div id="salesStagesRepeat" class="listView" ctrl="listView" data-sap-widget="sap.sbo.layout.pad.ListLayout" data-sap-option="pageSize: 0">\r\n        <div data-sap-template="Content" class="SalesStage">\r\n            <div class="Sequence" data-sap-option="data:{{sequenceNo,two-way}}" class="sap-ui-textfield">\r\n                {{sequenceNo}}\r\n            </div>\r\n            <div class="TitleName" data-sap-option="data:{{name,two-way}}" class="sap-ui-textfield">\r\n                {{description,formatter.convertLongDescription}}\r\n            </div>\r\n            <div class="TitleCancel" data-sap-widget=\'sap.ui.widget.Icon\' data-sap-option="iconURL: \'image/Customer/delete.png\' ">\r\n            </div>\r\n            <div class="leftBottom">\r\n                <div class="TitlePercentage">\r\n                    {{i18n@salestage/SORT}}\r\n                </div>\r\n                <div class="Percentage" data-sap-option="data:{{closingPercentage,two-way}}">\r\n                    {{sort}}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.report.BoPropertyPicker",function(){return'<div class="picker">\r\n  <div class="pickerList {{listVisible}}">\r\n    <div class="header">\r\n      <div class="headerTitle">Choose Based Object</div>\r\n    </div>\r\n    <div class="BOList">\r\n      <div class="listView" data-sap-widget="sap.sbo.ui.widget.ListView" data-sap-option=\'data: {{BOs}}\' data-sap-command="pickData:selectBo">\r\n		    <div data-sap-template="Content" class="listItem">\r\n			    <div class="title" title="{{data/label}}">{{data/label}} </div><div class="forward"> > </div>\r\n		    </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class="propertyList {{propertyVisible}}">\r\n    <div class="header">\r\n      <div class="back" data-sap-command="vclick:backBOList"> <\r\n                                                                 </div>\r\n      <div class="searchInput" data-sap-widget="sap.sbo.ui.widget.SearchInput" data-sap-option="liveChange:true" data-sap-command="doSearch:filterProperty;clearSearch:clearSearchFilter"></div>\r\n    </div>\r\n\r\n\r\n    <div class="quickFilterBar {{activeStyleName}}" data-sap-command="vclick:quickFilter">\r\n      <div data-activeName="activeAll" class="icon all"></div>\r\n      <div data-activeName="activeText" class="icon text"></div>\r\n      <div data-activeName="activeCurrency" class="icon currency"></div>\r\n      <div data-activeName="activeDate" class="icon date"></div>\r\n    </div>\r\n    <div class="properties  {{hasLinkBO}}">\r\n      <div class="boName">Fields from {{selectedBO/label}}</div>\r\n      <div class="pList">\r\n        <div class="listView" data-sap-widget="sap.sbo.ui.widget.ListView" data-sap-option=\'data: {{selectedBOProperties}}\' data-sap-command="pickData:selectProperty">\r\n		      <div data-sap-template="Content" class="listItem">\r\n			      <div class="lineIcon {{data/category}}"></div><div class="propertyData title" title="{{data/label}}">{{data/label}} </div>\r\n		      </div>\r\n        </div>\r\n      </div>\r\n      <div class="linkBO {{hasLinkBO}}" data-sap-command="vclick:popupLinkBO">More Fields from Linked objects</div>\r\n    </div>\r\n  </div>\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.report.FieldColumn",function(){return'\r\n<div data-id="bo-query-designer-field-column">\r\n\r\n	<div class="header">\r\n		<div class="detail">\r\n			<div class="field">\r\n        <div class="row">\r\n				  <input type="text" title="{{loop@data/displayLabel}}" class="label" data-sap-widget=\'sap.ui.widget.TextField\'\r\n				         data-sap-option="value: {{loop@data/displayLabel, two-way}}"/>\r\n\r\n        </div>\r\n        <div class="row">\r\n\r\n			  </div>\r\n\r\n      </div>\r\n		</div>\r\n	</div>\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.report.home",function(){return'<div class="sap-sbo-page-pad-report-home">\r\n<div data-sap-widget="sap.ui.widget.ViewRegion" class="viewregion" data-sap-option="region:\'reporthomeRegion\',defaultView:[\'sap.sbo.page.pad.report.ListView\'],actionPlugin:\'sap.sbo.page.pad.report.popupShow\'"></div>\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.report.LinkedBOList",function(){return'<div>\r\n  <div class="BoPropertyPicker" data-sap-widget="sap.sbo.page.pad.report.BoPropertyPicker" data-sap-command="propertySelected:triggerSelectedItem" data-sap-option="popupType:true"></div>\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.report.ListView",function(){return'<div class=\'bo-listview sap-sbo-report-ListView\'>\r\n	<div data-id="listView" data-sap-widget="sap.sbo.layout.pad.ListLayout" data-sap-option="pageSize:0">\r\n		<div data-sap-template="Content" >\r\n      <div class="item {{chartType}}" data-id="{{id}}" data-sap-command="reportListViewHome@vclick:selectReport">\r\n       <div class="header">\r\n         <div class="title chartname">{{title}}</div>\r\n       </div>\r\n      </div>\r\n		</div>\r\n	</div>\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.report.queryChartView",function(){return'<div class="sap-sbo-chart-view">\r\n  <div data-sap-widget="sap.sbo.ui.widget.ReportWidget"  data-sap-option="titleVisible:true,legendVisible:true,reportId:{{queryid}},filterData:{{filter}}"></div>\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.report.queryDesigner",function(){return'<div class="queryDesigner-main">\r\n  <div data-sap-widget="sap.sbo.ui.widget.ColumnLayout" data-sap-option="draggerPosition:230">\r\n    <div class="leftContent">\r\n      <div data-sap-widget="sap.sbo.page.pad.report.BoPropertyPicker" data-sap-command="propertySelected:triggerSelectedItem"></div>\r\n    </div>\r\n    <div class="rightContent">\r\n      <div class="rightPanel" data-sap-widget="sap.ui.View" data-sap-command="queryDesigner-deleteProperty:deleteProperty;queryDesigner-fetchTableData:fetchTableData" data-sap-option="name:\'sap.sbo.page.pad.report.RightPanel\'"> </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.report.queryListView",function(){return"<div class='bo-listview sap-sbo-report-ListView'>\r\n	<div data-sfa-class=\"container\" >\r\n		\r\n	</div>\r\n</div>\r\n"}),define("html!sap.sbo.page.pad.report.queryTableView",function(){return'<div  data-sfa-class="querytableview">\r\n	<div data-sfa-class="tablecontent">\r\n        <div data-sfa-class="resulttable" data-sap-widget="sap.sbo.app.report.TableList"  data-sap-option=" headers: {{ header ,two-way}},datas:{{previewDatas}}"></div>\r\n	</div>\r\n	<div data-sfa-class=\'moreinfo\'>\r\n        \r\n	</div>\r\n</div>\r\n\r\n\r\n'}),define("html!sap.sbo.page.pad.report.reportDetail",function(){return'<div class="sap-sbo-report-detail">\r\n  <div class="close {{closehidden}}" data-sap-command="vclick:closeChart"></div>\r\n  <div data-sap-widget="sap.sbo.ui.widget.ReportWidget" data-sap-command="runDashboardDone:gotDashboardData" data-sap-option="titleVisible:false,legendVisible:true,reportId:{{reportId}},filterData:{{filter}}"></div>\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.report.RightPanel",function(){return'<div>\r\n	<div id="bo-query-designer-right-panel" >\r\n		<div class="header">\r\n			<div class="fieldsContainer">\r\n        <div data-sap-widget="sap.sbo.app.report.TableList"  data-sap-option=" headers: {{ queryBO/properties ,two-way}},datas:{{previewDatas}},configable:true"></div>\r\n      </div>\r\n		</div>\r\n\r\n	</div>\r\n</div>\r\n\r\n<!--\r\n    vim:ts=2 sw=2 noexpandtab\r\n  -->\r\n'}),define("html!sap.sbo.page.pad.SalesOrder.OrderCreation",function(){return'<div class=\'sbo-bo-creation-frame order\'>\r\n    <div class="title">\r\n        {{i18n@app/document/NEW_ORDER}}\r\n    </div>\r\n    <div class="fields">\r\n        <div ctrl="main"\r\n            class="sbo-app-template-editproperty" \r\n            data-sap-widget="sap.sbo.layout.pad.MetadataList" \r\n            data-sap-option=" verticalPadding: 5,  ignoredProperty:[\'cardName\', \'ShipToCountryName\',\'BillToCountryName\',\'OwnerEmployeeFirstName\',\'OwnerEmployeeLastName\',\'OwnerEmployeeDisplayName\',\'docEntry\',\'docNum\',\'docTotal\',\'documentsOwner\',\'contactPersonCode\',\'comments\',\'series\',\'discountPercent\',\'vatSum\',\'rounding\',\'status\',\'cancelled\',\'totalDiscount\',\'roundingDiffAmount\',\'sequentialNo\', \'docCurrency\', \'address\', \'address2\', \'OwnerEmployeeDisplayName\', \'mainContactPersonDisplayName\', \'transportationCode\', \'shiptypeName\']"\r\n        >    \r\n\r\n                \r\n        <div data-sap-template="Content">\r\n            <div data-sap-template="Property" property="cardCode" option=\'{"readOnly":false}\'></div>  \r\n            <div data-sap-template="Property" property="docDate"></div>\r\n            <div data-sap-template="Property" property="docDueDate"></div>\r\n            \r\n            <div data-sap-template="Html" uuid=\'salesOrderItems\'>\r\n                  <div disPlayFlag="{{cardCode,formatter.null_bool}}" class="field salesOrderItems">\r\n                    <div class="lable">{{i18n@app/document/PRODUCT_AMOUNT}}</div>\r\n                    <div class="count">\r\n                    <span>{{documentLines/length}} </span>\r\n                    <span>{{i18n@app/document/SELECTED}}</span>\r\n                    </div>\r\n                    <div class="amount">\r\n                        <span data-sap-widget="sap.sbo.ui.widget.DecimalLabel" data-sap-option="value:{{docTotal,sap.formatter.real_string_nullable}}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}},decimalNum:{{globalSettings@types/Sum/DecimalPlace}},\r\n                        currency:{{globalSettings@currencySettings/localCurrency}}, currencyLocalRight:{{globalSettings@currencySettings/displayCurrencyOnTheRight}}"></span>\r\n                    </div>\r\n                    <div style="float: right"><img src=\'./image/settings/double_arrow_fold.png\'></div>\r\n                  </div>\r\n            </div>\r\n        </div>\r\n        \r\n       <div data-sap-template="PropertyTemplate">\r\n            <div data-sap-template="String[cardCode]">\r\n                <div class="string key-value">\r\n                    <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                        <div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                     </div>                      \r\n                    <div class="value"  >\r\n                        <div>{{cardCode}}</div>\r\n                        <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n                          data-sap-option="text:{{cardName}}, readonly:{{cardCodeModel@readonly}}, navigationEnabled: false"\r\n                          ></div>                        \r\n                    </div>\r\n                </div>                 \r\n            </div>\r\n        </div>\r\n        \r\n        \r\n    </div>\r\n    </div>\r\n    <div class="action">\r\n        <button ctrl="btnCancel" data-touchable=\'true\' data-sap-widget="sap.ui.widget.Button" data-sap-option="text: {{i18n@common/CANCEL}}"></button>\r\n        <button ctrl="btnSaveOpen" data-touchable=\'true\' data-sap-widget="sap.ui.widget.Button" data-sap-option="text: {{i18n@app/SAVE_VIEW}}"></button>\r\n    </div>\r\n\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.SalesOrder.OrderPrint",function(){return'<div id="submit_bar">\r\n    <span id="download" style="display:{{device/isDesktop}}">{{i18n@common/DOWNLOAD}}</span>\r\n    <span style="display:{{device/isDesktop}}">&nbsp;&nbsp;|&nbsp;&nbsp;</span><span id="cancel">{{i18n@common/CANCEL}}</span>\r\n</div>\r\n\r\n<iframe id="order" width="595px" height="842px" frameborder="0" scrolling="no" marginheight="0px" marginwidth="0px">\r\n</iframe>\r\n'}),define("html!sap.sbo.page.pad.SalesOrder.SalesOrderEdit",function(){return'<div>\r\n    <div ctrl="main"\r\n        class="sbo-app-template-editproperty sbo-app-template-property-info-enable"\r\n        data-sap-widget="sap.sbo.layout.pad.MetadataLayout" \r\n        data-sap-option="ignoredProperty: [\'ShipToCountryName\',\'BillToCountryName\',\'OwnerEmployeeFirstName\',\'OwnerEmployeeLastName\',\'OwnerEmployeeDisplayName\',\'cardName\', \'docEntry\',\'docCurrency\', \'cancelled\', \'contactPersonCode\', \'discountPercent\', \'docTotal\', \'vatSum\', \'rounding\', \'totalDiscount\', \'roundingDiffAmount\', \'approvalStatus\', \'documentStatus\', \'OwnerEmployeeDisplayName\', \'mainContactPersonDisplayName\', \'shiptypeName\']">\r\n        \r\n   \r\n        <div data-sap-template="Content">\r\n            <div data-sap-template="Property" property="docNum" option=\'{"group":"basic"}\'></div>\r\n            <div data-sap-template="Property" property="cardCode" link="cardName" option=\'{"group":"basic"}\'></div>\r\n            <div data-sap-template="Property" property="documentsOwner"  option=\'{"group":"status"}\'></div>\r\n            <div data-sap-template="Property" property="status"  option=\'{"group":"status"}\'></div>\r\n            <div data-sap-template="Property" property="docDate"  option=\'{"group":"data"}\'></div>\r\n            <div data-sap-template="Property" property="docDueDate"  option=\'{"group":"data"}\'></div>\r\n            <div data-sap-template="Property" property="address"  option=\'{"group":"address"}\'></div>\r\n            <div data-sap-template="Property" property="address2"  option=\'{"group":"address"}\'></div>               \r\n            <div data-sap-template="Property" property="comments" option=\'{"group":"remark"}\'></div>\r\n        </div>\r\n        \r\n        <div data-sap-template="PropertyTemplate">            \r\n         <div data-sap-template="String[cardCode]">           \r\n	        <div class="key-value">\r\n	          <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n	          <div class="value">\r\n	              <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n                    data-sap-option="text:{{cardCode}}, readonly:true, inNavigationMode:{{meta@readonly}}">{{cardCode}}</div>\r\n	              <div>{{cardName}}&nbsp;</div>\r\n	          </div>\r\n	        </div>                  \r\n         </div>\r\n                           \r\n        <div data-sap-template="[status]">\r\n		    <div class="readonly enumeration key-value">\r\n		        <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n		        <div class="value">\r\n		            <span style=\'display:inline-block;\' data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{#PROPERTY#, sap.sbo.util.formatter.convertStatusImage}}, arrangeType:"original" \' ></span>\r\n		            <span data-sap-widget="sap.sbo.ui.widget.EnumLabel" \r\n		                data-sap-option="textField: \'label\', valueField: \'name\', data: {{meta@enum/#type#}}, selectedValue: {{#PROPERTY#}}">&nbsp;\r\n		            </span>\r\n		        </div>\r\n		    </div>\r\n         </div>\r\n         \r\n         <div data-sap-template="[documentsOwner]">\r\n             <div class="key-value">\r\n               <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n               <div class="value">\r\n                 <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n                   data-sap-option="iconUrl:{{owner@OwnerImage/url}}, text:{{OwnerEmployeeDisplayName}}, readonly:{{$readOnly}}, inNavigationMode:{{meta@readonly}}"\r\n                   ></div>\r\n               </div>\r\n             </div>                           \r\n         </div> \r\n\r\n            <div data-sap-template="[address]" class="sbo-bo-address order">\r\n                <div class="readonly key-value">\r\n                    <div class="key">\r\n                        {{i18n@app/address/BILLTO}}\r\n                    </div>\r\n                    <div class="value">\r\n                        <div class="value" data-sap-widget="sap.sbo.ui.widget.Address"\r\n                            data-sap-option="locale:{{addressExtension/0/billToCountry, formatter.string_null}}, \r\n                        country:{{addressExtension/0/BillToCountryName, formatter.string_null}}, \r\n                        state:{{addressExtension/0/billToState, formatter.string_null}}, \r\n                        zipCode:{{addressExtension/0/billToZipCode, formatter.string_null}}, \r\n                        city:{{addressExtension/0/billToCity, formatter.string_null}}, \r\n                        street1:{{addressExtension/0/billToStreet, formatter.string_null}}, \r\n                        street2:{{addressExtension/0/billToBlock, formatter.string_null}}">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="writable key-value">\r\n                    <div class="key">\r\n                        <span>{{i18n@app/address/BILLTO}}</span> <span><img class="chooseIcon" data-id="billto"\r\n                            src="./image/SalesOrder/choose.png"></span>\r\n                    </div>\r\n                    <div class="value">\r\n                      <div>\r\n                        <div class="Detail pane">\r\n                            <div class="field inline">\r\n                                <div class="key">{{i18n@app/address/COUNTRY}}</div>\r\n                                <div class="value">\r\n                                    <span data-id="dropdownlistforbilltocountry"\r\n                                        data-sap-widget="sap.ui.widget.DropDownBox"\r\n                                        data-sap-option="textField: \'name\', valueField: \'code\', data: {{list@countryB}}, selectedValue: {{addressExtension/0/billToCountry, two-way}}"></span>\r\n                                </div>\r\n                            </div>\r\n                            <div class="field inline">\r\n                                <div class="key">{{i18n@app/address/STATE}}</div>\r\n                                <div class="value">\r\n                                    <span style=\'display:inline-block;\' data-sap-widget="sap.ui.widget.DropDownBox"\r\n                                        data-sap-option="disabled:{{list@stateB/length, formatter.isZero}},textField: \'name\', valueField: \'code\', data: {{list@stateB}}, selectedValue: {{addressExtension/0/billToState, two-way}}"></span>\r\n                                </div>\r\n                            </div>\r\n                            <div class="field inline">\r\n                                <div class="key">{{i18n@app/address/ZIPCODE}}</div>\r\n                                <div class="value">\r\n                                    <input maxlength="{{addressMeta@billToZipCode/size}}" data-sap-widget="sap.ui.widget.TextField"\r\n                                        data-sap-option="value: {{addressExtension/0/billToZipCode, two-way, formatter.string_null}},nullable:true">\r\n                                </div>\r\n                            </div>\r\n                            <div class="field inline">\r\n                                <div class="key">{{i18n@app/address/CITY}}</div>\r\n                                <div class="value">\r\n                                    <input maxlength="{{addressMeta@billToCity/size}}" data-sap-widget="sap.ui.widget.TextField"\r\n                                        data-sap-option="value: {{addressExtension/0/billToCity, two-way, formatter.string_null}},nullable:true">\r\n                                </div>\r\n                            </div>\r\n                            <div class="field">\r\n                                <div class="key">{{i18n@app/address/STREET}}</div>\r\n                                <div class="value">\r\n                                    <input maxlength="{{addressMeta@billToStreet/size}}" data-sap-widget="sap.ui.widget.TextField"\r\n                                        data-sap-option="value: {{addressExtension/0/billToStreet,two-way, formatter.string_null}},nullable:true">\r\n                                </div>\r\n                                <div class="value">\r\n                                    <input maxlength="{{addressMeta@billToBlock/size}}" data-sap-widget="sap.ui.widget.TextField"\r\n                                        data-sap-option="value: {{addressExtension/0/billToBlock,two-way, formatter.string_null}},nullable:true">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n\r\n            <div data-sap-template="[address2]" class="sbo-bo-address order">\r\n                <div class="readonly key-value">\r\n                    <div class="key">\r\n                        {{i18n@app/address/SHIPTO}}\r\n                    </div>\r\n                    <div class="value">\r\n                        <div class="value" data-sap-widget="sap.sbo.ui.widget.Address"\r\n                            data-sap-option="locale:{{addressExtension/0/shipToCountry, formatter.string_null}}, \r\n                        country:{{addressExtension/0/ShipToCountryName, formatter.string_null}}, \r\n                        state:{{addressExtension/0/shipToState, formatter.string_null}}, \r\n                        zipCode:{{addressExtension/0/shipToZipCode, formatter.string_null}}, \r\n                        city:{{addressExtension/0/shipToCity, formatter.string_null}}, \r\n                        street1:{{addressExtension/0/shipToStreet, formatter.string_null}}, \r\n                        street2:{{addressExtension/0/shipToBlock, formatter.string_null}}">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="writable key-value">\r\n                    <div class="key">\r\n                        <span>{{i18n@app/address/SHIPTO}}</span> <span><img class="chooseIcon" data-id="shipto"\r\n                            src="./image/SalesOrder/choose.png"></span>\r\n                    </div>\r\n                    <div class="value">\r\n                      <div>\r\n                        <div class="Detail pane">\r\n                            <div class="field inline">\r\n                                <div class="key">{{i18n@app/address/COUNTRY}}</div>\r\n                                <div class="value">\r\n                                    <span data-id="dropdownlistforshiptocountry"\r\n                                        data-sap-widget="sap.ui.widget.DropDownBox"\r\n                                        data-sap-option="textField: \'name\', valueField: \'code\', data: {{list@countryS}}, selectedValue: {{addressExtension/0/shipToCountry, two-way}}"></span>\r\n                                </div>\r\n                            </div>\r\n                            <div class="field inline">\r\n                                <div class="key">{{i18n@app/address/STATE}}</div>\r\n                                <div class="value">\r\n                                    <span data-sap-widget="sap.ui.widget.DropDownBox"\r\n                                        data-sap-option="disabled:{{list@stateS/length, formatter.isZero}},textField: \'name\', valueField: \'code\', data: {{list@stateS}}, selectedValue: {{addressExtension/0/shipToState, two-way}}"></span>\r\n                                </div>\r\n                            </div>\r\n                            <div class="field inline">\r\n                                <div class="key">{{i18n@app/address/ZIPCODE}}</div>\r\n                                <div class="value">\r\n                                    <input maxlength="{{addressMeta@shipToZipCode/size}}" data-sap-widget="sap.ui.widget.TextField"\r\n                                        data-sap-option="value: {{addressExtension/0/shipToZipCode, two-way, formatter.string_null}},nullable:true">\r\n                                </div>\r\n                            </div>\r\n                            <div class="field inline">\r\n                                <div class="key">{{i18n@app/address/CITY}}</div>\r\n                                <div class="value">\r\n                                    <input maxlength="{{addressMeta@shipToCity/size}}" data-sap-widget="sap.ui.widget.TextField"\r\n                                        data-sap-option="value: {{addressExtension/0/shipToCity, two-way, formatter.string_null}},nullable:true">\r\n                                </div>\r\n                            </div>\r\n                            <div class="field">\r\n                                <div class="key">{{i18n@app/address/STREET}}</div>\r\n                                <div class="value">\r\n                                    <input maxlength="{{addressMeta@shipToStreet/size}}" data-sap-widget="sap.ui.widget.TextField"\r\n                                        data-sap-option="value: {{addressExtension/0/shipToStreet,two-way, formatter.string_null}},nullable:true">\r\n                                </div>\r\n                                <div class="value">\r\n                                    <input maxlength="{{addressMeta@shipToBlock/size}}" data-sap-widget="sap.ui.widget.TextField"\r\n                                        data-sap-option="value: {{addressExtension/0/shipToBlock,two-way, formatter.string_null}},nullable:true">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n                      \r\n        </div>\r\n    </div>\r\n</div>\r\n'
}),define("html!sap.sbo.page.pad.SalesOrder.SalesOrderHome",function(){return'<div class=\'sbo-bo-home sbo-order-home\'>\r\n\r\n    <div ctrl=\'layout\' class=\'sbo-bo-home-layout\'\r\n    data-sap-widget="sap.sbo.layout.pad.AdvancedTilesLayout"\r\n    data-sap-option="">\r\n\r\n        <div data-sap-template="Html" mode="2x6" coordinate="0,0" mode-pad="2x6" coordinate-pad="0,0" uuid="general">\r\n            <div field="basicInfo" \r\n                class="sbo-bo-tile bo-tile-profile sbo-app-template-tileproperty sbo-bo-tile sbo-app-template-editproperty"\r\n                data-sap-widget="sap.sbo.layout.pad.MetadataRaw" \r\n                data-sap-option="sequenceAutoExpand:false"\r\n            >\r\n            	<div class="title">\r\n                    {{i18n@app/BASIC}}\r\n                </div>\r\n                <div data-sap-template="Content">\r\n                    <div data-sap-template="Property" property="docNum"></div>\r\n                    <div data-sap-template="Property" property="status" ></div>\r\n                    <div data-sap-template="Property" property="cardCode" link="cardName"></div>                 \r\n                    <div data-sap-template="Property" property="documentsOwner" ></div>                                    \r\n                    <div data-sap-template="Property" property="docDate" ></div>                                	                               \r\n                </div>\r\n                \r\n                <div data-sap-template="PropertyTemplate">\r\n                    <div data-sap-template="[cardCode]">\r\n                        <div class="key-value">\r\n                            <div class="key"\r\n                                gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                                <div class="key-label">{{$label}}</div>\r\n                                <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                            </div>\r\n                            <div class=\'value\'>\r\n		                        <div>{{#PROPERTY#}}</div>\r\n		                        <div class="hyperLink" data-id="cardName">{{cardName}}&nbsp;</div>\r\n		                    </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div data-sap-template="[status]" height="50">\r\n			                <div class="readonly enumeration key-value">\r\n			                    <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n			                    <div class="value">\r\n			                        <span style=\'display:inline-block;\' data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{#PROPERTY#, sap.sbo.util.formatter.convertStatusImage}}, arrangeType:"original" \' ></span>\r\n			                        <span data-sap-widget="sap.sbo.ui.widget.EnumLabel" \r\n			                            data-sap-option="textField: \'label\', valueField: \'name\', data: {{meta@enum/#type#}}, selectedValue: {{#PROPERTY#}}">&nbsp;\r\n			                        </span>\r\n			                    </div>\r\n			                </div>\r\n			         </div>\r\n			         \r\n					<div data-sap-template="[documentsOwner]">\r\n						<div class="key-value">\r\n							<div class="key"\r\n								gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n								<div class="key-label">{{$label}}</div>\r\n								<div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n							</div>\r\n							<div class=\'value\'>\r\n								<div>{{OwnerEmployeeDisplayName}} </div>\r\n							</div>\r\n						</div>\r\n					</div>\r\n\r\n				</div>\r\n            </div>\r\n        </div>\r\n\r\n        <div data-sap-template="Html" mode="2x4" coordinate="1,0" mode-pad="2x4" coordinate-pad="1,0" uuid="product">\r\n            <div field="products" class="sbo-bo-tile sbo-bo-tile-{{documentLines/length}} product">\r\n                <div class="title">\r\n                    {{i18n@app/document/PRODUCTS}}\r\n                </div>\r\n                <div class="number">\r\n                    <div class="value">{{documentLines/length, sap.sbo.util.formatter.circleNumber_more}}</div>\r\n                </div>\r\n                <div class="info">\r\n	                <div class="key-value">\r\n	                   <div class="key">\r\n	                       {{i18n@app/document/DOC_TOTAL}}\r\n	                   </div>\r\n	                   <div class="value">\r\n	                       <span data-sap-widget="sap.sbo.ui.widget.DecimalLabel" data-sap-option="value:{{docTotal,sap.formatter.real_string_nullable}}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}},decimalNum:{{globalSettings@types/Sum/DecimalPlace}},\r\n	                       currency:{{globalSettings@currencySettings/localCurrency}}, currencyLocalRight:{{globalSettings@currencySettings/displayCurrencyOnTheRight}}"></span>\r\n	                   </div>\r\n	                </div>\r\n	                <div class="key-value">\r\n                       <div class="key">\r\n                           {{i18n@app/document/DISCOUNT}}\r\n                       </div>\r\n                       <div class="value">\r\n                           <span  data-sap-widget="sap.sbo.ui.widget.DecimalLabel" data-sap-option="value:{{totalDiscount,sap.formatter.real_string_nullable}}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}},decimalNum:{{globalSettings@types/Sum/DecimalPlace}},\r\n                           currency:{{globalSettings@currencySettings/localCurrency}}, currencyLocalRight:{{globalSettings@currencySettings/displayCurrencyOnTheRight}}"></span>\r\n                           <span style="margin-left:20px;" data-sap-widget="sap.sbo.ui.widget.DecimalLabel"\r\n                            data-sap-option="value: {{discountPercent,sap.formatter.real_string_nullable}}, decimalNum:{{globalSettings@types/Percent/DecimalPlace}}" >\r\n                            </span>\r\n                            <span>%</span>\r\n                       </div>\r\n                    </div>\r\n                    \r\n                </div>                \r\n            </div>\r\n        </div>\r\n        \r\n        <div data-sap-template="Html" mode="2x2" coordinate="2,0" mode-pad="2x2" coordinate-pad="1,2" uuid="contact">\r\n            <div field="contacts" class="sbo-bo-tile sbo-bo-tile-{{Related@contactNumber}} contact">\r\n                <div class="title">\r\n                    {{i18n@app/customer/CONTACTS}}\r\n                </div>\r\n                <div class="number">\r\n                    <div class="value">{{Related@contactNumber, sap.sbo.util.formatter.circleNumber_more}}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div data-sap-template="View" mode="2x2" coordinate="0,3" mode-pad="2x2" coordinate-pad="2,0" uuid="sbo.taskTile" name="sap.sbo.app.task.taskTile" option=""></div>\r\n        <div data-sap-template="View" mode="2x2" coordinate="2,3" mode-pad="2x2" coordinate-pad="2,1" uuid="sbo.NotePageTile" name="sap.sbo.app.notepage.NotePageTile"></div>\r\n        <div data-sap-template="View" mode="2x4" coordinate="2,1" mode-pad="2x4" coordinate-pad="2,2" uuid="sbo.FeedTile" name="sap.sbo.app.network.FeedTile"></div>\r\n        <div data-sap-template="View" mode="2x4" coordinate="1,2" mode-pad="2x6" coordinate-pad="3,0" uuid="sbo.RelatedTile" name="sap.sbo.app.network.RelatedTile"></div>\r\n \r\n    </div>\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.SalesOrder.SalesOrderListView",function(){return'<div class=\'bo-listview salesorder\'>\r\n    <div data-id="listView" data-sap-widget="sap.sbo.layout.pad.ListLayout" data-sap-option=\'pageSize: 0\r\n    ,select:["docEntry","docNum","cardCode","cardName","documentsOwner","contactPersonCode","status","docDate","docTotal"]\'>\r\n        <div data-sap-template="Content">\r\n	        <div class=\'item\'>\r\n	            <div class=\'header\'>\r\n	                <div class="index">{{docNum}}</div>\r\n	                <div class="title">\r\n	                <span data-sap-widget="sap.sbo.ui.widget.DecimalLabel" data-sap-option="value:{{docTotal,sap.formatter.real_string_nullable}}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}},decimalNum:{{globalSettings@types/Sum/DecimalPlace}},\r\n	                currency:{{globalSettings@currencySettings/localCurrency}}, currencyLocalRight:{{globalSettings@currencySettings/displayCurrencyOnTheRight}}"></span>\r\n	                </div>\r\n	                <div class="sub-title">\r\n	                <img class="icon" style="margin-right: 5px" src="./image/SalesOrder/truck_icon.png"/>\r\n	                <span data-sap-widget="sap.sbo.ui.widget.DateLabel" \r\n                                data-sap-option="value: {{docDate, sap.sbo.util.formatter.date_JODATime}}, format:{{globalSettings@date/formatString}}">&nbsp;</span>\r\n                    </div>\r\n	            </div>     \r\n	            <div class="details">\r\n	                <div class=\'field\'>\r\n                        <div class="info">{{cardCode}}</div>\r\n	                </div>\r\n	                <div class=\'field\'>\r\n                        <div class="info">{{cardName}}</div>\r\n                    </div>\r\n                </div>\r\n                <div class="status" data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{status, sap.sbo.util.formatter.convertStatusImage}}, arrangeType:"original" \'>\r\n                </div>                             \r\n	        </div>\r\n        </div>\r\n        \r\n        <div data-sap-template="PropertyTemplate" style="display: none;">\r\n            <div data-sap-template="String[cardCode]" height="100">\r\n                <div class="key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div data-id="cardCode"\r\n                            data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n                            data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.pad.ChooseListCustomer\', titleField: \'cardName\', subtitleField: \'cardCode\', valueField: \'cardCode\'"></div>    \r\n                    </div>\r\n                </div>\r\n            </div>    \r\n                    \r\n            <div data-sap-template="Integer[documentsOwner]" height="100">\r\n                <div class="key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div data-id="documentsOwner"\r\n                            data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n                            data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.pad.ChooseListEmployee\', titleField: \'displayName\', valueField: \'employeeID\'"></div>    \r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n            <div data-sap-template="Integer[contactPersonCode]" height="100">\r\n                <div class="key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div data-id="contactPersonCode"\r\n                            data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n                            data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.pad.ChooseListContact\', titleField: \'displayName\', subtitleField: \'position\', valueField: \'contactPersonID\'"></div>    \r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.SalesOrderSetting.SalesOrderSetting",function(){return'<div class=\'sbo-home\'>\r\n    <div ctrl=\'layout\' class=\'sbo-home-layout\' data-sap-widget="sap.sbo.layout.pad.AdvancedTilesLayout" data-sap-option="disableLayoutService:true">\r\n        <div data-sap-template="View" mode="2x2" uuid="sbo.ApprovalSettingsTile" name="sap.sbo.page.pad.settings.approval.ApprovalTile"></div>\r\n        \r\n        <!--\r\n        <div data-sap-template="View" mode="2xN" uuid="sbo.SocialMediaTile" name="sap.sbo.page.pad.socialmedia.SocialMediaTile"></div>\r\n        -->\r\n    </div>\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.SalesQuotation.QuotationCreation",function(){return'<div class=\'sbo-bo-creation-frame order\'>\r\n    <div class="title">\r\n        {{i18n@app/document/NEW_QUO}}\r\n    </div>\r\n    <div class="fields">\r\n        <div ctrl="main"\r\n            class="sbo-app-template-editproperty"\r\n            data-sap-widget="sap.sbo.layout.pad.MetadataList" \r\n            data-sap-option=" verticalPadding: 5,  ignoredProperty:[\'cardName\', \'OwnerEmployeeFirstName\',\'OwnerEmployeeLastName\',\'OwnerEmployeeDisplayName\',\'docEntry\',\'docNum\',\'docTotal\',\'documentsOwner\',\'contactPersonCode\',\'comments\',\'series\',\'discountPercent\',\'vatSum\',\'rounding\',\'status\',\'cancelled\',\'totalDiscount\',\'roundingDiffAmount\',\'sequentialNo\', \'docCurrency\', \'address\', \'address2\',\'OwnerEmployeeDisplayName\', \'mainContactPersonDisplayName\', \'transportationCode\', \'shiptypeName\']"\r\n        >    \r\n\r\n                \r\n        <div data-sap-template="Content">\r\n            <div data-sap-template="Property" property="cardCode" option=\'{"readOnly":false}\'></div>          \r\n            <div data-sap-template="Property" property="docDate"></div>\r\n            <div data-sap-template="Property" property="docDueDate"></div>\r\n            \r\n            <div data-sap-template="Html" uuid=\'salesQuationItems\'>\r\n                  <div disPlayFlag="{{cardCode,formatter.null_bool}}" class="field salesQuationItems">\r\n                    <div class="lable">{{i18n@app/document/PRODUCT_AMOUNT}}</div>\r\n                    <div class="count">\r\n                    <span>{{documentLines/length}} </span>\r\n                    <span>{{i18n@app/document/SELECTED}}</span>\r\n                    </div>\r\n                    <div class="amount">\r\n                        <span data-sap-widget="sap.sbo.ui.widget.DecimalLabel" data-sap-option="value:{{docTotal,sap.formatter.real_string_nullable}}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}},decimalNum:{{globalSettings@types/Sum/DecimalPlace}},\r\n                        currency:{{globalSettings@currencySettings/localCurrency}}, currencyLocalRight:{{globalSettings@currencySettings/displayCurrencyOnTheRight}}"></span>\r\n                    </div>\r\n                    <div style="float: right"><img src=\'./image/settings/double_arrow_fold.png\'></div>\r\n                  </div>\r\n            </div>\r\n        </div>\r\n        \r\n       <div data-sap-template="PropertyTemplate">\r\n            <div data-sap-template="String[cardCode]">\r\n                <div class="string key-value">\r\n                    <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                        <div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                    </div>                \r\n                    <div class="value"  >\r\n                        <div>{{cardCode}}</div>\r\n                        <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n                          data-sap-option="text:{{cardName}}, readonly:{{cardCodeModel@readonly}}, navigationEnabled: false"\r\n                          ></div>                        \r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n        \r\n    </div>\r\n    </div>\r\n    <div class="action">\r\n        <button ctrl="btnCancel" data-touchable=\'true\' data-touchable=\'true\' data-sap-widget="sap.ui.widget.Button" data-sap-option="text: {{i18n@common/CANCEL}}"></button>\r\n        <button ctrl="btnSaveOpen" data-touchable=\'true\' data-touchable=\'true\' data-sap-widget="sap.ui.widget.Button" data-sap-option="text: {{i18n@app/SAVE_VIEW}}"></button>\r\n    </div>\r\n\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.SalesQuotation.QuotationPrint",function(){return'<div id="submit_bar">\r\n    <span id="download" style="display:{{device/isDesktop}}">{{i18n@common/DOWNLOAD}}</span>\r\n    <span style="display:{{device/isDesktop}}">&nbsp;&nbsp;|&nbsp;&nbsp;</span><span id="cancel">{{i18n@common/CANCEL}}</span>\r\n</div>\r\n\r\n<iframe id="quotation" width="595px" height="842px" frameborder="0" scrolling="no" marginheight="0px" marginwidth="0px">\r\n</iframe>\r\n'}),define("html!sap.sbo.page.pad.SalesQuotation.SalesQuotationEdit",function(){return'<div>\r\n    <div ctrl="main"\r\n        class="sbo-app-template-editproperty sbo-app-template-property-info-enable"\r\n        data-sap-widget="sap.sbo.layout.pad.MetadataLayout" \r\n        data-sap-option="ignoredProperty: [\'ShipToCountryName\',\'BillToCountryName\',\'OwnerEmployeeFirstName\',\'OwnerEmployeeLastName\',\'OwnerEmployeeDisplayName\',\'cardName\', \'docEntry\',\'docCurrency\', \'cancelled\', \'contactPersonCode\', \'discountPercent\', \'docTotal\', \'vatSum\', \'rounding\', \'totalDiscount\', \'roundingDiffAmount\', \'approvalStatus\', \'documentStatus\', \'OwnerEmployeeDisplayName\', \'mainContactPersonDisplayName\', \'shiptypeName\']">\r\n   \r\n        <div data-sap-template="Content">\r\n            <div data-sap-template="Property" property="docNum" option=\'{"group":"basic"}\'></div>\r\n            <div data-sap-template="Property" property="cardCode" link="cardName" option=\'{"group":"basic"}\'></div>\r\n            <div data-sap-template="Property" property="documentsOwner"  option=\'{"group":"status"}\'></div>\r\n            <div data-sap-template="Property" property="status"  option=\'{"group":"status"}\'></div>\r\n            <div data-sap-template="Property" property="docDate"  option=\'{"group":"data"}\'></div>\r\n            <div data-sap-template="Property" property="docDueDate"  option=\'{"group":"data"}\'></div>\r\n            <div data-sap-template="Property" property="address"  option=\'{"group":"address"}\'></div>\r\n            <div data-sap-template="Property" property="address2"  option=\'{"group":"address"}\'></div>               \r\n            <div data-sap-template="Property" property="comments" option=\'{"group":"remark"}\'></div>\r\n        </div>\r\n        \r\n        <div data-sap-template="PropertyTemplate">            \r\n         <div data-sap-template="String[cardCode]">        \r\n            <div class="key-value">\r\n              <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n              <div class="value">\r\n                  <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n                    data-sap-option="text:{{cardCode}}, readonly:true, inNavigationMode:{{meta@readonly}}">{{cardCode}}</div>\r\n	              <div>{{cardName}}&nbsp;</div>\r\n              </div>\r\n            </div>         \r\n         </div>\r\n                     \r\n        <div data-sap-template="[status]">\r\n                <div class="readonly enumeration key-value">\r\n                    <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n                    <div class="value">\r\n		            <span style=\'display:inline-block;\' data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{#PROPERTY#, sap.sbo.util.formatter.convertStatusImage}}, arrangeType:"original" \' ></span>\r\n                        <span data-sap-widget="sap.sbo.ui.widget.EnumLabel" \r\n                            data-sap-option="textField: \'label\', valueField: \'name\', data: {{meta@enum/#type#}}, selectedValue: {{#PROPERTY#}}">&nbsp;\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n         </div>\r\n         \r\n         <div data-sap-template="[documentsOwner]">\r\n             <div class="key-value">\r\n               <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n               <div class="value">\r\n                 <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n                   data-sap-option="iconUrl:{{owner@OwnerImage/url}}, text:{{OwnerEmployeeDisplayName}}, readonly:{{$readOnly}}, inNavigationMode:{{meta@readonly}}"\r\n                   ></div>\r\n               </div>\r\n             </div>             \r\n         </div> \r\n\r\n            <div data-sap-template="[address]" class="sbo-bo-address quotation">\r\n                <div class="readonly key-value">\r\n                    <div class="key">\r\n                        {{i18n@app/address/BILLTO}}\r\n                    </div>\r\n                    <div class="value">\r\n                        <div class="value" data-sap-widget="sap.sbo.ui.widget.Address"\r\n                            data-sap-option="locale:{{addressExtension/0/billToCountry, formatter.string_null}}, \r\n                        country:{{addressExtension/0/BillToCountryName, formatter.string_null}}, \r\n                        state:{{addressExtension/0/billToState, formatter.string_null}}, \r\n                        zipCode:{{addressExtension/0/billToZipCode, formatter.string_null}}, \r\n                        city:{{addressExtension/0/billToCity, formatter.string_null}}, \r\n                        street1:{{addressExtension/0/billToStreet, formatter.string_null}}, \r\n                        street2:{{addressExtension/0/billToBlock, formatter.string_null}}">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="writable key-value">\r\n                    <div class="key">\r\n                        <span>{{i18n@app/address/BILLTO}}</span> <span><img class="chooseIcon" data-id="billto"\r\n                            src="./image/SalesOrder/choose.png"></span>\r\n                    </div>\r\n                    <div class="value">\r\n                      <div>\r\n                        <div class="Detail pane">\r\n                            <div class="field inline">\r\n                                <div class="key">{{i18n@app/address/COUNTRY}}</div>\r\n                                <div class="value">\r\n                                    <span data-id="dropdownlistforbilltocountry"\r\n                                        data-sap-widget="sap.ui.widget.DropDownBox"\r\n                                        data-sap-option="textField: \'name\', valueField: \'code\', data: {{list@countryB}}, selectedValue: {{addressExtension/0/billToCountry, two-way}}"></span>\r\n                                </div>\r\n                            </div>\r\n                            <div class="field inline">\r\n                                <div class="key">{{i18n@app/address/STATE}}</div>\r\n                                <div class="value">\r\n                                    <span style=\'display:inline-block;\' data-sap-widget="sap.ui.widget.DropDownBox"\r\n                                        data-sap-option="disabled:{{list@stateB/length, formatter.isZero}},textField: \'name\', valueField: \'code\', data: {{list@stateB}}, selectedValue: {{addressExtension/0/billToState, two-way}}"></span>\r\n                                </div>\r\n                            </div>\r\n                            <div class="field inline">\r\n                                <div class="key">{{i18n@app/address/ZIPCODE}}</div>\r\n                                <div class="value">\r\n                                    <input maxlength="{{addressMeta@billToZipCode/size}}" data-sap-widget="sap.ui.widget.TextField"\r\n                                        data-sap-option="value: {{addressExtension/0/billToZipCode, two-way, formatter.string_null}},nullable:true">\r\n                                </div>\r\n                            </div>\r\n                            <div class="field inline">\r\n                                <div class="key">{{i18n@app/address/CITY}}</div>\r\n                                <div class="value">\r\n                                    <input maxlength="{{addressMeta@billToCity/size}}" data-sap-widget="sap.ui.widget.TextField"\r\n                                        data-sap-option="value: {{addressExtension/0/billToCity, two-way, formatter.string_null}},nullable:true">\r\n                                </div>\r\n                            </div>\r\n                            <div class="field">\r\n                                <div class="key">{{i18n@app/address/STREET}}</div>\r\n                                <div class="value">\r\n                                    <input maxlength="{{addressMeta@billToStreet/size}}" data-sap-widget="sap.ui.widget.TextField"\r\n                                        data-sap-option="value: {{addressExtension/0/billToStreet,two-way, formatter.string_null}},nullable:true">\r\n                                </div>\r\n                                <div class="value">\r\n                                    <input maxlength="{{addressMeta@billToBlock/size}}" data-sap-widget="sap.ui.widget.TextField"\r\n                                        data-sap-option="value: {{addressExtension/0/billToBlock,two-way, formatter.string_null}},nullable:true">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n\r\n            <div data-sap-template="[address2]" class="sbo-bo-address quotation">\r\n                <div class="readonly key-value">\r\n                    <div class="key">\r\n                        {{i18n@app/address/SHIPTO}}\r\n                    </div>\r\n                    <div class="value">\r\n                        <div class="value" data-sap-widget="sap.sbo.ui.widget.Address"\r\n                            data-sap-option="locale:{{addressExtension/0/shipToCountry, formatter.string_null}}, \r\n                        country:{{addressExtension/0/ShipToCountryName, formatter.string_null}}, \r\n                        state:{{addressExtension/0/shipToState, formatter.string_null}}, \r\n                        zipCode:{{addressExtension/0/shipToZipCode, formatter.string_null}}, \r\n                        city:{{addressExtension/0/shipToCity, formatter.string_null}}, \r\n                        street1:{{addressExtension/0/shipToStreet, formatter.string_null}}, \r\n                        street2:{{addressExtension/0/shipToBlock, formatter.string_null}}">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="writable key-value">\r\n                    <div class="key">\r\n                        <span>{{i18n@app/address/SHIPTO}}</span> <span><img class="chooseIcon" data-id="shipto"\r\n                            src="./image/SalesOrder/choose.png"></span>\r\n                    </div>\r\n                    <div class="value">\r\n                      <div>\r\n                        <div class="Detail pane">\r\n                            <div class="field inline">\r\n                                <div class="key">{{i18n@app/address/COUNTRY}}</div>\r\n                                <div class="value">\r\n                                    <span data-id="dropdownlistforshiptocountry"\r\n                                        data-sap-widget="sap.ui.widget.DropDownBox"\r\n                                        data-sap-option="textField: \'name\', valueField: \'code\', data: {{list@countryS}}, selectedValue: {{addressExtension/0/shipToCountry, two-way}}"></span>\r\n                                </div>\r\n                            </div>\r\n                            <div class="field inline">\r\n                                <div class="key">{{i18n@app/address/STATE}}</div>\r\n                                <div class="value">\r\n                                    <span data-sap-widget="sap.ui.widget.DropDownBox"\r\n                                        data-sap-option="disabled:{{list@stateS/length, formatter.isZero}},textField: \'name\', valueField: \'code\', data: {{list@stateS}}, selectedValue: {{addressExtension/0/shipToState, two-way}}"></span>\r\n                                </div>\r\n                            </div>\r\n                            <div class="field inline">\r\n                                <div class="key">{{i18n@app/address/ZIPCODE}}</div>\r\n                                <div class="value">\r\n                                    <input maxlength="{{addressMeta@shipToZipCode/size}}" data-sap-widget="sap.ui.widget.TextField"\r\n                                        data-sap-option="value: {{addressExtension/0/shipToZipCode, two-way, formatter.string_null}},nullable:true">\r\n                                </div>\r\n                            </div>\r\n                            <div class="field inline">\r\n                                <div class="key">{{i18n@app/address/CITY}}</div>\r\n                                <div class="value">\r\n                                    <input maxlength="{{addressMeta@shipToCity/size}}" data-sap-widget="sap.ui.widget.TextField"\r\n                                        data-sap-option="value: {{addressExtension/0/shipToCity, two-way, formatter.string_null}},nullable:true">\r\n                                </div>\r\n                            </div>\r\n                            <div class="field">\r\n                                <div class="key">{{i18n@app/address/STREET}}</div>\r\n                                <div class="value">\r\n                                    <input maxlength="{{addressMeta@shipToStreet/size}}" data-sap-widget="sap.ui.widget.TextField"\r\n                                        data-sap-option="value: {{addressExtension/0/shipToStreet,two-way, formatter.string_null}},nullable:true">\r\n                                </div>\r\n                                <div class="value">\r\n                                    <input maxlength="{{addressMeta@shipToBlock/size}}" data-sap-widget="sap.ui.widget.TextField"\r\n                                        data-sap-option="value: {{addressExtension/0/shipToBlock,two-way, formatter.string_null}},nullable:true">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                       </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n                      \r\n        </div>\r\n    </div>\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.SalesQuotation.SalesQuotationHome",function(){return'<div class=\'sbo-bo-home sbo-quotation-home\'>\r\n\r\n    <div ctrl=\'layout\' class=\'sbo-bo-home-layout\'\r\n    data-sap-widget="sap.sbo.layout.pad.AdvancedTilesLayout"\r\n    data-sap-option="">\r\n\r\n        <div data-sap-template="Html" mode="2x6" coordinate="0,0" mode-pad="2x6" coordinate-pad="0,0" uuid="general">\r\n            <div  field="basicInfo" \r\n                class="sbo-bo-tile bo-tile-profile sbo-app-template-tileproperty sbo-bo-tile sbo-app-template-editproperty"\r\n                data-sap-widget="sap.sbo.layout.pad.MetadataRaw" \r\n                data-sap-option="sequenceAutoExpand:false"\r\n            >\r\n            	<div class="title">\r\n                    {{i18n@app/BASIC}}\r\n                </div>\r\n                <div data-sap-template="Content">\r\n                    <div data-sap-template="Property" property="docNum"></div>\r\n                    <div data-sap-template="Property" property="status" ></div>\r\n                    <div data-sap-template="Property" property="cardCode" link="cardName"></div>\r\n                    <div data-sap-template="Property" property="documentsOwner" ></div>                     \r\n                    <div data-sap-template="Property" property="docDate" ></div>                                                        		                               \r\n                </div>\r\n                \r\n                <div data-sap-template="PropertyTemplate">\r\n                    <div data-sap-template="[cardCode]">\r\n                        <div class="key-value">\r\n                            <div class="key"\r\n                                gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                                <div class="key-label">{{$label}}</div>\r\n                                <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                            </div>\r\n                            <div class=\'value\'>\r\n		                        <div>{{#PROPERTY#}}</div>\r\n		                        <div class="hyperLink" data-id="cardName">{{cardName}}&nbsp;</div>\r\n		                    </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div data-sap-template="[status]" height="50">\r\n			                <div class="readonly enumeration key-value">\r\n			                    <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n			                    <div class="value">\r\n			                        <span style=\'display:inline-block;\' data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{#PROPERTY#, sap.sbo.util.formatter.convertStatusImage}}, arrangeType:"original" \' ></span>\r\n			                        <span data-sap-widget="sap.sbo.ui.widget.EnumLabel" \r\n			                            data-sap-option="textField: \'label\', valueField: \'name\', data: {{meta@enum/#type#}}, selectedValue: {{#PROPERTY#}}">&nbsp;\r\n			                        </span>\r\n			                    </div>\r\n			                </div>\r\n			         </div>\r\n			         \r\n					<div data-sap-template="[documentsOwner]">\r\n						<div class="key-value">\r\n							<div class="key"\r\n								gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n								<div class="key-label">{{$label}}</div>\r\n								<div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n							</div>\r\n							<div class=\'value\'>\r\n								<div>{{OwnerEmployeeDisplayName}} </div>\r\n							</div>\r\n						</div>\r\n					</div>\r\n\r\n				</div>\r\n            </div>\r\n        </div>\r\n\r\n        <div data-sap-template="Html" mode="2x4" coordinate="1,0" mode-pad="2x4" coordinate-pad="1,0" uuid="product">\r\n            <div field="products" class="sbo-bo-tile sbo-bo-tile-{{documentLines/length}} product">\r\n                <div class="title">\r\n                    {{i18n@app/document/PRODUCTS}}\r\n                </div>\r\n                <div class="number">\r\n                    <div class="value">{{documentLines/length, sap.sbo.util.formatter.circleNumber_more}}</div>\r\n                </div>\r\n                <div class="info">\r\n                    <div class="key-value">\r\n                       <div class="key">\r\n                           {{i18n@app/document/DOC_TOTAL}}\r\n                       </div>\r\n                       <div class="value">\r\n                           <span data-sap-widget="sap.sbo.ui.widget.DecimalLabel" data-sap-option="value:{{docTotal,sap.formatter.real_string_nullable}}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}},decimalNum:{{globalSettings@types/Sum/DecimalPlace}},\r\n                           currency:{{globalSettings@currencySettings/localCurrency}}, currencyLocalRight:{{globalSettings@currencySettings/displayCurrencyOnTheRight}}"></span>\r\n                       </div>\r\n                    </div>\r\n                    <div class="key-value">\r\n                       <div class="key">\r\n                           {{i18n@app/document/DISCOUNT}}\r\n                       </div>\r\n                       <div class="value">\r\n                           <span data-sap-widget="sap.sbo.ui.widget.DecimalLabel" data-sap-option="value:{{totalDiscount,sap.formatter.real_string_nullable}}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}},decimalNum:{{globalSettings@types/Sum/DecimalPlace}},\r\n                           currency:{{globalSettings@currencySettings/localCurrency}}, currencyLocalRight:{{globalSettings@currencySettings/displayCurrencyOnTheRight}}"></span>\r\n                           <span style="margin-left:20px;" data-sap-widget="sap.sbo.ui.widget.DecimalLabel"\r\n                            data-sap-option="value: {{discountPercent,sap.formatter.real_string_nullable}}, decimalNum:{{globalSettings@types/Percent/DecimalPlace}}" >\r\n                            </span>\r\n                            <span>%</span>\r\n                       </div>\r\n                    </div>\r\n                    \r\n                </div>                \r\n            </div>\r\n        </div>\r\n        \r\n        <div data-sap-template="Html" mode="2x2" coordinate="2,0" mode-pad="2x2" coordinate-pad="1,2" uuid="contact">\r\n            <div field="contacts" class="sbo-bo-tile sbo-bo-tile-{{Related@contactNumber}} contact">\r\n                <div class="title">\r\n                    {{i18n@app/customer/CONTACTS}}\r\n                </div>\r\n                <div class="number">\r\n                    <div class="value">{{Related@contactNumber, sap.sbo.util.formatter.circleNumber_more}}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div data-sap-template="View" mode="2x2" coordinate="0,3" mode-pad="2x2" coordinate-pad="2,0" uuid="sbo.taskTile" name="sap.sbo.app.task.taskTile" option=""></div>\r\n        <div data-sap-template="View" mode="2x2" coordinate="2,3" mode-pad="2x2" coordinate-pad="2,1" uuid="sbo.NotePageTile" name="sap.sbo.app.notepage.NotePageTile"></div>\r\n        <div data-sap-template="View" mode="2x4" coordinate="2,1" mode-pad="2x4" coordinate-pad="2,2" uuid="sbo.FeedTile" name="sap.sbo.app.network.FeedTile"></div>\r\n        <div data-sap-template="View" mode="2x4" coordinate="1,2" mode-pad="2x6" coordinate-pad="3,0" uuid="sbo.RelatedTile" name="sap.sbo.app.network.RelatedTile"></div>\r\n \r\n    </div>\r\n</div>\r\n'
}),define("html!sap.sbo.page.pad.SalesQuotation.SalesQuotationListView",function(){return'<div class=\'bo-listview salesquotation\'>\r\n    <div data-id="listView" data-sap-widget="sap.sbo.layout.pad.ListLayout" data-sap-option=\'pageSize: 0\r\n    ,select:["docEntry","docNum","cardCode","cardName","documentsOwner","contactPersonCode","status","docDate","docTotal"]\'>\r\n        <div data-sap-template="Content">\r\n            <div class=\'item\'>\r\n                <div class=\'header\'>\r\n                    <div class="index">{{docNum}}</div>\r\n                    <div class="title">\r\n                    <span  data-sap-widget="sap.sbo.ui.widget.DecimalLabel" data-sap-option="value:{{docTotal,sap.formatter.real_string_nullable}}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}},decimalNum:{{globalSettings@types/Sum/DecimalPlace}},\r\n                    currency:{{globalSettings@currencySettings/localCurrency}}, currencyLocalRight:{{globalSettings@currencySettings/displayCurrencyOnTheRight}}"></span>\r\n                    </div>\r\n                    <div class="sub-title">\r\n                    <img class="icon" style="margin-right: 5px" src="./image/SalesOrder/truck_icon.png"/>\r\n                    <span data-sap-widget="sap.sbo.ui.widget.DateLabel" \r\n                                data-sap-option="value: {{docDate, sap.sbo.util.formatter.date_JODATime}},format:{{globalSettings@date/formatString}}">&nbsp;</span>\r\n                    </div>\r\n                </div>     \r\n                <div class="details">\r\n	                <div class=\'field\'>\r\n                        <div class="info">{{cardCode}}</div> \r\n                    </div>\r\n	                <div class=\'field\'>\r\n                        <div class="info">{{cardName}}</div> \r\n                    </div>\r\n                </div>\r\n                <div class="status" data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{status, sap.sbo.util.formatter.convertStatusImage}}, arrangeType:"original" \'>\r\n                </div>                 \r\n            </div>\r\n        </div>\r\n        \r\n        <div data-sap-template="PropertyTemplate" style="display: none;">\r\n            <div data-sap-template="String[cardCode]" height="100">\r\n                <div class="key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div data-id="cardCode"\r\n                            data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n                            data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.pad.ChooseListCustomer\', titleField: \'cardName\', subtitleField: \'cardCode\', valueField: \'cardCode\'"></div>    \r\n                    </div>\r\n                </div>\r\n            </div>    \r\n                    \r\n            <div data-sap-template="Integer[documentsOwner]" height="100">\r\n                <div class="key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div data-id="documentsOwner"\r\n                            data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n                            data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.pad.ChooseListEmployee\', titleField: \'displayName\', valueField: \'employeeID\'"></div>    \r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n            <div data-sap-template="Integer[contactPersonCode]" height="100">\r\n                <div class="key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div data-id="contactPersonCode"\r\n                            data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n                            data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.pad.ChooseListContact\', titleField: \'displayName\', subtitleField: \'position\', valueField: \'contactPersonID\'"></div>    \r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.SalesQuotationSetting.SalesQuotationSetting",function(){return'<div class=\'sbo-home\'>\r\n    <div ctrl=\'layout\' class=\'sbo-home-layout\' data-sap-widget="sap.sbo.layout.pad.AdvancedTilesLayout" data-sap-option="disableLayoutService:true">\r\n        <div data-sap-template="View" mode="2x2" uuid="sbo.ApprovalSettingsTile" name="sap.sbo.page.pad.settings.approval.ApprovalTile"></div>\r\n        \r\n        <!--\r\n        <div data-sap-template="View" mode="2xN" uuid="sbo.SocialMediaTile" name="sap.sbo.page.pad.socialmedia.SocialMediaTile"></div>\r\n        -->\r\n    </div>\r\n</div>'}),define("html!sap.sbo.page.pad.TargetGroup.BasicInfoEdit",function(){return'<div class="opps-basic-info view">\r\n    <div ctrl="main" \r\n        class="sbo-app-template-generalproperty sbo-app-template-property-info-enable" \r\n        data-sap-widget="sap.sbo.layout.pad.MetadataLayout" \r\n        data-sap-option="ignoredProperty: []"\r\n    >\r\n        <div data-sap-template="Content">\r\n        </div>\r\n        <div data-sap-template="PropertyTemplate">\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.TargetGroup.BusinessPartner",function(){return'<div class="sbo-opps-item-edit">\r\n	<div data-sap-template="itemHeader">\r\n\r\n		<div class="sbo-opps-item-desc">\r\n			<h2>{{loop@data/businessPartnerCode}}</h2>\r\n			<h1>{{loop@data/businessPartnerName}}</h1>\r\n		</div>\r\n\r\n	</div>\r\n\r\n	<div data-sap-template="itemFields">\r\n\r\n		<div data-sap-template="Content">\r\n		</div>\r\n		<div data-sap-template="PropertyTemplate">\r\n		</div>\r\n\r\n	</div>\r\n    \r\n</div>'}),define("html!sap.sbo.page.pad.TargetGroup.Home",function(){return'<div class=\'sbo-bo-home sbo-opps-home\'>\r\n\r\n    <div ctrl=\'layout\' class=\'sbo-bo-home-layout\'\r\n    data-sap-widget="sap.sbo.layout.pad.AdvancedTilesLayout"\r\n    data-sap-option="">\r\n\r\n        <div data-sap-template="Html" mode="2xN" uuid="general">\r\n            <div field=\'basicInfo\' class="sbo-bo-tile bo-tile-profile">\r\n            	<div class="title">\r\n                    {{i18n@app/BASIC}}\r\n                </div>\r\n                <div class="bo-field">\r\n                    <div class="bo-label">\r\n                        {{i18n@app/targetgroup/TG_CODE}}\r\n                    </div>\r\n                    <div class="bo-value">\r\n                        <span>{{targetGroupCode}}</span>\r\n                    </div>\r\n                </div>\r\n                <div class="bo-field">\r\n                    <div class="bo-label">\r\n                        {{i18n@app/targetgroup/TG_NAME}}\r\n                    </div>\r\n                    <div class="bo-value">\r\n                        <span>{{targetGroupName}}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div data-sap-template="Html" mode="2xN" uuid="contact">\r\n            <div field="businessPartner" class="sbo-bo-tile sbo-bo-tile-{{salesOpportunitiesItems/length}} customer">\r\n                <div class="title">\r\n                    {{i18n@app/targetgroup/BP}}\r\n                </div>\r\n                <div class="number">\r\n                    <div class="value">{{targetGroupsDetails/length, sap.sbo.util.formatter.circleNumber_more}}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'}),define("html!sap.sbo.page.pad.TargetGroup.TargetGroupCreation",function(){return'<div class=\'sbo-bo-creation-frame\'>\r\n    <div class="title">\r\n        {{i18n@app/targetgroup/NEW_TARGET_GROUP}}\r\n    </div>\r\n    <div class="fields">\r\n        <div ctrl="main"\r\n            class="sbo-app-template-editproperty" style="position:absolute; top: 30px; left: 10px; right:10px; bottom: 10px;"\r\n            data-sap-widget="sap.sbo.layout.pad.MetadataList" \r\n            data-sap-option="verticalPadding: 5, ignoredProperty: []"\r\n        >\r\n            <div data-sap-template="Content">\r\n            </div>\r\n            <div data-sap-template=\'PropertyTemplate\'>\r\n                <!-- \r\n                <div data-sap-template="String[targetGroupCode]" height="50">\r\n                    <div class="key-value">\r\n                        <div class="key">{{$label}}</div>\r\n                        <div class="value">\r\n                            <input data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{#PROPERTY#,two-way,formatter.convertEmtpyNull}}" style=\'width:100%;\'>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                </div>\r\n                <div  data-sap-template="String[targetGroupName]" height="50">\r\n                    <div class="key-value">\r\n                        <div class="key">{{$label}}</div>\r\n                        <div class="value">\r\n                            <input data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{#PROPERTY#,two-way,formatter.convertEmtpyNull}}" style=\'width:100%;\'>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                -->\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="action">\r\n        <button ctrl="btnSaveOpen" data-touchable=\'true\' data-sap-widget="sap.ui.widget.Button" data-sap-option="text: \'Save & Open\'"></button>\r\n        <button ctrl="btnCancel" data-touchable=\'true\' data-sap-widget="sap.ui.widget.Button" data-sap-option="text: \'Cancel\'"></button>\r\n        \r\n    </div>\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.TargetGroup.TargetGroupListView",function(){return'<div class=\'bo-listview TargetGourp\'>\r\n    <div data-id="listView" data-sap-widget="sap.sbo.layout.pad.ListLayout" data-sap-option="pageSize: 0">\r\n        <div data-sap-template="Content">\r\n            <div class=\'item\' title="TargetGourp {{targetGroupCode}}">\r\n                <div class=\'header\'>\r\n                    <div class="index">{{targetGroupCode}}</div>\r\n                    <div class="title">{{targetGroupName}}</div>\r\n                </div>  \r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.socialmedia.AlertReportHome",function(){return'<div class=\'sbo-bo-home sbo-opps-home\'>\r\n    <div ctrl=\'layout\' class=\'sbo-bo-home-layout\'\r\n    data-sap-widget="sap.sbo.layout.pad.AdvancedTilesLayout"\r\n    data-sap-option="">\r\n        <div data-sap-template="View" mode="2x2" uuid="sbo.GoodVoicesTile" name="sap.sbo.page.pad.socialmedia.GoodVoicesTile"></div>\r\n        <div data-sap-template="View" mode="2x2" uuid="sbo.BadVoicesTile" name="sap.sbo.page.pad.socialmedia.BadVoicesTile"></div>\r\n        <div data-sap-template="View" mode="2x2" uuid="sbo.TweetRateTile" name="sap.sbo.page.pad.socialmedia.TweetRateTile"></div>\r\n        <div data-sap-template="View" mode="2xN" uuid="sbo.TopInfluencerTile" name="sap.sbo.page.pad.socialmedia.TopInfluencerTile"></div>\r\n        <div data-sap-template="View" mode="2xN" uuid="sbo.TweetImpactTile" name="sap.sbo.page.pad.socialmedia.TweetImpactTile"></div>\r\n        <div data-sap-template="View" mode="2xN" uuid="sbo.WebPageAnalysis" name="sap.sbo.page.pad.socialmedia.WebPageAnalysis"></div>\r\n    </div>\r\n    <div id=\'myTimeSlider\' data-sap-widget=\'sap.ui.widget.Slider\' data-sap-option=\'type:"range", tooltip: false, min: 1, max: 12, valueA:1, valueB:12\'></div>\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.socialmedia.AlertReportPage",function(){return'<div class=\'sbo-bo-home sbo-opps-home\'>\r\n\r\n    <div ctrl=\'layout\' class=\'sbo-bo-home-layout\'\r\n    data-sap-widget="sap.sbo.layout.pad.AdvancedTilesLayout"\r\n    data-sap-option="">\r\n\r\n        <div data-sap-template="View" mode="2xN" uuid="sbo.WeiboTile" name="sap.sbo.page.pad.socialmedia.WeiboTile"></div>\r\n        <!-- <div data-sap-template="View" mode="2x2" uuid="sbo.FeedTile1" name="sap.sbo.page.pad.socialmedia.FeedTile"></div> -->\r\n        \r\n        <!-- <div class=\'slider-widget\'>\r\n            <div id=\'mySlider\' class=\'slider\' data-sap-widget=\'sap.ui.widget.Slider\' data-sap-option=\'type:"range", min: 1, max: 12, value: 1\'></div>\r\n        </div> -->\r\n\r\n    </div>\r\n</div>'}),define("html!sap.sbo.page.pad.socialmedia.BadVoicesTile",function(){return'<div class="sbo-bo-tile sbo-BadVoices-tile">\r\n    <div class="front">\r\n        <div class="title">\r\n            <span>Bad Voices</span>\r\n            <img class="titleIcon" src="./image/socialmedia/angry.png"/>\r\n         </div>\r\n        <div id="badCloudBlock">\r\n            <div id="badWordcloud" class="cloud">\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="back">\r\n       <div class="title">\r\n            <span>Bad Voices</span>\r\n            <img class="titleIcon" src="./image/socialmedia/angry.png"/>\r\n            <div id="badVoicesBackIcon" class="backIcon" data-sap-widget="sap.ui.widget.Icon" ></div>\r\n         </div>\r\n         <div id="badVoicesScroll" data-sap-widget="sap.ui.ScrollPanel" class="scrolldiv" data-sap-option="vscroll: {{Vscroll, two-way}}">\r\n            <div id="badVoicesRepeat"  data-sap-widget="sap.ui.Repeat" data-sap-option="data: {{BadVoices,two-way}}">\r\n                <div data-sap-template="Content" class="badVoice">\r\n                    <div class="detail">\r\n                        <div class="profile" \r\n                            style="background-repeat: no-repeat; background-image:url(\'{{profileImage}}\')">\r\n                            {{screenName}}\r\n                        </div>\r\n                        <div class="text">{{text}}</div>\r\n                        <div class="date">{{postTime}}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.socialmedia.CampaignInsightTile",function(){return'<div class="sbo-bo-tile sbo-campaignInsight-tile">\r\n\r\n    <div class="header">\r\n         <div class="title">Digital Insight</div>\r\n    </div>\r\n    <div id="moodChart">\r\n        \r\n    </div>\r\n    <div id="socialOptimization">\r\n        <div class="title">Social Optimization</div>\r\n        <div id="tweetImpactScroll" data-sap-widget="sap.ui.ScrollPanel" class="scrolldiv" data-sap-option="vscroll: {{Vscroll, two-way}}">\r\n            <div class="optimizeDetail1 optimizeDetail">\r\n                <div class="detailName">New Followers</div>\r\n                <div class="detailNumber">{{CampaignInsight/newFollowersNum}}</div>\r\n                <div class="detailImage" style="background-repeat: no-repeat; background-image:url(./image/socialmedia/upicon.png)"></div>\r\n            </div>\r\n            <div class="optimizeDetail2 optimizeDetail">\r\n                <div class="detailName">Mentions</div>\r\n                <div class="detailNumber">{{CampaignInsight/mentionsNum}}</div>\r\n                <div class="detailImage" style="background-repeat: no-repeat; background-image:url(./image/socialmedia/upicon.png)"></div>\r\n            </div>\r\n            <div class="optimizeDetail3 optimizeDetail">\r\n                <div class="detailName">Retweets</div>\r\n                <div class="detailNumber">{{CampaignInsight/promotionRetweetsNum}}</div>\r\n                <div class="detailImage" style="background-repeat: no-repeat; background-image:url(./image/socialmedia/upicon.png)"></div>\r\n            </div>\r\n            <div class="optimizeDetail4 optimizeDetail">\r\n                <div class="detailName">Messages</div>\r\n                <div class="detailNumber">{{CampaignInsight/messagesNum}}</div>\r\n                <div class="detailImage" style="background-repeat: no-repeat; background-image:url(./image/socialmedia/upicon.png)"></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'}),define("html!sap.sbo.page.pad.socialmedia.CompetitorHighlightTile",function(){return'<div class="sbo-bo-tile sbo-CompetitorHighlights-tile">\r\n    <div class="header">\r\n      <div class="title">Competitor Highlights</div>\r\n    </div>\r\n    <div class="details">\r\n            <div id="highlightScroll" data-sap-widget="sap.ui.ScrollPanel" class="scrolldiv" data-sap-option="vscroll: {{Vscroll, two-way}}">\r\n               <div id="highlightRepeat"  data-sap-widget="sap.ui.Repeat" data-sap-option="data: {{highlightDetails,two-way}}">\r\n                    <div data-sap-template="Content" class="highlight">\r\n                        <div class="items">\r\n                            <div class="highlightText">{{text}}</div>\r\n                            <div class="checkboxLabel">\r\n                                <span class=\'myCheckbox\' data-sap-widget=\'sap.ui.widget.Checkbox\' data-sap-option="text: \'\', disabled: {{disabled, two-way}}, checked: {{checked, two-way}}"></span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        <div class="highlightChartArea">\r\n            <div class="detailsTitle">Tweets by Time</div>\r\n            <div id="chart"></div>\r\n        </div>\r\n        <div class="hotKeywordsArea">\r\n            <div class="detailsTitle">Hot Keywords</div>\r\n            <div class="keywordDetails">\r\n                <div class="keywordImageColumn">\r\n                    <div class="keywordImageHeader"></div>\r\n                    <div class="keywordGoodImage"></div>\r\n                    <div class="keywordBadImage"></div>\r\n                </div>\r\n                <div class="keywordItemColumn">\r\n                    <div class="ItemHeader">{{Item1}}</div>\r\n                    <div id="Item1GoodKeyword" data-sap-widget="sap.ui.ScrollPanel" class="ItemKeywordScroll" data-sap-option="vscroll: {{Vscroll, two-way}}">\r\n                       <div id="Item1GoodKeywordRepeat" class="KeywordRepeat" data-sap-widget="sap.ui.Repeat" data-sap-option="data: {{Item1GoodKeyword,two-way}}">\r\n                            <div data-sap-template="Content" class="hotKeyword">\r\n                                <div class="keywords">{{keyword}}</div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div id="Item1BadKeyword" data-sap-widget="sap.ui.ScrollPanel" class="ItemKeywordScroll" data-sap-option="vscroll: {{Vscroll, two-way}}">\r\n                       <div id="Item1BadKeywordRepeat" class="KeywordRepeat" data-sap-widget="sap.ui.Repeat" data-sap-option="data: {{Item1BadKeyword,two-way}}">\r\n                            <div data-sap-template="Content" class="hotKeyword">\r\n                                <div class="keywords">{{keyword}}</div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="keywordItemColumn">\r\n                    <div class="ItemHeader">{{Item2}}</div>\r\n                    <div id="Item2GoodKeyword" data-sap-widget="sap.ui.ScrollPanel" class="ItemKeywordScroll" data-sap-option="vscroll: {{Vscroll, two-way}}">\r\n                       <div id="Item2GoodKeywordRepeat" class="KeywordRepeat"  data-sap-widget="sap.ui.Repeat" data-sap-option="data: {{Item2GoodKeyword,two-way}}">\r\n                            <div data-sap-template="Content" class="hotKeyword">\r\n                                <div class="keywords">{{keyword}}</div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div id="Item2BadKeyword" data-sap-widget="sap.ui.ScrollPanel" class="ItemKeywordScroll" data-sap-option="vscroll: {{Vscroll, two-way}}">\r\n                       <div id="Item2BadKeywordRepeat" class="KeywordRepeat"  data-sap-widget="sap.ui.Repeat" data-sap-option="data: {{Item2BadKeyword,two-way}}">\r\n                            <div data-sap-template="Content" class="hotKeyword">\r\n                                <div class="keywords">{{keyword}}</div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.socialmedia.CompetitorTile",function(){return'<div class="sbo-bo-tile sbo-bo-tile-{{count}} sbo-Comp-tile">\r\n    <!-- TODO: put your social media tile HTML here -->\r\n    <div class="comp-widget">\r\n        <div id="my-repeat" data-sap-widget="sap.ui.Repeat" data-sap-option=\'data: {{testJson,two-way}}\'>\r\n            <div data-sap-template="Content" class=\'comp-repeat\'>\r\n                <div class="Title">\r\n                    <span>Competitor {{count}}</span>\r\n                </div>\r\n                <div class="comp-details">\r\n                    <span>Competitor Name</span>\r\n                    <br>\r\n                    <span>{{number}} Feedbacks</span>\r\n                </div>\r\n                <div class="comp-rel">\r\n                    <span>Relative Item</span>\r\n                    <br>\r\n                    <span>A. Discount on item 2_{{count}}</span>\r\n                </div>\r\n                <div class="comp-content">\r\n                    <span>Sentiment Analysis</span>\r\n                    <br>\r\n                    <span id="competitor-type" disabled>{{flag}}</span>\r\n                    <div class="sentiment-content"></div>\r\n                </div>\r\n                <hr>\r\n                <div class="Title">\r\n                    <span>Campaign Describe:</span>\r\n                    <br>\r\n                    <div class="Title">\r\n                        <span>Price</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'}),define("html!sap.sbo.page.pad.socialmedia.DigitalInsightTile",function(){return'<div class="sbo-bo-tile sbo-digitalInsight-tile">\r\n\r\n    <div class="header">\r\n         <div class="title">Digital Insight</div>\r\n    </div>\r\n    <div id="moodChart">\r\n        \r\n    </div>\r\n    <div id="topTweet">\r\n        <div class="title">Weekly Top Influencing Tweet</div>\r\n        <div class="content">\r\n            <div id="topTweetDetail">\r\n                <div id="topTweetpicture" style="background-image: url(\'{{influencerTO/profileImage}}\')"></div>\r\n                <div id="topTweetUserName">\r\n                    <div>{{influencerTO/screenName}}</div>\r\n                </div>\r\n                <div>{{tweetInfoTO/text}}</div>\r\n                <div id="topTweetPostTime">{{tweetInfoTO/postTime}}</div>\r\n            </div>\r\n            <div class="tweetnumbers" >\r\n                <div class="tweetnumber">\r\n                    <div class="tweetnumberinner">{{influencerTO/followerNum}}</div>\r\n                </div>\r\n               <div class="tweetnumber">\r\n                    <div class="tweetnumberinner">{{influencerTO/tweetNum}}</div>\r\n                </div>\r\n                <div class="tweetnumber">\r\n                    <div class="tweetnumberinner">{{influencerTO/retweetNum}}</div>\r\n                </div>\r\n                <div style="clear:both"></div>\r\n               <div class="tweetNumberType">\r\n                    <div class="tweetNumberTypeInner">Followers</div>\r\n                </div>\r\n               <div class="tweetNumberType">\r\n                    <div class="tweetNumberTypeInner">Tweets</div>\r\n                </div>\r\n                <div class="tweetNumberType">\r\n                    <div class="tweetNumberTypeInner">Retweets</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'}),define("html!sap.sbo.page.pad.socialmedia.FeedTile",function(){return'<div class="sbo-bo-tile sbo-Feed-tile">\r\n    <div class="title">Feeds</div>\r\n</div>'}),define("html!sap.sbo.page.pad.socialmedia.GeneralTile",function(){return'<div class="sbo-bo-tile sbo-General-tile">\r\n    <div class="title">General</div>\r\n</div>'}),define("html!sap.sbo.page.pad.socialmedia.GoodVoicesTile",function(){return'<div class="sbo-bo-tile sbo-GoodVoices-tile">\r\n    <div class="front">\r\n        <div class="title">\r\n            <span>Good Voices</span>\r\n            <img class="titleIcon" src="./image/socialmedia/happy.png"/>\r\n        </div>\r\n        <div id="cloudBlock">\r\n            <div id="wordcloud" class="cloud">\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="back">\r\n         <div class="title">\r\n            <span>Good Voices</span>\r\n            <img class="titleIcon" src="./image/socialmedia/happy.png"/>\r\n            <div id="goodVoicesBackIcon" class="backIcon" data-sap-widget="sap.ui.widget.Icon"></div>\r\n         </div>\r\n         <div id="goodVoicesScroll" data-sap-widget="sap.ui.ScrollPanel" class="scrolldiv" data-sap-option="vscroll: {{Vscroll, two-way}}">\r\n            <div id="goodVoicesRepeat"  data-sap-widget="sap.ui.Repeat" data-sap-option="data: {{GoodVoices,two-way}}">\r\n                <div data-sap-template="Content" class="goodVoice">\r\n                    <div class="detail">\r\n                        <div class="profile" \r\n                            style="background-repeat: no-repeat; background-image:url(\'{{profileImage}}\')">\r\n                            {{screenName}}\r\n                        </div>\r\n                        <div class="text">{{text}}</div>\r\n                        <div class="date">{{postTime}}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n    </div>\r\n    </div>\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.socialmedia.SliderTile",function(){return"<div class='sbo-slider-home sbo-opps-home'>\r\n\r\n    <div class='slider-widget'>\r\n            <div id='mySlider' class='slider' data-sap-widget='sap.ui.widget.Slider' data-sap-option='type:\"range\", min: 1, max: 12, value: 1'></div>\r\n        </div>\r\n\r\n</div>"}),define("html!sap.sbo.page.pad.socialmedia.SocialMediaTile",function(){return'<div class="sbo-bo-tile sbo-bo-tile-{{count}} sbo-SocialMedia-tile">\r\n    <div class="title">Social Media</div>\r\n    <!-- TODO: put your social media tile HTML here -->\r\n    <div class="chart">\r\n        <!-- TODO: put your social media image here -->\r\n        <img src="./image/socialmedia/sentiment-analysis.jpg" />\r\n    </div>\r\n    <div class="number">{{count, sap.sbo.util.formatter.circleNumber_more}}</div>\r\n</div>'}),define("html!sap.sbo.page.pad.socialmedia.TopInfluencerTile",function(){return'<div class="sbo-bo-tile sbo-bo-tile-{{count}} sbo-topInfluencer-tile">\r\n    <div class="front">\r\n        <div class="title">\r\n          <span>Top Influencers</span>\r\n        </div>\r\n        <div id="influencerRepeat"  data-sap-widget="sap.ui.Repeat" data-sap-option="data: {{Influencers,two-way}}">\r\n            <div data-sap-template="Content" class="influencer">\r\n                    <div class="pics gray" style="background-image: url(\'{{profileImage}}\')"></div>\r\n                    <div class="names" userId="{{userID}}">{{screenName}}</div>\r\n            </div>\r\n        </div>\r\n        </div>\r\n    <div class="back">\r\n      <div class="title">\r\n         <span>Top Influencer</span>\r\n         <div id="topInfluencerBackIcon" class="backIcon" data-sap-widget="sap.ui.widget.Icon" ></div>\r\n      </div>\r\n      <div class="profileTitle" style="background-repeat: no-repeat; background-image:url(\'{{profile/profileImage}}\')">\r\n            <div class="name">{{profile/screenName}}</div>\r\n            <div class="followers">\r\n            <span class="follower">{{profile/followerNum}} Followers</span>\r\n            <span class="follower">{{profile/tweetNum}} Tweets</span>\r\n            <span class="follower">{{profile/retweetNum}} Retweets</span>\r\n            </div>\r\n       </div>\r\n         <div id="influencerDetailScroll" data-sap-widget="sap.ui.ScrollPanel" class="scrolldiv" data-sap-option="vscroll: {{Vscroll, two-way}}">\r\n            <div id="influencerDetailRepeat"  data-sap-widget="sap.ui.Repeat" data-sap-option="data: {{influencerDetail,two-way}}">\r\n                <div data-sap-template="Content" class="influencerDetail">\r\n                    <div class="detail">\r\n                        <div class="topDetailTitle">\r\n                            <div class="numbers" >\r\n                                <div class="detailNumber retweetNumber retweet">{{retweetNum}}</div>\r\n                                <div class="detailNumber reLabel retweet">Retweets</div>\r\n                                <div class="detailNumber retweetNumber comment">{{commentNum}}</div>\r\n                                <div class="detailNumber reLabel comment">Comments</div>\r\n                            </div>\r\n                            <div class="detailInfo">\r\n                                {{text}}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.socialmedia.TweetImpactTile",function(){return'<div class="sbo-bo-tile sbo-bo-tile-{{count}} sbo-tweetImpact-tile">\r\n    <div class="title">Influencing Tweets <span>Top10</span></div>\r\n     <div id="tweetImpactScroll" data-sap-widget="sap.ui.ScrollPanel" class="scrolldiv" data-sap-option="vscroll: {{Vscroll, two-way}}">\r\n       <div id="tweetImpactRepeat"  data-sap-widget="sap.ui.Repeat" data-sap-option="data: {{TweetImpact,two-way}}">\r\n       \r\n            <div data-sap-template="Content" class="tweetImpact">\r\n                <div class="details">\r\n                    <div class="profile" \r\n                        style="background-repeat: no-repeat; background-image:url(\'{{profileImage}}\')">\r\n                        {{screenName}}\r\n                    </div>\r\n                    <div class="text">{{text}}</div>\r\n                    <div class="date">{{postTime}}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'}),define("html!sap.sbo.page.pad.socialmedia.TweetRateTile",function(){return'<div class="sbo-bo-tile sbo-TweetRate-tile">\r\n    <div class="title">Tweets by Time</div>\r\n    <div id="highchartsBlock">\r\n    </div>\r\n</div>'}),define("html!sap.sbo.page.pad.socialmedia.WebPageAnalysis",function(){return'<div class="sbo-bo-tile sbo-bo-tile-{{count}} sbo-WebPageAnalysis-tile">\r\n    <div class="title">Sales Catalog Analysis</div>\r\n    <div class="analysisDetails">\r\n        <div class="analysisArea">\r\n            <div class="firstColumn column">\r\n                <div class="columnTile">\r\n                    <div class="tileNumber">{{analysis/uniVisitorNum}}</div>\r\n                    <div class="tileUnit">P/DAY</div>\r\n                    <div class="tileTitle">Unique Visitors</div>\r\n                </div>\r\n                <div class="columnTile">\r\n                    <div class="tileNumber">{{analysis/pageViewNum}}</div>\r\n                    <div class="tileUnit">P/DAY</div>\r\n                    <div class="tileTitle">PageViews</div>\r\n                </div>\r\n            </div>\r\n            <div class="secondColumn column">\r\n                <div class="columnTile">\r\n                    <div class="tileNumber">{{analysis/visitorNum}}</div>\r\n                    <div class="tileUnit">P/DAY</div>\r\n                    <div class="tileTitle">Vistors</div>\r\n                </div>\r\n                <div class="columnTile">\r\n                    <div class="tileNumber">{{analysis/avgVisitTime}}</div>\r\n                    <div class="tileUnit">MIN</div>\r\n                    <div class="tileTitle">Avg. Time on Page</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="keywordArea">\r\n            <div class="title">Hot Keyword</div>\r\n            <div class="keywords">\r\n                <span class="goodWords word">{{analysis/goodWords}}</span>\r\n                <span class="badWords word">{{analysis/badWords}}</span>\r\n                <span class="neutralWords word">{{analysis/neutralWords}}</span>\r\n            </div>\r\n        </div>\r\n        <div class="mapArea">\r\n            <div  id="map"></div>\r\n        </div>\r\n    </div>\r\n</div>'
}),define("html!sap.sbo.page.pad.socialmedia.WeiboTile",function(){return'<div class="sbo-bo-tile sbo-bo-tile-{{count}} sbo-Weibo-tile">\r\n    <div class="front">\r\n        <div class="title">Twitter</div>\r\n        <div class="tag">\r\n            <button id=\'sourceBtn\' data-sap-widget=\'sap.ui.widget.Button\' data-sap-option="text: {{source}}"> \r\n            </button>\r\n        </div>\r\n        <div id="timeRangeBlock">\r\n            <div id=\'timeRange\' class=\'slider\' data-sap-widget=\'sap.ui.widget.Slider\' data-sap-option=\'type:"single",min:0,max:30\'></div>\r\n        </div>\r\n    \r\n        <div id="cloudBlock">\r\n            <div id="wordcloud" class="cloud">\r\n            </div>\r\n        </div>\r\n    \r\n        <div id="chartBlock">\r\n            <!-- TODO: put your social media image here -->\r\n            <!-- <img src="./image/socialmedia/sentiment-analysis.jpg" /> -->\r\n            <div id="barChart" class="chart"></div>\r\n        </div>\r\n        <!-- <div class="number">{{count, sap.sbo.util.formatter.circleNumber_more}}</div> -->\r\n    </div>\r\n    <div class="back">\r\n      <div class="title">Social Listening Configuration</div>\r\n      <div class="tag">\r\n            <button id=\'backBtn\' data-sap-widget=\'sap.ui.widget.Button\' data-sap-option="text: {{back}}"> \r\n            </button>\r\n      </div>\r\n    </div>\r\n</div>'}),define("html!sap.sbo.page.pad.task.taskDialog",function(){return'<div data-sfa-class="task-dialog-content">\r\n <div class = "operationBar">\r\n  <div class = "EditBar {{,sap.sbo.app.task.taskUtil.ShowEditBar}}">\r\n	<div id="uploadfile" data-sfa-class = "taskUploadFile" class="taskUploadFile sap-sbo-task-float-left {{details/value/type,sap.sbo.app.task.taskUtil.taskUploadFileDisplay}}"  data-sap-widget="sap.sbo.ui.widget.UploadButton" data-sap-option="autoupload: true,cropimage: false"></div>\r\n   	\r\n 	<div id="photo-pick" data-sfa-class = "photoPick" class = "sap-sbo-ui-widget-PhotoPicker photoPick sap-sbo-task-menium-style {{details/value/type,sap.sbo.app.task.taskUtil.photoAndTalkDisplay}}" data-sap-widget="sap.sbo.ui.widget.PhotoPicker" data-sap-option="resourcetype:\'camera\', text: {{i18n@app/task/CAMERA}},autoupload: true,url:\'../sbo/file\'"></div>\r\n 	 <div id="photo-album" data-sfa-class = "photoAlbum" class = "sap-sbo-ui-widget-PhotoPicker photoAlbum sap-sbo-task-menium-style {{details/value/type,sap.sbo.app.task.taskUtil.photoAndTalkDisplay}}" data-sap-widget="sap.sbo.ui.widget.PhotoPicker" data-sap-option="resourcetype:\'album\', text: {{i18n@app/task/ALBUM}}, autoupload: true,url:\'../sbo/file\'"></div>\r\n 	<div id="press-talk" data-sfa-class = "pressTalk" class ="sap-sbo-ui-widget-PressToTalk pressTalk sap-sbo-task-menium-style {{details/value/type,sap.sbo.app.task.taskUtil.photoAndTalkDisplay}}" data-sap-widget="sap.sbo.ui.widget.PressToTalk" data-sap-option="echovoice: true,autoupload: true,url:\'../sbo/file\'"></div>\r\n 	<div data-sfa-class ="Save" id = "Save" class ="sap-sbo-task-float-right">{{details/value/type,sap.sbo.app.task.taskUtil.SavedText}}</div>\r\n 	<div data-sfa-class ="Cancel" id = "Cancel" class = "sap-sbo-task-float-right">{{i18n@common/CANCEL}}</div>\r\n   </div>\r\n   <div class = "RequestBar {{,sap.sbo.app.task.taskUtil.ShowRequestBar}}">\r\n   <div id=\'taskClose\' data-sfa-class ="taskClose" class = "sap-sbo-task-float-right " >{{i18n@common/CLOSE}}</div>\r\n	 <div data-sfa-class ="GrantReject" id = "GrantReject" class = "sap-sbo-task-float-right {{details/value,sap.sbo.app.task.taskUtil.RequestDisplay}}" >{{i18n@app/task/REJECTREQUESTACCESS}}</div>\r\n	  <div data-sfa-class ="GrantReadOnlyAccess" id = "GrantReadOnlyAccess" class = "sap-sbo-task-float-right {{details/value,sap.sbo.app.task.taskUtil.RequestDisplay}}">{{i18n@app/task/GREADACCESS}}</div>\r\n	 <div data-sfa-class ="GrantFullAccess" id = "GrantFullAccess" class = "sap-sbo-task-float-right {{details/value,sap.sbo.app.task.taskUtil.RequestDisplay}}">{{i18n@app/task/GFULLACCESS}}</div>\r\n   </div>\r\n    <div class = "ApprovalBar {{,sap.sbo.app.task.taskUtil.ShowApprovalBar}}">\r\n   <div id=\'taskClose\' data-sfa-class ="taskClose" class = "sap-sbo-task-float-right " >{{i18n@common/CLOSE}}</div>\r\n	 <div data-sfa-class ="Reject" id = "Reject" class = "sap-sbo-task-float-right {{details/value,sap.sbo.app.task.taskUtil.ApprovalDisplay}}" >{{i18n@app/task/REJECT}}</div>\r\n	 <div data-sfa-class ="Approve" id = "Approve" class = "sap-sbo-task-float-right {{details/value,sap.sbo.app.task.taskUtil.ApprovalDisplay}}">{{i18n@app/task/APPROVE}}</div> \r\n   </div>\r\n   <div class = "ViewBar {{,sap.sbo.app.task.taskUtil.ShowViewBar}}">\r\n   <div id=\'taskClose\' data-sfa-class ="taskClose" class = "{{details/value,sap.sbo.app.task.taskUtil.StatusDisplay}} sap-sbo-task-float-right">{{i18n@common/CLOSE}}</div>\r\n     <div id=\'taskDelete\' data-sfa-class ="taskDelete" class = "{{details/value,sap.sbo.app.task.taskUtil.StatusDisplay}} {{details/value,sap.sbo.app.task.taskUtil.DoneButtonDisplay}} sap-sbo-task-float-right">{{i18n@common/DELETE}}</div>\r\n     <div id=\'taskEdit\' data-sfa-class = "taskEdit" class = "{{details/value,sap.sbo.app.task.taskUtil.StatusDisplay}} sap-sbo-task-float-right" >{{i18n@common/EDIT}}</div>\r\n     <div data-sfa-class ="msDone" class = "sap-sbo-task-float-right {{details/value,sap.sbo.app.task.taskUtil.DoneButtonDisplay}}" id = "msDone">{{details/value,sap.sbo.app.task.taskUtil.DoneText}}</div>\r\n   </div>\r\n   <div class = "CompletedBar {{,sap.sbo.app.task.taskUtil.ShowCompletedBar}}">\r\n   <div id=\'taskClose\' data-sfa-class ="taskClose" class = "sap-sbo-task-float-right">{{i18n@common/CLOSE}}</div>\r\n     <div data-sfa-class ="taskDisplayCompleted" id = "taskDisplayCompleted" class = "sap-sbo-task-float-right">{{,sap.sbo.app.task.taskUtil.taskDisplayCompletedText}}</div>\r\n   </div>\r\n </div>\r\n<!--   <hr style = "width:97%;" class = "taskSeparateLine"/>-->\r\n <div data-sfa-class = "taskSetting" class = "taskSetting {{details/value,sap.sbo.app.task.taskUtil.showTaskSettingByType}}">\r\n <div id = "TypeImage" class = "TypeImage" data-sfa-class = "TypeIcon" data-sap-widget = \'sap.ui.widget.Icon\' data-sap-option = "iconURL:{{details/value/type,sap.sbo.app.task.taskUtil.ImageUrlComplete}}"></div>\r\n	<div data-sfa-class = "DueDate">\r\n	<label class = "{{details,sap.sbo.app.task.taskUtil.modeHide}} sap-sbo-task-time-display">{{details/value/endDate,sap.sbo.app.task.taskUtil.DateDisplay}}</label>\r\n	\r\n	<!-- <div id = "dt" data-sap-type="datetime" class = "datetime-local {{details,sap.sbo.app.task.taskUtil.modeDisplay}}" data-sap-widget="sap.sbo.ui.widget.DateTimeField" data-sap-option="value: {{details/value/endDate,sap.sbo.app.task.taskUtil.DatePickForDateTimeField}}" style = "height: 25px"></div>-->\r\n	 <div id = "dt"  data-sap-type="date" data-sap-widget="sap.sbo.ui.widget.DateTimeField" class = "datetime-local sap-sbo-task-dateTime-local {{details,sap.sbo.app.task.taskUtil.modeDisplayBlock}}" value = {{details/value/endDate,sap.sbo.app.task.taskUtil.DatePickToVal}}></div>\r\n	</div>\r\n	 <div data-sfa-class = "BoDesc">\r\n	 <!--  <label id = "BoDesc" class = "sap-sbo-link-bo">\r\n	 {{details/value/relatedBusinessObject,sap.sbo.app.task.taskUtil.getRelatedBoNameAndSequenceNo}}\r\n	 </label>-->\r\n	 <a id = "BoDesc" href=\'javascript:void(0)\' class = "sap-sbo-link-bo" data-sap-widget="sap.sbo.ui.widget.BoLink" data-sap-option="text: {{details/value/relatedBOInfo,sap.sbo.app.task.taskUtil.getRelatedBoNameAndSequenceNo}}, boEntity: {{details/value/relatedBusinessObject,sap.sbo.app.task.taskUtil.getRelatedBoForBoLinkWidget}}">\r\n	 \r\n	 </a>\r\n	  <img id = "removeImg" data-sfa-class = "removeImg" src = "image/task/remove.png" class = "{{details,sap.sbo.app.task.taskUtil.removeImgDisplay}}"/>\r\n	 </div>\r\n	 <div data-sfa-class = "AssigneeCode">\r\n	  <div data-sfa-class="AsigneeImage" data-sap-widget = \'sap.ui.widget.Icon\' \r\n	  data-sap-option = "iconURL:{{details/value,sap.sbo.app.task.taskUtil.PortraitUrl}},text:{{details/value/assigneeDisplayName,sap.sbo.app.task.taskUtil.assigneeDisplayNameConvertor}}"></div>\r\n	 </div>\r\n </div>\r\n	         \r\n           <div class="chooseList" data-sfa-class = "taskDetailsViewChooseType" style="width:130px;" data-sap-widget="sap.sbo.ui.widget.PopupMenu" \r\n            data-sap-option="direction:\'bottom\',targetid:\'\'">\r\n                <div class="sfa-popup-menu-standard">\r\n                    <div key="Phone_Call" style = "margin-top:20px;" class = "popMenuDiv sap-sbo-app-task-taskTypeClass">\r\n                         <img src = "image/task/Phone_Call.png" style = "height:26px;width:26px;"/>\r\n                    </div>\r\n                    <div key="Email" class = "popMenuDiv sap-sbo-app-task-taskTypeClass">\r\n                          <img src = "image/task/Email.png" style = "height:26px;width:26px;"/>\r\n                    </div>\r\n                    <div key="Meeting" class = "popMenuDiv sap-sbo-app-task-taskTypeClass">\r\n                          <img src = "image/task/Meeting.png" style = "height:26px;width:26px;"/>\r\n                    </div>\r\n                    <div key="Task" class = "popMenuDiv sap-sbo-app-task-taskTypeClass">\r\n                          <img src = "image/task/Task.png" style = "height:26px;width:26px;"/>\r\n                    </div>                  \r\n                    <div Key = "Not_Defined" style = "margin-bottom:20px;" class = "popMenuDiv sap-sbo-app-task-taskTypeClass">\r\n                    	  <img src = "image/task/Not_Defined.png" style = "height:26px;width:26px;"/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n	<div data-sfa-class = "AttachText">\r\n				<textarea id=\'myTextArea\' class ="myTextArea {{details,sap.sbo.app.task.taskUtil.modeDisplay}}" placeholder= \'{{details/value/type,sap.sbo.app.task.taskUtil.ShowPlaceHolderText}}\'\r\n        data-sap-widget="sap.sbo.ui.widget.AutoCompletableTextAreaGrp"\r\n        data-sap-option="value:{{details/value/description}},  wrap: \'soft\', readonly: {{details/Mode,sap.sbo.app.task.taskUtil.IsReadonly}}"></textarea>\r\n        <div id = "myTextDiv" class = "myTextDiv {{details,sap.sbo.app.task.taskUtil.modeHide}}">\r\n	    	<div data-sfa-class = "textDivLabel" class="richtextarea">{{!richMediaText}}</div>\r\n	    </div>\r\n	</div>\r\n	\r\n	<div data-sfa-class="content" class = "{{details/value/taskAttachments,sap.sbo.app.task.taskUtil.AttachmentHeight}}">\r\n	 <div data-sfa-class="taskContainer" class = "taskContainer" data-sap-widget="sap.ui.Repeat"  data-sap-option="data:{{details/value/taskAttachments,two-way}}"> 	\r\n	  		<div id="tile" data-sap-template="Content" data-sfa-class="taskAttach" index = "{{_internal_@index}}" data-sfa-tile-id="{{Id}}" >\r\n	  		  <div  data-sfa-class="attachPreviewIcon" class = "attachPreviewIcon" data-sap-widget = \'sap.ui.widget.Icon\'\r\n	  		   data-sap-option = "iconURL:{{previewUrl}},text:{{attachmentFileName,sap.sbo.app.task.taskUtil.attachmentFileName}}"></div>\r\n	      	  <img id = "{{attachmentId}}" class = "sap-sbo-task-hide" data-sfa-class = "attachmentRemove" src = "image/task/remove.png"></img>\r\n	      </div>\r\n	      	\r\n	    </div> \r\n	 </div>\r\n</div>\r\n\r\n\r\n'}),define("html!sap.sbo.page.pad.task.taskList",function(){return'<div data-sfa-class="activities-list">\r\n\r\n	<div id = "taskListLayout" class = "sap-sbo-app-task-list-view" data-sap-widget ="sap.sbo.layout.pad.ListLayout" data-sfa-class="content" data-sap-option="pageSize: 0, source:{{list}}, filter:{{filter}}">\r\n	  		<div data-sap-template="Content" data-sfa-class="tile" data-sfa-tile-id="{{id}}"  status ="{{status}}" class="{{status,sap.sbo.app.task.taskUtil.changeBackgroundColor}}">\r\n	  	   <div data-sfa-class = "task-Header">\r\n	  	   	<div data-sfa-class = "HeaderDiv">\r\n	  	  <!--  <img id = "taskCK" data-sfa-class = "{{,sap.sbo.app.task.taskUtil.taskStatusCK}}" src = "{{status,sap.sbo.app.task.taskUtil.GetSwitchButtonByStatus}}"/> -->\r\n	  	   <div id = "taskCK" class = "sap-sbo-task-DoneCK {{,sap.sbo.app.task.taskUtil.taskStatusCK}}" data-sap-widget = \'sap.ui.widget.Icon\' data-sap-option = "iconURL:{{status,sap.sbo.app.task.taskUtil.GetSwitchButtonByStatus}}" >\r\n	         </div>\r\n	  	   <div data-sfa-class ="ApproveInList" class = "{{,sap.sbo.app.task.taskUtil.SpecialTypeDisplay}}" id = "Approve">{{,sap.sbo.app.task.taskUtil.SetApprovalInListText}}</div>\r\n	       <div data-sfa-class ="ApproveReadOnlyInList" class = "{{,sap.sbo.app.task.taskUtil.GrandReadDisplay}}" id = "ApproveReadOnly">{{,sap.sbo.app.task.taskUtil.SetApprovalInListText2}}</div>\r\n	       <div data-sfa-class ="RejectInList" class = "{{,sap.sbo.app.task.taskUtil.SpecialTypeDisplay}}" id = "Reject" >{{i18n@app/task/REJECT}}</div>\r\n	         <label data-sfa-class ="Approve" class = "{{,sap.sbo.app.task.taskUtil.SpecialTypeStatusDisplay}} approvalText" id = "ShowApprovalStatus" >{{,sap.sbo.app.task.taskUtil.GetTypeString}}</label>	                               \r\n	          <div data-sfa-class = "typeIcon" data-sap-widget = \'sap.ui.widget.Icon\' data-sap-option = "iconURL:{{type,sap.sbo.app.task.taskUtil.ImageUrlComplete}}" \r\n	         class = "{{,sap.sbo.app.task.taskUtil.typeIconDisplay}}">\r\n	         </div>\r\n	         <div class = "{{,sap.sbo.app.task.taskUtil.GetDueDateClassInListView}}" id="taskDueDate" data-sfa-class="{{,sap.sbo.app.task.taskUtil.getDueDataClass}}">\r\n	           {{endDate, sap.sbo.app.task.taskUtil.DateDisplay}} \r\n	         </div> \r\n	        </div>\r\n	        </div>\r\n	        <div data-sfa-class = "ContentWrapper">\r\n	       <div data-sfa-class = "taskContent">\r\n	       <div data-sfa-class="{{,sap.sbo.app.task.taskUtil.getMemoContentClass}}">\r\n	          	<p style = "padding-left:8px;height:77px;line-height:19px !important;padding-top:1px;overflow:hidden;">{{,sap.sbo.app.task.taskUtil.ShortDescWithMemoFileName}}</p>	          	\r\n	          	<p style = "padding-left:8px;top:18px;position:relative;" class = "relatedBOInfoinList">{{relatedBOInfo, sap.sbo.app.task.taskUtil.getRelatedBoInfo}}</p>\r\n	         </div>\r\n	         <div id = "AttachmentImage" data-sfa-class="attachmentIcon" data-sap-widget = \'sap.ui.widget.Icon\' data-sap-option = "iconURL:{{,sap.sbo.app.task.taskUtil.previewUrlFortaskListView}}" \r\n	          class = "{{,sap.sbo.app.task.taskUtil.memoIconDisplayByDescription}} sap-sbo-task-icon">\r\n	         </div>\r\n	       </div> \r\n	       </div>\r\n	  	</div>\r\n	</div> \r\n <div class = "filtertaskDIV">\r\n <div class = "boFilter" style = "display:block;margin-top:10px;">\r\n 		<!--  <div class = "filterTitle"><div style = "display:inline;">{{i18n@app/task/ALL}}</div></div>-->\r\n 		<div class = "filterText" style = "top:0;border-top:0px;" data-filter="bo_all"><div class ="filter_text" >{{i18n@app/task/ALL}}</div></div>\r\n 		<div class = "filterText" style = "top:70px;" data-filter="bo_opened"><div class ="filter_text" >{{i18n@app/task/OPENED}}</div></div>\r\n 		<div class = "filterText" style = "top:140px;" data-filter="bo_done"><div class ="filter_text" >{{i18n@app/task/COMPLETED}}</div></div>\r\n 	</div>\r\n 	<div class = "myFilter" style = "display:block;margin-top:10px;">\r\n 	<!--  	<div class = "filterTitle"><div style = "display:inline;">{{i18n@app/task/TOME}}</div></div>-->\r\n 		<div class = "filterText" style = "top:0;border-top:0px;" data-filter="toMe_all"><div class ="filter_text" >{{i18n@app/task/ALL}}</div></div>\r\n 		<div class = "filterText" style = "top:70px;" data-filter="toMe_opened"><div class ="filter_text" >{{i18n@app/task/MYOPEN}}</div></div>\r\n 		<div class = "filterText" style = "top:140px;" data-filter="toMe_done"><div class ="filter_text" >{{i18n@app/task/MYCOMPLETED}}</div></div>\r\n 		<div class = "filterText"  style = "top:210px;" data-filter="fromMe_all"><div class ="filter_text" >{{i18n@app/task/SENT}}</div></div>\r\n 	</div>\r\n 	<div style = "display:block;margin-top:10px;" class = "customerFilter">	\r\n 		<!--  <div class = "filterTitle"><div style = "display:inline;">{{i18n@app/task/FROMME}}</div></div>-->\r\n 		<div class = "filterText" style = "top:0;border-top:0px;" data-filter="bo_all"><div class ="filter_text"  >{{i18n@app/task/ALL}}</div></div>\r\n 		<div class = "filterText" style = "top:70px;" data-filter="bo_opened"><div class ="filter_text"  >{{i18n@app/task/OPENED}}</div></div>\r\n 		<div class = "filterText" style = "top:140px;" data-filter="bo_done"><div class ="filter_text" >{{i18n@app/task/COMPLETED}}</div></div>\r\n 		<div class = "filterText" style = "top:210px;" data-filter="all_aggregation"><div class ="filter_text" >{{i18n@app/task/RELEATED}}</div></div>\r\n 	</div>\r\n </div>\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.user.BasicInfo",function(){return'<div class="opps-basic-info edit">\r\n    <div ctrl="main"\r\n        class="sbo-app-template-editproperty sbo-app-template-property-info-enable"\r\n        data-sap-widget="sap.sbo.layout.pad.MetadataLayout"\r\n        data-sap-option="verticalPadding: 20, horizontalPadding: 100, colWidth:250, ignoredProperty: [\'employeeID\', \'internalKey\', \'userCode\', \'officeExtension\', \'userPassword\', \'keyUser\', \'superuser\', \'locked\', \'passwordNeverExpires\',\'viewRPriceLists\', \'changePasswordAtNextLogin\', \'portraitId\', \'managerDisplayName\', \'displayName\']"\r\n    >\r\n        <div data-sap-template="Content">\r\n            <div data-sap-template="Property" property="picture" option=\'{"group": "basic"}\'></div>\r\n            <div data-sap-template="Property" property="lastName" option=\'{"group": "basic"}\'></div>\r\n            <div data-sap-template="Property" property="firstName" option=\'{"group": "basic"}\'></div>\r\n            <div data-sap-template="Property" property="jobTitle" option=\'{"group": "basic"}\'></div>\r\n            <div data-sap-template="Property" property="manager" option=\'{"group": "basic"}\'></div>\r\n\r\n            <div data-sap-template="Property" property="mobilePhone" option=\'{"group": "company"}\'></div>\r\n            <div data-sap-template="Property" property="officePhone" option=\'{"group": "company"}\'></div>\r\n            <div data-sap-template="Property" property="eMail" option=\'{"group": "company"}\'></div>\r\n            <div data-sap-template="Property" property="bakEMail" option=\'{"group": "company"}\'></div>\r\n\r\n            <div data-sap-template="Property" property="systemEmail" option=\'{"group": "system"}\'></div>\r\n        </div>\r\n        <div data-sap-template="PropertyTemplate">\r\n            <div data-sap-template="[officePhone]">\r\n                <div class="writable string key-value">\r\n			        <div class="key">\r\n                        <div class="key-label">{{i18n@page/user/officePhone}} - {{i18n@page/user/officeExt}}</div>\r\n                    </div>\r\n			        <div class="value">\r\n			            <input type="text" data-sap-widget="sap.ui.widget.TextField" style="width:150px;"\r\n			                data-sap-option="value: {{officePhone, two-way}}, nullable: true, liveChange:true" /> -\r\n			            <input type="text" data-sap-widget="sap.ui.widget.TextField" style="width:108px;"\r\n			                data-sap-option="value: {{officeExtension, two-way}}, nullable: true, liveChange:true" />\r\n			        </div>\r\n			    </div>\r\n			    <div class="readonly string key-value">\r\n			        <div class="key" >\r\n                        <div class="key-label">{{i18n@page/user/officePhone}} - {{i18n@page/user/officeExt}}</div>\r\n                    </div>\r\n			        <div class="value">\r\n			            {{officePhone}} - {{officeExtension}}\r\n			        </div>\r\n			    </div>\r\n            </div>\r\n\r\n            <div data-sap-template="[manager]">\r\n                <div class="writable string key-value">\r\n			        <div class="key">\r\n                        <div class="key-label">{{$label}}</div>\r\n                    </div>\r\n			        <div class="value">\r\n			            {{managerDisplayName}}\r\n			        </div>\r\n			    </div>\r\n			    <div class="readonly string key-value">\r\n			        <div class="key" >\r\n                        <div class="key-label">{{$label}}</div>\r\n                    </div>\r\n			        <div class="value">\r\n			            {{managerDisplayName}}\r\n			        </div>\r\n			    </div>\r\n            </div>\r\n\r\n            <div data-sap-template="[systemEmail]">\r\n                <div class="writable string key-value">\r\n			        <div class="key">\r\n                        <div class="key-label">{{$label}}</div>\r\n                    </div>\r\n			        <div class="value">\r\n			            {{systemEmail}}\r\n			        </div>\r\n			    </div>\r\n			    <div class="readonly string key-value">\r\n			        <div class="key" >\r\n                        <div class="key-label">{{$label}}</div>\r\n                    </div>\r\n			        <div class="value">\r\n			            {{systemEmail}}\r\n			        </div>\r\n			    </div>\r\n            </div>\r\n\r\n            <div data-sap-template="[picture]">\r\n                <div class="readonly string key-value">\r\n                    <div class="value">\r\n                        <div class="portrait">\r\n                          <div data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{, sap.sbo.util.formatter.getUserPortraitByID}},radius:"28px",width:"56px",inlineStyle:"max-width: 56px;",arrangeType:"both"\' ></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.user.UserCreation",function(){return'<div class="sbo-bo-creation sfa-user-creation">\r\n    <div class="topbar">\r\n        <div id="btnSaveOpen0">{{i18n@page/button/done}}</div>\r\n        <div id="btnCancel0">{{i18n@app/network/btnCancel}}</div>\r\n    </div>\r\n    <div class="title">\r\n        {{i18n@page/user/newUser}}\r\n    </div>\r\n    <div class="sfa-user-creation-fields">\r\n        <div class="field">\r\n            <div class="key">{{i18n@page/user/lastN}}</div>\r\n            <div class="value"><input class="ipt" id="lastName" data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{lastName,two-way}},nullable:true"></div>\r\n        </div>\r\n        <div class="field">\r\n            <div class="key">{{i18n@page/user/firstN}}</div>\r\n            <div class="value"><input class="ipt" id="firstName" data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{firstName,two-way}},nullable:true"></div>\r\n        </div>\r\n        <div class="field">\r\n            <div class="key">{{i18n@page/user/email}}</div>\r\n            <div class="value"><input class="ipt" id="eMail" data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{eMail,two-way}},nullable:true"></div>\r\n        </div>\r\n        <div class="field">\r\n            <div class="key" id="f1">{{i18n@page/user/mobile}}</div>\r\n            <div class="value"><input class="ipt" id="mobilePhone" data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{mobilePhone,two-way}},nullable:true"></div>\r\n        </div>\r\n        <div class="field">\r\n            <div class="key" id="f2">{{i18n@page/user/keyUser}}</div>\r\n            <div class="value">\r\n                <div data-sap-widget="sap.sbo.ui.widget.SliderButton" data-sap-option="value:{{keyUser,sap.sbo.util.formatter.bool_string,two-way}}"></div>\r\n            </div>    \r\n        </div>\r\n        <div style="clear:both"></div>\r\n    </div>\r\n    <div class="sfa-user-creation-action">\r\n        <button id="btnCancel" style="display:none;" data-sap-widget="sap.ui.widget.Button" data-sap-option="text: {{i18n@page/button/save}}"></button>\r\n        <button id="btnSaveOpen" style="display:none;" data-sap-widget="sap.ui.widget.Button" data-sap-option="text: {{i18n@app/network/btnCancel}}"></button>\r\n    </div>\r\n</div>'}),define("html!sap.sbo.page.pad.user.UserEdit",function(){return'<div>\r\n	<div ctrl="main" \r\n        class="sbo-app-template-editproperty sbo-app-template-property-info-enable"\r\n        data-sap-widget="sap.sbo.layout.pad.MetadataLayout" \r\n        data-sap-option="verticalPadding: 20, horizontalPadding: 100, colWidth:250, ignoredProperty:[\'employeeID\',\'internalKey\',\'userCode\',\'portraitId\',\'officeExtension\',\'displayName\',\'superuser\',\'userPassword\',\'managerDisplayName\',\'passwordNeverExpires\',\'changePasswordAtNextLogin\']">\r\n        <div data-sap-template="Content">\r\n            <div data-sap-template="Property" property="picture" option=\'{"group": "basic"}\'></div>\r\n            <div data-sap-template="Property" property="lastName" option=\'{"group": "basic"}\'></div>\r\n            <div data-sap-template="Property" property="firstName" option=\'{"group": "basic"}\'></div>\r\n            <div data-sap-template="Property" property="jobTitle" option=\'{"group": "basic"}\'></div>\r\n            <div data-sap-template="Property" property="manager" option=\'{"group": "basic"}\'></div>\r\n\r\n            <div data-sap-template="Property" property="mobilePhone" option=\'{"group": "company"}\'></div>\r\n            <div data-sap-template="Property" property="officePhone" option=\'{"group": "company"}\'></div>\r\n            <div data-sap-template="Property" property="eMail" option=\'{"group": "company"}\'></div>\r\n            <div data-sap-template="Property" property="bakEMail" option=\'{"group": "company"}\'></div>\r\n            \r\n            <div data-sap-template="Property" property="locked" option=\'{"group": "security"}\'></div>\r\n            <div data-sap-template="Property" property="keyUser" option=\'{"group": "security"}\'></div>\r\n            <div data-sap-template="Property" property="viewRPriceLists" option=\'{"group": "security"}\'></div>\r\n\r\n            <div data-sap-template="Property" property="systemEmail" option=\'{"group": "system"}\'></div>\r\n        </div>\r\n        <div data-sap-template="PropertyTemplate" class="template">  \r\n            <div data-sap-template="String[officePhone]">\r\n                <div class="writable key-value">\r\n		            <div class="key">\r\n                        <div class="key-label">{{i18n@page/user/officePhone}} - {{i18n@page/user/officeExt}}</div>\r\n                    </div>\r\n		            <div class="value">\r\n		                <input type="text" data-sap-widget="sap.ui.widget.TextField" style="width:120px"\r\n		                    data-sap-option="value: {{officePhone, two-way}}, nullable: true, liveChange:true" /> - \r\n		                <input type="text" data-sap-widget="sap.ui.widget.TextField" style="width:80px"\r\n		                    data-sap-option="value: {{officeExtension, two-way}}, nullable: true, liveChange:true" />\r\n		            </div>\r\n		        </div>\r\n		        <div class="readonly key-value">\r\n		            <div class="key" >\r\n                        <div class="key-label">{{i18n@page/user/officePhone}} - {{i18n@page/user/officeExt}}</div>\r\n                    </div>\r\n		            <div class="value">\r\n		                {{officePhone}} - {{officeExtension}}\r\n		            </div>\r\n		        </div>\r\n                \r\n            </div>\r\n            <div data-sap-template="[manager]">\r\n                <div class="writable key-value">\r\n			        <div class="key">\r\n                        <div class="key-label">{{i18n@page/user/manager}}</div>\r\n                    </div>\r\n			        <div class="value">\r\n			            <div data-id="manager"\r\n                            data-sap-widget="sap.ui.widget.ValueHelpField"\r\n                            data-sap-option="value: {{managerDisplayName}}, readonly:true"></div>\r\n			        </div>\r\n			    </div>\r\n			    <div class="readonly key-value">\r\n			        <div class="key" >\r\n                        <div class="key-label">{{i18n@page/user/manager}}</div>\r\n                    </div>\r\n			        <div class="value">\r\n			            {{managerDisplayName}}\r\n			        </div>\r\n			    </div>\r\n            </div> \r\n\r\n            <div data-sap-template="[keyUser]">\r\n                <div class="writable key-value">\r\n                    <div class="key">{{i18n@page/user/keyUser}}</div>\r\n			        <div class="value">\r\n			            <span><div data-sap-widget="sap.sbo.ui.widget.SliderButton" data-sap-option="value:{{keyUser,sap.sbo.util.formatter.bool_string,two-way}}"></div></span>\r\n			        </div>\r\n			    </div>\r\n                <div class="readonly key-value">\r\n                    <div class="key">{{i18n@page/user/keyUser}}</div>\r\n                    <div class="value">\r\n                        <span><div data-sap-widget="sap.sbo.ui.widget.SliderButton" data-sap-option="value:{{keyUser,sap.sbo.util.formatter.bool_string,two-way}}, disabled:true"></div></span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div data-sap-template="[viewRPriceLists]">\r\n                <div class="writable key-value">\r\n                    <div class="key">{{$label}}</div>\r\n			        <div class="value">\r\n			            <span><div data-sap-widget="sap.sbo.ui.widget.SliderButton" data-sap-option="value:{{viewRPriceLists,sap.sbo.util.formatter.bool_string,two-way}}, disabled: {{, formatter.cannotChangePriceList}}"></div></span>\r\n			        </div>\r\n			    </div>\r\n                <div class="readonly key-value">\r\n                    <div class="key">{{$label}}</div>\r\n                    <div class="value">\r\n                        <span><div data-sap-widget="sap.sbo.ui.widget.SliderButton" data-sap-option="value:{{viewRPriceLists,sap.sbo.util.formatter.bool_string,two-way}}, disabled:true"></div></span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n            <div data-sap-template="[systemEmail]">\r\n                <div class="readonly key-value">\r\n                    <div class="key">{{$label}}</div>\r\n                    <div class="value">\r\n                        {{systemEmail}}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n			\r\n            <div data-sap-template="[locked]">\r\n                <div class="writable key-value">\r\n                    <div class="key">{{i18n@page/user/lockUser}}</div>\r\n			        <div class="value">\r\n			            <span><div data-sap-widget="sap.sbo.ui.widget.SliderButton" data-sap-option="value:{{locked,sap.sbo.util.formatter.bool_string,two-way}}"></div></span>\r\n			        </div>\r\n			    </div>\r\n                <div class="readonly key-value">\r\n                    <div class="key">{{i18n@page/user/lockUser}}</div>\r\n                    <div class="value">\r\n                        <span><div data-sap-widget="sap.sbo.ui.widget.SliderButton" data-sap-option="value:{{locked,sap.sbo.util.formatter.bool_string,two-way}}, disabled:true"></div></span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n            <div data-sap-template="[picture]">\r\n                <div class="readonly key-value">\r\n                    <div class="value">\r\n                        <div class="portrait_useredit">\r\n                            <div data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{, sap.sbo.util.formatter.getUserPortraitByID}},radius:"28px",width:"56px",inlineStyle:"max-width: 56px;",arrangeType:"both"\' ></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div> \r\n    </div>\r\n</div>'}),define("html!sap.sbo.page.pad.user.UserList",function(){return'<div class="userListView">\r\n	<div  id="scroll-panel">\r\n		<div class="table">\r\n			<div class="table-header">\r\n				<div class="table-column" columnId="0">{{i18n@page/user/photo}}</div>\r\n				<div class="table-column" columnId="1">{{i18n@app/settings/NAME}}</div>\r\n				<div class="table-column" columnId="2">{{i18n@page/user/jobTitle}}</div>\r\n				<div class="table-column" columnId="3">{{i18n@page/user/keyUser}}</div>\r\n			</div>\r\n			\r\n			<div id="userList-table" data-sap-widget="sap.ui.Repeat" data-sap-option=\'data: {{data/value,two-way}}\' >\r\n				<div class="table-row" data-sap-template="Content">\r\n					<div class="table-column" columnId="0">\r\n	                    <img id="" src="{{, sap.sbo.util.formatter.getUserPortraitByID}}" alt=""/>\r\n	                </div>\r\n					<div class="table-column" columnId="1">{{displayName}}</div>\r\n					<div class="table-column" columnId="2">{{jobTitle}}</div>\r\n					<div id="sliderButtonColumn" class="table-column" columnId="3" >\r\n				        <div data-sap-widget="sap.sbo.ui.widget.SliderButton" data-sap-option="value:{{keyUser,sap.sbo.util.formatter.bool_string,two-way}}"></div>\r\n					</div>\r\n					<div class="table-column goto-icon" columnId="4"></div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n		\r\n		<div id="add-new-bo-link" class="table-row row-normal">\r\n			<div class="table-column" >{{i18n@pad/user/newUser}}</div>\r\n			<div class="table-column goto-icon" columnId="4"></div>\r\n		</div>\r\n	</div>\r\n</div>'
}),define("html!sap.sbo.page.pad.user.UserPortrait",function(){return'<div class="user_portrait">\r\n    <div class="toolbar">\r\n        <div class="upload-file" data-touchable=\'true\' data-sap-widget="sap.sbo.ui.widget.UploadButton" style="display:{{isDesktop}}" data-sap-option="url:{{, formatter.getUrl}}, accept: \'image/*\', autoupload: true , cropimage: true" ></div>\r\n        <div class="photo-pick" data-sap-widget="sap.sbo.ui.widget.PhotoPicker" style="display:{{isPad}}"  data-sap-option="resourcetype:\'camera\', url:{{, formatter.getUrl}}"></div>\r\n        <div class="sep" style="display:{{isPad}}">&nbsp;</div>\r\n        <div class="photo-album" data-sap-widget="sap.sbo.ui.widget.PhotoPicker" style="display:{{isPad}}"  data-sap-option="resourcetype:\'album\', url:{{, formatter.getUrl}}"></div>\r\n\r\n        <div class="cancel">{{i18n@app/network/btnClose}}</div>\r\n    </div>\r\n    <div class="preview">\r\n        <div class="container"></div>\r\n    </div>\r\n</div>'}),define("html!sap.sbo.page.pad.Customer.CustomerCreation",function(){return'<div class=\'sbo-bo-creation-frame\'>\r\n    <div class="title">\r\n        {{i18n@app/customer/NEW_CUSTOMER}}\r\n    </div>\r\n    <div class="fields">\r\n        <div ctrl="main"\r\n            class="sbo-app-template-editproperty" \r\n            data-sap-widget="sap.sbo.layout.pad.MetadataList" \r\n            data-sap-option="verticalPadding: 5, ignoredProperty:[\'contactPerson\',\'ownerCode\',\'shipToDefault\',\'billtoDefault\',\'isActive\',\'discountPercent\',\'industry\',\'OwnerEmployeeFirstName\',\'OwnerEmployeeLastName\',\'BusinessPartnerGroupName\',\'portraitId\',\'IndustryDescription\',\'PriceListName\',\'OwnerEmployeeDisplayName\',\'vatLiable\',\'vatGroup\',\'vatGroupName\',\'shippingType\',\'shiptypeName\']"\r\n        >            \r\n        \r\n        <div data-sap-template="Content">\r\n            <div data-sap-template="Property" property="cardCode" option=\'{"readOnly":false}\'></div>          \r\n            <div data-sap-template="Property" property="cardName"></div>\r\n            <div data-sap-template="Property" property="prospect"></div>\r\n            <div data-sap-template="Property" property="groupCode"></div>\r\n            <div data-sap-template="Property" property="priceListNum"></div>\r\n            <div data-sap-template="Property" property="phone1"></div>\r\n            <div data-sap-template="Property" property="phone2"></div>\r\n            <div data-sap-template="Property" property="emailAddress"></div>\r\n            <div data-sap-template="Property" property="website"></div>\r\n            <div data-sap-template="Property" property="fax"></div>\r\n        </div>  \r\n              \r\n            <div data-sap-template=\'PropertyTemplate\'>     \r\n                <div data-sap-template="Integer[groupCode]">\r\n                    <div class="string key-value">\r\n	                    <div class="key"\r\n	                        gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n	                        <div class="key-label">{{$label}}</div>\r\n	                        <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n	                    </div>\r\n	                    <div class="value">\r\n	                        <div data-sap-widget="sap.ui.widget.DropDownBox"\r\n	                            data-sap-option="textField: \'name\', valueField: \'code\', data: {{list@bpgroups}}, selectedValue:{{groupCode, two-way}}" style="width:100%;">\r\n	                        </div>\r\n	                    </div>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div data-sap-template="Integer[priceListNum]">\r\n                    <div class="string key-value">\r\n                        <div class="key"\r\n                            gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                            <div class="key-label">{{$label}}</div>\r\n                            <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                        </div>\r\n                        <div class="value">\r\n                            <div data-sap-widget="sap.ui.widget.DropDownBox"\r\n                                data-sap-option="textField: \'priceListName\', valueField: \'priceListNo\', data: {{list@pricelist}}, selectedValue:{{priceListNum, two-way}}" style="width:100%;">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                \r\n            <div data-sap-template="BoYesNoEnum[prospect]">\r\n                <div class="key-value">\r\n                    <div class="key"\r\n                        gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                        <div class="key-label">{{$label}}</div>\r\n                        <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                    </div>\r\n                    <div class="value" data-id="RELATIONSHIP">\r\n                        <span class="choose left" flag="{{prospect,formatter.prospect_customer}}">{{i18n@app/customer/CUSTOMER}}</span>\r\n                        <span class="choose right" flag="{{prospect,formatter.prospect_prospect}}">{{i18n@app/customer/PROSPECT}}</span>\r\n                    </div>\r\n                </div>\r\n            </div>                \r\n            </div>\r\n            \r\n        </div>\r\n    </div>\r\n    <div class="action">\r\n        <button ctrl="btnCancel" data-touchable=\'true\' data-sap-widget="sap.ui.widget.Button" data-sap-option="text: {{i18n@common/CANCEL}}"></button>\r\n        <button ctrl="btnSaveOpen" data-touchable=\'true\' data-sap-widget="sap.ui.widget.Button" data-sap-option="text: {{i18n@app/SAVE_VIEW}}"></button>\r\n        \r\n    </div>\r\n\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.Customer.CustomerEdit",function(){return'<div>\r\n    <div ctrl="main"\r\n        class="sbo-app-template-editproperty sbo-app-template-property-info-enable"\r\n        data-sap-widget="sap.sbo.layout.pad.MetadataLayout" \r\n        data-sap-option="ignoredProperty: [\'address\',\'zipCode\',\'contactPerson\',\'city\',\'county\',\'country\',\'block\',\'billtoDefault\',\'shipToDefault\',\'OwnerEmployeeFirstName\',\'OwnerEmployeeLastName\',\'BusinessPartnerGroupName\',\'portraitId\',\'IndustryDescription\',\'PriceListName\',\'OwnerEmployeeDisplayName\',\'vatGroupName\',\'shiptypeName\']"\r\n    >\r\n    \r\n    <div data-sap-template="Content">\r\n        <div data-sap-template="Property" property="cardCode" option=\'{"group":"basic"}\'></div>\r\n        <div data-sap-template="Property" property="cardName" option=\'{"group":"basic"}\'></div>        \r\n        <div data-sap-template="Property" property="prospect" option=\'{"group":"basic"}\'></div>\r\n        <div data-sap-template="Property" property="industry" option=\'{"group":"basic"}\'></div>\r\n        <div data-sap-template="Property" property="groupCode" option=\'{"group":"basic"}\'></div>\r\n        <div data-sap-template="Property" property="ownerCode" option=\'{"group":"status"}\'></div>\r\n        <div data-sap-template="Property" property="isActive" option=\'{"group":"status"}\'></div>                    \r\n        <div data-sap-template="Property" property="phone1" option=\'{"group":"communicationWay"}\'></div>    \r\n        <div data-sap-template="Property" property="phone2" option=\'{"group":"communicationWay"}\'></div>\r\n        <div data-sap-template="Property" property="fax" option=\'{"group":"communicationWay"}\'></div>\r\n        <div data-sap-template="Property" property="emailAddress" option=\'{"group":"communicationWay"}\'></div>\r\n        <div data-sap-template="Property" property="website" option=\'{"group":"communicationWay"}\'></div>\r\n        <div data-sap-template="Property" property="priceListNum" option=\'{"group":"price"}\'></div>\r\n        <div data-sap-template="Property" property="discountPercent" option=\'{"group":"price"}\'></div>        \r\n        <div data-sap-template="Property" property="vatLiable" option=\'{"group":"tax"}\'></div>\r\n        <div data-sap-template="Property" property="vatGroup" option=\'{"group":"tax"}\'></div>               \r\n    </div>    \r\n       \r\n        <div data-sap-template="PropertyTemplate">	  \r\n            <div data-sap-template="[ownerCode]">\r\n		        <div class="key-value">\r\n		          <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n		          <div class="value">\r\n		            <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n		              data-sap-option="iconUrl:{{owner@OwnerImage/url}}, text:{{OwnerEmployeeDisplayName}}, readonly:{{$readOnly}}, inNavigationMode:{{meta@readonly}}"\r\n		              ></div>\r\n		          </div>\r\n		        </div>                \r\n            </div>\r\n                    	               \r\n            <div data-sap-template="Integer[industry]">\r\n                <div class="writable key-value">\r\n                    <div class="key"\r\n                        gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                        <div class="key-label">{{$label}}</div>\r\n                        <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                    </div>\r\n                    <div class="value">\r\n                        <div data-sap-widget="sap.ui.widget.DropDownBox"\r\n                            data-sap-option="textField: \'industryDescription\', valueField: \'industryCode\', data: {{list@industry}}, selectedValue:{{industry, two-way}}">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="readonly key-value">\r\n                    <div class="key"\r\n                        gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                        <div class="key-label">{{$label}}</div>\r\n                        <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                    </div>\r\n                    <div class=\'value\'>\r\n                        <div>{{IndustryDescription}}&nbsp;</div>\r\n                    </div>\r\n                </div>\r\n            </div>            \r\n            \r\n            <div data-sap-template="Integer[groupCode]">\r\n                <div class="writable key-value">\r\n                    <div class="key"\r\n                        gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                        <div class="key-label">{{$label}}</div>\r\n                        <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                    </div>\r\n                    <div class="value">\r\n                        <div data-sap-widget="sap.ui.widget.DropDownBox"\r\n                            data-sap-option="textField: \'name\', valueField: \'code\', data: {{list@bpgroups}}, selectedValue:{{groupCode, two-way}}">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="readonly key-value">\r\n                    <div class="key"\r\n                        gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                        <div class="key-label">{{$label}}</div>\r\n                        <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                    </div>\r\n                    <div class=\'value\'>\r\n                        <div>{{BusinessPartnerGroupName}}&nbsp;</div>\r\n                    </div>    \r\n                </div>\r\n            </div>\r\n            \r\n            <div data-sap-template="String[vatGroup]">\r\n                <div class="writable key-value">\r\n                    <div class="key"\r\n                        gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                        <div class="key-label">{{$label}}</div>\r\n                        <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                    </div>\r\n                    <div class="value">\r\n                        <div data-sap-widget="sap.ui.widget.DropDownBox"\r\n                            data-sap-option="textField: \'name\', valueField: \'code\', data: {{list@vatGroup}}, selectedValue:{{vatGroup, two-way}}, nullable: true">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="readonly key-value">\r\n                    <div class="key"\r\n                        gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                        <div class="key-label">{{$label}}</div>\r\n                        <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                    </div>\r\n                    <div class=\'value\'>\r\n                        <div>{{vatGroupName}}&nbsp;</div>\r\n                    </div>    \r\n                </div>\r\n            </div>\r\n                                     \r\n            <div data-sap-template="BoVatStatus[vatLiable]">\r\n                <div class="writable key-value">\r\n                    <div class="key"\r\n                        gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                        <div class="key-label">{{$label}}</div>\r\n                        <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                    </div>\r\n                    <div class="value">\r\n                        <div data-sap-widget="sap.ui.widget.DropDownBox"\r\n                            data-sap-option="textField: \'name\', valueField: \'code\', data: {{list@vatStatusList}}, selectedValue:{{vatLiable, two-way}}">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="readonly key-value">\r\n                    <div class="key"\r\n                        gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                        <div class="key-label">{{$label}}</div>\r\n                        <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                    </div>\r\n                    <div class=\'value\'>\r\n                        <div>{{vatLiable, formatter.vatStatusDesc}}&nbsp;</div>\r\n                    </div>    \r\n                </div>\r\n            </div>                        \r\n\r\n            <div data-sap-template="Integer[priceListNum]">\r\n                <div class="writable key-value">\r\n                    <div class="key"\r\n                        gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                        <div class="key-label">{{$label}}</div>\r\n                        <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                    </div>\r\n                    <div class="value">\r\n                         <div data-sap-widget="sap.ui.widget.DropDownBox"\r\n                            data-sap-option="textField: \'priceListName\', valueField: \'priceListNo\', data: {{list@pricelist}}, selectedValue:{{priceListNum, two-way}}">\r\n                         </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="readonly key-value">\r\n                    <div class="key"\r\n                        gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                        <div class="key-label">{{$label}}</div>\r\n                        <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                    </div>\r\n                    <div class=\'value\'>\r\n                        <div>{{PriceListName}}&nbsp;</div>\r\n                    </div>    \r\n                </div>\r\n            </div>\r\n\r\n            <div data-sap-template="BoYesNoEnum[prospect]">\r\n                <div class="writable key-value">\r\n                    <div class="key"\r\n                        gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                        <div class="key-label">{{$label}}</div>\r\n                        <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                    </div>\r\n                    <div class="value" data-id="RELATIONSHIP">\r\n                        <span class="choose left" flag="{{prospect,formatter.prospect_customer}}">{{i18n@app/customer/CUSTOMER}}</span>\r\n                        <span class="choose right" flag="{{prospect,formatter.prospect_prospect}}">{{i18n@app/customer/PROSPECT}}</span>\r\n                    </div>\r\n                </div>\r\n                <div class="readonly key-value">\r\n                    <div class="key"\r\n                        gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                        <div class="key-label">{{$label}}</div>\r\n                        <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                    </div>\r\n                    <div class="value">\r\n                        <div>{{prospect,formatter.prospect}}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div data-sap-template="BoYesNoEnum[isActive]">\r\n	             <div class="writable key-value">\r\n	                <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n	                 <div class="value">\r\n	                    <span boEditId=\'rightInfo\' class=\'changeStatus\' boEditId=\'hyperLink\' \r\n                    data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{#PROPERTY#, sap.sbo.util.formatter.getActiveImg}}, arrangeType:"original" \' ></span>\r\n	                    <span>{{#PROPERTY#,sap.sbo.util.formatter.isActive}}</span>     \r\n	                 </div> \r\n	             </div>\r\n	             \r\n	            <div class="readonly key-value">\r\n	             <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n	             <div class="value">\r\n	                <div>{{#PROPERTY#,sap.sbo.util.formatter.isActive}}</div>\r\n	             </div>\r\n	            </div> \r\n            </div>\r\n        </div>\r\n        \r\n    </div>\r\n\r\n</div>\r\n<!-- , ignoredProperty: [ \'cardType\',\'vatLiable\',\'deductibleAtSource\',\'fatherType\',\'frozen\',\'backOrder\',\'partialDelivery\',\'blockDunning\',\'collectionAuthorization\',\'singlePayment\',\'paymentBlock\',\'deferredTax\',\'equalization\',\'subjectToWithholdingTax\',\'accrualCriteria\',\'companyPrivate\',\'taxRoundingRule\',\'properties1\',\'properties2\',\'properties3\',\'properties4\',\'properties5\',\'properties6\',\'properties7\',\'properties8\',\'properties9\',\'properties10\',\'properties11\',\'properties12\',\'properties13\',\'properties14\',\'properties15\',\'properties16\',\'properties17\',\'properties18\',\'properties19\',\'properties20\',\'properties21\',\'properties22\',\'properties23\',\'properties24\',\'properties25\',\'properties26\',\'properties27\',\'properties28\',\'properties29\',\'properties30\',\'properties31\',\'properties32\',\'properties33\',\'properties34\',\'properties35\',\'properties36\',\'properties37\',\'properties38\',\'properties39\',\'properties40\',\'properties41\',\'properties42\',\'properties43\',\'properties44\',\'properties45\',\'properties46\',\'properties47\',\'properties48\',\'properties49\',\'properties50\',\'properties51\',\'properties52\',\'properties53\',\'properties54\',\'properties55\',\'properties56\',\'properties57\',\'properties58\',\'properties59\',\'properties60\',\'properties61\',\'properties62\',\'properties63\',\'properties64\',\'discountBaseObject\',\'discountRelations\',\'typeReport\',\'thresholdOverlook\',\'operationCode347\',\'insuranceOperation347\',\'hierarchicalDeduction\',\'shaamGroup\',\'withholdingTaxCertified\',\'bookkeepingCertified\',\'affiliate\',\'datevFirstDataEntry\',\'automaticPosting\',\'effectiveDiscount\',\'noDiscounts\',\'surchargeOverlook\'] -->\r\n'}),define("html!sap.sbo.page.pad.Customer.CustomerHome",function(){return'<div class=\'sbo-customer-home sbo-bo-home\'>\r\n\r\n    <div ctrl=\'layout\' class=\'sbo-bo-home-layout\'\r\n    data-sap-widget="sap.sbo.layout.pad.AdvancedTilesLayout"\r\n    data-sap-option="">\r\n        <div data-sap-template="Html" mode="2x2" coordinate="1,4" mode-pad="2x2" coordinate-pad="3,2" uuid="sbo.customerReport" >\r\n          <div data-sap-widget="sap.sbo.ui.widget.ReportWidget" data-sap-command="reportModel@chart.click:showlargeone" data-sap-option="forceFilter:true,filterData:{{reportModel@filterData}},legendVisible:false,reportId:\'2\'"></div>\r\n        </div>\r\n        <div data-sap-template="Html"mode="2x6" coordinate="0,0" mode-pad="2x6" coordinate-pad="0,0" uuid="general">\r\n            <div  field="basicInfo"\r\n                class="sbo-bo-tile bo-tile-profile sbo-app-template-tileproperty sbo-app-template-editproperty"\r\n                data-sap-widget="sap.sbo.layout.pad.MetadataRaw"\r\n                data-sap-option="sequenceAutoExpand:false"\r\n            >\r\n                <div class="title">\r\n                    {{i18n@app/BASIC}}\r\n                </div>\r\n\r\n                <div uuid="logo" class="img" data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{Image/url}}, radius:"50%", arrangeType:"both" \' ></div>\r\n\r\n                <div data-sap-template="Content">\r\n                    <div data-sap-template="Property" property="prospect" ></div>\r\n                    <div data-sap-template="Property" property="groupCode" ></div>\r\n                    <div data-sap-template="Property" property="phone1" ></div>\r\n                    <div data-sap-template="Property" property="phone2" ></div>\r\n                </div>\r\n\r\n                <div data-sap-template="PropertyTemplate">\r\n\r\n                    <div data-sap-template="[groupCode]">\r\n                    <div class="key-value readonly">\r\n                            <div class="key"\r\n                                gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                                <div class="key-label">{{$label}}</div>\r\n                                <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                            </div>\r\n                            <div class=\'value\'><span>{{BusinessPartnerGroupName}}&nbsp;</span></div>\r\n                    </div>\r\n                    </div>\r\n\r\n                    <div data-sap-template="[prospect]">\r\n                    <div class="key-value readonly">\r\n                            <div class="key"\r\n                                gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                                <div class="key-label">{{$label}}</div>\r\n                                <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                            </div>\r\n                            <div class=\'value\'><span>{{#PROPERTY#, formatter.string_prospect}}</span></div>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div data-sap-template="Html" mode="2x4" coordinate="1,0" mode-pad="2x4" coordinate-pad="1,0" uuid="contact">\r\n           	<div class="sbo-bo-tile contact sbo-bo-tile-{{contactEmployees/length}}" field="contact">\r\n                <div class="title contact listEntrance">\r\n                    {{i18n@app/customer/CONTACTS}}\r\n                </div>\r\n                <div class="number contact listEntrance">\r\n                    <div class="value">{{contactEmployees/length, sap.sbo.util.formatter.circleNumber_more}}</div>\r\n                </div>\r\n                <div class="info contact homeEntrance sbo-bo-tile-{{contactEmployees/length}}">\r\n                    <div class=\'header\'>\r\n                       <div class="index">{{Related@position}}&nbsp;</div>\r\n	                   <div class="title">{{Related@displayName}} </div>\r\n	                </div>\r\n	                <div class="btn-main">{{!contactEmployees/length, formatter.getMainImg}}</div>\r\n		            <div class=\'avatar-container\'>\r\n		                <img display="{{Related@Image/showImg}}" class="avatar" src="{{Related@Image/url}}" />\r\n		            </div>\r\n		            <div class="details">\r\n		                <div class=\'field\' data-show="{{Related@mobileShow}}">\r\n		                    <img class="icon" src="./image/common/mobile.png"/>\r\n		                    <span class="info">{{Related@mobilePhone}}</span>\r\n		                </div>\r\n\r\n		                <div class=\'field\' data-show="{{Related@phoneShow}}">\r\n		                    <img class="icon"  src="./image/common/phone.png"/>\r\n		                    <span class="info">{{Related@phone1}}</span>\r\n		                </div>\r\n\r\n		                <div class=\'field\' data-show="{{Related@faxShow}}">\r\n		                    <img class=\'icon\' src="./image/common/fax.png"/>\r\n		                    <span class="info">{{Related@fax}}</span>\r\n		                </div>\r\n\r\n		                <div class=\'field\' data-show="{{Related@emailShow}}">\r\n		                    <img class="icon"  src="./image/common/email.png"/>\r\n		                    <span class="info">{{Related@e_Mail}}</span>\r\n		                </div>\r\n		            </div>\r\n                </div>\r\n                <div style="display: none;" class="emptyInfo sbo-bo-tile-{{contactEmployees/length}}" data-id="createContact">\r\n                    <div class="empty-container">\r\n	                    <a class="add-icon"></a>\r\n	                    <div>{{Related@contact/empty_string1}}</div>\r\n	                    <div>{{Related@contact/empty_string2}}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div data-sap-template="Html" mode="2x2" coordinate="0,3" mode-pad="2x2" coordinate-pad="1,2" uuid="address">\r\n           	<div class="sbo-bo-tile address sbo-bo-tile-{{bPAddresses/length}}" field="address">\r\n                <div class="title">\r\n                    {{i18n@app/contact/ADDRESSES}}\r\n                </div>\r\n                <div class="number">\r\n                    <div class="value">{{bPAddresses/length, sap.sbo.util.formatter.circleNumber_more}}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div data-sap-template="View" mode="2x4" coordinate="1,2" mode-pad="2x2" coordinate-pad="2,0" uuid="activity" name="sap.sbo.app.task.taskTile"></div>\r\n        <div data-sap-template="View" mode="2x2" coordinate="2,0" mode-pad="2x2" coordinate-pad="2,1" uuid="note" name="sap.sbo.app.notepage.NotePageTile"></div>\r\n        <div data-sap-template="View" mode="2x4" coordinate="2,3" mode-pad="2x2" coordinate-pad="2,2" uuid="sbo.RelatedTile" name="sap.sbo.app.network.RelatedTile"  option="isCustomer:true"></div>\r\n        <div data-sap-template="View" mode="2x4" coordinate="2,1" mode-pad="2x4" coordinate-pad="3,0" uuid="feed" name="sap.sbo.app.network.FeedTile"></div>\r\n\r\n\r\n    </div>\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.Customer.CustomerList",function(){return'<div class=\'bo-listview customer\'>\r\n	<div data-id="listView" data-sap-widget="sap.sbo.layout.pad.ListLayout" data-sap-option=\'pageSize: 0\r\n ,select:["cardCode", "cardName", "groupCode","BusinessPartnerGroupName","industry","IndustryDescription","portraitId","contactPerson","ownerCode","prospect"]\'>\r\n		<div data-sap-template="Content">\r\n		<div class=\'item\' data-inActive="{{ActiveStatue}}">\r\n		    <div class="avatar-container" data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{Image/url, sap.sbo.page.common.oppUtil.convertNullString}}, radius:"50%",  arrangeType:"both" \' ></div>\r\n			<div class=\'header\'>\r\n			    <div class="index">{{cardCode}}</div>\r\n			    <div class="title">{{cardName}}</div>\r\n			    <div class="sub-title">{{prospect, sap.sbo.page.common.customerUtil.string_prospect}}</div>\r\n			</div>\r\n			<div class="details">\r\n			    <div class=\'field\' >\r\n                    <div class="info customer">{{BusinessPartnerGroupName}}</div>\r\n                </div>\r\n                <div class=\'field\' >\r\n                    <div class="info customer">{{IndustryDescription}}</div>\r\n                </div>\r\n			</div>\r\n		</div>\r\n		</div>\r\n\r\n  		<div data-sap-template="PropertyTemplate" style="display: none;">\r\n			<div data-sap-template="String[cardCode]">\r\n				<div class="key-value">\r\n					<div class="key">#label#</div>\r\n					<div class="value">\r\n						<!-- <div data-id="cardCode"\r\n							gl-choose-list="sap.sbo.chooseList.pad.ChooseListCustomer"\r\n							gl-choose-list-param="cardCode"\r\n							data-sap-widget="sap.ui.widget.ValueHelpField"\r\n							data-sap-option="value: {{#value#,two-way}}"></div> -->\r\n						<div data-id="cardCode"\r\n							data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n							data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.pad.ChooseListCustomer\', titleField: \'cardName\', subtitleField: \'cardCode\', valueField: \'cardCode\'"></div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n			\r\n			<div data-sap-template="String[contactPerson]">\r\n                <div class="key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div data-id="contactPerson"\r\n                            data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n                            data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.pad.ChooseListContact\', titleField: \'displayName\', subtitleField: \'position\', valueField: \'name\'"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n            <div data-sap-template="Integer[ownerCode]">\r\n                <div class="key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div data-id="ownerCode"\r\n                            data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n                            data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.pad.ChooseListEmployee\', titleField: \'displayName\', valueField: \'employeeID\'"></div>    \r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div data-sap-template="Integer[industry]">\r\n                <div class="key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div data-id="industry"\r\n                            data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n                            data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.pad.ChooseListIndustry\', titleField: \'industryDescription\', subtitleField: \'IndustryDescription\', valueField: \'industryCode\'"></div>        \r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n            <div data-sap-template="Integer[groupCode]">\r\n                <div class="key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div data-id="groupCode"\r\n                            data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n                            data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.pad.ChooseListCustomerGroup\', titleField: \'name\', valueField: \'code\'"></div>            \r\n                    </div>\r\n                </div>\r\n            </div>\r\n		</div>\r\n		\r\n	</div>\r\n</div>\r\n'
}),define("html!sap.sbo.page.pad.Customer.Address.AddressList",function(){return'<div class="sbo-customer-address-edit">\r\n\r\n    <div data-sap-template="header">\r\n\r\n    </div>\r\n\r\n    <div data-sap-template="itemHeader">\r\n        <div class="Main" data-mainContact="{{loop@internal/bMainFlag}}"> </div>\r\n    </div>\r\n\r\n    <div data-sap-template="itemFields">\r\n\r\n        <div data-sap-template="Content">\r\n            <div data-sap-template="Property" property="addressName"></div>\r\n            <div data-sap-template="Property" property="addressType"></div>\r\n            <div data-sap-template="Property" property="country"></div>\r\n            <div data-sap-template="Property" property="state"></div>\r\n            <div data-sap-template="Property" property="zipCode"></div>\r\n            <div data-sap-template="Property" property="city"></div>\r\n            <div data-sap-template="Property" property="street"></div>\r\n        </div>\r\n        <div data-sap-template="PropertyTemplate">\r\n            <div data-sap-template="[addressName]">\r\n                <div class="readonly key-value">\r\n                    <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.nullStringAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n                    <div class="value">\r\n                        <span>{{#PROPERTY#}}&nbsp;</span>\r\n                    </div>               \r\n                </div>                            \r\n                <div class="writable key-value">\r\n                    <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.nullStringAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n                    <div class="value">\r\n                        <input maxlength="{{$size}}" type="text" data-sap-widget="sap.ui.widget.TextField" \r\n                        data-sap-option="value: {{loop@data/addressName, two-way}}, nullable: true, liveChange:false" />\r\n                    </div>                    \r\n                </div>                \r\n            </div>\r\n                    \r\n            <div data-sap-template="BoAddressType[addressType]">\r\n                <div class="writable key-value">\r\n                    <div class="key"\r\n                        gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                        <div class="key-label">{{$label}}</div>\r\n                        <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                    </div>\r\n                    <div class="value" data-id="addressType">\r\n                        <span class="choose left" flag="{{#PROPERTY#,formatter.addressType_shipto}}">{{i18n@app/address/SHIPTO}}</span\r\n                        ><span class="choose right" flag="{{#PROPERTY#,formatter.addressType_billto}}">{{i18n@app/address/BILLTO}}</span>\r\n                    </div>\r\n                </div>\r\n                <div class="readonly key-value">\r\n                    <div class="key"\r\n                        gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                        <div class="key-label">{{$label}}</div>\r\n                        <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                    </div>\r\n                    <div class="value">{{#PROPERTY#,formatter.addressType}}</div>\r\n                </div>\r\n            </div>\r\n                    \r\n            <div data-sap-template="String[country]">\r\n                <div class="readonly key-value">\r\n                </div>\r\n                <div class="writable key-value">\r\n                    <div class="key"\r\n                        gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                        <div class="key-label">{{$label}}</div>\r\n                        <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                    </div>\r\n                    <div class="value">  \r\n                        <div \r\n                            data-sap-widget="sap.ui.widget.DropDownBox" \r\n                            data-sap-option="textField: \'name\', valueField: \'code\', data: {{list@countrylist}}, selectedValue: {{loop@data/country, two-way}}"></div> \r\n                    </div>\r\n                </div>\r\n            </div> \r\n         \r\n            <div data-sap-template="String[state]">\r\n                <div class="writable key-value">\r\n                    <div class="key"\r\n                        gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                        <div class="key-label">{{$label}}</div>\r\n                        <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                    </div>\r\n                    <div class="value">  \r\n                        <div \r\n                            data-sap-widget="sap.ui.widget.DropDownBox" \r\n                            data-sap-option="disabled:{{loop@internal/statelist/length, formatter.isZero}},textField: \'name\', valueField: \'code\', data: {{loop@internal/statelist}}, selectedValue: {{loop@data/state, two-way}}"></div> \r\n                    </div>\r\n                </div>\r\n            </div>             \r\n            \r\n            <div data-sap-template="[street]">\r\n                <div class="readonly key-value">\r\n                    <div class="key"\r\n                        gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                        <div class="key-label">{{i18n@app/address/DETAIL}}</div>\r\n                        <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                    </div>\r\n                    <div class="value">\r\n                        <div class="value" data-sap-widget="sap.sbo.ui.widget.Address"\r\n                            data-sap-option="locale:{{loop@data/country, formatter.string_null}},\r\n	                        country:{{loop@data/CountryName, formatter.string_null}}, \r\n	                        state:{{loop@data/state, formatter.string_null}}, \r\n	                        zipCode:{{loop@data/zipCode, formatter.string_null}}, \r\n	                        city:{{loop@data/city, formatter.string_null}}, \r\n	                        street1:{{loop@data/street, formatter.string_null}}, \r\n	                        street2:{{loop@data/block, formatter.string_null}}">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="writable key-value">\r\n                    <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n                    <div class="value">\r\n                        <input maxlength="{{$size}}" type="text" data-sap-widget="sap.ui.widget.TextField" \r\n                        data-sap-option="value: {{#PROPERTY#, two-way}}, nullable: true, liveChange:true" />\r\n                    </div>\r\n                    <div class="value">\r\n                        <input maxlength="{{meta@properties/block/size}}" type="text" data-sap-widget="sap.ui.widget.TextField" \r\n                        data-sap-option="value: {{loop@data/block, two-way}}, nullable: true, liveChange:true" />\r\n                    </div>                  \r\n                </div>\r\n            </div>             \r\n        \r\n        </div>     \r\n    </div>\r\n\r\n</div>\r\n\r\n<!--\r\nvim:ts=2 sw=2 noexpandtab\r\n-->\r\n'}),define("html!sap.sbo.page.pad.CustomerSetting.CustomerGroup.CustomerGroupsSettingTile",function(){return'<div class="sbo-customergroup-edit">\r\n\r\n    <div data-sap-template="header">\r\n    </div>\r\n\r\n    <div data-sap-template="itemHeader">\r\n    </div>\r\n\r\n    <div data-sap-template="itemFields">\r\n        <div data-sap-template="Content">\r\n            <div data-sap-template="Property" property="name"></div>\r\n        </div>\r\n        <div data-sap-template="PropertyTemplate">\r\n \r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n<!--\r\nvim:ts=2 sw=2 noexpandtab\r\n-->\r\n\r\n\r\n'}),define("html!sap.sbo.page.pad.CustomerSetting.Industry.IndustrySettingTile",function(){return'<div class="sbo-industry-setting-edit">\r\n\r\n    <div data-sap-template="header">\r\n    </div>\r\n\r\n    <div data-sap-template="itemHeader">\r\n    </div>\r\n\r\n    <div data-sap-template="itemFields">\r\n        <div data-sap-template="Content">\r\n            <div data-sap-template="Property" property="industryName"></div>\r\n        </div>\r\n        <div data-sap-template="PropertyTemplate">\r\n\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n<!--\r\nvim:ts=2 sw=2 noexpandtab\r\n-->\r\n\r\n\r\n'}),define("html!sap.sbo.page.pad.MasterDatas.Competitor.CompetitorEdit",function(){return'<div class=\'sbo-bo-home sbo-opps-home\'>\r\n\r\n    <div ctrl=\'layout\' class=\'sbo-bo-home-layout\'\r\n    data-sap-widget="sap.sbo.layout.pad.AdvancedTilesLayout"\r\n    data-sap-option="">\r\n\r\n        <div data-sap-template="Html" mode="2xN" uuid="general">\r\n            <div field=\'basicInfo\' class="sbo-bo-tile bo-tile-profile">\r\n               <div class="title">\r\n               		{{i18n@app/BASIC}}\r\n               </div>\r\n               <div class="bo-field">\r\n                    <div class="bo-label">{{i18n@app/competitor/COMPETITORNAME}}</div>\r\n                    <div class="bo-value">\r\n                        <input data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{name, two-way}}">\r\n                        </div>\r\n                </div>\r\n                 <div class="bo-field">\r\n                    <div class="bo-label">{{i18n@app/competitor/THREATLEVEL}}</div>\r\n                    <div class="bo-value">\r\n                        <div \r\n                            data-sap-widget="sap.ui.widget.DropDownBox" \r\n                            data-sap-option="textField: \'text\', valueField: \'key\', data: [{key: \'tlLow\', text: \'Low\'},{key:\'tlMedium\', text: \'Medium\'},{key:\'tlHigh\',text:\'High\'}], selectedValue: {{threatLevel, two-way}}"> \r\n                        </div>\r\n                     </div> \r\n                </div>\r\n                <div class="bo-field">\r\n                    <div class="bo-label">{{i18n@app/competitor/DETAILS}}</div>\r\n                    <input data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{details, two-way}}">\r\n                </div>  \r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'}),define("html!sap.sbo.page.pad.MasterDatas.Competitor.CompetitorHome",function(){return'<div class="sbo-bo-home sbo-opps-home">\r\n    <div ctrl=\'layout\' class=\'sbo-bo-home-layout\'\r\n    data-sap-widget="sap.sbo.layout.pad.AdvancedTilesLayout"\r\n    data-sap-option="">\r\n        <!-- \r\n        <div data-sap-template="Html" mode="2x2" uuid="logo">\r\n                <img src="{{Image/url}}"></img>\r\n        </div>\r\n        -->\r\n        <div data-sap-template="Html" mode="2xN" uuid="general">\r\n            <div field=\'basicInfo\' class="sbo-bo-tile bo-tile-profile"> \r\n            	<div class="title">\r\n                    {{i18n@app/BASIC}}\r\n                </div>\r\n                <div class="bo-field">\r\n	                <div class="bo-label"> {{i18n@app/competitor/COMPETITORNAME}}</div>\r\n	                <div class="bo-value">{{name}}</div>\r\n                </div>\r\n                <div class="bo-field">\r\n                    <div class="bo-label"> {{i18n@app/competitor/THREATLEVEL}}</div>\r\n                    <div class="bo-value" id="threatedl">{{threatLevel, formatter.threatLevelDescription}}</div>\r\n                </div>\r\n                <div class="bo-field">\r\n                    <div class="bo-label">{{i18n@app/competitor/DETAILS}}</div>\r\n                    <div class="bo-value">{{details}}</div>\r\n                </div>                            \r\n          </div> \r\n        </div>\r\n\r\n      \r\n        <!-- \r\n        <div data-sap-template="View" mode="2x4" uuid="activity" name="sap.sbo.app.activity.ActivityTile"></div>\r\n        <div data-sap-template="View" mode="2x2" uuid="note" name="sap.sbo.app.notepage.NotePageTile"></div>\r\n        <div data-sap-template="View" mode="2x4" uuid="feed" name="sap.sbo.app.network.FeedTile"></div>\r\n        <div data-sap-template="View" mode="2xN" uuid="digitalInsight" name="sap.sbo.page.pad.socialmedia.DigitalInsightTile"></div>\r\n        <div data-sap-template="View" mode="2xN" uuid="competitorHighlight" name="sap.sbo.page.pad.socialmedia.CompetitorHighlightTile"></div>\r\n        <div data-sap-template="View" mode="2x6" uuid="sbo.RelatedTile" name="sap.sbo.app.network.RelatedTile"></div>    \r\n        \r\n        <div data-sap-template="View" mode="2xN" uuid="sbo.RelatedTile" name="sap.sbo.page.pad.Product.RelatedTile"></div>    \r\n         -->      \r\n    </div>\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.MasterDatas.Competitor.CompetitorListView",function(){return'<div class=\'bo-listview Competitor\'>\r\n    <div data-id="listView" data-sap-widget="sap.sbo.layout.pad.ListLayout" data-sap-option="pageSize: 0">\r\n        <div data-sap-template="Content" class="sbo-cardview-item">\r\n            <div class=\'item Competitor-item\' title="{{i18n@app/competitor/COMPETITOR}}">\r\n                <div class="header">\r\n                    <div class="title">{{name}}</div>\r\n                    <div class="sub-title">{{threatLevel, formatter.threatLevelDescription}}</div>\r\n                </div>               \r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<!--\r\n vim:ts=2 sw=2 noexpandtab\r\n -->\r\n\r\n'}),define("html!sap.sbo.page.pad.MasterDatas.Competitor.CreateCompetitor",function(){return'<div class=\'sbo-bo-creation-frame\'>\r\n    <div class="title">\r\n        {{i18n@app/competitor/NEWCOMPETITOR}}\r\n    </div>\r\n    <div class="fields">\r\n        <div ctrl="main"\r\n            class="sbo-app-template-createcompetitor" \r\n            data-sap-widget="sap.sbo.layout.pad.MetadataList" \r\n            data-sap-option=" verticalPadding: 5, ignoredProperty: [\'sequenceNo\']"\r\n        >\r\n            <div data-sap-template="Content">\r\n                <div data-sap-template="Property" property="name"></div>\r\n                <div data-sap-template="Property" property="threatLevel"></div>\r\n                <div data-sap-template="Property" property="details"></div>        \r\n            </div>            \r\n          </div>\r\n      </div>  \r\n      <div class="action">\r\n        <button ctrl="btnSaveOpen" data-touchable=\'true\' data-sap-widget="sap.ui.widget.Button" data-sap-option="text: {{i18n@common/CREATE}}"></button>\r\n        <button ctrl="btnCancel" data-touchable=\'true\' data-sap-widget="sap.ui.widget.Button" data-sap-option="text: {{i18n@common/CANCEL}}"></button>\r\n      </div>  \r\n</div>             \r\n'}),define("html!sap.sbo.page.pad.settings.AddValidValue",function(){return'<div class="userDefinedFieldSetting" >\r\n	<div id="scroll-panel" data-categroy="{{boPropertyType/category}}">\r\n		<div id="content-panel">\r\n			<div id="validValueItem-box" class="labelBox">\r\n				<div class="label">{{i18n@app/settings/VALUE}}</div>\r\n				<div class="box control-by-dataType">\r\n					<input id="input-text" type="text" maxlength="254" data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{item/value/text,two-way}},disabled:{{item/isReadonly}},nullable:true,liveChange:true"></input>\r\n					<div type="Date" data-sap-widget="sap.sbo.ui.widget.DateTimeField" data-sap-option="value:{{item/value/date,two-way,sap.sbo.util.formatter.date_JODATime}}" ></div>\r\n					<input id="decimal-input" data-sap-widget="sap.sbo.ui.widget.DecimalInputField" \r\n							data-sap-option="value: {{item/value/decimal, two-way, sap.formatter.real_string_nullable }}, \r\n							nullable: true, liveChange:true, decimalSeparator: {{globalSettings@separators/DecimalSeparator}}, \r\n							thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}} , \r\n							decimalNum:{{boPropertyType/decimalPlace}}" /> \r\n				</div>\r\n			</div>\r\n			<div class="labelBox">\r\n				<div class="label">{{i18n@app/settings/DESCRIPTION}}</div>\r\n				<div class="box">\r\n					<textarea id="description-text" maxlength="254" data-sap-widget="sap.ui.widget.TextArea"  data-sap-option="value: {{item/description,two-way}},disabled:{{item/isReadonly}},nullable:true"></textarea>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>'}),define("html!sap.sbo.page.pad.settings.ApprovalSetting",function(){return'<div class="approvalSetting">\r\n	<div id="scroll-panel" >\r\n		<div id="content-panel">\r\n			<div  class="labelBox">\r\n				<div class="label">{{i18n@app/appr/NAME}}</div>\r\n				<div class="box">\r\n					<input id="settingName-input" type="text" data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{data/name,two-way}},nullable:true,liveChange:true"></input>\r\n				</div>\r\n			</div>\r\n		\r\n			<div id="users-box" class="labelBox">\r\n				<div class="label">{{i18n@app/appr/ORIGINATORS}}</div>\r\n				<div class="box">\r\n					<div class="table" isDefault="{{data/isDefault}}">\r\n						<div id="users-table" data-sap-widget="sap.ui.Repeat" data-sap-option=\'data: {{data/users}}\' >\r\n							<div class="table-row" data-sap-template="Content">\r\n								<div class="table-column">{{name}}</div>\r\n							</div>\r\n						</div>\r\n						<div id="allUserLink" class="table-row">\r\n							<div class="table-column" >{{i18n@app/appr/ALLUSERS}}</div>\r\n						</div>\r\n						<div id="addUserLink" class="table-row row-normal">\r\n							<div class="table-column" >{{i18n@app/appr/CHOOSEORIGINATORS}}</div>\r\n							<div class="table-column goto-icon" columnId="3"></div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n			\r\n			<div id="approval-box" class="labelBox">\r\n				<div class="label">{{i18n@app/appr/APPROVER}}</div>\r\n				<div class="box">\r\n					<div id="selectedApproverButton" class="table-row">\r\n						<div class="table-column">{{data/approver/name}}</div>\r\n						<div class="table-column goto-icon" columnId="3"></div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n			\r\n			<div class="labelBox">\r\n				<div class="label">{{i18n@app/appr/ACTIVE}}</div>\r\n				<div class="box">\r\n					<div data-sap-widget="sap.sbo.ui.widget.SliderButton" data-sap-option="value:{{data/active,two-way}}"></div>\r\n				</div>\r\n			</div>\r\n			\r\n			<div class="labelBox">\r\n				<div class="label">{{i18n@app/appr/REQUEST_APPROVAL}}</div>\r\n				<div class="box">\r\n					<div id="requestApprovalTab" class="tab">\r\n						<div class="tab-header">\r\n							<div id="always-header" class="tab-header-item sap-ui-tab-selected">\r\n								{{i18n@app/appr/ALWAYS}}\r\n							</div>\r\n							<div id="total-header" class="tab-header-item">\r\n								{{i18n@app/appr/TOTAL}}\r\n							</div>\r\n							<div id="advance-rule-header" class="tab-header-item">\r\n								{{i18n@app/appr/DISCOUNT}}\r\n							</div>\r\n						</div>\r\n						<div class="tab-content">\r\n							<div class="tab-content-item sap-ui-tab-selected">\r\n							</div>\r\n							<div class="tab-content-item">\r\n								<div class="labelBox">\r\n									<div class="label">{{i18n@app/settings/RULE}}</div>\r\n									<div class="box">\r\n										<div id="total-rule-selectBox" data-sap-widget="sap.ui.widget.DropDownBox" data-sap-option="data:{{data/rules,two-way}},valueField:\'key\',textField:\'text\',selectedValue:{{data/total/selectedRule, two-way}}"></div>\r\n									</div>\r\n								</div>\r\n								<div class="labelBox">\r\n									<div class="label">{{i18n@app/settings/VALUE}}</div>\r\n									<div class="box">\r\n										<input id="total-rule-valueInput" data-sap-widget="sap.sbo.ui.widget.DecimalInputField" data-sap-option="value: {{data/total/value, two-way, sap.formatter.real_string_nullable }}, \r\n										nullable: true, liveChange:true, decimalSeparator: {{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}}, decimalNum:{{globalSettings@types/Sum/DecimalPlace}}" />\r\n									</div>\r\n								</div>\r\n							</div>\r\n							<div class="tab-content-item">\r\n								<div class="labelBox">\r\n									<div class="label">{{i18n@app/settings/RULE}}</div>\r\n									<div class="box">\r\n										<div id="discount-rule-selectBox" data-sap-widget="sap.ui.widget.DropDownBox" data-sap-option="data:{{data/rules,two-way}},valueField:\'key\',textField:\'text\', selectedValue:{{data/discount/selectedRule, two-way}}"></div>\r\n									</div>\r\n								</div>\r\n								<div  class="labelBox">\r\n									<div class="label">{{i18n@app/settings/VALUE}}</div>\r\n									<div id="discount-box" class="box">\r\n										<input id="discount-rule-valueInput" data-sap-widget="sap.sbo.ui.widget.DecimalInputField" data-sap-option="value: {{data/discount/value, two-way, sap.formatter.real_string_nullable }}, \r\n										nullable: true, liveChange:true, decimalSeparator: {{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}}, decimalNum:{{globalSettings@types/Percent/DecimalPlace}}" />\r\n\r\n										<span class="percentMark">\r\n										%\r\n										</span>\r\n									</div>\r\n								</div>\r\n							</div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>'}),define("html!sap.sbo.page.pad.settings.ApprovalSettingsView",function(){return'<div class="approvalSettingsView">\r\n\r\n	<div id="scroll-panel">\r\n		<div id="content-panel">\r\n\r\n			<div id="approval-table" class="table">\r\n				<div class="table-header">\r\n					<div class="table-column" columnId="0">{{i18n@app/appr/NAME}}</div>\r\n					<div class="table-column" columnId="1">{{i18n@app/appr/CONDITION}}</div>\r\n					<div class="table-column" columnId="2">{{i18n@app/appr/APPROVER}}</div>\r\n					<div class="table-column" columnId="3">{{i18n@app/appr/ACTIVE}}</div>\r\n				</div>\r\n				\r\n				<div id="approvalSettings-table" data-sap-widget="sap.ui.Repeat" data-sap-option=\'data: {{data/approvalRecords,two-way}}\' >\r\n					<div class="table-row" data-sap-template="Content">\r\n						<div class="table-column delete-icon" columnId="-1"></div> \r\n						<div class="table-column" columnId="0">{{source/title}}</div>\r\n						<div class="table-column" columnId="1">{{condition}}</div>\r\n						<div class="table-column" columnId="2">{{source/authorizerDisplayName}}</div>\r\n						<div class="table-column content-is-control" columnId="3">\r\n							<div class="slider-button" data-sap-widget="sap.sbo.ui.widget.SliderButton" data-sap-option="value:{{source/active,two-way}}"></div>\r\n						</div>\r\n						<div class="table-column goto-icon" columnId="4"></div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n			\r\n			<div id="addApprovalSettingLink" class="table-row row-normal">\r\n				<div class="table-column" >{{i18n@app/appr/ADD_APPRO_SETTING}}</div>\r\n				<div class="table-column goto-icon" columnId="4"></div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>'}),define("html!sap.sbo.page.pad.settings.BODataOwnershipConfig",function(){return"<div class='DOConfigForBO'>\r\n	<div class='bo_container'>\r\n		<div class='config_item'>\r\n			<div class='job_title'>{{i18n@sys/dos/manager}}</div>\r\n		\r\n			<div class='auth'>{{i18n@sys/dos/AUTH_F}}</div>\r\n			 <!-- <div class='arrow_icon'></div>  -->\r\n			<div class='splitter'></div>\r\n		</div>\r\n		<div class='config_item'>\r\n			<div class='job_title'>{{i18n@sys/dos/peer}}</div>\r\n			<div class='auth'>{{i18n@sys/dos/auth/none}}</div>\r\n			 <!-- <div class='arrow_icon'></div>  -->\r\n			<div class='splitter'></div>\r\n		</div>\r\n		<div class='config_item'>\r\n			<div class='job_title'>{{i18n@sys/dos/subordinate}}</div>\r\n			<div class='auth'>{{i18n@sys/dos/auth/none}}</div>\r\n			 <!-- <div class='arrow_icon'></div>  -->\r\n			<div class='splitter'></div>\r\n		</div>\r\n	</div>\r\n</div>\r\n\r\n"}),define("html!sap.sbo.page.pad.settings.BoSettingTemplate",function(){return'<div id="sap-sbo-setting-template">\r\n	<div id="relative-bo-setting" data-sap-widget="sap.ui.Repeat" data-sap-option="data:{{basicSettings}}">\r\n		<div data-sap-template=\'Content\'>\r\n			<div class="setting-row">\r\n				<div class="setting-title" settingId="{{settingId}}">{{settingDisplayName, sap.sbo.localization.Helper.get}}</div>\r\n				<div class="setting-desc">{{description, sap.sbo.localization.Helper.get}}</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n	<div id="advanced-setting">\r\n		<div id="advanced-setting-link" class="setting-title">{{i18n@app/settings/ADVANCED_SETTINGS}}</div>\r\n		<div class="setting-desc">{{i18n@app/settings/DESC}}</div>\r\n	</div>\r\n</div>'}),define("html!sap.sbo.page.pad.settings.ChooseBoType",function(){return'<div class="ChooseBoType" data-sap-template="ViewContent" >\r\n		\r\n	<div class="title">\r\n		{{i18n@app/settings/CHOOSE_TYPE}}\r\n	</div>\r\n\r\n	<div id="generalTypes" class="expander">\r\n		<div class="header">\r\n			{{i18n@app/settings/GENERAL}}\r\n		</div>\r\n		<div class="content">\r\n			<div data-sap-widget="sap.ui.Repeat" data-sap-option=\'data: {{general,two-way}}\' >\r\n				<div class="item" data-sap-template="Content" data={{key,two-way}}>\r\n					{{text}}\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n	\r\n	<div id="decimalTypes" class="expander">\r\n		<div class="header">\r\n			{{i18n@app/settings/DECIMAL}}\r\n		</div>\r\n		<div class="content">\r\n			<div data-sap-widget="sap.ui.Repeat" data-sap-option=\'data: {{decimal,two-way}}\' >\r\n				<div class="item" data-sap-template="Content" data={{key,two-way}}>\r\n					{{text}}\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n	\r\n	<div id="AdvanceTypes" class="expander">\r\n		<div class="header">\r\n			{{i18n@app/settings/ADVANCE}}\r\n		</div>\r\n		<div class="content">\r\n			<div data-sap-widget="sap.ui.Repeat" data-sap-option=\'data: {{advance,two-way}}\' >\r\n				<div class="item" data-sap-template="Content" data={{key,two-way}}>\r\n					{{text}}\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.settings.ChooseEnumValues",function(){return'<div class="chooseEnumValues" >\r\n	<div id="chooseEnumValues-content">\r\n		<div id="defaultRow" class="table">\r\n			<div class="table-row">\r\n				<div class="table-column" columnId="0">Default</div>\r\n				<div class="table-column" columnId="1"></div>\r\n				<div class="table-column" columnId="2">\r\n					<div id="defaultSliderButton" data-sap-widget="sap.sbo.ui.widget.SliderButton" data-sap-option="value:{{isDefault,two-way}}"></div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n		\r\n		<div id="enumValues-table" class="table">\r\n			<div class="table-header">\r\n				<div class="table-column" columnId="0">Value</div>\r\n				<div class="table-column" columnId="1">Description</div>\r\n				<div class="table-column" columnId="2">Enable</div>\r\n			</div>\r\n			<div data-sap-widget="sap.ui.Repeat" data-sap-option=\'data: {{enumValues, two-way}}\' >\r\n				<div class="table-row" data-sap-template="Content">\r\n					<div class="table-column" columnId="0">{{value}}</div>\r\n					<div class="table-column" columnId="1">{{description}}</div>\r\n					<div class="table-column" columnId="2">\r\n						<div id="sliderButton" data-sap-widget="sap.sbo.ui.widget.SliderButton" data-sap-option="value:{{isSelected,two-way}},disabled:{{isDisabled,two-way}}"></div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>'}),define("html!sap.sbo.page.pad.settings.ChooseOriginators",function(){return'<div class="chooseOriginators">\r\n	<div id="scroll-panel">\r\n		<div id="content-panel">\r\n			<div id="allusersLink" class="table">\r\n				<div class="table-row">\r\n					<div class="table-column" columnId="0">{{i18n@app/appr/ALLUSERS}}</div>\r\n					<div class="table-column" columnId="1"></div>\r\n					<div class="table-column" columnId="2">\r\n						<div id="defaultSliderButton" data-sap-widget="sap.sbo.ui.widget.SliderButton" data-sap-option="value:{{isDefault,two-way}}"></div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		\r\n			\r\n			<div id="users-table" class="table">\r\n				<div class="table-header">\r\n					<div class="table-column" columnId="0">{{i18n@app/appr/NAME}}</div>\r\n					<div class="table-column" columnId="1">{{i18n@app/appr/POSITION}}</div>\r\n					<div class="table-column" columnId="2">{{i18n@app/appr/SELECTED}}</div>\r\n				</div>\r\n				<div id="users-table-rows" data-sap-widget="sap.ui.Repeat" data-sap-option=\'data: {{users, two-way}}\' >\r\n					<div class="table-row" data-sap-template="Content">\r\n						<div class="table-column" columnId="0">{{name}}</div>\r\n						<div class="table-column" columnId="1">{{position}}</div>\r\n						<div class="table-column content-is-control" columnId="2">\r\n							<div data-sap-widget="sap.sbo.ui.widget.SliderButton" data-sap-option="value:{{isSelected,two-way}},disabled:{{isDisabled,two-way}}"></div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>'}),define("html!sap.sbo.page.pad.settings.CompanyProfile",function(){return'<div class="companyProfile" >\r\n	<div id="scroll-panel">\r\n\r\n		<div class="group-header">{{i18n@app/settings/COMP_BasicInfo}}</div>\r\n\r\n		\r\n		<div id="name-box" class="labelBox">\r\n			<div class="label">{{i18n@app/settings/COMPANYP_NAME}}</div>\r\n			<div class="box">\r\n				<input type="text"  maxlength="18" data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{companyInfo/name, two-way}},nullable:true,liveChange:true"></input>\r\n			</div>\r\n		</div>\r\n		<div id="logo-box" class="labelBox">\r\n			<div class="label">{{i18n@app/settings/COMPANYP_LOGO}}</div>\r\n			<div id="logo-box-content" class="box">\r\n				 <div class="portrait">\r\n                      <div data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{companyInfo, sap.sbo.util.formatter.getCompanyLogo}},radius:"28px",width:"56px",height:"56px",inlineStyle:"max-width: 56px;",arrangeType:"both"\' ></div>\r\n                      </div>\r\n                      <div id="toolbar_desktop">\r\n                          <div class="container">\r\n                          	  <div id="text-button">{{i18n@app/settings/COMP_CHANLOGO}}</div>\r\n                              <div id="uploadfile" data-touchable=\'true\' data-sap-widget="sap.sbo.ui.widget.UploadButton" style="display:{{device/isDesktop}}" data-sap-option="url:{{, formatter.getUrl}}, accept: \'image/*\', autoupload: true , cropimage: true" >\r\n                              </div>\r\n                          </div>\r\n                      </div>\r\n                       <!-- <div id="toolbar_pad">\r\n                           <div class="container">\r\n                               <div class="photo-pick" data-sap-widget="sap.sbo.ui.widget.PhotoPicker" style="display:{{device/isPad}}"  data-sap-option="resourcetype:\'camera\', url:{{, formatter.getUrl}}"></div>\r\n                           </div>\r\n                           <div class="container">\r\n                               <div class="photo-album" data-sap-widget="sap.sbo.ui.widget.PhotoPicker" style="display:{{device/isPad}}"  data-sap-option="resourcetype:\'album\', url:{{, formatter.getUrl}}"></div>\r\n                           </div>\r\n                       </div> -->\r\n			</div>\r\n		</div>\r\n		\r\n		<div class="group-header">{{i18n@app/settings/COMP_AddressInfo}}</div>\r\n		\r\n		<div class="labelBox">\r\n			<div class="label">{{i18n@app/settings/COMPANYP_COUNTRY}}</div>\r\n			<div class="box">\r\n				<div id="country-box-content"  data-sap-widget="sap.ui.widget.DropDownBox" data-sap-option="data:{{countries}},valueField:\'code\',textField:\'name\', selectedValue:{{companyInfo/country, two-way}}, nullable: true"></div>					\r\n			</div>\r\n		</div>\r\n		<div class="labelBox">\r\n			<div class="label">{{i18n@app/settings/COMPANYP_PROVINCE}}</div>\r\n			<div class="box">\r\n				<div data-sap-widget="sap.ui.widget.DropDownBox" data-sap-option="disabled:{{statesInCountry/length, formatter.isZero}},textField: \'name\', valueField: \'code\', data: {{statesInCountry}},selectedValue:{{companyInfo/state, two-way}}, nullable: true"></div>\r\n			</div>\r\n		</div>\r\n		<div class="labelBox">\r\n			<div class="label">{{i18n@app/settings/COMPANY_CITY}}</div>\r\n			<div class="box">\r\n				<input type="text"  maxlength="18" data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{companyInfo/city, two-way}},nullable:true,liveChange:true"></input>\r\n			</div>\r\n		</div>\r\n		<div class="labelBox">\r\n			<div class="label">{{i18n@app/settings/COMPANYP_STREET}}</div>\r\n			<div class="box">\r\n				<input id="street-firstline" type="text"  data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{companyInfo/street_firstline, two-way}},nullable:true,liveChange:true"></input>\r\n					<input id="street-secondline" type="text"  data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{companyInfo/street_secondline, two-way}},nullable:true,liveChange:true"></input>\r\n			</div>\r\n		</div>\r\n		<div class="labelBox">\r\n			<div class="label">{{i18n@app/settings/COMPANYP_ZIPCODE}}</div>\r\n			<div class="box">\r\n				<input type="text"  maxlength="18" data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{companyInfo/zipCode, two-way}},nullable:true,liveChange:true"></input>\r\n			</div>\r\n		</div>\r\n		\r\n\r\n		<div id="other-group-header" class="group-header" isTaxEnabled = "{{isTaxEnabled}}">{{i18n@app/settings/COMP_OthetInfo}}</div>\r\n\r\n		\r\n		<div id="taxLabel" class="labelBox" isTaxEnabled = "{{isTaxEnabled}}">\r\n			<div class="label">{{i18n@app/settings/COMPANYP_TAX}}</div>\r\n			<div class="box">\r\n				<div data-sap-widget="sap.ui.widget.DropDownBox" data-sap-option="data:{{taxGroups}},valueField:\'code\',textField:\'name\', selectedValue:{{companyInfo/taxGroup, two-way}}, nullable: true"></div>	\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>'
}),define("html!sap.sbo.page.pad.settings.CustomizationView",function(){return'<div id="sap-sbo-customization-view">\r\n	<div id="scroll-panel">\r\n		<div id="content-panel">\r\n			<div id="system-fields-title" class="configure-title">{{i18n@app/settings/SYSTEM_FIELD}}</div>\r\n			<div class="column-head">\r\n				<div class="name-column">{{i18n@app/settings/NAME}}</div>\r\n				<div class="type-column">{{i18n@app/settings/TYPE}}</div>\r\n				<!-- <div class="validation-column">Validation</div> -->\r\n				<div class="required-column">{{i18n@app/settings/ENABLE}}</div>\r\n			</div>\r\n			<div id="sys-fields-table" data-sap-widget="sap.ui.Repeat" data-sap-option="data:{{systemFields, two-way}}">\r\n				<div data-sap-template=\'Content\' class="table-row">\r\n					<div class="field-row system-field" fieldId="{{name}}">\r\n						<div class="name-column">{{displayName}}</div>\r\n						<div class="type-column">{{type, sap.sbo.util.formatter.getDisplayType}}</div>\r\n						<!-- <div class="validation-column">{{validationDesc}}</div> -->\r\n						<div class="required-column"><div class="slider-button" data-sap-widget="sap.sbo.ui.widget.SliderButton" data-sap-option="value:{{enabled, two-way}}, disabled:{{mandatory}}"></div></div>\r\n						<div class="link-column field-link"></div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n			<div id="userDefined-fields-title" class="configure-title">{{i18n@app/settings/UDF}}</div>\r\n			<div class="column-head">\r\n				<div class="name-column">{{i18n@app/settings/NAME}}</div>\r\n				<div class="type-column">{{i18n@app/settings/TYPE}}</div>\r\n				<!-- <div class="validation-column">Validation</div> -->\r\n				<div class="required-column">{{i18n@app/settings/ENABLE}}</div>\r\n			</div>\r\n			<div id="udf-fields-table" data-sap-widget="sap.ui.Repeat" data-sap-option="data:{{userDefinedFields}}">\r\n				<div data-sap-template=\'Content\' class="table-row">\r\n					<div class="field-row userDefined-field" fieldId="{{name}}">\r\n						<div class="icon-remove"></div>\r\n						<div class="name-column">{{displayName}}</div>\r\n						<div class="type-column">{{type, sap.sbo.util.formatter.getDisplayType}}</div>\r\n						<!-- <div class="validation-column">{{validationDesc}}</div> -->\r\n						<div class="required-column"><div class="slider-button" data-sap-widget="sap.sbo.ui.widget.SliderButton" data-sap-option="value:{{enabled, two-way}}, disabled:{{mandatory}}"></div></div>\r\n						<div class="link-column field-link"></div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n			<div id="add-new-field" class="field-row">{{i18n@app/settings/ADD_FIELD}}</div>\r\n			<div id="associated-bos-title" class="configure-title" sub-bo-count="{{subBos/length}}">{{i18n@app/settings/ASSOCIATED_BO}}</div>\r\n			<div data-sap-widget="sap.ui.Repeat" data-sap-option="data:{{subBos}}">\r\n				<div data-sap-template=\'Content\'  class="table-row">\r\n					<div class="field-row" sub-node-name="{{name}}">\r\n						<div class="subBo-name">{{displayName}}</div>\r\n						<div class="subBo-info">{{fieldCount}} {{i18n@app/settings/FIELDS}}</div>\r\n						<div class="link-column subBo-link"></div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n			<div id="setting-desc">{{i18n@app/settings/DESC}}</div>\r\n		</div>		\r\n	</div>\r\n</div>'}),define("html!sap.sbo.page.pad.settings.DecimalSettings",function(){return'<div class="sbo-settings-decimal">\r\n	<div class="extra-info">\r\n		<div class="decimal-info-row">\r\n			<span class="info-row-label">{{i18n@app/settings/DECIMAL_MARK}}</span>\r\n			<input class="decimal-textbox symbol-textbox" type="text" data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{decimalSeparator,two-way}},nullable:true,liveChange:true"></input>\r\n		</div>\r\n		<div id="thousands-seperator" class="decimal-info-row">\r\n			<span class="info-row-label">{{i18n@app/settings/THOUSANDS_SEPARATOR}}</span>\r\n			<input class="decimal-textbox" type="text" data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{thousandsSeparator,two-way}},nullable:true,liveChange:true"></input>\r\n		</div>	\r\n		<div id="decimal-info-example"><span>{{i18n@app/settings/EXAMPLE}}:&nbsp;</span><span data-sap-widget="sap.sbo.ui.widget.DecimalLabel"\r\n			data-sap-option="value: 1000000, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}} , decimalNum:2"></span></div>	\r\n	</div>\r\n	<div class="type-list">\r\n		<div class="decimal-setting-row column-title">\r\n			<div class="type-column">{{i18n@app/settings/TYPE}}</div>\r\n			<div class="digits-column">{{i18n@app/settings/DECIMAL_DIGITS_NONE}}</div>\r\n			<div class="example-column">{{i18n@app/settings/EXAMPLE}}</div>\r\n		</div>		\r\n		<div id="decimalTypeList" data-sap-widget=\'sap.ui.Repeat\'\r\n			data-sap-option=\'data:{{decimalTypes,two-way}}\'>\r\n			<div data-sap-template=\'Content\'>\r\n				<div class="decimal-setting-row type-row">\r\n					<div class="type-column type-name-label">{{label}}</div>			\r\n					\r\n					<div class="digits-column digits-info-cell digits-edit-column">\r\n						<div class="subtraction digits-edit-icon" key="{{label}}"></div>\r\n						<div class=\'slider\'>\r\n							<div class="color-progress" data-sap-digitnum="{{decimalPlace}}" data-sap-typeid="{{id}}"></div>\r\n						</div>\r\n						<div class="addition digits-edit-icon" key="{{label}}"></div>\r\n						<div class="desc">{{decimalPlace}} {{i18n@app/settings/DECIMAL_DIGITS}}</div>						\r\n					</div>\r\n					<div class="example-column"><span data-sap-widget="sap.sbo.ui.widget.DecimalLabel"\r\n			data-sap-option="value: 100, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}} , decimalNum:{{decimalPlace}}"></span></div>\r\n				</div>\r\n			</div>\r\n		</div>		\r\n	</div>	\r\n</div>'}),define("html!sap.sbo.page.pad.settings.DOConfigSettings",function(){return'<div class="sbo-settings-dataOwnership">\r\n	<div class="do_container">\r\n		<div class="title-label">{{i18n@app/settings/OWNER/CON}}</div>\r\n		<div class=\'slide-box\'>\r\n		 <div data-sap-widget="sap.sbo.ui.widget.SliderButton" data-sap-option="value:{{do@enable,two-way}}"></div>\r\n		</div>\r\n		<div class=\'horizontal_splitter\'></div>\r\n		<div class=\'description\'>{{i18n@app/settings/OWNERSHIP_DESC}}</div>\r\n	</div>\r\n	\r\n	<div class=\'BO_config\'>\r\n		<div class="items"	data-sap-widget="sap.sbo.ui.Loop" data-sap-option="data:{{boList@value, two-way}}">\r\n			<div class="item" data-sap-template="Content" data-sap-boCode =\'{{loop@data/objectCode}}\'>\r\n				<div class="icon" style="background-color: {{loop@data/color}}"></div>\r\n				<div class=\'title-label\'>\r\n					{{loop@data/boName}}\r\n				</div>\r\n				<div class=\'arrow\'></div>\r\n				<div class=\'slide-box\'>\r\n					<div data-sap-widget="sap.sbo.ui.widget.SliderButton" data-sap-option="value:{{loop@data/active,two-way}}"></div>\r\n				</div>\r\n				<div class=\'horizontal_splitter\'></div>\r\n			</div>\r\n		</div>\r\n\r\n	</div>	\r\n</div>'}),define("html!sap.sbo.page.pad.settings.PriceListView",function(){return'<div class="priceListView">\r\n	<div id="scroll-panel" isNew="{{data/isNew}}" data-categroy="{{data/data_type/value/selectedType/category}}" isEnumBo="{{data/isEnum}}" user-field="{{data/userDefined}}">\r\n		<div id="content-panel">\r\n			<div class="table">\r\n				<div class="table-header">\r\n					<div class="table-column" columnId="0">{{i18n@app/settings/NAME}}</div>\r\n					<div class="table-column" columnId="1">{{i18n@app/settings/PRICE_ACTIVE_FROM}}</div>\r\n					<div class="table-column" columnId="2">{{i18n@app/settings/PRICE_ACTIVE_TO}}</div>\r\n					<div class="table-column" columnId="3">{{i18n@app/appr/ACTIVE}}</div>\r\n				</div>\r\n				\r\n				<div id="priceList-table" data-sap-widget="sap.ui.Repeat" data-sap-option=\'data: {{data/priceList,two-way}}\' >\r\n					<div class="table-row" data-sap-template="Content">\r\n						<div class="table-column delete-icon" columnId="-1"></div> \r\n						<div class="table-column" columnId="0">{{priceListName}}</div>\r\n						<div class="table-column" columnId="1">{{validFrom,sap.sbo.page.pad.settings.SettingUtil.date_String}}</div>\r\n						<div class="table-column" columnId="2">{{validTo,sap.sbo.page.pad.settings.SettingUtil.date_String}}</div>\r\n						<div class="table-column content-is-control" columnId="3">\r\n							<div class="slider-button" data-sap-widget="sap.sbo.ui.widget.SliderButton" data-sap-option="value:{{active,two-way}}"></div>\r\n						</div>\r\n						<div class="table-column goto-icon" columnId="4"></div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n			\r\n			<div id="addPriceSettingLink" class="table-row row-normal">\r\n				<div class="table-column" >{{i18n@app/settings/PRICE_ADD}}</div>\r\n				<div class="table-column goto-icon" columnId="4"></div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>'}),define("html!sap.sbo.page.pad.settings.PriceSetting",function(){return'<div class="priceSetting">\r\n	<div class="priceSetting-content">\r\n		<div class="labelBox">\r\n			<div class="label">{{i18n@app/settings/NAME}}</div>\r\n			<div class="box">\r\n				<input id="settingName-input" type="text" data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{data/priceListName,two-way}},nullable:true,liveChange:true"></input>\r\n			</div>\r\n		</div>\r\n		\r\n		<div class="labelBox">\r\n			<div class="label">{{i18n@app/settings/RESTRICITED}}</div>\r\n			<div class="box">\r\n				<div data-sap-widget="sap.sbo.ui.widget.SliderButton" data-sap-option="value:{{data/restricted,two-way}}"></div>\r\n			</div>\r\n		</div>\r\n		\r\n		\r\n		<div class="labelBox" isDispaly="{{data/isGrossPrice_enable}}">\r\n			<div class="label">{{i18n@app/settings/GROSS_PRICE}}</div>\r\n			<div class="box">\r\n				<div data-sap-widget="sap.sbo.ui.widget.SliderButton" data-sap-option="value:{{data/isGrossPrice,two-way}}"></div>\r\n			</div>\r\n		</div>\r\n		\r\n		<div class="labelBox">\r\n			<div class="label">{{i18n@app/appr/ACTIVE}}</div>\r\n			<div class="box">\r\n				<div data-sap-widget="sap.sbo.ui.widget.SliderButton" data-sap-option="value:{{data/active,two-way}}"></div>\r\n			</div>\r\n		</div>\r\n		\r\n	\r\n		<div class="labelBox" isDispaly="{{data/active}}">\r\n			<div class="label">{{i18n@app/settings/PRICE_ACTIVE_FROM}}</div>\r\n			<div class="box">\r\n				<div type="Date" data-sap-widget="sap.sbo.ui.widget.DateTimeField" data-sap-option="value:{{data/validFrom,two-way,sap.sbo.util.formatter.date_JODATime}}" ></div>\r\n			</div>\r\n		</div>\r\n		\r\n		<div class="labelBox" isDispaly="{{data/active}}">\r\n			<div class="label">{{i18n@app/settings/PRICE_ACTIVE_TO}}</div>\r\n			<div class="box">\r\n				<div type="Date" data-sap-widget="sap.sbo.ui.widget.DateTimeField" data-sap-option="value:{{data/validTo,two-way,sap.sbo.util.formatter.date_JODATime}}" ></div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>'}),define("html!sap.sbo.page.pad.settings.SettingsHomeView",function(){return'<div id="sap-sbo-settings">\r\n	<div id="settings-content">\r\n		<div id="settings-content-left">\r\n			<div id="settings-system" class="settings-category">\r\n				<div class="settings-category-title">{{i18n@app/settings/SYSTEM_SETTINGS}}</div>\r\n				<div id="settings-user" class="settings-item">\r\n					<div class="settings-item-link" setting-id="user">{{i18n@app/settings/HOME_USERS}}</div>\r\n					<div class="settings-item-desc">{{i18n@app/settings/HOME_USERS_DESC}}</div>\r\n				</div>\r\n				<div id="settings-decimal" class="settings-item">\r\n					<div class="settings-item-link" setting-id="decimalSetting">{{i18n@app/settings/HOME_DECIMAL}}</div>\r\n					<div class="settings-item-desc">{{i18n@app/settings/HOME_DECIMAL_DESC}}</div>\r\n				</div>\r\n				\r\n				<div id="settings-dataOwner" class="settings-item">\r\n					<div class="settings-item-link" setting-id="dataOwnerSetting">{{i18n@app/settings/OWNERSHIP}}</div>\r\n					<div class="settings-item-desc">{{i18n@app/settings/OWNER/DESC}}</div>\r\n				</div>\r\n				\r\n				<div id="settings-companyProfile" class="settings-item">\r\n					<div class="settings-item-link" setting-id="companyProfileSetting">{{i18n@app/settings/COMPANYPROFILE}}</div>\r\n					<div class="settings-item-desc">{{i18n@app/settings/COMPANYP_DESC}}</div>\r\n				</div>\r\n			</div>\r\n			<div id="settings-sales" class="settings-category">\r\n				<div class="settings-category-title">{{i18n@app/settings/SALES}}</div>\r\n				<div id="settings-lead" class="settings-item">					\r\n					<div class="settings-item-link" setting-id="lead">{{i18n@app/settings/HOME_LEADS}}</div>\r\n					<div class="settings-item-desc">{{i18n@app/settings/HOME_LEADS_DESC}}</div>\r\n				</div>\r\n				<div id="settings-opportunity" class="settings-item">\r\n					<div class="settings-item-link" setting-id="opportunity">{{i18n@app/settings/HOME_OPPORTUNITIES}}</div>\r\n					<div class="settings-item-desc">{{i18n@app/settings/HOME_OPPO_DESC}}</div>\r\n				</div>\r\n				<div id="settings-quotation" class="settings-item">\r\n					<div class="settings-item-link" setting-id="quotation">{{i18n@app/settings/HOME_QUOTATIONS}}</div>\r\n					<div class="settings-item-desc">{{i18n@app/settings/HOME_QUOT_DESC}}</div>\r\n				</div>\r\n				<div id="settings-order" class="settings-item">\r\n					<div class="settings-item-link" setting-id="order">{{i18n@app/settings/HOME_ORDERS}}</div>\r\n					<div class="settings-item-desc">{{i18n@app/settings/HOME_ORDERS_DESC}}</div>\r\n				</div>\r\n			</div>\r\n			\r\n		</div>		\r\n		<div id="settings-content-right">\r\n			<div id="settings-masterData" class="settings-category">\r\n				<div class="settings-category-title">{{i18n@app/settings/MASTER_DATA}}</div>\r\n				<div id="settings-product" class="settings-item">\r\n					<div class="settings-item-link" setting-id="product">{{i18n@app/settings/HOME_PRODUCTS}}</div>\r\n					<div class="settings-item-desc">{{i18n@app/settings/HOME_PRODUCTS_DESC}}</div>\r\n				</div>\r\n				<div id="settings-customer" class="settings-item">\r\n					<div class="settings-item-link" setting-id="customer">{{i18n@app/settings/HOME_CUSTOMERS}}</div>\r\n					<div class="settings-item-desc">{{i18n@app/settings/HOME_CUST_DESC}}</div>\r\n				</div>\r\n				<div id="settings-contact" class="settings-item">\r\n					<div class="settings-item-link" setting-id="contact">{{i18n@app/settings/HOME_CONTACTS}}</div>\r\n					<div class="settings-item-desc">{{i18n@app/settings/HOME_CONT_DESC}}</div>\r\n				</div>\r\n			</div>			\r\n			<div id="settings-dataMigration" class="settings-category">\r\n				<div class="settings-category-title">{{i18n@app/settings/DATA_MIGRATION}}</div>\r\n				<div id="settings-exportTemplate" class="settings-item">\r\n					<div class="settings-item-link" setting-id="ExportTemplate">{{i18n@app/settings/DOWNLOAD_TEMPLATES}}</div>\r\n					<div class="settings-item-desc">{{i18n@app/settings/DOWNLOAD_TEMP_DESC}}</div>\r\n				</div>\r\n				<div id="settings-importData" class="settings-item">\r\n					<div class="settings-item-link" setting-id="importData">{{i18n@app/settings/HOME_IMPORT_DATA}}</div>\r\n					<div class="settings-item-desc">{{i18n@app/settings/IMPORT_DATA_DESC}}</div>\r\n				</div>\r\n				<div id="settings-exportData" class="settings-item">\r\n					<div class="settings-item-link" setting-id="ExportData">{{i18n@app/settings/HOME_EXPORT_DATA}}</div>\r\n					<div class="settings-item-desc">{{i18n@app/settings/EXPORT_DATA_DESC}}</div>\r\n				</div>				\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>'}),define("html!sap.sbo.page.pad.settings.SimpleBoCreation",function(){return'<div class=\'sbo-bo-creation-frame\'>\r\n	<div class="title">\r\n        {{frameTitle}}\r\n    </div>\r\n    <div class="fields">\r\n    	<div ctrl="main"\r\n            class="sbo-app-template-editproperty" \r\n            data-sap-widget="sap.sbo.layout.pad.MetadataList" \r\n            data-sap-option="verticalPadding: 5, ignoredProperty:[\'sequenceNo\']"\r\n        > \r\n        <div data-sap-template="Properties">\r\n				<div data-sap-template="Content">				\r\n				</div>\r\n				<div data-sap-template="PropertyTemplate">	\r\n					 <div data-sap-template="[stageNo]" >\r\n						<div class="writable integer key-value">\r\n							<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n							<div class="value">\r\n								<input type="text" maxlength="{{$size}}" pattern="[0-9]*" data-sap-widget="sap.sbo.ui.widget.DecimalInputField" \r\n								data-sap-option="value: {{#PROPERTY#, two-way}}, nullable: true, liveChange:true, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}} , decimalNum:0 ,ingoreFormat:true" />\r\n							</div>\r\n						</div>\r\n					</div>			\r\n				</div>\r\n		</div>\r\n       \r\n        </div>\r\n    </div>\r\n	<div class="action">\r\n		<button ctrl="btnCancel" data-sap-widget="sap.ui.widget.Button" data-sap-option="text: {{i18n@common/CANCEL}}"></button>\r\n        <button ctrl="btnSaveOpen" data-sap-widget="sap.ui.widget.Button" data-sap-option="text: {{i18n@app/SAVE_VIEW}}"></button>        \r\n    </div>\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.settings.SimpleBoEdit",function(){return'<div id="sap-sbo-simple-bo-edit">\r\n	<div ctrl="main" id="simple-bo-edit-panel" \r\n	class="sbo-app-template-property-info-enable"\r\n	data-sap-widget="sap.sbo.layout.pad.MetadataLayout" data-sap-option="ignoredProperty:[\'sequenceNo\']">\r\n	</div>	\r\n</div>'}),define("html!sap.sbo.page.pad.settings.SimpleBoFieldDefinedSetting",function(){return'<div class="simpleBoFieldDefinedSetting">\r\n	<div id="scroll-panel">\r\n		<div id="displayName-box" class="labelBox">\r\n			<div class="label">{{i18n@app/settings/DISPLAY_NAME}}</div>\r\n			<div class="box">\r\n				<input type="text" maxlength="18" data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{data/label,two-way}},nullable:true,liveChange:true"></input>\r\n			</div>\r\n		</div>\r\n		\r\n		\r\n		<div class="labelBox">\r\n			<div class="label">{{i18n@app/settings/TYPE}}</div>\r\n			<div class="box">\r\n				<input id="data-type-input" maxlength="254" type="text" data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{data/type, sap.sbo.util.formatter.getDisplayType}},disabled:true,nullable:true,liveChange:true"></input>\r\n			</div>\r\n		</div>\r\n		\r\n		\r\n		<div class="labelBox">\r\n			<div class="label">{{i18n@app/settings/DESCRIPTION}}</div>\r\n			<div class="box">\r\n				<textarea data-sap-widget="sap.ui.widget.TextArea" maxlength="254" data-sap-option="value: {{data/description,two-way}},nullable:true"></textarea>\r\n			</div>\r\n		</div>\r\n		\r\n		<div class="labelBox">\r\n			<div class="label">{{i18n@app/settings/REQUIRED}}</div>\r\n			<div class="box">\r\n				<div data-sap-widget="sap.sbo.ui.widget.SliderButton" data-sap-option="value:{{data/mandatory,two-way}}"></div>\r\n			</div>\r\n		</div>\r\n		\r\n		<div id="simplebo-test" data-sap-widget="sap.ui.View"></div>\r\n	</div>\r\n</div>'}),define("html!sap.sbo.page.pad.settings.SimpleBoView",function(){return'<div id="sap-sbo-simple-bo-view">\r\n	<div id="setting-view-panel">\r\n		<div id="bolist" data-sap-removable="{{removable}}"\r\n			data-sap-widget="sap.sbo.ui.widget.BoList"\r\n			data-sap-option="ignoredProperty:[\'sequenceNo\'], metadata:{{meta}}, data:{{data}}">\r\n	\r\n			<div data-sap-template="Properties">\r\n				<div data-sap-template="Content">				\r\n				</div>\r\n				<div data-sap-template="PropertyTemplate">					\r\n				</div>\r\n			</div>\r\n	\r\n		</div>\r\n		<div id="bo-view-desc" class="setting-desc"></div>\r\n		<div id="add-new-bo">\r\n			<div id="add-new-bo-link" class="setting-title operation-link">{{i18n@app/settings/ADD_NEW}}{{meta/label}}</div>			\r\n		</div>\r\n	</div>	\r\n</div>'}),define("html!sap.sbo.page.pad.settings.SubBoCustomizationView",function(){return'<div id="sap-sbo-customization-view">\r\n	<div id="scroll-panel">\r\n		<div id="content-panel">\r\n			<div id="system-fields-title" class="configure-title">{{i18n@app/settings/SYSTEM_FIELD}}</div>\r\n			<div class="column-head">\r\n				<div class="name-column">{{i18n@app/settings/NAME}}</div>\r\n				<div class="type-column">{{i18n@app/settings/TYPE}}</div>\r\n				<!-- <div class="validation-column">Validation</div> -->\r\n				<div class="required-column">{{i18n@app/settings/ENABLE}}</div>\r\n			</div>\r\n			<div id="sys-fields-table" data-sap-widget="sap.ui.Repeat" data-sap-option="data:{{systemFields, two-way}}">\r\n				<div data-sap-template=\'Content\' class="table-row">\r\n					<div class="field-row system-field" fieldId="{{name}}">\r\n						<div class="name-column">{{displayName}}</div>\r\n						<div class="type-column">{{type, sap.sbo.util.formatter.getDisplayType}}</div>\r\n						<!-- <div class="validation-column">{{validationDesc}}</div> -->\r\n						<div class="required-column"><div class="slider-button" data-sap-widget="sap.sbo.ui.widget.SliderButton" data-sap-option="value:{{enabled, two-way}}, disabled:{{mandatory}}"></div></div>\r\n						<div class="link-column field-link"></div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n			<div id="userDefined-fields-title" class="configure-title">{{i18n@app/settings/UDF}}</div>\r\n			<div class="column-head">\r\n				<div class="name-column">{{i18n@app/settings/NAME}}</div>\r\n				<div class="type-column">{{i18n@app/settings/TYPE}}</div>\r\n				<!-- <div class="validation-column">Validation</div> -->\r\n				<div class="required-column">{{i18n@app/settings/ENABLE}}</div>\r\n			</div>\r\n			<div id="udf-fields-table" data-sap-widget="sap.ui.Repeat" data-sap-option="data:{{userDefinedFields}}">\r\n				<div data-sap-template=\'Content\' class="table-row">\r\n					<div class="field-row userDefined-field" fieldId="{{name}}">\r\n						<div class="icon-remove"></div>\r\n						<div class="name-column">{{displayName}}</div>\r\n						<div class="type-column">{{type, sap.sbo.util.formatter.getDisplayType}}</div>\r\n						<!-- <div class="validation-column">{{validationDesc}}</div> -->\r\n						<div class="required-column"><div class="slider-button" data-sap-widget="sap.sbo.ui.widget.SliderButton" data-sap-option="value:{{enabled, two-way}}, disabled:{{mandatory}}"></div></div>\r\n						<div class="link-column field-link"></div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n			<div id="add-new-field" class="field-row">{{i18n@app/settings/ADD_FIELD}}</div>\r\n			<div id="associated-bos-title" class="configure-title" sub-bo-count="{{subBos/length}}">{{i18n@app/settings/ASSOCIATED_BO}}</div>\r\n			<div data-sap-widget="sap.ui.Repeat" data-sap-option="data:{{subBos}}">\r\n				<div data-sap-template=\'Content\'  class="table-row">\r\n					<div class="field-row" sub-node-name="{{name}}">\r\n						<div class="subBo-name">{{displayName}}</div>\r\n						<div class="subBo-info">{{fieldCount}} {{i18n@app/settings/FIELDS}}</div>\r\n						<div class="link-column subBo-link"></div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n			<div id="setting-desc">{{i18n@app/settings/DESC}}</div>\r\n		</div>		\r\n	</div>\r\n</div>'}),define("html!sap.sbo.page.pad.settings.UserDefinedFieldSetting",function(){return'<div class="userDefinedFieldSetting" >\r\n	<div id="scroll-panel" isNew="{{data/isNew}}" data-categroy="{{data/data_type/value/selectedType/category}}" isEnumBo="{{data/isEnum}}" user-field="{{data/userDefined}}">\r\n			\r\n		<div id="content-panel">\r\n		\r\n			<div id="name-box" class="labelBox">\r\n				<div class="label">{{i18n@app/settings/NAME}}</div>\r\n				<div class="box">\r\n					<input type="text"  maxlength="18" data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{data/name/value,two-way}},disabled:{{data/name/isReadonly}},nullable:true,liveChange:true"></input>\r\n				</div>\r\n			</div>\r\n			\r\n			<div id="displayName-box" class="labelBox">\r\n				<div class="label">{{i18n@app/settings/DISPLAY_NAME}}</div>\r\n				<div class="box">\r\n					<input type="text" maxlength="254" data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{data/label/value,two-way}},disabled:{{data/label/isReadonly}},nullable:true,liveChange:true"></input>\r\n				</div>\r\n			</div>\r\n			\r\n			\r\n			<div class="labelBox">\r\n				<div class="label">{{i18n@app/settings/TYPE}}</div>\r\n				<div class="box">\r\n					<div id="data-type-picker" data-sap-widget="sap.ui.widget.DropDownBox" data-sap-option="data:{{data/data_type/value/types}},valueField:\'key\',textField:\'text\', \r\n					selectedValue:{{data/data_type/value/selectedTypeKey,two-way}},disabled:{{data/data_type/isReadonly}}"></div>\r\n					<input id="data-type-input" type="text" data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{data/data_type/value/selectedType/text}},disabled:{{data/data_type/isReadonly}},nullable:true,liveChange:true"></input>\r\n				</div>\r\n			</div>\r\n			\r\n			\r\n			<div class="labelBox">\r\n				<div class="label">{{i18n@app/settings/DESCRIPTION}}</div>\r\n				<div class="box">\r\n					<textarea data-sap-widget="sap.ui.widget.TextArea" maxlength="254"  data-sap-option="value: {{data/description/value,two-way}},disabled:{{data/description/isReadonly}},nullable:true"></textarea>\r\n				</div>\r\n			</div>\r\n			\r\n			<div class="labelBox">\r\n				<div class="label">{{i18n@app/settings/REQUIRED}}</div>\r\n				<div class="box">\r\n					<div data-sap-widget="sap.sbo.ui.widget.SliderButton" data-sap-option="value:{{data/mandatory/value,two-way}},disabled:{{data/mandatory/isReadonly}}"></div>					\r\n				</div>\r\n			</div>\r\n			\r\n			<div id="validation-box" class="labelBox" hide-validValues="{{data/validValues/isReadonly}}" hide-validationRule="{{data/validation/isReadonly}}">\r\n				<div id="general-label" class="label">{{i18n@app/settings/VALIDATION}}</div>\r\n				<div id="validValues-label" class="label">{{i18n@app/settings/VALID_VALUES}}</div>\r\n				<div class="box">\r\n					<div id="validation-tab" class="tab">\r\n						<div class="tab-header">\r\n							<div class="tab-header-item">\r\n								{{i18n@app/settings/NONE}}\r\n							</div>\r\n							<div id="validValues-header" class="tab-header-item">\r\n								{{i18n@app/settings/VALID_VALUES}}\r\n							</div>\r\n							<div id="advance-rule-header" class="tab-header-item">\r\n								{{i18n@app/settings/ADVANCE}}\r\n							</div>\r\n						</div>\r\n						<div class="tab-content">\r\n							<div class="tab-content-item">\r\n							</div>\r\n							<div id="validValues-Content" class="tab-content-item">\r\n								<div class="table">\r\n									<div class="table-header">\r\n										<div class="table-column" columnId="0">{{i18n@app/settings/VALUE}}</div>\r\n										<div class="table-column" columnId="1">{{i18n@app/settings/DESCRIPTION}}</div>\r\n									</div>\r\n									\r\n									<div id="validValues-table" data-sap-widget="sap.ui.Repeat" data-sap-option=\'data: {{data/validValues/value/list}}\' >\r\n										<div class="table-row" data-sap-template="Content">\r\n											<div class="table-column delete-icon" columnId="-1"></div> \r\n											<div class="table-column" columnId="0">{{displayValue}}</div>\r\n											<div class="table-column" columnId="1">{{description}}</div>\r\n											<div class="table-column goto-icon" columnId="3"></div>\r\n										</div>\r\n									</div>\r\n									\r\n									<div id="addValidValue" class="table-row row-normal">\r\n										<div class="table-column" >{{i18n@app/settings/ADD_VALID_VALUE}}</div>\r\n										<div class="table-column goto-icon" columnId="3"></div>\r\n									</div>\r\n									<div id="chooseValidValue" class="table-row row-normal">\r\n										<div class="table-column" >{{i18n@app/settings/CHOOSE_VALID_VALUES}}</div>\r\n										<div class="table-column goto-icon" columnId="3"></div>\r\n									</div>\r\n								</div>\r\n							</div>\r\n							<div id="advance-Content" class="tab-content-item">\r\n								<div class="advance-rule-panel" selectedRule={{data/validation/value/selectedRule}}>\r\n									<div class="labelBox">\r\n										<div class="label">{{i18n@app/settings/RULE}}</div>\r\n										<div class="box">\r\n											<div id="advance-rule-dropdownlist" data-sap-widget="sap.ui.widget.DropDownBox" \r\n											data-sap-option="data:{{data/validation/value/rules,two-way}},valueField:\'key\',textField:\'text\', \r\n											selectedValue:{{data/validation/value/selectedRule, two-way}},\r\n											disabled:{{data/validation/isReadonly}},nullable:true"></div>\r\n										</div>\r\n									</div>\r\n									<div id="general-box" class="labelBox">\r\n										<div class="label">{{i18n@app/settings/VALUE}}</div>\r\n										<div class="box control-by-dataType">\r\n											<input id="general-box-text-input" type="text" maxlength="254" data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{data/validation/value/expression/text,two-way}},disabled:{{data/validation/isReadonly}},nullable:true,liveChange:true"></input>\r\n											<div type="Date" data-sap-widget="sap.sbo.ui.widget.DateTimeField" data-sap-option="value:{{data/validation/value/expression/date,two-way,sap.sbo.util.formatter.date_JODATime}}" ></div>\r\n											<input id="general_decimal_input" data-sap-widget="sap.sbo.ui.widget.DecimalInputField" \r\n										data-sap-option="value: {{data/validation/value/expression/decimal, two-way, sap.formatter.real_string_nullable }}, \r\n										nullable: true, liveChange:true, decimalSeparator: {{globalSettings@separators/DecimalSeparator}}, \r\n										thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}} , \r\n										decimalNum:{{data/data_type/value/selectedType/decimalPlace}},disabled:{{data/validation/isReadonly}}" /> \r\n										</div>\r\n									</div>\r\n									<div id="from-box" class="labelBox">\r\n										<div class="label">{{i18n@app/settings/FROM}}</div>\r\n										<div class="box control-by-dataType">\r\n											<input type="text" maxlength="100" data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{data/validation/value/expression/from/text,two-way}},disabled:{{data/validation/isReadonly}},nullable:true,liveChange:true"></input>\r\n											<div type="Date" data-sap-widget="sap.sbo.ui.widget.DateTimeField" data-sap-option="value:{{data/validation/value/expression/from/date,two-way,sap.sbo.util.formatter.date_JODATime}}" ></div>\r\n											<input id="from_decimal_input" data-sap-widget="sap.sbo.ui.widget.DecimalInputField" \r\n										data-sap-option="value: {{data/validation/value/expression/from/decimal, two-way, sap.formatter.real_string_nullable }}, \r\n										nullable: true, liveChange:true, decimalSeparator: {{globalSettings@separators/DecimalSeparator}}, \r\n										thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}} , \r\n										decimalNum:{{data/data_type/value/selectedType/decimalPlace}},disabled:{{data/validation/isReadonly}}" /> \r\n										</div>\r\n									</div>\r\n									<div id="to-box" class="labelBox">\r\n										<div class="label">{{i18n@app/settings/TO}}</div>\r\n										<div class="box control-by-dataType">\r\n											<input type="text" maxlength="100" data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{data/validation/value/expression/to/text,two-way}},disabled:{{data/validation/isReadonly}},nullable:true,liveChange:true"></input>\r\n											<div type="Date" data-sap-widget="sap.sbo.ui.widget.DateTimeField" data-sap-option="value:{{data/validation/value/expression/to/date,two-way,sap.sbo.util.formatter.date_JODATime}}" ></div>\r\n											<input id="to_decimal_input" data-sap-widget="sap.sbo.ui.widget.DecimalInputField" \r\n										data-sap-option="value: {{data/validation/value/expression/to/decimal, two-way, sap.formatter.real_string_nullable }}, \r\n										nullable: true, liveChange:true, decimalSeparator: {{globalSettings@separators/DecimalSeparator}}, \r\n										thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}} , \r\n										decimalNum:{{data/data_type/value/selectedType/decimalPlace}},disabled:{{data/validation/isReadonly}}" /> \r\n										</div>\r\n									</div>\r\n									<div class="labelBox">\r\n										<div class="label">{{i18n@app/settings/CUS_ERR_MESSAGE}}</div>\r\n										<div class="box">\r\n											<textarea data-sap-widget="sap.ui.widget.TextArea" maxlength="254" data-sap-option="value: {{data/validation/value/errorMessage,two-way}},disabled:{{data/validation/isReadonly}},nullable:true"></textarea>\r\n										</div>\r\n									</div>\r\n								</div>\r\n							</div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		\r\n			<div id="defaultvalue-box" class="labelBox" hide-defaultValue="{{data/defaultValue/isReadonly}}">\r\n				<div class="label">{{i18n@app/settings/DEFAULT_VALUE}}</div>\r\n				<div class="box control-by-dataType" enable-validValues="{{data/validValues/value/enable}}">	\r\n					<input type="text"  maxlength="254" data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{data/defaultValue/value/text,two-way}},disabled:{{data/defaultValue/isReadonly}},nullable:true,liveChange:true"></input>										\r\n					<input id="defaultValue_decimal_input" data-sap-widget="sap.sbo.ui.widget.DecimalInputField" \r\n						   data-sap-option="value: {{data/defaultValue/value/decimal, two-way, sap.formatter.real_string_nullable }}, \r\n						   nullable: true, liveChange:true, decimalSeparator: {{globalSettings@separators/DecimalSeparator}}, \r\n						   thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}},decimalNum:{{data/data_type/value/selectedType/decimalPlace}},disabled:{{data/defaultValue/isReadonly}}" />\r\n					<div id="defaultvalue-box-dropdownList" data-sap-widget="sap.ui.widget.DropDownBox" data-sap-option="data:{{data/defaultValue/value/list}},valueField:\'key\',textField:\'text\', \r\n					selectedValue:{{data/defaultValue/value/selectedValue, two-way}},disabled:{{data/defaultValue/isReadonly}}, nullable: true"></div>					\r\n					\r\n					<div class="labelBox"  usedatedelay="{{data/defaultValue/value/useDateDelay}}">\r\n						<div class="labelBox">\r\n							<div class="label">{{i18n@app/settings/USEDATEDELAY}}</div>\r\n							<div class="box">\r\n								<div id="defDataInputSlider" data-sap-widget="sap.sbo.ui.widget.SliderButton" data-sap-option="value:{{data/defaultValue/value/useDateDelay,two-way}}"></div>\r\n							</div>\r\n						</div>\r\n\r\n						<div id="dateDelay" class="labelBox">\r\n							<div class="label">{{i18n@app/settings/DAYSDELAY}}</div>\r\n							<div class="box">						\r\n								<input id="defDateDelay" maxlength="2" data-sap-widget="sap.sbo.ui.widget.DecimalInputField" \r\n								   data-sap-option="value: {{data/defaultValue/value/dateDelay, two-way, sap.formatter.real_string_nullable }}, \r\n								   nullable: true, liveChange:true, decimalSeparator: {{globalSettings@separators/DecimalSeparator}}, \r\n								   thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}},decimalNum:0, removeLastZeros:true"\r\n							    />\r\n						    </div>		\r\n						</div>\r\n						\r\n						<div id="intputDefDate" class="labelBox">\r\n							<div class="label">{{i18n@app/settings/INPUTDATE}}</div>\r\n							<div class="box">						\r\n								<div id="defDateValue" type="Date" data-sap-widget="sap.sbo.ui.widget.DateTimeField" data-sap-option="value:{{data/defaultValue/value/date,two-way,sap.sbo.util.formatter.date_JODATime}}"></div>\r\n						    </div>		\r\n						</div>						\r\n\r\n					</div>\r\n			\r\n				</div>\r\n			</div>\r\n	</div>\r\n	</div>\r\n</div>\r\n'
}),define("html!sap.sbo.page.pad.settings.approval.ApprovalDetail",function(){return'<div class="sbo-approval-detail">\r\n    <div field="items" class="detail" >\r\n        <div class="left-col" data-sap-class="content"data-sfa-card-id="{{id}}">\r\n            <div class="second">\r\n                <div class="key-value">\r\n	                <div class="key">{{i18n@app/appr/APPROVALNAME}}</div>\r\n	                <div class="value"><input class = \'input\'  data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{title,two-way}}, nullable: true"></div>\r\n                </div>\r\n                <div class="key-value-terms">    \r\n                    <div class="key">{{i18n@app/appr/TERMS}}</div>\r\n                    	<div class="value" >\r\n                    	<div class=\'term-input\' data-sap-class="termType" \r\n						  data-sap-widget=\'sap.ui.widget.DropDownBox\' \r\n						  data-sap-option=\'data:{{TermTypeUI}},textField:"termType",valueField:"code",selectedValue:{{term/termType,two-way}}\'>\r\n						  <!--  data-sap-option=\'data:{{TermTypeUI}}[{termType:{{i18n@app/appr/ALWAYS}},code:"Always"},{termType:{{i18n@app/appr/TOTAL}},code:"Total"},{termType:{{i18n@app/appr/DISCOUNT}},code:"Discount"}],textField:"termType",valueField:"code",selectedValue:{{term/termType,two-way}}\'>-->\r\n						</div>\r\n						<div class=\'term-input\' data-sap-class="termCondition"\r\n						  data-sap-widget=\'sap.ui.widget.DropDownBox\' \r\n						  data-sap-option=\'data:{{TermConditionUI}},textField:"termCondition",valueField:"code",selectedValue:{{term/termCondition,two-way}}\'> \r\n						 <!-- data-sap-option=\'data:{{ConditionUI}}[{termCondition:{{i18n@app/appr/EQUALS}},code:"Equals"},{termCondition:{{i18n@app/appr/GREATERTHAN}},code:"GreaterThan"},{termCondition:{{i18n@app/appr/LESSTHAN}},code:"LessThan"}],textField:"termCondition",valueField:"code",selectedValue:{{term/termCondition,two-way}}\'>  -->\r\n						</div>\r\n                    	<div class=\'term-input\' >\r\n                    	<input  data-sap-class="termValue" data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{term/termValue,two-way}}, nullable: false">\r\n                         <div class=\'discount-mark\'> %</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="key-value">\r\n                    <div class="key">{{i18n@app/appr/AUTHORIZER}}</div>\r\n                    <div class="value">\r\n         				<div data-sap-class="authorizer" class=\'input\' data-sap-widget="sap.ui.widget.ValueHelpField" data-sap-option="value: {{authorizerDisplayName,two-way}}"></div>\r\n                    </div>\r\n                </div>\r\n                <div class="key-value">\r\n                    <div class="key"style=\'float:left\'\'>{{i18n@app/appr/STATUS}}</div><img style=\'float:left;margin-right:5px\' data-sfa-class="addBtn"  src = "image/approval/{{active,sap.sbo.page.pad.settings.approval.ApprovalSettingUtil.getActiveImg}}.png" />\r\n                    <div class="value">\r\n                    <div class=\'input\' \r\n						  data-sap-widget=\'sap.ui.widget.DropDownBox\' \r\n						  data-sap-option=\'data:{{StatusUI}},textField:"status",valueField:"code",selectedValue:{{active,sap.sbo.page.pad.settings.approval.ApprovalSettingUtil.convertToString,two-way}}\'>\r\n						 <!--   data-sap-option=\'data:{{}}[{status:"active",code:"true"},{status:"inactive",code:"false"}],textField:"status",valueField:"code",selectedValue:{{active,sap.sbo.page.pad.settings.approval.ApprovalSettingUtil.convertToString,two-way}}\'>-->\r\n						</div>\r\n                    </div>\r\n                </div>\r\n                <div class="key-value">\r\n                    <div class="key">{{i18n@app/appr/ORIGINATORS}}</div>\r\n                    <div class="value">\r\n                     <span data-sap-class="allusers"  data-sap-widget=\'sap.ui.widget.Checkbox\' data-sap-option="checked:{{allUsers,two-way}},text:{{i18n@app/appr/ALLUSERS}}"></span>\r\n                     </div>\r\n                </div>\r\n            </div>\r\n            \r\n        </div>\r\n    </div>\r\n    <div field="items" class="detail2">\r\n                    <div  class = \'h1\' data-sap-class="addoriginator" display=\'inline\'>\r\n	                    <img style=\'float:left;margin-right:5px\' data-sfa-class="addBtn"  src = "image/approval/add_field.png" />\r\n	                    <div>{{i18n@app/appr/ADDORIGINATOR}}</div>\r\n                    </div>\r\n		           \r\n		           	 <div data-sfa-class="container" data-sap-widget="sap.ui.Repeat"	data-sap-option="data:{{originators}}">\r\n						<div data-sap-template="Content" data-sfa-class="tile" \r\n							data-sfa-tile-id="{{originator}}">\r\n						<img id = "removeBtn" data-sfa-class="removeBtn"  modetype=\'edit\' src = "image/Customer/trash16.png" />\r\n						<div class="originatorName">{{originatorDisplayName}}</div>\r\n						 \r\n						</div>\r\n					</div>\r\n        </div>\r\n    </div>\r\n    \r\n</div>'}),define("html!sap.sbo.page.pad.settings.approval.ApprovalList",function(){return'<div class="sbo-approval-list">\r\n    <div field="items" \r\n        class="list"\r\n        data-sap-widget="sap.sbo.layout.pad.CardLayout" data-sap-option="data: {{list, two-way}}, width: 340">\r\n        <div class="list-item" data-sap-template="Content"data-sfa-card-id="{{id}}">\r\n            <div class="first">\r\n                <h1>{{title}}</h1>\r\n            </div>\r\n            <div class="second">\r\n                <div class="key-value">\r\n                    <div class="key">{{i18n@app/appr/TERMS}}</div>\r\n                    	<div class="value" style="float:left">\r\n	                    	<div style="float:left;">{{,sap.sbo.page.pad.settings.approval.ApprovalSettingUtil.getTermInfo}}</div>\r\n                    	</div>\r\n                </div>\r\n                <div class="key-value">\r\n                    <div class="key">{{i18n@app/appr/AUTHORIZER}}</div>\r\n                    <div class="value">{{authorizerDisplayName}}</div>\r\n                </div>\r\n                <div class="key-value">\r\n                    <div class="key">{{i18n@app/appr/STATUS}}</div>\r\n                    <div class="value">\r\n	                    <img style=\'float:left;margin-right:5px\' data-sfa-class="addBtn"  src = "image/approval/{{active,sap.sbo.page.pad.settings.approval.ApprovalSettingUtil.getActiveImg}}.png" />\r\n	                    <div>{{active,sap.sbo.page.pad.settings.approval.ApprovalSettingUtil.getActive}}</div>\r\n                    </div>\r\n                </div>\r\n                <div class="key-value-originators">\r\n                    <div class="key">{{i18n@app/appr/ORIGINATORS}}</div>\r\n                    <div class="value"><div>{{,sap.sbo.page.pad.settings.approval.ApprovalSettingUtil.getOriginator}}</div>\r\n                <div data-sfa-class="container" data-sap-widget="sap.ui.Repeat"	data-sap-option="data:{{originators}}">\r\n					<div data-sap-template="Content" data-sfa-class="tile" \r\n						data-sfa-tile-id="{{originator}}">\r\n					   <div class="originatorName">{{originatorDisplayName}}</div>\r\n					</div>\r\n				</div>\r\n				</div>\r\n                </div>\r\n            </div>\r\n            \r\n        </div>\r\n    </div>\r\n    \r\n</div>'}),define("html!sap.sbo.page.pad.settings.approval.ApprovalTile",function(){return'<div class="sbo-bo-tile sbo-bo-tile-{{count}} sbo-note-tile approval">\r\n	<div class="title">{{title}}</div>\r\n	<div class="number"><div class="value">{{count, sap.sbo.util.formatter.circleNumber_more}}</div></div>\r\n	<div data-sbo-class="info">\r\n	  <!--   <div data-sfa-class="ApprovalContainer" data-sap-widget="sap.ui.Repeat"  data-sap-option="data:{{details/value}}"> 	\r\n	  		<div data-sfa-class="approvalInfo" data-sfa-tile-id="{{Id}}" >\r\n	  		  <div  data-sfa-class="TileDate">{{endDate,sap.sbo.app.Approval.ApprovalUtil.GetDateString}}</div>\r\n	  		  <div data-sfa-class="TileDescription">{{description,sap.sbo.app.Approval.ApprovalUtil.GetShortDesc}}</div>\r\n	      </div>\r\n	  </div>-->\r\n	</div>\r\n</div>'}),define("html!sap.sbo.page.pad.ProductSetting.ProductSetting",function(){return'<div class=\'sbo-ProductSetting\'>\r\n    <div ctrl=\'layout\' class=\'sbo-ProductSetting-layout\' data-sap-widget="sap.sbo.layout.pad.AdvancedTilesLayout" data-sap-option="disableLayoutService: true">\r\n        <div data-sap-template="Html" mode="2x2" uuid="pricelist">\r\n            <div index="sfa-productSetting-pricelists" class="sbo-bo-tile pricelistsetting sbo-bo-tile-{{countOfPL}} pink" field="pricelistsetting">    \r\n                <div class="title">\r\n                    <div>\r\n                        {{i18n@app/product/PRICE_LISTS}}\r\n                    </div>\r\n                </div>\r\n                <div class="number">\r\n                    <div class="value" id="numOfPriceLists"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n        <div data-sap-template="Html" mode="2x2" uuid="manufacturers">\r\n          <div index="sfa-productSetting-manufacturers" class="sbo-bo-tile manufacturerssetting sbo-bo-tile-{{countOfManu}} green" field="manufacturerssetting">    \r\n                <div class="title">\r\n                    <div>\r\n                        {{i18n@app/manufct/MANUFACTURERS}}\r\n                    </div>\r\n                </div>\r\n                <div class="number">\r\n                    <div class="value" id="numOfManufacturer"></div>\r\n                </div>\r\n            </div>\r\n       </div>\r\n       \r\n       <div data-sap-template="Html" mode="2x2" uuid="itemgroups">\r\n          <div index="sfa-productSetting-itemgroups" class="sbo-bo-tile itemgroupsetting sbo-bo-tile-{{countOfItemgroup}} yellow" field="itemgroupssetting">    \r\n                <div class="title">\r\n                    <div>\r\n                        {{i18n@app/itemgroup/ITEM_GROUPS}}\r\n                    </div>\r\n                </div>\r\n                <div class="number">\r\n                    <div class="value" id="numOfItemgroup"></div>\r\n                </div>\r\n            </div>\r\n       </div>\r\n       \r\n    </div>\r\n</div>\r\n'}),define("html!sap.sbo.page.pad.ProductSetting.ItemGroup.ItemGroupsSettingTile",function(){return'<div class="sbo-itemgroupsetting-edit">\r\n\r\n    <div data-sap-template="header">\r\n    </div>\r\n\r\n    <div data-sap-template="itemHeader">\r\n    </div>\r\n\r\n    <div data-sap-template="itemFields">\r\n        <div data-sap-template="Content">\r\n            <div data-sap-template="Property" property="groupName"></div>\r\n        </div>\r\n        <div data-sap-template="PropertyTemplate">\r\n \r\n        </div>\r\n\r\n    </div>\r\n</div>\r\n\r\n<!--\r\nvim:ts=2 sw=2 noexpandtab\r\n-->\r\n\r\n\r\n'}),define("html!sap.sbo.page.pad.ProductSetting.Manufacturers.ManufacturersSettingTile",function(){return'<div class="sbo-manufacturers-edit">\r\n\r\n    <div data-sap-template="header">\r\n    </div>\r\n\r\n    <div data-sap-template="itemHeader">\r\n    </div>\r\n\r\n    <div data-sap-template="itemFields">\r\n        <div data-sap-template="Content">\r\n            <div data-sap-template="Property" property="manufacturerName"></div>\r\n        </div>\r\n       \r\n        <div data-sap-template="PropertyTemplate">\r\n \r\n        </div>\r\n\r\n    </div>\r\n</div>\r\n\r\n<!--\r\nvim:ts=2 sw=2 noexpandtab\r\n-->\r\n\r\n\r\n'}),define("html!sap.sbo.page.pad.ProductSetting.PriceList.PriceListsSettingTile",function(){return'<div class="sbo-pricelistsetting-edit">\r\n\r\n    <div data-sap-template="header">\r\n    </div>\r\n\r\n    <div data-sap-template="itemHeader">\r\n    </div>\r\n\r\n    <div data-sap-template="itemFields">\r\n        <div data-sap-template="Content">\r\n            <div data-sap-template="Property" property="priceListNo"></div>\r\n            <div data-sap-template="Property" property="priceListName"></div>\r\n            <div data-sap-template="Property" property="groupNum"></div>\r\n            <div data-sap-template="Property" property="isGrossPrice" option=\'{"label":""}\'></div>\r\n            <div data-sap-template="Property" property="active"></div>\r\n            <div data-sap-template="Property" property="validFrom"></div>\r\n            <div data-sap-template="Property" property="validTo"></div>\r\n           \r\n        </div>\r\n        <div data-sap-template="PropertyTemplate">\r\n            \r\n            <div data-sap-template="[priceListNo]" gl-readOnly="{{$readOnly}}" gl-enabled="{{$enabled}}">\r\n                <div class="key-value">\r\n			        <div class="key"></div>\r\n			        <div class="value">\r\n			            <span>{{loop@internal/index, formatter.getIndex}}</span>\r\n			        </div>\r\n                </div>\r\n            </div>\r\n            \r\n            <div data-sap-template="[groupNum]" gl-readOnly="{{$readOnly}}" gl-enabled="{{$enabled}}">\r\n                <div class="key-value">\r\n                    <div class="key">{{i18n@app/pricelist/AUTH_GROUP}}</div>\r\n                    <div class="value">\r\n                         <div data-sap-widget=\'sap.ui.widget.DropDownBox\' data-sap-option=\'textField:"label", valueField:"name", data:{{list@enumOfPriceListGroup}}, selectedValue: {{loop@data/groupNum,two-way}}, disabled: {{$readOnly}}\'></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n       \r\n            <div data-sap-template="[isGrossPrice]" gl-readOnly="{{$readOnly}}" gl-enabled="{{$enabled}}">\r\n                <div class="key-value">\r\n                    <div class="key">{{i18n@app/pricelist/GROSS_PRICE}}</div>\r\n                    <div class="value">\r\n					  <div data-sap-widget="sap.ui.widget.Checkbox" \r\n			                data-sap-option="text:\'\', checked:{{#PROPERTY#, sap.sbo.util.formatter.bool_string,two-way}}, disabled:{{$readOnly}}">\r\n			            </div>\r\n			        </div>\r\n			    </div>\r\n            </div>\r\n            \r\n\r\n<!-- \r\n            <div data-sap-template="[validFrom]" gl-readOnly="{{$readOnly}}" gl-enabled="{{$enabled}}">\r\n                <div class="key-value">\r\n                    <div class="key">Valid From</div>\r\n                    <div class="value">\r\n                        <div type="date" data-sap-widget="_layout_.sap.sbo.ui.widget.DateTimeField" data-sap-option="value:{{loop@data/validFrom, two-way, _layout_.sap.sbo.util.formatter.date_JODATime}},disabled:{{$readOnly}}"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n  -->\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n'}),define("html!sap.sbo.page.phone.ContentTileViewController",function(){return'<div class=\'content-tile\'>\r\n    <div class="header">\r\n        <div class="title"></div>\r\n    </div>\r\n    <div class="content">\r\n        <div class="block1" data-action="basic">\r\n            <div class="number">\r\n                <div class="value"></div>\r\n            </div>\r\n        </div>\r\n        <div class="block2">\r\n            <div class="create" data-action="create">\r\n                <div class="icon">+</div>\r\n                <div class="desc"></div>\r\n            </div>\r\n            <div class="content" data-action="navigate">\r\n            </div>\r\n        </div>\r\n        <div class="separator"></div>\r\n    </div>\r\n</div>\r\n'}),define("html!sap.sbo.page.phone.Home",function(){return'<div class=\'sbo-home\'>\r\n	<div ctrl=\'layout\' class=\'sbo-home-layout\' \r\n	   data-sap-widget="sap.sbo.layout.phone.AdvancedTilesLayout" \r\n	   data-sap-option="column: 2, ratio: 2.256">\r\n	    <div data-sap-template="View" mode="2x1" coordinate="0,0" uuid="sbo.NotePageTile" name="sap.sbo.app.notepage.NotePageTile"></div>\r\n	    <div data-sap-template="View" mode="2x1" coordinate="0,1" uuid="sbo.taskTile" name="sap.sbo.app.task.taskTile"></div>\r\n        <div data-sap-template="View" mode="2x1" coordinate="0,2" uuid="sbo.FeedTile" name="sap.sbo.app.network.phone.FeedTile"></div>\r\n        <div data-sap-template="View" mode="2x1" coordinate="0,3" uuid="sbo.ContactTile" name="sap.sbo.app.Contact.ContactTile"></div>\r\n        <div data-sap-template="View" mode="2x1" coordinate="0,4" uuid="sbo.CustomerTile" name="sap.sbo.app.Customer.CustomerTile"></div>\r\n        <div data-sap-template="View" mode="2x1" coordinate="0,5" uuid="sbo.ProductTile" name="sap.sbo.app.Product.ProductTile"></div>\r\n        <div data-sap-template="View" mode="2x1" coordinate="0,6" uuid="sbo.SalesOppsTile" name="sap.sbo.app.SalesOpportunity.Tile"></div>\r\n        <div data-sap-template="View" mode="2x1" coordinate="0,7" uuid="sbo.SalesOrderTile" name="sap.sbo.app.SalesOrder.SalesOrderTile"></div>\r\n        <div data-sap-template="View" mode="2x1" coordinate="0,8" uuid="sbo.SalesQuotationTile" name="sap.sbo.app.SalesQuotation.SalesQuotationTile"></div>\r\n        <div data-sap-template="View" mode="2x1" coordinate="0,9" uuid="sbo.LeadsTile" name="sap.sbo.app.Leads.LeadsTile"></div>\r\n        <div data-sap-template="View" mode="2x1" coordinate="0,10" uuid="sbo.ReportTile" name="sap.sbo.app.report.tile"></div>\r\n        <!--<div data-sap-template="View" mode="1x2" uuid="sbo.ColleagueTile" name="sap.sbo.app.colleague.ColleagueTile"></div>-->\r\n	</div>\r\n</div>\r\n'}),define("html!sap.sbo.page.phone.SubBoMetadataView",function(){return'<div data-sap-template="header">\r\n		<div class="header-fields"\r\n			data-sap-widget="sap.sbo.layout.phone.MetadataList"\r\n			data-sap-option="sequenceAutoExpand:false, metadata:{{setting@metadata}}, readonly:{{setting@customReadonly}}, dynamicMeta:{{setting@dynamicMeta}}">\r\n		</div>\r\n		<div class="more">\r\n            <div class="icon"> &gt; </div>\r\n        </div>\r\n</div>\r\n<div data-sap-template="itemHeader">\r\n	\r\n</div>\r\n<div data-sap-template="itemFields">\r\n	<div class="fields"\r\n		data-sap-widget="sap.sbo.layout.phone.MetadataRaw"\r\n		data-sap-option="modelPrefix:\'loop@data/\', readonly:{{meta@customReadonly}}">\r\n	</div>\r\n</div>\r\n<!--\r\n vim:ts=2 sw=2 noexpandtab\r\n -->\r\n\r\n\r\n\r\n'}),define("html!sap.sbo.page.phone.SubBoMetadataViewEditFrame",function(){return'<div data-id=\'sbo-subbo-metadata-view-edit-frame\'>\r\n  <!-- <div class="actions">                                                   -->\r\n  <!--   <div data-action="close" class="button">{{i18n@common/CANCEL}}</div>  -->\r\n  <!--   <div data-action="save" class="button">{{i18n@common/OK}}</div>       -->\r\n  <!--   <div data-action="remove" class="button">{{i18n@common/REMOVE}}</div> -->\r\n  <!-- </div>                                                                  -->\r\n  <div class="content">\r\n    <div class="fields"\r\n      data-sap-widget="sap.sbo.layout.phone.MetadataRaw"\r\n      data-sap-option="modelPrefix:\'#MODELPREFIX#\'">\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n<!--\r\n vim:ts=2 sw=2 noexpandtab\r\n -->\r\n\r\n\r\n\r\n\r\n'}),define("html!sap.sbo.page.phone.Contact.AddressEdit",function(){return'<div class="contact-address-edit">\r\n   <div class="scroll">\r\n    <div class="content">\r\n    <div class="Detail pane">\r\n		    <div class="field">\r\n		        <div class="key">{{i18n@app/address/ADDRESS_NAME}}</div>\r\n		        <div class="value">\r\n		          <input data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{addressEditModel@addressName,two-way}},nullable:true">\r\n		        </div> \r\n		    </div>    \r\n            <div class="field">\r\n                <div class="key">{{i18n@app/address/COUNTRY}}</div>\r\n                <div class="value">\r\n                <span data-sap-widget="sap.ui.widget.DropDownBox" data-sap-option="textField: \'name\', valueField: \'code\', data: {{AddressModel@countrylist}}, selectedValue: {{addressEditModel@country, two-way}}"></span>\r\n                </div>\r\n            </div>\r\n            <div class="field">\r\n                <div class="key" >{{i18n@app/address/STATE}}</div>\r\n                <div class="value">\r\n                <span data-sap-widget="sap.ui.widget.DropDownBox" data-sap-option="textField: \'name\', valueField: \'code\', data: {{AddressModel@statelist}}, selectedValue: {{addressEditModel@state, two-way}}"></span>\r\n                </div>\r\n            </div>\r\n            <div class="field">\r\n               <div class="key">{{i18n@app/address/ZIPCODE}}</div>\r\n               <div class="value" ><input data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{addressEditModel@zipCode, two-way}},nullable:true"></div>\r\n            </div>\r\n            <div class="field">\r\n                <div class="key">{{i18n@app/address/CITY}}</div>\r\n                <div class="value" ><input data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{addressEditModel@city, two-way}},nullable:true"></div>\r\n            </div>\r\n            <div class="field">\r\n                <div class="key">{{i18n@app/address/STREET}}</div>\r\n                <div class="value"><input data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{addressEditModel@street,two-way}},nullable:true"></div>\r\n                <div class="value"><input data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{addressEditModel@block,two-way}},nullable:true"></div> \r\n            </div>\r\n    </div>\r\n    <div class="actions">\r\n        <div class="action" ctrl="btnSetMain" data-main="{{FlagModel@bMainFlag}}" data-touchable=\'true\'>{{i18n@app/contact/MAIN_ADD}}</div>\r\n    </div>\r\n    <div class="buttons">\r\n        <div class=\'btn-main\' data-main="{{FlagModel@bMainFlag}}">\r\n        </div> \r\n    </div>\r\n   </div>\r\n  </div>\r\n</div>\r\n'}),define("html!sap.sbo.page.phone.Contact.AddressListView",function(){return'<div class=\'bo-listview address-list\'>\r\n  <div data-id="listView"  class="showCommandBtn"  data-sap-widget="sap.sbo.layout.phone.ListLayout" data-sap-option="itemHeight: 170">\r\n    <div data-sap-template="Content" data-touchable="false">\r\n      <div class=\'item\'>\r\n        <div class=\'header\' data-id="header">\r\n          <div class=\'title\'>\r\n            <span>{{addressName}}</span>\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\'details\' data-id="details">\r\n          <div class="field">\r\n	          <div class="value" data-sap-widget="sap.sbo.ui.widget.Address"  \r\n	              data-sap-option="locale:{{country, formatter.string_null}}, \r\n	              country:{{CountryName, formatter.string_null}}, \r\n	              state:{{state, formatter.string_null}}, \r\n	              zipCode:{{zipCode, formatter.string_null}}, \r\n	              city:{{city, formatter.string_null}}, \r\n	              street1:{{street, formatter.string_null}}, \r\n	              street2:{{block, formatter.string_null}}">\r\n	          </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\'buttons\' data-id="buttons">\r\n            <div class=\'btn-main\' data-mainContact="{{AddressInfo@bMainFlag}}">\r\n            </div>\r\n        </div>\r\n        \r\n        <div class=\'actions\'>\r\n            <div class=\'edit\' data-touchable="true">\r\n            </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>'}),define("html!sap.sbo.page.phone.Contact.AddressTile",function(){return' <div class=\'sbo-contact-addresstile\'>\r\n    <div data-sap-template="block1">\r\n    </div>\r\n    <div data-sap-template="block2">\r\n                \r\n        <div class="pic"></div>         \r\n        <div class="mainIcon"><img src=\'./image/Customer/goldenStar.png\'></div>\r\n        <div class="name">{{Address@addressName}}&nbsp;</div>\r\n           \r\n    </div>\r\n</div>'}),define("html!sap.sbo.page.phone.Contact.BasicTile",function(){return' <div class=\'sbo-contact-basictile\'>\r\n    <div data-sap-template="block1">\r\n        <div class="logo" data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{Image/url}}, radius:"50%", arrangeType:"both" \' ></div>\r\n    </div>\r\n    <div data-sap-template="block2">\r\n\r\n         <div class="field">\r\n             <div class="label">{{i18n@app/contact/POSITION}}</div>\r\n             <div class="value">{{position}}&nbsp;</div>\r\n             <div class="label">{{i18n@app/contact/CUSTOMER}}</div>\r\n             <div class="value">{{cardCode}}</div>\r\n             <div class="value">{{BusinessPartnerCardName}}</div>\r\n         </div>\r\n                    \r\n    </div>\r\n</div>'}),define("html!sap.sbo.page.phone.Contact.ContactCreation",function(){return'<div class=\'sbo-bo-creation-frame\'>\r\n    <div class="title">\r\n       {{i18n@app/contact/NEW_CONTACT}}\r\n    </div>\r\n    <div class="fields">\r\n        <div ctrl="main"\r\n            class="sbo-app-template-editproperty" \r\n            data-sap-widget="sap.sbo.layout.phone.MetadataList" \r\n            data-sap-option=" verticalPadding: 5, ignoredProperty: [\'contactPersonID\', \'name\', \'active\', \'ownerCode\', \'mainAdd\',\'portraitId\',\'BusinessPartnerCardName\',\'OwnerEmployeeFirstName\',\'OwnerEmployeeLastName\',\'OwnerEmployeeDisplayName\',\'displayName\']"\r\n        >\r\n            <div data-sap-template="Content">\r\n                <div data-sap-template="Property" property="lastName"></div>\r\n                <div data-sap-template="Property" property="firstName"></div>\r\n                <div data-sap-template="Property" property="cardCode"></div>\r\n                <div data-sap-template="Property" property="title"></div>\r\n                <div data-sap-template="Property" property="position"></div>\r\n                <div data-sap-template="Property" property="mobilePhone"></div>\r\n                <div data-sap-template="Property" property="phone1"></div>\r\n                <div data-sap-template="Property" property="e_Mail"></div>\r\n                <div data-sap-template="Property" property="fax"></div>\r\n            </div>\r\n                \r\n            <div data-sap-template=\'PropertyTemplate\'>\r\n                <div data-sap-template="String[cardCode]">\r\n                    <div class="key-value">\r\n		              <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n                        <div class="value" data-touchable="true">\r\n		                  <div>{{cardCode}}</div>\r\n		                  <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n		                    data-sap-option="text:{{BusinessPartnerCardName}}, readonly:{{customer@readonly}}, navigationEnabled: false"\r\n		                    ></div>\r\n                        </div> \r\n                    </div>\r\n                    \r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>    \r\n</div>\r\n'}),define("html!sap.sbo.page.phone.Contact.ContactEdit",function(){return'<div>\r\n    <div ctrl="main" class="sbo-app-template-editproperty sbo-app-template-property-info-enable"\r\n        data-sap-widget="sap.sbo.layout.phone.MetadataLayout" \r\n        data-sap-option="verticalPadding: 20, ignoredProperty: [ \'contactPersonID\', \'name\', \'mainAdd\',\'portraitId\',\'BusinessPartnerCardName\',\'OwnerEmployeeDisplayName\',\'displayName\']"\r\n    >\r\n\r\n    <div data-sap-template="Content">\r\n        <div data-sap-template="Property" property="lastName"></div>\r\n        <div data-sap-template="Property" property="firstName"></div>\r\n        <div data-sap-template="Property" property="title"></div>                          \r\n        <div data-sap-template="Property" property="position"></div>\r\n        <div data-sap-template="Property" property="cardCode"></div>\r\n        <div data-sap-template="Property" property="ownerCode"></div>\r\n        <div data-sap-template="Property" property="active"></div>\r\n        <div data-sap-template="Property" property="mobilePhone"></div>                                                                               \r\n        <div data-sap-template="Property" property="phone1"></div>\r\n        <div data-sap-template="Property" property="fax"></div>\r\n        <div data-sap-template="Property" property="e_Mail"></div>\r\n    </div>\r\n         \r\n     <div data-sap-template=\'PropertyTemplate\'>\r\n         <div data-sap-template="String[cardCode]">\r\n            <div class="key-value">\r\n              <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n              <div class="value" data-touchable="true">\r\n                  <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n                    data-sap-option="text:{{cardCode}}, readonly:true, inNavigationMode:{{meta@readonly}}"></div>\r\n                  <div>{{BusinessPartnerCardName}}&nbsp;</div>\r\n              </div>\r\n            </div>      \r\n         </div>\r\n         \r\n         <div data-sap-template="[ownerCode]">\r\n                <div class="key-value">\r\n                  <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n                  <div class="value" data-touchable="true">\r\n                    <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n                      data-sap-option="iconUrl:{{owner@OwnerImage/url}}, text:{{OwnerEmployeeDisplayName}}, readonly:{{$readOnly}}, inNavigationMode:{{meta@readonly}}"\r\n                      ></div>\r\n                  </div>\r\n                </div>     \r\n         </div>\r\n         \r\n        <div data-sap-template="[active]">\r\n             <div class="writable key-value">\r\n                <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n                 <div class="value">\r\n                    <span boEditId=\'rightInfo\' class=\'changeStatus\' boEditId=\'hyperLink\' \r\n                    data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{#PROPERTY#, sap.sbo.util.formatter.getActiveImg}}, arrangeType:"original" \' ></span>\r\n                    <span>{{#PROPERTY#,sap.sbo.util.formatter.isActive}}</span>     \r\n                 </div> \r\n             </div>\r\n             \r\n            <div class="readonly key-value">\r\n             <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n             <div class="value">\r\n                <div>{{#PROPERTY#,sap.sbo.util.formatter.isActive}}</div>\r\n             </div>\r\n            </div>  \r\n        </div>         \r\n         \r\n     </div>\r\n        \r\n    </div>\r\n</div>\r\n'}),define("html!sap.sbo.page.phone.Contact.ContactHome",function(){return' <div class=\'sbo-bo-home sbo-contact-home\'>\r\n\r\n    <div ctrl=\'layout\' class=\'sbo-bo-home-layout\'\r\n    data-sap-widget="sap.sbo.layout.phone.AdvancedTilesLayout"\r\n    data-sap-option="column:2, ratio: 3">\r\n\r\n        <div data-sap-template="View" mode="2x1" coordinate="0,0" uuid="general" name="sap.sbo.page.phone.Contact.BasicTile"></div>\r\n        <div data-sap-template="View" mode="2x1" coordinate="0,1" uuid="address" name="sap.sbo.page.phone.Contact.AddressTile"></div>\r\n        <div data-sap-template="View" mode="1x1" coordinate="0,2" uuid="sbo.NotePageTile" name="sap.sbo.app.notepage.NotePageTile"></div>\r\n        <div data-sap-template="View" mode="1x1" coordinate="1,2" uuid="sbo.taskTile" name="sap.sbo.app.task.taskTile" option=""></div>\r\n        <div data-sap-template="View" mode="2x1" coordinate="0,3" uuid="sbo.FeedTile" name="sap.sbo.app.network.phone.FeedTile"></div>\r\n        <div data-sap-template="View" mode="1x1" coordinate="0,4" uuid="sbo.RelatedTile" name="sap.sbo.app.network.RelatedTile"></div>\r\n        \r\n        \r\n    </div>\r\n</div>'
}),define("html!sap.sbo.page.phone.Contact.ContactListView",function(){return'<div class=\'bo-listview contact\'>\r\n  <div data-id="listView" data-sap-widget="sap.sbo.layout.phone.ListLayout" data-sap-option=\'itemHeight:75\r\n   ,select:["contactPersonID", "displayName","position","mobilePhone", "phone1", "portraitId","cardCode","ownerCode","active", "name"]\' >\r\n    <div data-sap-template="Content" class=\'content\' data-touchable="false" data-inActive="{{active, formatter.bool_string}}">\r\n        <div class=\'item\' data-touchable="true">\r\n            <div class=\'header\'>\r\n                <div class="index">{{position}}&nbsp;</div>\r\n                <div class="title">{{displayName}}&nbsp; </div>\r\n            </div>\r\n            <div class="avatar-container" data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{Image/url, sap.sbo.page.common.oppUtil.convertNullString}}, radius:"50%",  arrangeType:"both" \' ></div>\r\n            <div class="status" data-mainContact="{{bMainFlag}}"><img src="./image/Customer/goldenStar.png" /></div>\r\n        </div>\r\n        <div class=\'action\' data-touchable="{{pressable, formatter.string_bool}}">\r\n            <div class=\'phoneButton\' data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{pressable, formatter.getPhoneImg}}, arrangeType:"original" \'></div>\r\n        </div>\r\n        <div class=\'button setMain\'>\r\n            <div class="detail" data-id="setMain" data-mainContact="{{bMainFlag}}">\r\n                <span data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{bMainFlag, formatter.setMain}}, arrangeType:"original" \'></span>\r\n                <span>{{i18n@app/customer/MAIN_CONTACT}}</span>                 \r\n            </div>               \r\n        </div>\r\n        <div class=\'button remove\'>\r\n            <div class="detail" data-id="remove">\r\n                <span><img src="./image/Customer/remove.png" /></span>\r\n                <span>{{i18n@app/contact/REMOVE}}</span>\r\n            </div>             \r\n        </div>        \r\n  </div>\r\n  \r\n        <div data-sap-template="PropertyTemplate" style="display: none;">\r\n            <div data-sap-template="String[cardCode]">\r\n                <div class="key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div data-id="cardCode"\r\n                            data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n                            data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.phone.ChooseListCustomer\', titleField: \'cardName\', subtitleField: \'cardCode\', valueField: \'cardCode\'"></div>    \r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n            <div data-sap-template="Integer[ownerCode]">\r\n                <div class="key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div data-id="ownerCode"\r\n                            data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n                            data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.phone.ChooseListEmployee\', titleField: \'displayName\', valueField: \'employeeID\'"></div>    \r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>  \r\n</div>\r\n</div>\r\n'}),define("html!sap.sbo.page.phone.colleague.ColleagueHome",function(){return'<div ctrl=\'layout\' class=\'sbo-bo-home-layout\'\r\n    data-sap-widget="sap.sbo.layout.phone.AdvancedTilesLayout"\r\n    data-sap-option="column:2, ratio: 1.2">\r\n    <div class="user_employee" data-sap-template="Html" mode="2x1" coordinate="0,0" uuid="profile">\r\n        <div class="personal_info">\r\n            <div class="title">{{i18n@page/pad/colleague/profile}}</div>\r\n            <div class="property">\r\n                <span>{{i18n@page/pad/colleague/photo}}</span><br />\r\n                <img src="{{, sap.sbo.util.formatter.getUserPortraitByID}}" alt=""/>\r\n            </div>\r\n            <div class="property">\r\n                <span>{{i18n@page/pad/colleague/userCode}}</span><br />\r\n                <span>{{userCode}}</span>\r\n            </div>\r\n            <div class="property">\r\n                <span>{{i18n@page/pad/colleague/firstN}}</span><br />\r\n                <span>{{firstName}}</span>\r\n            </div>\r\n            <div class="property">\r\n                <span>{{i18n@page/pad/colleague/lastN}}</span><br />\r\n                <span>{{lastName}}</span>\r\n            </div>\r\n            <div class="property">\r\n                <span>{{i18n@page/pad/colleague/mobile}}</span><br />\r\n                <span>{{mobilePhone}}</span>\r\n            </div>\r\n            <div class="property">\r\n                <span>{{i18n@page/pad/colleague/email}}</span><br />\r\n                <span>{{eMail}}</span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n        <div data-sap-template="View" mode="2x1" coordinate="0,1" uuid="sbo.FeedTile" name="sap.sbo.app.network.phone.FeedTile"></div>\r\n</div>\r\n'}),define("html!sap.sbo.page.phone.colleague.ColleagueList",function(){return'<div class=\'bo-listview user\'>\r\n    <div class="listView" data-sap-widget="sap.sbo.layout.phone.ListLayout" data-sap-option="itemHeight: 100">\r\n        <div data-sap-template="Content">\r\n            <div class=\'opps-item\' title="User {{userCode}}">\r\n                <div class="opps-item-portrait">\r\n                    <img src="{{, sap.sbo.util.formatter.getUserPortraitByID}}" alt="" />\r\n                </div>\r\n                <div class=\'opps-item-top\'>\r\n                    <div class="name">{{firstName}} {{lastName}}</div>\r\n                    <div class="info" style="display: {{jobTitle, formatter.getDisplayStataus}}">{{jobTitle}}</div>\r\n                    <div class="info" style="display: {{mobilePhone, formatter.getDisplayStataus}}">{{mobilePhone}}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n'}),define("html!sap.sbo.page.phone.Leads.BasicInfoEdit",function(){return'<div class="lead-basic-info edit">\r\n    <div ctrl="main"\r\n        class="sbo-app-template-editproperty sbo-app-template-property-info-enable"\r\n        data-sap-widget="sap.sbo.layout.phone.MetadataLayout" \r\n        data-sap-option="verticalPadding: 20, horizontalPadding: 100, colWidth:250, ignoredProperty: [\'campaignNumber\', \'contactPersonCode\', \'mainContactPersonDisplayName\']"\r\n    >\r\n        <div data-sap-template="Content">\r\n            <div data-sap-template="Property" property="id"  option =\'{"group":"leadGeneral"}\'></div>\r\n            <div data-sap-template="Property" property="description"  option =\'{"group":"leadGeneral"}\'></div>            \r\n            <div data-sap-template="Property" property="bpCode" link="bpName"  option =\'{"group":"leadGeneral"}\'></div>\r\n            <div data-sap-template="Property" property="source" link="sourceDescription" option =\'{"group":"leadGeneral"}\'></div>\r\n            <div data-sap-template="Property" property="qualification" option =\'{"group":"leadGeneral"}\'></div>\r\n            <div data-sap-template="Property" property="ownerCode" link="OwnerEmployeeDisplayName" option =\'{"group":"leadGroup2"}\'></div>\r\n            <div data-sap-template="Property" property="status" option =\'{"group":"leadGroup2"}\'></div>\r\n            <div data-sap-template="Property" property="reasonForStatus" link="reasonDescription" option =\'{"group":"leadGroup2"}\'></div>    \r\n            \r\n        </div>\r\n        <div data-sap-template="PropertyTemplate">\r\n        	                        \r\n              <div data-sap-template="[ownerCode]">\r\n                <div class="writable key-value">\r\n                    <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                        <div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                    </div>\r\n                    <div class="value">\r\n                        <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n                          data-sap-option="text:{{OwnerEmployeeDisplayName}}, navigationEnabled: false">\r\n                        </div>                        \r\n                    </div>\r\n                </div>\r\n\r\n                <div class="readonly key-value">\r\n                    <div class="key"\r\n                        gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                        <div class="key-label">{{$label}}</div>\r\n                        <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                    </div>\r\n                    <div class="value">\r\n                        <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n                   			data-sap-option="iconUrl:{{owner@OwnerImage/url}}, text:{{OwnerEmployeeDisplayName}}, readonly:{{$readOnly}}, inNavigationMode:{{meta@readonly}}"\r\n                   		></div>\r\n                    </div>\r\n                </div>             \r\n         </div>            \r\n    	 <div data-sap-template="[reasonForStatus]">\r\n    	 	<div class="readonly key-value">\r\n    	 		<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n    	 			<div class="key-lable">{{$label}}</div>\r\n    	 		</div>\r\n    	 		<div class="value">\r\n    	 			<div>{{reasonDescription}}</div>\r\n    	 		</div>\r\n    	 	</div>\r\n    	 	<div class="writable key-value">\r\n    	 		<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                    <div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n    	 		</div>\r\n    	 		<div class="value">\r\n                    <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n                      data-sap-option="text:{{reasonDescription}}, navigationEnabled: false">\r\n	                    </div> \r\n	                </div>\r\n    	 	</div>\r\n    	 </div>\r\n    	<div data-sap-template="[source]">\r\n    	 	<div class="readonly key-value">\r\n    	 		<div class="key">\r\n    	 			<div class="key-lable">{{$label}}</div>\r\n    	 		</div>\r\n    	 		<div class="value">\r\n    	 			<div>{{sourceDescription}}</div>\r\n    	 		</div>\r\n    	 	</div>\r\n    	 	<div class="writable key-value">\r\n               <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                   <div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                </div>                      \r\n	                <div class="value">\r\n                   <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n                     data-sap-option="text:{{sourceDescription}}, navigationEnabled: false">\r\n	                    </div> \r\n	                </div>\r\n    	 	</div>\r\n    	 </div>\r\n         <div data-sap-template="String[bpCode]">        \r\n            <div class="readonly key-value">\r\n                <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n                <div class="value">\r\n                    <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n                    	data-sap-option="text:{{bpCode}}, readonly:true, inNavigationMode:{{meta@readonly}}">\r\n                    </div>\r\n                    <div>{{bpName}}&nbsp;</div>\r\n                </div>\r\n            </div>\r\n            <div class="writable key-value">\r\n				<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                     <div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                  </div>                      \r\n                <div class="value">\r\n                     <div>{{bpCode}}</div>\r\n                     <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n                       data-sap-option="text:{{bpName}}, navigationEnabled: false">\r\n                     </div>                        \r\n                </div>\r\n            </div>         \r\n         </div>\r\n         <div data-sap-template="[qualification]" >\r\n			<div class="writable enumeration key-value">\r\n				<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n				<div class="value">\r\n					<div data-sap-widget="sap.ui.widget.DropDownBox"\r\n						data-sap-option="nullable:!#mandatory#, textField: \'label\', valueField: \'name\', data: {{meta@enum/#type#}}, selectedValue: {{#PROPERTY#, two-way}}">\r\n					</div>\r\n				</div>\r\n			</div>\r\n			<div class="readonly enumeration key-value">\r\n				<div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n				<div class="value">\r\n					<div data-sap-widget="sap.sbo.ui.widget.EnumLabel" \r\n						data-sap-option="textField: \'label\', valueField: \'name\', data: {{meta@enum/#type#, formatter.qualificationConverter}}, selectedValue: {{#PROPERTY#}}"\r\n						id="qul">&nbsp;\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n    </div>\r\n\r\n</div>\r\n'}),define("html!sap.sbo.page.phone.Leads.Home",function(){return'<div class=\'sbo-bo-home sbo-lead-home\'>\r\n\r\n    <div ctrl=\'layout\' class=\'sbo-bo-home-layout\'\r\n    data-sap-widget="sap.sbo.layout.phone.AdvancedTilesLayout"\r\n    data-sap-option="">\r\n\r\n        <div data-sap-template="View" mode="2x1" coordinate="0,0" uuid="general" name="sap.sbo.page.phone.Leads.LeadBasicTile"></div>   \r\n        <div data-sap-template="Html" mode="2x1" coordinate="0,1" uuid="contact">\r\n            <div field="contacts" class="sbo-bo-tile sbo-bo-tile-{{contacts/length}} contact">\r\n                <div class="title">\r\n                    {{i18n@app/lead/CONTACTPERSON}}\r\n                </div>\r\n                <div class="number">\r\n                    <div class="value">{{contacts/length, sap.sbo.util.formatter.circleNumber_more}}</div>\r\n                </div>                \r\n            </div>\r\n        </div>\r\n    	<div data-sap-template="View" mode="2x1" coordinate="0,2" uuid="sbo.taskTile" name="sap.sbo.app.task.taskTile" option=""></div>\r\n        <div data-sap-template="View" mode="2x1" coordinate="0,3" uuid="sbo.NotePageTile" name="sap.sbo.app.notepage.NotePageTile"></div>\r\n        <div data-sap-template="View" mode="1x1" coordinate="0,4" uuid="sbo.FeedTile" name="sap.sbo.app.network.FeedTile"></div>\r\n        <div data-sap-template="View" mode="1x1" coordinate="1,4" uuid="sbo.RelatedTile" name="sap.sbo.app.network.RelatedTile"></div> \r\n    </div>\r\n</div>\r\n'}),define("html!sap.sbo.page.phone.Leads.LeadBasicTile",function(){return' <div class=\'sbo-lead-basictile\'>  \r\n 	<div data-sap-template="block1">\r\n        <div class="Info"> \r\n        <div class="lable">{{i18n@app/document/CUSTOMER}}</div>\r\n        <div class="value">{{bpCode}}</div>\r\n        <div class="value">{{bpName}}</div>\r\n        </div> \r\n    </div>  \r\n    <div data-sap-template="block2">\r\n        <div class="label">{{i18n@common/OWNER}}</div>\r\n        <div class="pic" data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{owner@OwnerImage/url}}, arrangeType:"both" \' ></div>\r\n        <div class="value">{{OwnerEmployeeDisplayName}}</div>                    \r\n    </div>\r\n    \r\n</div>'}),define("html!sap.sbo.page.phone.Leads.LeadsCreation",function(){return'<div class=\'sbo-bo-creation-frame\'>\r\n    <div class="title">\r\n        {{i18n@app/lead/NEWLEAD}}\r\n    </div>\r\n    <div class="fields">\r\n        <div ctrl="main"\r\n            class="sbo-app-template-editproperty" \r\n            data-sap-widget="sap.sbo.layout.phone.MetadataList" \r\n            data-sap-option="verticalphoneding: 5, ignoredProperty: [\'id\', \'campaignNumber\', \'contactPersonCode\', \'ownerCode\',  \'source\']"\r\n        >\r\n            <div data-sap-template="Content">\r\n                <div data-sap-template="Property" property="description"></div>\r\n                <div data-sap-template="Property" property="bpCode" link="bpName"></div>\r\n                <div data-sap-template="Property" property="mainContactPersonDisplayName"></div>    \r\n                <div data-sap-template="Property" property="OwnerEmployeeDisplayName"></div>\r\n                <div data-sap-template="Property" property="status"></div>\r\n                <div data-sap-template="Property" property="reasonForStatus" link="reasonDescription"></div>\r\n                <div data-sap-template="Property" property="qualification"></div>                \r\n                <div data-sap-template="Property" property="sourceDescription"></div>                   \r\n            </div>\r\n            <div data-sap-template=\'PropertyTemplate\'>\r\n                <div data-sap-template="String[bpCode]" height="50">\r\n                    <div class="string key-value">\r\n	                    <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n	                        <div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n	                     </div>                      \r\n                        <div class="value">\r\n	                        <div>{{bpCode}}</div>\r\n	                        <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n	                          data-sap-option="text:{{bpName}}, readonly:{{bpModel@readonly}}, navigationEnabled: false">\r\n	                        </div>                        \r\n                        </div>\r\n                    </div>                    \r\n                </div>\r\n                <div data-sap-template="String[mainContactPersonDisplayName]" height="50">\r\n                    <div class="string key-value">\r\n	                    <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n	                        <div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n	                     </div>                      \r\n                        <div class="value">\r\n	                        <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n	                          data-sap-option="text:{{mainContactPersonDisplayName}}, readonly:{{contactModel@readonly}}, navigationEnabled: false">\r\n	                        </div>                        \r\n                        </div>\r\n                    </div>                    \r\n                </div>                \r\n                 <div  data-sap-template="String[sourceDescription]">\r\n                    <div class="string key-value">\r\n	                    <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n	                        <div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n	                     </div>                      \r\n                        <div class="value">\r\n	                        <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n	                          data-sap-option="text:{{sourceDescription}}, navigationEnabled: false">\r\n	                        </div>                        \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div  data-sap-template="[reasonForStatus]">\r\n                    <div class="string key-value">\r\n                        <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n	                        <div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n		    	 		</div>		    	 		\r\n		                <div class="value">\r\n	                        <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n	                          data-sap-option="text:{{reasonDescription}}, navigationEnabled: false">\r\n		                    </div> \r\n		                </div>\r\n                    </div>\r\n                </div>\r\n                <div  data-sap-template="String[OwnerEmployeeDisplayName]">\r\n                    <div class="string key-value">\r\n	                    <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n	                        <div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n	                     </div>                      \r\n                        <div class="value">\r\n	                        <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n	                          data-sap-option="text:{{OwnerEmployeeDisplayName}}, navigationEnabled: false">\r\n	                        </div>                        \r\n	                    </div>\r\n                        </div>\r\n                    </div>\r\n                </div>                \r\n            </div>\r\n        </div>\r\n    </div>\r\n    <!-- <div class="action">                                                                                                                               -->\r\n    <!--     <button ctrl="btnCancel" data-touchable=\'true\' data-sap-widget="sap.ui.widget.Button" data-sap-option="text: {{i18n@common/CANCEL}}"></button> -->\r\n    <!--     <button ctrl="btnSaveOpen" data-touchable=\'true\' data-sap-widget="sap.ui.widget.Button" data-sap-option="text: {{i18n@common/DONE}}"></button> -->\r\n    <!-- </div>                                                                                                                                             -->\r\n\r\n</div>\r\n'}),define("html!sap.sbo.page.phone.Leads.LeadsListView",function(){return'<div class=\'bo-listview Leads\'>\r\n    <div data-id="listView" data-sap-widget="sap.sbo.layout.phone.ListLayout" \r\n    	data-sap-option=\'pageSize:0, select:["id", "description", "qualification","bpCode", "bpName", "status"]\'>\r\n        <div data-sap-template="Content">\r\n            <div class=\'item\' title={{i18n@app/lead/LEAD}} {{id}}>\r\n                <div class=\'header\'>\r\n                    <div class="index">{{id}}</div>\r\n                    <div class="title">{{description}}</div>\r\n                    <div class="sub-title qualification" id="qul" >{{!qualification, formatter.qualificationConverter}}</div>\r\n                </div>  \r\n				<div class="details">					\r\n					<div class="field">{{bpCode}}</div>\r\n					<div class="field">{{bpName}}</div>\r\n				</div>\r\n				<div class="status">\r\n					{{!status, formatter.convertStatusImage}}\r\n				</div>\r\n            </div>\r\n        </div>\r\n        <div data-sap-template="PropertyTemplate" style="display: none;">\r\n        	<div data-sap-template="String[bpCode]">\r\n				<div class="key-value">\r\n					<div class="key">#label#</div>\r\n					<div class="value">						\r\n						<div data-id="cardCode"\r\n							data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n							data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.phone.ChooseListCustomer\', titleField: \'cardName\', subtitleField: \'cardCode\', valueField: \'cardCode\'"></div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n			<div data-sap-template="Integer[contactPersonCode]">\r\n                <div class="key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div data-id="contactPerson"\r\n                            data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n                            data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.phone.ChooseListContact\', titleField: \'displayName\', subtitleField: \'position\', valueField: \'name\'"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div data-sap-template="Integer[ownerCode]">\r\n                <div class="key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div data-id="ownerCode"\r\n                            data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n                            data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.phone.ChooseListEmployee\', titleField: \'displayName\', valueField: \'employeeID\'"></div>    \r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div data-sap-template="Integer[source]">\r\n                <div class="key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div data-id="source"\r\n                            data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n                            data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.phone.ChooseListSource\', titleField: \'description\', valueField: \'sequenceNo\'"></div>    \r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div data-sap-template="Integer[reasonForStatus]">\r\n                <div class="key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div data-id="source"\r\n                            data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n                            data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.phone.ChooseListReason\', titleField: \'description\', valueField: \'sequenceNo\'"></div>    \r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'}),define("html!sap.sbo.page.phone.dataOwnership.DOAssignment",function(){return'<div id="DOAssignMent_container">\r\n	<span class="title">{{i18n@sys/dos/ASSIGN_TITLE}}</span>\r\n	<!-- tab1 employee content -->\r\n	<div class="employeeContent">\r\n		<div class="search">\r\n			<input data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{search@value, two-way}}"/>\r\n			<div class="search-icon "></div>\r\n		</div>\r\n\r\n		<div data-sap-widget=\'sap.ui.widget.Accordion\' data-sap-option=\'selected: {{accordion@selected,two-way}}\' class=\'sap-ui-accordion\'>\r\n			<span sap-ctrl="0" class="accor_header">\r\n				<div data-sap-widget=\'sap.ui.widget.Icon\' data-sap-option=\'text: {{iconEmp@text}},orientation:{{iconEmp@selectedValue}},iconURL:{{iconEmp@iconURL}}\'></div>\r\n			</span>\r\n			<div class="accordion_content">\r\n				<div id=\'auths\' sap-ctrl="iscrol" data-sap-widget="sap.ui.Repeat" data-sap-option=\'data: {{emp@contents,two-way}}\' >\r\n					<div id=\'scroll_container\'>\r\n						<div data-sap-template="Content">\r\n							<span class="content_left">{{account}}</span>\r\n							<div class="content_right" data-sap-widget=\'sap.ui.widget.DropDownBox\'\r\n							data-sap-option=\'data:{{dropMeta@data}},textField: "text",valueField: "code", selectedValue: {{authorization,two-way}}, disabled:{{isFrozen}}\' ></div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div> \r\n		<!--	<span sap-ctrl="1" class="accor_header">\r\n				<div data-sap-widget=\'sap.ui.widget.Icon\' data-sap-option=\'text: {{iconDep@text}},orientation:{{iconDep@selectedValue}},iconURL:{{iconDep@iconURL}}\'></div>\r\n			</span>\r\n			<div class="accordion_content">\r\n				<div id=\'auths\' sap-ctrl="iscrol" data-sap-widget="sap.ui.Repeat" data-sap-option=\'data: {{dep@contents,two-way}}\' >\r\n					<div id=\'scroll_container\'>\r\n						<div data-sap-template="Content">\r\n							<span class="content_left">{{account}}</span>\r\n							<div class="content_right" data-sap-widget=\'sap.ui.widget.DropDownBox\'\r\n							data-sap-option=\'data:{{dropMeta@data}},textField: "text",valueField: "code", selectedValue: {{authorization,two-way}}, disabled:{{isFrozen}}\' ></div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n			<span sap-ctrl="2" class="accor_header">\r\n				<div data-sap-widget=\'sap.ui.widget.Icon\' data-sap-option=\'text: {{iconTeam@text}},orientation:{{iconTeam@selectedValue}},iconURL:{{iconTeam@iconURL}}\'></div>\r\n			</span>\r\n			<div class="accordion_content">\r\n				<div id=\'auths\' sap-ctrl="iscrol" data-sap-widget="sap.ui.Repeat" data-sap-option=\'data: {{team@contents,two-way}}\' >\r\n					<div id=\'scroll_container\'>\r\n						<div data-sap-template="Content">\r\n							<span class="content_left">{{account}}</span>\r\n							<div class="content_right" data-sap-widget=\'sap.ui.widget.DropDownBox\'\r\n							data-sap-option=\'data:{{dropMeta@data}},textField: "text",valueField: "code", selectedValue: {{authorization,two-way}}, disabled:{{isFrozen}}\' ></div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n			<span sap-ctrl="3" class="accor_header">\r\n				<div data-sap-widget=\'sap.ui.widget.Icon\' data-sap-option=\'text: {{iconSub@text}},orientation:{{iconSub@selectedValue}},iconURL:{{iconSub@iconURL}}\'></div>\r\n			</span>\r\n			<div class="accordion_content">\r\n				<div id=\'auths\' sap-ctrl="iscrol" data-sap-widget="sap.ui.Repeat" data-sap-option=\'data: {{brc@contents,two-way}}\' >\r\n					<div id=\'scroll_container\'>\r\n						<div data-sap-template="Content">\r\n							<span class="content_left">{{account}}</span>\r\n							<div class="content_right" data-sap-widget=\'sap.ui.widget.DropDownBox\'\r\n							data-sap-option=\'data:{{dropMeta@data}},textField: "text",valueField: "code", selectedValue: {{authorization,two-way}}, disabled:{{isFrozen}}\' ></div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>-->\r\n		</div>\r\n	</div>\r\n	<!-- tail -->\r\n	<div class="tail">\r\n		<button id=\'saveBtn\' data-sap-widget=\'sap.ui.widget.Button\' data-sap-option=\'text:{{i18n@sys/dos/BUTTON_SAVE}}\'></button>\r\n		<button id=\'cancelBtn\' data-sap-widget=\'sap.ui.widget.Button\' data-sap-option=\'text:{{i18n@sys/dos/BUTTON_CANCEL}}\'></button>\r\n	</div>\r\n\r\n</div>'}),define("html!sap.sbo.page.phone.network.CommentsDetail",function(){return'<div class="sap-sbo-page-phone-network-commentsDetail">\r\n    <div class="container">\r\n        <div class="comment-input-panel">\r\n            <textarea id="comment-txt" class="sfa-post-status-text-area" \r\n                    data-sap-widget="sap.sbo.ui.widget.AutoCompletableTextArea"\r\n                    data-sap-option="cols: 1, rows: 4" placeholder="{{i18n@comment/empty/info}}"></textarea>\r\n        </div>\r\n        <div class="content_panel">\r\n            <div class="portrait">\r\n                <div>\r\n                    <div class="pt">{{!object/portraitHTML}}</div>\r\n                    <div class="name">{{actor/displayName}}</div>\r\n                </div>\r\n            </div>\r\n            <div class="{{, formatter.getContentClassName}} left">\r\n                <div class="{{hot, formatter.getHotStatus}}"><img class="status-icon" src="{{hot, formatter.getHotImage}}" alt=""/></div>\r\n                <div class="{{target, formatter.getTargetClassName}}">\r\n                    <span>{{targetType}}</span>\r\n                    <a href=\'javascript:void(0);\' data-sap-widget=\'sap.sbo.ui.widget.BoLink\' data-sap-option=\'keepHTMLText:true, boEntity: {{targetEntity}}\'>{{targetName}}</a>\r\n                </div>\r\n                <div class="content">{{!object/contentHTML}}</div>\r\n                <div data-sbo-class="repeat" id=\'Div1\' data-sap-widget="sap.ui.Repeat" data-sap-option=\'data: {{object/attached/items/value,two-way}}\' >\r\n                    <div data-sap-template="Content" data-sbo-class="content">\r\n                        <div class="attached_img">\r\n                            <a href="#" data-url="{{item/realPath}}" data-type="{{item/objectType}}" class="clickLink">\r\n                                <div class="img" data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{item/path}}, width:"140px", radius:"1px", arrangeType:"autoFit" \' ></div>\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="updatedOn">\r\n                    <span>{{published, sap.sbo.util.formatter.convertTimeToDisplay}}</span>\r\n                </div>\r\n                <div class="comments_count">\r\n                    <span>{{comments/totalItems, formatter.getCommentsCount}}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="comments-panel">\r\n            <div class="comments-list">\r\n                <div id="myComments" class="rpt" data-sap-widget="sap.ui.Repeat" data-sap-option="data: {{comments/items/value, two-way}}">\r\n                    <div data-sap-template="Content" class="rpt-item">\r\n                        <div class="comment">\r\n                            <div class="portrait">\r\n                                <img src=\'{{item, sap.sbo.util.formatter.avatarImageUrl_protriadID}}\'/>\r\n                                <div class="name">{{item/actor/displayName, sap.sbo.util.formatter.replaceUnderline}}</div>\r\n                            </div>\r\n                            <div class="comment-block right">\r\n                                <div class="content">{{!item/object/content}}</div>\r\n                                <div class="updatedOn">\r\n                                    <span>{{item/published, sap.sbo.util.formatter.convertTimeToDisplay}}</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'
}),define("html!sap.sbo.page.phone.network.Feed",function(){return'\r\n<div class="feed_container">\r\n    <div class="portrait">\r\n        <div>\r\n            <div class="pt">{{!object/portraitHTML}}</div>\r\n            <div class="name">{{, formatter.getFeedAuthor}}</div>\r\n        </div>\r\n    </div>\r\n    <div class="content_panel">\r\n        <div class="{{, formatter.getClassName}} left">\r\n            <div class="{{hot, formatter.getHotStatus}}"><img class="status-icon" src="{{hot, formatter.getHotImage}}" alt=""/></div>\r\n            <div class="{{target, formatter.getTargetClassName}}">\r\n                <span>{{targetType}}</span>\r\n                <a href=\'javascript:void(0);\' data-sap-widget=\'sap.sbo.ui.widget.BoLink\' data-sap-option=\'keepHTMLText:true, boEntity: {{targetEntity}}\'>{{targetName}}</a>\r\n            </div>\r\n            <div class="content">{{!object/contentHTML}}</div>\r\n            <div data-sbo-class="repeat" id=\'Div1\' data-sap-widget="sap.ui.Repeat" data-sap-option=\'data: {{object/attached/items/value,two-way}}\' >\r\n                <div data-sap-template="Content" data-sbo-class="content">\r\n                    <div class="attached_img">\r\n                        <img src="{{item/path}}" alt=""/>\r\n                        <span>{{item/realPath}}</span>\r\n                        <span>{{item/objectType}}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="updatedOn">\r\n                <span>{{published, sap.sbo.util.formatter.convertTimeToDisplay}}</span>\r\n            </div>\r\n            <div class="comments_count">\r\n                <span>{{comments/totalItems, formatter.getCommentsCount}}</span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'}),define("html!sap.sbo.page.phone.network.Feeds",function(){return'\r\n<div class="feeds">\r\n	<div class=\'layout\' data-sap-widget=\'sap.sbo.layout.phone.TimeLineLayout\'>\r\n		<div data-sap-template="Content" >\r\n            <div data-sap-widget="sap.ui.View" data-sap-option="name: \'sap.sbo.page.phone.network.Feed\', data: {{item}}"></div>\r\n		</div>\r\n	</div>\r\n</div>'}),define("html!sap.sbo.page.phone.network.PostFeedDialog",function(){return'<div class="sap-sbo-page-phone-network-postFeedDialog">\r\n    <div class="content">\r\n        <textarea class="sap-sbo-post-feeds-text-area"\r\n            data-sap-widget="sap.sbo.ui.widget.AutoCompletableTextArea"\r\n            data-sap-option="cols: {{textArea/cols}}, rows: {{textArea/rows}}, wrap: {{textArea/wrap}}, value: {{textArea/value, two-way}}" placeholder="{{i18n@post/feed/defaultTxt}}"></textarea>\r\n    </div>\r\n    <div id="mediaBar" data-sap-widget="sap.sbo.ui.widget.PhoneMediaBar" data-sap-option="url:{{, formatter.getUrl}}, autoComplete: false"></div>\r\n    <div class="preview"></div>\r\n</div>'}),define("html!sap.sbo.page.phone.network.Reason",function(){return'<div data-sbo-class="reasonPanel">\r\n    <div data-sbo-class="title">{{i18n@app/network/reason/title}}</div>\r\n    <textarea id="txt_reason" rows="3" cols="1"></textarea>\r\n    <div data-sbo-class="bottomBar">\r\n        <div id="btnOk">{{i18n@app/network/btnOK}}</div>\r\n       \r\n        <div id="btnCancel">{{i18n@app/network/btnCancel}}</div>\r\n    </div>\r\n</div>'}),define("html!sap.sbo.page.phone.network.RelatedBOList",function(){return"<div class='relatedBOList'>\r\n	<div class='header'>\r\n		<div class='arrow'></div><div class='title'>{{i18n@app/network/related/link}}</div>\r\n	</div>	\r\n\r\n	<div class='BOItem' data-sap-BOKey='2' data-sap-color='false'>\r\n		{{i18n@app/network/boName/customers}}\r\n	</div>\r\n	<div class='splitter'></div>\r\n	<div class='BOItem' data-sap-BOKey='11' data-sap-color='false'>\r\n		{{i18n@app/network/boName/contacts}}\r\n	</div>\r\n	<div class='splitter'></div>\r\n	<div class='BOItem' data-sap-BOKey='4' data-sap-color='false'>\r\n		{{i18n@app/network/boName/products}}\r\n	</div>\r\n	<div class='splitter'></div>\r\n	<div class='BOItem' data-sap-BOKey='J0001' data-sap-color='false'>\r\n		{{i18n@app/network/boName/leads}}\r\n	</div>\r\n	<div class='splitter'></div>\r\n	<div class='BOItem' data-sap-BOKey='97' data-sap-color='false'>\r\n		{{i18n@app/network/boName/opportunities}}\r\n	</div>\r\n	<div class='splitter'></div>\r\n	<div class='BOItem' data-sap-BOKey='23' data-sap-color='false'>\r\n		{{i18n@app/network/boName/quotations}}\r\n	</div>\r\n	<div class='splitter'></div>\r\n	<div class='BOItem' data-sap-BOKey='17' data-sap-color='false'>\r\n		{{i18n@app/network/boName/orders}}\r\n	</div>\r\n	<div class='splitter'></div>\r\n</div>"}),define("html!sap.sbo.page.phone.network.RelatedList",function(){return"<div class='bo-listview'>\r\n	<div id=\"related-listView\" data-id=\"listView\" data-sap-widget=\"sap.sbo.layout.phone.ListLayout\" data-sap-option=\"pageSize:0,showEmptyContent:false\">\r\n		<div data-sap-template=\"Content\" class=\"sbo-cardview-item\">\r\n			<div class='item opps-item' data-sap-bo-type='{{boType}}' data-sap-bo-code='{{boCode}}'>\r\n				<div class=\"header\">\r\n					<div class='related-header'>{{boName}}</div><div class='relatedID'>{{id}}</div>\r\n					<div class='related-icon' data-sap-type='{{type}}'></div>\r\n				</div>\r\n				<div class=\"related-desc\">{{name}}</div>\r\n				<div class=\"related-reason\">\r\n					{{reason}}\r\n				</div>\r\n				<div class='related-tail' data-sap-type='{{type}}'>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>"}),define("html!sap.sbo.page.phone.notepage.NotePageDialog",function(){return'<div data-sfa-class="notePage-detail">\r\n	<div data-sfa-class="block">\r\n	 <div data-sfa-class = "memoIScroll">\r\n		<div data-sfa-class="notepageContent">\r\n			<div data-sfa-class="first">\r\n			    <div modetype=\'edit\' data-sfa-class="copyflag" >\r\n	                <div data-sfa-class="copyflagchk"  data-sap-widget=\'sap.ui.widget.Checkbox\' data-sap-option="checked:{{page/copyFlag,two-way}},text:{{i18n@app/memo/COPYFLAG}}"></div>\r\n	                <img data-sfa-class="copyflagicon"  src=\'image/common/info_help.png\'"></img>    \r\n	            </div>\r\n	            <div modetype=\'view\' data-sfa-class=\'copyflag\' data-sap-class=\'copyflagview\'>\r\n	                <div modetype=\'view\' data-sfa-class="copyflagchk">{{i18n@app/memo/COPYFLAG}}</div>\r\n	               <img data-sfa-class="copyflagicon"  src=\'image/common/info_help.png\'"></img>   \r\n	            </div>\r\n	            <div data-sfa-class="copyflaginfo" style="display:none">{{i18n@app/memo/COPYFLAGINFO}}</div>\r\n				<textarea data-sfa-class="page-text-area" id=\'textarea\' modetype=\'edit\' class=\'notetextarea\'\r\n					data-sap-widget=\'sap.sbo.ui.widget.AutoCompletableTextAreaGrp\'\r\n					data-sap-option="value:{{page/text,two-way}}" placeholder= \'{{i18n@app/memo/PLACEHOLDER}}\'></textarea>\r\n					<div  modetype=\'view\' border=\'true\'class=\'richtextarea\'>{{!richMediaText}}</div>\r\n			</div>\r\n	\r\n			<div data-sfa-class="second">\r\n				<div data-sfa-class="container" data-sap-widget="sap.ui.Repeat"	data-sap-option="data:{{list,two-way}}">\r\n					<div data-sap-template="Content" data-sfa-class="tile" attachmenttype={{,sap.sbo.page.common.notepage.NotePageUtil.getAttachmentType}}\r\n						data-sfa-tile-id="{{attachmentId}}">\r\n						<div data-sfa-class="thumbnails" data-sap-widget = \'sap.ui.widget.Icon\' data-sap-option = "iconURL:{{previewUrl}}"></div>\r\n					    <div  data-sfa-class="fileicon"> \r\n					 	  <div data-sfa-class="icon" data-sap-widget = \'sap.ui.widget.Icon\' data-sap-option = "iconURL:{{previewUrl}}"></div>					\r\n						</div>\r\n						<div data-sfa-class="fileinfo">{{attachmentFileName}}</div>\r\n						<div data-sfa-class="fileinfo">{{attachmentFileSize,sap.sbo.page.common.notepage.NotePageUtil.convertFileSize}}</div>\r\n					 <img id = "removeBtn" data-sfa-class=\'removeBtn\' modetype=\'edit\' src = "image/memo/remove.png" />\r\n					</div>\r\n				</div>\r\n				<div data-sfa-class="blank" modetype=\'edit\' style:\'height="38px\'" style="height: 38px;width: 100%;position: relative;"></div>	\r\n			  </div>\r\n			</div>\r\n		</div>\r\n		 <div data-sfa-class="footer" id="mediaBar" modetype=\'edit\' data-sap-widget="sap.sbo.ui.widget.PhoneMediaBar" data-sap-option="autoComplete: true"></div>	\r\n			\r\n	</div>\r\n</div>\r\n\r\n\r\n'}),define("html!sap.sbo.page.phone.notepage.NotePageList",function(){return'<div data-sfa-class="notePage-list">\r\n <div data-sfa-class="container" ctrl="listView" data-sap-widget="sap.sbo.layout.phone.ListLayout" data-sap-option="source:{{list}},itemHeight:120,emptyTexts: {{emptyInfo}}">	\r\n			<div data-sap-template="content" data-sfa-class="tile" \r\n				data-sfa-tile-id="{{id}}">\r\n				<div data-sfa-class="memocontent" memotype={{,sap.sbo.page.common.notepage.NotePageUtil.getMemoTypePhone}}>\r\n						<div  data-sfa-class="fileicon"> \r\n						    <div data-sfa-class="icon" data-sap-widget = \'sap.ui.widget.Icon\' data-sap-option = "iconURL:{{,sap.sbo.page.common.notepage.NotePageUtil.listPreviewUrl}}"></div>\r\n						</div>\r\n						<ul class = "fileinfo" style=" list-style:none;">\r\n								<li>{{attachmentFileName}}</li>\r\n								<li>{{attachmentFileSize,sap.sbo.page.common.notepage.NotePageUtil.convertFileSize}}</li>\r\n								<li>{{attachmentUpdateDate,sap.sbo.page.common.notepage.NotePageUtil.getLocalDateFromUTC}}</li>\r\n						</ul>\r\n						<div  data-sfa-class="textcontent">{{,sap.sbo.page.common.notepage.NotePageUtil.getShortDesc}}</div>\r\n						<div data-sfa-class="thumbnails" data-sap-widget = \'sap.ui.widget.Icon\' data-sap-option = "iconURL:{{,sap.sbo.page.common.notepage.NotePageUtil.listPreviewUrl}}"></div>\r\n				     	<div data-sfa-class="copyflag"  >{{copyFlag,sap.sbo.page.common.notepage.NotePageUtil.displayByBool}}</div>\r\n						</div>\r\n				</div>\r\n	</div>\r\n</div>'}),define("html!sap.sbo.page.phone.report.queryChartView",function(){return'<div class="sap-sbo-chart-view">\r\n  <div data-sap-widget="sap.sbo.ui.widget.ReportWidget"  data-sap-option="titleVisible:true,legendVisible:true,reportId:{{queryid}},filterData:{{filter}}"></div>\r\n</div>\r\n'}),define("html!sap.sbo.page.phone.report.queryListView",function(){return"<div class='bo-listview sap-sbo-report-ListView'>\r\n	<div data-sfa-class=\"container\" >\r\n		\r\n	</div>\r\n</div>\r\n"}),define("html!sap.sbo.page.phone.report.queryTableView",function(){return'<div  data-sfa-class="querytableview">\r\n	<div data-sfa-class="tablecontent">\r\n        <div data-sfa-class="resulttable" data-sap-widget="sap.sbo.app.report.TableList"  data-sap-option=" headers: {{ header ,two-way}},datas:{{previewDatas}}"></div>\r\n	</div>\r\n	<div data-sfa-class=\'moreinfo\'>\r\n        \r\n	</div>\r\n</div>\r\n\r\n\r\n'}),define("html!sap.sbo.page.phone.Product.PriceListEdit",function(){return'<div class="sbo-product-pricelist-edit">\r\n\r\n    <div data-sap-template="header">\r\n\r\n    </div>\r\n\r\n    <div data-sap-template="itemHeader">\r\n\r\n    </div>\r\n\r\n    <div data-sap-template="itemFields">\r\n\r\n        <div data-sap-template="Content">\r\n            <div data-sap-template="Property" property="PriceListName"></div>\r\n             <div data-sap-template="Property" property="currency"></div>\r\n            <div data-sap-template="Property" property="price"></div>\r\n        </div>\r\n        <div data-sap-template="PropertyTemplate">\r\n\r\n            <div data-sap-template="[PriceListName]" >\r\n                <div class="title">{{#PROPERTY#}}</div>\r\n            </div>\r\n\r\n             <div data-sap-template="[currency]" >\r\n                <div class="title-info">\r\n                    <div class="info">{{#PROPERTY#}}</div>\r\n                </div>\r\n            </div>\r\n            \r\n            <div data-sap-template="[price]" >\r\n                <div class="title-info">\r\n                    <div class="info">{{#PROPERTY#}}</div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n<!--\r\nvim:ts=2 sw=2 noexpandtab\r\n-->\r\n\r\n'}),define("html!sap.sbo.page.phone.Product.PriceListEditFrame",function(){return'<div class="sbo-product-pricelist-edit-frame">\r\n\r\n    <div data-sap-template="itemFields">\r\n\r\n        <div data-sap-template="Content">\r\n\r\n            <div data-sap-template="Property" property="priceList" link="PriceListName"></div>\r\n\r\n        </div>\r\n       \r\n        <div data-sap-template="PropertyTemplate">      \r\n            <div data-sap-template="[priceList]" >\r\n                <div class="PriceListName">\r\n                    <div class="sub-title"></div>\r\n                    <div class="title">{{#MODELPREFIX#PriceListName}}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n<!--\r\n vim:ts=2 sw=2 noexpandtab\r\n -->\r\n'}),define("html!sap.sbo.page.phone.Product.ProductBasicTile",function(){return' <div class=\'sbo-product-basictile\'>\r\n    <div data-sap-template="block1">\r\n        <div class="logo" data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{Image/url}}, radius:"50%", arrangeType:"both" \' ></div>\r\n    </div>\r\n    <div data-sap-template="block2">\r\n         <div class="field">\r\n             <div class="label">{{i18n@app/itemgroup/ITEM_GROUP}}</div>\r\n             <div class="value">{{Item/itemGroupName}}&nbsp;</div>\r\n             <div class="label">{{i18n@app/manufct/MANUFACTURER}}</div>\r\n             <div class="value">{{Item/manufacturerName}}&nbsp;</div>\r\n         </div>\r\n                    \r\n    </div>\r\n</div>'}),define("html!sap.sbo.page.phone.Product.PriceListTile",function(){return' <div class=\'sbo-product-pricelisttile\'>\r\n    <div data-sap-template="block1">\r\n    </div>\r\n    <div data-sap-template="block2">\r\n        <div class="field">\r\n	        <div class="label">{{Item/itemPrices/0/PriceListName}}</div>\r\n	        <div class="value">{{Item/itemPrices/0/currency}}{{Item/itemPrices/0/price}}&nbsp;</div>\r\n	    </div>          \r\n    </div>\r\n</div>'}),define("html!sap.sbo.page.phone.Product.ProductCreation",function(){return'<div class=\'sbo-bo-creation-frame\'>\r\n    <div class="title">\r\n        {{i18n@app/product/NEW_PRODUCT}}\r\n    </div>\r\n    <div class="fields">\r\n        <div ctrl="main"\r\n            class="sbo-app-template-editproperty" \r\n            data-sap-widget="sap.sbo.layout.phone.MetadataList" \r\n            data-sap-option="verticalPadding: 5, ignoredProperty: [\'user_Text\',\'isActive\',\'shipType\',\'inventoryUOM\',\'salesUnit\',\'salesItemsPerUnit\',\'itemType\',\'barCode\',\'foreignName\',\'itemGroupName\',\'manufacturerName\',\'productImageId\',\'salesVATGroup\',\'SalesVatGroupsName\',\'shiptypeName\']"\r\n        >\r\n            <div data-sap-template="Content">\r\n                <div data-sap-template="Property" property="itemCode"></div>\r\n                <div data-sap-template="Property" property="itemName"></div>\r\n                <div data-sap-template="Property" property="itemsGroupCode"></div>\r\n            </div>\r\n            <div data-sap-template="PropertyTemplate">\r\n                <div data-sap-template="Integer[itemsGroupCode]" height="80">\r\n                    <div class="string key-value">\r\n                        <div class="key">#label#</div>\r\n                        <div class="value">  \r\n                            <div \r\n                                data-sap-widget="sap.ui.widget.DropDownBox" \r\n                                data-sap-option="textField: \'groupName\', valueField: \'number\', data: {{list@itemgroups}}, selectedValue:{{itemsGroupCode, two-way}}" style=\'width:100%;\'></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div data-sap-template="Integer[manufacturer]" height="80">\r\n                    <div class="string key-value">\r\n                        <div class="key">#label#</div>\r\n                        <div class="value">  \r\n                            <div \r\n                                data-sap-widget="sap.ui.widget.DropDownBox" \r\n                                data-sap-option="textField: \'manufacturerName\', valueField: \'code\', data: {{list@manufacturers}}, selectedValue:{{manufacturer, two-way}}" style=\'width:100%;\'></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n'}),define("html!sap.sbo.page.phone.Product.ProductCardView",function(){return'<div class=\'bo-listview product\'>\r\n	<div data-id="listView" data-sap-widget="sap.sbo.layout.phone.ListLayout" data-sap-option=\'select:["itemCode", "itemName", "itemGroupName","itemsGroupCode", "manufacturerName","manufacturer","productImageId","isActive"]\'>\r\n		<div data-sap-template="Content" class=\'content\' data-inActive="{{isActive, formatter.bool_string}}">\r\n			<div class=\'item\'>\r\n				<div class=\'header\'>\r\n				    <div class="index">{{itemCode}}</div>\r\n                    <div class="title">{{itemName}}</div>\r\n				</div>\r\n                <div class="avatar-container" data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{Image/url, sap.sbo.page.common.oppUtil.convertNullString}}, radius:"50%",  arrangeType:"both" \' ></div>				\r\n				<div class="details">\r\n	                <div class=\'field\'>\r\n	                    <div class="info">{{itemGroupName}}</div>\r\n	                </div>\r\n	                <div class=\'field\'>\r\n	                    <div class="info">{{manufacturerName}}</div>\r\n	                </div>\r\n                </div>\r\n			</div>\r\n		</div>\r\n		\r\n\r\n        <div data-sap-template="PropertyTemplate" style="display: none;">\r\n            <div data-sap-template="String[itemCode]" height="100">\r\n                <div class="key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div data-id="itemCode"\r\n                            data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n                            data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.phone.ChooseListProduct\', titleField: \'itemName\', subtitleField: \'itemCode\', valueField: \'itemCode\'"></div>        \r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n            <div data-sap-template="Integer[itemsGroupCode]" height="100">\r\n                <div class="key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div data-id="itemsGroupCode"\r\n                            data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n                            data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.phone.ChooseListItemGroup\', titleField: \'groupName\', valueField: \'number\'"></div>    \r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n            <div data-sap-template="Integer[manufacturer]" height="100">\r\n                <div class="key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div data-id="manufacturer"\r\n                            data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n                            data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.phone.ChooseListManufacturer\', titleField: \'manufacturerName\', valueField: \'code\'"></div>        \r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>  		\r\n	</div>\r\n</div>\r\n'}),define("html!sap.sbo.page.phone.Product.ProductEdit",function(){return'<div>\r\n	<div ctrl="main" class="sbo-app-template-editproperty sbo-app-template-property-info-enable"\r\n		data-sap-widget="sap.sbo.layout.phone.MetadataLayout"\r\n		data-sap-option="verticalPadding: 20 ,ignoredProperty: [\'itemGroupName\',\'manufacturerName\',\'productImageId\',\'SalesVatGroupsName\',\'shiptypeName\']">\r\n\r\n    <div data-sap-template="Content">\r\n        <div data-sap-template="Property" property="itemCode" ></div>\r\n        <div data-sap-template="Property" property="itemName" ></div>\r\n        <div data-sap-template="Property" property="manufacturer" ></div>\r\n        <div data-sap-template="Property" property="itemsGroupCode" ></div>                          \r\n        <div data-sap-template="Property" property="isActive" ></div>\r\n        <div data-sap-template="Property" property="salesUnit" ></div>\r\n        <div data-sap-template="Property" property="salesItemsPerUnit" ></div>\r\n        <div data-sap-template="Property" property="user_Text" ></div>\r\n        <div data-sap-template="Property" property="salesVATGroup" ></div>              \r\n    </div>\r\n\r\n		<div data-sap-template="PropertyTemplate">\r\n		    <div data-sap-template="String[itemCode]" height="50">\r\n	            <div class="string key-value">\r\n	                <div class="key">#label#</div>\r\n	                <div class="value"><div>{{#PROPERTY#}}</div></div>\r\n	            </div>\r\n            </div>\r\n			<div data-sap-template="Integer[itemsGroupCode]">\r\n				<div class="writable key-value">\r\n					<div class="key"\r\n						gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n						<div class="key-label">{{$label}}</div>\r\n						<div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n					</div>\r\n					<div class="value">\r\n						<div data-sap-widget="sap.ui.widget.DropDownBox"\r\n							data-sap-option="textField: \'groupName\', valueField: \'number\', data: {{list@itemgroups}}, selectedValue:{{itemsGroupCode, two-way}}">\r\n						</div>\r\n					</div>\r\n				</div>\r\n\r\n				<div class="readonly key-value">\r\n					<div class="key"\r\n						gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n						<div class="key-label">{{$label}}</div>\r\n						<div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n					</div>\r\n					<div class=\'value\'><div>{{itemGroupName}}&nbsp;</div></div>\r\n				</div>\r\n			</div>\r\n\r\n			<div data-sap-template="Integer[manufacturer]">\r\n				<div class="writable key-value">\r\n					<div class="key"\r\n						gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n						<div class="key-label">{{$label}}</div>\r\n						<div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n					</div>\r\n					<div class="value">\r\n						<div data-sap-widget="sap.ui.widget.DropDownBox"\r\n							data-sap-option="textField: \'manufacturerName\', valueField: \'code\', data: {{list@manufacturers}}, selectedValue:{{manufacturer, two-way}}">\r\n						</div>\r\n					</div>\r\n				</div>\r\n\r\n				<div class="readonly key-value">\r\n					<div class="key"\r\n						gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n						<div class="key-label">{{$label}}</div>\r\n						<div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n					</div>\r\n					<div class=\'value\'><div>{{manufacturerName}}&nbsp;</div></div>\r\n				</div>\r\n			</div>\r\n            \r\n            <div data-sap-template="String[salesVATGroup]">\r\n                <div class="writable key-value">\r\n                    <div class="key"\r\n                        gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                        <div class="key-label">{{$label}}</div>\r\n                        <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                    </div>\r\n                    <div class="value">\r\n                        <div data-sap-widget="sap.ui.widget.DropDownBox"\r\n                            data-sap-option="textField: \'name\', valueField: \'code\', data: {{list@vatGroup}}, selectedValue:{{salesVATGroup, two-way}}">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="readonly key-value">\r\n                    <div class="key"\r\n                        gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                        <div class="key-label">{{$label}}</div>\r\n                        <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                    </div>\r\n                    <div class=\'value\'><div>{{salesVATGroup}}&nbsp;</div></div>\r\n                </div>\r\n            </div>\r\n\r\n			<div data-sap-template="[isActive]">\r\n                 <div class="writable key-value">\r\n                    <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n                     <div class="value">\r\n                        <span boEditId=\'rightInfo\' class=\'changeStatus\' boEditId=\'hyperLink\' \r\n                    data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{#PROPERTY#, sap.sbo.util.formatter.getActiveImg}}, arrangeType:"original" \' ></span>\r\n                        <span>{{#PROPERTY#,sap.sbo.util.formatter.isActive}}</span>     \r\n                     </div> \r\n                 </div>\r\n                 \r\n                <div class="readonly key-value">\r\n                 <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n                 <div class="value">\r\n                    <div>{{#PROPERTY#,sap.sbo.util.formatter.isActive}}</div>\r\n                 </div>\r\n                </div> \r\n			</div>\r\n		</div>\r\n	</div>\r\n\r\n</div>\r\n'}),define("html!sap.sbo.page.phone.Product.ProductHome",function(){return'<div class="sbo-bo-home">\r\n    <div ctrl=\'layout\' class=\'sbo-product-layout\'\r\n    data-sap-widget="sap.sbo.layout.phone.AdvancedTilesLayout"\r\n    data-sap-option="column:2, ratio: 3">\r\n        <div data-sap-template="View" mode="2x1" coordinate="0,0" uuid="general" name="sap.sbo.page.phone.Product.ProductBasicTile"></div>\r\n        <div data-sap-template="View" mode="2x1" coordinate="0,1" uuid="pricelist" name="sap.sbo.page.phone.Product.PriceListTile"></div>    \r\n        \r\n        <div data-sap-template="View" mode="1x1" coordinate="0,2" uuid="sbo.NotePageTile" name="sap.sbo.app.notepage.NotePageTile"></div>\r\n        <div data-sap-template="View" mode="1x1" coordinate="1,2" uuid="sbo.taskTile" name="sap.sbo.app.task.taskTile" option=""></div>\r\n        <div data-sap-template="View" mode="1x1" coordinate="0,3" uuid="sbo.RelatedTile" name="sap.sbo.app.network.RelatedTile"></div>\r\n        <div data-sap-template="View" mode="1x1" coordinate="1,3" uuid="sbo.FeedTile" name="sap.sbo.app.network.phone.FeedTile"></div>         \r\n    </div>\r\n</div>\r\n'}),define("html!sap.sbo.page.phone.SalesOpportunity.BasicInfoEdit",function(){return'<div>\r\n  <div ctrl="main"\r\n    class="sbo-app-template-editproperty sbo-app-template-property-info-enable"\r\n    data-sap-widget="sap.sbo.layout.phone.MetadataLayout" \r\n    data-sap-option="verticalPadding: 20, ignoredProperty: [\'totalAmt\',\'grossProfitTotalLocal\',\'contactPerson\',\'customerName\',\'discountPercent\',\'stageDescription\',\'mainContactPersonDisplayName\',\'ownerEmployeeDisplayName\',\'sourceDescription\',\'reasonDescription\']"\r\n    >\r\n    <div data-sap-template="Content">\r\n      <div data-sap-template="Property" property="currentStageNumber" ></div>\r\n      <div data-sap-template="Property" property="opportunityName" ></div>\r\n      <div data-sap-template="Property" property="sequentialNo" ></div>\r\n      <div data-sap-template="Property" property="cardCode" link="customerName"></div>\r\n      <div data-sap-template="Property" property="dataOwnershipfield"></div>\r\n      <div data-sap-template="Property" property="status" ></div>\r\n      <div data-sap-template="Property" property="reasonForClosing"></div>\r\n      <div data-sap-template="Property" property="startDate"></div>\r\n      <div data-sap-template="Property" property="predictedClosingDate" ></div>\r\n      <div data-sap-template="Property" property="closingDate"></div>\r\n      <div data-sap-template="Property" property="maxLocalTotal" ></div>\r\n      <div data-sap-template="Property" property="closingPercentage"></div>\r\n      <div data-sap-template="Property" property="weightedSumLC" ></div>\r\n      <div data-sap-template="Property" property="source" ></div>\r\n      <div data-sap-template="Property" property="remarks" ></div>\r\n    </div>\r\n    <div data-sap-template="PropertyTemplate">\r\n\r\n      <div data-sap-template="Integer[currentStageNumber]">\r\n        <div class="key-value">\r\n          <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}"><div class="key-label">{{i18n@app/oppo/STAGE}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n          <div class="value">\r\n            <div property="salesOpportunitiesLines" data-sap-widget="sap.sbo.app.SalesOpportunity.Stage"  style="height:100%" data-sap-option="readonly:{{$readOnly}}, values: {{salesOpportunitiesLines,two-way}}, metaDatas:{{stage@metadata}}">\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div data-sap-template="String[cardCode]" >\r\n        <div class="key-value">\r\n          <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}"><div class="key-label">{{i18n@app/oppo/CUSTOMER}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n          <div class="value" data-touchable="true">\r\n               <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n                 data-sap-option="text:{{cardCode}}, readonly:true, inNavigationMode:{{meta@readonly}}">{{cardCode}}</div>\r\n               <div>{{customerName}}&nbsp;</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div  data-sap-template="[reasonForClosing]" >\r\n        <div class="key-value">\r\n          <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n          <div class="value">\r\n            <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n              data-sap-option="text:{{reasonDescription}}, readonly:{{$readOnly}}, navigationEnabled: false, placeHolder:\'\'"\r\n              ></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n\r\n      <div  data-sap-template="[source]" >\r\n        <div class="key-value">\r\n          <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n          <div class="value">\r\n            <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n              data-sap-option="text:{{sourceDescription}}, readonly:{{$readOnly}}, navigationEnabled: false"\r\n              ></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div  data-sap-template="[dataOwnershipfield]" >\r\n        <div class="key-value">\r\n          <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n          <div class="value" data-touchable="true">\r\n            <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n              data-sap-option="iconUrl:{{owner@OwnerImage/url}}, text:{{ownerEmployeeDisplayName}}, readonly:{{$readOnly}}, inNavigationMode:{{meta@readonly}}"\r\n              ></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div  data-sap-template="[status]" >\r\n          <div class="writable key-value">\r\n              <div class="key"\r\n                  gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                  <div class="key-label">{{$label}}</div>\r\n                  <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n              </div>\r\n              <div class="value" data-id="status">\r\n                  <span class="choose open" flag="{{#PROPERTY#}}">{{i18n@app/OPEN}}</span>\r\n                  <span class="choose win" flag="{{#PROPERTY#}}">{{i18n@app/WON}}</span>\r\n                  <span class="choose lose" flag="{{#PROPERTY#}}">{{i18n@app/LOST}}</span>\r\n              </div>\r\n          </div>\r\n          <div class="readonly key-value">\r\n              <div class="key"\r\n                  gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                  <div class="key-label">{{$label}}</div>\r\n                  <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n              </div>\r\n              <div class="value">\r\n                  <span style="display:inline-block;" data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{#PROPERTY#, formatter.convertStatusImage}}, arrangeType:"original" \'></span>\r\n                  <span>{{status,formatter.statusText}}</span>\r\n              </div>\r\n          </div>        \r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n\r\n</div>\r\n'
}),define("html!sap.sbo.page.phone.SalesOpportunity.BasicTile",function(){return' <div class=\'sbo-oppo-basictile\'>\r\n    <div data-sap-template="block1">\r\n        <div class="Info"> \r\n        <div class="lable">{{i18n@app/document/CUSTOMER}}</div>\r\n        <div class="value">{{cardCode}}</div>\r\n        <div class="value">{{customerName}}</div>\r\n        </div> \r\n    </div>\r\n    <div data-sap-template="block2">\r\n\r\n        <div class="lable">{{i18n@common/OWNER}}</div>\r\n        <div class="pic" data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{owner@OwnerImage/url}}, arrangeType:"both" \' ></div>\r\n        <div class="value">{{ownerEmployeeDisplayName}}</div>\r\n                    \r\n    </div>\r\n</div>'}),define("html!sap.sbo.page.phone.SalesOpportunity.contactTile",function(){return' <div class=\'sbo-oppo-contactstile\'>\r\n    <div data-sap-template="block1">\r\n    </div>\r\n    <div data-sap-template="block2">\r\n                         \r\n        <div class="pic" data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{Related@contact/Image/url}}, arrangeType:"both" \' ></div>\r\n        <div class="mainIcon" data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{Related@contact/contactPersonID,formatter.goldenImage}}, arrangeType:"original" \' ></div>\r\n        <div class="position">{{Related@contact/position}}&nbsp;</div>\r\n        <div class="name">{{Related@contact/contactPersonName}}&nbsp;</div>\r\n           \r\n    </div>\r\n</div>'}),define("html!sap.sbo.page.phone.SalesOpportunity.CreationFrame",function(){return'<div class="sbo-bo-creation sbo-customer-creation">\r\n    <div class="title">\r\n        New Opportunity\r\n    </div>\r\n    <div class="fields">\r\n        <div class="field">\r\n            <div class="key">Name:</div>\r\n            <div class="value"><input data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{opportunityName,two-way, formatter.convertEmtpyNull}}"></div>\r\n        </div>\r\n        <div class="field">\r\n            <div class="key">BP Code:</div>\r\n            <div class="value"><div index="cardCode" data-sap-widget="sap.ui.widget.ValueHelpField" data-sap-option="value: {{cardCode,two-way,formatter.convertEmtpyNull}}"></div></div>\r\n        </div> \r\n          \r\n        <div class="field">\r\n            <div class="key">BP Name:</div>\r\n            <div class="value"><input index="cardName" data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{customerName,two-way,formatter.convertEmtpyNull}}, readonly:true"></div>\r\n        </div> \r\n\r\n        <div class="field">\r\n            <div class="key">Potential Amount:</div>\r\n            <div class="value">\r\n                <input style="height: 24px;" data-sap-widget="sap.ui.widget.Currency" data-sap-option="value:{{maxLocalTotal, two-way}},currency:\'$\',nullable: true"/> \r\n            </div>\r\n        </div>  \r\n        <div class="field">\r\n            <div class="key">Status:</div>\r\n            <div class="value">\r\n                <div \r\n                    data-sap-widget="sap.ui.widget.DropDownBox" \r\n                    data-sap-option="textField: \'text\', valueField: \'key\', data: [{key: \'sos_Open\', text: \'Open\'},{key:\'sos_Sold\', text: \'Win\'},{key:\'sos_Missed\', text: \'Lose\'}], selectedValue: {{status, two-way}}"></div> \r\n            </div>\r\n        </div>  \r\n        <div class="field">\r\n            <div class="key">Predicted Closing Date:</div>\r\n            <div class="value">\r\n                <div type="Date" style="height: 24px;" data-sap-widget="sap.sbo.ui.widget.DateTimeField" data-sap-option="value:{{predictedClosingDate,sap.sbo.util.formatter.date_JODATime,two-way}}" ></div>\r\n            </div>\r\n        </div>\r\n        <div class="field">\r\n            <div class="key">Remark:</div>\r\n            <div class="value"><textarea data-sap-widget="sap.ui.widget.TextArea" data-sap-option="value: {{remarks,two-way,formatter.convertEmtpyNull}}"></textarea></div>\r\n        </div>        \r\n        <div style="clear:both"></div>\r\n    </div>\r\n    <div class="action">\r\n        <button id="btnSaveOpen" data-sap-widget="sap.ui.widget.Button" data-sap-option="text: \'Save & Open\'"></button>\r\n        <button id="btnCancel" data-sap-widget="sap.ui.widget.Button" data-sap-option="text: \'Cancel\'"></button>\r\n        \r\n    </div>\r\n</div>'}),define("html!sap.sbo.page.phone.SalesOpportunity.CreationFrame2",function(){return"<div class='sbo-bo-creation-frame order'>\r\n    <div class=\"title\">\r\n        {{i18n@app/oppo/NEW_OPPORTUNITY}}\r\n    </div>\r\n    <div class=\"fields\">\r\n        <div ctrl=\"main\"\r\n            class=\"sbo-app-template-editproperty\" \r\n            data-sap-widget=\"sap.sbo.layout.phone.MetadataList\" \r\n            data-sap-option=\"verticalPadding: 5, ignoredProperty: ['dataOwnershipfield','source','reasonDescription','sourceDescription','mainContactPersonDisplayName','ownerEmployeeDisplayName','stageDescription','sourceId','sourceType','status', 'closingDate', 'sequentialNo', 'salesPerson','contactPerson','interestField1','interestField2','interestField3','interestLevel','maxSystemTotal','weightedSumSC','grossProfit','grossProfitTotalLocal','grossProfitTotalSystem','reasonForClosing','totalAmountLocal','totalAmountSystem','closingGrossProfitLocal','closingGrossProfitSystem','totalAmounSystem','closingPercentage','industry','linkedDocumentType','statusRemarks','projectCode','bPChanelName','userSignature','territory','bPChannelContact','bPChanelCode','totalAmt','bRFCID','attachmentEntry','discountPercent', 'closingType','linkedDocumentNumber','weightedSumLC','documentCheckbox']\"\r\n        >\r\n            <div data-sap-template=\"Content\">\r\n                <div data-sap-template=\"Property\" property=\"opportunityName\"></div>\r\n                <div data-sap-template=\"Property\" property=\"cardCode\" link=\"customerName\"></div>\r\n                <div data-sap-template=\"Property\" property=\"maxLocalTotal\" option='{\"readOnly\":false}'></div>\r\n                <div data-sap-template=\"Property\" property=\"startDate\"></div>\r\n                <div data-sap-template=\"Property\" property=\"predictedClosingDate\"></div>\r\n                <div data-sap-template=\"Property\" property=\"currentStageNumber\"></div>\r\n                \r\n                <div data-sap-template=\"Html\" uuid='salesOpporItems'>\r\n                  <div disPlayFlag=\"{{cardCode,formatter.null_bool}}\" class=\"field salesOrderItems\" data-touchable=\"true\">\r\n                    <div class=\"lable\">{{i18n@app/document/PRODUCT_AMOUNT}}</div>\r\n                    <div class=\"count\">\r\n                    <span>{{salesOpportunitiesItems/length}} </span>\r\n                    <span>{{i18n@app/document/SELECTED}}</span>\r\n                    </div>\r\n                    <div class=\"amount\">\r\n                        <span data-sap-widget=\"sap.sbo.ui.widget.DecimalLabel\" data-sap-option=\"value:{{totalAmt,sap.formatter.real_string_nullable}}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}},decimalNum:{{globalSettings@types/Sum/DecimalPlace}},\r\n                        currency:{{globalSettings@currencySettings/localCurrency}}, currencyLocalRight:{{globalSettings@currencySettings/displayCurrencyOnTheRight}}\"></span>\r\n                    </div>\r\n                    <div style=\"float: right\"><img src='./image/settings/double_arrow_fold.png'></div>\r\n                  </div>\r\n            	</div>\r\n            \r\n                <div data-sap-template=\"Property\" property=\"remarks\"></div>\r\n            </div>\r\n            <div data-sap-template='PropertyTemplate'>\r\n			   <div data-sap-template=\"Integer[currentStageNumber]\">\r\n		                <div property=\"salesOpportunitiesLines\" data-sap-widget=\"sap.sbo.app.SalesOpportunity.Stage\"  style=\"height:100%\" data-sap-option=\"readonly:false, values: {{salesOpportunitiesLines,two-way}}, metaDatas:{{stage@metadata}}\">\r\n		                </div>\r\n		            </div>\r\n                <div data-sap-template=\"String[cardCode]\">\r\n                <div class=\"string key-value\">\r\n                    <div class=\"key\" gl-property-desc=\"{{$description, sap.sbo.util.formatter.null2False}}\">\r\n                        <div class=\"key-label\">{{$label}}</div><div class=\"info-icon\" gl-property-name=\"#PROPERTY#\"></div>\r\n                     </div>                      \r\n                    <div class=\"value\"  data-touchable=\"true\">\r\n                        <div>{{cardCode}}</div>\r\n                        <div data-sap-widget=\"sap.sbo.ui.widget.BoLabel\"\r\n                          data-sap-option=\"text:{{customerName}}, readonly:{{cardCodeModel@readonly}}, navigationEnabled: false\"\r\n                          ></div>                        \r\n                </div>\r\n                </div>                 \r\n            </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n   \r\n\r\n</div>\r\n"}),define("html!sap.sbo.page.phone.SalesOpportunity.Home",function(){return'<div class=\'sbo-bo-home sbo-opps-home\'>\r\n\r\n    <div ctrl=\'layout\' class=\'sbo-bo-home-layout\'\r\n    data-sap-widget="sap.sbo.layout.phone.AdvancedTilesLayout"\r\n    data-sap-option="column:2, ratio: 1.2">       \r\n        <div data-sap-template="View" mode="2x1" coordinate="0,0" uuid="general" name="sap.sbo.page.phone.SalesOpportunity.BasicTile"></div>\r\n        <div data-sap-template="View" mode="1x1" coordinate="0,1" uuid="product" name="sap.sbo.page.phone.SalesOpportunity.productTile"></div>\r\n        <div data-sap-template="View" mode="1x1" coordinate="1,1" uuid="sbo.RelatedTile" name="sap.sbo.app.network.RelatedTile"></div>\r\n        <div data-sap-template="View" mode="2x1" coordinate="0,2" uuid="contact" name="sap.sbo.page.phone.SalesOpportunity.contactTile"></div>\r\n        <div data-sap-template="View" mode="2x1" coordinate="0,3" uuid="sbo.FeedTile" name="sap.sbo.app.network.phone.FeedTile"></div>\r\n        <div data-sap-template="View" mode="1x1" coordinate="0,4" uuid="sbo.NotePageTile" name="sap.sbo.app.notepage.NotePageTile"></div>\r\n        <div data-sap-template="View" mode="1x1" coordinate="1,4" uuid="sbo.taskTile" name="sap.sbo.app.task.taskTile" option=""></div>\r\n    </div>\r\n</div>'}),define("html!sap.sbo.page.phone.SalesOpportunity.ItemEditFrame",function(){return'<div class="sbo-opps-item-edit-frame">\r\n\r\n	<div data-sap-template="itemFields">\r\n\r\n		<div data-sap-template="Content">\r\n			<div data-sap-template="Property" property="itemCode" link="description"></div>\r\n			<div data-sap-template="Property" property="quantity"></div>\r\n			<div data-sap-template="Property" property="unitPrice"></div>\r\n			<div data-sap-template="Property" property="discount"></div>\r\n			<div data-sap-template="Property" property="lineTotal"></div>\r\n		</div>\r\n		<div data-sap-template="PropertyTemplate">\r\n			<div data-sap-template="[itemCode]" >\r\n				<div class="itemCode">\r\n				    <div class="label">{{i18n@app/document/PRODUCT}}</div>\r\n					<div class="sub-title">{{#MODELPREFIX#itemCode}}</div>\r\n					<div class="title">\r\n					<span>{{#MODELPREFIX#description}}</span>\r\n					<span class="icon" style="float: right; margin-right: 15px;"> &gt; </span>\r\n					</div>\r\n				</div>\r\n			</div>\r\n\r\n		</div>\r\n\r\n	</div>\r\n\r\n</div>\r\n\r\n<!--\r\n vim:ts=2 sw=2 noexpandtab\r\n -->\r\n'}),define("html!sap.sbo.page.phone.SalesOpportunity.ItemList",function(){return'<div class="sbo-opps-item-edit">\r\n\r\n	<div data-sap-template="header">\r\n\r\n		<div style="width: 100%;height:100%"class="boMetaInfo">\r\n	        <div class="key-value left">\r\n	            <div class="key">{{i18n@app/oppo/TOTAL_SALES_AMOUNT}}</div>\r\n	            <div class="value Amount">\r\n	            <span data-sap-widget="sap.sbo.ui.widget.DecimalLabel" data-sap-option="value:{{totalAmt,sap.formatter.real_string_nullable}}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}},decimalNum:{{globalSettings@types/Sum/DecimalPlace}},\r\n	            currency:{{globalSettings@currencySettings/localCurrency}}, currencyLocalRight:{{globalSettings@currencySettings/displayCurrencyOnTheRight}}"></span>\r\n	            </div>\r\n	        </div>\r\n	        \r\n	        <div class="key-value right">\r\n	            <div class="fields"  data-sap-widget="sap.sbo.layout.phone.MetadataRaw">\r\n		    </div>\r\n		    </div>\r\n		    \r\n        </div>\r\n\r\n	</div>\r\n\r\n	<div data-sap-template="itemHeader">\r\n\r\n	</div>\r\n\r\n	<div data-sap-template="itemFields">\r\n\r\n		<div data-sap-template="Content">\r\n			<div data-sap-template="Property" property="itemCode"></div>\r\n			<div data-sap-template="Property" property="description"></div>\r\n			<div data-sap-template="Property" property="quantity"></div>\r\n			<div data-sap-template="Property" property="unitPrice"></div>\r\n			<div data-sap-template="Property" property="discount"></div>\r\n			<div data-sap-template="Property" property="lineTotal"></div>\r\n		</div>\r\n		<div data-sap-template="PropertyTemplate">\r\n\r\n			<div data-sap-template="[itemCode]" >\r\n                <div class="sub-title">\r\n                <span>{{#PROPERTY#}}</span>\r\n                <span>{{description}}</span>\r\n                </div>\r\n            </div>\r\n\r\n			<div data-sap-template="[description]" >\r\n				<div class="title">{{#PROPERTY#}}</div>\r\n			</div>\r\n\r\n		</div>\r\n\r\n	</div>\r\n\r\n</div>\r\n\r\n<!--\r\nvim:ts=2 sw=2 noexpandtab\r\n-->\r\n\r\n'}),define("html!sap.sbo.page.phone.SalesOpportunity.ItemsHeadEdit",function(){return'<div class="sbo-bo-ItemsHeadEdit">\r\n    <div class="total pane">\r\n        <div class="lable">{{meta@properties/totalAmt/label}}</div>\r\n        <div display="{{meta@properties/totalAmt/readOnly}}" class="value" data-currency="{{globalSettings@currencySettings/localCurrency}}" currency-right="{{globalSettings@currencySettings/displayCurrencyOnTheRight}}"><input style=\'width:75%;\' data-sap-widget="sap.sbo.ui.widget.DecimalInputField" data-sap-option="value: {{totalAmt,sap.formatter.real_string_nullable,two-way}}, nullable: true,decimalNum:{{globalSettings@types/Sum/DecimalPlace}}"></div>\r\n        <div display="{{meta@properties/totalAmt/readOnly,formatter.readOnly_bool}}" class="value" data-sap-widget="sap.sbo.ui.widget.DecimalLabel" data-sap-option="value:{{totalAmt,sap.formatter.real_string_nullable}}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}},decimalNum:{{globalSettings@types/Sum/DecimalPlace}},\r\n        currency:{{globalSettings@currencySettings/localCurrency}}, currencyLocalRight:{{globalSettings@currencySettings/displayCurrencyOnTheRight}}"></div>\r\n    </div>\r\n    \r\n    <div class="discount pane">\r\n        <div class="lable">{{meta@properties/discountPercent/label}}</div>\r\n        <span class="field" data-sap-widget="sap.sbo.ui.widget.DecimalLabel" data-sap-option="value:{{discountPercent,sap.formatter.real_string_nullable}}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}},decimalNum:{{globalSettings@types/Sum/DecimalPlace}},\r\n        currency:{{globalSettings@currencySettings/localCurrency}}, currencyLocalRight:{{globalSettings@currencySettings/displayCurrencyOnTheRight}}"></span>\r\n        <span display="{{meta@properties/discountPercent/readOnly}}" class="value" style=\'width:45%;\'><input  data-sap-widget="sap.sbo.ui.widget.DecimalInputField" data-sap-option="value: {{discountPercent,sap.formatter.real_string_nullable,two-way}}, nullable: true, decimalNum:{{globalSettings@types/Percent/DecimalPlace}}"></span>\r\n        <span display="{{meta@properties/discountPercent/readOnly,formatter.readOnly_bool}}" class="value" data-sap-widget="sap.sbo.ui.widget.DecimalLabel"\r\n                            data-sap-option="value: {{discountPercent,sap.formatter.real_string_nullable}}, decimalNum:{{globalSettings@types/Percent/DecimalPlace}}"></span>\r\n                            <span class="value">%</span>\r\n    </div>\r\n    \r\n</div>\r\n'}),define("html!sap.sbo.page.phone.SalesOpportunity.ListView",function(){return'<div class=\'bo-listview opps\'>\r\n	<div data-id="listView" data-sap-widget="sap.sbo.layout.phone.ListLayout" \r\n		data-sap-option=\'select:["sequentialNo", "currentStageNumber", "opportunityName","cardCode", "customerName", "stageDescription", "status"]\'>\r\n		<div data-sap-template="Content">\r\n			<div class=\'item\'>\r\n\r\n				<div class="header">\r\n					<div class="index">{{sequentialNo}}</div>\r\n					<div class="title">{{opportunityName}}</div>\r\n					<div class="sub-title">{{i18n@app/oppo/STAGE}} {{currentStageNumber}} - {{stageDescription}}</div>\r\n				</div>\r\n\r\n				<div class="details">\r\n					<div class="field">{{cardCode}}</div>					\r\n					<div class="field">{{customerName}}</div>\r\n				</div>\r\n				<div class="status">\r\n					{{!status, sap.sbo.page.common.oppUtil.convertStatusImage}}\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n	\r\n	<div data-sap-template="PropertyTemplate" style="display: none;">\r\n			<div data-sap-template="String[customerName]">\r\n				<div class="key-value">\r\n					<div class="key">#label#</div>\r\n					<div class="value">\r\n						<div data-id="cardCode"\r\n							data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n							data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.phone.ChooseListCustomer\', titleField: \'cardName\', subtitleField: \'cardCode\', valueField: \'cardName\'"></div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n			\r\n			<div data-sap-template="Integer[contactPerson]">\r\n                <div class="key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div data-id="contactPerson"\r\n                            data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n                            data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.phone.ChooseListContact\', titleField: \'displayName\', subtitleField: \'position\', valueField: \'name\'"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n            <div data-sap-template="Integer[dataOwnershipfield]">\r\n                <div class="key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div data-id="dataOwnershipfield"\r\n                            data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n                            data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.phone.ChooseListEmployee\', titleField: \'displayName\', subtitleField: \'employeeID\', valueField: \'employeeID\'"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n            <div data-sap-template="Integer[reasonForClosing]">\r\n                <div class="key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div data-id="reasonForClosing"\r\n                            data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n                            data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.phone.ChooseListReason\', titleField: \'description\', subtitleField: \'sequenceNo\', valueField: \'sequenceNo\'"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n            <div data-sap-template="Integer[source]">\r\n                <div class="key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div data-id="source"\r\n                            data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n                            data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.phone.ChooseListSource\', titleField: \'description\', subtitleField: \'sequenceNo\', valueField: \'sequenceNo\'"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n		</div>\r\n	\r\n</div>\r\n<!--\r\nvim:ts=2 sw=2 noexpandtab\r\n-->\r\n\r\n'}),define("html!sap.sbo.page.phone.SalesOpportunity.productTile",function(){return' <div class=\'sbo-oppo-producttile\'>\r\n    <div data-sap-template="block1">\r\n    </div>\r\n    <div data-sap-template="block2">\r\n\r\n		<div class="info">\r\n			<div class="key-value">\r\n				<div class="lable">{{i18n@app/document/DOC_TOTAL}}</div>\r\n				<div class="value">\r\n					<span data-sap-widget="sap.sbo.ui.widget.DecimalLabel"\r\n						data-sap-option="value:{{totalAmt,sap.formatter.real_string_nullable}}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}},decimalNum:{{globalSettings@types/Sum/DecimalPlace}},\r\n                           currency:{{globalSettings@currencySettings/localCurrency}}, currencyLocalRight:{{globalSettings@currencySettings/displayCurrencyOnTheRight}}"></span>\r\n				</div>\r\n			</div>\r\n			<div class="key-value">\r\n				<div class="lable">{{i18n@app/document/DISCOUNT}}</div>\r\n				<div class="value">\r\n					<span data-sap-widget="sap.sbo.ui.widget.DecimalLabel"\r\n						data-sap-option="value:{{discountPercent,sap.formatter.real_string_nullable}}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}},decimalNum:{{globalSettings@types/Sum/DecimalPlace}},\r\n                           currency:{{globalSettings@currencySettings/localCurrency}}, currencyLocalRight:{{globalSettings@currencySettings/displayCurrencyOnTheRight}}"></span>\r\n					<span style="margin-left: 5px;"\r\n						data-sap-widget="sap.sbo.ui.widget.DecimalLabel"\r\n						data-sap-option="value: {{discountPercent,sap.formatter.real_string_nullable}}, decimalNum:{{globalSettings@types/Percent/DecimalPlace}}">\r\n					</span> <span>%</span>\r\n				</div>\r\n			</div>\r\n\r\n		</div>\r\n\r\n	</div>\r\n</div>'}),define("html!sap.sbo.page.phone.SalesOrder.BasicTile",function(){return' <div class=\'sbo-order-basictile\'>\r\n    <div data-sap-template="block1">\r\n        <div class="Info"> \r\n        <div class="lable">{{i18n@app/document/CUSTOMER}}</div>\r\n        <div class="value">{{cardCode}}</div>\r\n        <div class="value">{{cardName}}</div>\r\n        </div> \r\n    </div>\r\n    <div data-sap-template="block2">\r\n\r\n        <div class="lable">{{i18n@common/OWNER}}</div>\r\n        <div class="pic" data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{owner@OwnerImage/url}}, arrangeType:"both" \' ></div>\r\n        <div class="value">{{OwnerEmployeeDisplayName}}</div>\r\n                    \r\n    </div>\r\n</div>'}),define("html!sap.sbo.page.phone.SalesOrder.contactTile",function(){return' <div class=\'sbo-order-contactstile\'>\r\n    <div data-sap-template="block1">\r\n    </div>\r\n    <div data-sap-template="block2">\r\n                         \r\n        <div class="pic" data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{Related@contact/Image/url}}, arrangeType:"both" \' ></div>\r\n        <div class="mainIcon" data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{Related@contact/contactPersonID,formatter.goldenImage}}, arrangeType:"original" \' ></div>\r\n        <div class="position">{{Related@contact/position}}&nbsp;</div>\r\n        <div class="name">{{Related@contact/displayName}}&nbsp;</div>\r\n           \r\n    </div>\r\n</div>'}),define("html!sap.sbo.page.phone.SalesOrder.ItemEditFrame",function(){return'<div class="sbo-order-item-edit-frame">\r\n\r\n	<div data-sap-template="itemFields">\r\n\r\n		<div data-sap-template="Content">\r\n			<div data-sap-template="Property" property="itemCode" link="itemDescription"></div>\r\n			<div data-sap-template="Property" property="quantity"></div>\r\n            <div data-sap-template="Property" property="unitPrice"></div>           \r\n            <div data-sap-template="Property" property="taxCode"></div>\r\n            <div data-sap-template="Property" property="vatGroup"></div>           \r\n            <div data-sap-template="Property" property="taxTotal"></div>\r\n            <div data-sap-template="Property" property="priceAfterVAT"></div>\r\n            <div data-sap-template="Property" property="discountPercent"></div> \r\n            <div data-sap-template="Property" property="grossTotal"></div>\r\n		</div>\r\n		<div data-sap-template="PropertyTemplate">\r\n			<div data-sap-template="[itemCode]" >\r\n				<div class="itemCode">\r\n				    <div class="label">{{i18n@app/document/PRODUCT}}</div>\r\n					<div class="sub-title">{{#MODELPREFIX#itemCode}}</div>\r\n					<div class="title">\r\n					<span>{{#MODELPREFIX#itemDescription}}</span>\r\n					<span class="icon" style="float: right; margin-right: 15px;"> &gt; </span>\r\n					</div>\r\n				</div>\r\n			</div>\r\n            <div data-sap-template="String[taxCode]" height="80">\r\n                <div class="key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div \r\n                            data-sap-widget="sap.ui.widget.DropDownBox" \r\n                            data-sap-option="textField: \'name\', valueField: \'code\', data: {{list@tax}}, selectedValue: {{loop@data/taxCode, two-way}}"></div> \r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div data-sap-template="String[vatGroup]" height="80">\r\n                <div class="key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div \r\n                            data-sap-widget="sap.ui.widget.DropDownBox" \r\n                            data-sap-option="textField: \'name\', valueField: \'code\', data: {{list@vatGroup}}, selectedValue: {{loop@data/vatGroup, two-way}}"></div> \r\n                    </div>\r\n                </div>\r\n            </div>               			\r\n\r\n		</div>\r\n\r\n	</div>\r\n\r\n</div>\r\n\r\n<!--\r\n vim:ts=2 sw=2 noexpandtab\r\n -->\r\n'}),define("html!sap.sbo.page.phone.SalesOrder.ItemsHeadEdit",function(){return'<div class="sbo-bo-ItemsHeadEdit">\r\n    <div class="total pane">\r\n        <div class="lable">{{meta@properties/docTotal/label}}</div>\r\n        <div display="{{meta@properties/docTotal/readOnly}}" class="value" data-currency="{{globalSettings@currencySettings/localCurrency}}" currency-right="{{globalSettings@currencySettings/displayCurrencyOnTheRight}}"><input style=\'width:75%;\' data-sap-widget="sap.sbo.ui.widget.DecimalInputField" data-sap-option="value: {{docTotal,sap.formatter.real_string_nullable,two-way}}, nullable: true,decimalNum:{{globalSettings@types/Sum/DecimalPlace}}"></div>\r\n        <div display="{{meta@properties/docTotal/readOnly,formatter.readOnly_bool}}" class="value" data-sap-widget="sap.sbo.ui.widget.DecimalLabel" data-sap-option="value:{{docTotal,sap.formatter.real_string_nullable}}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}},decimalNum:{{globalSettings@types/Sum/DecimalPlace}},\r\n        currency:{{globalSettings@currencySettings/localCurrency}}, currencyLocalRight:{{globalSettings@currencySettings/displayCurrencyOnTheRight}}"></div>\r\n    </div>\r\n    \r\n    <div class="tax pane">\r\n        <div class="lable">{{meta@properties/vatSum/label}}</div>\r\n        <div class="field" data-sap-widget="sap.sbo.ui.widget.DecimalLabel" data-sap-option="value:{{vatSum,sap.formatter.real_string_nullable}}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}},decimalNum:{{globalSettings@types/Sum/DecimalPlace}},\r\n        currency:{{globalSettings@currencySettings/localCurrency}}, currencyLocalRight:{{globalSettings@currencySettings/displayCurrencyOnTheRight}}"></div>\r\n    </div>\r\n    \r\n    <div class="discount pane">\r\n        <div class="lable">{{meta@properties/totalDiscount/label}}</div>\r\n        <span class="field" data-sap-widget="sap.sbo.ui.widget.DecimalLabel" data-sap-option="value:{{totalDiscount,sap.formatter.real_string_nullable}}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}},decimalNum:{{globalSettings@types/Sum/DecimalPlace}},\r\n        currency:{{globalSettings@currencySettings/localCurrency}}, currencyLocalRight:{{globalSettings@currencySettings/displayCurrencyOnTheRight}}"></span>\r\n        <span display="{{meta@properties/discountPercent/readOnly}}" class="value" style=\'width:45%;\'><input  data-sap-widget="sap.sbo.ui.widget.DecimalInputField" data-sap-option="value: {{discountPercent,sap.formatter.real_string_nullable,two-way}}, nullable: true, decimalNum:{{globalSettings@types/Percent/DecimalPlace}}"></span>\r\n        <span display="{{meta@properties/discountPercent/readOnly,formatter.readOnly_bool}}" class="value" data-sap-widget="sap.sbo.ui.widget.DecimalLabel"\r\n                            data-sap-option="value: {{discountPercent,sap.formatter.real_string_nullable}}, decimalNum:{{globalSettings@types/Percent/DecimalPlace}}"></span>\r\n                            <span class="value">%</span>\r\n    </div>\r\n    \r\n</div>\r\n'}),define("html!sap.sbo.page.phone.SalesOrder.ItemsEdit",function(){return'<div class="sbo-order-item-edit">\r\n\r\n    <div data-sap-template="header">\r\n        <div style="width: 100%;height:100%"class="boMetaInfo">\r\n	        <div class="key-value left">\r\n	            <div class="key">{{i18n@app/document/TOTAL_AMOUNT}}</div>\r\n	            <div class="value Amount">\r\n	            <span data-sap-widget="sap.sbo.ui.widget.DecimalLabel" data-sap-option="value:{{docTotal,sap.formatter.real_string_nullable}}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}},decimalNum:{{globalSettings@types/Sum/DecimalPlace}},\r\n	            currency:{{globalSettings@currencySettings/localCurrency}}, currencyLocalRight:{{globalSettings@currencySettings/displayCurrencyOnTheRight}}"></span>\r\n	            </div>\r\n	        </div>\r\n	        \r\n	        <div class="key-value right">\r\n	            <div class="fields"  data-sap-widget="sap.sbo.layout.phone.MetadataRaw">\r\n		    </div>\r\n		    </div>\r\n		    \r\n        </div>\r\n    </div>\r\n\r\n    <div data-sap-template="itemHeader">\r\n\r\n    </div>\r\n\r\n    <div data-sap-template="itemFields">\r\n\r\n        <div data-sap-template="Content">\r\n            <div data-sap-template="Property" property="itemCode"></div>\r\n            <div data-sap-template="Property" property="itemDescription"></div>\r\n            <div data-sap-template="Property" property="grossTotal"></div>\r\n            <div data-sap-template="Property" property="quantity"></div>\r\n            <div data-sap-template="Property" property="unitPrice"></div>\r\n            <div data-sap-template="Property" property="discountPercent"></div>\r\n            <div data-sap-template="Property" property="taxCode"></div>\r\n            <div data-sap-template="Property" property="vatGroup"></div>\r\n            <div data-sap-template="Property" property="taxTotal"></div>\r\n        </div>\r\n        <div data-sap-template="PropertyTemplate">\r\n\r\n            <div data-sap-template="[itemCode]" >\r\n                <div class="sub-title">\r\n                <span>{{#PROPERTY#}}</span>\r\n                <span>{{itemDescription}}</span>\r\n                </div>\r\n            </div>\r\n\r\n            <div data-sap-template="[itemDescription]" >\r\n                 <div class="title">{{#PROPERTY#}}</div>\r\n            </div>\r\n\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n<!--\r\nvim:ts=2 sw=2 noexpandtab\r\n-->\r\n'
}),define("html!sap.sbo.page.phone.SalesOrder.OrderCreation",function(){return'<div class=\'sbo-bo-creation-frame order\'>\r\n    <div class="title">\r\n        {{i18n@app/document/NEW_ORDER}}\r\n    </div>\r\n    <div class="fields">\r\n        <div ctrl="main"\r\n            class="sbo-app-template-editproperty" \r\n            data-sap-widget="sap.sbo.layout.phone.MetadataList" \r\n            data-sap-option=" verticalPadding: 5,  ignoredProperty:[\'cardName\', \'ShipToCountryName\',\'BillToCountryName\',\'OwnerEmployeeFirstName\',\'OwnerEmployeeLastName\',\'OwnerEmployeeDisplayName\',\'docEntry\',\'docNum\',\'docTotal\',\'documentsOwner\',\'contactPersonCode\',\'comments\',\'series\',\'discountPercent\',\'vatSum\',\'rounding\',\'status\',\'cancelled\',\'totalDiscount\',\'roundingDiffAmount\',\'sequentialNo\', \'docCurrency\', \'address\', \'address2\', \'OwnerEmployeeDisplayName\', \'mainContactPersonDisplayName\', \'transportationCode\', \'shiptypeName\']"\r\n        >    \r\n\r\n                \r\n        <div data-sap-template="Content">\r\n            <div data-sap-template="Property" property="cardCode" option=\'{"readOnly":false}\'></div>  \r\n            <div data-sap-template="Property" property="docDate"></div>\r\n            <div data-sap-template="Property" property="docDueDate"></div>\r\n            \r\n            <div data-sap-template="Html" uuid=\'salesOrderItems\'>\r\n                  <div disPlayFlag="{{cardCode,formatter.null_bool}}" class="field salesOrderItems" data-touchable="true">\r\n                    <div class="lable">{{i18n@app/document/PRODUCT_AMOUNT}}</div>\r\n                    <div class="count">\r\n                    <span>{{documentLines/length}} </span>\r\n                    <span>{{i18n@app/document/SELECTED}}</span>\r\n                    </div>\r\n                    <div class="amount">\r\n                        <span data-sap-widget="sap.sbo.ui.widget.DecimalLabel" data-sap-option="value:{{docTotal,sap.formatter.real_string_nullable}}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}},decimalNum:{{globalSettings@types/Sum/DecimalPlace}},\r\n                        currency:{{globalSettings@currencySettings/localCurrency}}, currencyLocalRight:{{globalSettings@currencySettings/displayCurrencyOnTheRight}}"></span>\r\n                    </div>\r\n                    <div style="float: right"><img src=\'./image/settings/double_arrow_fold.png\'></div>\r\n                  </div>\r\n            </div>\r\n        </div>\r\n        \r\n       <div data-sap-template="PropertyTemplate">\r\n            <div data-sap-template="String[cardCode]">\r\n                <div class="string key-value">\r\n                    <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                        <div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                     </div>                      \r\n                    <div class="value"  data-touchable="true">\r\n                        <div>{{cardCode}}</div>\r\n                        <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n                          data-sap-option="text:{{cardName}}, readonly:{{cardCodeModel@readonly}}, navigationEnabled: false"\r\n                          ></div>                        \r\n                </div>\r\n                </div>                 \r\n            </div>\r\n        </div>\r\n        \r\n        \r\n    </div>\r\n    </div>\r\n\r\n</div>\r\n'}),define("html!sap.sbo.page.phone.SalesOrder.OrderPrint",function(){return'<div id="container">\r\n    <div id="submit_bar">\r\n	    <span id="cancel">{{i18n@common/CANCEL}}</span>\r\n	</div>\r\n	<div id="frame_container">\r\n	    <iframe id="order" width="595" height="842" frameborder="0" scrolling="no" marginheight="0px" marginwidth="0px">\r\n	    </iframe>\r\n	</div>\r\n</div>\r\n'}),define("html!sap.sbo.page.phone.SalesOrder.productTile",function(){return' <div class=\'sbo-order-producttile\'>\r\n    <div data-sap-template="block1">\r\n    </div>\r\n    <div data-sap-template="block2">\r\n\r\n		<div class="info">\r\n			<div class="key-value">\r\n				<div class="lable">{{i18n@app/document/DOC_TOTAL}}</div>\r\n				<div class="value">\r\n					<span data-sap-widget="sap.sbo.ui.widget.DecimalLabel"\r\n						data-sap-option="value:{{docTotal,sap.formatter.real_string_nullable}}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}},decimalNum:{{globalSettings@types/Sum/DecimalPlace}},\r\n                           currency:{{globalSettings@currencySettings/localCurrency}}, currencyLocalRight:{{globalSettings@currencySettings/displayCurrencyOnTheRight}}"></span>\r\n				</div>\r\n			</div>\r\n			<div class="key-value">\r\n				<div class="lable">{{i18n@app/document/DISCOUNT}}</div>\r\n				<div class="value">\r\n					<span data-sap-widget="sap.sbo.ui.widget.DecimalLabel"\r\n						data-sap-option="value:{{totalDiscount,sap.formatter.real_string_nullable}}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}},decimalNum:{{globalSettings@types/Sum/DecimalPlace}},\r\n                           currency:{{globalSettings@currencySettings/localCurrency}}, currencyLocalRight:{{globalSettings@currencySettings/displayCurrencyOnTheRight}}"></span>\r\n					<span style="margin-left: 5px;"\r\n						data-sap-widget="sap.sbo.ui.widget.DecimalLabel"\r\n						data-sap-option="value: {{discountPercent,sap.formatter.real_string_nullable}}, decimalNum:{{globalSettings@types/Percent/DecimalPlace}}">\r\n					</span> <span>%</span>\r\n				</div>\r\n			</div>\r\n\r\n		</div>\r\n\r\n	</div>\r\n</div>'}),define("html!sap.sbo.page.phone.SalesOrder.SalesOrderEdit",function(){return'<div>\r\n	<div ctrl="main" class="sbo-app-template-editproperty sbo-app-template-property-info-enable"\r\n		data-sap-widget="sap.sbo.layout.phone.MetadataLayout"\r\n		data-sap-option="verticalPadding: 20, ignoredProperty: [\'OwnerEmployeeDisplayName\',\'cardName\', \'docEntry\',\'docCurrency\', \'cancelled\', \'contactPersonCode\', \'discountPercent\', \'docTotal\', \'vatSum\', \'rounding\', \'totalDiscount\', \'roundingDiffAmount\', \'approvalStatus\',\'Status\', \'OwnerEmployeeDisplayName\', \'mainContactPersonDisplayName\',\'ShipToCountryName\',\'BillToCountryName\', \'shiptypeName\']">\r\n\r\n		<div data-sap-template="Content">\r\n			<div data-sap-template="Property" property="docNum"></div>\r\n			<div data-sap-template="Property" property="cardCode"></div>\r\n			<div data-sap-template="Property" property="documentsOwner"></div>\r\n			<div data-sap-template="Property" property="status" ></div>          \r\n            <div data-sap-template="Property" property="docDate" ></div>\r\n            <div data-sap-template="Property" property="docDueDate" ></div> \r\n            <div data-sap-template="Property" property="address" ></div>\r\n            <div data-sap-template="Property" property="address2" ></div>                  \r\n            <div data-sap-template="Property" property="comments"></div>\r\n		</div>\r\n\r\n		<div data-sap-template="PropertyTemplate">\r\n			<div data-sap-template="String[cardCode]">\r\n	            <div class="key-value">\r\n	              <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n	              <div class="value" data-touchable="true">\r\n	                  <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n	                    data-sap-option="text:{{cardCode}}, readonly:true, inNavigationMode:{{meta@readonly}}">{{cardCode}}</div>\r\n	                  <div>{{cardName}}&nbsp;</div>\r\n	              </div>\r\n	            </div>  \r\n			</div>\r\n\r\n	         <div data-sap-template="[documentsOwner]">\r\n	             <div class="key-value">\r\n	               <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n	               <div class="value" data-touchable="true">\r\n	                 <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n	                   data-sap-option="iconUrl:{{owner@OwnerImage/url}}, text:{{OwnerEmployeeDisplayName}}, readonly:{{$readOnly}}, inNavigationMode:{{meta@readonly}}"\r\n	                   ></div>\r\n	               </div>\r\n	             </div>                           \r\n	         </div> \r\n	          	         \r\n	        <div data-sap-template="[status]">\r\n                <div class="readonly enumeration key-value">\r\n                    <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n                    <div class="value">\r\n                        <span style=\'display:inline-block;\' data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{#PROPERTY#, sap.sbo.util.formatter.convertStatusImage}}, arrangeType:"original" \' ></span>\r\n                        <span data-sap-widget="sap.sbo.ui.widget.EnumLabel" \r\n                            data-sap-option="textField: \'label\', valueField: \'name\', data: {{meta@enum/#type#}}, selectedValue: {{#PROPERTY#}}">&nbsp;\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n	         </div>\r\n			\r\n            <div data-sap-template="[address]" class="sbo-bo-address order">\r\n                <div class="readonly key-value">\r\n                    <div class="key">\r\n                        {{i18n@app/address/BILLTO}}\r\n                    </div>\r\n                    <div class="value">\r\n                        <div class="value" data-sap-widget="sap.sbo.ui.widget.Address"\r\n                            data-sap-option="locale:{{addressExtension/0/billToCountry, formatter.string_null}}, \r\n                        country:{{addressExtension/0/BillToCountryName, formatter.string_null}}, \r\n                        state:{{addressExtension/0/billToState, formatter.string_null}}, \r\n                        zipCode:{{addressExtension/0/billToZipCode, formatter.string_null}}, \r\n                        city:{{addressExtension/0/billToCity, formatter.string_null}}, \r\n                        street1:{{addressExtension/0/billToStreet, formatter.string_null}}, \r\n                        street2:{{addressExtension/0/billToBlock, formatter.string_null}}">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="writable key-value">\r\n                    <div class="key" data-id="billto">\r\n                        <span>{{i18n@app/address/BILLTO}}</span> <span><img class="chooseIcon"\r\n                            src="./image/SalesOrder/choose.png"></span>\r\n                    </div>\r\n                    <div class="value">\r\n                      <div>\r\n                        <div class="Detail pane">\r\n                            <div class="field inline">\r\n                                <div class="key">{{i18n@app/address/COUNTRY}}</div>\r\n                                <div class="value">\r\n                                    <span data-id="dropdownlistforbilltocountry"\r\n                                        data-sap-widget="sap.ui.widget.DropDownBox"\r\n                                        data-sap-option="textField: \'name\', valueField: \'code\', data: {{list@countryB}}, selectedValue: {{addressExtension/0/billToCountry, two-way}}"></span>\r\n                                </div>\r\n                            </div>\r\n                            <div class="field inline">\r\n                                <div class="key">{{i18n@app/address/STATE}}</div>\r\n                                <div class="value">\r\n                                    <span data-sap-widget="sap.ui.widget.DropDownBox"\r\n                                        data-sap-option="disabled:{{list@stateB/length, formatter.isZero}},textField: \'name\', valueField: \'code\', data: {{list@stateB}}, selectedValue: {{addressExtension/0/billToState, two-way}}"></span>\r\n                                </div>\r\n                            </div>\r\n                            <div class="field inline">\r\n                                <div class="key">{{i18n@app/address/ZIPCODE}}</div>\r\n                                <div class="value">\r\n                                    <input maxlength="{{addressMeta@billToZipCode/size}}" data-sap-widget="sap.ui.widget.TextField"\r\n                                        data-sap-option="value: {{addressExtension/0/billToZipCode, two-way, formatter.string_null}},nullable:true">\r\n                                </div>\r\n                            </div>\r\n                            <div class="field inline">\r\n                                <div class="key">{{i18n@app/address/CITY}}</div>\r\n                                <div class="value">\r\n                                    <input maxlength="{{addressMeta@billToCity/size}}" data-sap-widget="sap.ui.widget.TextField"\r\n                                        data-sap-option="value: {{addressExtension/0/billToCity, two-way, formatter.string_null}},nullable:true">\r\n                                </div>\r\n                            </div>\r\n                            <div class="field">\r\n                                <div class="key">{{i18n@app/address/STREET}}</div>\r\n                                <div class="value">\r\n                                    <input maxlength="{{addressMeta@billToStreet/size}}" data-sap-widget="sap.ui.widget.TextField"\r\n                                        data-sap-option="value: {{addressExtension/0/billToStreet,two-way, formatter.string_null}},nullable:true">\r\n                                </div>\r\n                                <div class="value">\r\n                                    <input maxlength="{{addressMeta@billToBlock/size}}" data-sap-widget="sap.ui.widget.TextField"\r\n                                        data-sap-option="value: {{addressExtension/0/billToBlock,two-way, formatter.string_null}},nullable:true">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n\r\n            <div data-sap-template="[address2]" class="sbo-bo-address order">\r\n                <div class="readonly key-value">\r\n                    <div class="key">\r\n                        {{i18n@app/address/SHIPTO}}\r\n                    </div>\r\n                    <div class="value">\r\n                        <div class="value" data-sap-widget="sap.sbo.ui.widget.Address"\r\n                            data-sap-option="locale:{{addressExtension/0/shipToCountry, formatter.string_null}}, \r\n                        country:{{addressExtension/0/ShipToCountryName, formatter.string_null}}, \r\n                        state:{{addressExtension/0/shipToState, formatter.string_null}}, \r\n                        zipCode:{{addressExtension/0/shipToZipCode, formatter.string_null}}, \r\n                        city:{{addressExtension/0/shipToCity, formatter.string_null}}, \r\n                        street1:{{addressExtension/0/shipToStreet, formatter.string_null}}, \r\n                        street2:{{addressExtension/0/shipToBlock, formatter.string_null}}">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="writable key-value">\r\n                    <div class="key" data-id="shipto">\r\n                        <span>{{i18n@app/address/SHIPTO}}</span> <span><img class="chooseIcon"\r\n                            src="./image/SalesOrder/choose.png"></span>\r\n                    </div>\r\n                    <div class="value">\r\n                      <div>\r\n                        <div class="Detail pane">\r\n                            <div class="field inline">\r\n                                <div class="key">{{i18n@app/address/COUNTRY}}</div>\r\n                                <div class="value">\r\n                                    <span data-id="dropdownlistforshiptocountry"\r\n                                        data-sap-widget="sap.ui.widget.DropDownBox"\r\n                                        data-sap-option="textField: \'name\', valueField: \'code\', data: {{list@countryS}}, selectedValue: {{addressExtension/0/shipToCountry, two-way}}"></span>\r\n                                </div>\r\n                            </div>\r\n                            <div class="field inline">\r\n                                <div class="key">{{i18n@app/address/STATE}}</div>\r\n                                <div class="value">\r\n                                    <span data-sap-widget="sap.ui.widget.DropDownBox"\r\n                                        data-sap-option="disabled:{{list@stateS/length, formatter.isZero}},textField: \'name\', valueField: \'code\', data: {{list@stateS}}, selectedValue: {{addressExtension/0/shipToState, two-way}}"></span>\r\n                                </div>\r\n                            </div>\r\n                            <div class="field inline">\r\n                                <div class="key">{{i18n@app/address/ZIPCODE}}</div>\r\n                                <div class="value">\r\n                                    <input maxlength="{{addressMeta@shipToZipCode/size}}" data-sap-widget="sap.ui.widget.TextField"\r\n                                        data-sap-option="value: {{addressExtension/0/shipToZipCode, two-way, formatter.string_null}},nullable:true">\r\n                                </div>\r\n                            </div>\r\n                            <div class="field inline">\r\n                                <div class="key">{{i18n@app/address/CITY}}</div>\r\n                                <div class="value">\r\n                                    <input maxlength="{{addressMeta@shipToCity/size}}" data-sap-widget="sap.ui.widget.TextField"\r\n                                        data-sap-option="value: {{addressExtension/0/shipToCity, two-way, formatter.string_null}},nullable:true">\r\n                                </div>\r\n                            </div>\r\n                            <div class="field">\r\n                                <div class="key">{{i18n@app/address/STREET}}</div>\r\n                                <div class="value">\r\n                                    <input maxlength="{{addressMeta@shipToStreet/size}}" data-sap-widget="sap.ui.widget.TextField"\r\n                                        data-sap-option="value: {{addressExtension/0/shipToStreet,two-way, formatter.string_null}},nullable:true">\r\n                                </div>\r\n                                <div class="value">\r\n                                    <input maxlength="{{addressMeta@shipToBlock/size}}" data-sap-widget="sap.ui.widget.TextField"\r\n                                        data-sap-option="value: {{addressExtension/0/shipToBlock,two-way, formatter.string_null}},nullable:true">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n		</div>\r\n\r\n	</div>\r\n</div>\r\n'}),define("html!sap.sbo.page.phone.SalesOrder.SalesOrderHome",function(){return'<div class=\'sbo-bo-home sbo-order-home\'>\r\n\r\n    <div ctrl=\'layout\' class=\'sbo-bo-home-layout\'\r\n    data-sap-widget="sap.sbo.layout.phone.AdvancedTilesLayout"\r\n    data-sap-option="column:2, ratio: 3">\r\n\r\n        <div data-sap-template="View" mode="2x1" coordinate="0,0" uuid="general" name="sap.sbo.page.phone.SalesOrder.BasicTile"></div>\r\n        <div data-sap-template="View" mode="2x1" coordinate="0,1" uuid="product" name="sap.sbo.page.phone.SalesOrder.productTile"></div>\r\n        <div data-sap-template="View" mode="2x1" coordinate="0,2" uuid="contact" name="sap.sbo.page.phone.SalesOrder.contactTile"></div>\r\n        <div data-sap-template="View" mode="1x1" coordinate="0,3" uuid="sbo.NotePageTile" name="sap.sbo.app.notepage.NotePageTile"></div>\r\n        <div data-sap-template="View" mode="1x1" coordinate="1,3" uuid="sbo.FeedTile" name="sap.sbo.app.network.phone.FeedTile"></div>\r\n        <div data-sap-template="View" mode="1x1" coordinate="0,4" uuid="sbo.taskTile" name="sap.sbo.app.task.taskTile" option=""></div>\r\n        <div data-sap-template="View" mode="1x1" coordinate="1,4" uuid="sbo.RelatedTile" name="sap.sbo.app.network.RelatedTile"></div>\r\n\r\n    </div>\r\n</div>'}),define("html!sap.sbo.page.phone.SalesOrder.SalesOrderListView",function(){return'<div class=\'bo-listview salesorder\'>\r\n    <div data-id="listView" data-sap-widget="sap.sbo.layout.phone.ListLayout" data-sap-option=\'itemHeight: 150 \r\n    ,select:["docEntry","docNum","cardCode","cardName","documentsOwner","contactPersonCode","status","docDate","docTotal"]\'>\r\n        <div data-sap-template="Content">\r\n            <div class=\'item\'>\r\n                <div class=\'header\'>\r\n                    <div class="index">{{docNum}}</div>\r\n                    <div class="title">\r\n                    <span data-sap-widget="sap.sbo.ui.widget.DecimalLabel" data-sap-option="value:{{docTotal,sap.formatter.real_string_nullable}}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}},decimalNum:{{globalSettings@types/Sum/DecimalPlace}},\r\n                    currency:{{globalSettings@currencySettings/localCurrency}}, currencyLocalRight:{{globalSettings@currencySettings/displayCurrencyOnTheRight}}"></span>\r\n                    </div>\r\n                    <div class="sub-title">\r\n                    <img class="icon" style="margin-right: 5px" src="./image/SalesOrder/truck_icon.png"/>\r\n                    <span data-sap-widget="sap.sbo.ui.widget.DateLabel" \r\n                                data-sap-option="value: {{docDate, sap.sbo.util.formatter.date_JODATime}}, format:{{globalSettings@date/formatString}}">&nbsp;</span>\r\n                    </div>\r\n                </div>     \r\n                <div class="details">\r\n                    <div class=\'field\'>\r\n                        <div class="info">{{cardCode}}</div>\r\n                    </div>\r\n                    <div class=\'field\'>\r\n                        <div class="info">{{cardName}}</div>\r\n                    </div>\r\n                </div>\r\n                <div class="status"  data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{status, sap.sbo.util.formatter.convertStatusImage}}, arrangeType:"original" \' >\r\n                </div>                 \r\n            </div>\r\n        </div>\r\n        \r\n        <div data-sap-template="PropertyTemplate" style="display: none;">\r\n            <div data-sap-template="String[cardCode]" height="100">\r\n                <div class="key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div data-id="cardCode"\r\n                            data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n                            data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.phone.ChooseListCustomer\', titleField: \'cardName\', subtitleField: \'cardCode\', valueField: \'cardCode\'"></div>    \r\n                    </div>\r\n                </div>\r\n            </div>    \r\n                    \r\n            <div data-sap-template="Integer[documentsOwner]" height="100">\r\n                <div class="key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div data-id="documentsOwner"\r\n                            data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n                            data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.phone.ChooseListEmployee\', titleField: \'displayName\', valueField: \'employeeID\'"></div>    \r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n            <div data-sap-template="Integer[contactPersonCode]" height="100">\r\n                <div class="key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div data-id="contactPersonCode"\r\n                            data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n                            data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.phone.ChooseListContact\', titleField: \'displayName\', subtitleField: \'position\', valueField: \'contactPersonID\'"></div>    \r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>        \r\n    </div>\r\n</div>\r\n'}),define("html!sap.sbo.page.phone.sample.AttachmentTile",function(){return'<div class="sbo-bo-tile sbo-bo-tile-{{count}} sbo-attachment-tile attachment">\r\n    <div class="title">Attachment</div>\r\n    <div class="number"><div class="value">{{count, sap.sbo.util.formatter.circleNumber_more}}</div></div>\r\n</div>'}),define("html!sap.sbo.page.phone.sample.AttachmentView",function(){return"<div class=\"sbo-bo-creation address\">\r\n    <div class='value'>\r\n    <button id='btnDate' data-sap-widget='sap.ui.widget.Button' data-sap-option=\"text: 'Choose Date'\" >\r\n    </div>\r\n</div>\r\n"}),define("html!sap.sbo.page.phone.sample.ListView",function(){return'<div class=\'sbo-cardviewdemo\'>\r\n\r\n<div ctrl="carouselView" data-sap-widget="sap.sbo.layout.phone.CarouselLayout" data-sap-option="">\r\n	<div class="sbo-carousel-layout-container">\r\n		<div class="sbo-carousel-layout-item">\r\n			<div>test 1</div>\r\n		</div>\r\n		<div class="sbo-carousel-layout-item">\r\n			<button id=\'test-button\' data-sap-widget=\'sap.ui.widget.Button\' data-sap-option="text: {{buttonText}}"></button>\r\n		</div>\r\n		<div class="sbo-carousel-layout-item">\r\n			<div>test 3</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n\r\n<div ctrl="carouselView2" data-sap-widget="sap.sbo.layout.phone.CarouselLayout" data-sap-option="">\r\n	<div class="sbo-carousel-layout-container sap-sfa-carousel-repeat" data-sap-widget="sap.ui.Repeat" data-sap-option="data:{{repeatData, two-way}}">\r\n		<div data-sap-template="Content" class="sbo-carousel-layout-item">\r\n			<div>test {{value}}</div>\r\n			<button data-sap-widget=\'sap.ui.widget.Button\' data-sap-option="text: {{text}}"></button>\r\n		</div>\r\n	</div>\r\n</div>\r\n \r\n  <div ctrl="listView" data-sap-widget="sap.sbo.layout.phone.ListLayout" data-sap-option="itemHeight: 100, loadByGesture: true">\r\n    <div data-sap-template="Content" class="sbo-cardview-item">\r\n      <span>\r\n        card name: {{name}}\r\n      </span>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n'}),define("html!sap.sbo.page.phone.task.taskDialog",function(){return'<div data-sfa-class="task-dialog-content" class = "task-dialog-content">\r\n\r\n  <div data-sfa-class = "taskSetting" class = "taskSetting">\r\n \r\n	<div data-sfa-class = "DueDate" class = "chooseDateTime"><h2>\r\n	<label class = "{{details,sap.sbo.app.task.taskUtil.modeHide}} sap-sbo-task-time-display">{{details/value/endDate,sap.sbo.app.task.taskUtil.DateDisplay}}</label>\r\n	<!-- <label>{{details/value/endDate,sap.sbo.app.task.taskUtil.timeFormater}}</label> -->\r\n	</h2>\r\n\r\n	<div id = "dt"  data-sap-type="date" data-sap-widget="sap.sbo.ui.widget.DateTimeField" class = "datetime-local sap-sbo-task-dateTime-local {{details,sap.sbo.app.task.taskUtil.modeDisplay}}" value = {{details/value/endDate,sap.sbo.app.task.taskUtil.DatePickToVal}}></div>\r\n	</div>\r\n	<div id = "TypeImage" class = "TypeImage" data-sfa-class = "TypeIcon" taskType = "{{details/value/type}}"\r\n	 data-sap-widget = \'sap.ui.widget.Icon\' data-sap-option = "iconURL:{{details/value/type,sap.sbo.app.task.taskUtil.ImageUrlComplete}}"></div>\r\n	 <div data-sfa-class = "BoDesc">\r\n	<!--   <label id = "BoDesc" class = "sap-sbo-link-bo">\r\n	 {{details/value/relatedBusinessObject,sap.sbo.app.task.taskUtil.getRelatedBoNameAndSequenceNo}}\r\n	 </label>-->\r\n	  <a id = "BoDesc" href=\'javascript:void(0)\' class = "sap-sbo-link-bo" data-sap-widget="sap.sbo.ui.widget.BoLink" data-sap-option="text: {{details/value/relatedBOInfo,sap.sbo.app.task.taskUtil.getRelatedBoNameAndSequenceNo}}, boEntity: {{details/value/relatedBusinessObject,sap.sbo.app.task.taskUtil.getRelatedBoForBoLinkWidget}}">\r\n	 \r\n	 </a>\r\n	  <img id = "removeImg" data-sfa-class = "removeImg" src = "image/task/remove.png" class = "{{details,sap.sbo.app.task.taskUtil.removeImgDisplay}}"/>\r\n	 </div>\r\n	 <div data-sfa-class = "AssigneeCode">\r\n	  <div data-sfa-class="AssigneeImage" data-sap-widget = \'sap.ui.widget.Icon\' \r\n	  data-sap-option = "iconURL:{{details/value,sap.sbo.app.task.taskUtil.PortraitUrl}},text:{{details/value/assigneeDisplayName,sap.sbo.app.task.taskUtil.assigneeDisplayNameConvertor}}"></div>\r\n	 </div>\r\n </div>\r\n 	   \r\n           <div class="chooseList" data-sfa-class = "taskDetailsViewChooseType" style="width:130px;" data-sap-widget="sap.sbo.ui.widget.PopupMenu" \r\n            data-sap-option="direction:\'bottom\',targetid:\'\',force:true">\r\n                <div class="sfa-popup-menu-standard">\r\n                    <div key="Phone_Call" style = "margin-top:20px;" class = "popMenuDiv sap-sbo-app-task-taskTypeClass">\r\n                         <img src = "image/task/Phone_Call.png" style = "height:26px;width:26px;"/>\r\n                    </div>\r\n                    <div key="Email" class = "popMenuDiv sap-sbo-app-task-taskTypeClass">\r\n                          <img src = "image/task/Email.png" style = "height:26px;width:26px;"/>\r\n                    </div>\r\n                    <div key="Meeting" class = "popMenuDiv sap-sbo-app-task-taskTypeClass">\r\n                          <img src = "image/task/Meeting.png" style = "height:26px;width:26px;"/>\r\n                    </div>\r\n                    <div key="Task" class = "popMenuDiv sap-sbo-app-task-taskTypeClass">\r\n                          <img src = "image/task/Task.png" style = "height:26px;width:26px;"/>\r\n                    </div>                  \r\n                    <div Key = "Not_Defined" style = "margin-bottom:20px;" class = "popMenuDiv sap-sbo-app-task-taskTypeClass">\r\n                    	  <img src = "image/task/Not_Defined.png" style = "height:26px;width:26px;"/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n     <div data-sfa-class = "taskAttachmentWraper">\r\n	<div data-sfa-class = "taskAttachment">\r\n	<div data-sfa-class = "AttachText">\r\n	 <div id = "myTextDiv" data-sfa-class = "myTextDiv"  class = "myTextDiv {{details,sap.sbo.app.task.taskUtil.modeHide}}">\r\n	    <div data-sfa-class = "textDivLabel" style = "white-space:pre-wrap;" class="richtextarea">{{!richMediaText}}</div></div>\r\n		<textarea id=\'myTextArea\' class ="myTextArea {{details,sap.sbo.app.task.taskUtil.modeDisplay}}" placeholder= \'{{details/value/type,sap.sbo.app.task.taskUtil.ShowPlaceHolderText}}\'\r\n		        data-sap-widget="sap.sbo.ui.widget.AutoCompletableTextAreaGrp"\r\n		        data-sap-option="value:{{details/value/description}},  wrap: \'soft\', readonly: {{details/Mode,sap.sbo.app.task.taskUtil.IsReadonly}}"></textarea>\r\n        		<!-- <textarea id=\'myTextArea\' class  ="myTextArea {{details,sap.sbo.app.task.taskUtil.modeDisplay}}" data-sap-widget=\'sap.ui.widget.TextArea\'\r\n				data-sap-option="value:{{details/value/description}},  wrap: \'soft\', readonly: {{details/Mode,sap.sbo.app.task.taskUtil.IsReadonly}}"></textarea>  -->\r\n	   \r\n		\r\n	</div>\r\n	<div data-sfa-class="content" id = "sap.sbo-app-task-taskDialog-attachments" class = "{{details/value/taskAttachments,sap.sbo.app.task.taskUtil.AttachmentHeight}}">\r\n	 <div id = "taskContainer" class = "taskContainer" data-sfa-class="taskContainer" data-sap-widget="sap.ui.Repeat"  data-sap-option="data:{{details/value/taskAttachments,two-way}}"> 	\r\n	  		<div id="tile" data-sap-template="Content" data-sfa-class="taskAttach" index = "{{_internal_@index}}" data-sfa-tile-id="{{Id}}" >\r\n	  		  <div id = "{{attachmentId}}"  data-sfa-class="attachPreviewIcon" data-sap-widget = \'sap.ui.widget.Icon\' data-sap-option = "iconURL:{{previewUrl}},text:{{attachmentFileName,sap.sbo.app.task.taskUtil.attachmentFileName}}"></div>\r\n	  		  <img removeId = "{{attachmentId}}"  data-sfa-class="removePreviewIcon" class = "taskAttachmentRemoveImage" src = \'image/task/remove.png\'/>\r\n	      </div>\r\n	    </div> \r\n	 </div>\r\n	</div>\r\n	</div>\r\n	<div id="mediaBar" class = \'sap-sbo-app-task-mediaBar\' style = "display:none;" data-sap-widget="sap.sbo.ui.widget.PhoneMediaBar" data-sap-option="autoComplete: true"></div>\r\n</div>\r\n'
}),define("html!sap.sbo.page.phone.task.taskList",function(){return'<div data-sfa-class="activities-list">\r\n\r\n	<div id = "taskListLayout" class = "sap-sbo-app-task-list-view" data-sap-widget ="sap.sbo.layout.phone.ListLayout" data-sfa-class="content" data-sap-option="source:{{list}},filter:{{filter}},itemHeight:150">\r\n	  	<div data-sap-template="Content" data-sfa-class="tile" data-sfa-tile-id="{{id}}"  status ="{{status}}" class="{{status,sap.sbo.app.task.taskUtil.changeBackgroundColor}}">\r\n	  	   <div data-sfa-class = "activities-header">\r\n	  	   	<div data-sfa-class = "HeaderDiv">\r\n	  	   <div id = "taskCK" class = "sap-sbo-task-DoneCK {{,sap.sbo.app.task.taskUtil.taskStatusCK}}" data-sap-widget = \'sap.ui.widget.Icon\' data-sap-option = "iconURL:{{status,sap.sbo.app.task.taskUtil.GetSwitchButtonByStatus}}" >\r\n	         </div>\r\n	       <label data-sfa-class ="taskCKText" class = "{{,sap.sbo.app.task.taskUtil.taskStatusCKText}} sap-sbo-task-DoneCK-Text" id = "ShowTaskCKText" >{{,sap.sbo.app.task.taskUtil.getTaskStatusText}}</label>\r\n	  	   <div data-sfa-class ="Approve" class = "{{,sap.sbo.app.task.taskUtil.SpecialTypeDisplay}}" id = "Approve" >{{,sap.sbo.app.task.taskUtil.SetApprovalInListText}}</div>\r\n	      <div data-sfa-class ="ApproveReadOnlyInList" class = "{{,sap.sbo.app.task.taskUtil.GrandReadDisplay}}" id = "ApproveReadOnly">{{,sap.sbo.app.task.taskUtil.SetApprovalInListText2}}</div>\r\n	       <div data-sfa-class ="Reject" class = "{{,sap.sbo.app.task.taskUtil.SpecialTypeDisplay}}" id = "Reject" >{{i18n@app/task/REJECT}}</div>\r\n	       <label data-sfa-class ="Approve" class = "{{,sap.sbo.app.task.taskUtil.SpecialTypeStatusDisplay}} approvalText" id = "ShowApprovalStatus" >{{,sap.sbo.app.task.taskUtil.GetTypeString}}</label>\r\n	       <div data-sfa-class = "typeIcon" data-sap-widget = \'sap.ui.widget.Icon\' data-sap-option = "iconURL:{{type,sap.sbo.app.task.taskUtil.ImageUrlComplete}}" \r\n	         class = "{{,sap.sbo.app.task.taskUtil.typeIconDisplay}}">\r\n	        </div>\r\n	     \r\n	         <div data-sfa-class="{{,sap.sbo.app.task.taskUtil.getDueDataClass}}">\r\n	           {{endDate, sap.sbo.app.task.taskUtil.DateDisplay}} \r\n	         </div> \r\n	         </div>\r\n	        </div>\r\n	        <div data-sfa-class = "taskContentWrapper">\r\n	        	  <div data-sfa-class = "taskContent">\r\n	        		<div data-sfa-class="{{,sap.sbo.app.task.taskUtil.getMemoContentClass}}">\r\n	          			<p style = "padding-left:5px;"> {{,sap.sbo.app.task.taskUtil.ShortDescWithMemoFileName}}</p>              \r\n                        <p class = "relatedBOInfoinList">{{relatedBOInfo, sap.sbo.app.task.taskUtil.getRelatedBoInfo}}</p>	          			\r\n	         		</div>\r\n	      \r\n	          		<div id = "AttachmentImage" data-sfa-class="attachmentIcon" data-sap-widget = \'sap.ui.widget.Icon\' data-sap-option = "iconURL:{{,sap.sbo.app.task.taskUtil.previewUrlFortaskListView}}" \r\n	          			class = "{{,sap.sbo.app.task.taskUtil.memoIconDisplayByDescription}} ">\r\n	         		</div>\r\n	       		</div>  \r\n	        </div>\r\n	     \r\n	       \r\n	  	</div>\r\n	</div> \r\n  <div class = "filtertaskDIV">\r\n <div class = "boFilter" style = "display:block;margin-top:10px;">\r\n 		<!--  <div class = "filterTitle"><div style = "display:inline;">{{i18n@app/task/ALL}}</div></div>-->\r\n 		<div class = "filterText" style = "top:0;border-top:0px;" data-filter="bo_all"><div class ="filter_text" >{{i18n@app/task/ALL}}</div></div>\r\n 		<div class = "filterText" style = "top:70px;" data-filter="bo_opened"><div class ="filter_text" >{{i18n@app/task/OPENED}}</div></div>\r\n 		<div class = "filterText" style = "top:140px;" data-filter="bo_done"><div class ="filter_text" >{{i18n@app/task/COMPLETED}}</div></div>\r\n 	</div>\r\n 	<div class = "myFilter" style = "display:block;margin-top:10px;">\r\n 	<!--  	<div class = "filterTitle"><div style = "display:inline;">{{i18n@app/task/TOME}}</div></div>-->\r\n 		<div class = "filterText" style = "top:0;border-top:0px;" data-filter="toMe_all"><div class ="filter_text" >{{i18n@app/task/ALL}}</div></div>\r\n 		<div class = "filterText" style = "top:70px;" data-filter="toMe_opened"><div class ="filter_text" >{{i18n@app/task/MYOPEN}}</div></div>\r\n 		<div class = "filterText" style = "top:140px;" data-filter="toMe_done"><div class ="filter_text" >{{i18n@app/task/MYCOMPLETED}}</div></div>\r\n 		<div class = "filterText"  style = "top:210px;" data-filter="fromMe_all"><div class ="filter_text" >{{i18n@app/task/SENT}}</div></div>\r\n 	</div>\r\n 	<div style = "display:block;margin-top:10px;" class = "customerFilter">	\r\n 		<!--  <div class = "filterTitle"><div style = "display:inline;">{{i18n@app/task/FROMME}}</div></div>-->\r\n 		<div class = "filterText" style = "top:0;border-top:0px;" data-filter="bo_all"><div class ="filter_text"  >{{i18n@app/task/ALL}}</div></div>\r\n 		<div class = "filterText" style = "top:70px;" data-filter="bo_opened"><div class ="filter_text"  >{{i18n@app/task/OPENED}}</div></div>\r\n 		<div class = "filterText" style = "top:140px;" data-filter="bo_done"><div class ="filter_text" >{{i18n@app/task/COMPLETED}}</div></div>\r\n 		<div class = "filterText" style = "top:210px;" data-filter="all_aggregation"><div class ="filter_text" >{{i18n@app/task/RELEATED}}</div></div>\r\n 	</div>\r\n </div>\r\n</div>\r\n'}),define("html!sap.sbo.page.phone.SalesQuotation.BasicTile",function(){return' <div class=\'sbo-quo-basictile\'>\r\n    <div data-sap-template="block1">\r\n        <div class="Info"> \r\n        <div class="lable">{{i18n@app/document/CUSTOMER}}</div>\r\n        <div class="value">{{cardCode}}</div>\r\n        <div class="value">{{cardName}}</div>\r\n        </div> \r\n    </div>\r\n    <div data-sap-template="block2">\r\n\r\n        <div class="lable">{{i18n@common/OWNER}}</div>\r\n        <div class="pic" data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{owner@OwnerImage/url}}, arrangeType:"both" \' ></div>\r\n        <div class="value">{{OwnerEmployeeDisplayName}}</div>\r\n                    \r\n    </div>\r\n</div>'}),define("html!sap.sbo.page.phone.SalesQuotation.contactTile",function(){return' <div class=\'sbo-quo-contactstile\'>\r\n    <div data-sap-template="block1">\r\n    </div>\r\n    <div data-sap-template="block2">\r\n                         \r\n        <div class="pic" data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{Related@contact/Image/url}}, arrangeType:"both" \' ></div>\r\n        <div class="mainIcon" data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{Related@contact/contactPersonID,formatter.goldenImage}}, arrangeType:"original" \' ></div>\r\n        <div class="position">{{Related@contact/position}}&nbsp;</div>\r\n        <div class="name">{{Related@contact/displayName}}&nbsp;</div>\r\n           \r\n    </div>\r\n</div>'}),define("html!sap.sbo.page.phone.SalesQuotation.ItemEditFrame",function(){return'<div class="sbo-quotation-item-edit-frame">\r\n\r\n	<div data-sap-template="itemFields">\r\n\r\n		<div data-sap-template="Content">\r\n            <div data-sap-template="Property" property="itemCode" link="itemDescription"></div>\r\n            <div data-sap-template="Property" property="quantity"></div>\r\n            <div data-sap-template="Property" property="unitPrice"></div>           \r\n            <div data-sap-template="Property" property="taxCode"></div>\r\n            <div data-sap-template="Property" property="vatGroup"></div>           \r\n            <div data-sap-template="Property" property="taxTotal"></div>\r\n            <div data-sap-template="Property" property="priceAfterVAT"></div>\r\n            <div data-sap-template="Property" property="discountPercent"></div> \r\n            <div data-sap-template="Property" property="grossTotal"></div>\r\n		</div>\r\n		<div data-sap-template="PropertyTemplate">\r\n			<div data-sap-template="[itemCode]" >\r\n				<div class="itemCode">\r\n				    <div class="label">{{i18n@app/document/PRODUCT}}</div>\r\n					<div class="sub-title">{{#MODELPREFIX#itemCode}}</div>\r\n					<div class="title">\r\n					<span>{{#MODELPREFIX#itemDescription}}</span>\r\n					<span class="icon" style="float: right; margin-right: 15px;"> &gt; </span>\r\n					</div>\r\n				</div>\r\n			</div>\r\n            <div data-sap-template="String[taxCode]" height="80">\r\n                <div class="key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div \r\n                            data-sap-widget="sap.ui.widget.DropDownBox" \r\n                            data-sap-option="textField: \'name\', valueField: \'code\', data: {{list@tax}}, selectedValue: {{loop@data/taxCode, two-way}}"></div> \r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div data-sap-template="String[vatGroup]" height="80">\r\n                <div class="key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div \r\n                            data-sap-widget="sap.ui.widget.DropDownBox" \r\n                            data-sap-option="textField: \'name\', valueField: \'code\', data: {{list@vatGroup}}, selectedValue: {{loop@data/vatGroup, two-way}}"></div> \r\n                    </div>\r\n                </div>\r\n            </div>              			\r\n\r\n		</div>\r\n\r\n	</div>\r\n\r\n</div>\r\n\r\n<!--\r\n vim:ts=2 sw=2 noexpandtab\r\n -->\r\n'}),define("html!sap.sbo.page.phone.SalesQuotation.ItemsEdit",function(){return'<div class="sbo-quotation-item-edit">\r\n\r\n    <div data-sap-template="header">\r\n        <div style="width: 100%;height:100%"class="boMetaInfo">\r\n	        <div class="key-value left">\r\n	            <div class="key">{{i18n@app/document/TOTAL_AMOUNT}}</div>\r\n	            <div class="value Amount">\r\n	            <span data-sap-widget="sap.sbo.ui.widget.DecimalLabel" data-sap-option="value:{{docTotal,sap.formatter.real_string_nullable}}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}},decimalNum:{{globalSettings@types/Sum/DecimalPlace}},\r\n	            currency:{{globalSettings@currencySettings/localCurrency}}, currencyLocalRight:{{globalSettings@currencySettings/displayCurrencyOnTheRight}}"></span>\r\n	            </div>\r\n	        </div>\r\n	        \r\n	        <div class="key-value right">\r\n	            <div class="fields"  data-sap-widget="sap.sbo.layout.phone.MetadataRaw">\r\n		    </div>\r\n		    </div>\r\n		    \r\n        </div>\r\n    </div>\r\n\r\n    <div data-sap-template="itemHeader">\r\n\r\n    </div>\r\n\r\n    <div data-sap-template="itemFields">\r\n\r\n        <div data-sap-template="Content">\r\n            <div data-sap-template="Property" property="itemCode"></div>\r\n            <div data-sap-template="Property" property="itemDescription"></div>\r\n            <div data-sap-template="Property" property="grossTotal"></div>\r\n            <div data-sap-template="Property" property="quantity"></div>\r\n            <div data-sap-template="Property" property="unitPrice"></div>\r\n            <div data-sap-template="Property" property="discountPercent"></div>\r\n            <div data-sap-template="Property" property="taxCode"></div>\r\n            <div data-sap-template="Property" property="vatGroup"></div>            \r\n            <div data-sap-template="Property" property="taxTotal"></div>\r\n            \r\n        </div>\r\n        <div data-sap-template="PropertyTemplate">\r\n\r\n            <div data-sap-template="[itemCode]" >\r\n                <div class="sub-title">\r\n                <span>{{#PROPERTY#}}</span>\r\n                <span>{{itemDescription}}</span>\r\n                </div>\r\n            </div>\r\n\r\n            <div data-sap-template="[itemDescription]" >\r\n                <div class="title">{{#PROPERTY#}}</div>\r\n            </div>\r\n\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n<!--\r\nvim:ts=2 sw=2 noexpandtab\r\n-->\r\n'}),define("html!sap.sbo.page.phone.SalesQuotation.ItemsHeadEdit",function(){return'<div class="sbo-bo-ItemsHeadEdit">\r\n    <div class="total pane">\r\n        <div class="lable">{{meta@properties/docTotal/label}}</div>\r\n        <div display="{{meta@properties/docTotal/readOnly}}" class="value" data-currency="{{globalSettings@currencySettings/localCurrency}}" currency-right="{{globalSettings@currencySettings/displayCurrencyOnTheRight}}"><input style=\'width:75%;\' data-sap-widget="sap.sbo.ui.widget.DecimalInputField" data-sap-option="value: {{docTotal,sap.sbo.util.formatter.null2Zero,two-way}}, nullable: true,decimalNum:{{globalSettings@types/Sum/DecimalPlace}}"></div>\r\n        <div display="{{meta@properties/docTotal/readOnly,formatter.readOnly_bool}}" class="value" data-sap-widget="sap.sbo.ui.widget.DecimalLabel" data-sap-option="value:{{docTotal,sap.formatter.real_string_nullable}}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}},decimalNum:{{globalSettings@types/Sum/DecimalPlace}},\r\n        currency:{{globalSettings@currencySettings/localCurrency}}, currencyLocalRight:{{globalSettings@currencySettings/displayCurrencyOnTheRight}}"></div>\r\n    </div>\r\n    \r\n    <div class="tax pane">\r\n        <div class="lable">{{meta@properties/vatSum/label}}</div>\r\n        <div class="field" data-sap-widget="sap.sbo.ui.widget.DecimalLabel" data-sap-option="value:{{vatSum,sap.formatter.real_string_nullable}}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}},decimalNum:{{globalSettings@types/Sum/DecimalPlace}},\r\n        currency:{{globalSettings@currencySettings/localCurrency}}, currencyLocalRight:{{globalSettings@currencySettings/displayCurrencyOnTheRight}}"></div>\r\n    </div>\r\n    \r\n    <div class="discount pane">\r\n        <div class="lable">{{meta@properties/totalDiscount/label}}</div>\r\n        <span class="field" data-sap-widget="sap.sbo.ui.widget.DecimalLabel" data-sap-option="value:{{totalDiscount,sap.formatter.real_string_nullable}}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}},decimalNum:{{globalSettings@types/Sum/DecimalPlace}},\r\n        currency:{{globalSettings@currencySettings/localCurrency}}, currencyLocalRight:{{globalSettings@currencySettings/displayCurrencyOnTheRight}}"></span>\r\n        <span display="{{meta@properties/discountPercent/readOnly}}" class="value" style=\'width:45%;\'><input  data-sap-widget="sap.sbo.ui.widget.DecimalInputField" data-sap-option="value: {{discountPercent,sap.sbo.util.formatter.null2Zero,two-way}}, nullable: true, decimalNum:{{globalSettings@types/Percent/DecimalPlace}}"></span>\r\n        <span display="{{meta@properties/discountPercent/readOnly,formatter.readOnly_bool}}" class="value" data-sap-widget="sap.sbo.ui.widget.DecimalLabel"\r\n                            data-sap-option="value: {{discountPercent,sap.formatter.real_string_nullable}}, decimalNum:{{globalSettings@types/Percent/DecimalPlace}}"></span>\r\n                            <span class="value">%</span>\r\n    </div>\r\n    \r\n</div>\r\n'}),define("html!sap.sbo.page.phone.SalesQuotation.productTile",function(){return' <div class=\'sbo-quo-producttile\'>\r\n    <div data-sap-template="block1">\r\n    </div>\r\n    <div data-sap-template="block2">\r\n\r\n		<div class="info">\r\n			<div class="key-value">\r\n				<div class="lable">{{i18n@app/document/DOC_TOTAL}}</div>\r\n				<div class="value">\r\n					<span data-sap-widget="sap.sbo.ui.widget.DecimalLabel"\r\n						data-sap-option="value:{{docTotal,sap.formatter.real_string_nullable}}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}},decimalNum:{{globalSettings@types/Sum/DecimalPlace}},\r\n                           currency:{{globalSettings@currencySettings/localCurrency}}, currencyLocalRight:{{globalSettings@currencySettings/displayCurrencyOnTheRight}}"></span>\r\n				</div>\r\n			</div>\r\n			<div class="key-value">\r\n				<div class="lable">{{i18n@app/document/DISCOUNT}}</div>\r\n				<div class="value">\r\n					<span data-sap-widget="sap.sbo.ui.widget.DecimalLabel"\r\n						data-sap-option="value:{{totalDiscount,sap.formatter.real_string_nullable}}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}},decimalNum:{{globalSettings@types/Sum/DecimalPlace}},\r\n                           currency:{{globalSettings@currencySettings/localCurrency}}, currencyLocalRight:{{globalSettings@currencySettings/displayCurrencyOnTheRight}}"></span>\r\n					<span style="margin-left: 5px;"\r\n						data-sap-widget="sap.sbo.ui.widget.DecimalLabel"\r\n						data-sap-option="value: {{discountPercent,sap.formatter.real_string_nullable}}, decimalNum:{{globalSettings@types/Percent/DecimalPlace}}">\r\n					</span> <span>%</span>\r\n				</div>\r\n			</div>\r\n\r\n		</div>\r\n\r\n	</div>\r\n</div>'}),define("html!sap.sbo.page.phone.SalesQuotation.QuotationCreation",function(){return'<div class=\'sbo-bo-creation-frame order\'>\r\n    <div class="title">\r\n        {{i18n@app/document/NEW_QUO}}\r\n    </div>\r\n    <div class="fields">\r\n        <div ctrl="main"\r\n            class="sbo-app-template-editproperty" \r\n            data-sap-widget="sap.sbo.layout.phone.MetadataList" \r\n            data-sap-option=" verticalPadding: 5,  ignoredProperty:[\'cardName\', \'ShipToCountryName\',\'BillToCountryName\',\'OwnerEmployeeFirstName\',\'OwnerEmployeeLastName\',\'OwnerEmployeeDisplayName\',\'docEntry\',\'docNum\',\'docTotal\',\'documentsOwner\',\'contactPersonCode\',\'comments\',\'series\',\'discountPercent\',\'vatSum\',\'rounding\',\'status\',\'cancelled\',\'totalDiscount\',\'roundingDiffAmount\',\'sequentialNo\', \'docCurrency\', \'address\', \'address2\', \'OwnerEmployeeDisplayName\', \'mainContactPersonDisplayName\', \'transportationCode\', \'shiptypeName\']"\r\n        >    \r\n\r\n                \r\n        <div data-sap-template="Content">\r\n            <div data-sap-template="Property" property="cardCode" option=\'{"readOnly":false}\'></div>  \r\n            <div data-sap-template="Property" property="docDate"></div>\r\n            <div data-sap-template="Property" property="docDueDate"></div>\r\n            \r\n	        <div data-sap-template="Html" uuid=\'salesQuationItems\'>\r\n                  <div disPlayFlag="{{cardCode,formatter.null_bool}}" class="field salesQuationItems" data-touchable="true">\r\n                    <div class="lable">{{i18n@app/document/PRODUCT_AMOUNT}}</div>\r\n                    <div class="count">\r\n                    <span>{{documentLines/length}} </span>\r\n                    <span>{{i18n@app/document/SELECTED}}</span>\r\n                    </div>\r\n                    <div class="amount">\r\n                        <span data-sap-widget="sap.sbo.ui.widget.DecimalLabel" data-sap-option="value:{{docTotal,sap.formatter.real_string_nullable}}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}},decimalNum:{{globalSettings@types/Sum/DecimalPlace}},\r\n                        currency:{{globalSettings@currencySettings/localCurrency}}, currencyLocalRight:{{globalSettings@currencySettings/displayCurrencyOnTheRight}}"></span>\r\n                    </div>\r\n                    <div style="float: right"><img src=\'./image/settings/double_arrow_fold.png\'></div>\r\n                  </div>\r\n            </div>\r\n        </div>\r\n        \r\n       <div data-sap-template="PropertyTemplate">\r\n            <div data-sap-template="String[cardCode]">\r\n                <div class="string key-value">\r\n                    <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                        <div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                     </div>                      \r\n                    <div class="value" data-touchable="true">\r\n                        <div>{{cardCode}}</div>\r\n                        <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n                          data-sap-option="text:{{cardName}}, readonly:{{cardCodeModel@readonly}}, navigationEnabled: false"\r\n                          ></div>                        \r\n                </div>\r\n                </div>                 \r\n            </div>\r\n        </div>\r\n        \r\n        \r\n    </div>\r\n    </div>\r\n\r\n</div>\r\n'}),define("html!sap.sbo.page.phone.SalesQuotation.QuotationPrint",function(){return'<div id="container">\r\n    <div id="submit_bar">\r\n	    <span id="cancel">{{i18n@common/CANCEL}}</span>\r\n	</div>\r\n	<div id="frame_container">\r\n	    <iframe id="quotation" width="595" height="842" frameborder="0" scrolling="no" marginheight="0px" marginwidth="0px">\r\n	    </iframe>\r\n	</div>\r\n</div>\r\n'}),define("html!sap.sbo.page.phone.SalesQuotation.SalesQuotationEdit",function(){return'<div>\r\n	<div ctrl="main" class="sbo-app-template-editproperty sbo-app-template-property-info-enable"\r\n		data-sap-widget="sap.sbo.layout.phone.MetadataLayout"\r\n		data-sap-option="verticalPadding: 20, ignoredProperty: [\'OwnerEmployeeDisplayName\',\'cardName\', \'docEntry\',\'docCurrency\', \'cancelled\', \'contactPersonCode\', \'discountPercent\', \'docTotal\', \'vatSum\', \'rounding\', \'totalDiscount\', \'roundingDiffAmount\', \'approvalStatus\',\'Status\', \'OwnerEmployeeDisplayName\', \'mainContactPersonDisplayName\',\'ShipToCountryName\',\'BillToCountryName\', \'shiptypeName\']">\r\n\r\n		<div data-sap-template="Content">\r\n			<div data-sap-template="Property" property="docNum"></div>\r\n			<div data-sap-template="Property" property="cardCode"></div>\r\n			<div data-sap-template="Property" property="documentsOwner" ></div>\r\n			<div data-sap-template="Property" property="status" ></div>          \r\n            <div data-sap-template="Property" property="docDate" ></div>\r\n            <div data-sap-template="Property" property="docDueDate" ></div>  \r\n            <div data-sap-template="Property" property="address" ></div>\r\n            <div data-sap-template="Property" property="address2" ></div>                  \r\n            <div data-sap-template="Property" property="comments"></div>\r\n		</div>\r\n\r\n		<div data-sap-template="PropertyTemplate">\r\n			<div data-sap-template="String[cardCode]">\r\n	            <div class="key-value">\r\n	              <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n					<div class="value" data-touchable="true">\r\n	                  <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n	                    data-sap-option="text:{{cardCode}}, readonly:true, inNavigationMode:{{meta@readonly}}">{{cardCode}}</div>\r\n	                  <div>{{cardName}}&nbsp;</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n\r\n			<div data-sap-template="[documentsOwner]">\r\n	             <div class="key-value">\r\n	               <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n					<div class="value" data-touchable="true">\r\n	                 <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n	                   data-sap-option="iconUrl:{{owner@OwnerImage/url}}, text:{{OwnerEmployeeDisplayName}}, readonly:{{$readOnly}}, inNavigationMode:{{meta@readonly}}"\r\n	                   ></div>\r\n				</div>\r\n\r\n					</div>\r\n					</div>\r\n					         \r\n			<div data-sap-template="[status]">\r\n                <div class="readonly enumeration key-value">\r\n                    <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.emptyString2BoolAdapter}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n					<div class="value">\r\n                        <span style=\'display:inline-block;\' data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{#PROPERTY#, sap.sbo.util.formatter.convertStatusImage}}, arrangeType:"original" \' ></span>\r\n                        <span data-sap-widget="sap.sbo.ui.widget.EnumLabel" \r\n                            data-sap-option="textField: \'label\', valueField: \'name\', data: {{meta@enum/#type#}}, selectedValue: {{#PROPERTY#}}">&nbsp;\r\n                        </span>\r\n					</div>\r\n				</div>\r\n			</div>\r\n			\r\n            <div data-sap-template="[address]" class="sbo-bo-address order">\r\n                <div class="readonly key-value">\r\n                    <div class="key">\r\n                        {{i18n@app/address/BILLTO}}\r\n                    </div>\r\n                    <div class="value">\r\n                        <div class="value" data-sap-widget="sap.sbo.ui.widget.Address"\r\n                            data-sap-option="locale:{{addressExtension/0/billToCountry, formatter.string_null}}, \r\n                        country:{{addressExtension/0/billToCountryName, formatter.string_null}}, \r\n                        state:{{addressExtension/0/billToState, formatter.string_null}}, \r\n                        zipCode:{{addressExtension/0/billToZipCode, formatter.string_null}}, \r\n                        city:{{addressExtension/0/billToCity, formatter.string_null}}, \r\n                        street1:{{addressExtension/0/billToStreet, formatter.string_null}}, \r\n                        street2:{{addressExtension/0/billToBlock, formatter.string_null}}">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="writable key-value">\r\n                    <div class="key" data-id="billto">\r\n                        <span>{{i18n@app/address/BILLTO}}</span> <span><img class="chooseIcon"\r\n                            src="./image/SalesOrder/choose.png"></span>\r\n                    </div>\r\n                    <div class="value">\r\n                      <div>\r\n                        <div class="Detail pane">\r\n                            <div class="field inline">\r\n                                <div class="key">{{i18n@app/address/COUNTRY}}</div>\r\n                                <div class="value">\r\n                                    <span data-id="dropdownlistforbilltocountry"\r\n                                        data-sap-widget="sap.ui.widget.DropDownBox"\r\n                                        data-sap-option="textField: \'name\', valueField: \'code\', data: {{list@countryB}}, selectedValue: {{addressExtension/0/billToCountry, two-way}}"></span>\r\n                                </div>\r\n                            </div>\r\n                            <div class="field inline">\r\n                                <div class="key">{{i18n@app/address/STATE}}</div>\r\n                                <div class="value">\r\n                                    <span data-sap-widget="sap.ui.widget.DropDownBox"\r\n                                        data-sap-option="disabled:{{list@stateB/length, formatter.isZero}},textField: \'name\', valueField: \'code\', data: {{list@stateB}}, selectedValue: {{addressExtension/0/billToState, two-way}}"></span>\r\n                                </div>\r\n                            </div>\r\n                            <div class="field inline">\r\n                                <div class="key">{{i18n@app/address/ZIPCODE}}</div>\r\n                                <div class="value">\r\n                                    <input maxlength="{{addressMeta@billToZipCode/size}}" data-sap-widget="sap.ui.widget.TextField"\r\n                                        data-sap-option="value: {{addressExtension/0/billToZipCode, two-way, formatter.string_null}},nullable:true">\r\n                                </div>\r\n                            </div>\r\n                            <div class="field inline">\r\n                                <div class="key">{{i18n@app/address/CITY}}</div>\r\n                                <div class="value">\r\n                                    <input maxlength="{{addressMeta@billToCity/size}}" data-sap-widget="sap.ui.widget.TextField"\r\n                                        data-sap-option="value: {{addressExtension/0/billToCity, two-way, formatter.string_null}},nullable:true">\r\n                                </div>\r\n                            </div>\r\n                            <div class="field">\r\n                                <div class="key">{{i18n@app/address/STREET}}</div>\r\n                                <div class="value">\r\n                                    <input maxlength="{{addressMeta@billToStreet/size}}" data-sap-widget="sap.ui.widget.TextField"\r\n                                        data-sap-option="value: {{addressExtension/0/billToStreet,two-way, formatter.string_null}},nullable:true">\r\n                                </div>\r\n                                <div class="value">\r\n                                    <input maxlength="{{addressMeta@billToBlock/size}}" data-sap-widget="sap.ui.widget.TextField"\r\n                                        data-sap-option="value: {{addressExtension/0/billToBlock,two-way, formatter.string_null}},nullable:true">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                       </div>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n\r\n            <div data-sap-template="[address2]" class="sbo-bo-address order">\r\n                <div class="readonly key-value">\r\n                    <div class="key">\r\n                        {{i18n@app/address/SHIPTO}}\r\n                    </div>\r\n                    <div class="value">\r\n                        <div class="value" data-sap-widget="sap.sbo.ui.widget.Address"\r\n                            data-sap-option="locale:{{addressExtension/0/shipToCountry, formatter.string_null}}, \r\n                        country:{{addressExtension/0/shipToCountryName, formatter.string_null}}, \r\n                        state:{{addressExtension/0/shipToState, formatter.string_null}}, \r\n                        zipCode:{{addressExtension/0/shipToZipCode, formatter.string_null}}, \r\n                        city:{{addressExtension/0/shipToCity, formatter.string_null}}, \r\n                        street1:{{addressExtension/0/shipToStreet, formatter.string_null}}, \r\n                        street2:{{addressExtension/0/shipToBlock, formatter.string_null}}">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="writable key-value">\r\n                    <div class="key" data-id="shipto">\r\n                        <span>{{i18n@app/address/SHIPTO}}</span> <span><img class="chooseIcon"\r\n                            src="./image/SalesOrder/choose.png"></span>\r\n                    </div>\r\n                    <div class="value">\r\n                      <div>\r\n                        <div class="Detail pane">\r\n                            <div class="field inline">\r\n                                <div class="key">{{i18n@app/address/COUNTRY}}</div>\r\n                                <div class="value">\r\n                                    <span data-id="dropdownlistforshiptocountry"\r\n                                        data-sap-widget="sap.ui.widget.DropDownBox"\r\n                                        data-sap-option="textField: \'name\', valueField: \'code\', data: {{list@countryS}}, selectedValue: {{addressExtension/0/shipToCountry, two-way}}"></span>\r\n                                </div>\r\n                            </div>\r\n                            <div class="field inline">\r\n                                <div class="key">{{i18n@app/address/STATE}}</div>\r\n                                <div class="value">\r\n                                    <span data-sap-widget="sap.ui.widget.DropDownBox"\r\n                                        data-sap-option="disabled:{{list@stateS/length, formatter.isZero}},textField: \'name\', valueField: \'code\', data: {{list@stateS}}, selectedValue: {{addressExtension/0/shipToState, two-way}}"></span>\r\n                                </div>\r\n                            </div>\r\n                            <div class="field inline">\r\n                                <div class="key">{{i18n@app/address/ZIPCODE}}</div>\r\n                                <div class="value">\r\n                                    <input maxlength="{{addressMeta@shipToZipCode/size}}" data-sap-widget="sap.ui.widget.TextField"\r\n                                        data-sap-option="value: {{addressExtension/0/shipToZipCode, two-way, formatter.string_null}},nullable:true">\r\n                                </div>\r\n                            </div>\r\n                            <div class="field inline">\r\n                                <div class="key">{{i18n@app/address/CITY}}</div>\r\n                                <div class="value">\r\n                                    <input maxlength="{{addressMeta@shipToCity/size}}" data-sap-widget="sap.ui.widget.TextField"\r\n                                        data-sap-option="value: {{addressExtension/0/shipToCity, two-way, formatter.string_null}},nullable:true">\r\n                                </div>\r\n                            </div>\r\n                            <div class="field">\r\n                                <div class="key">{{i18n@app/address/STREET}}</div>\r\n                                <div class="value">\r\n                                    <input maxlength="{{addressMeta@shipToStreet/size}}" data-sap-widget="sap.ui.widget.TextField"\r\n                                        data-sap-option="value: {{addressExtension/0/shipToStreet,two-way, formatter.string_null}},nullable:true">\r\n                                </div>\r\n                                <div class="value">\r\n                                    <input maxlength="{{addressMeta@shipToBlock/size}}" data-sap-widget="sap.ui.widget.TextField"\r\n                                        data-sap-option="value: {{addressExtension/0/shipToBlock,two-way, formatter.string_null}},nullable:true">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                       </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n		</div>\r\n\r\n	</div>\r\n</div>\r\n'
}),define("html!sap.sbo.page.phone.SalesQuotation.SalesQuotationHome",function(){return'<div class=\'sbo-bo-home sbo-quotation-home\'>\r\n\r\n    <div ctrl=\'layout\' class=\'sbo-bo-home-layout\'\r\n    data-sap-widget="sap.sbo.layout.phone.AdvancedTilesLayout"\r\n    data-sap-option="column:2, ratio: 3">\r\n\r\n        <div data-sap-template="View" mode="2x1" coordinate="0,0" uuid="general" name="sap.sbo.page.phone.SalesQuotation.BasicTile"></div>\r\n        <div data-sap-template="View" mode="2x1" coordinate="0,1" uuid="product" name="sap.sbo.page.phone.SalesQuotation.productTile"></div>\r\n        <div data-sap-template="View" mode="2x1" coordinate="0,2" uuid="contact" name="sap.sbo.page.phone.SalesQuotation.contactTile"></div>\r\n        <div data-sap-template="View" mode="1x1" coordinate="0,3" uuid="sbo.NotePageTile" name="sap.sbo.app.notepage.NotePageTile"></div>\r\n        <div data-sap-template="View" mode="1x1" coordinate="1,3" uuid="sbo.FeedTile" name="sap.sbo.app.network.phone.FeedTile"></div>\r\n        <div data-sap-template="View" mode="1x1" coordinate="0,4" uuid="sbo.taskTile" name="sap.sbo.app.task.taskTile" option=""></div>\r\n        <div data-sap-template="View" mode="1x1" coordinate="1,4" uuid="sbo.RelatedTile" name="sap.sbo.app.network.RelatedTile"></div>\r\n        \r\n    </div>\r\n</div>'}),define("html!sap.sbo.page.phone.SalesQuotation.SalesQuotationListView",function(){return'<div class=\'bo-listview salesquotation\'>\r\n    <div data-id="listView" data-sap-widget="sap.sbo.layout.phone.ListLayout" data-sap-option=\'itemHeight: 150\r\n    ,select:["docEntry","docNum","cardCode","cardName","documentsOwner","contactPersonCode","status","docDate","docTotal"] \'>\r\n        <div data-sap-template="Content">\r\n	        <div class=\'item\'>\r\n	            <div class=\'header\'>\r\n                    <div class="index">{{docNum}}</div>\r\n                    <div class="title">\r\n                    <span data-sap-widget="sap.sbo.ui.widget.DecimalLabel" data-sap-option="value:{{docTotal,sap.formatter.real_string_nullable}}, decimalSeparator:{{globalSettings@separators/DecimalSeparator}}, thousandsSeparator:{{globalSettings@separators/ThousandsSeparator}},decimalNum:{{globalSettings@types/Sum/DecimalPlace}},\r\n                    currency:{{globalSettings@currencySettings/localCurrency}}, currencyLocalRight:{{globalSettings@currencySettings/displayCurrencyOnTheRight}}"></span>\r\n                    </div>\r\n	                <div class="sub-title">\r\n	                <img class="icon" style="margin-right: 5px" src="./image/SalesOrder/truck_icon.png"/>\r\n                    <span data-sap-widget="sap.sbo.ui.widget.DateLabel" \r\n                                data-sap-option="value: {{docDate, sap.sbo.util.formatter.date_JODATime}}, format:{{globalSettings@date/formatString}}">&nbsp;</span>\r\n                    </div>\r\n                </div>     \r\n                <div class="details">\r\n                    <div class=\'field\'>\r\n                        <div class="info">{{cardCode}}</div>\r\n                    </div>\r\n                    <div class=\'field\'>\r\n                        <div class="info">{{cardName}}</div>\r\n	            </div>     \r\n                </div>\r\n                <div class="status"  data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{status, sap.sbo.util.formatter.convertStatusImage}}, arrangeType:"original" \' >\r\n                </div>                 \r\n            </div>\r\n        </div>\r\n        <div data-sap-template="PropertyTemplate" style="display: none;">\r\n            <div data-sap-template="String[cardCode]" height="100">\r\n                <div class="key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div data-id="cardCode"\r\n                            data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n                            data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.phone.ChooseListCustomer\', titleField: \'cardName\', subtitleField: \'cardCode\', valueField: \'cardCode\'"></div>    \r\n                </div>                 \r\n	        </div>\r\n        </div>\r\n            <div data-sap-template="Integer[documentsOwner]" height="100">\r\n                <div class="key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div data-id="documentsOwner"\r\n                            data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n                            data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.phone.ChooseListEmployee\', titleField: \'displayName\', valueField: \'employeeID\'"></div>    \r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div data-sap-template="Integer[contactPersonCode]" height="100">\r\n                <div class="key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div data-id="contactPersonCode"\r\n                            data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n                            data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.phone.ChooseListContact\', titleField: \'displayName\', subtitleField: \'position\', valueField: \'contactPersonID\'"></div>    \r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>        \r\n    </div>\r\n</div>\r\n'}),define("html!sap.sbo.page.phone.user.BasicInfo",function(){return'<div class="user_profile">\r\n    <div class="user_employee">\r\n        <div class="personal_info">\r\n            <div class="property">\r\n                <div class="t0">\r\n                    <div class="t1">{{i18n@page/user/userCode}}</div>\r\n                    <div>{{userCode}}</div>\r\n                </div>\r\n                <div class="portrait">\r\n                    <div id="portrait_img" data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{, sap.sbo.util.formatter.getUserPortraitByID}},radius:"35px",arrangeType:"both"\' ></div>\r\n                </div>\r\n            </div>\r\n            <div class="property">\r\n                <div class="tlt">{{i18n@page/user/firstN}}</div>\r\n                <div class="val">{{firstName}}</div>\r\n            </div>\r\n            <div class="property">\r\n                <div class="tlt">{{i18n@page/user/lastN}}</div>\r\n                <div class="val">{{lastName}}</div>\r\n            </div>\r\n            <div class="property">\r\n                <div class="tlt">{{i18n@page/user/mobile}}</div>\r\n                <div class="val">{{mobilePhone}}</div>\r\n            </div>\r\n            <div class="property">\r\n                <div class="tlt">{{i18n@page/user/email}}</div>\r\n                <div class="val">{{eMail}}</div>\r\n            </div>\r\n            <div class="property">\r\n                <div class="tlt">{{i18n@page/user/officePhone}} - {{i18n@page/user/officeExt}}</div>\r\n                <div class="val">{{officePhone}} - {{officeExtension}}</div>\r\n            </div>\r\n            <div class="property">\r\n                <div class="tlt">{{i18n@page/user/jobTitle}}</div>\r\n                <div class="val">{{jobTitle}}</div>\r\n            </div>\r\n            <div class="property">\r\n                <div class="tlt">{{i18n@page/user/manager}}</div>\r\n                <div class="val">{{managerDisplayName}}</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'}),define("html!sap.sbo.page.phone.user.Edit",function(){return'<div class="user_profile">\r\n    <div class="user_employee">\r\n        <div class="personal_info">\r\n            <div id="portrait" class="property">\r\n                <div class="t0">\r\n                    <div class="t1">{{i18n@page/user/userCode}}</div>\r\n                    <div>{{userCode}}</div>\r\n                </div>\r\n                <div class="portrait">\r\n                    <div id="portrait_img" data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{, sap.sbo.util.formatter.getUserPortraitByID}},radius:"35px",arrangeType:"both"\' ></div>\r\n                </div>\r\n                <div class="btnPanel"></div>\r\n            </div>\r\n            <div class="property">\r\n                <div class="tlt">{{i18n@page/user/firstN}}</div>\r\n                <div class="val"><input type="text" id="firstName" value="{{firstName}}" /></div>\r\n            </div>\r\n            <div class="property">\r\n                <div class="tlt">{{i18n@page/user/lastN}}</div>\r\n                <div class="val"><input type="text" id="lastName" value="{{lastName}}" /></div>\r\n            </div>\r\n            <div class="property">\r\n                <div class="tlt">{{i18n@page/user/mobile}}</div>\r\n                <div class="val"><input type="text" id="mobilePhone" value="{{mobilePhone}}" /></div>\r\n            </div>\r\n            <div class="property">\r\n                <div class="tlt">{{i18n@page/user/email}}</div>\r\n                <div class="val"><input type="text" disabled="disabled" value="{{eMail}}" /></div>\r\n            </div>\r\n            <div class="property">\r\n                <div class="tlt">{{i18n@page/user/officePhone}} - {{i18n@page/user/officeExt}}</div>\r\n                <div class="val"><input type="text" id="officePhone" style="width:55%;" value="{{officePhone}}" /> - <input type="text" id="officeExtension" style="width:31%" value="{{officeExtension}}" /></div>\r\n            </div>\r\n            <div class="property">\r\n                <div class="tlt">{{i18n@page/user/manager}}</div>\r\n                <div class="val">\r\n                    <input id="manager_txt" type="text" value="{{managerDisplayName}}" />\r\n                    <input id="manager_hidden" type="hidden" value="{{manager}}" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'}),define("html!sap.sbo.page.phone.Customer.AddressTile",function(){return' <div class=\'sbo-customer-addresstile\'>\r\n    <div data-sap-template="block1">\r\n    </div>\r\n    <div data-sap-template="block2">\r\n                \r\n        <div class="pic"></div>         \r\n        <div class="mainIcon">{{!customer/shipToDefault,formatter.goldenImage}}</div>\r\n        <div class="position">{{i18n@app/address/SHIPTO}}</div>\r\n        <div class="name">{{Address@addressName}}&nbsp;</div>\r\n           \r\n    </div>\r\n</div>'}),define("html!sap.sbo.page.phone.Customer.BasicTile",function(){return' <div class=\'sbo-customer-basictile\'>\r\n    <div data-sap-template="block1">\r\n        <div class="logo" data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{Image/url}}, radius:"50%", arrangeType:"both" \' ></div>\r\n    </div>\r\n    <div data-sap-template="block2">\r\n\r\n         <div class="field">\r\n             <div class="label">{{i18n@app/customer/RALATIONSHIP}}</div>\r\n             <div class="value">{{customer/prospect, formatter.string_prospect}}&nbsp;</div>\r\n             <div class="label">{{i18n@app/customer/STATUS}}</div>\r\n             <div class="value">{{customer/isActive, formatter.string_active}}&nbsp;</div>\r\n         </div>\r\n                    \r\n    </div>\r\n</div>'}),define("html!sap.sbo.page.phone.Customer.ContactsTile",function(){return' <div class=\'sbo-customer-contactstile\'>\r\n    <div data-sap-template="block1">\r\n    </div>\r\n    <div data-sap-template="block2">\r\n                         \r\n        <div class="pic"><img src="{{Related@Image/url}}"></img></div>\r\n        <div class="mainIcon">{{!customer/contactPerson,formatter.goldenImage}}</div>\r\n        <div class="position">{{Related@position}}&nbsp;</div>\r\n        <div class="name">{{Related@displayName}}&nbsp;</div>\r\n           \r\n    </div>\r\n</div>'}),define("html!sap.sbo.page.phone.Customer.CustomerCreation",function(){return'<div class=\'sbo-bo-creation-frame\'>\r\n    <div class="title">\r\n        {{i18n@app/customer/NEW_CUSTOMER}}\r\n    </div>\r\n    <div class="fields">\r\n        <div ctrl="main"\r\n            class="sbo-app-template-editproperty" \r\n            data-sap-widget="sap.sbo.layout.phone.MetadataList" \r\n            data-sap-option="verticalPadding: 5, ignoredProperty:[\'contactPerson\',\'ownerCode\',\'shipToDefault\',\'billtoDefault\',\'isActive\',\'discountPercent\',\'industry\',\'OwnerEmployeeFirstName\',\'OwnerEmployeeLastName\',\'BusinessPartnerGroupName\',\'portraitId\',\'IndustryDescription\',\'PriceListName\',\'OwnerEmployeeDisplayName\',\'vatLiable\',\'vatGroup\',\'vatGroupName\',\'shippingType\',\'shiptypeName\']"\r\n        >     \r\n               \r\n        <div data-sap-template="Content">\r\n            <div data-sap-template="Property" property="cardCode" option=\'{"readOnly":false}\'></div>          \r\n            <div data-sap-template="Property" property="cardName"></div>\r\n            <div data-sap-template="Property" property="prospect"></div>\r\n            <div data-sap-template="Property" property="groupCode"></div>\r\n            <div data-sap-template="Property" property="priceListNum"></div>\r\n            <div data-sap-template="Property" property="phone1"></div>\r\n            <div data-sap-template="Property" property="phone2"></div>\r\n            <div data-sap-template="Property" property="emailAddress"></div>\r\n            <div data-sap-template="Property" property="website"></div>\r\n            <div data-sap-template="Property" property="fax"></div>\r\n        </div> \r\n                \r\n        <div data-sap-template=\'PropertyTemplate\'>\r\n                    \r\n            \r\n                <div data-sap-template="Integer[groupCode]">\r\n                    <div class="string key-value">\r\n                        <div class="key"\r\n                            gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                            <div class="key-label">{{$label}}</div>\r\n                            <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                        </div>\r\n                        <div class="value">\r\n                            <div data-sap-widget="sap.ui.widget.DropDownBox"\r\n                                data-sap-option="textField: \'name\', valueField: \'code\', data: {{list@bpgroups}}, selectedValue:{{groupCode, two-way}}" style="width:100%;">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div data-sap-template="Integer[priceListNum]">\r\n                    <div class="string key-value">\r\n                        <div class="key"\r\n                            gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                            <div class="key-label">{{$label}}</div>\r\n                            <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                        </div>\r\n                        <div class="value">\r\n                            <div data-sap-widget="sap.ui.widget.DropDownBox"\r\n                                data-sap-option="textField: \'priceListName\', valueField: \'priceListNo\', data: {{list@pricelist}}, selectedValue:{{priceListNum, two-way}}" style="width:100%;">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                \r\n            <div data-sap-template="BoYesNoEnum[prospect]">\r\n                <div class="key-value">\r\n                    <div class="key"\r\n                        gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                        <div class="key-label">{{$label}}</div>\r\n                        <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                    </div>\r\n                    <div class="value" data-id="RELATIONSHIP">\r\n                        <span class="choose left" flag="{{prospect,formatter.prospect_customer}}">{{i18n@app/customer/CUSTOMER}}</span>\r\n                        <span class="choose right" flag="{{prospect,formatter.prospect_prospect}}">{{i18n@app/customer/PROSPECT}}</span>\r\n                    </div>\r\n                </div>\r\n            </div>                \r\n            </div>\r\n            \r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n'}),define("html!sap.sbo.page.phone.Customer.CustomerEdit",function(){return'<div>\r\n	<div ctrl="main" class="sbo-app-template-editproperty sbo-app-template-property-info-enable"\r\n		data-sap-widget="sap.sbo.layout.phone.MetadataLayout"\r\n		data-sap-option="verticalPadding: 20, ignoredProperty: [\'contactPerson\',\'billtoDefault\',\'shipToDefault\',\'BusinessPartnerGroupName\',\'portraitId\',\'IndustryDescription\',\'PriceListName\',\'OwnerEmployeeDisplayName\',\'vatGroupName\',\'shiptypeName\']">\r\n\r\n		<div data-sap-template="Content">\r\n	        <div data-sap-template="Property" property="cardCode" ></div>\r\n	        <div data-sap-template="Property" property="cardName" ></div>        \r\n	        <div data-sap-template="Property" property="prospect" ></div>\r\n	        <div data-sap-template="Property" property="industry" ></div>                    \r\n	        <div data-sap-template="Property" property="groupCode" ></div>\r\n	        <div data-sap-template="Property" property="ownerCode" ></div>\r\n	        <div data-sap-template="Property" property="isActive" ></div>    \r\n	        <div data-sap-template="Property" property="phone1" ></div>\r\n	        <div data-sap-template="Property" property="phone2" ></div>\r\n	        <div data-sap-template="Property" property="fax" ></div>\r\n	        <div data-sap-template="Property" property="emailAddress" ></div>\r\n	        <div data-sap-template="Property" property="website" ></div>\r\n	        <div data-sap-template="Property" property="priceListNum" ></div>                     \r\n	        <div data-sap-template="Property" property="discountPercent" ></div>\r\n	        <div data-sap-template="Property" property="vatLiable" ></div>\r\n	        <div data-sap-template="Property" property="vatGroup" ></div> \r\n		</div>\r\n\r\n		<div data-sap-template="PropertyTemplate">\r\n			<div data-sap-template="[ownerCode]">\r\n                <div class="key-value">\r\n                  <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n                  <div class="value" data-touchable="true">\r\n                    <div data-sap-widget="sap.sbo.ui.widget.BoLabel"\r\n                      data-sap-option="iconUrl:{{owner@OwnerImage/url}}, text:{{OwnerEmployeeDisplayName}}, readonly:{{$readOnly}}, inNavigationMode:{{meta@readonly}}"\r\n                      ></div>\r\n                  </div>\r\n                </div>                \r\n            </div>\r\n\r\n            <div data-sap-template="Integer[industry]">\r\n                <div class="writable key-value">\r\n                    <div class="key"\r\n                        gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                        <div class="key-label">{{$label}}</div>\r\n                        <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                    </div>\r\n                    <div class="value">\r\n                        <div data-sap-widget="sap.ui.widget.DropDownBox"\r\n                            data-sap-option="textField: \'industryDescription\', valueField: \'industryCode\', data: {{list@industry}}, selectedValue:{{industry, two-way}}">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="readonly key-value">\r\n                    <div class="key"\r\n                        gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                        <div class="key-label">{{$label}}</div>\r\n                        <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                    </div>\r\n                    <div class=\'value\'>\r\n                        <div>{{IndustryDescription}}&nbsp;</div>\r\n                    </div>\r\n                </div>\r\n            </div>  \r\n\r\n			<div data-sap-template="Integer[groupCode]">\r\n				<div class="writable key-value">\r\n					<div class="key"\r\n						gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n						<div class="key-label">{{$label}}</div>\r\n						<div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n					</div>\r\n					<div class="value">\r\n						<div data-sap-widget="sap.ui.widget.DropDownBox"\r\n							data-sap-option="textField: \'name\', valueField: \'code\', data: {{list@bpgroups}}, selectedValue:{{groupCode, two-way}}">\r\n						</div>\r\n					</div>\r\n				</div>\r\n\r\n				<div class="readonly key-value">\r\n					<div class="key"\r\n						gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n						<div class="key-label">{{$label}}</div>\r\n						<div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n					</div>\r\n                    <div class=\'value\'>\r\n                        <div>{{BusinessPartnerGroupName}}&nbsp;</div>\r\n				</div>\r\n			</div>\r\n            </div>\r\n            <div data-sap-template="String[vatGroup]">\r\n                <div class="writable key-value">\r\n                    <div class="key"\r\n                        gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                        <div class="key-label">{{$label}}</div>\r\n                        <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                    </div>\r\n                    <div class="value">\r\n                        <div data-sap-widget="sap.ui.widget.DropDownBox"\r\n                            data-sap-option="textField: \'name\', valueField: \'code\', data: {{list@vatGroup}}, selectedValue:{{vatGroup, two-way}}, nullable: true">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="readonly key-value">\r\n                    <div class="key"\r\n                        gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                        <div class="key-label">{{$label}}</div>\r\n                        <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                    </div>\r\n                    <div class=\'value\'>\r\n                        <div>{{vatGroupName}}&nbsp;</div>\r\n                    </div>    \r\n                </div>\r\n            </div>\r\n                        \r\n            <div data-sap-template="BoVatStatus[vatLiable]">\r\n                <div class="writable key-value">\r\n                    <div class="key"\r\n                        gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                        <div class="key-label">{{$label}}</div>\r\n                        <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                    </div>\r\n                    <div class="value">\r\n                        <div data-sap-widget="sap.ui.widget.DropDownBox"\r\n                            data-sap-option="textField: \'name\', valueField: \'code\', data: {{list@vatStatusList}}, selectedValue:{{vatLiable, two-way}}">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="readonly key-value">\r\n                    <div class="key"\r\n                        gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                        <div class="key-label">{{$label}}</div>\r\n                        <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                    </div>\r\n                    <div class=\'value\'>\r\n                        <div>{{vatLiable, formatter.vatStatusDesc}}&nbsp;</div>\r\n                    </div>    \r\n                </div>\r\n            </div>\r\n\r\n			<div data-sap-template="Integer[priceListNum]">\r\n                <div class="writable key-value">\r\n                    <div class="key"\r\n                        gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                        <div class="key-label">{{$label}}</div>\r\n                        <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                    </div>\r\n                    <div class="value">\r\n                         <div data-sap-widget="sap.ui.widget.DropDownBox"\r\n                            data-sap-option="textField: \'priceListName\', valueField: \'priceListNo\', data: {{list@pricelist}}, selectedValue:{{priceListNum, two-way}}">\r\n                         </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="readonly key-value">\r\n                    <div class="key"\r\n                        gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                        <div class="key-label">{{$label}}</div>\r\n                        <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                    </div>\r\n                    <div class=\'value\'>\r\n                        <div>{{PriceListName}}&nbsp;</div>\r\n                    </div>    \r\n                </div>\r\n			</div>\r\n\r\n            <div data-sap-template="BoYesNoEnum[prospect]">\r\n                <div class="writable key-value">\r\n                    <div class="key"\r\n                        gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                        <div class="key-label">{{$label}}</div>\r\n                        <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                    </div>\r\n                    <div class="value" data-id="RELATIONSHIP">\r\n                        <span class="choose left" flag="{{prospect,formatter.prospect_customer}}">{{i18n@app/customer/CUSTOMER}}</span>\r\n                        <span class="choose right" flag="{{prospect,formatter.prospect_prospect}}">{{i18n@app/customer/PROSPECT}}</span>\r\n                    </div>\r\n                </div>\r\n                <div class="readonly key-value">\r\n                    <div class="key"\r\n                        gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}">\r\n                        <div class="key-label">{{$label}}</div>\r\n                        <div class="info-icon" gl-property-name="#PROPERTY#"></div>\r\n                    </div>\r\n                    <div class="value">\r\n                        <div>{{prospect,formatter.prospect}}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div data-sap-template="BoYesNoEnum[isActive]">\r\n                 <div class="writable key-value">\r\n                    <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n                     <div class="value">\r\n                        <span boEditId=\'rightInfo\' class=\'changeStatus\' boEditId=\'hyperLink\' \r\n                    data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{#PROPERTY#, sap.sbo.util.formatter.getActiveImg}}, arrangeType:"original" \' ></span>\r\n                        <span>{{#PROPERTY#,sap.sbo.util.formatter.isActive}}</span>     \r\n                     </div> \r\n                 </div>\r\n                 \r\n                <div class="readonly key-value">\r\n                 <div class="key" gl-property-desc="{{$description, sap.sbo.util.formatter.null2False}}"><div class="key-label">{{$label}}</div><div class="info-icon" gl-property-name="#PROPERTY#"></div></div>\r\n                 <div class="value">\r\n                    <div>{{#PROPERTY#,sap.sbo.util.formatter.isActive}}</div>\r\n                 </div>\r\n                </div> \r\n            </div>\r\n\r\n		</div>\r\n\r\n	</div>\r\n\r\n</div>\r\n<!-- , ignoredProperty: [ \'cardType\',\'vatLiable\',\'deductibleAtSource\',\'fatherType\',\'frozen\',\'backOrder\',\'partialDelivery\',\'blockDunning\',\'collectionAuthorization\',\'singlePayment\',\'paymentBlock\',\'deferredTax\',\'equalization\',\'subjectToWithholdingTax\',\'accrualCriteria\',\'companyPrivate\',\'taxRoundingRule\',\'properties1\',\'properties2\',\'properties3\',\'properties4\',\'properties5\',\'properties6\',\'properties7\',\'properties8\',\'properties9\',\'properties10\',\'properties11\',\'properties12\',\'properties13\',\'properties14\',\'properties15\',\'properties16\',\'properties17\',\'properties18\',\'properties19\',\'properties20\',\'properties21\',\'properties22\',\'properties23\',\'properties24\',\'properties25\',\'properties26\',\'properties27\',\'properties28\',\'properties29\',\'properties30\',\'properties31\',\'properties32\',\'properties33\',\'properties34\',\'properties35\',\'properties36\',\'properties37\',\'properties38\',\'properties39\',\'properties40\',\'properties41\',\'properties42\',\'properties43\',\'properties44\',\'properties45\',\'properties46\',\'properties47\',\'properties48\',\'properties49\',\'properties50\',\'properties51\',\'properties52\',\'properties53\',\'properties54\',\'properties55\',\'properties56\',\'properties57\',\'properties58\',\'properties59\',\'properties60\',\'properties61\',\'properties62\',\'properties63\',\'properties64\',\'discountBaseObject\',\'discountRelations\',\'typeReport\',\'thresholdOverlook\',\'operationCode347\',\'insuranceOperation347\',\'hierarchicalDeduction\',\'shaamGroup\',\'withholdingTaxCertified\',\'bookkeepingCertified\',\'affiliate\',\'datevFirstDataEntry\',\'automaticPosting\',\'effectiveDiscount\',\'noDiscounts\',\'surchargeOverlook\'] -->\r\n'}),define("html!sap.sbo.page.phone.Customer.CustomerHome",function(){return' <div class=\'sbo-bo-home sbo-customer-home\'>\r\n\r\n    <div ctrl=\'layout\' class=\'sbo-bo-home-layout\'\r\n    data-sap-widget="sap.sbo.layout.phone.AdvancedTilesLayout"\r\n    data-sap-option="column:2, ratio: 3">\r\n\r\n        <div data-sap-template="View" mode="2x1" coordinate="0,0" uuid="general" name="sap.sbo.page.phone.Customer.BasicTile"></div>\r\n        <div data-sap-template="View" mode="2x1" coordinate="0,1" uuid="contact" name="sap.sbo.page.phone.Customer.ContactsTile"></div>\r\n        <div data-sap-template="View" mode="2x1" coordinate="0,2" uuid="address" name="sap.sbo.page.phone.Customer.AddressTile"></div>\r\n        <div data-sap-template="View" mode="1x1" coordinate="0,3" uuid="sbo.NotePageTile" name="sap.sbo.app.notepage.NotePageTile"></div>\r\n        <div data-sap-template="View" mode="1x1" coordinate="1,3" uuid="sbo.taskTile" name="sap.sbo.app.task.taskTile" option=""></div>\r\n        <div data-sap-template="View" mode="2x1" coordinate="0,4" uuid="sbo.FeedTile" name="sap.sbo.app.network.phone.FeedTile"></div>\r\n        <div data-sap-template="View" mode="1x1" coordinate="0,5" uuid="sbo.RelatedTile" name="sap.sbo.app.network.RelatedTile"></div>\r\n        \r\n        \r\n    </div>\r\n</div>'}),define("html!sap.sbo.page.phone.Customer.CustomerList",function(){return'<div class=\'bo-listview customer\'>\r\n	<div data-id="listView" data-sap-widget="sap.sbo.layout.phone.ListLayout" data-sap-option=\'select:["cardCode", "cardName", "groupCode","BusinessPartnerGroupName","industry","IndustryDescription","portraitId","contactPerson","ownerCode","isActive","prospect"]\'>\r\n		<div data-sap-template="Content" class=\'content\' data-inActive="{{isActive, formatter.bool_string}}">\r\n		<div class=\'item\'>\r\n			<div class=\'header\'>\r\n			    <div class="index">{{cardCode}}</div>\r\n			    <div class="title customerName">{{cardName}}</div>\r\n			<div class="sub-title">{{prospect, sap.sbo.page.common.customerUtil.string_prospect}}</div>\r\n			</div>\r\n			<div class="details">\r\n			    <div class=\'field\' >\r\n                    <div class="info customer">{{BusinessPartnerGroupName}}</div>\r\n                </div>\r\n                <div class=\'field\' >\r\n                    <div class="info customer">{{IndustryDescription}}</div>\r\n                </div>\r\n			</div>\r\n			<div class="avatar-container" data-sap-widget=\'sap.ui.widget.Photo\' data-sap-option=\'src:{{Image/url, sap.sbo.page.common.oppUtil.convertNullString}}, radius:"50%",  arrangeType:"both" \' ></div>\r\n		</div>\r\n		</div>\r\n\r\n        <div data-sap-template="PropertyTemplate" style="display: none;">\r\n            <div data-sap-template="String[cardCode]">\r\n                <div class="key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div data-id="cardCode"\r\n                            data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n                            data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.phone.ChooseListCustomer\', titleField: \'cardName\', subtitleField: \'cardCode\', valueField: \'cardCode\'"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n            <div data-sap-template="String[contactPerson]">\r\n                <div class="key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div data-id="contactPerson"\r\n                            data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n                            data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.phone.ChooseListContact\', titleField: \'displayName\', subtitleField: \'position\', valueField: \'name\'"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n            <div data-sap-template="Integer[ownerCode]">\r\n                <div class="key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div data-id="ownerCode"\r\n                            data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n                            data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.phone.ChooseListEmployee\', titleField: \'displayName\', valueField: \'employeeID\'"></div>    \r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div data-sap-template="Integer[industry]">\r\n                <div class="key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div data-id="industry"\r\n                            data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n                            data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.phone.ChooseListIndustry\', titleField: \'industryDescription\', subtitleField: \'IndustryDescription\', valueField: \'industryCode\'"></div>        \r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n            <div data-sap-template="Integer[groupCode]">\r\n                <div class="key-value">\r\n                    <div class="key">#label#</div>\r\n                    <div class="value">\r\n                        <div data-id="groupCode"\r\n                            data-sap-widget="sap.sbo.ui.widget.MultipleValueHelp"\r\n                            data-sap-option="value: {{#value#,two-way}}, title: {{#title#, two-way}}, chooseFromList: \'sap.sbo.chooseList.phone.ChooseListCustomerGroup\', titleField: \'name\', valueField: \'code\'"></div>            \r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>		\r\n		\r\n	</div>\r\n</div>\r\n'
}),define("html!sap.sbo.page.phone.Customer.Address.AddressEdit",function(){return'<div class="customer-address-edit">\r\n   <div class="scroll">\r\n    <div class="content">\r\n	    <div class="Detail pane">\r\n	            <div class="field">\r\n	                <div class="key">{{i18n@app/address/ADDRESS_NAME}}</div>\r\n	                <div class="value">\r\n	                    <input data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{addressEditModel@addressName,two-way}},nullable:true">\r\n	                </div> \r\n	            </div>\r\n	            <div class="field">\r\n	                <div class="key">{{i18n@app/address/ADDRESS_TYPE}}</div>\r\n		            <div class="value" data-id="addressType">\r\n		                <span class="choose left" flag="{{addressEditModel@addressType,formatter.addressType_shipto}}">{{i18n@app/address/SHIPTO}}</span>\r\n		                <span class="choose right" flag="{{addressEditModel@addressType,formatter.addressType_billto}}">{{i18n@app/address/BILLTO}}</span>\r\n		            </div>\r\n	            </div>               \r\n		        <div class="field">\r\n		            <div class="key">{{i18n@app/address/COUNTRY}}</div>\r\n		            <div class="value">\r\n		            <span data-sap-widget="sap.ui.widget.DropDownBox" data-sap-option="textField: \'name\', valueField: \'code\', data: {{AddressModel@countrylist}}, selectedValue: {{addressEditModel@country, two-way}}"></span>\r\n		            </div>\r\n		        </div>\r\n		        <div class="field">\r\n		            <div class="key" >{{i18n@app/address/STATE}}</div>\r\n	                <div class="value">\r\n	                <span data-sap-widget="sap.ui.widget.DropDownBox" data-sap-option="disabled:{{addressEditModel@statelist/length, formatter.isZero}},textField: \'name\', valueField: \'code\', data: {{AddressModel@statelist}}, selectedValue: {{addressEditModel@state, two-way}}"></span>\r\n	                </div>\r\n		        </div>\r\n		        <div class="field">\r\n		           <div class="key">{{i18n@app/address/ZIPCODE}}</div>\r\n	               <div class="value" ><input data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{addressEditModel@zipCode, two-way}},nullable:true"></div>\r\n		        </div>\r\n		        <div class="field">\r\n		            <div class="key">{{i18n@app/address/CITY}}</div>\r\n		            <div class="value" ><input data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{addressEditModel@city, two-way}},nullable:true"></div>\r\n		        </div>\r\n		        <div class="field">\r\n		            <div class="key">{{i18n@app/address/STREET}}</div>\r\n		            <div class="value"><input data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{addressEditModel@street,two-way}},nullable:true"></div>\r\n		            <div class="value"><input data-sap-widget="sap.ui.widget.TextField" data-sap-option="value: {{addressEditModel@block,two-way}},nullable:true"></div> \r\n	            </div>\r\n	    </div>\r\n	    <div class="actions">\r\n	        <div class="action" ctrl="btnSetMain" data-main="{{FlagModel@bMainFlag}}" data-touchable=\'true\'>{{i18n@app/contact/MAIN_ADD}}</div>\r\n	    </div>\r\n	    <div class="buttons">\r\n	        <div class=\'btn-main\' data-main="{{FlagModel@bMainFlag}}">\r\n	        </div> \r\n	    </div>  \r\n    </div> \r\n   </div>  \r\n</div>\r\n'}),define("html!sap.sbo.page.phone.Customer.Address.AddressList",function(){return'<div class=\'address-list\'>\r\n  <div data-id="listView" class="showCommandBtn" data-sap-widget="sap.sbo.layout.phone.ListLayout" data-sap-option="itemHeight: 185">\r\n    <div data-sap-template="Content"  data-touchable="false">\r\n        <div class=\'item\'>\r\n            <div class=\'header\'>\r\n               <div class=\'title\'>\r\n               <span>{{addressName}}</span>\r\n               </div>\r\n               <div class=\'sub-title\'>{{addressType,formatter.address_readable}}</div>\r\n            </div>\r\n            \r\n            <div class=\'details\'>\r\n                <div class="field">\r\n	                <div class="value" data-sap-widget="sap.sbo.ui.widget.Address"  \r\n	                    data-sap-option="locale:{{country, formatter.string_null}}, \r\n	                    country:{{CountryName, formatter.string_null}}, \r\n	                    state:{{state, formatter.string_null}}, \r\n	                    zipCode:{{zipCode, formatter.string_null}}, \r\n	                    city:{{city, formatter.string_null}}, \r\n	                    street1:{{street, formatter.string_null}}, \r\n	                    street2:{{block, formatter.string_null}}">\r\n	                </div>\r\n                </div>\r\n            </div>\r\n            \r\n            <div class=\'buttons\'>\r\n              <div class=\'btn-main\' data-mainContact="{{AddressInfo@bMainFlag}}">\r\n              </div> \r\n            </div>\r\n            \r\n	        <div class=\'actions\'>\r\n	            <div class=\'edit\' data-touchable="true">\r\n	        </div>                    \r\n       </div>\r\n    </div>\r\n    \r\n  </div>\r\n</div>'}),define("sap.sbo.index",["sap.ui.Controller","sap.core.DestroyPool","sap.sbo.ui.Loop","sap.core.JsonModel","sap.core.event.DomCommand","sap.ui.widget.ViewRegion","sap.sbo.util.permissionUtil","css!sap.sbo.index"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments),this.declareMember({dataContext:new t.core.JsonModel({})})},destroy:function(){},initView:function(){var t=$.Deferred();return window.SboShell,this.$().setModel(this.dataContext),this.$().process(e).done(function(){t.resolve()}),t},destroyView:function(){this.$().unprocess()},update:function(e){e&&console.log(e)}},Protected:{},Static:{}})}),define("sap.sbo.padStartup",["require","noamdjs!sap.sbo.libs.iscroll","sap.core.JsonModel","sap.ui.common","sap.sbo.shell.PadHtmlShell","sap.sbo.shell.PadNativeShell","sap.sbo.shell.NativeBridge","sap.log","sap.util","sap.ui.MessageBox","sap.sbo.services.BaseService","sap.sbo.services.SystemService","sap.core.ListSourceFilter","sap.sbo.localization.Helper","sap.sbo.util.permissionUtil","sap.sbo.util.formatter","sap.sbo.compoundservices.UserEmployeeService","sap.sbo.util.settings!general","sap.sbo.app.search.globalContainer","json!sap.sbo.util.enums"],function(e){"use strict";var t=function(e){return decodeURI((RegExp(e+"="+"(.+?)(&|$)").exec(location.search)||[,null])[1])},o=this.getNS(),a=o.sap,i="desktop";location.pathname.indexOf("pad.html")>0&&(i="pad");var s="index.html",n=t("deviceplatform");window.parent.location.href.indexOf("simulator.html")>0&&(n="simulator");var r=new a.core.JsonModel({device:i,sboShell:null,login:s});$("body").setModel(r,"global"),$("body").setModel(new a.core.JsonModel(o.sap.sbo.util["settings!general"]),"globalSettings");var l=o.sap.sbo.util["settings!general"].locale,d=window.sessionStorage.getItem("locale");l?window.sessionStorage.setItem("locale",a.sbo.util.formatter.javaLocale_slimLocale(l)):d?window.sessionStorage.setItem("locale",a.sbo.util.formatter.javaLocale_slimLocale(d)):window.sessionStorage.setItem("locale","EN"),e("sap.sbo.util.i18n!sap.sbo.localization.ui-all",function(t){var i=new a.core.JsonModel(t);i.oldGet=i.get,i.get=function(e){var t=this.oldGet(e);return void 0===t?"%"+e+"%":t},$("body").setModel(i,"i18n"),$("body").process(o);var s=$("#sbo-shell").getControl();window.SboShell=s,"desktop"!=s.__deviceType&&(s.bridge=new a.sbo.shell.NativeBridge("simulator"==n?"simulator":void 0),null!=window.remotedbg&&window.remotedbg===!0&&s.bridge.openRemoteConsole()),p(s),e("sap.sbo.shell.navigation",function(e){var t=new a.sbo.compoundservices.UserEmployeeService;$.when(t.getCurrentUserEmployee()).done(function(t){var i=t.displayName;s.storeData("user.employeeID",t.employeeID),s.storeData("user.code",t.userCode),s.storeData("user.name",i),s.storeData("user.keyUser",t.keyUser),s.storeData("user.internalKey",t.internalKey);var n=a.sbo.util.formatter.getUserPortraitByID(t).replace("thumbnail","fingernail");s.storeData("user.portrait",n),$(".sap-sbo-pad-html-shell-company-icon .moremenu-icon").css("background-image","url("+n+")"),null!=s.bridge&&s.bridge.getDeviceInfo(t.userCode),t.keyUser!=o.json.sap.sbo.util.enums.bool.Yes&&(e[0].key_add=""),s.setOption({navigations:e}),$.when(a.sbo.util.permissionUtil.loadPermissions()).done(function(){}).fail(function(){}).always(function(){s.onOrientationChanged(),s.tryGotoViewByUrl()})})})});var p=function(e){e.attachEvent("actionButtonClick",function(e){switch(a.log.info("click action button '"+e+"'"),e){default:}}),e.attachEvent("viewUnload",function(){e.setOption({title:"",subTitle:""})}),e.attachEvent("itemSelected",function(t){switch(a.log.info("click menu item '"+t+"'"),0>t.indexOf("_add")&&e.cleanViewHistory(!0),t){case"k_feeds":e.gotoView("sap.sbo.page.pad.network.Feeds",{thingID:null});break;case"k_feed_add":e.openFrame({view:"sap.sbo.page.pad.network.PostFeedDialog",type:"center",width:500,height:400,options:{idx:0}});break;case"k_tasks":e.gotoView("sap.sbo.page.pad.task.taskList");break;case"k_task_add":e.openFrame({view:"sap.sbo.page.pad.task.taskDialog",type:"center",width:934,height:648,options:{taskID:""},callback:function(e,t){t&&t.result&&SboShell.refreshView()}});break;case"k_memos":var o={};o.boNamespace="com.sap.sbo",o.boName="User";var i=[],s={};s.keyName="internalKey",s.keyValue=window.SboShell.getData("user.internalKey"),i.push(s),o.keyElements=i,e.gotoView("sap.sbo.page.pad.notepage.NotePageList",{bo:o});break;case"k_memo_add":var o={};o.boNamespace="com.sap.sbo",o.boName="User";var i=[],s={};s.keyName="internalKey",s.keyValue=window.SboShell.getData("user.internalKey"),i.push(s),o.keyElements=i,e.openFrame({view:"sap.sbo.page.pad.notepage.NotePageDialog",type:"center",width:934,height:648,options:{noteID:"",bo:o,mode:"create"},callback:function(){SboShell.refreshView()}});break;case"k_contacts":e.gotoView("sap.sbo.page.pad.Contact.ContactListView");break;case"k_contact_add":e.openFrame({view:"sap.sbo.page.pad.Contact.ContactCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,options:{data:{cardCode:"",cardName:"",boName:""}}});break;case"k_customers":e.gotoView("sap.sbo.page.pad.Customer.CustomerList");break;case"k_customer_add":e.openFrame({view:"sap.sbo.page.pad.Customer.CustomerCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,callback:function(){}});break;case"k_products":e.gotoView("sap.sbo.page.pad.Product.ProductCardView");break;case"k_product_add":e.openFrame({view:"sap.sbo.page.pad.Product.ProductCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,callback:function(){}});break;case"k_compaigns":e.gotoView("sap.sbo.page.pad.Campaign.CampaignListView");break;case"k_compaign_add":SboShell.openFrame({view:"sap.sbo.page.pad.Campaign.CampaignCreation",type:"center-column"});break;case"k_leads":e.gotoView("sap.sbo.page.pad.Leads.LeadsListView");break;case"k_lead_add":e.openFrame({view:"sap.sbo.page.pad.Leads.LeadsCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,callback:function(){}});break;case"k_opportunities":e.gotoView("sap.sbo.page.pad.SalesOpportunity.ListView");break;case"k_opportunity_add":e.openFrame({view:"sap.sbo.page.pad.SalesOpportunity.CreationFrame2",type:"center-column"});break;case"k_quotations":e.gotoView("sap.sbo.page.pad.SalesQuotation.SalesQuotationListView");break;case"k_quotation_add":e.openFrame({view:"sap.sbo.page.pad.SalesQuotation.QuotationCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,callback:function(){}});break;case"k_orders":e.gotoView("sap.sbo.page.pad.SalesOrder.SalesOrderListView");break;case"k_order_add":SboShell.openFrame({view:"sap.sbo.page.pad.SalesOrder.OrderCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,callback:function(){}});break;case"k_querydesigner":e.gotoView("sap.sbo.app.queryDesigner.Home");break;case"k_home":e.cleanViewHistory(!1),e.gotoView("sap.sbo.page.pad.Home");break;case"k_search":window.SboShell.openFrame({view:"sap.sbo.app.search.SearchDialog",type:"center",width:900,height:700});break;case"k_settings":e.gotoView("sap.sbo.page.pad.settings.SettingsHomeView");break;case"k_logout":$.when(window.SboShell.raiseMessage(a.sbo.localization.Helper.get("common/LOGOUT_WARNING"),"Logout",[{key:"yes",text:a.sbo.localization.Helper.get("common/LOGOUT")},{key:"no",text:a.sbo.localization.Helper.get("common/CANCEL")}],a.sbo.localization.Helper.get("common/LOGOUT_CONFIRM"))).done(function(e){"yes"==e&&(window.SboShell.clearLocalStorage(),window.location.href=".."+a.sbo.services.BaseService.documentbase+"saml2/sp/logout")});break;case"k_mprofile":SboShell.gotoView("sap.sbo.page.pad.user.BasicInfo",[{keyName:"employeeID",keyValue:window.SboShell.getData("user.employeeID")}]);break;default:}});var t=[0],o=Date.now();$(document.body).on("click",".sap-sbo-pad-html-shell-navigation-bar",function(){var a=Date.now(),i=a-o;switch(o=a,350>i?t[0]++:i>1500?t=[1]:t.unshift(1),t.splice(3),t.join("-")){case"3-2-3":e.gotoView("sap.sbo.app.about.About");break;case"3-3-3":e.gotoView("sap.sbo.app.queryDesigner.Home")}}),e.trackVisitInfo()};return{shell:window.SboShell}}),define("sap.sbo.pageError",[],function(){window.onerror=function(e,t,o){if(!(t&&t.indexOf("sap-viz.js")>0))if("object"==typeof e)window.SboShell&&SboShell.hideLoading(),-2==e.status?window.location=".."+location.pathname.split("/").slice(0,location.pathname.split("/").length-1).join("/")+"/saml2/sp/logout":window.SboShell&&SboShell.raiseMessage?401===e.status||403===e.status||408===e.status?$.when(SboShell.promptWithMessage("common/META_SESSION_RECONNECT",2,"common/LOGIN")).done(function(e){if("ok"===e){var t=location.search.replace(/([&,?])timestamp=(\d*)/,"")+(location.search.indexOf("?")>=0?"&timestamp=":"?timestamp=")+(new Date).valueOf(),o=window.sessionStorage.getItem("locale");null==o||"EN"===o?o="en_US":"ZH"===o&&(o="zh_CN"),location.search=t+"&locale="+o}}):e.status>=500&&505>=e.status?$.when(SboShell.promptWithMessage("common/META_SERVICE_FATAL",2,"common/LOGOUT")).done(function(e){"ok"===e&&SboShell.logout()}):-1===e.status?$.when(SboShell.promptWithMessageExtended("common/META_APP_NORESPOND",[{button_key:"cancel",text_key:"common/WAIT"},{button_key:"restart",text_key:"common/RESTART"}])).done(function(e){"restart"===e&&SboShell.refreshToHome()}):window.onerror(e.statusText,t,o):window.onerror(e.statusText,t,o);else if("string"==typeof e){var a=(t?t+" ":"")+(void 0===o?"":"line:"+o+" :")+e;window.SboShell&&SboShell.raiseMessage?SboShell.__showMessageLine(a):(document.getElementsByClassName("sap-sbo-error")[0].innerHTML=a,document.getElementsByClassName("sap-sbo-error")[0].style.display="block")}},document.querySelector(".sap-sbo-error").addEventListener("click",function(){document.querySelector(".sap-sbo-error").style.display="none"},!1)}),define("sap.sbo.phoneStartup",["require","noamdjs!sap.sbo.libs.iscroll","sap.core.JsonModel","sap.ui.common","sap.sbo.shell.PhoneNativeShell","sap.sbo.shell.NativeBridge","sap.log","sap.sbo.services.BaseService","sap.sbo.services.SystemService","sap.sbo.localization.Helper","sap.sbo.compoundservices.UserEmployeeService","sap.sbo.util.settings!general","sap.sbo.util.formatter","sap.sbo.util.permissionUtil","json!sap.sbo.util.enums"],function(e){"use strict";var t=this.getNS(),o=t.sap,a=function(e){return decodeURI((RegExp(e+"="+"(.+?)(&|$)").exec(location.search)||[,null])[1])},i="phone",s=a("deviceplatform");window.parent.location.href.indexOf("simulator.html")>0&&(s="simulator");var n=new o.core.JsonModel({device:i,sboShell:null});$("body").setModel(n,"global"),$("body").setModel(new o.core.JsonModel(t.sap.sbo.util["settings!general"]),"globalSettings");var r=t.sap.sbo.util["settings!general"].locale,l=window.sessionStorage.getItem("locale");r?window.sessionStorage.setItem("locale",o.sbo.util.formatter.javaLocale_slimLocale(r)):l?window.sessionStorage.setItem("locale",o.sbo.util.formatter.javaLocale_slimLocale(l)):window.sessionStorage.setItem("locale","EN"),e("sap.sbo.util.i18n!sap.sbo.localization.ui-all",function(a){var i=new o.core.JsonModel(a);i.oldGet=i.get,i.get=function(e){var t=this.oldGet(e);return void 0===t?"%"+e+"%":t},$("body").setModel(i,"i18n"),$("body").setModel(new o.core.JsonModel(t.sap.sbo.util["settings!general"]),"globalSettings"),$("body").process(t);var n=$("#sbo-shell").getControl();window.SboShell=n,n.__deviceType="phone",n.bridge=new o.sbo.shell.NativeBridge("simulator"==s?"simulator":void 0),$.when(n.bridge.getDeviceInfo("")).done(function(e){if(null!=e){var t;t=e.indexOf("%7B")>=0?JSON.parse(decodeURIComponent(e)):JSON.parse(e),null!=t&&(n.__platform=t.platform,n.__deviceLanguage=t.language)}}),d(n),e("sap.sbo.shell.navigation",function(e){var a=new o.sbo.compoundservices.UserEmployeeService;$.when(a.getCurrentUserEmployee()).done(function(a){var i=a.firstName+" "+a.lastName;n.storeData("user.employeeName",a.salesEmployeeName?a.salesEmployeeName:""),n.storeData("user.employeeID",a.employeeID),n.storeData("user.code",a.userCode),n.storeData("user.name",i),n.storeData("user.portraitId",a.portraitId),n.storeData("user.keyUser",a.keyUser),n.storeData("user.internalKey",a.internalKey);var s=o.sbo.util.formatter.getUserPortraitByID(a).replace("thumbnail","fingernail");if(n.storeData("user.portrait",s),null!=n.bridge){var r=n.getData("user.code");n.bridge.getDeviceInfo(r)}for(var l=[],d=0;e.length>d;d++)(a.keyUser==t.json.sap.sbo.util.enums.bool.Yes||"k_settings"!=e[d].key)&&l.push(e[d]);if(null!=a.portraitId&&!isNaN(a.portraitId)&&a.portraitId>=0){var p=o.sbo.services.BaseService.documentbase+"file/fingernail/"+a.portraitId;l.length>0&&(l[0].icon=p,l[0].icon_dn=p)}n.setOption({navigations:l}),$.when(o.sbo.util.permissionUtil.loadPermissions()).always(function(){n.tryGotoViewByUrl()})})})});var d=function(e){e.attachEvent("itemSelected",function(t){switch(o.log.info("click menu item '"+t+"'"),0>t.indexOf("_add")&&e.cleanViewHistory(!0),t){case"k_feeds":e.gotoView("sap.sbo.page.phone.network.Feeds",{thingID:null});break;case"k_feed_add":e.openFrame({view:"sap.sbo.page.phone.network.PostFeedDialog",type:"center",width:500,height:400,options:{idx:0}});break;case"k_tasks":e.gotoView("sap.sbo.page.phone.task.taskList");break;case"k_task_add":e.gotoView("sap.sbo.page.phone.task.taskDialog",{boEntityKey:void 0,taskID:"",originalBoEntityKey:void 0});break;case"k_memos":var a={};a.boNamespace="com.sap.sbo",a.boName="User";var i=[],s={};s.keyName="internalKey",s.keyValue=window.SboShell.getData("user.internalKey"),i.push(s),a.keyElements=i,e.gotoView("sap.sbo.page.phone.notepage.NotePageList",{bo:a});break;case"k_memo_add":var a={};a.boNamespace="com.sap.sbo",a.boName="User";var i=[],s={};s.keyName="internalKey",s.keyValue=window.SboShell.getData("user.internalKey"),i.push(s),a.keyElements=i,e.gotoView("sap.sbo.page.phone.notepage.NotePageDialog",{noteID:"",mode:"create",bo:a});break;case"k_contacts":e.gotoView("sap.sbo.page.phone.Contact.ContactListView");break;case"k_contact_add":e.openFrame({view:"sap.sbo.page.phone.Contact.ContactCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,options:{data:{cardCode:"",cardName:"",boName:""}}});break;case"k_customers":e.gotoView("sap.sbo.page.phone.Customer.CustomerList");break;case"k_customer_add":e.openFrame({view:"sap.sbo.page.phone.Customer.CustomerCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,callback:function(){}});break;case"k_products":e.gotoView("sap.sbo.page.phone.Product.ProductCardView");break;case"k_product_add":e.openFrame({view:"sap.sbo.page.phone.Product.ProductCreation",type:"right",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,callback:function(){}});break;case"k_compaigns":e.gotoView("sap.sbo.page.phone.Campaign.CampaignListView");break;case"k_compaign_add":SboShell.openFrame({view:"sap.sbo.page.phone.Campaign.CampaignCreation",type:"right"});break;case"k_leads":e.gotoView("sap.sbo.page.phone.Leads.LeadsListView");break;case"k_lead_add":e.openFrame({view:"sap.sbo.page.phone.Leads.LeadsCreation",type:"right",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,callback:function(){}});break;case"k_opportunities":e.gotoView("sap.sbo.page.phone.SalesOpportunity.ListView");break;case"k_opportunity_add":e.openFrame({view:"sap.sbo.page.phone.SalesOpportunity.CreationFrame2",type:"right"});break;case"k_quotations":e.gotoView("sap.sbo.page.phone.SalesQuotation.SalesQuotationListView");break;case"k_quotation_add":e.openFrame({view:"sap.sbo.page.phone.SalesQuotation.QuotationCreation",type:"right",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,callback:function(){}});break;case"k_orders":e.gotoView("sap.sbo.page.phone.SalesOrder.SalesOrderListView");break;case"k_order_add":SboShell.openFrame({view:"sap.sbo.page.phone.SalesOrder.OrderCreation",type:"right",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,callback:function(){}});break;case"k_home":e.cleanViewHistory(!1),e.gotoView("sap.sbo.page.phone.Home");break;case"k_search":e.openFrame({view:"sap.sbo.app.search.SearchDialog",type:"right",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,callback:function(){}});break;case"k_logout":$.when(window.SboShell.raiseMessage(o.sbo.localization.Helper.get("common/LOGOUT_WARNING"),"Logout",[{key:"yes",text:o.sbo.localization.Helper.get("common/YES")},{key:"no",text:o.sbo.localization.Helper.get("common/NO")}])).done(function(e){"yes"==e&&(window.location.href=".."+o.sbo.services.BaseService.documentbase+"saml2/sp/logout")});break;case"k_mprofile":SboShell.gotoView("sap.sbo.page.phone.user.BasicInfo",[{keyName:"employeeID",keyValue:window.SboShell.getData("user.employeeID")}]);break;default:}}),e.trackVisitInfo()};return{shell:window.SboShell}}),define("sap.sbo.core.GeneralExeption",["sap.core.klass","sap.core.BaseException"],function(){"use strict";var e=this.getNS("sap");return e.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:e.core.BaseException,Public:{init:function(t,o){e.core.BaseException.prototype.init.call(this,t),e.core.klass.declareMember(this,{__code:o})},destroy:function(){},getCode:function(){return this.__code}}})}),define("sap.sbo.core.BoException",["sap.core.klass","sap.sbo.core.GeneralExeption"],function(){"use strict";var e=this.getNS("sap");return e.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:e.sbo.core.GeneralExeption,Public:{init:function(t,o,a){e.sbo.core.GeneralExeption.prototype.init.call(this,t,o),e.core.klass.declareMember(this,{__field:a})},destroy:function(){},getField:function(){return this.__field}},Protected:{}})}),define("sap.sbo.compoundservices.AnalyticService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{getMetaData:function(){return this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",url:escape(t.sbo.services.BaseService.documentbase+"AnalyticService@getMetaData")})},query:function(e,o){var a={};return a.theQuery=e,a.params=o,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),url:escape(t.sbo.services.BaseService.documentbase+"AnalyticService@query")})},queryById:function(e,o){var a={};return a.queryId=e,a.params=o,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),url:escape(t.sbo.services.BaseService.documentbase+"AnalyticService@queryById")})},runDashboard:function(e,o){var a={};return a.dashboardId=e,a.dynamicParameters=o,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),url:escape(t.sbo.services.BaseService.documentbase+"AnalyticService@runDashboard")})}}})}),define("sap.sbo.compoundservices.CompanyService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{getAdminInfo:function(){return this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+escape("CompanyService@getAdminInfo")})},updateAdminInfo:function(e){var o={};return o.adminInfo=e,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(o),url:t.sbo.services.BaseService.documentbase+escape("CompanyService@updateAdminInfo")})}}})}),define("sap.sbo.compoundservices.AttachmentService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{uploadEmployeePortrait:function(e,o){var a={};return a.employeeId=e,a.attachmentId=o,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),url:escape(t.sbo.services.BaseService.documentbase+"AttachmentService@uploadEmployeePortrait")})},getMyPortraitId:function(){return this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",url:escape(t.sbo.services.BaseService.documentbase+"AttachmentService@getMyPortraitId")})},getPortraitId:function(e){var o={};return o.employeeId=e,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(o),url:escape(t.sbo.services.BaseService.documentbase+"AttachmentService@getPortraitId")})},uploadItemImage:function(e,o){var a={};return a.itemCode=e,a.attachmentId=o,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),url:escape(t.sbo.services.BaseService.documentbase+"AttachmentService@uploadItemImage")})},getItemImageId:function(e){var o={};return o.itemCode=e,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(o),url:escape(t.sbo.services.BaseService.documentbase+"AttachmentService@getItemImageId")})},uploadBPImage:function(e,o){var a={};return a.cardCode=e,a.attachmentId=o,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),url:escape(t.sbo.services.BaseService.documentbase+"AttachmentService@uploadBPImage")})},getBPImageId:function(e){var o={};return o.cardCode=e,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(o),url:escape(t.sbo.services.BaseService.documentbase+"AttachmentService@getBPImageId")})},uploadContactPortrait:function(e,o){var a={};return a.contactPersonId=e,a.attachmentId=o,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),url:escape(t.sbo.services.BaseService.documentbase+"AttachmentService@uploadContactPortrait")})},getContactPortraitId:function(e){var o={};return o.contactPersonId=e,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(o),url:escape(t.sbo.services.BaseService.documentbase+"AttachmentService@getContactPortraitId")})},uploadCompanyLogo:function(e,o){var a={};return a.settingID=e,a.attachmentId=o,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),url:escape(t.sbo.services.BaseService.documentbase+"AttachmentService@uploadCompanyLogo")})},getCompanyLogo:function(e){var o={};return o.settingID=e,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(o),url:escape(t.sbo.services.BaseService.documentbase+"AttachmentService@getCompanyLogo")})},uploadExImportDataByUser:function(e,o){var a={};return a.employeeId=e,a.attachmentId=o,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),url:escape(t.sbo.services.BaseService.documentbase+"AttachmentService@uploadExImportDataByUser")})},uploadExImportData:function(e){var o={};return o.attachmentId=e,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(o),url:escape(t.sbo.services.BaseService.documentbase+"AttachmentService@uploadExImportData")})}}})}),define("sap.sbo.compoundservices.ContactPersonService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{createAndSetMain:function(e,o,a){var i={};return i.contact=e,i.boName=o,i.docEntry=a,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(i),url:escape(t.sbo.services.BaseService.documentbase+"ContactPersonService@createAndSetMain")})}}})}),define("sap.sbo.compoundservices.DataOwnershipService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{getBOAssignments:function(e,o){var a={};return a.objectCode=e,a.instanceID=o,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),url:t.sbo.services.BaseService.documentbase+escape("DataOwnershipService@getBOAssignments")})},setBOAssignments:function(e,o,a){var i={};return i.objectCode=e,i.instanceID=o,i.boAssignments=a,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(i),url:t.sbo.services.BaseService.documentbase+escape("DataOwnershipService@setBOAssignments")})},getBODataOwnershipConf:function(){return this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+escape("DataOwnershipService@getBODataOwnershipConf")})},setBODataOwnershipConf:function(e){var o={};return o.boDataOwnershipConfs=e,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(o),url:t.sbo.services.BaseService.documentbase+escape("DataOwnershipService@setBODataOwnershipConf")})},getEmpDataOwnershipConfByBO:function(e){var o={};return o.objectCode=e,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(o),url:t.sbo.services.BaseService.documentbase+escape("DataOwnershipService@getEmpDataOwnershipConfByBO")})},setEmpDataOwnershipConfByBO:function(e,o){var a={};return a.objectCode=e,a.empDataOwnershipConfs=o,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),url:t.sbo.services.BaseService.documentbase+escape("DataOwnershipService@setEmpDataOwnershipConfByBO")})},enableDataOwnership:function(e){var o={};return o.active=e,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(o),url:t.sbo.services.BaseService.documentbase+escape("DataOwnershipService@enableDataOwnership")})},isDataOwnershipEnabled:function(){return this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+escape("DataOwnershipService@isDataOwnershipEnabled")})},hasBOAssignmentPermission:function(e,o){var a={};return a.objectCode=e,a.instanceID=o,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),url:t.sbo.services.BaseService.documentbase+escape("DataOwnershipService@hasBOAssignmentPermission")})},enableUpdatePermission:function(e,o){var a={};return a.objectCode=e,a.instanceID=o,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),url:t.sbo.services.BaseService.documentbase+escape("DataOwnershipService@enableUpdatePermission")})
}}})}),define("sap.sbo.compoundservices.GeneralService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{checkValue:function(e,o){var a={};return a.type=e,a.value=o,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),url:escape(t.sbo.services.BaseService.documentbase+"GeneralService@checkValue")})}}})}),define("sap.sbo.compoundservices.EnterpriseSearchService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{search:function(e){var o={};return o.param=e,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(o),url:escape(t.sbo.services.BaseService.documentbase+"EnterpriseSearchService@search")})}}})}),define("sap.sbo.compoundservices.LayoutService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{getLayoutPage:function(e,o){var a={};return a.device=e,a.pageId=o,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),url:escape(t.sbo.services.BaseService.documentbase+"LayoutService@getLayoutPage")})},getGlobalLayoutPage:function(e,o){var a={};return a.device=e,a.pageId=o,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),url:escape(t.sbo.services.BaseService.documentbase+"LayoutService@getGlobalLayoutPage")})},getLayoutBO:function(e,o,a,i){var s={};return s.device=e,s.boName=o,s.boNameSpace=a,s.boNodeName=i,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(s),url:escape(t.sbo.services.BaseService.documentbase+"LayoutService@getLayoutBO")})},getGlobalLayoutBO:function(e,o,a,i){var s={};return s.device=e,s.boName=o,s.boNameSpace=a,s.boNodeName=i,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(s),url:escape(t.sbo.services.BaseService.documentbase+"LayoutService@getGlobalLayoutBO")})},saveLayoutPage:function(e,o){var a={};return a.device=e,a.layoutPage=o,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),url:escape(t.sbo.services.BaseService.documentbase+"LayoutService@saveLayoutPage")})},saveGlobalLayoutPage:function(e,o){var a={};return a.device=e,a.layoutPage=o,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),url:escape(t.sbo.services.BaseService.documentbase+"LayoutService@saveGlobalLayoutPage")})},saveLayoutBO:function(e,o){var a={};return a.device=e,a.layoutBO=o,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),url:escape(t.sbo.services.BaseService.documentbase+"LayoutService@saveLayoutBO")})},saveGlobalLayoutBO:function(e,o){var a={};return a.device=e,a.layoutBO=o,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),url:escape(t.sbo.services.BaseService.documentbase+"LayoutService@saveGlobalLayoutBO")})},isNewGlobalLayoutPageAvailable:function(e,o){var a={};return a.device=e,a.pageId=o,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),url:escape(t.sbo.services.BaseService.documentbase+"LayoutService@isNewGlobalLayoutPageAvailable")})},isNewGlobalLayoutBOAvailable:function(e,o,a,i){var s={};return s.device=e,s.boName=o,s.boNameSpace=a,s.boNodeName=i,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(s),url:escape(t.sbo.services.BaseService.documentbase+"LayoutService@isNewGlobalLayoutBOAvailable")})},applyGolbalLayoutPage:function(e,o){var a={};return a.device=e,a.pageId=o,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),url:escape(t.sbo.services.BaseService.documentbase+"LayoutService@applyGolbalLayoutPage")})},applyGolbalLayoutBO:function(e,o,a,i){var s={};return s.device=e,s.boName=o,s.boNameSpace=a,s.boNodeName=i,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(s),url:escape(t.sbo.services.BaseService.documentbase+"LayoutService@applyGolbalLayoutBO")})},ignoreGlobalLayoutPage:function(e,o){var a={};return a.device=e,a.pageId=o,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),url:escape(t.sbo.services.BaseService.documentbase+"LayoutService@ignoreGlobalLayoutPage")})},ignoreGlobalLayoutBO:function(e,o,a,i){var s={};return s.device=e,s.boName=o,s.boNameSpace=a,s.boNodeName=i,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(s),url:escape(t.sbo.services.BaseService.documentbase+"LayoutService@ignoreGlobalLayoutBO")})},copyGlobalLayout:function(e,o){var a={};return a.device=e,a.userCode=o,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),url:escape(t.sbo.services.BaseService.documentbase+"LayoutService@copyGlobalLayout")})},createGlobalLayout:function(e){var o={};return o.layout=e,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(o),url:escape(t.sbo.services.BaseService.documentbase+"LayoutService@createGlobalLayout")})}}})}),define("sap.sbo.compoundservices.MassDataTransportService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{getSupportedDataTypes:function(e){var o={};return o.taskType=e,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(o),url:escape(t.sbo.services.BaseService.documentbase+"MassDataTransportService@getSupportedDataTypes")})},validateImportFile:function(e){var o={};return o.attachmentId=e,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(o),url:escape(t.sbo.services.BaseService.documentbase+"MassDataTransportService@validateImportFile")})},startTask:function(e){var o={};return o.taskParam=e,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(o),url:escape(t.sbo.services.BaseService.documentbase+"MassDataTransportService@startTask")})},getTaskInfo:function(e){var o={};return o.taskParam=e,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(o),url:escape(t.sbo.services.BaseService.documentbase+"MassDataTransportService@getTaskInfo")})},finishTask:function(e){var o={};return o.taskParam=e,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(o),url:escape(t.sbo.services.BaseService.documentbase+"MassDataTransportService@finishTask")})},getImportErrorPage:function(e,o){var a={};return a.taskParam=e,a.start=o,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),url:escape(t.sbo.services.BaseService.documentbase+"MassDataTransportService@getImportErrorPage")})},setTaskProperty:function(e,o,a){var i={};return i.taskParam=e,i.propName=o,i.propValue=a,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(i),url:escape(t.sbo.services.BaseService.documentbase+"MassDataTransportService@setTaskProperty")})}}})}),define("sap.sbo.compoundservices.NotebookService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{createPageOnBusinessObject:function(e,o){var a={};return a.page=e,a.boEntityKey=o,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),url:t.sbo.services.BaseService.documentbase+"Pages@createPageOnBusinessObject"})},createOnBO:function(e,o){var a={};return a.page=e,a.boEntityKey=o,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),url:t.sbo.services.BaseService.documentbase+"Pages@createOnBO"})},getPages:function(e){var o={};return o.boEntityKey=e,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(o),url:t.sbo.services.BaseService.documentbase+"Pages@getPages"})},getBO:function(e){var o={};return o.pageId=e,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(o),url:t.sbo.services.BaseService.documentbase+"Pages@getBO"})},attachPageToBO:function(e,o){var a={};return a.pageId=e,a.boEntityKey=o,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),url:t.sbo.services.BaseService.documentbase+"Pages@attachPageToBO"})},removeLinkFromBO:function(e,o){var a={};return a.pageId=e,a.boEntityKey=o,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),url:t.sbo.services.BaseService.documentbase+"Pages@removeLinkFromBO"})},moveToBO:function(e,o,a){var i={};return i.pageId=e,i.srcBoEntityKey=o,i.targetBoEntityKey=a,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(i),url:t.sbo.services.BaseService.documentbase+"Pages@moveToBO"})},getNotebookInfo:function(e){var o={};return o.boEntityKey=e,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(o),url:t.sbo.services.BaseService.documentbase+"Pages@getNotebookInfo"})},getBONotebook:function(e){var o={};return o.boEntityKey=e,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(o),url:t.sbo.services.BaseService.documentbase+"Pages@getBONotebook"})},getBONotebooks:function(e){var o={};return o.boEntityKey=e,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(o),url:t.sbo.services.BaseService.documentbase+"Pages@getBONotebooks"})},getNotebookBO:function(e){var o={};return o.notebookId=e,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(o),url:t.sbo.services.BaseService.documentbase+"Pages@getNotebookBO"})},getNotebookBOs:function(e){var o={};return o.notebookId=e,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(o),url:t.sbo.services.BaseService.documentbase+"Pages@getNotebookBOs"})},attachNotebookToBO:function(e,o){var a={};return a.notebookId=e,a.boEntityKey=o,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),url:t.sbo.services.BaseService.documentbase+"Pages@attachNotebookToBO"})}}})}),define("sap.sbo.compoundservices.MenuService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{getMenuMetaData:function(){return this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+escape("MenuService@getMenuMetaData")})}}})}),define("sap.sbo.compoundservices.PagesService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{createPageOnBusinessObject:function(e,o){var a={};return a.page=e,a.boEntityKey=o,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),url:escape(t.sbo.services.BaseService.documentbase+"Pages@createPageOnBusinessObject")})},createOnBO:function(e,o){var a={};return a.page=e,a.boEntityKey=o,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),url:escape(t.sbo.services.BaseService.documentbase+"Pages@createOnBO")})},getPages:function(e){var o={};return o.boEntityKey=e,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(o),url:escape(t.sbo.services.BaseService.documentbase+"Pages@getPages")})},getPagesByRange:function(e,o){var a={};return a.boEntityKey=e,a.range=o,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),url:escape(t.sbo.services.BaseService.documentbase+"Pages@getPagesByRange")})},getBO:function(e){var o={};return o.pageId=e,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(o),url:escape(t.sbo.services.BaseService.documentbase+"Pages@getBO")})},removeLinkFromBO:function(e,o){var a={};return a.pageId=e,a.boEntityKey=o,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),url:escape(t.sbo.services.BaseService.documentbase+"Pages@removeLinkFromBO")})},moveToBO:function(e,o,a){var i={};return i.pageId=e,i.srcBoEntityKey=o,i.targetBoEntityKey=a,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(i),url:escape(t.sbo.services.BaseService.documentbase+"Pages@moveToBO")})},getNotebookInfo:function(e){var o={};return o.boEntityKey=e,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(o),url:escape(t.sbo.services.BaseService.documentbase+"Pages@getNotebookInfo")})}}})}),define("sap.sbo.compoundservices.PreviewService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{previewQuotation:function(e){var o={};return o.docEntry=e,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(o),url:escape(t.sbo.services.BaseService.documentbase+"PreviewService@previewQuotation")})},previewOrder:function(e){var o={};return o.docEntry=e,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(o),url:escape(t.sbo.services.BaseService.documentbase+"PreviewService@previewOrder")})}}})}),define("sap.sbo.compoundservices.SocialMediaService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{getDigitalInsight:function(e){var o={};return o.keyWord=e,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(o),url:escape(t.sbo.services.BaseService.documentbase+"SocialMediaService@getDigitalInsight")})},getCompetitorHightlight:function(e){var o={};return o.keyWord=e,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(o),url:escape(t.sbo.services.BaseService.documentbase+"SocialMediaService@getCompetitorHightlight")})},getVoices:function(e,o,a,i){var s={};return s.keyWord=e,s.voiceType=o,s.startMonth=a,s.endMonth=i,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(s),url:escape(t.sbo.services.BaseService.documentbase+"SocialMediaService@getVoices")})},getTop3Posts:function(e,o,a,i){var s={};return s.keyWord=e,s.tagName=o,s.startMonth=a,s.endMonth=i,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(s),url:escape(t.sbo.services.BaseService.documentbase+"SocialMediaService@getTop3Posts")})},getTweetRate:function(e,o,a){var i={};return i.keyWord=e,i.startMonth=o,i.endMonth=a,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(i),url:escape(t.sbo.services.BaseService.documentbase+"SocialMediaService@getTweetRate")})},getTopInfluencers:function(e,o,a){var i={};return i.keyWord=e,i.startMonth=o,i.endMonth=a,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(i),url:escape(t.sbo.services.BaseService.documentbase+"SocialMediaService@getTopInfluencers")})},showPost:function(e,o,a,i){var s={};return s.keyWord=e,s.userId=o,s.startMonth=a,s.endMonth=i,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(s),url:escape(t.sbo.services.BaseService.documentbase+"SocialMediaService@showPost")})},getTweetWithImpact:function(e,o,a){var i={};return i.keyWord=e,i.startMonth=o,i.endMonth=a,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(i),url:escape(t.sbo.services.BaseService.documentbase+"SocialMediaService@getTweetWithImpact")})},getWebPageAnalysis:function(e,o){var a={};return a.startMonth=e,a.endMonth=o,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),url:escape(t.sbo.services.BaseService.documentbase+"SocialMediaService@getWebPageAnalysis")})},getInsightForCampaign:function(e,o){var a={};return a.campaingId=e,a.date=o,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),url:escape(t.sbo.services.BaseService.documentbase+"SocialMediaService@getInsightForCampaign")})}}})}),define("sap.sbo.compoundservices.SettingsService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{GeneralSettings:function(){return this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SettingsService@GeneralSettings")})},SetSeparators:function(e,o){var a={};return a.decimalSeparator=e,a.thousandsSeparator=o,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),url:encodeURI(t.sbo.services.BaseService.documentbase+"SettingsService@SetSeparators")})}}})}),define("sap.sbo.compoundservices.StatusService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{showComments:function(e){var o={};return o.feedId=e,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(o),url:escape(t.sbo.services.BaseService.documentbase+"StatusService@showComments")})},createComment:function(e,o){var a={};return a.feedId=e,a.content=o,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),url:escape(t.sbo.services.BaseService.documentbase+"StatusService@createComment")})},homeTimeline:function(e,o,a,i){var s={};return s.startTime=e,s.endTime=o,s.count=a,s.type=i,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(s),url:escape(t.sbo.services.BaseService.documentbase+"StatusService@homeTimeline")})},timeline:function(e,o,a,i,s){var n={};return n.thingId=e,n.startTime=o,n.endTime=a,n.count=i,n.type=s,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(n),url:escape(t.sbo.services.BaseService.documentbase+"StatusService@timeline")})},getFeed:function(e){var o={};return o.feedId=e,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(o),url:escape(t.sbo.services.BaseService.documentbase+"StatusService@getFeed")})},likeFeed:function(e,o){var a={};return a.feedId=e,a.liked=o,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),url:escape(t.sbo.services.BaseService.documentbase+"StatusService@likeFeed")})},createFeed:function(e,o,a){var i={};return i.thingId=e,i.content=o,i.files=a,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(i),url:escape(t.sbo.services.BaseService.documentbase+"StatusService@createFeed")})},homeFeeds:function(e,o){var a={};return a.thingId=e,a.count=o,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),url:escape(t.sbo.services.BaseService.documentbase+"StatusService@homeFeeds")})}}})}),define("sap.sbo.compoundservices.QueryResultService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{downloadQueryResult:function(e){var o={};return o.queryId=e,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(o),url:escape(t.sbo.services.BaseService.documentbase+"QueryResultService@downloadQueryResult")})}}})}),define("sap.sbo.compoundservices.TestCompoundService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{testParams:function(e,o,a,i,s,n,r,l,d,p,c,u,h,b,g){var m={};return m.longParam=e,m.integerParam=o,m.stringParam=a,m.booleanParam=i,m.doubleParam=s,m.dateTimeParam=n,m.boYesNoEnumParam=r,m.pageUsageTypeEnumParam=l,m.argumentParam=d,m.pageParam=p,m.stringListParam=c,m.argumentListParam=u,m.pageListParam=h,m.pageUsageTypeEnumListParam=b,m.boYesNoEnumListParam=g,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(m),url:t.sbo.services.BaseService.documentbase+escape("TestCompoundService@testParams")})}}})}),define("sap.sbo.compoundservices.TasksService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{getAssociatedBO:function(e){var o={};return o.taskId=e,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(o),url:escape(t.sbo.services.BaseService.documentbase+"Tasks@getAssociatedBO")})},getAssociatedTasksByRange:function(e,o,a,i){var s={};return s.boEntityKey=e,s.status=o,s.pageRange=a,s.isUseAggregation=i,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(s),url:escape(t.sbo.services.BaseService.documentbase+"Tasks@getAssociatedTasksByRange")})},getAssociatedTasksCount:function(e,o,a){var i={};return i.boEntityKey=e,i.status=o,i.isUseAggregation=a,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(i),url:escape(t.sbo.services.BaseService.documentbase+"Tasks@getAssociatedTasksCount")})},getTaskUnderBO:function(e,o){var a={};return a.taskId=e,a.boEntityKey=o,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),url:escape(t.sbo.services.BaseService.documentbase+"Tasks@getTaskUnderBO")})},createOnBO:function(e,o){var a={};return a.task=e,a.boEntityKey=o,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),url:escape(t.sbo.services.BaseService.documentbase+"Tasks@createOnBO")})},createAuthorizedApproval:function(e,o){var a={};return a.task=e,a.boEntityKey=o,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),url:escape(t.sbo.services.BaseService.documentbase+"Tasks@createAuthorizedApproval")})},updateOnBO:function(e,o){var a={};return a.task=e,a.boEntityKey=o,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),url:escape(t.sbo.services.BaseService.documentbase+"Tasks@updateOnBO")})},deleteOnBO:function(e,o){var a={};return a.taskId=e,a.boEntityKey=o,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),url:escape(t.sbo.services.BaseService.documentbase+"Tasks@deleteOnBO")})},convertTaskFromPage:function(e,o){var a={};return a.task=e,a.pageId=o,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),url:escape(t.sbo.services.BaseService.documentbase+"Tasks@convertTaskFromPage")})}}})}),define("sap.sbo.compoundservices.TutorialService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{createTutorial:function(e){var o={};return o.employeeId=e,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(o),url:escape(t.sbo.services.BaseService.documentbase+"TutorialService@createTutorial")})}}})}),define("sap.sbo.compoundservices.TestXService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{helloWorld:function(e){var o={};return o.stringParam=e,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(o),url:t.sbo.services.BaseService.documentbase+escape("TestXService@helloWorld")})},getInt:function(){return this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+escape("TestXService@getInt")})},getDouble:function(){return this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+escape("TestXService@getDouble")})},getBoolean:function(){return this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+escape("TestXService@getBoolean")})},getLong:function(){return this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+escape("TestXService@getLong")})},getDateTime:function(){return this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+escape("TestXService@getDateTime")})},getString:function(){return this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+escape("TestXService@getString")})},getOBEnum:function(){return this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+escape("TestXService@getOBEnum")})},getNSEnum:function(){return this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+escape("TestXService@getNSEnum")})},getComplex:function(){return this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+escape("TestXService@getComplex")})},getIntList:function(){return this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+escape("TestXService@getIntList")})},getEnumList:function(){return this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+escape("TestXService@getEnumList")})},getComplexList:function(){return this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+escape("TestXService@getComplexList")})},getBoList:function(){return this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+escape("TestXService@getBoList")})},getBo:function(){return this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+escape("TestXService@getBo")})},startJob:function(){return this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+escape("TestXService@startJob")})}}})}),define("sap.sbo.compoundservices.UserEmployeeService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{_CreateInternal:function(e){var o={};return o.userEmployeeParams=e,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(o),url:escape(t.sbo.services.BaseService.documentbase+"UserEmployeeService@_CreateInternal")})},getCurrentUserEmployee:function(){return this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",url:escape(t.sbo.services.BaseService.documentbase+"UserEmployeeService@getCurrentUserEmployee")})},verifyPassword:function(e,o,a,i,s){var n={};return n.email=e,n.password=o,n.firstname=a,n.lastname=i,n.usercode=s,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(n),url:escape(t.sbo.services.BaseService.documentbase+"UserEmployeeService@verifyPassword")})},verifyUserPassword:function(e,o){var a={};return a.employeeId=e,a.password=o,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),url:escape(t.sbo.services.BaseService.documentbase+"UserEmployeeService@verifyUserPassword")})},verifyEmail:function(e){var o={};return o.email=e,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(o),url:escape(t.sbo.services.BaseService.documentbase+"UserEmployeeService@verifyEmail")})},changeMyEmail:function(e){var o={};return o.newEmail=e,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(o),url:escape(t.sbo.services.BaseService.documentbase+"UserEmployeeService@changeMyEmail")})},changeEmail:function(e,o){var a={};return a.employeeId=e,a.newEmail=o,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),url:escape(t.sbo.services.BaseService.documentbase+"UserEmployeeService@changeEmail")})},changeMyPassword:function(e,o){var a={};return a.oldPassword=e,a.newPassword=o,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),url:escape(t.sbo.services.BaseService.documentbase+"UserEmployeeService@changeMyPassword")})},changePassword:function(e,o){var a={};return a.employeeId=e,a.newPassword=o,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),url:escape(t.sbo.services.BaseService.documentbase+"UserEmployeeService@changePassword")})},submitFeedback:function(e,o,a,i,s,n,r,l,d,p){var c={};return c.device=e,c.deviceVersion=o,c.browser=a,c.browserVersion=i,c.contextPage=s,c.mobileShell=n,c.rating=r,c.comment=l,c.customNames=d,c.customValues=p,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(c),url:escape(t.sbo.services.BaseService.documentbase+"UserEmployeeService@submitFeedback")})},submitIncident:function(e,o,a,i,s,n,r,l,d,p,c){var u={};return u.device=e,u.deviceVersion=o,u.browser=a,u.browserVersion=i,u.contextPage=s,u.mobileShell=n,u.subject=r,u.description=l,u.importance=d,u.customNames=p,u.customValues=c,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(u),url:escape(t.sbo.services.BaseService.documentbase+"UserEmployeeService@submitIncident")})},getReportTemplate:function(e){var o={};return o.reportType=e,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(o),url:escape(t.sbo.services.BaseService.documentbase+"UserEmployeeService@getReportTemplate")})}}})}),define("sap.sbo.shell.BaseShell",["sap.ui.Control","sap.log","sap.util","sap.ui.MessageBox","sap.core.klass","sap.sbo.shell.IFeaturable","sap.core.BaseException","sap.sbo.services.BaseService","sap.ui.View","sap.ui.common","sap.ui.Dialog","sap.sbo.ui.widget.PreviewBox","sap.sbo.ui.widget.Progress","sap.core.JsonModel","sap.sbo.compoundservices.UserEmployeeService","sap.sbo.ui.FrameView","sap.sbo.util.formatter","sap.sbo.util.base64","sap.sbo.shell.IViewHistoryRecordable","sap.sbo.shell.IViewHistoryConfigurable","sap.sbo.localization.Helper","sap.core.viewRegionManager"],function(){"use strict";
var e,t=this.getNS(),o=t.sap,a=/^\#(history=([0-9]+)&)?view=([a-zA-Z0-9_\.=]+)&store=(.*)$/g,i=0,s=o.ui.Control.declare({Name:"sap.sbo.shell.BaseShell",Events:["itemSelected","IconClicked",,"headerFilterClicked","viewLoaded","viewUnload","onMaskShow","onMaskHide"],Interfaces:[o.sbo.shell.IFeaturable],PublicMethods:[],Options:{title:{type:"string",defaultValue:"",nullable:!0},subTitle:{type:"string",defaultValue:""},user:{type:"string",defaultValue:""},icon:{type:"string",defaultValue:""},timeout:{type:"integer",defaultValue:20},navigations:{type:"array",defaultValue:[],arrayType:{type:"JSON",JSONType:{visible:{type:"boolean",optional:!0,defaultValue:!0},key:{type:"string"},key_add:{type:"string",optional:!0},icon:{type:"string",defaultValue:"",optional:!0},icon_dn:{type:"string",defaultValue:"",optional:!0},color:{type:"string",optional:!0},text:{type:"string",optional:!0},menus:{type:"array",optional:!0,defaultValue:[],arrayType:{type:"JSON",JSONType:{visible:{type:"boolean",optional:!0,defaultValue:!0},icon:{type:"string",defaultValue:"",optional:!0},icon_dn:{type:"string",defaultValue:"",optional:!0},color:{type:"string",optional:!0},text:{type:"string",optional:!0},key:{type:"string"},key_add:{type:"string",optional:!0},menus:{type:"array",optional:!0,arrayType:{type:"JSON",JSONType:{text:{type:"string"},key:{type:"string"}}}}}}}}}}},Public:{init:function(){o.ui.Control.prototype.init.apply(this,arguments),this.defaultPage="sap.sbo.page.pad.Home",this.__wrapLoading();var a=$("body").getModel("i18n");t.MSG_MAP={error:a.getValue("common/ERROR"),success:a.getValue("common/SUCCESS"),warning:a.getValue("common/WARNING"),message:a.getValue("common/MESSAGE"),information:a.getValue("common/INFO"),question:a.getValue("common/QUESTION")},o.core.klass.declareMember(this,{__mFeatures:{},__aViewHistory:[],__iHistoryIndex:-1,__deviceType:"",__platform:"",__deviceLanguage:"",__count:"",__groupAllButtons:!1,__aButtons:[],__gButtons:[],__qButtons:[],__pButtons:[],__deviceHeight:0,__deviceWidth:0,__mButtonInfo:{},__oActionButtonModel:this.autoDestroy(new o.core.JsonModel({})),__oViewControl:null,__mControllerButtons:{},__mFramePool:{},__sPrevViewName:null,__sViewDirection:null,__iActionButtonsTicket:-1,__iShowLoadingTicket:-1,__mActionButtonCallback:{},__sCurrentViewName:"",__dtdMaskHidden:$.Deferred().resolve()});var i=this;this.__deviceType=$("body").getModel("global").get("device"),this.addFeature(this,"shell.getDeviceType","method"),navigator.userAgent.toLowerCase().indexOf("ipad")>0&&0>navigator.userAgent.indexOf("b1od")?this.__platform="ipadsafari":navigator.userAgent.toLowerCase().indexOf("ipad")>0&&navigator.userAgent.indexOf("b1od")>0?this.__platform="ipadshell":navigator.userAgent.toLowerCase().indexOf("iphone")>0&&navigator.userAgent.indexOf("b1od")>0?this.__platform="iphoneshell":navigator.userAgent.toLowerCase().indexOf("androidphone")>0&&navigator.userAgent.indexOf("b1od")>0?this.__platform="androidphoneshell":0>navigator.userAgent.toLowerCase().indexOf("ipad")&&0>navigator.userAgent.toLowerCase().indexOf("android")&&(this.__platform="desktop"),$("body").addClass(this.__deviceType),-1!=window.navigator.platform.toLowerCase().indexOf("mac")&&$("body").addClass("mac"),this.__initPlatformWithUserAgent(),this.__deviceHeight=window.innerHeight,this.__deviceWidth=window.innerWidth,this.$().append($("<div></div>").addClass(this.__subClass("content"))),this.__oViewControl=new o.ui.View(this.$(this.__subClassSelector("content"))[0],{name:"sap.sbo.index"}),e=this.__oViewControl.render(),window.onhashchange=function(){o.log.info("hash change:"+window.location.hash);var e=window.location.hash,t=i.__parseHashUrl(e);t&&t.history>=0&&t.history<i.__aViewHistory.length&&(i.__iHistoryIndex>t.history?i.backwardView():i.__iHistoryIndex<t.history&&i.forwardView())},this.createMask(),i.addFeature(this,"shell.getCurrentViewInfo","method"),this.__oViewControl.attachEvent("afterInitView",function(){i.invokeAfterViewLoaded()}).attachEvent("beforeDestroyView",function(){i.invokeBeforeViewUnload()}),this.__processTouchable(),this.attachEvent("onMaskShow",function(){$(".sap-sbo-pad-html-shell-content").addClass("blur")}),this.attachEvent("onMaskHide",function(){$(".sap-sbo-pad-html-shell-content").removeClass("blur")})},raiseMessage:function(e,a,i,s){a=a||"error";var n=s||t.MSG_MAP[a];void 0===i&&(i=[{text:o.sbo.localization.Helper.get("common/OK"),key:"ok"}]);var r=$.extend({},{title:n,message:"",icon:"error"},{message:e,icon:a,buttons:i});"error"===a&&i.push({key:"report_error",text:o.sbo.localization.Helper.get("app/FEEDBACK/BTN/REPORT")});var l=$.Deferred();return $.when(o.ui.MessageBox.show(r)).done(function(t){if(l.resolve(t),"report_error"===t){var o={view:"sap.sbo.page.pad.Incident.IncidentReporting",options:{message:e},type:"center",width:550,height:450,callback:function(e,t){t&&t.result&&("e"===t.result||"e_save"===t.result)}};window.SboShell.openFrame(o)}}),l.promise()},raiseException:function(e){if(e instanceof o.core.BaseException&&!e.__bProcessed){var t=e.__url+" "+e.getMessage();e.processed(),this.raiseMessage(t,"error")}},destroy:function(){this.__mControllerButtons=null,this.destroyMask(),this.removeFeature("shell.getCurrentViewInfo")},update:function(){},hideLoading:function(){o.util.hideLoading()},tryGotoViewByUrl:function(){var t=this;e.done(function(){var e=window.location.hash,o=t.__parseHashUrl(e);o?t.gotoView(o.view,o.store,null):t.gotoView(t.defaultPage)})},getCurrentViewInfo:function(){return this.__iHistoryIndex>=0&&this.__iHistoryIndex<this.__aViewHistory.length?this.__aViewHistory[this.__iHistoryIndex]:null},gotoView:function(e,t,a){this.__aViewHistory.splice(++this.__iHistoryIndex),t&&JSON.stringify(t).length>256&&o.log.error("the store parameter is too long for view '"+e+"'"),this.$(this.__subClassSelector("footer-message")).empty(),this.__aViewHistory.push({viewName:e,storeParam:t||{},otherParam:a}),this.__closeOpenedFrames(),this.__sPrevViewName=e,this.__sViewDirection=">",this.activeView(e).done(function(){var a=o.core.viewRegionManager.getCurrentViewControllerInstanceFromRegion("sfa-sbo-index");if(a&&(a.isInterfaceOf(o.sbo.shell.IViewHistoryRecordable)&&a.shouldBeRecorded()||!a.isInterfaceOf(o.sbo.shell.IViewHistoryRecordable))){var i=this.__createUrlHash(this.__iHistoryIndex,e,t);window.location.hash=i}}.bind(this)).fail(function(){this.backwardView()}.bind(this)),this.__trackPageView(e)},backwardView:function(){this.setHeaderCount(""),this.__closeOpenedFrames(),this.$(this.__subClassSelector("footer-message")).empty(),this.__iHistoryIndex--,0>this.__iHistoryIndex&&(this.__iHistoryIndex=0);var e=this.getCurrentViewInfo(),t=o.core.viewRegionManager.getCurrentViewControllerInstanceFromRegion("sfa-sbo-index");if(t&&t.isInterfaceOf(o.sbo.shell.IViewHistoryConfigurable)){var a=t.getBackViewInfo();a&&a.viewName&&(e=a)}var i=this.__createUrlHash(this.__iHistoryIndex,e.viewName,e.storeParam);window.location.hash=i,e&&(this.__sViewDirection="<",this.activeView(e.viewName),this.__trackPageView(e.viewName))},forwardView:function(){this.__closeOpenedFrames(),this.__iHistoryIndex++,this.__iHistoryIndex>=this.__aViewHistory.length&&(this.__iHistoryIndex=this.__aViewHistory.length-1);var e=this.getCurrentViewInfo(),t=this.__createUrlHash(this.__iHistoryIndex,e.viewName,e.storeParam);window.location.hash=t,e&&(this.__sViewDirection=">",this.activeView(e.viewName),this.__trackPageView(e.viewName))},activeView:function(e){var t=$.Deferred();return this.beforeDestroyView(),o.core.viewRegionManager.destroyAllViewInRegion("sfa-sbo-index"),this.setOption({title:"",subTitle:""}),this.setHeaderCount(""),o.core.viewRegionManager.activeViewToRegion("sfa-sbo-index",e).done(function(){this.__sCurrentViewName=e,this.afterInitView(),t.resolve()}.bind(this)),t},refreshView:function(){var e=null;if(this.__curHistoryIndex>=0)var e=this.__history[this.__curHistoryIndex];else var e=this.getCurrentViewInfo();o.core.viewRegionManager.activeViewToRegion("sfa-sbo-index",e.viewName)},promptWithMessage:function(e,t,a){if(!($(".sap-ui-messagebox-outerContainer").length>0)){var i=o.sbo.localization.Helper.get(e),s=null==a?"common/OK":a,n=[{key:"ok",text:o.sbo.localization.Helper.get(s)}];return 2==t&&n.unshift({key:"cancel",text:o.sbo.localization.Helper.get("common/CANCEL")}),SboShell.raiseMessage(i,"warning",n)}},promptWithMessageExtended:function(e,t){if(!($(".sap-ui-messagebox-outerContainer").length>0)){var a=o.sbo.localization.Helper.get(e),i=[];return $.each(t,function(e,t){i.push({key:t.button_key,text:o.sbo.localization.Helper.get(t.text_key)})}),SboShell.raiseMessage(a,"warning",i)}},logout:function(){var e=window.sessionStorage.getItem("locale");window.SboShell.clearLocalStorage(),null==e||"EN"===e?e="en_US":"ZH"===e&&(e="zh_CN"),window.location=".."+o.sbo.services.BaseService.documentbase+"saml2/sp/logout?locale="+e},refreshToHome:function(){window.location=null!=location.pathname&&0>location.pathname.indexOf(o.sbo.services.BaseService.documentbase)?".."+location.pathname:".."+o.sbo.services.BaseService.documentbase+"index.html"},cleanViewHistory:function(e){var t=o.core.viewRegionManager.getCurrentViewControllerInstanceFromRegion("sfa-sbo-index");if(t&&(t.shouldBeRecorded=function(){return!0}),e){var a="phone"==this.__deviceType?"sap.sbo.page.phone.Home":"sap.sbo.page.pad.Home";this.__aViewHistory=[{viewName:a,storeParam:void 0,otherParam:void 0}],this.__iHistoryIndex=0}else this.__aViewHistory=[],this.__iHistoryIndex=-1},setHeaderCount:function(e){this.__count=e;var t=this.$(this.__subClassSelector("count-title"));t.length>0&&t.text(e+" ")},setHeaderFilters:function(){o.log.error("Not implemeneted")},invokeAfterViewLoaded:function(){this.fireEvent("viewLoaded")},invokeBeforeViewUnload:function(){var e=o.core.viewRegionManager.getCurrentViewControllerInstanceFromRegion("sfa-sbo-index");if(e&&e.isInterfaceOf(o.sbo.shell.IViewHistoryRecordable)&&!e.shouldBeRecorded()&&0!==this.__iHistoryIndex){var t=null;">"===this.__sViewDirection?t=--this.__iHistoryIndex:"<"===this.__sViewDirection&&(t=++this.__iHistoryIndex),null!==t&&this.__aViewHistory[t]&&this.__aViewHistory[t].viewName===this.__sPrevViewName&&(this.__aViewHistory.splice(t,1),this.__iHistoryIndex>=this.__aViewHistory.length?this.__iHistoryIndex=this.__aViewHistory.length-1:0>this.__iHistoryIndex&&(this.__iHistoryIndex=0))}this.fireEvent("viewUnload")},openFrame:function(e){e||o.log.error("openFrame() need parameter."),e.view||o.log.error("view of openFrame can't be empty");var a=i++,s={guid:a,option:$.extend({type:"left",callback:null,options:null,linkTo:null},e)},n=this;this.__mFramePool[a]=s,s.dialogDom=$("<div>").attr("sbo-frame-id",a).append($("<div></div>").attr("data-sap-template","Body").append($("<div></div>").attr({"sbo-frame-view":a,"data-sap-widget":"sap.sbo.ui.FrameView","data-sap-option":"name: '"+s.option.view+"'"}))),$("body").append(s.dialogDom),s.option.linkTo&&(void 0===s.option.linkTo.nodeType?o.log.error("linkTo in openFrame must be a DOM object, not jQuery object"):o.ui.common.createDataLink($(s.dialogDom),$(s.option.linkTo)));var r={draggable:!1,cssClass:"sbo-frame-dialog",showHeader:!1,showFooter:!1,onOpenDialog:function(e){var t=e.find("[sbo-frame-view='"+a+"']").getControl();t.setFrameDialog(this),s.option.options&&t.setOption(s.option.options),t.attachEvent("callback",function(e,t){var o=s.option.callback,i=!1;i="function"==typeof o?o(e,t):!0,i!==!1&&"close"==e&&n.closeFrame(a)}),n.fireEvent("onMaskShow")},onClose:function(){n.fireEvent("onMaskHide")}};switch(s.option.type){case"left":$.extend(r,{width:400},{position:"left",openEffect:"left-in",closeEffect:"left-out",width:s.option.width});break;case"right":$.extend(r,{width:324,height:600},{position:"right",openEffect:"right-in",closeEffect:"right-out",height:$(window).height(),width:s.option.width});break;case"center":$.extend(r,{width:400,height:400},{position:"center",openEffect:"fade-in",closeEffect:"fade-out",height:s.option.height,width:s.option.width});break;case"full":$.extend(r,{width:900,height:600},{position:"center",openEffect:"fade-in",closeEffect:"fade-out",height:s.option.height,width:s.option.width});break;case"center-column":$.extend(r,{width:400,height:600},{position:"center",openEffect:"fade-in",closeEffect:"fade-out"})}return s.dialogControl=new o.ui.Dialog(s.dialogDom[0],r),s.dialogControl.setProcessContext(t),s.dialogControl.open(),s.onCloseCleanup=function(){var e=s.dialogControl.getContent().find("[sbo-frame-view='"+a+"']").getControl().getController();e.__clickOutsideToClose===!0&&(e.__dirty?$.when(o.ui.MessageBox.show({message:o.sbo.localization.Helper.get("common/MODIFICATION_LOST"),title:o.sbo.localization.Helper.get("common/INFO"),icon:"warning",buttons:[{key:"yes",text:o.sbo.localization.Helper.get("common/OK")},{key:"no",text:o.sbo.localization.Helper.get("common/CANCEL")}]})).done(function(e){"yes"==e&&s.dialogControl.getContent().find("[sbo-frame-view='"+a+"']").getControl().fireEvent("callback","close")}):s.dialogControl.getContent().find("[sbo-frame-view='"+a+"']").getControl().fireEvent("callback","close"))},s.dialogControl.getContent().next().on("vclick",s.onCloseCleanup),this.__trackPageView(s.option.view),a},closeFrame:function(e){var t=this,a=$.Deferred(),i=this.__mFramePool[e];return i?(i.dialogControl.getContent().next().off("vclick",i.onCloseCleanup),i.onCloseCleanup=null,$.when(i.dialogControl.close()).done(function(s){s?(i.dialogDom.unprocess().remove(),i.option.linkTo&&o.ui.common.removeDataLink($(i.dialogDom),$(i.option.linkTo)),delete t.__mFramePool[e],a.resolve()):a.reject()}),a.promise()):(o.log.error("Can't find frame (id='"+e+"')"),a.reject(),void 0)},callFrame:function(e,t){var a=this.__mFramePool[e];a||o.log.error("Can't find frame (id='"+e+"')");var i=a.dialogControl.getContent().find("[sbo-frame-view='"+e+"']").getControl();"function"!=typeof i.getController()[t]&&o.log.error("method '"+t+"' on frame["+e+"] is not a function");for(var s=i.getController()[t],n=[],r=2;arguments.length>r;r++)n.push(arguments[r]);return s.apply(i.getController(),n)},addFeature:function(e,t,a){this.__mFeatures[t]&&o.log.error("Feature '"+t+"' already exists."),"method"!=a&&"event"!=a&&o.log.error("Feature type must be 'method' or 'event'"),e&&e.isInterfaceOf&&e.isInterfaceOf(o.sbo.shell.IFeaturable)||o.log.error("The source of feature must implement interface 'sap.sbo.shell.IFeaturable'"),this.__mFeatures[t]={type:a,source:e,data:"event"==a?[]:null},e.autoDestroy(this,function(){this.__mFeatures[t]&&this.removeFeature(t)})},removeFeature:function(e){this.__mFeatures[e]||o.log.error("Feature '"+e+"' doesn't exist."),delete this.__mFeatures[e]},isFeatureAvailable:function(e){return this.__mFeatures[e]?!0:!1},callFeatureMethod:function(e){return this.__mFeatures[e]||o.log.error("Feature '"+e+"' doesn't exist."),"method"!=this.__mFeatures[e].type&&o.log.error("Feature '"+e+"' type is not 'method''"),this.__mFeatures[e].source.doFeature.apply(this.__mFeatures[e].source,arguments)},attachFeatureEvent:function(e,t){this.__mFeatures[e]||o.log.error("Feature '"+e+"' doesn't exist."),"event"!=this.__mFeatures[e].type&&o.log.error("Feature '"+e+"' type is not 'event''"),this.__mFeatures[e].data.push(t)},detachFeatureEvent:function(e,t){this.__mFeatures[e]||o.log.error("Feature '"+e+"' doesn't exist.");for(var a=!1,i=0;this.__mFeatures[e].data.length>i;i++)if(this.__mFeatures[e].data[i]===t){this.__mFeatures[e].data.splice(i,1),a=!0;break}},fireFeatureEvent:function(e){this.__mFeatures[e]||o.log.error("Feature '"+e+"' doesn't exist."),"event"!=this.__mFeatures[e].type&&o.log.error("Feature '"+e+"' type is not 'event'");for(var t=[],a=1;arguments.length>a;a++)t.push(arguments[a]);for(var i=this.__mFeatures[e].data,a=0;i.length>a;a++)i[a].apply(void 0,t)},doFeature:function(e){return"shell.getCurrentViewInfo"===e?this.getCurrentViewInfo():"shell.getDeviceType"===e?this.__deviceType:void 0},clearLocalStorage:function(){window.sessionStorage.clear()},storeData:function(e,t){var o=t;"object"==typeof t&&(o=JSON.stringify(t)),window.sessionStorage.setItem(e,o)},removeData:function(e){window.sessionStorage.removeItem(e)},getData:function(e){var t=window.sessionStorage.getItem(e);try{t=JSON.parse(t)}catch(o){}return t},createFooter:function(){var e=$("<div></div>").addClass(this.__subClass("footer"));this.$().append(e)},createMessageBar:function(){var e=$("<div>").addClass(this.__subClass("footer-message"));this.$().append(e)},initActionButtons:function(){o.log.error("Not implemeneted")},groupAllActionButtons:function(e){this.__groupAllButtons=e,this.__updateActionButtons()},addActionButtons:function(e,t){if("object"==typeof e&&e instanceof Array)for(var o=e.length,a=0;o>a;a++)this.__addActionButton(e[a],t);else e&&this.__addActionButton(e,t);this.__updateActionButtons()},updateActionButton:function(e){if(e&&e.key&&e.text&&this.__mButtonInfo[e.key]){var t=this.__mButtonInfo[e.key].index;t>=0&&this.__aButtons.length>t&&(e.menu=e.menu?e.menu:[],e.disabled=void 0!==e.disabled?e.disabled:!1,e.visible=this.__aButtons[t].visible,this.__aButtons[t]=e,this.__updateActionButtons())}},showActionButtons:function(e){if("object"==typeof e&&e instanceof Array)for(var t=0;e.length>t;t++)this.__changeActionButtonVisibility(e[t],!0);else this.__changeActionButtonVisibility(e,!0);this.__updateActionButtons()},hideActionButtons:function(e){if("object"==typeof e&&e instanceof Array)for(var t=0;e.length>t;t++)this.__changeActionButtonVisibility(e[t],!1);else this.__changeActionButtonVisibility(e,!1);this.__updateActionButtons()},enableActionButtons:function(e){if("object"==typeof e&&e instanceof Array)for(var t=0;e.length>t;t++)this.__changeActionButtonAbility(e[t],!1);else this.__changeActionButtonAbility(e,!1);this.__updateActionButtons()},disableActionButtons:function(e){if("object"==typeof e&&e instanceof Array)for(var t=0;e.length>t;t++)this.__changeActionButtonAbility(e[t],!0);else this.__changeActionButtonAbility(e,!0);this.__updateActionButtons()},removeActionButtons:function(e){if(null!=e)if("object"==typeof e&&e instanceof Array)for(var t=0;e.length>t;t++)this.__removeActionButton(e[t]);else if("object"==typeof e&&e instanceof o.ui.Controller){var a=this.__mControllerButtons[e];if(a)for(var t=0,i=a.length;i>t;t++)this.__removeActionButton(a[t])}},registerControllerActionButtonCallback:function(e,t){e&&this.__mActionButtonCallback&&!this.__mActionButtonCallback[e]&&t&&(this.__mActionButtonCallback[e]=t)},openDataOwnershipRequestDialog:function(){},raiseDataOwnershipCheckFailedException:function(e){$.when(this.raiseMessage(o.sbo.localization.Helper.get("common/NOT_AUTHORIZED"),"warning",[{key:"cancel",text:o.sbo.localization.Helper.get("common/CANCEL")},{key:"request",text:o.sbo.localization.Helper.get("common/SEND_REQUEST")}])).done(function(t){"request"===t?this.openDataOwnershipRequestDialog(e):this.backwardView()}.bind(this))},raiseDataOwnershipRequestSentException:function(){$.when(this.raiseMessage(o.sbo.localization.Helper.get("common/REQUEST_SENT"),"warning",[{key:"ok",text:o.sbo.localization.Helper.get("common/OK")}])).done(function(){this.backwardView()}.bind(this))},createMask:function(){var e=o.ui.common.getStaticContainer(),t=$("<div></div>").addClass(this.__subClass("mask"));e.append(t);var a=this;t.on("vclick",function(){var e=a.$("."+a.__subClass("navigation-bar"));e.attr("status",0),a.hideMask()});var i=$("<div></div>").addClass(this.__subClass("frame-mask"));e.append(i)},destroyMask:function(){var e=o.ui.common.getStaticContainer(),t=e.find(this.__subClassSelector("mask"));t.off("vclick").remove()},showMask:function(e){return o.ui.common.getStaticContainer().find(this.__subClassSelector("mask")).css("opacity",e||0).show(),this.fireEvent("onMaskShow"),this.__dtdMaskHidden.resolve(),this.__dtdMaskHidden=$.Deferred(),this.__dtdMaskHidden.promise()},hideMask:function(){o.ui.common.getStaticContainer().find(this.__subClassSelector("mask")).hide(),this.fireEvent("onMaskHide"),this.__dtdMaskHidden.resolve()},showProgress:function(e){var a,i=o.ui.common.getStaticContainer();(a=i.find("[data-sap-widget='sap.sbo.ui.widget.Progress']")).length>0?a.find(".sbo-progress-bar").progressbar("value",e):(a=$('<div data-sap-widget="sap.sbo.ui.widget.Progress" data-sap-option="percent: '+e+'">'),i.append(a),a.process(t))},hideProgress:function(){},previewAttachment:function(e,t){0==/image\/\w+/.test(t)&&"standalone"in window.navigator&&window.navigator.standalone?this.raiseMessage(o.sbo.localization.Helper.get("common/META_DOCVIEW_FORBIDDEN"),"warning",[{key:"ok",text:o.sbo.localization.Helper.get("common/OK")}]):e&&t&&(-1!==t.indexOf("audio")?this.__playAudioInHtml(e):-1!==t.indexOf("image")?this.__previewImageAttachment(e):this.__previewOtherAttachment(e))},trackVisitInfo:function(){this.__trackVisitInfo()},updatePortrait:function(){var e=new o.sbo.compoundservices.UserEmployeeService;$.when(e.getCurrentUserEmployee()).done(function(e){var t=o.sbo.util.formatter.getUserPortraitByID(e).replace("thumbnail","fingernail");$(".sap-sbo-pad-html-shell-company-icon .moremenu-icon").css("background-image","url("+t+")")})}},Protected:{__processTouchable:function(){$(document).on(o.util.isTouch()?"touchstart":"mousedown",function(e){var t=jQuery.Event("state-active");$(e.target).trigger(t)}),$(document).on("state-active","[data-touchable='true']",function(e){$(e.currentTarget).addClass("state-active"),e.stopPropagation()}),$(document).on(o.util.isTouch()?"touchend":"mouseup",function(){$(".state-active[data-touchable='true']").removeClass("state-active")}),$(document).on("vcancelClick",function(){$(".state-active[data-touchable='true']").removeClass("state-active")})},__showMessageLine:function(e,t){var o=this.$(this.__subClassSelector("footer-message")),a=t||"error",i=$("<div>").addClass(this.__subClass("footer-message-line")).addClass(a).text(e).prepend('<span class="message-line-close-icon">X</span>');o.append(i),i.on("click",function(){i.removeClass("showLine"),setTimeout(function(){i.remove()},200)}),setTimeout(function(){i.addClass("showLine")},0),"error"!==a?setTimeout(function(){i.trigger("click")},2e3):setTimeout(function(){i.trigger("click")},5e3)},__trackVisitInfo:function(){window.hasOwnProperty("_paq")&&(_paq.push(["setCustomVariable",1,"Host",window.location.host,"visit"]),_paq.push(["setCustomVariable",2,"User",this.getData("user.code"),"visit"]),_paq.push(["setCustomVariable",3,"Platform",this.__platform,"visit"]),_paq.push(["setCustomVariable",4,"Language",this.__deviceLanguage,"visit"]),_paq.push(["trackPageView","General Visit"]))},__trackPageView:function(e){window.hasOwnProperty("_paq")&&_paq.push(["trackPageView",e])},__trackPageError:function(e){if(window.hasOwnProperty("_paq")){var t=this.getCurrentViewInfo();t?_paq.push(["trackPageView","Error in "+t.viewName+": "+e]):_paq.push(["trackPageView","Error occurred: "+e])}},__previewImageAttachment:function(e){var a=o.ui.common.getStaticContainer(),i=$('<div data-sap-widget="sap.sbo.ui.widget.PreviewBox" data-sap-option="url:\''+encodeURIComponent(e)+"'\">");a.append(i),i.process(t)},__previewOtherAttachment:function(e){window.open(e)},__playAudioInHtml:function(e){var t=document.createElement("audio");null!=t&&t.canPlayType&&t.canPlayType("audio/mpeg")&&(t.src=e,t.play())},__closeOpenedFrames:function(){for(var e in this.__mFramePool)this.__mFramePool.hasOwnProperty(e)&&this.closeFrame(e)},__removeCurrentViewActionButtons:function(){var e=o.core.viewRegionManager.getCurrentViewControllerInstanceFromRegion("sfa-sbo-index"),t=this.__mControllerButtons[e];if(t){for(var a=0,i=t.length;i>a;a++)this.__removeActionButton(t[a],!1);this.__updateActionButtons(),t=null,this.__mControllerButtons[e]=null}},__parseHashUrl:function(e){a.lastIndex=0;var t=a.exec(e);if(null==t)return null;if(5==t.length){try{var i={view:this.__base64Decode(t[3]),store:null,history:-1};if(i.history=parseInt(t[2]),isNaN(i.history)&&(i.history=-1),t[4])try{i.store=JSON.parse(this.__base64Decode(t[4]))}catch(s){o.log.error("Parse store json failure."),i.store=null}}catch(s){o.log.error("Unencoded URL is not supported anymore.")}return i}return null},__createUrlHash:function(e,t,o){return e>=0?"history="+e+"&view="+this.__base64Encode(t)+"&store="+(o?this.__base64Encode(JSON.stringify(o)):""):"view="+this.__base64Encode(t)+"&store="+(o?this.__base64Encode(JSON.stringify(o)):"")},__base64Encode:function(e){if(e){var t=unescape(encodeURIComponent(e));return window.btoa?window.btoa(t):o.sbo.util.base64.encode(t)}return e},__base64Decode:function(e){if(e){var t="";return t=window.atob?window.atob(e):o.sbo.util.base64.decode(e),decodeURIComponent(escape(t))}return e},__addActionButton:function(e,t){if(e&&e.text&&e.key){var o=e.key;this.__mButtonInfo[o]={},this.__aButtons.push({text:e.text,key:e.key,disabled:void 0!==e.disabled?e.disabled:!1,visible:!0,isStatic:e.isStatic?!0:!1,menu:e.menu?e.menu:[]}),e.onClick&&(this.__mButtonInfo[o].onClick=e.onClick),t&&(this.__mControllerButtons[t]?this.__mControllerButtons[t].push(e.key):(this.__mControllerButtons[t]=[],this.__mControllerButtons[t].push(e.key))),this.__mButtonInfo[o].index=this.__aButtons.length-1}},__changeActionButtonVisibility:function(e,t){if(e&&this.__mButtonInfo[e]){var o=this.__mButtonInfo[e].index;this.__aButtons.length>o&&(this.__aButtons[o].visible=t)}},__changeActionButtonAbility:function(e,t){if(e&&this.__mButtonInfo[e]){var o=this.__mButtonInfo[e].index;this.__aButtons.length>o&&(this.__aButtons[o].disabled=t)}},__updateActionButtons:function(){if(!(this.__iActionButtonsTicket>=0)){var e=this;e.__gButtons=[],e.__qButtons=[],this.__iActionButtonsTicket=setTimeout(function(){for(var t=0,o=0;e.__aButtons.length>o;o++)1==e.__aButtons[o].visible&&(t++,e.__groupAllButtons?e.__gButtons.push(e.__aButtons[o]):2>=t?e.__qButtons.push(e.__aButtons[o]):3==t?(e.__gButtons.push(e.__qButtons.pop()),e.__gButtons.push(e.__aButtons[o])):e.__gButtons.push(e.__aButtons[o]));"phone"==e.__deviceType?(e.__oActionButtonModel.setValue("buttons",e.__qButtons.concat(e.__gButtons)),e.__oActionButtonModel.setValue("quickbuttons",[])):(e.__oActionButtonModel.setValue("buttons",e.__gButtons),e.__oActionButtonModel.setValue("quickbuttons",e.__qButtons),0==e.__gButtons.length?e.hideMoreActions():e.showMoreActions()),e.__iActionButtonsTicket=-1},100)}},__removeActionButton:function(e,t){if(this.__mButtonInfo[e]){var o=this.__aButtons.length,a=this.__mButtonInfo[e].index;o>a&&this.__aButtons.splice(a,1),o=this.__aButtons.length;for(var i=a;o>i;i++){var s=this.__aButtons[i].key;this.__mButtonInfo[s].index--}(t||void 0===t)&&this.__updateActionButtons()}},__initPlatformWithUserAgent:function(){this.__platform="unknown"},__wrapLoading:function(){var e=o.util.showLoading,t=o.util.hideLoading,a=this;o.util.showLoading=function(t){a.showMask(),-1!=a.__iShowLoadingTicket&&(clearTimeout(a.__iShowLoadingTicket),a.__iShowLoadingTicket=-1);var o=a.getOption("timeout");arguments.length>0&&!isNaN(t)&&(o=t),a.__iShowLoadingTicket=setTimeout(function(){window.onerror({status:-1,statusText:""},"",0)},1e3*o),e.apply(a,[])},o.util.hideLoading=function(){a.hideMask(),-1!=a.__iShowLoadingTicket&&(clearTimeout(a.__iShowLoadingTicket),a.__iShowLoadingTicket=-1),t.apply(a,[])}}}});return s}),define("sap.sbo.shell.IViewHistoryConfigurable",["sap.core.Interface"],function(){"use strict";var e=this.getNS("sap");return e.core.Interface.declare({Name:this.getModuleInfo().moduleName,Events:[],Methods:["getBackViewInfo"]})}),define("sap.sbo.shell.IFeaturable",["sap.core.Interface"],function(){"use strict";var e=this.getNS("sap");return e.core.Interface.declare({Name:this.getModuleInfo().moduleName,Events:[],Methods:["doFeature"]})}),define("sap.sbo.shell.IViewHistoryRecordable",["sap.core.Interface"],function(){"use strict";var e=this.getNS("sap");return e.core.Interface.declare({Name:this.getModuleInfo().moduleName,Events:[],Methods:["shouldBeRecorded"]})}),define("sap.sbo.shell.NativeBridge",["sap.core.JsonModel","sap.ui.Control","sap.core.klass","sap.log","sap.sbo.util.urlHelper","json!sap.sbo.services.service-config"],function(){"use strict";var ns=this.getNS(),sap=ns.sap;return sap.ui.Control.declare({Name:"sap.sbo.shell.NativeBridge",Events:["optionMenuClicked"],Public:{init:function(){sap.core.klass.declareMember(this,{isSimulator:!1}),arguments.length>0&&"simulator"===arguments[0]&&(this.isSimulator=!0),this.isSimulator&&this.__addMessageListener();var e=ns.json.sap.sbo.services["service-config"],t=sap.sbo.util.urlHelper.absoluteUrl(e.documentBase,sap.sbo.util.urlHelper.getBaseUrl());this.__addTask("call??restfulurl="+t)},destroy:function(){},setMenuItems:function(e,t){this.callFunction("setMenuItem",{menuJson:e}),this.registerEvent("navItemSelected",t)},toggleNavigationMenu:function(){return this.callFunction("togglemenu",{})},getDeviceInfo:function(e){return this.callFunction("deviceinfo",{userid:e})},pickResource:function(e,t){return this.callFunction("pickresource",$.extend({type:e},t))},recordVoice:function(e){this.registerEvent("recordvoice",$.proxy(e,this))},restartRecordingVoice:function(){return this.callFunction("updatevoicerecorder",{start:1})},pauseRecordingVoice:function(){return this.callFunction("updatevoicerecorder",{pause:1})},stopRecordVoice:function(){return this.unregisterEvent("recordvoice",{stop:1})},playVoice:function(e,t){var o=$.proxy(e,this);this.registerEvent("playvoice",o,t)},restartPlayingVoice:function(){return this.callFunction("updatevoiceplayer",{start:1})},pausePlayingVoice:function(){return this.callFunction("updatevoiceplayer",{pause:1})},stopPlayVoice:function(){return this.unregisterEvent("playvoice",{stop:1})},upload:function(e,t,o){var a,i=$.proxy(e,this);return a=sap.sbo.util.urlHelper.isValidAbsoluteUrl(o)?o:sap.sbo.util.urlHelper.absoluteUrl(o,sap.sbo.util.urlHelper.getBaseUrl()),this.registerEvent("upload",i,{serverurl:a,filepath:t})},downloadToShell:function(e,t){var o;return o=sap.sbo.util.urlHelper.isValidAbsoluteUrl(e)?e:sap.sbo.util.urlHelper.absoluteUrl(e,sap.sbo.util.urlHelper.getBaseUrl()),o=encodeURIComponent(o),this.callFunction("download",{downloadpath:o,filename:t})},vibrate:function(e,t){return this.callFunction("vibrate",{type:e,message:t})},docview:function(e){0>e.indexOf("%7B")&&(e=decodeURI(e));var t;return t=sap.sbo.util.urlHelper.isValidAbsoluteUrl(e)?e:sap.sbo.util.urlHelper.absoluteUrl(e,sap.sbo.util.urlHelper.getBaseUrl()),t=encodeURIComponent(t),this.callFunction("docview",{fileurl:t})},tapSimulate:function(e){return this.callFunction("tapsimulate",{tag:e})},pickDate:function(){return this.callFunction("pickdate",{})},pickTime:function(){return this.callFunction("picktime",{})},pickDateTime:function(){return this.callFunction("pickdatetime",{})},checkVersion:function(){return this.callFunction("checkversion",{version:"1.1",url:"http://10.58.80.244:8081/store"})},previewAttachment:function(e,t){if(e&&t)if(-1!==t.indexOf("audio")){var o=this;$.when(this.downloadToShell(e)).done(function(e){o.stopPlayVoice(function(){}),o.playVoice(function(){},{url:e})})}else this.docview(e)},raiseMessage:function(e,t,o){var a=$.extend({},{title:"Message",message:"Error!",icon:"error"},{message:e,icon:t,buttons:o});return this.callFunction("raisemessage",a)},showToast:function(e,t){return this.callFunction("showToast",{message:e,icon:t})},openRemoteConsole:function(){if("WebSocket"in window){var e=new WebSocket("ws://localhost:8086/service");e.onopen=function(){var t=console.log,o=console.info,a=console.warn,i=console.error;console.log=function(o){t.apply(this,arguments),e.send("[LOG] "+o)},console.info=function(t){o.apply(this,arguments),e.send("[INFO] "+t)},console.warn=function(t){a.apply(this,arguments),e.send("[WARNING] "+t)},console.error=function(t){i.apply(this,arguments),e.send("[ERROR] "+t)}}}},startTransition:function(e){return this.callFunction("startTransition",{type:e})},addWebView:function(e){return this.callFunction("addwebview",{path:e})},sendEmail:function(e,t,o,a,i,s){var n=[];if(s&&s.length>0)for(var r=0;s.length>r;r++)n[r]=sap.sbo.util.urlHelper.isValidAbsoluteUrl(s[r])?s[r]:sap.sbo.util.urlHelper.absoluteUrl(s[r],sap.sbo.util.urlHelper.getBaseUrl());
return this.callFunction("sendemail",{subject:e||"",toRecipients:t||[],ccRecipients:o||[],bodyHtml:a||"",attachmentNames:i||[],attachmentURLs:n})},messageToWebView:function(e){return this.callFunction("messagetowebview",{message:e})}},Protected:{callFunction:function(e,t){return this.__call("call",e,t)},registerEvent:function(e,t,o){var a="EVENT_"+e,i=this;SboShell.bridge.constructor.__CallbackPool[a]=function(e){t.call(i,e)};var s=void 0!==o?o:{},n=this.__generateCallUrl("attach",e,s,"SboShell.bridge.constructor.__CallbackPool."+a);this.__addTask(n)},unregisterEvent:function(e){var t="EVENT_"+e;delete SboShell.bridge.constructor.__CallbackPool[t];var o=this.__generateCallUrl("detach",e,null,"SboShell.bridge.constructor.__CallbackPool."+t);this.__addTask(o)},__call:function(e,t,o){var a=$.Deferred(),i="CALLBACK_"+ ++SboShell.bridge.constructor.CallbackGuid,s="SboShell.bridge.constructor.__CallbackPool."+i;SboShell.bridge.constructor.__CallbackPool[i]=function(e){a.resolve(e),delete SboShell.bridge.constructor.__CallbackPool[i]};var n=this.__generateCallUrl(e,t,o,s);return 2e3>n.length?this.__addTask(n):this.__addMassDataTask(e,t,o,s),a.promise()},__generateCallUrl:function(e,t,o,a){var i={type:e,name:t,callback:a,data:o};return"call??"+JSON.stringify(i)},__addTask:function(e){this.isSimulator?this.__postMessage(e):$.post(e,{},function(){},"script")},__addMassDataTask:function(e,t,o,a){var i="bridgemassdata"+(new Date).valueOf();$("body").append("<div class='"+i+"' style='display:none;'>"+encodeURIComponent(JSON.stringify(o))+"</div>");var s={type:e,name:t,callback:a,massdata:i};$.post("call??"+JSON.stringify(s),function(){},"script")},__postMessage:function(e){window.parent.postMessage(JSON.stringify({name:"nativebridge",value:e}),"*")},__addMessageListener:function(){var that=this;window.onmessage=function(e){var msg;if(e.data){try{msg=JSON.parse(e.data)}catch(e){}msg&&"nativebridge"==msg.name&&eval(msg.value)}}}},Static:{__CallbackPool:{},__frameCallback:void 0,CallbackGuid:0}})}),define("sap.sbo.shell.PadHtmlShell",["sap.core.klass","sap.core.JsonModel","sap.ui.common","sap.log","sap.util","sap.sbo.ui.widget.SearchInput","sap.ui.widget.Button","sap.ui.widget.MenuButton","sap.sbo.ui.widget.MenuIconButton","sap.ui.Control","sap.sbo.shell.BaseShell","sap.ui.widget.Label","sap.ui.widget.Icon","sap.ui.Repeat","sap.sbo.ui.widget.WindowStub","sap.core.viewRegionManager","sap.sbo.shell.IFeaturable","json!sap.sbo.util.enums","css!sap.sbo.shell.PadHtmlShell","sap.sbo.localization.Helper"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={actionButtonClass:function(e){return void 0===e||e?"inline-block":"hidden"}},t.ui.Control.declare({Name:this.getModuleInfo().moduleName,ControlBase:t.sbo.shell.BaseShell,DomClass:"sap-sbo-pad-html-shell",Events:["onMaskShow","onMaskHide"],PublicMethods:[],Options:{},Public:{init:function(){t.sbo.shell.BaseShell.prototype.init.apply(this,arguments);var e=this;t.core.klass.declareMember(this,{__sActiveMenuKey:null,__history:[],__curHistoryIndex:-1,__bLoggedIn:!1,__fnActionButtonOnClickProxy:$.proxy(this.__fnActionButtonOnClick,this),__clickIconProxy:$.proxy(this.__clickIcon,this),__bNoNavigation:!1}),this.createHeader(),this.createFooter(),this.createMessageBar(),this.__createHighlightMask(),this.initActionButtons(),this.$().on("vclick",this.__subClassSelector("back-button"),function(){e.backwardView()}),t.log.info("Pad Html Shell"),this.afterInitView=function(){e.__iHistoryIndex>=1?e.$().find(e.__subClassSelector("head")).addClass("hasBackButton"):e.$().find(e.__subClassSelector("head")).removeClass("hasBackButton")},this.beforeDestroyView=function(){e.__removeCurrentViewActionButtons()},this.addFeature(this,"network.posted","event"),navigator.userAgent.toLocaleLowerCase().indexOf("ipad")>0&&$(".sap-sbo-pad-html-shell").addClass("pad"),$(window).on("orientationchange",function(){e.onOrientationChanged()})},destroy:function(){this.removeFeature("network.posted"),this.$().off("vclick"),this.__oViewControl.detachEvent("afterInitView").detachEvent("beforeDestroyView"),-1!=this.__iMessageBarTicket&&(clearInterval(this.__iMessageBarTicket),this.__iMessageBarTicket=-1),this.__destroyActionButtons(),window.onhashchange=null,this.__oViewControl=null},update:function(e){t.sbo.shell.BaseShell.prototype.update.apply(this,arguments),e.navigations,(e.title||e.subTitle||e.icon)&&this.__changeHeader()},gotoView:function(e,o,a){t.sbo.shell.BaseShell.prototype.gotoView.call(this,e,o,a)},backwardView:function(){this.hideMask(),t.sbo.shell.BaseShell.prototype.backwardView.call(this),this.__iHistoryIndex>=1?this.$().find(this.__subClassSelector("head")).addClass("hasBackButton"):this.$().find(this.__subClassSelector("head")).removeClass("hasBackButton")},highlightDom:function(e){e?(this.__$highlightmask.css("display","block"),$(e).addClass("highlight")):(this.__$highlightmask.css("display","none"),$(".highlight").removeClass("highlight"))},createNavigations:function(e,t){var o=$('<div data-sap-widget="sap.sbo.ui.widget.WindowStub" data-sap-option="path: \'NavigationMenu.html\' ">').addClass(this.__subClass("head-navi-menu-bar"));e.append(o),t.on("vclick",function(){a.toggleMenu(),e.toggleClass(a.__subClass("head-showmenu")),e.hasClass(a.__subClass("head-showmenu"))?(o.height(a.$(a.__subClassSelector("content")).innerHeight()),a.showMask()):(o.height(0),a.hideMask())});var a=this;return this.attachEvent("onMaskHide",function(){e.removeClass(a.__subClass("head-showmenu")),o.height(0)}),o},changeNavigations:function(){},createHeader:function(){var o=this.$(this.__subClassSelector("head")),a=this;0===o.length&&(o=$("<div></div>").addClass(this.__subClass("head")),this.$().append(o)),o.setModel(this.__oActionButtonModel);var i=$("<div></div>").addClass(this.__subClass("navigation-menu-expander"));i.append($("<div>").addClass(this.__subClass("navigation-menu-expander-icon"))),o.append(i);var s=this.createNavigations(o,i),n=$("<div data-touchable='true'></div>").addClass(this.__subClass("back-button"));n.append($("<div></div>").addClass(this.__subClass("back-button-icon"))),o.append(n);var r=$("<div>").addClass(this.__subClass("main-title")).append($("<span>").addClass(this.__subClass("count-title"))).append($("<span>").addClass(this.__subClass("title-content"))),l=$("<div>").addClass(this.__subClass("sub-title"));o.append($("<div>").addClass(this.__subClass("title")).append(l).append(r)),o.append($("<div></div>").addClass(this.__subClass("action-bar"))),this.addProfileButtons("k_mprofile",t.sbo.localization.Helper.get("common/MYPROFILE")),this.addProfileButtons("k_feedback",t.sbo.localization.Helper.get("app/FEEDBACK/TITLE")),this.addProfileButtons("k_logout",t.sbo.localization.Helper.get("common/LOGOUT")),this.__oActionButtonModel.setValue("pbuttons",a.__pButtons),this.__oActionButtonModel.setValue("profilepic","./image/common/no-pic-avatar.jpg");var d=$("<div>",{"class":this.__subClass("company-icon"),"data-sap-widget":"sap.sbo.ui.widget.MenuIconButton","data-sap-option":"iconURL: {{profilepic}} , menu: {{pbuttons,two-way}}"});o.append(d),$.when(o.process(e)).done(function(){d.css("display","block"),s.getControl().attachEvent("stubevent",function(e){if(e){var t=JSON.parse(e);switch(t.type){case"click":a.hideMask(),a.toggleMenu(),a.fireEvent("itemSelected",t.data);var o=a.$(a.__subClassSelector("head"));o.removeClass(a.__subClass("head-showmenu"));break;case"state":"loaded"===t.data&&this.setOption("message",{type:"portrait",name:SboShell.getData("user.name"),portrait:SboShell.getData("user.portrait")})}}}),d.getControl().attachEvent("click",function(e){switch(a.hideMask(),e){case"k_mprofile":SboShell.gotoView("sap.sbo.page.pad.user.BasicInfo",[{keyName:"employeeID",keyValue:window.SboShell.getData("user.employeeID")}]);break;case"k_logout":SboShell.fireEvent("itemSelected","k_logout");break;case"k_feedback":var o={view:"sap.sbo.page.pad.Incident.Feedback",type:"center",width:550,height:450,callback:function(e,o){o&&o.result&&("e"===o.result?window.SboShell.raiseMessage(t.sbo.localization.Helper.get("sys/dos/GET_ASSIGN_FAILED")):"e_save"===o.result&&window.SboShell.raiseMessage(t.sbo.localization.Helper.get("sys/dos/SAVE_ASSIGN_FAILED")))}};window.SboShell.openFrame(o);break;default:}}),d.getControl().attachEvent("openmenu",a.__clickMenuIconButton)})},addProfileButtons:function(e,t){for(var o in this.__pButtons)if(o.key==e)return;this.__pButtons.push({key:e,text:t})},removeProfileButtons:function(e){for(var t=0;this.__pButtons.length>t;t++)if(this.__pButtons[t].key==e){delete this.__pButtons[t];break}this.__pButtons=[].concat(this.__pButtons.slice(0,t),this._pbuttons.slice(t+1))},cleanProfileButtons:function(){this.__pButtons=[]},showMoreActions:function(){this.$(".sap-sbo-pad-html-shell-action-bar .sap-ui-menu-icon-button").show()},hideMoreActions:function(){this.$(".sap-sbo-pad-html-shell-action-bar .sap-ui-menu-icon-button").hide()},initActionButtons:function(){var t=this,o=this.$(this.__subClassSelector("action-bar"));this.__oActionButtonModel.setValue("buttons",[]),this.__oActionButtonModel.setValue("quickbuttons",[]),o.setModel(this.__oActionButtonModel);var a=$("<ul>",{"class":this.__subClass("head-quick-button-container"),"data-sap-widget":"sap.ui.Repeat","data-sap-option":"data: {{quickbuttons, two-way}}"}).append($("<div>",{"data-sap-template":"Content","class":"{{visible, formatter.actionButtonClass}}"}).append($("<li>",{"data-touchable":"true",text:"{{text, two-way}}",key:"{{key, two-way}}"}).addClass(this.__subClass("action-button"))));o.append(a);var i=$("<div>",{"class":this.__subClass("button-container"),"data-sap-widget":"sap.sbo.ui.widget.MenuIconButton","data-sap-option":"menu: {{buttons,two-way}}"});o.append(i),$.when(o.process(e)).done(function(){i.getControl().attachEvent("click",function(e){t.hideMask(),t.__mActionButtonCallback[t.__sCurrentViewName]&&t.__mActionButtonCallback[t.__sCurrentViewName](e),t.fireEvent("actionButtonClick",e)}),i.getControl().attachEvent("openmenu",t.__clickMenuIconButton),a.on("vclick","li",function(e){var o=$(e.currentTarget).attr("key");t.__mActionButtonCallback[t.__sCurrentViewName]&&t.__mActionButtonCallback[t.__sCurrentViewName](o),t.fireEvent("actionButtonClick",o)})})},openDataOwnershipRequestDialog:function(e){if(e){var t=this;this.openFrame({view:"sap.sbo.page.pad.task.taskDialog",options:{DataOwnershipRequest:"DataOwnershipRequest",boEntityKey:e},type:"center",width:934,height:648,callback:function(){t.backwardView()}})}},raiseMessage:function(e,o,a){if("error"===o&&this.__trackPageError(e),void 0!==a){var i=this,s=t.sbo.shell.BaseShell.prototype.raiseMessage.apply(this,arguments);return this.__bNoNavigation=!0,null!=s.done&&$.when(s).done(function(){i.__bNoNavigation=!1}),s}var n=!1;for(var r in this.__mFramePool)this.__mFramePool.hasOwnProperty(r)&&(n=!0);n&&"success"!==o?t.sbo.shell.BaseShell.prototype.raiseMessage.apply(this,arguments):this.__showMessageLine(e,o)},toggleMenu:function(){},adaptTitleForListView:function(e){var t=this.$(this.__subClassSelector("main-title"));t.addClass("list-view").on("vclick",function(t){e&&e(t)})},updateTitleForListView:function(e){var t=this.$(this.__subClassSelector("main-title"));e?t.addClass("active"):t.removeClass("active")},resetTitle:function(){this.$(this.__subClassSelector("main-title")).removeClass("list-view").removeClass("active").off("vclick")},onOrientationChanged:function(){window.innerHeight>window.innerWidth&&1==t.util.isTouch()?(SboShell.raiseMessage(t.sbo.localization.Helper.get("common/ORIENTATION_PORTRAIT"),"warning",[]),window.scrollTo(0,0)):($(".sap-ui-dialog-mask").remove(),$('.sap-ui-dialog[data-sap-template="messageBox"]').remove())}},Protected:{__destroyHeader:function(){var e=this.$(this.__subClassSelector("head"));e.remove()},__changeHeader:function(){var e=this.$(this.__subClassSelector("title-content")),t=this.getOption("title"),o=this.$(this.__subClassSelector("sub-title"));e.text(t).attr("title",t),o.text(this.getOption("subTitle")),0==this.getOption("subTitle").length?this.$(this.__subClassSelector("title")).addClass("no-sub-title"):this.$(this.__subClassSelector("title")).removeClass("no-sub-title")},__setViewTitle:function(e){this.setOption("title",e)},__showNavigationSubMenu:function(){this.$().addClass(this.__subClass("expand"))},__hideNavigationSubMenu:function(){this.$().removeClass(this.__subClass("expand"))},__updateNavigateButton:function(){this.__curHistoryIndex<this.__history.length-1?this.$(".sap-sbo-pad-html-shell-navigation-bar [key='forward']").show():this.$(".sap-sbo-pad-html-shell-navigation-bar [key='forward']").hide(),this.__curHistoryIndex>0?this.$(".sap-sbo-pad-html-shell-navigation-bar [key='back']").show():this.$(".sap-sbo-pad-html-shell-navigation-bar [key='back']").hide()},__fnActionButtonOnClick:function(e){this.fireEvent("actionButtonClick",e?e:"")},__destroyActionButtons:function(){var e=this.$(this.__subClassSelector("action-bar")),t=this.$(this.__subClassSelector("button-container"));t&&t.length>0&&(t.getControl().detachEvent("afterUpdate",this.__bindActionButtonOnClickProxy),this.$(this.__subClassSelector("action-button")).each(function(){$(this).getControl().detachEvent("click")}),this.__aButtons=null,this.__mButtonInfo=null,this.__mControllerButtons=null,this.__oActionButtonModel.destroy(),this.__oActionButtonModel=null,t.unprocess(),t.remove(),t=null),e.empty()},__onClickExpander:function(e){var t=$(e.target);t.attr("segment"),t.prevAll().toggle()},__onClickSecondLevelItem:function(e){var t=$(e.currentTarget),o=t.attr("key");this.fireEvent("itemSelected",o);var a=this.$(this.__subClassSelector("navigation-bar"));a.attr("status",0),this.hideMask()},__clickIcon:function(){this.fireEvent("itemSelected","k_home")},__clickMenuIconButton:function(){for(var e=$('.sap-sbo-pad-html-shell-head div[data-sap-widget="sap.sbo.ui.widget.MenuIconButton"]'),t=0;e.length>t;t++){var o=$(e[t]).getControl();o.__guid!=this.__guid&&o.hideMenu()}SboShell.showMask()},__createHighlightMask:function(){var e=t.ui.common.getStaticContainer();this.__$highlightmask=$("<div>").addClass(this.__subClass("highlightmask")),e.append(this.__$highlightmask)}}})}),define("sap.sbo.shell.navigation",["sap.sbo.localization.Helper"],function(){var e=this.getNS().sap;return[{visible:!0,icon:"image/common/no-pic-avatar.jpg",key:"k_home",key_add:"k_settings",text:e.sbo.localization.Helper.get("common/HOME")},{visible:!0,icon:"",key:"k_search",menus:[{visible:!0,key:"k_feeds",key_add:"k_feed_add",text:e.sbo.localization.Helper.get("app/feed/tile/title"),color:"FF7A45"},{visible:!0,key:"k_memos",key_add:"k_memo_add",text:e.sbo.localization.Helper.get("app/memo/MEMOS"),color:"8AD900"},{visible:!0,key:"k_tasks",key_add:"k_task_add",text:e.sbo.localization.Helper.get("app/task/TASKS"),color:"44D1FF"},{visible:!0,key:"k_customers",key_add:"k_customer_add",text:e.sbo.localization.Helper.get("common/CUSTOMER_NAME"),color:"BA6EFF"},{visible:!0,key:"k_contacts",key_add:"k_contact_add",text:e.sbo.localization.Helper.get("common/CONTACT_NAME"),color:"FDE200"},{visible:!0,key:"k_products",key_add:"k_product_add",text:e.sbo.localization.Helper.get("common/PRODUCT_NAME"),color:"2BB8A5"},{visible:!0,key:"k_leads",key_add:"k_lead_add",text:e.sbo.localization.Helper.get("app/lead/LEADS"),color:"FFBC16"},{visible:!0,key:"k_opportunities",key_add:"k_opportunity_add",text:e.sbo.localization.Helper.get("app/oppo/OPPORTUNITIES"),color:"FF4940"},{visible:!0,key:"k_quotations",key_add:"k_quotation_add",text:e.sbo.localization.Helper.get("common/QUOTATIONS_NAME"),color:"26B6FF"},{visible:!0,key:"k_orders",key_add:"k_order_add",text:e.sbo.localization.Helper.get("common/ORDERS_NAME"),color:"EB6E90"}]}]}),define("sap.sbo.shell.PadNativeShell",["sap.core.klass","sap.core.JsonModel","sap.ui.Control","sap.log","sap.ui.widget.Icon","sap.sbo.shell.PadHtmlShell","sap.sbo.ui.widget.WindowStub","css!sap.sbo.shell.PadHtmlShell"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Control.declare({Name:"sap.sbo.shell.PadNativeShell",ControlBase:t.sbo.shell.PadHtmlShell,DomClass:"sap-sbo-pad-html-shell",Events:[],Public:{bridge:void 0,init:function(){t.sbo.shell.PadHtmlShell.prototype.init.apply(this,arguments)},destroy:function(){},update:function(e){e.navigations||t.sbo.shell.PadHtmlShell.prototype.update.apply(this,arguments)},createNavigations:function(e,t){var o=this,a=$('<div data-sap-widget="sap.sbo.ui.widget.WindowStub" data-sap-option="path: \'NavigationMenu.html\' ">').addClass(this.__subClass("head-navi-menu-bar"));return e.append(a),t.on("vclick",function(){o.toggleMenu()}),a},changeNavigations:function(){},gotoView:function(e,o,a){t.sbo.shell.PadHtmlShell.prototype.gotoView.call(this,e,o,a)},previewAttachment:function(e,t){window.SboShell.bridge.previewAttachment(e,t)},raiseMessage:function(e,o,a){if("error"===o&&this.__trackPageError(e),void 0!==a){if(SboShell.bridge.isSimulator){var i=t.sbo.shell.PadHtmlShell.prototype.raiseMessage.apply(this,arguments);return i}return SboShell.bridge.raiseMessage(e,o,a)}this.__showMessageLine(e,o)},toggleMenu:function(){SboShell.bridge.toggleNavigationMenu()}},Protected:{}})}),define("sap.sbo.shell.PhoneNativeShell",["sap.core.klass","sap.core.JsonModel","sap.ui.Repeat","sap.ui.common","sap.ui.widget.Button","sap.sbo.ui.widget.MenuIconButton","sap.sbo.ui.widget.ActionDialog","sap.ui.Control","sap.core.DataList","sap.log","sap.sbo.shell.BaseShell","sap.sbo.shell.IViewHistoryRecordable","sap.sbo.ui.widget.PhotoPicker","sap.sbo.ui.widget.PressToTalk","sap.sbo.ui.widget.UploadButton","sap.sbo.localization.Helper","sap.sbo.util.urlHelper","sap.sbo.ui.widget.WindowStub","css!sap.sbo.shell.PhoneNativeShell"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={actionButtonVisible:function(e){return void 0===e||e?"display: block":"display: none"}},t.ui.Control.declare({Name:"sap.sbo.shell.PhoneNativeShell",ControlBase:t.sbo.shell.BaseShell,DomClass:"sap-sbo-phone-native-shell",Events:["attachmentUploaded"],Public:{bridge:void 0,init:function(){t.sbo.shell.BaseShell.prototype.init.apply(this,arguments),this.defaultPage="sap.sbo.page.phone.Home";var e=this;t.core.klass.declareMember(this,{__bindNativeActionButtonOnClickProxy:$.proxy(this.__bindNativeActionButtonOnClick,this),__aOpenedFrameIds:[],__aTempActionButtons:[],__oTopButtonModel:this.autoDestroy(new t.core.JsonModel({})),__mTopButtonInfo:{},__aTopButtons:[],__$topButtonRepeater:{},__clickIconProxy:$.proxy(this.__clickIcon,this),__sLastMenuKey:null,__bSubmenuShown:!1}),this.afterInitView=function(){e.$(e.__subClassSelector("content")).addClass("show")},this.beforeDestroyView=function(){e.$(e.__subClassSelector("content")).removeClass("show"),e.__removeTopButtons(),e.__removeCurrentTopButtons(),e.__removeCurrentViewActionButtons()},this.createHeader(),this.createMessageBar(),this.createNavigations(),this.initActionButtons(),this.__createTopButtonContainer(),this.$().on("vclick",this.__subClassSelector("back-button"),function(){e.backwardView()})},destroy:function(){this.$().off("vclick",this.__subClassSelector("back-button")),this.$().off("vclick",this.__subClassSelector("content")),this.$().off("vdragend",this.__subClassSelector("content")),this.$().off("vclick",this.__subClassSelector("navigation-menu-expander")),this.__aOpenedFrameIds=null,this.__$topButtonRepeater.detachEvent("afterUpdate"),this.__$topButtonRepeater.unprocess(),this.__$topButtonRepeater=null,this.__oViewControl.detachEvent("afterInitView").detachEvent("beforeDestroyView"),this.__destroyHeader(),this.__oViewControl.destroy(),this.__oViewControl=null},update:function(e){t.sbo.shell.BaseShell.prototype.update.apply(this,arguments),e.navigations?this.changeNavigations():(e.title||e.icon)&&this.__changeHeader()},gotoView:function(){this.setHeaderFilters([]),t.sbo.shell.BaseShell.prototype.gotoView.apply(this,arguments),this.__iHistoryIndex>=1?this.$().find(this.__subClassSelector("head")).addClass("hasBackButton"):this.$().find(this.__subClassSelector("head")).removeClass("hasBackButton")},backwardView:function(){var e=this;if(e.__aOpenedFrameIds.length>0){var o=e.__aOpenedFrameIds[e.__aOpenedFrameIds.length-1];e.closeFrame(o)}else t.sbo.shell.BaseShell.prototype.backwardView.apply(this,arguments);this.__iHistoryIndex>=1?this.$().find(this.__subClassSelector("head")).addClass("hasBackButton"):this.$().find(this.__subClassSelector("head")).removeClass("hasBackButton")},raiseMessage:function(e,o,a){if("error"===o&&this.__trackPageError(e),SboShell.bridge.isSimulator||0>navigator.userAgent.indexOf("b1od")){if(void 0!==a)return t.sbo.shell.BaseShell.prototype.raiseMessage.apply(this,arguments);this.__showMessageLine(e,o)}else{if(void 0!==a)return SboShell.bridge.raiseMessage(e,o,a);this.__showMessageLine(e,o)}},openFrame:function(e){if(e){e.type="right",e.width=$(document).width(),e.height=$(document).height()-45,e.clickOutsideToClose=!1;var o=t.sbo.shell.BaseShell.prototype.openFrame.call(this,e);return this.__mFramePool[o],this.__aOpenedFrameIds.push(o),this.__removeTopButtons(),o}},closeFrame:function(e){var o=this.__mFramePool[e];return o&&(this.__removeCurrentTopButtons(),this.__aOpenedFrameIds.pop(),this.__restorePrevTopButtons()),t.sbo.shell.BaseShell.prototype.closeFrame.call(this,e)},createNavigations:function(){var o=this,a=$('<div data-sap-widget="sap.sbo.ui.widget.WindowStub" data-sap-option="path: \'NavigationMenu.html\' ">').addClass(this.__subClass("head-navi-menu-bar"));this.$().append(a),$.when(a.process(e)).done(function(){a.getControl().attachEvent("stubevent",function(e){if(e){var a=JSON.parse(e);switch(a.type){case"click":o.hideMask(),o.toggleMenu(),o.fireEvent("itemSelected",a.data);break;case"state":if("loaded"===a.data){var i,s=SboShell.getData("user.portrait");i=t.sbo.util.urlHelper.isValidAbsoluteUrl(s)?s:t.sbo.util.urlHelper.absoluteUrl(s,t.sbo.util.urlHelper.getBaseUrl()),i=encodeURIComponent(i),this.setOption("message",{type:"portrait",name:SboShell.getData("user.name"),portrait:i})}}}})})},toggleMenu:function(){SboShell.bridge.toggleNavigationMenu()},changeNavigations:function(){},createHeader:function(){var e=this,t=this.$(this.__subClassSelector("head"));0===t.length&&(t=$("<div class='has-title' ></div>").addClass(this.__subClass("head")),this.$().append(t));var o=$("<div></div>").addClass(this.__subClass("navigation-menu-expander"));o.append($("<div>").addClass(this.__subClass("navigation-menu-expander-icon"))),t.append(o),o.on("vclick",function(){e.toggleMenu()}),t.append($("<div></div>").addClass(this.__subClass("back-button")));var a=$("<div>").addClass(this.__subClass("main-title")).append($("<span>").addClass(this.__subClass("count-title"))).append($("<span>").addClass(this.__subClass("title-content"))),i=$("<div>").addClass(this.__subClass("sub-title"));t.append($("<div>").addClass(this.__subClass("title")).append(i).append(a))},hideMask:function(){this.__$actionDlg&&this.__bSubmenuShown&&(this.__$actionDlg.getControl().hide(),this.__bSubmenuShown=!1),t.sbo.shell.BaseShell.prototype.hideMask.apply(this,arguments)},initActionButtons:function(){var o=this,a=this.$(this.__subClassSelector("head"));this.__oActionButtonModel.setValue("buttons",[]);var i=$("<div data-touchable='true'>").addClass(this.__subClass("expand")),s=$("<div>",{"class":this.__subClass("expand-icon"),"data-sap-widget":"sap.sbo.ui.widget.MenuIconButton","data-sap-option":'iconURL: "./image/shell/more_vertical_white.png" , menu: {{buttons,two-way}}'}).addClass(this.__deviceType);i.append(s),i.setModel(this.__oActionButtonModel),a.append(i),i.process(e).done(function(){s.getControl().attachEvent("click",function(a){var i=this.__oActionButtonModel.getValue("buttons"),s=new t.core.DataList(i).first('c=>c.key==="'+a+'"');if(s.menu.length>0)if(this.showMask(),this.__bSubmenuShown=!0,this.__sLastMenuKey===a)this.__$actionDlg.getControl().show();else{null!=this.__$actionDlg&&(this.__$actionDlg.offControlEvent("click"),this.__$actionDlg.unprocess(),this.__$actionDlg.remove()),this.__$actionDlg=$('<div data-sap-widget="sap.sbo.ui.widget.ActionDialog">');for(var n=0;s.menu.length>n;n++){var r=s.menu[n].text,l=$('<button data-sap-widget="sap.ui.widget.Button" data-sap-option="text:\''+r+"'\">");l.data("key",s.menu[n].key),this.__$actionDlg.append(l)}this.__$actionDlg.process(e).done(function(){this.__$actionDlg.onControlEvent("click",'button[data-sap-widget="sap.ui.widget.Button"]',function(){var e=this.$().data("key");o.fireEvent("actionButtonClick",e),o.__bSubmenuShown=!1,o.hideMask()})}.bind(this)),this.$().append(this.__$actionDlg),this.__$actionDlg.getControl().show()}else this.fireEvent("actionButtonClick",a);this.__sLastMenuKey=a}.bind(this))}.bind(this)),this.__oActionButtonModel.attachEvent("valueChanged",function(e){if("buttons"==e){for(var t=0,a=o.__oActionButtonModel.getJson().buttons,s=0;a.length>s;s++)1==a[s].visible&&t++;0==t?i.hide():i.show()}else if("filter"==e){var n=o.__oActionButtonModel.getJson().filter,r=o.$(o.__subClassSelector("company-title-expand"));if(r.find("."+o.__subClass("header-filter")).off("vclick"),r.empty(),null!=n&&n.length>0){o.$(o.__subClassSelector("company-title-caret")).show();for(var s=0;n.length>s;s++){var l=n[s],d=$("<div>").addClass(o.__subClass("header-filter"));l.hasOwnProperty("selected")&&1==l.selected&&(d.append($("<div>").addClass(o.__subClass("icon-selected"))),d.attr("selected","true")),d.append($("<a>",{text:l.label,"class":o.__subClass("header-filter-label")})),d.append($("<a>",{text:l.description,"class":o.__subClass("header-filter-description")})),d.attr("key",l.key),r.append($("<li>").append(d)),r.hide()}r.find(o.__subClassSelector("header-filter")).on("vclick",function(e){for(var t=$(e.target);null==t.attr("key");)t=t.parent();var a=t.attr("key");o.fireEvent("headerFilterClicked",a)}),r.find(o.__subClassSelector("header-filter")).last().css("border-bottom-width","0px")}else o.$(o.__subClassSelector("company-title-caret")).hide()}}),null!=this.bridge&&this.bridge.attachEvent("optionMenuClicked",function(){o.$(this.__subClassSelector("expand")).click()})},openDataOwnershipRequestDialog:function(e){e&&this.gotoView("sap.sbo.page.phone.task.taskDialog",{DataOwnershipRequest:"DataOwnershipRequest",boEntityKey:e})},setHeaderFilters:function(e){var t=function(e){if(e instanceof Array){for(var t=0;e.length>t;t++){var o=e[t];if(o.hasOwnProperty("visible")&&"boolean"!=typeof o.visible)return!1;if(o.hasOwnProperty("selected")&&"boolean"!=typeof o.selected)return!1;if(!o.hasOwnProperty("key")||"string"!=typeof o.key||!o.hasOwnProperty("label")||"string"!=typeof o.label||!o.hasOwnProperty("description")||"string"!=typeof o.description)return!1}return!0}return!1};t(e)?this.__oActionButtonModel.setValue("filter",e):this.raiseMessage("Invalid argument Exception: setHeader Filters: "+e)},previewAttachment:function(e,t){window.SboShell.bridge.previewAttachment(e,t)},addTopButtons:function(e){if("object"==typeof e&&e instanceof Array)for(var t=e.length,o=0;t>o;o++)this.__addTopButton(e[o]);else e&&this.__addTopButton(e);this.__updateTopButtons()},removeTopButtons:function(e){if("object"==typeof e&&e instanceof Array)for(var t=e.length,o=0;t>o;o++)this.__removeTopButton(e[o]);else e&&this.__removeTopButton(e);this.__updateTopButtons()},enableTopButtons:function(e){var t=this.__aOpenedFrameIds.length>0?this.__aOpenedFrameIds[this.__aOpenedFrameIds.length-1]:this.getCurrentViewInfo().viewName;if("object"==typeof e&&e instanceof Array)for(var o=e.length,a=0;o>a;a++)this.__changeTopButtonAbility(t,e[a],!1);else e&&this.__changeTopButtonAbility(t,e,!1);this.__updateTopButtons()},disableTopButtons:function(e){var t=this.__aOpenedFrameIds.length>0?this.__aOpenedFrameIds[this.__aOpenedFrameIds.length-1]:this.getCurrentViewInfo().viewName;if("object"==typeof e&&e instanceof Array)for(var o=e.length,a=0;o>a;a++)this.__changeTopButtonAbility(t,e[a],!0);else e&&this.__changeTopButtonAbility(t,e,!0);this.__updateTopButtons()},enableAllTopButtons:function(){if(this.__aTopButtons){for(var e=0,t=this.__aTopButtons.length;t>e;e++)this.__aTopButtons[e].disabled=!1;this.__updateTopButtons()}},disableAllTopButtons:function(){if(this.__aTopButtons){for(var e=0,t=this.__aTopButtons.length;t>e;e++)this.__aTopButtons[e].disabled=!0;this.__updateTopButtons()}},adaptTitleForListView:function(e){var t=this.$(this.__subClassSelector("main-title"));t.addClass("list-view").on("vclick",function(t){e&&e(t)})},updateTitleForListView:function(e){var t=this.$(this.__subClassSelector("main-title"));e?t.addClass("active"):t.removeClass("active")},resetTitle:function(){this.$(this.__subClassSelector("main-title")).removeClass("list-view").removeClass("active").off("vclick")}},Protected:{__clickIcon:function(){this.fireEvent("IconClicked")},__removeTopButtons:function(){this.__aTopButtons=[],this.__updateTopButtons()},__createTopButtonContainer:function(){var o=$("<div>",{"class":this.__subClass("top-button-container")}).hide();t.ui.common.getStaticContainer().append(o);var a=this;this.__oTopButtonModel.setValue("buttons",[]),this.__$topButtonRepeater=$("<div>",{"class":this.__subClass("top-button-repeat"),"data-sap-widget":"sap.ui.Repeat","data-sap-option":"data: {{buttons, two-way}}"}).append($("<div>",{"data-sap-template":"Content"}).append($("<button>",{"data-sap-widget":"sap.ui.widget.Button","data-sap-option":"text: {{text, two-way}}, disabled: {{disabled}}",key:"{{key, two-way}}"}).addClass(this.__subClass("top-button")).addClass(this.__subClass("top-button-{{_internal_@index}}")))),this.__$topButtonRepeater.setModel(this.__oTopButtonModel),o.append(this.__$topButtonRepeater),$.when(this.__$topButtonRepeater.process(e)).done(function(){a.__$topButtonRepeater.getControl().attachEvent("afterUpdate",function(){o.find(a.__subClassSelector("top-button")).css({width:$("body").width()/a.__aTopButtons.length-10})}),o.onControlEvent("click",'[data-sap-widget="sap.ui.widget.Button"]',function(){a.fireEvent("actionButtonClick",this.$().attr("key"))})})},__addTopButton:function(e){this.__aTopButtons=this.__aTopButtons?this.__aTopButtons:[];var t=null;if(t=this.__aOpenedFrameIds.length>0?this.__aOpenedFrameIds[this.__aOpenedFrameIds.length-1]:this.getCurrentViewInfo().viewName,this.__mTopButtonInfo[t]||(this.__mTopButtonInfo[t]={}),e&&e.text&&e.key){var o=e.key;this.__mTopButtonInfo[t][o]||(void 0===e.disabled&&(e.disabled=!1),this.__mTopButtonInfo[t][o]=e,this.__aTopButtons.push(e))}},__removeTopButton:function(e){this.__aTopButtons=this.__aTopButtons?this.__aTopButtons:[];var t=null;if(t=this.__aOpenedFrameIds.length>0?this.__aOpenedFrameIds[this.__aOpenedFrameIds.length-1]:this.getCurrentViewInfo().viewName,this.__mTopButtonInfo[t]&&this.__mTopButtonInfo[t][e])for(var o=0,a=this.__aTopButtons.length;a>o;o++)if(this.__aTopButtons[o].key===e)return delete this.__mTopButtonInfo[t][e],this.__aTopButtons.splice(o,1),!1},__updateTopButtons:function(){var e=this.__aOpenedFrameIds.length>0,o=t.ui.common.getStaticContainer(),a=o.find(this.__subClassSelector("top-button-container"));if(this.__aTopButtons=this.__aTopButtons?this.__aTopButtons:[],this.__oTopButtonModel.setValue("buttons",this.__aTopButtons),this.__aTopButtons&&this.__aTopButtons.length>0){var i=a.height();e?(a.show().css({"z-index":$(".sap-ui-dialog-mask").css("z-index")+1}),o.find(".sbo-frame-dialog").css({top:i,height:this.__deviceHeight-i})):(a.show().css({"z-index":1}),this.$().css({}))}else a.hide(),e?o.find(".sbo-frame-dialog").css({top:0,height:this.__deviceHeight}):this.$().css({})},__restorePrevTopButtons:function(){if(null==this.getCurrentViewInfo())return this.__updateTopButtons(!0),void 0;var e=this.__aOpenedFrameIds.length>0?this.__aOpenedFrameIds[this.__aOpenedFrameIds.length-1]:this.getCurrentViewInfo().viewName;if(this.__mTopButtonInfo[e]){for(var t in this.__mTopButtonInfo[e])this.__mTopButtonInfo[e].hasOwnProperty(t)&&this.__aTopButtons.push(this.__mTopButtonInfo[e][t]);this.__updateTopButtons(!0)}},__removeCurrentTopButtons:function(){if(null==this.getCurrentViewInfo())return this.__mTopButtonInfo={},this.__aTopButtons=null,this.__updateTopButtons(),void 0;
var e=this.__aOpenedFrameIds.length>0?this.__aOpenedFrameIds[this.__aOpenedFrameIds.length-1]:this.getCurrentViewInfo().viewName;this.__mTopButtonInfo[e]&&(this.__aTopButtons=null,this.__mTopButtonInfo[e]=null,delete this.__mTopButtonInfo[e],this.__updateTopButtons())},__changeTopButtonAbility:function(e,t,o){null!==e&&this.__mTopButtonInfo[e]&&this.__mTopButtonInfo[e][t]&&(this.__mTopButtonInfo[e][t].disabled=o)},__changeHeader:function(){var e=this.$(this.__subClassSelector("title-content")),t=this.getOption("title"),o=this.$(this.__subClassSelector("sub-title"));e.text(t).attr("title",t),o.text(this.getOption("subTitle")),0==this.getOption("subTitle").length?this.$(this.__subClassSelector("title")).addClass("no-sub-title"):this.$(this.__subClassSelector("title")).removeClass("no-sub-title")},__destroyHeader:function(){var e=this.$(this.__subClassSelector("head"));e.remove()}}})}),define("sap.sbo.shell.phonenavigation",["sap.sbo.localization.Helper"],function(){return[{visible:!0,icon:"image/home_gray.png",icon_dn:"image/home.png",key:"k_home",key_add:"k_settings",text:"Judy Brown",menus:[{visible:!0,key:"k_feeds",key_add:"k_feed_add",text:"Feeds",color:"FF7A45"},{visible:!0,key:"k_tasks",key_add:"k_task_add",text:"Tasks",color:"44D1FF"},{visible:!0,key:"k_memos",key_add:"k_memo_add",text:"Memos",color:"8AD900"},{visible:!0,key:"k_customers",key_add:"k_customer_add",text:"Customers",color:"BA6EFF"},{visible:!0,key:"k_contacts",key_add:"k_contact_add",text:"Contacts",color:"FDE200"},{visible:!0,key:"k_products",key_add:"k_product_add",text:"Products",color:"2BB8A5"},{visible:!0,key:"k_compaigns",key_add:"k_compaign_add",text:"Campaigns",color:"007BFF"},{visible:!0,key:"k_leads",key_add:"k_lead_add",text:"Leads",color:"FFBC16"},{visible:!0,key:"k_opportunities",key_add:"k_opportunity_add",text:"Opportunities",color:"FF4940"},{visible:!0,key:"k_quotations",key_add:"k_quotation_add",text:"Quotations",color:"26B6FF"},{visible:!0,key:"k_orders",key_add:"k_order_add",text:"Orders",color:"EB6E90"}]}]}),define("sap.sbo.services.ApprovalSettingsService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{__boName:"ApprovalSetting",__boNamespace:"com.sap.sbo",create:function(e){var o=this.transformBusinessObjectData(e);return(null==o.id||void 0==o.id)&&delete o.id,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"ApprovalSettings"),dataType:"json",data:JSON.stringify(o)})},get:function(e){return this.asyncReq({type:"GET",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"ApprovalSettings("+e.id+")"),dataType:"json"})},update:function(e,o){var a=this.transformBusinessObjectData(e);return this.asyncReq({type:"PUT",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"ApprovalSettings("+o.id+")"),data:JSON.stringify(a),dataType:"json"})},"delete":function(e){return this.asyncReq({type:"DELETE",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"ApprovalSettings("+e.id+")")})},getInit:function(){var e=$.Deferred();return $.when(this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"ApprovalSettings/createBO")})).done(function(t){delete t.id,e.resolve(t)}).fail(function(t){e.reject(t)}),e.promise()},getInitBoNode:function(e,o){var a=this.transformBusinessObjectData(e),i={};return i._self=a,i.createBONodeParam={},i.createBONodeParam.nodePath=o,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"ApprovalSettings/createBONode"),data:JSON.stringify(i),dataType:"json"})},transformBusinessObjectData:function(e){delete e["odata.metadata"];for(var t in e)if(e[t]instanceof Array)for(var o=0;e[t].length>o;o++)delete e[t][o]["odata.metadata"];return e},onPropertyChange:function(e,o,a){var i=this.transformBusinessObjectData(e),s={};return s._self=i,s.onBOChangeParam={},s.onBOChangeParam.path=o,s.onBOChangeParam.changeType=a,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"ApprovalSettings/onBOChange"),data:JSON.stringify(s),dataType:"json"})},query:function(e){var o={};return e=e||{},["inlinecount","filter","select","orderby","top","skip","expand","search"].forEach(function(t){t in e&&(o["$"+t]=e[t])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"ApprovalSettings"),data:o})},count:function(e){var o={};return e=e||{},null!=e.filter&&(o.$filter=e.filter),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"ApprovalSettings/$count"),data:o})}}})}),define("sap.sbo.services.AttachmentsService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{__boName:"Attachment",__boNamespace:"com.sap.sbo",create:function(e){var o=this.transformBusinessObjectData(e);return(null==o.id||void 0==o.id)&&delete o.id,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Attachments"),dataType:"json",data:JSON.stringify(o)})},get:function(e){return this.asyncReq({type:"GET",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Attachments("+e.id+")"),dataType:"json"})},update:function(e,o){var a=this.transformBusinessObjectData(e);return this.asyncReq({type:"PUT",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Attachments("+o.id+")"),data:JSON.stringify(a),dataType:"json"})},"delete":function(e){return this.asyncReq({type:"DELETE",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Attachments("+e.id+")")})},getInit:function(){var e=$.Deferred();return $.when(this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Attachments/createBO")})).done(function(t){delete t.id,e.resolve(t)}).fail(function(t){e.reject(t)}),e.promise()},getInitBoNode:function(e,o){var a=this.transformBusinessObjectData(e),i={};return i._self=a,i.createBONodeParam={},i.createBONodeParam.nodePath=o,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Attachments/createBONode"),data:JSON.stringify(i),dataType:"json"})},transformBusinessObjectData:function(e){delete e["odata.metadata"];for(var t in e)if(e[t]instanceof Array)for(var o=0;e[t].length>o;o++)delete e[t][o]["odata.metadata"];return e},onPropertyChange:function(e,o,a){var i=this.transformBusinessObjectData(e),s={};return s._self=i,s.onBOChangeParam={},s.onBOChangeParam.path=o,s.onBOChangeParam.changeType=a,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Attachments/onBOChange"),data:JSON.stringify(s),dataType:"json"})},query:function(e){var o={};return e=e||{},["inlinecount","filter","select","orderby","top","skip","expand","search"].forEach(function(t){t in e&&(o["$"+t]=e[t])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Attachments"),data:o})},count:function(e){var o={};return e=e||{},null!=e.filter&&(o.$filter=e.filter),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Attachments/$count"),data:o})}}})}),define("sap.sbo.services.BaseService",["sap.core.klass","sap.core.ajax","sap.core.GuardedAjax","json!sap.sbo.services.service-config","sap.core.IClonable","sap.sbo.util.errorHelper"],function(){"use strict";var e=this.getNS(),t=e.sap,o={ES40001:0,ES40002:1},a=e.json.sap.sbo.services["service-config"];return t.core.ajax.settings=$.extend(t.core.ajax.settings,{serverForwardUrl:a.pooledUrl,enableServerForward:a.enablePooling,pendingTime:a.threshold}),t.core.klass.declare({Name:this.getModuleInfo().moduleName,Interfaces:[t.core.IClonable],Public:{init:function(){t.core.klass.declareMember(this,{__oAjax:this.autoDestroy(new t.core.GuardedAjax)});var e=this.constructor.prototype.constructor.__className.match(/^sap\.sbo\.services\.(\w+)Service$/);e&&this.constructor.prototype.get&&(this.get=function(e){return this.__oBoKeyElements=e,this.constructor.prototype.get.call(this,e)})},destroy:function(){},asyncReq:function(e,a){var i=$.Deferred(),s=this.__oAjax.ajax(e,a),n=this.__oBoKeyElements;this.__oBoKeyElements=null,s.done(function(e){i.resolve(e)}).fail(function(e,a,s){var r=t.sbo.util.errorHelper.xhr2Exception(a,s);if(r&&r.getCode()in o){if(this.__boName)if(o[r.getCode()])window.SboShell.raiseDataOwnershipRequestSentException();else{var l=[];for(var d in n)n.hasOwnProperty(d)&&l.push({keyName:d,keyValue:n[d]});window.SboShell.raiseDataOwnershipCheckFailedException({boNamespace:this.__boNamespace,boName:this.__boName,keyElements:l})}r.processed(),i.reject(null)}else i.reject(r),r?r.__bProcessed||"abort"===r.__msg||window.SboShell.raiseException(r):(0!==a.status||"abort"!==a.statusText)&&window.onerror({status:a.status,statusText:e||a.statusText},s,0)}.bind(this));var r=i.promise();return r.cancel=function(){s.cancel()},r},isDummy:function(){return window.location.href.indexOf("dummy=true")>=0},getMetadata:function(e,t){t=this.__boName?this.__boName:t,e=this.__boNamespace?this.__boNamespace:e;var o=$.Deferred();return $.when(this.asyncReq({type:"GET",contentType:"application/json",url:a.documentBase+"MetadataService@getBoMetadata?boName='"+t+"'&boNamespace='"+(e||"")+"'&$format=Json",dataType:"json"})).done(function(e){o.resolve(e)}).fail(function(e){o.reject(e)}),o.promise()},getPropertyMetadata:function(e,o,i,s){var n=$.Deferred();return o=this.__boName?this.__boName:o,e=this.__boNamespace?this.__boNamespace:e,$.when(this.asyncReq({type:"GET",contentType:"application/json",url:a.documentBase+"MetadataService@getBoPropertyMetadata?boName='"+o+"'&boNamespace='"+e+"'&boNodeTypeName='"+i+"'&property='"+s+"'&$format=Json",dataType:"json"})).done(function(e){n.resolve(e)}).fail(function(e,o){n.reject(t.sbo.util.errorHelper.xhr2Exception(o))}),n.promise()},clone:function(){return new this.constructor}},Protected:{},Static:{documentbase:a.documentBase}})}),define("sap.sbo.services.BinaryContentsService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{create:function(e){var o=this.transformBusinessObjectData(e);return(null==o.id||void 0==o.id)&&delete o.id,this.asyncReq({type:"POST",contentType:"application/json",url:escape(t.sbo.services.BaseService.documentbase+"BinaryContents"),dataType:"json",data:JSON.stringify(o)})},get:function(e){return this.asyncReq({type:"GET",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+escape("BinaryContents("+e.id+")"),dataType:"json"})},update:function(e,o){var a=this.transformBusinessObjectData(e);return this.asyncReq({type:"PUT",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+escape("BinaryContents("+o.id+")"),data:JSON.stringify(a),dataType:"json"})},"delete":function(e){return this.asyncReq({type:"DELETE",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+escape("BinaryContents("+e.id+")")})},getInit:function(){var e=$.Deferred();return $.when(this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:t.sbo.services.BaseService.documentbase+escape("BinaryContents/createBO")})).done(function(t){delete t.id,e.resolve(t)}).fail(function(t){e.reject(t)}),e.promise()},getInitBoNode:function(e,o){var a=this.transformBusinessObjectData(e),i={};return i._self=a,i.createBONodeParam={},i.createBONodeParam.nodePath=o,this.asyncReq({type:"POST",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+escape("BinaryContents/createBONode"),data:JSON.stringify(i),dataType:"json"})},transformBusinessObjectData:function(e){delete e["odata.metadata"];for(var t in e)if(e[t]instanceof Array)for(var o=0;e[t].length>o;o++)delete e[t][o]["odata.metadata"];return e},onPropertyChange:function(e,o,a){var i=this.transformBusinessObjectData(e),s={};return s._self=i,s.onBOChangeParam={},s.onBOChangeParam.path=o,s.onBOChangeParam.changeType=a,this.asyncReq({type:"POST",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+escape("BinaryContents/onBOChange"),data:JSON.stringify(s),dataType:"json"})},query:function(e){var o={};return e=e||{},["inlinecount","filter","select","orderby","top","skip","expand"].forEach(function(t){t in e&&(o["$"+t]=e[t])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+escape("BinaryContents"),data:o})},count:function(e){var o={};return e=e||{},null!=e.filter&&(o.$filter=e.filter),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+escape("BinaryContents/$count"),data:o})}}})}),define("sap.sbo.services.BusinessPartnerGroupsService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{__boName:"BusinessPartnerGroup",__boNamespace:"com.sap.sbo",create:function(e){var o=this.transformBusinessObjectData(e);return(null==o.code||void 0==o.code)&&delete o.code,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"BusinessPartnerGroups"),dataType:"json",data:JSON.stringify(o)})},get:function(e){return this.asyncReq({type:"GET",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"BusinessPartnerGroups("+e.code+")"),dataType:"json"})},update:function(e,o){var a=this.transformBusinessObjectData(e);return this.asyncReq({type:"PUT",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"BusinessPartnerGroups("+o.code+")"),data:JSON.stringify(a),dataType:"json"})},"delete":function(e){return this.asyncReq({type:"DELETE",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"BusinessPartnerGroups("+e.code+")")})},getInit:function(){var e=$.Deferred();return $.when(this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"BusinessPartnerGroups/createBO")})).done(function(t){delete t.code,e.resolve(t)}).fail(function(t){e.reject(t)}),e.promise()},getInitBoNode:function(e,o){var a=this.transformBusinessObjectData(e),i={};return i._self=a,i.createBONodeParam={},i.createBONodeParam.nodePath=o,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"BusinessPartnerGroups/createBONode"),data:JSON.stringify(i),dataType:"json"})},action_add:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"BusinessPartnerGroups("+e.code+")/add")})},action_update:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"BusinessPartnerGroups("+e.code+")/update")})},action_remove:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"BusinessPartnerGroups("+e.code+")/remove")})},transformBusinessObjectData:function(e){delete e["odata.metadata"];for(var t in e)if(e[t]instanceof Array)for(var o=0;e[t].length>o;o++)delete e[t][o]["odata.metadata"];return e},onPropertyChange:function(e,o,a){var i=this.transformBusinessObjectData(e),s={};return s._self=i,s.onBOChangeParam={},s.onBOChangeParam.path=o,s.onBOChangeParam.changeType=a,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"BusinessPartnerGroups/onBOChange"),data:JSON.stringify(s),dataType:"json"})},query:function(e){var o={};return e=e||{},["inlinecount","filter","select","orderby","top","skip","expand","search"].forEach(function(t){t in e&&(o["$"+t]=e[t])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"BusinessPartnerGroups"),data:o})},count:function(e){var o={};return e=e||{},null!=e.filter&&(o.$filter=e.filter),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"BusinessPartnerGroups/$count"),data:o})}}})}),define("sap.sbo.services.CampaignsService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{__boName:"Campaign",__boNamespace:"com.sap.sbo",create:function(e){var o=this.transformBusinessObjectData(e);return(null==o.campaignNumber||void 0==o.campaignNumber)&&delete o.campaignNumber,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Campaigns"),dataType:"json",data:JSON.stringify(o)})},get:function(e){return this.asyncReq({type:"GET",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Campaigns("+e.campaignNumber+")"),dataType:"json"})},update:function(e,o){var a=this.transformBusinessObjectData(e);return this.asyncReq({type:"PUT",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Campaigns("+o.campaignNumber+")"),data:JSON.stringify(a),dataType:"json"})},"delete":function(e){return this.asyncReq({type:"DELETE",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Campaigns("+e.campaignNumber+")")})},getInit:function(){var e=$.Deferred();return $.when(this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Campaigns/createBO")})).done(function(t){delete t.campaignNumber,e.resolve(t)}).fail(function(t){e.reject(t)}),e.promise()},getInitBoNode:function(e,o){var a=this.transformBusinessObjectData(e),i={};return i._self=a,i.createBONodeParam={},i.createBONodeParam.nodePath=o,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Campaigns/createBONode"),data:JSON.stringify(i),dataType:"json"})},action_cancel:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Campaigns("+e.campaignNumber+")/cancel")})},transformBusinessObjectData:function(e){delete e["odata.metadata"];for(var t in e)if(e[t]instanceof Array)for(var o=0;e[t].length>o;o++)delete e[t][o]["odata.metadata"];return e},onPropertyChange:function(e,o,a){var i=this.transformBusinessObjectData(e),s={};return s._self=i,s.onBOChangeParam={},s.onBOChangeParam.path=o,s.onBOChangeParam.changeType=a,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Campaigns/onBOChange"),data:JSON.stringify(s),dataType:"json"})},query:function(e){var o={};return e=e||{},["inlinecount","filter","select","orderby","top","skip","expand","search"].forEach(function(t){t in e&&(o["$"+t]=e[t])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Campaigns"),data:o})},count:function(e){var o={};return e=e||{},null!=e.filter&&(o.$filter=e.filter),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Campaigns/$count"),data:o})}}})}),define("sap.sbo.services.BusinessPartnersService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{__boName:"BusinessPartner",__boNamespace:"com.sap.sbo",create:function(e){var o=this.transformBusinessObjectData(e);return(null==o.cardCode||void 0==o.cardCode)&&delete o.cardCode,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"BusinessPartners"),dataType:"json",data:JSON.stringify(o)})},get:function(e){return this.asyncReq({type:"GET",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"BusinessPartners('"+e.cardCode+"')"),dataType:"json"})},update:function(e,o){var a=this.transformBusinessObjectData(e);return this.asyncReq({type:"PUT",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"BusinessPartners('"+o.cardCode+"')"),data:JSON.stringify(a),dataType:"json"})},"delete":function(e){return this.asyncReq({type:"DELETE",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"BusinessPartners('"+e.cardCode+"')")})},getInit:function(){var e=$.Deferred();return $.when(this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"BusinessPartners/createBO")})).done(function(t){delete t.cardCode,e.resolve(t)}).fail(function(t){e.reject(t)}),e.promise()},getInitBoNode:function(e,o){var a=this.transformBusinessObjectData(e),i={};return i._self=a,i.createBONodeParam={},i.createBONodeParam.nodePath=o,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"BusinessPartners/createBONode"),data:JSON.stringify(i),dataType:"json"})},action_updateFromXML:function(e,o){var a=o;return this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"BusinessPartners('"+e.cardCode+"')/updateFromXML"),data:JSON.stringify(a),dataType:"json"})},action_setMainContactPerson:function(e,o){var a=o;return this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"BusinessPartners('"+e.cardCode+"')/setMainContactPerson"),data:JSON.stringify(a),dataType:"json"})},action_detachContactPerson:function(e,o){var a=o;return this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"BusinessPartners('"+e.cardCode+"')/detachContactPerson"),data:JSON.stringify(a),dataType:"json"})},action_attachContactPerson:function(e,o){var a=o;return this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"BusinessPartners('"+e.cardCode+"')/attachContactPerson"),data:JSON.stringify(a),dataType:"json"})},transformBusinessObjectData:function(e){delete e["odata.metadata"];for(var t in e)if(e[t]instanceof Array)for(var o=0;e[t].length>o;o++)delete e[t][o]["odata.metadata"];return e},onPropertyChange:function(e,o,a){var i=this.transformBusinessObjectData(e),s={};return s._self=i,s.onBOChangeParam={},s.onBOChangeParam.path=o,s.onBOChangeParam.changeType=a,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"BusinessPartners/onBOChange"),data:JSON.stringify(s),dataType:"json"})},query:function(e){var o={};return e=e||{},e.orderby=e.orderby||"cardCode asc",["inlinecount","filter","select","orderby","top","skip","expand","search"].forEach(function(t){t in e&&(o["$"+t]=e[t])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"BusinessPartners"),data:o})},count:function(e){var o={};return e=e||{},null!=e.filter&&(o.$filter=e.filter),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"BusinessPartners/$count"),data:o})}}})}),define("sap.sbo.services.CompanySettingsService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{__boName:"CompanySetting",__boNamespace:"com.sap.sbo",create:function(e){var o=this.transformBusinessObjectData(e);return(null==o.id||void 0==o.id)&&delete o.id,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"CompanySettings"),dataType:"json",data:JSON.stringify(o)})},get:function(e){return this.asyncReq({type:"GET",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"CompanySettings("+e.id+")"),dataType:"json"})},update:function(e,o){var a=this.transformBusinessObjectData(e);return this.asyncReq({type:"PUT",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"CompanySettings("+o.id+")"),data:JSON.stringify(a),dataType:"json"})},"delete":function(e){return this.asyncReq({type:"DELETE",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"CompanySettings("+e.id+")")})},getInit:function(){var e=$.Deferred();return $.when(this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"CompanySettings/createBO")})).done(function(t){delete t.id,e.resolve(t)}).fail(function(t){e.reject(t)}),e.promise()},getInitBoNode:function(e,o){var a=this.transformBusinessObjectData(e),i={};return i._self=a,i.createBONodeParam={},i.createBONodeParam.nodePath=o,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"CompanySettings/createBONode"),data:JSON.stringify(i),dataType:"json"})},transformBusinessObjectData:function(e){delete e["odata.metadata"];for(var t in e)if(e[t]instanceof Array)for(var o=0;e[t].length>o;o++)delete e[t][o]["odata.metadata"];return e},onPropertyChange:function(e,o,a){var i=this.transformBusinessObjectData(e),s={};return s._self=i,s.onBOChangeParam={},s.onBOChangeParam.path=o,s.onBOChangeParam.changeType=a,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"CompanySettings/onBOChange"),data:JSON.stringify(s),dataType:"json"})},query:function(e){var o={};return e=e||{},["inlinecount","filter","select","orderby","top","skip","expand","search"].forEach(function(t){t in e&&(o["$"+t]=e[t])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"CompanySettings"),data:o})},count:function(e){var o={};return e=e||{},null!=e.filter&&(o.$filter=e.filter),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"CompanySettings/$count"),data:o})}}})}),define("sap.sbo.services.CurreniesService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{__boName:"Currency",__boNamespace:"com.sap.sbo",create:function(e){var o=this.transformBusinessObjectData(e);return(null==o.code||void 0==o.code)&&delete o.code,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Currenies"),dataType:"json",data:JSON.stringify(o)})},get:function(e){return this.asyncReq({type:"GET",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Currenies('"+e.code+"')"),dataType:"json"})},update:function(e,o){var a=this.transformBusinessObjectData(e);return this.asyncReq({type:"PUT",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Currenies('"+o.code+"')"),data:JSON.stringify(a),dataType:"json"})},"delete":function(e){return this.asyncReq({type:"DELETE",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Currenies('"+e.code+"')")})},getInit:function(){var e=$.Deferred();return $.when(this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Currenies/createBO")})).done(function(t){delete t.code,e.resolve(t)}).fail(function(t){e.reject(t)}),e.promise()},getInitBoNode:function(e,o){var a=this.transformBusinessObjectData(e),i={};return i._self=a,i.createBONodeParam={},i.createBONodeParam.nodePath=o,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Currenies/createBONode"),data:JSON.stringify(i),dataType:"json"})},action_add:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Currenies('"+e.code+"')/add")})},action_update:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Currenies('"+e.code+"')/update")})},action_remove:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Currenies('"+e.code+"')/remove")})},action_getCurrenciesList:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Currenies('"+e.code+"')/getCurrenciesList")})},transformBusinessObjectData:function(e){delete e["odata.metadata"];for(var t in e)if(e[t]instanceof Array)for(var o=0;e[t].length>o;o++)delete e[t][o]["odata.metadata"];return e},onPropertyChange:function(e,o,a){var i=this.transformBusinessObjectData(e),s={};return s._self=i,s.onBOChangeParam={},s.onBOChangeParam.path=o,s.onBOChangeParam.changeType=a,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Currenies/onBOChange"),data:JSON.stringify(s),dataType:"json"})},query:function(e){var o={};return e=e||{},["inlinecount","filter","select","orderby","top","skip","expand","search"].forEach(function(t){t in e&&(o["$"+t]=e[t])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Currenies"),data:o})},count:function(e){var o={};return e=e||{},null!=e.filter&&(o.$filter=e.filter),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Currenies/$count"),data:o})}}})}),define("sap.sbo.services.ContactPersonsService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{__boName:"ContactPerson",__boNamespace:"com.sap.sbo",create:function(e){var o=this.transformBusinessObjectData(e);return(null==o.contactPersonID||void 0==o.contactPersonID)&&delete o.contactPersonID,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"ContactPersons"),dataType:"json",data:JSON.stringify(o)})},get:function(e){return this.asyncReq({type:"GET",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"ContactPersons("+e.contactPersonID+")"),dataType:"json"})},update:function(e,o){var a=this.transformBusinessObjectData(e);return this.asyncReq({type:"PUT",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"ContactPersons("+o.contactPersonID+")"),data:JSON.stringify(a),dataType:"json"})
},"delete":function(e){return this.asyncReq({type:"DELETE",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"ContactPersons("+e.contactPersonID+")")})},getInit:function(){var e=$.Deferred();return $.when(this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"ContactPersons/createBO")})).done(function(t){delete t.contactPersonID,e.resolve(t)}).fail(function(t){e.reject(t)}),e.promise()},getInitBoNode:function(e,o){var a=this.transformBusinessObjectData(e),i={};return i._self=a,i.createBONodeParam={},i.createBONodeParam.nodePath=o,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"ContactPersons/createBONode"),data:JSON.stringify(i),dataType:"json"})},transformBusinessObjectData:function(e){delete e["odata.metadata"];for(var t in e)if(e[t]instanceof Array)for(var o=0;e[t].length>o;o++)delete e[t][o]["odata.metadata"];return e},onPropertyChange:function(e,o,a){var i=this.transformBusinessObjectData(e),s={};return s._self=i,s.onBOChangeParam={},s.onBOChangeParam.path=o,s.onBOChangeParam.changeType=a,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"ContactPersons/onBOChange"),data:JSON.stringify(s),dataType:"json"})},query:function(e){var o={};return e=e||{},["inlinecount","filter","select","orderby","top","skip","expand","search"].forEach(function(t){t in e&&(o["$"+t]=e[t])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"ContactPersons"),data:o})},count:function(e){var o={};return e=e||{},null!=e.filter&&(o.$filter=e.filter),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"ContactPersons/$count"),data:o})}}})}),define("sap.sbo.services.DashboardsService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{create:function(e){var o=this.transformBusinessObjectData(e);return(null==o.id||void 0==o.id)&&delete o.id,this.asyncReq({type:"POST",contentType:"application/json",url:escape(t.sbo.services.BaseService.documentbase+"Dashboards"),dataType:"json",data:JSON.stringify(o)})},get:function(e){return this.asyncReq({type:"GET",contentType:"application/json",url:escape(t.sbo.services.BaseService.documentbase+"Dashboards("+e.id+")"),dataType:"json"})},update:function(e,o){var a=this.transformBusinessObjectData(e);return this.asyncReq({type:"PUT",contentType:"application/json",url:escape(t.sbo.services.BaseService.documentbase+"Dashboards("+o.id+")"),data:JSON.stringify(a),dataType:"json"})},"delete":function(e){return this.asyncReq({type:"DELETE",contentType:"application/json",dataType:"json",url:escape(t.sbo.services.BaseService.documentbase+"Dashboards("+e.id+")")})},getInit:function(){var e=$.Deferred();return $.when(this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:escape(t.sbo.services.BaseService.documentbase+"Dashboards/createBO")})).done(function(t){delete t.id,e.resolve(t)}).fail(function(t){e.reject(t)}),e.promise()},getInitBoNode:function(e,o){var a=this.transformBusinessObjectData(e),i={};return i._self=a,i.createBONodeParam={},i.createBONodeParam.nodePath=o,this.asyncReq({type:"POST",contentType:"application/json",url:escape(t.sbo.services.BaseService.documentbase+"Dashboards/createBONode"),data:JSON.stringify(i),dataType:"json"})},transformBusinessObjectData:function(e){delete e["odata.metadata"];for(var t in e)if(e[t]instanceof Array)for(var o=0;e[t].length>o;o++)delete e[t][o]["odata.metadata"];return e},onPropertyChange:function(e,o,a){var i=this.transformBusinessObjectData(e),s={};return s._self=i,s.onBOChangeParam={},s.onBOChangeParam.path=o,s.onBOChangeParam.changeType=a,this.asyncReq({type:"POST",contentType:"application/json",url:escape(t.sbo.services.BaseService.documentbase+"Dashboards/onBOChange"),data:JSON.stringify(s),dataType:"json"})},query:function(e){var o={};return e=e||{},["inlinecount","filter","select","orderby","top","skip","expand","searchTerm"].forEach(function(t){t in e&&(o["$"+t]=e[t])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:escape(t.sbo.services.BaseService.documentbase+"Dashboards"),data:o})},count:function(e){var o={};return e=e||{},null!=e.filter&&(o.$filter=e.filter),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:escape(t.sbo.services.BaseService.documentbase+"Dashboards/$count"),data:o})}}})}),define("sap.sbo.services.DecimalSettingsService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{__boName:"DecimalSetting",__boNamespace:"com.sap.sbo",create:function(e){var o=this.transformBusinessObjectData(e);return(null==o.id||void 0==o.id)&&delete o.id,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"DecimalSettings"),dataType:"json",data:JSON.stringify(o)})},get:function(e){return this.asyncReq({type:"GET",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"DecimalSettings("+e.id+")"),dataType:"json"})},update:function(e,o){var a=this.transformBusinessObjectData(e);return this.asyncReq({type:"PUT",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"DecimalSettings("+o.id+")"),data:JSON.stringify(a),dataType:"json"})},"delete":function(e){return this.asyncReq({type:"DELETE",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"DecimalSettings("+e.id+")")})},getInit:function(){var e=$.Deferred();return $.when(this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"DecimalSettings/createBO")})).done(function(t){delete t.id,e.resolve(t)}).fail(function(t){e.reject(t)}),e.promise()},getInitBoNode:function(e,o){var a=this.transformBusinessObjectData(e),i={};return i._self=a,i.createBONodeParam={},i.createBONodeParam.nodePath=o,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"DecimalSettings/createBONode"),data:JSON.stringify(i),dataType:"json"})},transformBusinessObjectData:function(e){delete e["odata.metadata"];for(var t in e)if(e[t]instanceof Array)for(var o=0;e[t].length>o;o++)delete e[t][o]["odata.metadata"];return e},onPropertyChange:function(e,o,a){var i=this.transformBusinessObjectData(e),s={};return s._self=i,s.onBOChangeParam={},s.onBOChangeParam.path=o,s.onBOChangeParam.changeType=a,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"DecimalSettings/onBOChange"),data:JSON.stringify(s),dataType:"json"})},query:function(e){var o={};return e=e||{},["inlinecount","filter","select","orderby","top","skip","expand","search"].forEach(function(t){t in e&&(o["$"+t]=e[t])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"DecimalSettings"),data:o})},count:function(e){var o={};return e=e||{},null!=e.filter&&(o.$filter=e.filter),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"DecimalSettings/$count"),data:o})}}})}),define("sap.sbo.services.EmployeesInfosService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{__boName:"EmployeesInfo",__boNamespace:"com.sap.sbo",create:function(e){var o=this.transformBusinessObjectData(e);return(null==o.employeeID||void 0==o.employeeID)&&delete o.employeeID,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"EmployeesInfos"),dataType:"json",data:JSON.stringify(o)})},get:function(e){return this.asyncReq({type:"GET",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"EmployeesInfos("+e.employeeID+")"),dataType:"json"})},update:function(e,o){var a=this.transformBusinessObjectData(e);return this.asyncReq({type:"PUT",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"EmployeesInfos("+o.employeeID+")"),data:JSON.stringify(a),dataType:"json"})},"delete":function(e){return this.asyncReq({type:"DELETE",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"EmployeesInfos("+e.employeeID+")")})},getInit:function(){var e=$.Deferred();return $.when(this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"EmployeesInfos/createBO")})).done(function(t){delete t.employeeID,e.resolve(t)}).fail(function(t){e.reject(t)}),e.promise()},getInitBoNode:function(e,o){var a=this.transformBusinessObjectData(e),i={};return i._self=a,i.createBONodeParam={},i.createBONodeParam.nodePath=o,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"EmployeesInfos/createBONode"),data:JSON.stringify(i),dataType:"json"})},action_add:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"EmployeesInfos("+e.employeeID+")/add")})},action_update:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"EmployeesInfos("+e.employeeID+")/update")})},action_remove:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"EmployeesInfos("+e.employeeID+")/remove")})},action_close:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"EmployeesInfos("+e.employeeID+")/close")})},action_cancel:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"EmployeesInfos("+e.employeeID+")/cancel")})},transformBusinessObjectData:function(e){delete e["odata.metadata"];for(var t in e)if(e[t]instanceof Array)for(var o=0;e[t].length>o;o++)delete e[t][o]["odata.metadata"];return e},onPropertyChange:function(e,o,a){var i=this.transformBusinessObjectData(e),s={};return s._self=i,s.onBOChangeParam={},s.onBOChangeParam.path=o,s.onBOChangeParam.changeType=a,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"EmployeesInfos/onBOChange"),data:JSON.stringify(s),dataType:"json"})},query:function(e){var o={};return e=e||{},["inlinecount","filter","select","orderby","top","skip","expand","search"].forEach(function(t){t in e&&(o["$"+t]=e[t])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"EmployeesInfos"),data:o})},count:function(e){var o={};return e=e||{},null!=e.filter&&(o.$filter=e.filter),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"EmployeesInfos/$count"),data:o})}}})}),define("sap.sbo.services.IndustriesService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{__boName:"Industry",__boNamespace:"com.sap.sbo",create:function(e){var o=this.transformBusinessObjectData(e);return(null==o.industryCode||void 0==o.industryCode)&&delete o.industryCode,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Industries"),dataType:"json",data:JSON.stringify(o)})},get:function(e){return this.asyncReq({type:"GET",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Industries("+e.industryCode+")"),dataType:"json"})},update:function(e,o){var a=this.transformBusinessObjectData(e);return this.asyncReq({type:"PUT",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Industries("+o.industryCode+")"),data:JSON.stringify(a),dataType:"json"})},"delete":function(e){return this.asyncReq({type:"DELETE",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Industries("+e.industryCode+")")})},getInit:function(){var e=$.Deferred();return $.when(this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Industries/createBO")})).done(function(t){delete t.industryCode,e.resolve(t)}).fail(function(t){e.reject(t)}),e.promise()},getInitBoNode:function(e,o){var a=this.transformBusinessObjectData(e),i={};return i._self=a,i.createBONodeParam={},i.createBONodeParam.nodePath=o,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Industries/createBONode"),data:JSON.stringify(i),dataType:"json"})},action_add:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Industries("+e.industryCode+")/add")})},action_update:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Industries("+e.industryCode+")/update")})},action_remove:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Industries("+e.industryCode+")/remove")})},action_getIndustriesList:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Industries("+e.industryCode+")/getIndustriesList")})},transformBusinessObjectData:function(e){delete e["odata.metadata"];for(var t in e)if(e[t]instanceof Array)for(var o=0;e[t].length>o;o++)delete e[t][o]["odata.metadata"];return e},onPropertyChange:function(e,o,a){var i=this.transformBusinessObjectData(e),s={};return s._self=i,s.onBOChangeParam={},s.onBOChangeParam.path=o,s.onBOChangeParam.changeType=a,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Industries/onBOChange"),data:JSON.stringify(s),dataType:"json"})},query:function(e){var o={};return e=e||{},["inlinecount","filter","select","orderby","top","skip","expand","search"].forEach(function(t){t in e&&(o["$"+t]=e[t])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Industries"),data:o})},count:function(e){var o={};return e=e||{},null!=e.filter&&(o.$filter=e.filter),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Industries/$count"),data:o})}}})}),define("sap.sbo.services.ItemGroupsService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{__boName:"ItemGroup",__boNamespace:"com.sap.sbo",create:function(e){var o=this.transformBusinessObjectData(e);return(null==o.number||void 0==o.number)&&delete o.number,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"ItemGroups"),dataType:"json",data:JSON.stringify(o)})},get:function(e){return this.asyncReq({type:"GET",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"ItemGroups("+e.number+")"),dataType:"json"})},update:function(e,o){var a=this.transformBusinessObjectData(e);return this.asyncReq({type:"PUT",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"ItemGroups("+o.number+")"),data:JSON.stringify(a),dataType:"json"})},"delete":function(e){return this.asyncReq({type:"DELETE",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"ItemGroups("+e.number+")")})},getInit:function(){var e=$.Deferred();return $.when(this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"ItemGroups/createBO")})).done(function(t){delete t.number,e.resolve(t)}).fail(function(t){e.reject(t)}),e.promise()},getInitBoNode:function(e,o){var a=this.transformBusinessObjectData(e),i={};return i._self=a,i.createBONodeParam={},i.createBONodeParam.nodePath=o,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"ItemGroups/createBONode"),data:JSON.stringify(i),dataType:"json"})},action_add:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"ItemGroups("+e.number+")/add")})},action_update:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"ItemGroups("+e.number+")/update")})},action_delete:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"ItemGroups("+e.number+")/delete")})},transformBusinessObjectData:function(e){delete e["odata.metadata"];for(var t in e)if(e[t]instanceof Array)for(var o=0;e[t].length>o;o++)delete e[t][o]["odata.metadata"];return e},onPropertyChange:function(e,o,a){var i=this.transformBusinessObjectData(e),s={};return s._self=i,s.onBOChangeParam={},s.onBOChangeParam.path=o,s.onBOChangeParam.changeType=a,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"ItemGroups/onBOChange"),data:JSON.stringify(s),dataType:"json"})},query:function(e){var o={};return e=e||{},["inlinecount","filter","select","orderby","top","skip","expand","search"].forEach(function(t){t in e&&(o["$"+t]=e[t])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"ItemGroups"),data:o})},count:function(e){var o={};return e=e||{},null!=e.filter&&(o.$filter=e.filter),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"ItemGroups/$count"),data:o})}}})}),define("sap.sbo.services.FeedService",["sap.sbo.services.BaseService","sap.core.ArrayListSource","sap.core.klass","sap.sbo.compoundservices.StatusService","sap.sbo.services.TimelineService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:"sap.sbo.services.FeedService",Base:t.sbo.services.BaseService,Public:{init:function(){t.sbo.services.BaseService.prototype.init.call(this),this.declareMember({__statusService:this.autoDestroy(new t.sbo.compoundservices.StatusService)})},destroy:function(){},getThingID:function(e){return e&&e.boNamespace&&e.boName&&e.keyElements?this.asyncReq({url:t.sbo.services.BaseService.documentbase+"social/thing/getIdByName",type:"POST",contentType:"application/json",dataType:"JSON",data:JSON.stringify(e)}):void 0},loadPagingHomeTimeline:function(){return new t.sbo.services.TimelineService},loadPagingTimeline:function(e){return null!=e?new t.sbo.services.TimelineService(t.sbo.services.BaseService.documentbase+"social/statuses/timeline.json",{thingID:e}):this.loadPagingHomeTimeline()},getFeedByID:function(e){return this.__statusService.getFeed(e)},loadHotFeedCount:function(e,o){return null!=e?this.asyncReq({url:t.sbo.services.BaseService.documentbase+"social/statuses/hot_count?thingID="+e+"&startTime="+o,type:"GET",contentType:"application/json",dataType:"JSON"}):this.asyncReq({url:t.sbo.services.BaseService.documentbase+"social/statuses/home_hot_count?startTime="+o,type:"GET",contentType:"application/json",dataType:"JSON"})},loadUnreadFeeds:function(e,o){o=o||10;var a="social/statuses/"+(null==e?"home_timeline?":"timeline?thingID="+e+"&");return this.asyncReq({url:t.sbo.services.BaseService.documentbase+a+"count="+o,type:"GET",contentType:"application/json",dataType:"JSON"})},loadHomeFeed:function(e,t){return this.__statusService.homeFeeds(e,t)},getAtList:function(e){return e?this.asyncReq({url:t.sbo.services.BaseService.documentbase+"social/thing/list.json?startsWith="+e,type:"GET",contentType:"application/json",dataType:"JSON"}):void 0},follow:function(e,o){return this.isDummy()?!0:this.asyncReq({url:t.sbo.services.BaseService.documentbase+"social/network/"+(o?"un":"")+"follow.json?thingID="+e,type:"POST",contentType:"application/json",dataType:"JSON"})},unfollow:function(e,o){return this.isDummy()?!0:this.asyncReq({url:t.sbo.services.BaseService.documentbase+"social/network/unfollow.json?followerID="+e+"&thingID="+o,type:"POST",contentType:"application/json",dataType:"JSON"})},relate:function(e,o,a){if(this.isDummy())return!0;var i=t.sbo.services.BaseService.documentbase+"social/network/relate.json?followerID="+e;return null!=a&&a.length>0&&(i+="&reason="+a),this.asyncReq({url:i,type:"POST",contentType:"application/json",dataType:"JSON",data:JSON.stringify(o)})},read:function(e){return this.asyncReq({url:t.sbo.services.BaseService.documentbase+"social/statuses/read?statusID="+e,type:"POST",contentType:"application/json",dataType:"JSON"})},setFeedStatus:function(e,o){return this.asyncReq({url:t.sbo.services.BaseService.documentbase+"social/statuses/setImportant?statusID="+e+"&important="+o,type:"POST",contentType:"application/json",dataType:"JSON"})},unrelate:function(e,o){return this.isDummy()?!0:this.asyncReq({url:t.sbo.services.BaseService.documentbase+"social/network/unrelate.json?followerID="+e,type:"POST",contentType:"application/json",dataType:"JSON",data:JSON.stringify(o)})},loadNetworkGroups:function(e){return this.isDummy()?{groups:[{type:"97",displayType:"SalesOpportunities",count:165,items:[{id:8057,name:"SalesOpportunities_158",key:"OpprId",value:"158"},{id:8062,name:"SalesOpportunities_1",key:"OpprId",value:"1"}]},{type:"1000000001",displayType:"NewActivity",count:33,items:[{id:8233,name:"NewActivity_3",key:"Id",value:"3"},{id:8234,name:"NewActivity_4",key:"Id",value:"4"},{id:8235,name:"NewActivity_5",key:"Id",value:"5"},{id:8236,name:"NewActivity_9",key:"Id",value:"9"},{id:8237,name:"NewActivity_10",key:"Id",value:"10"},{id:8238,name:"NewActivity_11",key:"Id",value:"11"},{id:8239,name:"NewActivity_12",key:"Id",value:"12"},{id:8240,name:"NewActivity_13",key:"Id",value:"13"},{id:8241,name:"NewActivity_14",key:"Id",value:"14"},{id:8242,name:"NewActivity_15",key:"Id",value:"15"},{id:8243,name:"NewActivity_16",key:"Id",value:"16"},{id:8244,name:"NewActivity_17",key:"Id",value:"17"},{id:8245,name:"NewActivity_18",key:"Id",value:"18"},{id:8246,name:"NewActivity_19",key:"Id",value:"19"},{id:8247,name:"NewActivity_20",key:"Id",value:"20"},{id:8248,name:"NewActivity_21",key:"Id",value:"21"},{id:8249,name:"NewActivity_22",key:"Id",value:"22"},{id:8250,name:"NewActivity_23",key:"Id",value:"23"},{id:8251,name:"NewActivity_24",key:"Id",value:"24"},{id:8252,name:"NewActivity_25",key:"Id",value:"25"},{id:8253,name:"NewActivity_26",key:"Id",value:"26"},{id:8254,name:"NewActivity_27",key:"Id",value:"27"},{id:8255,name:"NewActivity_28",key:"Id",value:"28"},{id:8256,name:"NewActivity_29",key:"Id",value:"29"},{id:8257,name:"NewActivity_30",key:"Id",value:"30"},{id:8258,name:"NewActivity_31",key:"Id",value:"31"},{id:8259,name:"NewActivity_32",key:"Id",value:"32"},{id:8261,name:"NewActivity_34",key:"Id",value:"34"},{id:8264,name:"NewActivity_36",key:"Id",value:"36"},{id:8265,name:"NewActivity_37",key:"Id",value:"37"},{id:8266,name:"NewActivity_38",key:"Id",value:"38"},{id:8585,name:"NewActivity_40",key:"Id",value:"40"},{id:8589,name:"NewActivity_41",key:"Id",value:"41"}]},{type:"User",displayType:"Colleague",count:1,items:[{id:8585,userCode:"I036398",key:"Id",value:"40"}]}]}:this.asyncReq({url:t.sbo.services.BaseService.documentbase+"social/network/groups.json"+(e?"?thingID="+e:""),type:"GET",contentType:"application/json",dataType:"JSON"})},loadFollowers:function(e,o){if(this.isDummy())return[{userCode:"I036398"},{userCode:"I069812"},{userCode:"I069999"},{userCode:"I052775"},{userCode:"I064027"},{userCode:"I053484"},{userCode:"I053543"},{userCode:"I035706"},{userCode:"I061200"},{userCode:"I070576"},{userCode:"MANAGER"}];var a="social/network/followers.json"+(e?"?thingID="+e:"");return 1==o&&(a+="&isAll=1"),this.asyncReq({url:t.sbo.services.BaseService.documentbase+a,type:"GET",contentType:"application/json",dataType:"JSON"})},loadFollowees:function(e,o){var a="social/network/followees.json"+(e?"?thingID="+e:"");return 1==o&&(a+="&isAll=1"),this.asyncReq({url:t.sbo.services.BaseService.documentbase+a,type:"GET",contentType:"application/json",dataType:"JSON"})},loadRelated:function(e,o){var a="social/network/relateds.json"+(e?"?thingID="+e:"");return 1==o&&(a+="&isAll=1"),this.asyncReq({url:t.sbo.services.BaseService.documentbase+a,type:"GET",contentType:"application/json",dataType:"JSON"})},loadThingStatus:function(e){return this.isDummy()?{followed:!1}:this.asyncReq({url:t.sbo.services.BaseService.documentbase+"social/thing/status.json?thingID="+e,type:"GET",contentType:"application/json",dataType:"JSON"})},getThingEmail:function(e){return this.isDummy()?{email:"manager_Post_491f7a128@cnpvgvb1od011.pvgl.sap.corp"}:this.asyncReq({url:t.sbo.services.BaseService.documentbase+"social/thing/email.json"+(e?"?thingID="+e:""),type:"GET",contentType:"application/json",dataType:"JSON"})},loadTimelineUnreadCount:function(){},loadReferencedObject:function(){return this.asyncReq({url:t.sbo.services.BaseService.documentbase+"social/statuses/create.json?content="+encodeURIComponent(content),type:"POST",contentType:"application/json",dataType:"JSON"})},getUnreadCount:function(e){return this.isDummy()?2:this.asyncReq({url:t.sbo.services.BaseService.documentbase+"social/statuses/"+(null==e?"home_":"")+"unread_count.json"+(null!=e?"?thingID="+e:""),type:"GET",contentType:"application/json",dataType:"JSON"})},postStatus:function(e,o,a){var i=t.sbo.services.BaseService.documentbase+"social/statuses/create.json?content="+encodeURIComponent(o)+(e?"&thingID="+e:"");return a===!0&&(i+="&follow=true"),this.asyncReq({url:i,type:"POST",contentType:"application/json",dataType:"JSON"})},postFeed:function(e,o,a){var i=t.sbo.services.BaseService.documentbase+"social/statuses/create?content="+encodeURIComponent(e);if(null!=a&&(i+="&thingID="+a),null!=o&&o.length>0)for(var s=0;o.length>s;s++)i+="&files="+o[s];return this.asyncReq({url:i,type:"POST",cache:!1,processData:!1,contentType:!1,beforeSend:function(e){e.setRequestHeader("Accept","application/json")}})},postComment:function(e,t){return this.__statusService.createComment(t,e)},likeStatus:function(e,o){return this.asyncReq({url:t.sbo.services.BaseService.documentbase+"social/statuses/like.json?liked="+(e?!0:!1)+"&statusID="+o,type:"POST",contentType:"application/json",dataType:"JSON"})},queryThingsStartWidth:function(e,o){return void 0===e||null===e||""===e?[]:((void 0===o||null===o)&&(o=10),e=encodeURIComponent(e),this.asyncReq({url:t.sbo.services.BaseService.documentbase+"social/thing/list?startsWith="+e+"&maxSize="+o,type:"GET",contentType:"application/json",dataType:"JSON"}))},queryDetailThingsStartWidth:function(e,o){return void 0===e||null===e||""===e?[]:((void 0===o||null===o)&&(o=10),e=encodeURIComponent(e),this.asyncReq({url:t.sbo.services.BaseService.documentbase+"social/thing/listDetail?startsWith="+e+"&maxSize="+o,type:"GET",contentType:"application/json",dataType:"JSON"}))}},Protected:{},Static:{thingID:null}})}),define("sap.sbo.services.DunningTermsService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{__boName:"DunningTerm",__boNamespace:"com.sap.sbo",create:function(e){var o=this.transformBusinessObjectData(e);return(null==o.code||void 0==o.code)&&delete o.code,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"DunningTerms"),dataType:"json",data:JSON.stringify(o)})},get:function(e){return this.asyncReq({type:"GET",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"DunningTerms('"+e.code+"')"),dataType:"json"})},update:function(e,o){var a=this.transformBusinessObjectData(e);return this.asyncReq({type:"PUT",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"DunningTerms('"+o.code+"')"),data:JSON.stringify(a),dataType:"json"})},"delete":function(e){return this.asyncReq({type:"DELETE",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"DunningTerms('"+e.code+"')")})},getInit:function(){var e=$.Deferred();return $.when(this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"DunningTerms/createBO")})).done(function(t){delete t.code,e.resolve(t)}).fail(function(t){e.reject(t)}),e.promise()},getInitBoNode:function(e,o){var a=this.transformBusinessObjectData(e),i={};return i._self=a,i.createBONodeParam={},i.createBONodeParam.nodePath=o,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"DunningTerms/createBONode"),data:JSON.stringify(i),dataType:"json"})},action_addDunningTerm:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"DunningTerms('"+e.code+"')/addDunningTerm")})},action_updateDunningTerm:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"DunningTerms('"+e.code+"')/updateDunningTerm")})},action_deleteDunningTerm:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"DunningTerms('"+e.code+"')/deleteDunningTerm")})},action_getDunningTermList:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"DunningTerms('"+e.code+"')/getDunningTermList")})},transformBusinessObjectData:function(e){delete e["odata.metadata"];for(var t in e)if(e[t]instanceof Array)for(var o=0;e[t].length>o;o++)delete e[t][o]["odata.metadata"];return e},onPropertyChange:function(e,o,a){var i=this.transformBusinessObjectData(e),s={};return s._self=i,s.onBOChangeParam={},s.onBOChangeParam.path=o,s.onBOChangeParam.changeType=a,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"DunningTerms/onBOChange"),data:JSON.stringify(s),dataType:"json"})},query:function(e){var o={};return e=e||{},["inlinecount","filter","select","orderby","top","skip","expand","search"].forEach(function(t){t in e&&(o["$"+t]=e[t])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"DunningTerms"),data:o})},count:function(e){var o={};return e=e||{},null!=e.filter&&(o.$filter=e.filter),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"DunningTerms/$count"),data:o})
}}})}),define("sap.sbo.services.ItemsService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{__boName:"Item",__boNamespace:"com.sap.sbo",create:function(e){var o=this.transformBusinessObjectData(e);return(null==o.itemCode||void 0==o.itemCode)&&delete o.itemCode,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Items"),dataType:"json",data:JSON.stringify(o)})},get:function(e){return this.asyncReq({type:"GET",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Items('"+e.itemCode+"')"),dataType:"json"})},update:function(e,o){var a=this.transformBusinessObjectData(e);return this.asyncReq({type:"PUT",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Items('"+o.itemCode+"')"),data:JSON.stringify(a),dataType:"json"})},"delete":function(e){return this.asyncReq({type:"DELETE",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Items('"+e.itemCode+"')")})},getInit:function(){var e=$.Deferred();return $.when(this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Items/createBO")})).done(function(t){delete t.itemCode,e.resolve(t)}).fail(function(t){e.reject(t)}),e.promise()},getInitBoNode:function(e,o){var a=this.transformBusinessObjectData(e),i={};return i._self=a,i.createBONodeParam={},i.createBONodeParam.nodePath=o,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Items/createBONode"),data:JSON.stringify(i),dataType:"json"})},action_cancel:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Items('"+e.itemCode+"')/cancel")})},transformBusinessObjectData:function(e){delete e["odata.metadata"];for(var t in e)if(e[t]instanceof Array)for(var o=0;e[t].length>o;o++)delete e[t][o]["odata.metadata"];return e},onPropertyChange:function(e,o,a){var i=this.transformBusinessObjectData(e),s={};return s._self=i,s.onBOChangeParam={},s.onBOChangeParam.path=o,s.onBOChangeParam.changeType=a,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Items/onBOChange"),data:JSON.stringify(s),dataType:"json"})},query:function(e){var o={};return e=e||{},e.orderby=e.orderby||"itemCode asc",["inlinecount","filter","select","orderby","top","skip","expand","search"].forEach(function(t){t in e&&(o["$"+t]=e[t])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Items"),data:o})},count:function(e){var o={};return e=e||{},null!=e.filter&&(o.$filter=e.filter),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Items/$count"),data:o})}}})}),define("sap.sbo.services.LeadsService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{__boName:"Leads",__boNamespace:"com.sap.sbo",create:function(e){var o=this.transformBusinessObjectData(e);return(null==o.id||void 0==o.id)&&delete o.id,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Leads"),dataType:"json",data:JSON.stringify(o)})},get:function(e){return this.asyncReq({type:"GET",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Leads("+e.id+")"),dataType:"json"})},update:function(e,o){var a=this.transformBusinessObjectData(e);return this.asyncReq({type:"PUT",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Leads("+o.id+")"),data:JSON.stringify(a),dataType:"json"})},"delete":function(e){return this.asyncReq({type:"DELETE",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Leads("+e.id+")")})},getInit:function(){var e=$.Deferred();return $.when(this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Leads/createBO")})).done(function(t){delete t.id,e.resolve(t)}).fail(function(t){e.reject(t)}),e.promise()},getInitBoNode:function(e,o){var a=this.transformBusinessObjectData(e),i={};return i._self=a,i.createBONodeParam={},i.createBONodeParam.nodePath=o,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Leads/createBONode"),data:JSON.stringify(i),dataType:"json"})},action_copyToQuotation:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Leads("+e.id+")/copyToQuotation")})},action_copyToOrder:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Leads("+e.id+")/copyToOrder")})},action_copyToOpportunity:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Leads("+e.id+")/copyToOpportunity")})},action_setMainContactPerson:function(e,o){var a=o;return this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Leads("+e.id+")/setMainContactPerson"),data:JSON.stringify(a),dataType:"json"})},action_detachContactPerson:function(e,o){var a=o;return this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Leads("+e.id+")/detachContactPerson"),data:JSON.stringify(a),dataType:"json"})},action_attachContactPerson:function(e,o){var a=o;return this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Leads("+e.id+")/attachContactPerson"),data:JSON.stringify(a),dataType:"json"})},transformBusinessObjectData:function(e){delete e["odata.metadata"];for(var t in e)if(e[t]instanceof Array)for(var o=0;e[t].length>o;o++)delete e[t][o]["odata.metadata"];return e},onPropertyChange:function(e,o,a){var i=this.transformBusinessObjectData(e),s={};return s._self=i,s.onBOChangeParam={},s.onBOChangeParam.path=o,s.onBOChangeParam.changeType=a,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Leads/onBOChange"),data:JSON.stringify(s),dataType:"json"})},query:function(e){var o={};return e=e||{},["inlinecount","filter","select","orderby","top","skip","expand","search"].forEach(function(t){t in e&&(o["$"+t]=e[t])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Leads"),data:o})},count:function(e){var o={};return e=e||{},null!=e.filter&&(o.$filter=e.filter),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Leads/$count"),data:o})}}})}),define("sap.sbo.services.ManufacturersService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{__boName:"Manufacturers",__boNamespace:"com.sap.sbo",create:function(e){var o=this.transformBusinessObjectData(e);return(null==o.code||void 0==o.code)&&delete o.code,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Manufacturers"),dataType:"json",data:JSON.stringify(o)})},get:function(e){return this.asyncReq({type:"GET",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Manufacturers("+e.code+")"),dataType:"json"})},update:function(e,o){var a=this.transformBusinessObjectData(e);return this.asyncReq({type:"PUT",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Manufacturers("+o.code+")"),data:JSON.stringify(a),dataType:"json"})},"delete":function(e){return this.asyncReq({type:"DELETE",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Manufacturers("+e.code+")")})},getInit:function(){var e=$.Deferred();return $.when(this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Manufacturers/createBO")})).done(function(t){delete t.code,e.resolve(t)}).fail(function(t){e.reject(t)}),e.promise()},getInitBoNode:function(e,o){var a=this.transformBusinessObjectData(e),i={};return i._self=a,i.createBONodeParam={},i.createBONodeParam.nodePath=o,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Manufacturers/createBONode"),data:JSON.stringify(i),dataType:"json"})},action_add:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Manufacturers("+e.code+")/add")})},action_update:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Manufacturers("+e.code+")/update")})},action_remove:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Manufacturers("+e.code+")/remove")})},transformBusinessObjectData:function(e){delete e["odata.metadata"];for(var t in e)if(e[t]instanceof Array)for(var o=0;e[t].length>o;o++)delete e[t][o]["odata.metadata"];return e},onPropertyChange:function(e,o,a){var i=this.transformBusinessObjectData(e),s={};return s._self=i,s.onBOChangeParam={},s.onBOChangeParam.path=o,s.onBOChangeParam.changeType=a,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Manufacturers/onBOChange"),data:JSON.stringify(s),dataType:"json"})},query:function(e){var o={};return e=e||{},["inlinecount","filter","select","orderby","top","skip","expand","search"].forEach(function(t){t in e&&(o["$"+t]=e[t])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Manufacturers"),data:o})},count:function(e){var o={};return e=e||{},null!=e.filter&&(o.$filter=e.filter),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Manufacturers/$count"),data:o})}}})}),define("sap.sbo.services.NotebooksService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{create:function(e){var o=this.transformBusinessObjectData(e);return(null==o.id||void 0==o.id)&&delete o.id,this.asyncReq({type:"POST",contentType:"application/json",url:escape(t.sbo.services.BaseService.documentbase+"Notebooks"),dataType:"json",data:JSON.stringify(o)})},get:function(e){return this.asyncReq({type:"GET",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+escape("Notebooks("+e.id+")"),dataType:"json"})},update:function(e,o){var a=this.transformBusinessObjectData(e);return this.asyncReq({type:"PUT",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+escape("Notebooks("+o.id+")"),data:JSON.stringify(a),dataType:"json"})},"delete":function(e){return this.asyncReq({type:"DELETE",contentType:"application/json",dataType:"json",url:t.sbo.services.BaseService.documentbase+escape("Notebooks("+e.id+")")})},getInit:function(){var e=$.Deferred();return $.when(this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:t.sbo.services.BaseService.documentbase+escape("Notebooks/createBO")})).done(function(t){delete t.id,e.resolve(t)}).fail(function(t){e.reject(t)}),e.promise()},getInitBoNode:function(e,o){var a=this.transformBusinessObjectData(e),i={};return i._self=a,i.createBONodeParam={},i.createBONodeParam.nodePath=o,this.asyncReq({type:"POST",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+escape("Notebooks/createBONode"),data:JSON.stringify(i),dataType:"json"})},transformBusinessObjectData:function(e){delete e["odata.metadata"];for(var t in e)if(e[t]instanceof Array)for(var o=0;e[t].length>o;o++)delete e[t][o]["odata.metadata"];return e},onPropertyChange:function(e,o,a){var i=this.transformBusinessObjectData(e),s={};return s._self=i,s.onBOChangeParam={},s.onBOChangeParam.path=o,s.onBOChangeParam.changeType=a,this.asyncReq({type:"POST",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+escape("Notebooks/onBOChange"),data:JSON.stringify(s),dataType:"json"})},query:function(e){var o={};return e=e||{},["inlinecount","filter","select","orderby","top","skip","expand"].forEach(function(t){t in e&&(o["$"+t]=e[t])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+escape("Notebooks"),data:o})},count:function(e){var o={};return e=e||{},null!=e.filter&&(o.$filter=e.filter),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+escape("Notebooks/$count"),data:o})}}})}),define("sap.sbo.services.NotesService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{create:function(e){var o=this.transformBusinessObjectData(e);return(null==o.id||void 0==o.id)&&delete o.id,this.asyncReq({type:"POST",contentType:"application/json",url:escape(t.sbo.services.BaseService.documentbase+"Notes"),dataType:"json",data:JSON.stringify(o)})},get:function(e){return this.asyncReq({type:"GET",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+escape("Notes("+e.id+")"),dataType:"json"})},update:function(e,o){var a=this.transformBusinessObjectData(e);return this.asyncReq({type:"PUT",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+escape("Notes("+o.id+")"),data:JSON.stringify(a),dataType:"json"})},"delete":function(e){return this.asyncReq({type:"DELETE",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+escape("Notes("+e.id+")")})},getInit:function(){var e=$.Deferred();return $.when(this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:t.sbo.services.BaseService.documentbase+escape("Notes/createBO")})).done(function(t){delete t.id,e.resolve(t)}).fail(function(t){e.reject(t)}),e.promise()},getInitBoNode:function(e,o){var a=this.transformBusinessObjectData(e),i={};return i._self=a,i.createBONodeParam={},i.createBONodeParam.nodePath=o,this.asyncReq({type:"POST",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+escape("Notes/createBONode"),data:JSON.stringify(i),dataType:"json"})},action_segment:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:t.sbo.services.BaseService.documentbase+escape("Notes("+e.id+")/segment")})},transformBusinessObjectData:function(e){delete e["odata.metadata"];for(var t in e)if(e[t]instanceof Array)for(var o=0;e[t].length>o;o++)delete e[t][o]["odata.metadata"];return e},onPropertyChange:function(e,o,a){var i=this.transformBusinessObjectData(e),s={};return s._self=i,s.onBOChangeParam={},s.onBOChangeParam.path=o,s.onBOChangeParam.changeType=a,this.asyncReq({type:"POST",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+escape("Notes/onBOChange"),data:JSON.stringify(s),dataType:"json"})},query:function(e){var o={};return e=e||{},["inlinecount","filter","select","orderby","top","skip","expand"].forEach(function(t){t in e&&(o["$"+t]=e[t])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+escape("Notes"),data:o})},count:function(e){var o={};return e=e||{},null!=e.filter&&(o.$filter=e.filter),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+escape("Notes/$count"),data:o})}}})}),define("sap.sbo.services.NotePageService",["sap.core.klass","sap.sbo.services.BaseService","sap.sbo.compoundservices.NotebookService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{__boEntityKey:null,setBoEntityKey:function(e){this.__boEntityKey=e},resetBoEntityKey:function(){this.__boEntityKey=null},destroy:function(){this.__boEntityKey=null},prepareAttachments:function(e){for(var t=[],o=0;e.length>o;o++){var a={},i={};i.uri="Attachments("+e[o].attachmentId+")",a.__metadata=i;var s={};s.attachment=a,e[o].id&&(s.id=e[o].id),t.push(s)}return t},getNotebookInfo:function(e){var o={};o.boEntityKey=e;var a={url:t.sbo.services.BaseService.documentbase+"Pages@getNotebookInfo",type:"POST",contentType:"application/json",dataType:"JSON",data:JSON.stringify(o)};return this.asyncReq(a)},listNotePages:function(e){var o={};o.boEntityKey=e;var a={type:"POST",contentType:"application/json",dataType:"json",url:t.sbo.services.BaseService.documentbase+"Pages@getPages",data:JSON.stringify(o)};return this.asyncReq(a)},getPagesByRange:function(e,o){var a={};return a.boEntityKey=e,a.range=o,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),url:t.sbo.services.BaseService.documentbase+"Pages@getPagesByRange"})},retrieveNotePage:function(e){var o={};return o.boEntityKey=this.__boEntityKey,o.pageID=e,this.asyncReq({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(o),url:t.sbo.services.BaseService.documentbase+"Pages@getPage"})},createNotePage:function(e){var o={};o.page=e,o.boEntityKey=this.__boEntityKey;var a=this.prepareAttachments(e.pageAttachments);e.pageAttachments=a;var i={url:t.sbo.services.BaseService.documentbase+"Pages@createOnBO",type:"POST",contentType:"application/json",dataType:"JSON",data:JSON.stringify(o)};return this.asyncReq(i)},updateNotePage:function(e){if(e&&void 0!==e.id&&null!==e.id&&""!==e.id){var o={};o.id=e.id,o.text=e.text,o.copyFlag=e.copyFlag;var a=this.prepareAttachments(e.pageAttachments);o.pageAttachments=a;var i={};i.page=o,i.boEntityKey=this.__boEntityKey;var s={url:t.sbo.services.BaseService.documentbase+"Pages@updateOnBO",type:"POST",contentType:"application/json",dataType:"JSON",data:JSON.stringify(i)};return this.asyncReq(s)}return!1},deleteNotePage:function(e){if(void 0!==e&&null!==e&&""!==e){var o={};o.pageID=e,o.boEntityKey=this.__boEntityKey;var a={url:t.sbo.services.BaseService.documentbase+"Pages@removeLinkFromBO",type:"POST",contentType:"application/json",dataType:"JSON",data:JSON.stringify(o)};return this.asyncReq(a)}return!1},moveToBO:function(e,o){var a={};a.pageId=e,a.srcBoEntityKey=this.__boEntityKey,a.targetBoEntityKey=o;var i={type:"POST",contentType:"application/json",dataType:"json",url:t.sbo.services.BaseService.documentbase+"Pages@moveToBO",data:JSON.stringify(a)};return this.asyncReq(i)}},Protected:{__formatBoCodeAndKey:function(e,t){return void 0!==e&&void 0!==t&&null!==e&&null!==t?"?objtype="+e+"&objkey="+t:""}},Static:{getAnEmptyNotePage:function(){return{}},query:function(e){var o=window.SboShell,a={};if(o.isFeatureAvailable("system.getBOEntityKey"))a=o.callFeatureMethod("system.getBOEntityKey");else{a.boNamespace="com.sap.sbo",a.boName="User";var i=[],s={};s.keyName="employeeID",s.keyValue=-1,i.push(s),a.keyElements=i}var n=e.skip,r=e.top,l={};l.location=n,l.length=r;var d=new t.sbo.compoundservices.NotebookService;return d.getPages(a)}}})}),define("sap.sbo.services.OrdersService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{__boName:"Order",__boNamespace:"com.sap.sbo",create:function(e){var o=this.transformBusinessObjectData(e);return(null==o.docEntry||void 0==o.docEntry)&&delete o.docEntry,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Orders"),dataType:"json",data:JSON.stringify(o)})},get:function(e){return this.asyncReq({type:"GET",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Orders("+e.docEntry+")"),dataType:"json"})},update:function(e,o){var a=this.transformBusinessObjectData(e);return this.asyncReq({type:"PUT",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Orders("+o.docEntry+")"),data:JSON.stringify(a),dataType:"json"})},"delete":function(e){return this.asyncReq({type:"DELETE",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Orders("+e.docEntry+")")})},getInit:function(){var e=$.Deferred();return $.when(this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Orders/createBO")})).done(function(t){delete t.docEntry,e.resolve(t)}).fail(function(t){e.reject(t)}),e.promise()},getInitBoNode:function(e,o){var a=this.transformBusinessObjectData(e),i={};return i._self=a,i.createBONodeParam={},i.createBONodeParam.nodePath=o,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Orders/createBONode"),data:JSON.stringify(i),dataType:"json"})},action_close:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Orders("+e.docEntry+")/close")})},action_cancel:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Orders("+e.docEntry+")/cancel")})},action_reopen:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Orders("+e.docEntry+")/reopen")})},action_saveDraftToDocument:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Orders("+e.docEntry+")/saveDraftToDocument")})},action_attachContactPerson:function(e,o){var a=o;return this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Orders("+e.docEntry+")/attachContactPerson"),data:JSON.stringify(a),dataType:"json"})},transformBusinessObjectData:function(e){delete e["odata.metadata"];for(var t in e)if(e[t]instanceof Array)for(var o=0;e[t].length>o;o++)delete e[t][o]["odata.metadata"];return e},onPropertyChange:function(e,o,a){var i=this.transformBusinessObjectData(e),s={};return s._self=i,s.onBOChangeParam={},s.onBOChangeParam.path=o,s.onBOChangeParam.changeType=a,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Orders/onBOChange"),data:JSON.stringify(s),dataType:"json"})},query:function(e){var o={};return e=e||{},["inlinecount","filter","select","orderby","top","skip","expand","search"].forEach(function(t){t in e&&(o["$"+t]=e[t])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Orders"),data:o})},count:function(e){var o={};return e=e||{},null!=e.filter&&(o.$filter=e.filter),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Orders/$count"),data:o})}}})}),define("sap.sbo.services.CountriesService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{__boName:"Country",__boNamespace:"com.sap.sbo",create:function(e){var o=this.transformBusinessObjectData(e);return(null==o.code||void 0==o.code)&&delete o.code,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Countries"),dataType:"json",data:JSON.stringify(o)})},get:function(e){return this.asyncReq({type:"GET",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Countries('"+e.code+"')"),dataType:"json"})},update:function(e,o){var a=this.transformBusinessObjectData(e);return this.asyncReq({type:"PUT",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Countries('"+o.code+"')"),data:JSON.stringify(a),dataType:"json"})},"delete":function(e){return this.asyncReq({type:"DELETE",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Countries('"+e.code+"')")})},getInit:function(){var e=$.Deferred();return $.when(this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Countries/createBO")})).done(function(t){delete t.code,e.resolve(t)}).fail(function(t){e.reject(t)}),e.promise()},getInitBoNode:function(e,o){var a=this.transformBusinessObjectData(e),i={};return i._self=a,i.createBONodeParam={},i.createBONodeParam.nodePath=o,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Countries/createBONode"),data:JSON.stringify(i),dataType:"json"})},action_addCountry:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Countries('"+e.code+"')/addCountry")})},action_updateCountry:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Countries('"+e.code+"')/updateCountry")})},action_deleteCountry:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Countries('"+e.code+"')/deleteCountry")})},action_getCountryList:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Countries('"+e.code+"')/getCountryList")})},transformBusinessObjectData:function(e){delete e["odata.metadata"];for(var t in e)if(e[t]instanceof Array)for(var o=0;e[t].length>o;o++)delete e[t][o]["odata.metadata"];return e},onPropertyChange:function(e,o,a){var i=this.transformBusinessObjectData(e),s={};return s._self=i,s.onBOChangeParam={},s.onBOChangeParam.path=o,s.onBOChangeParam.changeType=a,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Countries/onBOChange"),data:JSON.stringify(s),dataType:"json"})},query:function(e){var o={};return e=e||{},["inlinecount","filter","select","orderby","top","skip","expand","search"].forEach(function(t){t in e&&(o["$"+t]=e[t])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Countries"),data:o})},count:function(e){var o={};return e=e||{},null!=e.filter&&(o.$filter=e.filter),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Countries/$count"),data:o})}}})}),define("sap.sbo.services.PaymentTermsTypesService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{__boName:"PaymentTermsType",__boNamespace:"com.sap.sbo",create:function(e){var o=this.transformBusinessObjectData(e);return(null==o.groupNumber||void 0==o.groupNumber)&&delete o.groupNumber,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"PaymentTermsTypes"),dataType:"json",data:JSON.stringify(o)})},get:function(e){return this.asyncReq({type:"GET",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"PaymentTermsTypes("+e.groupNumber+")"),dataType:"json"})},update:function(e,o){var a=this.transformBusinessObjectData(e);return this.asyncReq({type:"PUT",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"PaymentTermsTypes("+o.groupNumber+")"),data:JSON.stringify(a),dataType:"json"})},"delete":function(e){return this.asyncReq({type:"DELETE",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"PaymentTermsTypes("+e.groupNumber+")")})},getInit:function(){var e=$.Deferred();return $.when(this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"PaymentTermsTypes/createBO")})).done(function(t){delete t.groupNumber,e.resolve(t)}).fail(function(t){e.reject(t)}),e.promise()},getInitBoNode:function(e,o){var a=this.transformBusinessObjectData(e),i={};return i._self=a,i.createBONodeParam={},i.createBONodeParam.nodePath=o,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"PaymentTermsTypes/createBONode"),data:JSON.stringify(i),dataType:"json"})},action_add:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"PaymentTermsTypes("+e.groupNumber+")/add")})},action_update:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"PaymentTermsTypes("+e.groupNumber+")/update")})},action_remove:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"PaymentTermsTypes("+e.groupNumber+")/remove")})},action_close:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"PaymentTermsTypes("+e.groupNumber+")/close")})},action_cancel:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"PaymentTermsTypes("+e.groupNumber+")/cancel")})},action_getPaymentTermsTypesList:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"PaymentTermsTypes("+e.groupNumber+")/getPaymentTermsTypesList")})},transformBusinessObjectData:function(e){delete e["odata.metadata"];for(var t in e)if(e[t]instanceof Array)for(var o=0;e[t].length>o;o++)delete e[t][o]["odata.metadata"];return e},onPropertyChange:function(e,o,a){var i=this.transformBusinessObjectData(e),s={};return s._self=i,s.onBOChangeParam={},s.onBOChangeParam.path=o,s.onBOChangeParam.changeType=a,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"PaymentTermsTypes/onBOChange"),data:JSON.stringify(s),dataType:"json"})},query:function(e){var o={};return e=e||{},["inlinecount","filter","select","orderby","top","skip","expand","search"].forEach(function(t){t in e&&(o["$"+t]=e[t])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"PaymentTermsTypes"),data:o})},count:function(e){var o={};return e=e||{},null!=e.filter&&(o.$filter=e.filter),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"PaymentTermsTypes/$count"),data:o})
}}})}),define("sap.sbo.services.PagesService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{__boName:"Page",__boNamespace:"com.sap.sbo",create:function(e){var o=this.transformBusinessObjectData(e);return(null==o.id||void 0==o.id)&&delete o.id,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Pages"),dataType:"json",data:JSON.stringify(o)})},get:function(e){return this.asyncReq({type:"GET",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Pages("+e.id+")"),dataType:"json"})},update:function(e,o){var a=this.transformBusinessObjectData(e);return this.asyncReq({type:"PUT",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Pages("+o.id+")"),data:JSON.stringify(a),dataType:"json"})},"delete":function(e){return this.asyncReq({type:"DELETE",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Pages("+e.id+")")})},getInit:function(){var e=$.Deferred();return $.when(this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Pages/createBO")})).done(function(t){delete t.id,e.resolve(t)}).fail(function(t){e.reject(t)}),e.promise()},getInitBoNode:function(e,o){var a=this.transformBusinessObjectData(e),i={};return i._self=a,i.createBONodeParam={},i.createBONodeParam.nodePath=o,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Pages/createBONode"),data:JSON.stringify(i),dataType:"json"})},transformBusinessObjectData:function(e){delete e["odata.metadata"];for(var t in e)if(e[t]instanceof Array)for(var o=0;e[t].length>o;o++)delete e[t][o]["odata.metadata"];return e},onPropertyChange:function(e,o,a){var i=this.transformBusinessObjectData(e),s={};return s._self=i,s.onBOChangeParam={},s.onBOChangeParam.path=o,s.onBOChangeParam.changeType=a,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Pages/onBOChange"),data:JSON.stringify(s),dataType:"json"})},query:function(e){var o={};return e=e||{},["inlinecount","filter","select","orderby","top","skip","expand","search"].forEach(function(t){t in e&&(o["$"+t]=e[t])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Pages"),data:o})},count:function(e){var o={};return e=e||{},null!=e.filter&&(o.$filter=e.filter),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Pages/$count"),data:o})}}})}),define("sap.sbo.services.QueriesService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{__boName:"UserQuery",__boNamespace:"com.sap.sbo",create:function(e){var o=this.transformBusinessObjectData(e);return(null==o.id||void 0==o.id)&&delete o.id,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Queries"),dataType:"json",data:JSON.stringify(o)})},get:function(e){return this.asyncReq({type:"GET",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Queries("+e.id+")"),dataType:"json"})},update:function(e,o){var a=this.transformBusinessObjectData(e);return this.asyncReq({type:"PUT",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Queries("+o.id+")"),data:JSON.stringify(a),dataType:"json"})},"delete":function(e){return this.asyncReq({type:"DELETE",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Queries("+e.id+")")})},getInit:function(){var e=$.Deferred();return $.when(this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Queries/createBO")})).done(function(t){delete t.id,e.resolve(t)}).fail(function(t){e.reject(t)}),e.promise()},getInitBoNode:function(e,o){var a=this.transformBusinessObjectData(e),i={};return i._self=a,i.createBONodeParam={},i.createBONodeParam.nodePath=o,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Queries/createBONode"),data:JSON.stringify(i),dataType:"json"})},action_query:function(e,o){var a=o;return this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Queries("+e.id+")/query"),data:JSON.stringify(a),dataType:"json"})},transformBusinessObjectData:function(e){delete e["odata.metadata"];for(var t in e)if(e[t]instanceof Array)for(var o=0;e[t].length>o;o++)delete e[t][o]["odata.metadata"];return e},onPropertyChange:function(e,o,a){var i=this.transformBusinessObjectData(e),s={};return s._self=i,s.onBOChangeParam={},s.onBOChangeParam.path=o,s.onBOChangeParam.changeType=a,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Queries/onBOChange"),data:JSON.stringify(s),dataType:"json"})},query:function(e){var o={};return e=e||{},["inlinecount","filter","select","orderby","top","skip","expand","search"].forEach(function(t){t in e&&(o["$"+t]=e[t])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Queries"),data:o})},count:function(e){var o={};return e=e||{},null!=e.filter&&(o.$filter=e.filter),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Queries/$count"),data:o})}}})}),define("sap.sbo.services.QueryGroupsService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{__boName:"QueryGroup",__boNamespace:"com.sap.sbo",create:function(e){var o=this.transformBusinessObjectData(e);return(null==o.id||void 0==o.id)&&delete o.id,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"QueryGroups"),dataType:"json",data:JSON.stringify(o)})},get:function(e){return this.asyncReq({type:"GET",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"QueryGroups("+e.id+")"),dataType:"json"})},update:function(e,o){var a=this.transformBusinessObjectData(e);return this.asyncReq({type:"PUT",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"QueryGroups("+o.id+")"),data:JSON.stringify(a),dataType:"json"})},"delete":function(e){return this.asyncReq({type:"DELETE",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"QueryGroups("+e.id+")")})},getInit:function(){var e=$.Deferred();return $.when(this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"QueryGroups/createBO")})).done(function(t){delete t.id,e.resolve(t)}).fail(function(t){e.reject(t)}),e.promise()},getInitBoNode:function(e,o){var a=this.transformBusinessObjectData(e),i={};return i._self=a,i.createBONodeParam={},i.createBONodeParam.nodePath=o,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"QueryGroups/createBONode"),data:JSON.stringify(i),dataType:"json"})},transformBusinessObjectData:function(e){delete e["odata.metadata"];for(var t in e)if(e[t]instanceof Array)for(var o=0;e[t].length>o;o++)delete e[t][o]["odata.metadata"];return e},onPropertyChange:function(e,o,a){var i=this.transformBusinessObjectData(e),s={};return s._self=i,s.onBOChangeParam={},s.onBOChangeParam.path=o,s.onBOChangeParam.changeType=a,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"QueryGroups/onBOChange"),data:JSON.stringify(s),dataType:"json"})},query:function(e){var o={};return e=e||{},["inlinecount","filter","select","orderby","top","skip","expand","search"].forEach(function(t){t in e&&(o["$"+t]=e[t])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"QueryGroups"),data:o})},count:function(e){var o={};return e=e||{},null!=e.filter&&(o.$filter=e.filter),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"QueryGroups/$count"),data:o})}}})}),define("sap.sbo.services.PriceListsService",["sap.core.klass","sap.sbo.util.formatter","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{__boName:"PriceList",__boNamespace:"com.sap.sbo",create:function(e){var o=this.transformBusinessObjectData(e);return(null==o.priceListNo||void 0==o.priceListNo)&&delete o.priceListNo,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"PriceLists"),dataType:"json",data:JSON.stringify(o)})},get:function(e){return this.asyncReq({type:"GET",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"PriceLists("+e.priceListNo+")"),dataType:"json"})},update:function(e,o){var a=this.transformBusinessObjectData(e);return this.asyncReq({type:"PUT",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"PriceLists("+o.priceListNo+")"),data:JSON.stringify(a),dataType:"json"})},"delete":function(e){return this.asyncReq({type:"DELETE",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"PriceLists("+e.priceListNo+")")})},getInit:function(){var e=$.Deferred();return $.when(this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"PriceLists/createBO")})).done(function(t){delete t.priceListNo,e.resolve(t)}).fail(function(t){e.reject(t)}),e.promise()},getInitBoNode:function(e,o){var a=this.transformBusinessObjectData(e),i={};return i._self=a,i.createBONodeParam={},i.createBONodeParam.nodePath=o,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"PriceLists/createBONode"),data:JSON.stringify(i),dataType:"json"})},action_add:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"PriceLists("+e.priceListNo+")/add")})},action_update:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"PriceLists("+e.priceListNo+")/update")})},action_delete:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"PriceLists("+e.priceListNo+")/delete")})},action_getList:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"PriceLists("+e.priceListNo+")/getList")})},transformBusinessObjectData:function(e){delete e["odata.metadata"];for(var t in e)if(e[t]instanceof Array)for(var o=0;e[t].length>o;o++)delete e[t][o]["odata.metadata"];return e},onPropertyChange:function(e,o,a){var i=this.transformBusinessObjectData(e),s={};return s._self=i,s.onBOChangeParam={},s.onBOChangeParam.path=o,s.onBOChangeParam.changeType=a,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"PriceLists/onBOChange"),data:JSON.stringify(s),dataType:"json"})},query:function(e){var o={};return e=e||{},void 0===e.oderby&&(e.orderby="priceListNo asc"),["inlinecount","filter","select","orderby","top","skip","expand","search"].forEach(function(t){t in e&&(o["$"+t]=e[t])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"PriceLists"),data:o})},queryJustActive:function(e){function o(e){var t=e.getFullYear(),o=e.getMonth()+1,a=e.getDate();return 1e4*t+100*o+a}var a=$.Deferred();return $.when(this.query(e)).done(function(e){for(var i=o(new Date),s=[],n=0;e.value.length>n;n++){var r=null,l=null,d=e.value[n].validFrom;null!==d&&(r=o(t.sbo.util.formatter.JODATime_date(d,">>")));var p=e.value[n].validTo;null!==p&&(l=o(t.sbo.util.formatter.JODATime_date(p,">>"))),null!==r&&r>i||null!==l&&i>l||s.push(e.value[n])}a.resolve(s)}),a.promise()},count:function(e){var o={};return e=e||{},null!=e.filter&&(o.$filter=e.filter),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"PriceLists/$count"),data:o})}}})}),define("sap.sbo.services.QuotationsService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{__boName:"Quotation",__boNamespace:"com.sap.sbo",create:function(e){var o=this.transformBusinessObjectData(e);return(null==o.docEntry||void 0==o.docEntry)&&delete o.docEntry,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Quotations"),dataType:"json",data:JSON.stringify(o)})},get:function(e){return this.asyncReq({type:"GET",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Quotations("+e.docEntry+")"),dataType:"json"})},update:function(e,o){var a=this.transformBusinessObjectData(e);return this.asyncReq({type:"PUT",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Quotations("+o.docEntry+")"),data:JSON.stringify(a),dataType:"json"})},"delete":function(e){return this.asyncReq({type:"DELETE",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Quotations("+e.docEntry+")")})},getInit:function(){var e=$.Deferred();return $.when(this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Quotations/createBO")})).done(function(t){delete t.docEntry,e.resolve(t)}).fail(function(t){e.reject(t)}),e.promise()},getInitBoNode:function(e,o){var a=this.transformBusinessObjectData(e),i={};return i._self=a,i.createBONodeParam={},i.createBONodeParam.nodePath=o,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Quotations/createBONode"),data:JSON.stringify(i),dataType:"json"})},action_close:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Quotations("+e.docEntry+")/close")})},action_cancel:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Quotations("+e.docEntry+")/cancel")})},action_reopen:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Quotations("+e.docEntry+")/reopen")})},action_saveDraftToDocument:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Quotations("+e.docEntry+")/saveDraftToDocument")})},action_copyToOrder:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Quotations("+e.docEntry+")/copyToOrder")})},action_attachContactPerson:function(e,o){var a=o;return this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Quotations("+e.docEntry+")/attachContactPerson"),data:JSON.stringify(a),dataType:"json"})},transformBusinessObjectData:function(e){delete e["odata.metadata"];for(var t in e)if(e[t]instanceof Array)for(var o=0;e[t].length>o;o++)delete e[t][o]["odata.metadata"];return e},onPropertyChange:function(e,o,a){var i=this.transformBusinessObjectData(e),s={};return s._self=i,s.onBOChangeParam={},s.onBOChangeParam.path=o,s.onBOChangeParam.changeType=a,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Quotations/onBOChange"),data:JSON.stringify(s),dataType:"json"})},query:function(e){var o={};return e=e||{},["inlinecount","filter","select","orderby","top","skip","expand","search"].forEach(function(t){t in e&&(o["$"+t]=e[t])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Quotations"),data:o})},count:function(e){var o={};return e=e||{},null!=e.filter&&(o.$filter=e.filter),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Quotations/$count"),data:o})}}})}),define("sap.sbo.services.SalesOpportunityCompetitorSetupsService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{__boName:"SalesOpportunityCompetitorSetup",__boNamespace:"com.sap.sbo",create:function(e){var o=this.transformBusinessObjectData(e);return(null==o.sequenceNo||void 0==o.sequenceNo)&&delete o.sequenceNo,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunityCompetitorSetups"),dataType:"json",data:JSON.stringify(o)})},get:function(e){return this.asyncReq({type:"GET",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunityCompetitorSetups("+e.sequenceNo+")"),dataType:"json"})},update:function(e,o){var a=this.transformBusinessObjectData(e);return this.asyncReq({type:"PUT",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunityCompetitorSetups("+o.sequenceNo+")"),data:JSON.stringify(a),dataType:"json"})},"delete":function(e){return this.asyncReq({type:"DELETE",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunityCompetitorSetups("+e.sequenceNo+")")})},getInit:function(){var e=$.Deferred();return $.when(this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunityCompetitorSetups/createBO")})).done(function(t){delete t.sequenceNo,e.resolve(t)}).fail(function(t){e.reject(t)}),e.promise()},getInitBoNode:function(e,o){var a=this.transformBusinessObjectData(e),i={};return i._self=a,i.createBONodeParam={},i.createBONodeParam.nodePath=o,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunityCompetitorSetups/createBONode"),data:JSON.stringify(i),dataType:"json"})},action_addSalesOpportunityCompetitorSetup:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunityCompetitorSetups("+e.sequenceNo+")/addSalesOpportunityCompetitorSetup")})},action_updateSalesOpportunityCompetitorSetup:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunityCompetitorSetups("+e.sequenceNo+")/updateSalesOpportunityCompetitorSetup")})},action_deleteSalesOpportunityCompetitorSetup:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunityCompetitorSetups("+e.sequenceNo+")/deleteSalesOpportunityCompetitorSetup")})},transformBusinessObjectData:function(e){delete e["odata.metadata"];for(var t in e)if(e[t]instanceof Array)for(var o=0;e[t].length>o;o++)delete e[t][o]["odata.metadata"];return e},onPropertyChange:function(e,o,a){var i=this.transformBusinessObjectData(e),s={};return s._self=i,s.onBOChangeParam={},s.onBOChangeParam.path=o,s.onBOChangeParam.changeType=a,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunityCompetitorSetups/onBOChange"),data:JSON.stringify(s),dataType:"json"})},query:function(e){var o={};return e=e||{},["inlinecount","filter","select","orderby","top","skip","expand","search"].forEach(function(t){t in e&&(o["$"+t]=e[t])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunityCompetitorSetups"),data:o})},count:function(e){var o={};return e=e||{},null!=e.filter&&(o.$filter=e.filter),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunityCompetitorSetups/$count"),data:o})}}})}),define("sap.sbo.services.SalesOpportunitiesService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{__boName:"SalesOpportunity",__boNamespace:"com.sap.sbo",create:function(e){var o=this.transformBusinessObjectData(e);return(null==o.sequentialNo||void 0==o.sequentialNo)&&delete o.sequentialNo,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunities"),dataType:"json",data:JSON.stringify(o)})},get:function(e){return this.asyncReq({type:"GET",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunities("+e.sequentialNo+")"),dataType:"json"})},update:function(e,o){var a=this.transformBusinessObjectData(e);return this.asyncReq({type:"PUT",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunities("+o.sequentialNo+")"),data:JSON.stringify(a),dataType:"json"})},"delete":function(e){return this.asyncReq({type:"DELETE",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunities("+e.sequentialNo+")")})},getInit:function(){var e=$.Deferred();return $.when(this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunities/createBO")})).done(function(t){delete t.sequentialNo,e.resolve(t)}).fail(function(t){e.reject(t)}),e.promise()},getInitBoNode:function(e,o){var a=this.transformBusinessObjectData(e),i={};return i._self=a,i.createBONodeParam={},i.createBONodeParam.nodePath=o,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunities/createBONode"),data:JSON.stringify(i),dataType:"json"})},action_close:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunities("+e.sequentialNo+")/close")})},action_copyToQuotation:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunities("+e.sequentialNo+")/copyToQuotation")})},action_copyToOrder:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunities("+e.sequentialNo+")/copyToOrder")})},action_attachContactPerson:function(e,o){var a=o;return this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunities("+e.sequentialNo+")/attachContactPerson"),data:JSON.stringify(a),dataType:"json"})},transformBusinessObjectData:function(e){delete e["odata.metadata"];for(var t in e)if(e[t]instanceof Array)for(var o=0;e[t].length>o;o++)delete e[t][o]["odata.metadata"];return e},onPropertyChange:function(e,o,a){var i=this.transformBusinessObjectData(e),s={};return s._self=i,s.onBOChangeParam={},s.onBOChangeParam.path=o,s.onBOChangeParam.changeType=a,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunities/onBOChange"),data:JSON.stringify(s),dataType:"json"})},query:function(e){var o={};return e=e||{},["inlinecount","filter","select","orderby","top","skip","expand","search"].forEach(function(t){t in e&&(o["$"+t]=e[t])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunities"),data:o})},count:function(e){var o={};return e=e||{},null!=e.filter&&(o.$filter=e.filter),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunities/$count"),data:o})}}})}),define("sap.sbo.services.SalesOpportunityInterestSetupsService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{__boName:"SalesOpportunityInterestSetup",__boNamespace:"com.sap.sbo",create:function(e){var o=this.transformBusinessObjectData(e);return(null==o.sequenceNo||void 0==o.sequenceNo)&&delete o.sequenceNo,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunityInterestSetups"),dataType:"json",data:JSON.stringify(o)})},get:function(e){return this.asyncReq({type:"GET",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunityInterestSetups("+e.sequenceNo+")"),dataType:"json"})},update:function(e,o){var a=this.transformBusinessObjectData(e);return this.asyncReq({type:"PUT",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunityInterestSetups("+o.sequenceNo+")"),data:JSON.stringify(a),dataType:"json"})},"delete":function(e){return this.asyncReq({type:"DELETE",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunityInterestSetups("+e.sequenceNo+")")})},getInit:function(){var e=$.Deferred();return $.when(this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunityInterestSetups/createBO")})).done(function(t){delete t.sequenceNo,e.resolve(t)}).fail(function(t){e.reject(t)}),e.promise()},getInitBoNode:function(e,o){var a=this.transformBusinessObjectData(e),i={};return i._self=a,i.createBONodeParam={},i.createBONodeParam.nodePath=o,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunityInterestSetups/createBONode"),data:JSON.stringify(i),dataType:"json"})},action_addSalesOpportunityInterestSetup:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunityInterestSetups("+e.sequenceNo+")/addSalesOpportunityInterestSetup")})},action_updateSalesOpportunityInterestSetup:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunityInterestSetups("+e.sequenceNo+")/updateSalesOpportunityInterestSetup")})},action_deleteSalesOpportunityInterestSetup:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunityInterestSetups("+e.sequenceNo+")/deleteSalesOpportunityInterestSetup")})},transformBusinessObjectData:function(e){delete e["odata.metadata"];for(var t in e)if(e[t]instanceof Array)for(var o=0;e[t].length>o;o++)delete e[t][o]["odata.metadata"];return e},onPropertyChange:function(e,o,a){var i=this.transformBusinessObjectData(e),s={};return s._self=i,s.onBOChangeParam={},s.onBOChangeParam.path=o,s.onBOChangeParam.changeType=a,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunityInterestSetups/onBOChange"),data:JSON.stringify(s),dataType:"json"})},query:function(e){var o={};return e=e||{},["inlinecount","filter","select","orderby","top","skip","expand","search"].forEach(function(t){t in e&&(o["$"+t]=e[t])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunityInterestSetups"),data:o})},count:function(e){var o={};return e=e||{},null!=e.filter&&(o.$filter=e.filter),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunityInterestSetups/$count"),data:o})}}})}),define("sap.sbo.services.SalesOpportunityReasonSetupsService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{__boName:"SalesOpportunityReasonSetup",__boNamespace:"com.sap.sbo",create:function(e){var o=this.transformBusinessObjectData(e);return(null==o.sequenceNo||void 0==o.sequenceNo)&&delete o.sequenceNo,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunityReasonSetups"),dataType:"json",data:JSON.stringify(o)})},get:function(e){return this.asyncReq({type:"GET",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunityReasonSetups("+e.sequenceNo+")"),dataType:"json"})},update:function(e,o){var a=this.transformBusinessObjectData(e);return this.asyncReq({type:"PUT",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunityReasonSetups("+o.sequenceNo+")"),data:JSON.stringify(a),dataType:"json"})},"delete":function(e){return this.asyncReq({type:"DELETE",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunityReasonSetups("+e.sequenceNo+")")})},getInit:function(){var e=$.Deferred();return $.when(this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunityReasonSetups/createBO")})).done(function(t){delete t.sequenceNo,e.resolve(t)}).fail(function(t){e.reject(t)}),e.promise()},getInitBoNode:function(e,o){var a=this.transformBusinessObjectData(e),i={};return i._self=a,i.createBONodeParam={},i.createBONodeParam.nodePath=o,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunityReasonSetups/createBONode"),data:JSON.stringify(i),dataType:"json"})},action_addSalesOpportunityReasonSetup:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunityReasonSetups("+e.sequenceNo+")/addSalesOpportunityReasonSetup")})},action_updateSalesOpportunityReasonSetup:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunityReasonSetups("+e.sequenceNo+")/updateSalesOpportunityReasonSetup")})},action_deleteSalesOpportunityReasonSetup:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunityReasonSetups("+e.sequenceNo+")/deleteSalesOpportunityReasonSetup")})
},transformBusinessObjectData:function(e){delete e["odata.metadata"];for(var t in e)if(e[t]instanceof Array)for(var o=0;e[t].length>o;o++)delete e[t][o]["odata.metadata"];return e},onPropertyChange:function(e,o,a){var i=this.transformBusinessObjectData(e),s={};return s._self=i,s.onBOChangeParam={},s.onBOChangeParam.path=o,s.onBOChangeParam.changeType=a,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunityReasonSetups/onBOChange"),data:JSON.stringify(s),dataType:"json"})},query:function(e){var o={};return e=e||{},["inlinecount","filter","select","orderby","top","skip","expand","search"].forEach(function(t){t in e&&(o["$"+t]=e[t])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunityReasonSetups"),data:o})},count:function(e){var o={};return e=e||{},null!=e.filter&&(o.$filter=e.filter),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunityReasonSetups/$count"),data:o})}}})}),define("sap.sbo.services.SalesOpportunitySourceSetupsService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{__boName:"SalesOpportunitySourceSetup",__boNamespace:"com.sap.sbo",create:function(e){var o=this.transformBusinessObjectData(e);return(null==o.sequenceNo||void 0==o.sequenceNo)&&delete o.sequenceNo,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunitySourceSetups"),dataType:"json",data:JSON.stringify(o)})},get:function(e){return this.asyncReq({type:"GET",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunitySourceSetups("+e.sequenceNo+")"),dataType:"json"})},update:function(e,o){var a=this.transformBusinessObjectData(e);return this.asyncReq({type:"PUT",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunitySourceSetups("+o.sequenceNo+")"),data:JSON.stringify(a),dataType:"json"})},"delete":function(e){return this.asyncReq({type:"DELETE",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunitySourceSetups("+e.sequenceNo+")")})},getInit:function(){var e=$.Deferred();return $.when(this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunitySourceSetups/createBO")})).done(function(t){delete t.sequenceNo,e.resolve(t)}).fail(function(t){e.reject(t)}),e.promise()},getInitBoNode:function(e,o){var a=this.transformBusinessObjectData(e),i={};return i._self=a,i.createBONodeParam={},i.createBONodeParam.nodePath=o,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunitySourceSetups/createBONode"),data:JSON.stringify(i),dataType:"json"})},action_addSalesOpportunitySourceSetup:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunitySourceSetups("+e.sequenceNo+")/addSalesOpportunitySourceSetup")})},action_updateSalesOpportunitySourceSetup:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunitySourceSetups("+e.sequenceNo+")/updateSalesOpportunitySourceSetup")})},action_deleteSalesOpportunitySourceSetup:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunitySourceSetups("+e.sequenceNo+")/deleteSalesOpportunitySourceSetup")})},transformBusinessObjectData:function(e){delete e["odata.metadata"];for(var t in e)if(e[t]instanceof Array)for(var o=0;e[t].length>o;o++)delete e[t][o]["odata.metadata"];return e},onPropertyChange:function(e,o,a){var i=this.transformBusinessObjectData(e),s={};return s._self=i,s.onBOChangeParam={},s.onBOChangeParam.path=o,s.onBOChangeParam.changeType=a,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunitySourceSetups/onBOChange"),data:JSON.stringify(s),dataType:"json"})},query:function(e){var o={};return e=e||{},["inlinecount","filter","select","orderby","top","skip","expand","search"].forEach(function(t){t in e&&(o["$"+t]=e[t])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunitySourceSetups"),data:o})},count:function(e){var o={};return e=e||{},null!=e.filter&&(o.$filter=e.filter),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesOpportunitySourceSetups/$count"),data:o})}}})}),define("sap.sbo.services.SalesPersonsService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{__boName:"SalesPerson",__boNamespace:"com.sap.sbo",create:function(e){var o=this.transformBusinessObjectData(e);return(null==o.salesEmployeeCode||void 0==o.salesEmployeeCode)&&delete o.salesEmployeeCode,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesPersons"),dataType:"json",data:JSON.stringify(o)})},get:function(e){return this.asyncReq({type:"GET",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesPersons("+e.salesEmployeeCode+")"),dataType:"json"})},update:function(e,o){var a=this.transformBusinessObjectData(e);return this.asyncReq({type:"PUT",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesPersons("+o.salesEmployeeCode+")"),data:JSON.stringify(a),dataType:"json"})},"delete":function(e){return this.asyncReq({type:"DELETE",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesPersons("+e.salesEmployeeCode+")")})},getInit:function(){var e=$.Deferred();return $.when(this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesPersons/createBO")})).done(function(t){delete t.salesEmployeeCode,e.resolve(t)}).fail(function(t){e.reject(t)}),e.promise()},getInitBoNode:function(e,o){var a=this.transformBusinessObjectData(e),i={};return i._self=a,i.createBONodeParam={},i.createBONodeParam.nodePath=o,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesPersons/createBONode"),data:JSON.stringify(i),dataType:"json"})},action_add:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesPersons("+e.salesEmployeeCode+")/add")})},action_update:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesPersons("+e.salesEmployeeCode+")/update")})},action_remove:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesPersons("+e.salesEmployeeCode+")/remove")})},transformBusinessObjectData:function(e){delete e["odata.metadata"];for(var t in e)if(e[t]instanceof Array)for(var o=0;e[t].length>o;o++)delete e[t][o]["odata.metadata"];return e},onPropertyChange:function(e,o,a){var i=this.transformBusinessObjectData(e),s={};return s._self=i,s.onBOChangeParam={},s.onBOChangeParam.path=o,s.onBOChangeParam.changeType=a,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesPersons/onBOChange"),data:JSON.stringify(s),dataType:"json"})},query:function(e){var o={};return e=e||{},["inlinecount","filter","select","orderby","top","skip","expand","search"].forEach(function(t){t in e&&(o["$"+t]=e[t])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesPersons"),data:o})},count:function(e){var o={};return e=e||{},null!=e.filter&&(o.$filter=e.filter),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesPersons/$count"),data:o})}}})}),define("sap.sbo.services.SalesStagesService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{__boName:"SalesStage",__boNamespace:"com.sap.sbo",create:function(e){var o=this.transformBusinessObjectData(e);return(null==o.sequenceNo||void 0==o.sequenceNo)&&delete o.sequenceNo,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesStages"),dataType:"json",data:JSON.stringify(o)})},get:function(e){return this.asyncReq({type:"GET",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesStages("+e.sequenceNo+")"),dataType:"json"})},update:function(e,o){var a=this.transformBusinessObjectData(e);return this.asyncReq({type:"PUT",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesStages("+o.sequenceNo+")"),data:JSON.stringify(a),dataType:"json"})},"delete":function(e){return this.asyncReq({type:"DELETE",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesStages("+e.sequenceNo+")")})},getInit:function(){var e=$.Deferred();return $.when(this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesStages/createBO")})).done(function(t){delete t.sequenceNo,e.resolve(t)}).fail(function(t){e.reject(t)}),e.promise()},getInitBoNode:function(e,o){var a=this.transformBusinessObjectData(e),i={};return i._self=a,i.createBONodeParam={},i.createBONodeParam.nodePath=o,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesStages/createBONode"),data:JSON.stringify(i),dataType:"json"})},transformBusinessObjectData:function(e){delete e["odata.metadata"];for(var t in e)if(e[t]instanceof Array)for(var o=0;e[t].length>o;o++)delete e[t][o]["odata.metadata"];return e},onPropertyChange:function(e,o,a){var i=this.transformBusinessObjectData(e),s={};return s._self=i,s.onBOChangeParam={},s.onBOChangeParam.path=o,s.onBOChangeParam.changeType=a,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesStages/onBOChange"),data:JSON.stringify(s),dataType:"json"})},query:function(e){var o={};return e=e||{},void 0===e.oderby&&(e.orderby="sequenceNo asc"),["inlinecount","filter","select","orderby","top","skip","expand","search"].forEach(function(t){t in e&&(o["$"+t]=e[t])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesStages"),data:o})},count:function(e){var o={};return e=e||{},null!=e.filter&&(o.$filter=e.filter),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesStages/$count"),data:o})}}})}),define("sap.sbo.services.SalesTaxCodesService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{__boName:"SalesTaxCodes",__boNamespace:"com.sap.sbo",create:function(e){var o=this.transformBusinessObjectData(e);return(null==o.code||void 0==o.code)&&delete o.code,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesTaxCodes"),dataType:"json",data:JSON.stringify(o)})},get:function(e){return this.asyncReq({type:"GET",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesTaxCodes('"+e.code+"')"),dataType:"json"})},update:function(e,o){var a=this.transformBusinessObjectData(e);return this.asyncReq({type:"PUT",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesTaxCodes('"+o.code+"')"),data:JSON.stringify(a),dataType:"json"})},"delete":function(e){return this.asyncReq({type:"DELETE",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesTaxCodes('"+e.code+"')")})},getInit:function(){var e=$.Deferred();return $.when(this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesTaxCodes/createBO")})).done(function(t){delete t.code,e.resolve(t)}).fail(function(t){e.reject(t)}),e.promise()},getInitBoNode:function(e,o){var a=this.transformBusinessObjectData(e),i={};return i._self=a,i.createBONodeParam={},i.createBONodeParam.nodePath=o,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesTaxCodes/createBONode"),data:JSON.stringify(i),dataType:"json"})},action_add:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesTaxCodes('"+e.code+"')/add")})},action_update:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesTaxCodes('"+e.code+"')/update")})},transformBusinessObjectData:function(e){delete e["odata.metadata"];for(var t in e)if(e[t]instanceof Array)for(var o=0;e[t].length>o;o++)delete e[t][o]["odata.metadata"];return e},onPropertyChange:function(e,o,a){var i=this.transformBusinessObjectData(e),s={};return s._self=i,s.onBOChangeParam={},s.onBOChangeParam.path=o,s.onBOChangeParam.changeType=a,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesTaxCodes/onBOChange"),data:JSON.stringify(s),dataType:"json"})},query:function(e){var o={};return e=e||{},["inlinecount","filter","select","orderby","top","skip","expand","search"].forEach(function(t){t in e&&(o["$"+t]=e[t])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesTaxCodes"),data:o})},count:function(e){var o={};return e=e||{},null!=e.filter&&(o.$filter=e.filter),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SalesTaxCodes/$count"),data:o})}}})}),define("sap.sbo.services.ShippingTypesService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{__boName:"ShippingType",__boNamespace:"com.sap.sbo",create:function(e){var o=this.transformBusinessObjectData(e);return(null==o.code||void 0==o.code)&&delete o.code,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"ShippingTypes"),dataType:"json",data:JSON.stringify(o)})},get:function(e){return this.asyncReq({type:"GET",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"ShippingTypes("+e.code+")"),dataType:"json"})},update:function(e,o){var a=this.transformBusinessObjectData(e);return this.asyncReq({type:"PUT",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"ShippingTypes("+o.code+")"),data:JSON.stringify(a),dataType:"json"})},"delete":function(e){return this.asyncReq({type:"DELETE",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"ShippingTypes("+e.code+")")})},getInit:function(){var e=$.Deferred();return $.when(this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"ShippingTypes/createBO")})).done(function(t){delete t.code,e.resolve(t)}).fail(function(t){e.reject(t)}),e.promise()},getInitBoNode:function(e,o){var a=this.transformBusinessObjectData(e),i={};return i._self=a,i.createBONodeParam={},i.createBONodeParam.nodePath=o,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"ShippingTypes/createBONode"),data:JSON.stringify(i),dataType:"json"})},action_add:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"ShippingTypes("+e.code+")/add")})},action_update:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"ShippingTypes("+e.code+")/update")})},action_remove:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"ShippingTypes("+e.code+")/remove")})},action_getShippingTypeList:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"ShippingTypes("+e.code+")/getShippingTypeList")})},transformBusinessObjectData:function(e){delete e["odata.metadata"];for(var t in e)if(e[t]instanceof Array)for(var o=0;e[t].length>o;o++)delete e[t][o]["odata.metadata"];return e},onPropertyChange:function(e,o,a){var i=this.transformBusinessObjectData(e),s={};return s._self=i,s.onBOChangeParam={},s.onBOChangeParam.path=o,s.onBOChangeParam.changeType=a,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"ShippingTypes/onBOChange"),data:JSON.stringify(s),dataType:"json"})},query:function(e){var o={};return e=e||{},["inlinecount","filter","select","orderby","top","skip","expand","search"].forEach(function(t){t in e&&(o["$"+t]=e[t])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"ShippingTypes"),data:o})},count:function(e){var o={};return e=e||{},null!=e.filter&&(o.$filter=e.filter),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"ShippingTypes/$count"),data:o})}}})}),define("sap.sbo.services.SocialMediaService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{getDigitalInsight:function(){return this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:escape("http://10.58.5.37:8080/smeapp/resource/demo/social/product/currentweek")})},getVoices:function(e){var t={};return e=e||{},["voiceType","startMonth","endMonth"].forEach(function(o){o in e&&(t[o]=e[o])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:escape("http://10.58.5.37:8080/smeapp/resource/demo/social/product/sentiment"),data:t})},getTop3Posts:function(e){var t={};return e=e||{},["tagName","startMonth","endMonth"].forEach(function(o){o in e&&(t[o]=e[o])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:escape("http://10.58.5.37:8080/smeapp/resource/demo/social/product/sentiment/tagposts"),data:t})},getTweetRate:function(e){var t={};return e=e||{},["startMonth","endMonth"].forEach(function(o){o in e&&(t[o]=e[o])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:escape("http://10.58.5.37:8080/smeapp/resource/demo/social/product/awareness"),data:t})},getTopInfluencers:function(e){var t={};return e=e||{},["startMonth","endMonth"].forEach(function(o){o in e&&(t[o]=e[o])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:escape("http://10.58.5.37:8080/smeapp/resource/demo/social/product/influencers"),data:t})},showPost:function(e){var t={};return e=e||{},["userId","startMonth","endMonth"].forEach(function(o){o in e&&(t[o]=e[o])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:escape("http://10.58.5.37:8080/smeapp/resource/demo/social/product/influencer/posts"),data:t})},getTweetWithImpact:function(e){var t={};return e=e||{},["startMonth","endMonth"].forEach(function(o){o in e&&(t[o]=e[o])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:escape("http://10.58.5.37:8080/smeapp/resource/demo/social/product/posts"),data:t})},getWebPageAnalysis:function(e){var t={};return e=e||{},["startMonth","endMonth"].forEach(function(o){o in e&&(t[o]=e[o])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:escape("http://10.58.5.37:8080/smeapp/resource/demo/social/product/webpage"),data:t})}}})}),define("sap.sbo.services.SystemPropertyExtensionsService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{__boName:"SystemPropertyExtension",__boNamespace:"com.sap.sbo",create:function(e){var o=this.transformBusinessObjectData(e);return(null==o.id||void 0==o.id)&&delete o.id,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SystemPropertyExtensions"),dataType:"json",data:JSON.stringify(o)})},get:function(e){return this.asyncReq({type:"GET",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SystemPropertyExtensions("+e.id+")"),dataType:"json"})},update:function(e,o){var a=this.transformBusinessObjectData(e);return this.asyncReq({type:"PUT",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SystemPropertyExtensions("+o.id+")"),data:JSON.stringify(a),dataType:"json"})},"delete":function(e){return this.asyncReq({type:"DELETE",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SystemPropertyExtensions("+e.id+")")})},getInit:function(){var e=$.Deferred();return $.when(this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SystemPropertyExtensions/createBO")})).done(function(t){delete t.id,e.resolve(t)}).fail(function(t){e.reject(t)}),e.promise()},getInitBoNode:function(e,o){var a=this.transformBusinessObjectData(e),i={};return i._self=a,i.createBONodeParam={},i.createBONodeParam.nodePath=o,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SystemPropertyExtensions/createBONode"),data:JSON.stringify(i),dataType:"json"})},transformBusinessObjectData:function(e){delete e["odata.metadata"];for(var t in e)if(e[t]instanceof Array)for(var o=0;e[t].length>o;o++)delete e[t][o]["odata.metadata"];return e},onPropertyChange:function(e,o,a){var i=this.transformBusinessObjectData(e),s={};return s._self=i,s.onBOChangeParam={},s.onBOChangeParam.path=o,s.onBOChangeParam.changeType=a,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SystemPropertyExtensions/onBOChange"),data:JSON.stringify(s),dataType:"json"})},query:function(e){var o={};return e=e||{},["inlinecount","filter","select","orderby","top","skip","expand","search"].forEach(function(t){t in e&&(o["$"+t]=e[t])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SystemPropertyExtensions"),data:o})},count:function(e){var o={};return e=e||{},null!=e.filter&&(o.$filter=e.filter),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"SystemPropertyExtensions/$count"),data:o})}}})}),define("sap.sbo.services.StatesService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{__boName:"State",__boNamespace:"com.sap.sbo",create:function(e){var o=this.transformBusinessObjectData(e);return(null==o.code||void 0==o.code)&&delete o.code,(null==o.country||void 0==o.country)&&delete o.country,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"States"),dataType:"json",data:JSON.stringify(o)})},get:function(e){return this.asyncReq({type:"GET",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"States("+"code='"+e.code+"',"+"country='"+e.country+"')"),dataType:"json"})},update:function(e,o){var a=this.transformBusinessObjectData(e);return this.asyncReq({type:"PUT",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"States("+"code='"+o.code+"',"+"country='"+o.country+"')"),data:JSON.stringify(a),dataType:"json"})},"delete":function(e){return this.asyncReq({type:"DELETE",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"States("+"code='"+e.code+"',"+"country='"+e.country+"')")})},getInit:function(){var e=$.Deferred();return $.when(this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"States/createBO")})).done(function(t){delete t.code,delete t.country,e.resolve(t)}).fail(function(t){e.reject(t)}),e.promise()},getInitBoNode:function(e,o){var a=this.transformBusinessObjectData(e),i={};return i._self=a,i.createBONodeParam={},i.createBONodeParam.nodePath=o,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"States/createBONode"),data:JSON.stringify(i),dataType:"json"})},action_addState:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"States("+"code='"+e.code+"',"+"country='"+e.country+"')/addState")})},action_updateState:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"States("+"code='"+e.code+"',"+"country='"+e.country+"')/updateState")})},action_deleteState:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"States("+"code='"+e.code+"',"+"country='"+e.country+"')/deleteState")})},action_getStateList:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"States("+"code='"+e.code+"',"+"country='"+e.country+"')/getStateList")})},transformBusinessObjectData:function(e){delete e["odata.metadata"];for(var t in e)if(e[t]instanceof Array)for(var o=0;e[t].length>o;o++)delete e[t][o]["odata.metadata"];return e},onPropertyChange:function(e,o,a){var i=this.transformBusinessObjectData(e),s={};return s._self=i,s.onBOChangeParam={},s.onBOChangeParam.path=o,s.onBOChangeParam.changeType=a,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"States/onBOChange"),data:JSON.stringify(s),dataType:"json"})},query:function(e){var o={};return e=e||{},["inlinecount","filter","select","orderby","top","skip","expand","search"].forEach(function(t){t in e&&(o["$"+t]=e[t])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"States"),data:o})},count:function(e){var o={};return e=e||{},null!=e.filter&&(o.$filter=e.filter),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"States/$count"),data:o})}}})}),define("sap.sbo.services.TargetGroupsService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{__boName:"TargetGroup",__boNamespace:"com.sap.sbo",create:function(e){var o=this.transformBusinessObjectData(e);return(null==o.targetGroupCode||void 0==o.targetGroupCode)&&delete o.targetGroupCode,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"TargetGroups"),dataType:"json",data:JSON.stringify(o)})},get:function(e){return this.asyncReq({type:"GET",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"TargetGroups('"+e.targetGroupCode+"')"),dataType:"json"})},update:function(e,o){var a=this.transformBusinessObjectData(e);return this.asyncReq({type:"PUT",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"TargetGroups('"+o.targetGroupCode+"')"),data:JSON.stringify(a),dataType:"json"})},"delete":function(e){return this.asyncReq({type:"DELETE",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"TargetGroups('"+e.targetGroupCode+"')")})},getInit:function(){var e=$.Deferred();return $.when(this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"TargetGroups/createBO")})).done(function(t){delete t.targetGroupCode,e.resolve(t)}).fail(function(t){e.reject(t)}),e.promise()},getInitBoNode:function(e,o){var a=this.transformBusinessObjectData(e),i={};return i._self=a,i.createBONodeParam={},i.createBONodeParam.nodePath=o,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"TargetGroups/createBONode"),data:JSON.stringify(i),dataType:"json"})},action_getList:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"TargetGroups('"+e.targetGroupCode+"')/getList")})},transformBusinessObjectData:function(e){delete e["odata.metadata"];for(var t in e)if(e[t]instanceof Array)for(var o=0;e[t].length>o;o++)delete e[t][o]["odata.metadata"];return e},onPropertyChange:function(e,o,a){var i=this.transformBusinessObjectData(e),s={};return s._self=i,s.onBOChangeParam={},s.onBOChangeParam.path=o,s.onBOChangeParam.changeType=a,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"TargetGroups/onBOChange"),data:JSON.stringify(s),dataType:"json"})},query:function(e){var o={};return e=e||{},["inlinecount","filter","select","orderby","top","skip","expand","search"].forEach(function(t){t in e&&(o["$"+t]=e[t])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"TargetGroups"),data:o})},count:function(e){var o={};return e=e||{},null!=e.filter&&(o.$filter=e.filter),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"TargetGroups/$count"),data:o})}}})}),define("sap.sbo.services.SystemService",["sap.sbo.services.BaseService","sap.core.klass"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{init:function(){t.sbo.services.BaseService.prototype.init.call(this),t.core.klass.declareMember(this,{})},destroy:function(){},login:function(e,o,a){if(this.isDummy())return!0;
var i=$.Deferred();return $.when(this.asyncReq({type:"POST",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+"connection/login",data:JSON.stringify({company:e,userName:o,password:a})})).done(function(){i.resolve(!0)}).fail(function(){i.reject("login failure")}),i.promise()},sldLogin:function(e,o){if(this.isDummy())return!0;var a=$.Deferred();return $.when(this.asyncReq({type:"POST",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+"sldconnection/login",data:JSON.stringify({tenantDb:e,userName:o,password:""})})).done(function(){a.resolve(!0)}).fail(function(){a.reject("login failure")}),a.promise()},logout:function(){var e=$.Deferred();return $.when(this.asyncReq({type:"POST",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+"connection/logout",dataType:"json"})).done(function(){e.resolve(!0)}).fail(function(){e.reject("logout failure")}),e.promise()},sldLogout:function(){var e=$.Deferred();return $.when(this.asyncReq({type:"POST",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+"sldconnection/logout",dataType:"json"})).done(function(){e.resolve(!0)}).fail(function(){e.reject("logout failure")}),e.promise()}},Protected:{}})}),define("sap.sbo.services.TasksService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{__boName:"Task",__boNamespace:"com.sap.sbo",create:function(e){var o=this.transformBusinessObjectData(e);return(null==o.id||void 0==o.id)&&delete o.id,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Tasks"),dataType:"json",data:JSON.stringify(o)})},get:function(e){return this.asyncReq({type:"GET",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Tasks("+e.id+")"),dataType:"json"})},update:function(e,o){var a=this.transformBusinessObjectData(e);return this.asyncReq({type:"PUT",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Tasks("+o.id+")"),data:JSON.stringify(a),dataType:"json"})},"delete":function(e){return this.asyncReq({type:"DELETE",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Tasks("+e.id+")")})},getInit:function(){var e=$.Deferred();return $.when(this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Tasks/createBO")})).done(function(t){delete t.id,e.resolve(t)}).fail(function(t){e.reject(t)}),e.promise()},getInitBoNode:function(e,o){var a=this.transformBusinessObjectData(e),i={};return i._self=a,i.createBONodeParam={},i.createBONodeParam.nodePath=o,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Tasks/createBONode"),data:JSON.stringify(i),dataType:"json"})},action_done:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Tasks("+e.id+")/done")})},action_approve:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Tasks("+e.id+")/approve")})},action_reject:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Tasks("+e.id+")/reject")})},action_reopen:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Tasks("+e.id+")/reopen")})},action_grantFull:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Tasks("+e.id+")/grantFull")})},action_grantRead:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Tasks("+e.id+")/grantRead")})},action_ignore:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Tasks("+e.id+")/ignore")})},transformBusinessObjectData:function(e){delete e["odata.metadata"];for(var t in e)if(e[t]instanceof Array)for(var o=0;e[t].length>o;o++)delete e[t][o]["odata.metadata"];return e},onPropertyChange:function(e,o,a){var i=this.transformBusinessObjectData(e),s={};return s._self=i,s.onBOChangeParam={},s.onBOChangeParam.path=o,s.onBOChangeParam.changeType=a,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Tasks/onBOChange"),data:JSON.stringify(s),dataType:"json"})},query:function(e){var o={};return e=e||{},["inlinecount","filter","select","orderby","top","skip","expand","search"].forEach(function(t){t in e&&(o["$"+t]=e[t])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Tasks"),data:o})},count:function(e){var o={};return e=e||{},null!=e.filter&&(o.$filter=e.filter),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Tasks/$count"),data:o})}}})}),define("sap.sbo.services.TimelineService",["sap.sbo.services.BaseService","sap.core.klass","sap.core.ajax","sap.core.IListSource","sap.core.IClonable","sap.core.ArrayListSource","sap.sbo.compoundservices.StatusService","sap.sbo.util.formatter"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Interfaces:[t.core.IListSource,t.core.IClonable],Public:{init:function(e,o){this.declareMember({__url:e,__params:o,__statusService:this.autoDestroy(new t.sbo.compoundservices.StatusService)})},destroy:function(){},read:function(e,o,a){var i=$.Deferred(),s=void 0===e.startTime?null:e.startTime,n=void 0===e.endTime?null:e.endTime,r=e.size||20,l=null;null!=s&&s>0?(n=s,s=null):null!=n&&n>0&&(s=n,n=null),null!=a&&null!=a.type&&(l=a.type);var d=null;return null!=this.__params&&(d=this.__params.thingID),$.when(this.__statusService.timeline(d,s,n,r,l)).done(function(e){var o=s,a=n;if(e&&e.items&&e.items.value&&e.items.value.length>0){a=e.items.value.length>0?e.items.value[0].item.published:null,o=e.items.value.length>0?e.items.value[e.items.value.length-1].item.published:null;for(var r=0;e.items.value.length>r;r++)e.items.value[r].item=t.sbo.util.formatter.convertAttachedFiles(e.items.value[r].item),e.items.value[r].item.oddeven=r%2}else e={items:{value:[]}},e.totalItems=0;i.resolve({data:e.items.value||[],count:e.totalItems,start:o,end:a})}).fail(function(){i.reject("Request homeTimeline failed.")}),i.promise()},isReadable:function(){return!0},clone:function(){return new this.constructor(this.__url,this.__params)}},Protected:{}})}),define("sap.sbo.services.UserEmployeesService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{__boName:"UserEmployee",__boNamespace:"com.sap.sbo",create:function(e){var o=this.transformBusinessObjectData(e);return(null==o.employeeID||void 0==o.employeeID)&&delete o.employeeID,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"UserEmployees"),dataType:"json",data:JSON.stringify(o)})},get:function(e){return this.asyncReq({type:"GET",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"UserEmployees("+e.employeeID+")"),dataType:"json"})},"delete":function(e){return this.asyncReq({type:"DELETE",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"UserEmployees("+e.employeeID+")")})},getInit:function(){var e=$.Deferred();return $.when(this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"UserEmployees/createBO")})).done(function(t){delete t.employeeID,e.resolve(t)}).fail(function(t){e.reject(t)}),e.promise()},getInitBoNode:function(e,o){var a=this.transformBusinessObjectData(e),i={};return i._self=a,i.createBONodeParam={},i.createBONodeParam.nodePath=o,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"UserEmployees/createBONode"),data:JSON.stringify(i),dataType:"json"})},action_updateUserEmployee:function(e,o){var a={};return a.userEmployeeUpdateParams=o,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"UserEmployees("+e.employeeID+")/updateUserEmployee"),data:JSON.stringify(a),dataType:"json"})},action_getActionsStatus:function(e,o,a,i){var s={};return s.namespace=o,s.name=a,s.actionNames=i,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"UserEmployees("+e.employeeID+")/getActionsStatus"),data:JSON.stringify(s),dataType:"json"})},action_getPermissionItemsByIdentitfiers:function(e,o){var a=o;return this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"UserEmployees("+e.employeeID+")/getPermissionItemsByIdentitfiers"),data:JSON.stringify(a),dataType:"json"})},action_getPermissionItems:function(e,o){var a=o;return this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"UserEmployees("+e.employeeID+")/getPermissionItems"),data:JSON.stringify(a),dataType:"json"})},action_setPermissionItems:function(e,o,a){var i={};return i.permissionItems=o,i.permissionValues=a,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"UserEmployees("+e.employeeID+")/setPermissionItems"),data:JSON.stringify(i),dataType:"json"})},transformBusinessObjectData:function(e){delete e["odata.metadata"];for(var t in e)if(e[t]instanceof Array)for(var o=0;e[t].length>o;o++)delete e[t][o]["odata.metadata"];return e},onPropertyChange:function(e,o,a){var i=this.transformBusinessObjectData(e),s={};return s._self=i,s.onBOChangeParam={},s.onBOChangeParam.path=o,s.onBOChangeParam.changeType=a,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"UserEmployees/onBOChange"),data:JSON.stringify(s),dataType:"json"})},query:function(e){var o={};return e=e||{},["inlinecount","filter","select","orderby","top","skip","expand","search"].forEach(function(t){t in e&&(o["$"+t]=e[t])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"UserEmployees"),data:o})},count:function(e){var o={};return e=e||{},null!=e.filter&&(o.$filter=e.filter),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"UserEmployees/$count"),data:o})}}})}),define("sap.sbo.services.UserFieldsService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{create:function(e){var o=this.transformBusinessObjectData(e);return(null==o.id||void 0==o.id)&&delete o.id,this.asyncReq({type:"POST",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+"UserFields",dataType:"json",data:JSON.stringify(o)})},get:function(e){return this.asyncReq({type:"GET",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+"UserFields("+e.id+")",dataType:"json"})},update:function(e,o){var a=this.transformBusinessObjectData(e);return this.asyncReq({type:"PUT",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+"UserFields("+o.id+")",data:JSON.stringify(a),dataType:"json"})},"delete":function(e){return this.asyncReq({type:"DELETE",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+"UserFields("+e.id+")"})},getInit:function(){var e=$.Deferred();return $.when(this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:t.sbo.services.BaseService.documentbase+"UserFields/createBO"})).done(function(t){delete t.id,e.resolve(t)}).fail(function(t){e.reject(t)}),e.promise()},getInitBoNode:function(e,o){var a=this.transformBusinessObjectData(e),i={};return i._self=a,i.createBONodeParam={},i.createBONodeParam.nodePath=o,this.asyncReq({type:"POST",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+"UserFields/createBONode",data:JSON.stringify(i),dataType:"json"})},transformBusinessObjectData:function(e){delete e["odata.metadata"];for(var t in e)if(e[t]instanceof Array)for(var o=0;e[t].length>o;o++)delete e[t][o]["odata.metadata"];return e},onPropertyChange:function(e,o,a){var i=this.transformBusinessObjectData(e),s={};return s._self=i,s.onBOChangeParam={},s.onBOChangeParam.path=o,s.onBOChangeParam.changeType=a,this.asyncReq({type:"POST",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+"UserFields/onBOChange",data:JSON.stringify(s),dataType:"json"})},query:function(e){var o={};return e=e||{},["inlinecount","filter","select","orderby","top","skip","expand"].forEach(function(t){t in e&&(o["$"+t]=e[t])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+"UserFields",data:o})},count:function(e){var o={};return e=e||{},null!=e.filter&&(o.$filter=e.filter),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+"UserFields/$count",data:o})}}})}),define("sap.sbo.services.UserPropertiesService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{__boName:"UserProperty",__boNamespace:"com.sap.sbo",create:function(e){var o=this.transformBusinessObjectData(e);return(null==o.id||void 0==o.id)&&delete o.id,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"UserProperties"),dataType:"json",data:JSON.stringify(o)})},get:function(e){return this.asyncReq({type:"GET",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"UserProperties("+e.id+")"),dataType:"json"})},update:function(e,o){var a=this.transformBusinessObjectData(e);return this.asyncReq({type:"PUT",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"UserProperties("+o.id+")"),data:JSON.stringify(a),dataType:"json"})},"delete":function(e){return this.asyncReq({type:"DELETE",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"UserProperties("+e.id+")")})},getInit:function(){var e=$.Deferred();return $.when(this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"UserProperties/createBO")})).done(function(t){delete t.id,e.resolve(t)}).fail(function(t){e.reject(t)}),e.promise()},getInitBoNode:function(e,o){var a=this.transformBusinessObjectData(e),i={};return i._self=a,i.createBONodeParam={},i.createBONodeParam.nodePath=o,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"UserProperties/createBONode"),data:JSON.stringify(i),dataType:"json"})},transformBusinessObjectData:function(e){delete e["odata.metadata"];for(var t in e)if(e[t]instanceof Array)for(var o=0;e[t].length>o;o++)delete e[t][o]["odata.metadata"];return e},onPropertyChange:function(e,o,a){var i=this.transformBusinessObjectData(e),s={};return s._self=i,s.onBOChangeParam={},s.onBOChangeParam.path=o,s.onBOChangeParam.changeType=a,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"UserProperties/onBOChange"),data:JSON.stringify(s),dataType:"json"})},query:function(e){var o={};return e=e||{},["inlinecount","filter","select","orderby","top","skip","expand","search"].forEach(function(t){t in e&&(o["$"+t]=e[t])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"UserProperties"),data:o})},count:function(e){var o={};return e=e||{},null!=e.filter&&(o.$filter=e.filter),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"UserProperties/$count"),data:o})}}})}),define("sap.sbo.services.UsersService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{__boName:"User",__boNamespace:"com.sap.sbo",create:function(e){var o=this.transformBusinessObjectData(e);return(null==o.internalKey||void 0==o.internalKey)&&delete o.internalKey,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Users"),dataType:"json",data:JSON.stringify(o)})},get:function(e){return this.asyncReq({type:"GET",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Users("+e.internalKey+")"),dataType:"json"})},update:function(e,o){var a=this.transformBusinessObjectData(e);return this.asyncReq({type:"PUT",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Users("+o.internalKey+")"),data:JSON.stringify(a),dataType:"json"})},"delete":function(e){return this.asyncReq({type:"DELETE",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Users("+e.internalKey+")")})},getInit:function(){var e=$.Deferred();return $.when(this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Users/createBO")})).done(function(t){delete t.internalKey,e.resolve(t)}).fail(function(t){e.reject(t)}),e.promise()},getInitBoNode:function(e,o){var a=this.transformBusinessObjectData(e),i={};return i._self=a,i.createBONodeParam={},i.createBONodeParam.nodePath=o,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Users/createBONode"),data:JSON.stringify(i),dataType:"json"})},action_close:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Users("+e.internalKey+")/close")})},transformBusinessObjectData:function(e){delete e["odata.metadata"];for(var t in e)if(e[t]instanceof Array)for(var o=0;e[t].length>o;o++)delete e[t][o]["odata.metadata"];return e},onPropertyChange:function(e,o,a){var i=this.transformBusinessObjectData(e),s={};return s._self=i,s.onBOChangeParam={},s.onBOChangeParam.path=o,s.onBOChangeParam.changeType=a,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Users/onBOChange"),data:JSON.stringify(s),dataType:"json"})},query:function(e){var o={};return e=e||{},["inlinecount","filter","select","orderby","top","skip","expand","search"].forEach(function(t){t in e&&(o["$"+t]=e[t])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Users"),data:o})},count:function(e){var o={};return e=e||{},null!=e.filter&&(o.$filter=e.filter),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"Users/$count"),data:o})}}})}),define("sap.sbo.services.VatGroupsService",["sap.core.klass","sap.sbo.services.BaseService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.services.BaseService,Public:{__boName:"VatGroups",__boNamespace:"com.sap.sbo",create:function(e){var o=this.transformBusinessObjectData(e);return(null==o.code||void 0==o.code)&&delete o.code,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"VatGroups"),dataType:"json",data:JSON.stringify(o)})},get:function(e){return this.asyncReq({type:"GET",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"VatGroups('"+e.code+"')"),dataType:"json"})},update:function(e,o){var a=this.transformBusinessObjectData(e);return this.asyncReq({type:"PUT",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"VatGroups('"+o.code+"')"),data:JSON.stringify(a),dataType:"json"})},"delete":function(e){return this.asyncReq({type:"DELETE",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"VatGroups('"+e.code+"')")})},getInit:function(){var e=$.Deferred();return $.when(this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"VatGroups/createBO")})).done(function(t){delete t.code,e.resolve(t)}).fail(function(t){e.reject(t)}),e.promise()},getInitBoNode:function(e,o){var a=this.transformBusinessObjectData(e),i={};return i._self=a,i.createBONodeParam={},i.createBONodeParam.nodePath=o,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"VatGroups/createBONode"),data:JSON.stringify(i),dataType:"json"})},action_add:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"VatGroups('"+e.code+"')/add")})},action_update:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"VatGroups('"+e.code+"')/update")})},action_remove:function(e){return this.asyncReq({type:"POST",contentType:"application/json",dataType:"json",url:encodeURI(t.sbo.services.BaseService.documentbase+"VatGroups('"+e.code+"')/remove")})},transformBusinessObjectData:function(e){delete e["odata.metadata"];for(var t in e)if(e[t]instanceof Array)for(var o=0;e[t].length>o;o++)delete e[t][o]["odata.metadata"];return e},onPropertyChange:function(e,o,a){var i=this.transformBusinessObjectData(e),s={};return s._self=i,s.onBOChangeParam={},s.onBOChangeParam.path=o,s.onBOChangeParam.changeType=a,this.asyncReq({type:"POST",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"VatGroups/onBOChange"),data:JSON.stringify(s),dataType:"json"})},query:function(e){var o={};return e=e||{},["inlinecount","filter","select","orderby","top","skip","expand","search"].forEach(function(t){t in e&&(o["$"+t]=e[t])}),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"VatGroups"),data:o})},count:function(e){var o={};return e=e||{},null!=e.filter&&(o.$filter=e.filter),this.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:encodeURI(t.sbo.services.BaseService.documentbase+"VatGroups/$count"),data:o})}}})}),define("sap.sbo.util.AjaxListSource",["sap.core.klass","sap.core.IListSource","sap.core.IClonable","sap.log","sap.core.ListSourceFilter","sap.core.EventProvider"],function(){"use strict";var e=this.getNS(),t=e.sap,o=t.core.klass.declare({Name:this.getModuleInfo().moduleName,Interfaces:[t.core.IListSource,t.core.IClonable],Base:t.core.EventProvider,Public:{init:function(e,o){t.core.EventProvider.prototype.init.apply(this,arguments),this.declareMember({__oService:this.autoDestroy(e.clone()),__oExpand:o})},destroy:function(){},read:function(e,o,a,i,s){if(null===a&&(a=void 0),a&&!(a instanceof t.core.ListSourceFilter))return t.log.error("Filter for AjaxListSource ["+a+"] must be an instance of sap.core.ListSourceFilter "),void 0;var n="";i&&i.length&&i.length>1&&(n=i.join(","));var r=$.Deferred(),l={inlinecount:"allpages",orderby:o&&o.field+" "+(o.asc?"asc":"desc"),top:e.size,skip:e.begin,filter:a&&this.__filterToOdataFilter(a),expand:this.__oExpand};n&&(l.select=n),s&&(l.search=s);var d=this.__oService.query(l);d.then(function(e){e?r.resolve({data:e.value||e.result||[],count:e["odata.count"]}):r.resolve({data:[],count:0})},function(){r.reject("Get data failed")});var p=r.promise();return p.cancel=function(){d.cancel()},p},isReadable:function(){return!0},isWritable:function(){return!1},clone:function(){return new o(this.__oService)}},Protected:{__filterToOdataFilter:function(e){function o(e){switch(typeof e){case"object":if("null"===e)return"null";switch(e.op){case"field":return e.value;case"not":return"(not "+o(e.value)+")";case"and":case"or":case"eq":case"ne":case"gt":case"ge":case"lt":case"le":case"add":case"sub":case"mul":case"div":case"mod":return"("+o(e.leftValue)+" "+e.op+" "+o(e.rightValue)+")";case"subStringOf":return"substringof("+o(e.leftValue)+", "+o(e.rightValue)+")"}break;case"string":return"'"+e+"'";case"number":case"boolean":return""+e}return t.log.error("invalid filter:["+JSON.stringify(e)+"]"),""}var a=o(e.__filter);return"("===a[0]&&(a=a.substring(1,a.length-1)),a}}});return o}),define("sap.sbo.util.base64",[],function(){"use strict";var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";return{encode:function(t){if(t){for(var o=0,a=t.length,i=0,s=0,n=0,r=0,l=[],d=0;a>o;)i=t.charCodeAt(o++),s=t.charCodeAt(o++),n=t.charCodeAt(o++),r=i<<16|s<<8|n,l[d++]=e[63&r>>18],l[d++]=e[63&r>>12],l[d++]=e[63&r>>6],l[d++]=e[63&r];var p=a%3;return l=p?l.slice(0,p-3):l,l.join("")+"===".slice(p||3)}return t},decode:function(t){if(t){for(var o=t.length,a=0,i=0,s=0,n=0,r=0,l=0,d=[],p=0,c=function(e){return e?String.fromCharCode(e):""};o>a;)s=e.indexOf(t[a++]),n=e.indexOf(t[a++]),r=e.indexOf(t[a++]),l=e.indexOf(t[a++]),r=-1===r?0:r,l=-1===l?0:l,i=s<<18|n<<12|r<<6|l,d[p++]=c(255&i>>16),d[p++]=c(255&i>>8),d[p++]=c(255&i);return d.join("")}return t}}}),define("sap.sbo.util.cacheablemetaDataManager",["require","sap.log"],function(e,t){var o={},a={};return a.get=function(a,i,s,n){var r=$.Deferred();return e(a,function(e){var l=new e,d=a+"."+i;o.hasOwnProperty(d)&&!n?r.resolve(o[d]):$.when(l[i](s)).done(function(e){o[d]=e,r.resolve(e)}).fail(function(){r.reject(),t.fatal("fetch data error,"+a+", "+i)})}),r},a}),define("sap.sbo.util.errorHelper",["sap.core.klass","sap.sbo.core.BoException","sap.sbo.core.GeneralExeption","sap.core.BaseException"],function(){"use strict";var e=this.getNS("sap");return{xhr2Exception:function(t,o){if(!t||!t.responseText)return void 0;try{var a=JSON.parse(t.responseText),i=null;return a["sbo.messages"]?(i=new e.sbo.core.BoException(a["sbo.messages"].value[0].message,a["odata.error"]["error-code"],a["sbo.messages"].value[0].path),i.setUrl(o),i):a["odata.error"]?a["odata.error"].path?(i=new e.sbo.core.BoException(a["odata.error"].message.value,a["odata.error"]["error-code"],a["odata.error"].path),i.setUrl(o),i):(i=new e.sbo.core.GeneralExeption(a["odata.error"].message.value,a["odata.error"]["error-code"]),i.setUrl(o),i):void 0}catch(i){return void 0}}}}),define("sap.sbo.util.formatter",["sap.core.klass","sap.core.FormatException","sap.sbo.services.BaseService","sap.sbo.localization.Helper","sap.sbo.ui.BoNavigationObject","json!sap.sbo.util.enums"],function(){var e=this.getNS(),t=e.sap,o=function(e,o){if(e!==typeof o)throw new t.core.FormatException("Expect type ["+e+"]but get type ["+typeof o+"]");return!0},a=t.sbo.localization.Helper,i={String:"app/settings/GENERAL_TEXT",Text:"app/settings/GENERAL_LONGTEXT",Memo:"app/settings/GENERAL_LONGTEXT",DateTime:"app/settings/GENERAL_DATETIME",Integer:"app/settings/GENERAL_NUMBER",Long:"app/settings/GENERAL_NUMBER",BoYesNoEnum:"app/settings/GENERAL_YES_NO",Email:"app/settings/ADVANCE_EMAIL",Phone:"app/settings/ADVANCE_PHONE",ZipCode:"app/settings/ADVANCE_ZIPCODE",Fax:"app/settings/ADVANCE_FAX",Link:"app/settings/ADVANCE_HYPERLINK",Enum:"app/settings/ADVANCE_ENUM",Sum:"app/settings/DECIMAL_AMOUNT",Price:"app/settings/DECIMAL_PRICE",Quantity:"app/settings/DECIMAL_QUANTITY",Rate:"app/settings/DECIMAL_RATE",Percent:"app/settings/DECIMAL_PERCENT",Measure:"app/settings/DECIMAL_UNIT"},s={en_GB:"enGB",es_CO:"esCO",pt_PT:"ptPT",zh_TW:"ZF"},n=function(e,t){if(e){t=t||$("body").getModel("globalSettings").get("date/formatString")||"yy-mm-dd";for(var o=[{key:"yy",value:""+e.getUTCFullYear()},{key:"y",value:("0"+e.getUTCFullYear()%100).substr(-2)},{key:"mm",value:("0"+(e.getUTCMonth()+1)).substr(-2)},{key:"m",value:""+(e.getUTCMonth()+1)},{key:"dd",value:("0"+e.getUTCDate()).substr(-2)},{key:"d",value:""+e.getUTCDate()},{key:"MM",value:$("body").getModel("i18n").getValue("SAP-const").date.monthNames[e.getUTCMonth()]},{key:"M",value:$("body").getModel("i18n").getValue("SAP-const").date.monthNamesShort[e.getUTCMonth()]}],a=t,i=0;o.length>i;++i)a=a.replace(o[i].key,o[i].value);return a}return""},r=function(e,t){if(e){var o=$("body").getModel("globalSettings");t=void 0!==t?t:o.get("timeUse24");var a=n(e),i="";return i=t?e.toTimeString().replace(/.*(\d{2}:\d{2}):\d{2}.*/,"$1"):e.toLocaleTimeString().replace(/([\d]+:[\d]{2})(:[\d]{2})\s+(.*)/,"$1$3"),a+" "+i}return""},l={javaLocale_slimLocale:function(e){var t="EN";return s[e]?t=s[e]:e&&(-1!==e.indexOf("_")&&(t=e.split("_")[0]),t=t.toUpperCase()),t},date_formattedString:function(e,t){return n(e,t)},dateTime_formattedString:function(e,t){return r(e,t)},circleNumber_more:function(e){return null!=e&&parseInt(e)?parseInt(e)>999?"999+":e:e},dateString_string:function(e,t){return"<<"===t?"object"==typeof e?e.toDateString():"string"==typeof e?new Date(e).toDateString():(new Date).toDateString():e},date_string:function(e,t){return"<<"===t?"object"==typeof e?e:"string"==typeof e?new Date(e):new Date:e},date_JODATime:function(e,t){return">>"===t?(o("object",e),null===e?null:isNaN(+e)?null:"/Date("+e.valueOf()+")/"):null!==e?(o("string",e),new Date(parseInt(/\/Date\((.*)\)\//.exec(e)[1],10))):null},JODATime_date:function(e,t){return">>"===t?l.date_JODATime(e,"<<"):l.date_JODATime(e,">>")},integer_date:function(e,t){return">>"===t?(o("number",e),new Date(e)):e.valueOf()},date_integer:function(e,t){return">>"===t?l.integer_date(e,"<<"):l.integer_date(e,">>")},integer_date_nullable:function(e,t){return null===e?null:">>"===t?(o("number",e),new Date(e)):e.valueOf()},double_string_nullable:function(e,t){return null==e?0:">>"===t?""+e:parseFloat(e)},date_integer_nullable:function(e,t){return">>"===t?l.integer_date_nullable(e,"<<"):l.integer_date_nullable(e,">>")},nullStringAdapter:function(e,t){return">>"===t?e:e||""},emptyString2BoolAdapter:function(e){return e?!0:!1},undefined2null:function(e){return void 0===e?null:e},integer_undefined:function(e,t){return"<<"!==t||void 0!==e&&null!==e?e:0},bool_string:function(t,o){return"<<"===o?t===e.json.sap.sbo.util.enums.bool.Yes:t?e.json.sap.sbo.util.enums.bool.Yes:e.json.sap.sbo.util.enums.bool.No},replaceUnderline:function(e){return e.replace(/_/g," ")},convertTimeToDisplay:function(e){if(null==e)return"";var o=this.convertTo_ISO8601string(new Date),a=new Date(e),i=(new Date(o)-a)/1e3;if(i>=86400)return r(a);if(86400>i&&i>=3600){var s=parseInt(i/3600,10);return s+(s>1?t.sbo.localization.Helper.get("util/formatter/hours_txt"):t.sbo.localization.Helper.get("util/formatter/hour_txt"))}if(3600>i&&i>=60){var n=parseInt(i/60,10);return n+(n>1?t.sbo.localization.Helper.get("util/formatter/mins_txt"):t.sbo.localization.Helper.get("util/formatter/min_txt"))}return t.sbo.localization.Helper.get("util/formatter/now")},convertTo_ISO8601string:function(e){function t(e){return 10>e?"0"+e:e}return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"Z"
},getCommentPortrait:function(e){if(null!=e.portrait&&e.portrait>0){var o={boNamespace:"com.sap.sbo",boName:"EmployeesInfo",keyElements:[{keyName:"employeeID",keyValue:Number(e.id)}]};return t.sbo.services.BaseService.documentbase+"file/thumbnail?id="+e.portrait+"&boEntityKey="+encodeURIComponent(JSON.stringify(o))}return"image/common/no-portrait.png"},avatarImageUrl_protriadID:function(e){if(null==e)return"image/common/no-portrait.png";if(("post"==e.verb||"comment"==e.verb)&&null!=e.actor&&"person"==e.actor.objectType){if(null!=e.actor.portrait&&e.actor.portrait>0){var o={boNamespace:"com.sap.sbo",boName:"EmployeesInfo",keyElements:[{keyName:"employeeID",keyValue:Number(e.actor.id)}]};return t.sbo.services.BaseService.documentbase+"file/thumbnail?id="+e.actor.portrait+"&boEntityKey="+encodeURIComponent(JSON.stringify(o))}return"image/common/no-portrait.png"}return"image/common/no-portrait.png"},getUserPortraitByID:function(e){if(null!=e.portraitId&&e.portraitId>0){var o={boNamespace:"com.sap.sbo",boName:"EmployeesInfo",keyElements:[{keyName:"employeeID",keyValue:Number(e.employeeID)}]};return t.sbo.services.BaseService.documentbase+"file/thumbnail?id="+e.portraitId+"&boEntityKey="+encodeURIComponent(JSON.stringify(o))}return"image/common/no-portrait.png"},getCompanyLogo:function(e){if(null!=e&&e.attachmentId>0){var o={boNamespace:"com.sap.sbo",boName:"CompanySetting",keyElements:[{keyName:"id",keyValue:Number(e.id)}]};return t.sbo.services.BaseService.documentbase+"file/thumbnail?id="+e.attachmentId+"&boEntityKey="+encodeURIComponent(JSON.stringify(o))}return"image/common/no-portrait.png"},null2Zero:function(e){return""==e||null===e||void 0===e?"0.0":e},boolean_null:function(e){return null==e?!1:e},null2False:function(e){return e?!0:!1},getManagerName:function(e){return null!=e&&e.length>0?e[0].firstName+" "+e[0].lastName:""},getDisplayType:function(e){return i[e]?a.get(i[e]):a.get(i.Enum)},convertAttachedFiles:function(e){if(null!=e){if("phone"==SboShell.__deviceType?"phone":"pad",e.object.portraitHTML="",e.object.portraitHTML_Tile="",null!=e.actor)if("post"==e.verb&&null!=e.actor)if("person"==e.actor.objectType){null!=e.actor&&"person"==e.actor.objectType&&(e.object.himself=new t.sbo.ui.BoNavigationObject({boName:"UserEmployee",boNamespace:"com.sap.sbo",keyElements:[e.actor.id]}));var o={boNamespace:"com.sap.sbo",boName:"EmployeesInfo",keyElements:[{keyName:"employeeID",keyValue:Number(e.actor.id)}]};null!=e.actor.portrait&&e.actor.portrait>0?(e.object.portraitHTML="<div><a href='javascript:void(0);' data-sap-widget='sap.sbo.ui.widget.BoLink' data-sap-option='keepHTMLText:true, boEntity: {{object/himself}}'><div class='img' data-sap-widget='sap.ui.widget.Photo' data-sap-option='src:\""+t.sbo.services.BaseService.documentbase+"file/thumbnail?id="+e.actor.portrait+"&boEntityKey="+encodeURIComponent(JSON.stringify(o))+'", radius:"20px", arrangeType:"both" \' ></div></a></div>',e.object.portraitHTML_Tile="<div><div class='img' data-sap-widget='sap.ui.widget.Photo' data-sap-option='src:\""+t.sbo.services.BaseService.documentbase+"file/thumbnail?id="+e.actor.portrait+"&boEntityKey="+encodeURIComponent(JSON.stringify(o))+'", radius:"20px", arrangeType:"both" \' ></div></div>'):(e.object.portraitHTML="<div><a href='javascript:void(0);' data-sap-widget='sap.sbo.ui.widget.BoLink' data-sap-option='keepHTMLText:true, boEntity: {{object/himself}}'><img src='image/common/no-portrait.png' /></a></div>",e.object.portraitHTML_Tile="<div><img src='image/common/no-portrait.png' /></div>")}else e.object.portraitHTML="<div><img src='image/feed/computer.png'/></div>",e.object.portraitHTML_Tile="<div><img src='image/feed/computer.png'/></div>";else"add"==e.verb&&null!=e.target?(e.object.portraitHTML="<div><img src='image/feed/computer.png'/></div>",e.object.portraitHTML_Tile="<div><img src='image/feed/computer.png'/></div>"):"update"==e.verb&&null!=e.actor?(e.object.portraitHTML="<div><img src='image/feed/computer.png'/></div>",e.object.portraitHTML_Tile="<div><img src='image/feed/computer.png'/></div>"):(e.object.portraitHTML="<div><img src='image/common/no-portrait.png' /></div>",e.object.portraitHTML_Tile="<div><img src='image/feed/computer.png'/></div>");if(e.comments&&e.comments.value&&e.comments.totalItems>0){e.hasComment="block",e.latestComment=e.comments.items.value[0].item.object.content,e.commentAuthor=e.comments.items.value[0].item.actor.displayName.replace(/_/g," ");for(var a=0;e.comments.items.value.length>a;a++){var i=e.comments.items.value[a],s=$("<div>").text(i.item.object.content).html();if(null!=i.item.object.embed&&i.item.object.embed.totalItems>0)for(var n=0;i.item.object.embed.totalItems>n;n++){var r=this.getNavigationData(i.item.object.embed.items.value[n].item.objectType,i.item.object.embed.items.value[n].item.id),l='<a href="javascript:void(0)" data-sap-widget="sap.sbo.ui.widget.BoLink" data-sap-option="text: \'@'+i.item.object.embed.items.value[n].item.displayName+"', boEntity: {{boEntity"+n+'}}"></a>';i["boEntity"+n]=r,s=s.replace("${"+n+"}",l)}e.comments.items.value[a].item.object.content=s}}else e.hasComment="none",e.latestComment="",e.commentAuthor="",e.comments.value=[];if(null!=e.target&&null!=e.target.id?(e.targetType=t.sbo.localization.Helper.get("feed/item/poston")+e.target.objectDisplayType+":",e.targetName=1==e.target.needAt?"@"+e.target.displayName:e.target.displayName,e.targetEntity=this.getNavigationData(e.target.objectType,e.target.id)):(e.target=null,e.targetType="",e.targetName="",e.targetEntity=new t.sbo.ui.BoNavigationObject({boName:"UserEmployee",boNamespace:"com.sap.sbo",keyElements:[-1]})),null!=e.object&&null!=e.object.embed.items&&e.object.embed.items.value.length>0){for(var d=$("<div>").text(e.object.content).html(),p=e.object.content,c=0;e.object.embed.items.value.length>c;c++){var r=null;r=1==c?"J0004"==e.object.embed.items.value[c].item.objectType?"person"==e.object.embed.items.value[c-1].item.objectType?this.getNavigationData(e.object.embed.items.value[c].item.objectType,e.object.embed.items.value[c].item.id):this.getNavigationData(e.object.embed.items.value[c].item.objectType,e.object.embed.items.value[c].item.id,this.getBOKey(e.object.embed.items.value[c-1].item)):"J0010"==e.object.embed.items.value[c].item.objectType?"person"==e.object.embed.items.value[c-1].item.objectType?this.getNavigationData(e.object.embed.items.value[c].item.objectType,e.object.embed.items.value[c].item.id):this.getNavigationData(e.object.embed.items.value[c].item.objectType,e.object.embed.items.value[c].item.id,this.getBOKey(e.object.embed.items.value[c-1].item)):this.getNavigationData(e.object.embed.items.value[c].item.objectType,e.object.embed.items.value[c].item.id):this.getNavigationData(e.object.embed.items.value[c].item.objectType,e.object.embed.items.value[c].item.id);var l="";1==e.object.embed.items.value[c].item.delFlag||null==r?l=1==e.object.embed.items.value[c].item.needAt?"@"+e.object.embed.items.value[c].item.displayName:e.object.embed.items.value[c].item.displayName:(l=1==e.object.embed.items.value[c].item.needAt?'<a href="javascript:void(0)" data-sap-widget="sap.sbo.ui.widget.BoLink" data-sap-option="text: \'@'+e.object.embed.items.value[c].item.displayName+"', boEntity: {{object/boEntity"+c+'}}"></a>':'<a href="javascript:void(0)" data-sap-widget="sap.sbo.ui.widget.BoLink" data-sap-option="text: \''+e.object.embed.items.value[c].item.displayName+"', boEntity: {{object/boEntity"+c+'}}"></a>',e.object["boEntity"+c]=r),d=d.replace("${"+c+"}",l),p=p.replace("${"+c+"}","@"+e.object.embed.items.value[c].item.displayName)}e.object.contentHTML=d,e.object.contentTITLE=p}else e.object.contentHTML=e.object.content,e.object.contentTITLE=e.object.content;if(null!=e.object&&null!=e.object.attached&&null!=e.object.attached.items&&e.object.attached.items.value.length>0){for(var u=e.object.contentHTML,h=e.object.contentTITLE,b=0;e.object.attached.items.value.length>b;b++)e.object.attached.items.value[b].item.objectType.indexOf("image")>-1?(e.object.attached.items.value[b].item.path=t.sbo.services.BaseService.documentbase+"social/file/open?fileID="+e.object.attached.items.value[b].item.id+"&thumbnail=0",e.object.attached.items.value[b].item.realPath=t.sbo.services.BaseService.documentbase+"social/file/open?fileID="+e.object.attached.items.value[b].item.id,h=h.replace("#{"+b+"}",""),u=u.replace("#{"+b+"}","")):(e.object.attached.items.value[b].item.path="image/feed/attachment.png",e.object.attached.items.value[b].item.realPath=t.sbo.services.BaseService.documentbase+"social/file/open?fileID="+e.object.attached.items.value[b].item.id,u=u.replace("#{"+b+"}",""),h=h.replace("#{"+b+"}",e.object.attached.items.value[b].item.displayName));e.object.contentHTML=u,e.object.contentTITLE=h}else e.object.attached={items:{value:[]},objectType:"collection",totalItems:0}}return e},clone:function d(e){if(null==e)return e;var t,o=[Number,String,Boolean];if(o.forEach(function(o){e instanceof o&&(t=o(e))}),void 0===t)if("[object Array]"===Object.prototype.toString.call(e))t=[],e.forEach(function(e,o){t[o]=d(e)});else if("object"==typeof e)if(e.nodeType&&"function"==typeof e.cloneNode)var t=e.cloneNode(!0);else if(e.prototype)t=e;else if(e instanceof Date)t=new Date(e);else{t={};for(var a in e)t[a]=d(e[a])}else t=e;return t},getPhoneImg:function(e){return e?"./image/Customer/phone.png":""},getEmailImg:function(e){return e?"./image/Customer/email.png":""},getLinkImg:function(e){return e?"./image/Customer/webSite.png":""},getActiveImg:function(t){return t===e.json.sap.sbo.util.enums.bool.Yes?"./image/Customer/switchOn.png":"./image/Customer/switchOff.png"},isActive:function(o){return o===e.json.sap.sbo.util.enums.bool.Yes?t.sbo.localization.Helper.get("app/appr/ACTIVE"):t.sbo.localization.Helper.get("app/appr/INACTIVE")},convertStatusImage:function(e){switch(e){case"dsClosed":return"./image/SalesOrder/lights_done.png";case"dsOpen":return"./image/SalesOrder/lights_open1.png";case"dsCancelled":return"./image/SalesOrder/lights_cancelled.png";case"dsPending":return"./image/SalesOrder/lights_pending.png";case"dsApproved":return"./image/SalesOrder/lights_approved.png";case"dsRejected":return"./image/SalesOrder/lights_reject.png"}},getURL:function(e,o,a,i){var s={},n={};n.keyName=o,n.keyValue=a;var r=[];return r.push(n),s.boNamespace="com.sap.sbo",s.boName=e,s.keyElements=r,t.sbo.services.BaseService.documentbase+"file/open?id="+i+"&boEntityKey="+JSON.stringify(s)+"&tid="+window.SboShell.getData("tenantID")},getBOKey:function(e){var t=null,o=e.objectType;return"2"==o?t={boName:"BusinessPartner",boNamespace:"com.sap.sbo",keyElements:[{keyName:"cardCode",keyValue:e.id}]}:"4"==o?t={boName:"Item",boNamespace:"com.sap.sbo",keyElements:[{keyName:"itemCode",keyValue:e.id}]}:"11"==o?t={boName:"ContactPerson",boNamespace:"com.sap.sbo",keyElements:[{keyName:"contactPersonID",keyValue:e.id}]}:"17"==o?t={boName:"Order",boNamespace:"com.sap.sbo",keyElements:[{keyName:"docEntry",keyValue:e.id}]}:"23"==o?t={boName:"Quotation",boNamespace:"com.sap.sbo",keyElements:[{keyName:"docEntry",keyValue:e.id}]}:"97"==o?t={boName:"SalesOpportunity",boNamespace:"com.sap.sbo",keyElements:[{keyName:"sequentialNo",keyValue:e.id}]}:"1320000012"==o?t={boName:"Campaign",boNamespace:"com.sap.sbo",keyElements:[{keyName:"campaignNumber",keyValue:e.id}]}:"J0001"==o?t={boName:"Leads",boNamespace:"com.sap.sbo",keyElements:[{keyName:"id",keyValue:e.id}]}:"J0010"==o?t={boName:"Page",boNamespace:"com.sap.sbo",keyElements:[{keyName:"noteID",keyValue:e.id}]}:"J0004"==o&&(t={boName:"Task",boNamespace:"com.sap.sbo",keyElements:[{keyName:"activityID",keyValue:e.id}]}),t},getNavigationData:function(e,o){var a=arguments[2]||null,i=null;return"person"==e?(window.SboShell.getData("user.employeeID"),i=new t.sbo.ui.BoNavigationObject({boName:"UserEmployee",boNamespace:"com.sap.sbo",keyElements:[o]})):"2"==e?i=new t.sbo.ui.BoNavigationObject({boName:"BusinessPartner",boNamespace:"com.sap.sbo",keyElements:[o]}):"4"==e?i=new t.sbo.ui.BoNavigationObject({boName:"Item",boNamespace:"com.sap.sbo",keyElements:[o]}):"11"==e?i=new t.sbo.ui.BoNavigationObject({boName:"ContactPerson",boNamespace:"com.sap.sbo",keyElements:[o]}):"17"==e?i=new t.sbo.ui.BoNavigationObject({boName:"Order",boNamespace:"com.sap.sbo",keyElements:[o]}):"23"==e?i=new t.sbo.ui.BoNavigationObject({boName:"Quotation",boNamespace:"com.sap.sbo",keyElements:[o]}):"97"==e?i=new t.sbo.ui.BoNavigationObject({boName:"SalesOpportunity",boNamespace:"com.sap.sbo",keyElements:[o]}):"1320000012"==e?i=new t.sbo.ui.BoNavigationObject({boName:"Campaign",boNamespace:"com.sap.sbo",keyElements:[o]}):"J0001"==e?i=new t.sbo.ui.BoNavigationObject({boName:"Leads",boNamespace:"com.sap.sbo",keyElements:[o]}):"J0010"==e?i=null!=a?new t.sbo.ui.BoNavigationObject({boName:"Page",boNamespace:"com.sap.sbo",keyElements:[o,a]}):new t.sbo.ui.BoNavigationObject({boName:"Page",boNamespace:"com.sap.sbo",keyElements:[o]}):"J0004"==e&&(i=null!=a?new t.sbo.ui.BoNavigationObject({boName:"Task",boNamespace:"com.sap.sbo",keyElements:[o,a]}):new t.sbo.ui.BoNavigationObject({boName:"Task",boNamespace:"com.sap.sbo",keyElements:[o]})),i}};return l}),define("sap.sbo.util.metadataHelper",[],function(){"use strict";function e(e){for(var t=[],o=0;e.length>o;o++){var a={type:e[o].type,property:e[o].name,option:e[o]};a.option.baseType in n&&a.option.validValues&&(a.option.validValues.value=a.option.validValues.value.map(function(e){return{description:e.description,value:n[a.option.baseType](e.value)}})),t.push(a)}return t}function t(e){for(var t=[],o=0;e.length>o;o++)if(e[o].filter){var a={type:e[o].type,property:e[o].name,label:null===e[o].label?e[o].name:e[o].label};t.push(a)}return t}function o(e){for(var t=[],o=0;e.length>o;o++)e[o].sort&&t.push({type:e[o].type,label:e[o].label||e[o].name,property:e[o].name});return t}function a(e){var t={};if(e)for(var o=0,a=e.length;a>o;o++){var i=e[o].name;if(!t[i]&&(t[i]=[],e[o].members&&e[o].members.value&&e[o].members.value.length>0))for(var s=0,n=e[o].members.value.length;n>s;s++){var r=e[o].members.value[s];t[i].push({name:r.name,label:r.label?r.label:r.name})}}return t}function i(e){var t=[];if(e&&e.length>0)for(var o=0,a=e.length;a>o;o++)t.push(e[o].name);return t}var s=this.getNS();s.sap;var n={Integer:function(e){return parseInt(e,10)},Long:function(e){return parseInt(e,10)}};return{convert:function(s){return s?{properties:e(s.rootNode.properties.value),nodes:s.nodeTypes.value.reduce(function(t,o){return t[o.name]=e(o.properties.value),t},{}),filter:t(s.rootNode.properties.value),sort:o(s.rootNode.properties.value),enumTypes:a(s.enumerations?s.enumerations.value:null),onChangePaths:s.rootNode.onBOChanges.value.map(function(e){return e.bindingPath}),actions:i(s.rootNode.actions?s.rootNode.actions.value:null)}:{}},convertDynamicMeta:function r(t){var o=t?{properties:e(t.properties.value).reduce(function(e,t){return e[t.property]=t.option,e},{}),actions:t.actions?t.actions.value.reduce(function(e,t){return e[t.name]=t,e},{}):{},readOnly:t.readOnly}:{};return t&&t.subNodes&&(o.subNodes=t.subNodes.value.reduce(function(e,t){return e[t.nodeName]=r(t),e},{})),o}}}),function(){"use strict";define("sap.sbo.util.i18n",["require"],function(e){return{load:function(t,o,a){o("GET",{Accept:"application/json"},"./js/localization/ui-all-"+(window&&window.sessionStorage.getItem("locale")||"EN")+".txt",null,function(o){e("json!sap.sbo.localization.const-"+(window&&window.sessionStorage.getItem("locale")||"EN"),function(e){a("sap.sbo.util.i18n!"+t,{id:"sap.sbo.util.i18n!"+t,deps:[],exc:function(){var t=JSON.parse(o);return t["SAP-const"]=e,t}})})})},formatDecimalStr:function(e,t){if(!isNaN(e)){var o=t.decimalSeparator,a=t.thousandsSeparator,i=t.decimalNum,s=t.removeLastZeros;e=e.toFixed(i),i>0&&s&&(e=e.replace(/\.0*$|0*$/,""));for(var n=""+e,r=n.indexOf("."),l=r>0?r:n.length,d=n.substr(l,n.length-l);l-3>0;)d=a+n.substr(l-3,3)+d,l-=3;d=n.substr(0,l)+d;var p=d.replace(".",o);return p}return e+""}}})}(),define("sap.sbo.util.notification",["sap.core.klass","sap.sbo.shell.IFeaturable","sap.log"],function(){var e=this.getNS(),t={},o=e.sap,a={Public:{},Protected:{},Static:{}};a.Name=this.getModuleInfo().moduleName,a.Interfaces=[o.sbo.shell.IFeaturable],a.Public.init=function(){},a.Public.subscribe=function(e,o){void 0===t[e]&&(window.SboShell.addFeature(this,e,"event"),t[e]=1),window.SboShell.attachFeatureEvent(e,o)},a.Public.subscribeOneTime=function(e,a){void 0===t[e]?(window.SboShell.addFeature(this,e,"event"),t[e]=1,window.SboShell.attachFeatureEvent(e,a)):o.log.fatal("the feature '"+e+"' have been registered and only could have 1 subscriber!")},a.Public.unsubscribe=function(e,t){window.SboShell.detachFeatureEvent(e,t)},a.Public.notify=function(e,t){window.SboShell.fireFeatureEvent(e,t)},a.Public.doFeature=function(){};var i=o.core.klass.declare(a);return new i}),define("sap.sbo.util.permissionUtil",["sap.core.klass","sap.sbo.services.UserEmployeesService","json!sap.sbo.page.all-bo","json!sap.sbo.util.enums"],function(){"use strict";function e(e){if(e&&e.boNamespace&&e.boName){var t=window.SboShell.getData("bo.permissions");return t?t[e.boNamespace+"."+e.boName]:o.json.sap.sbo.util.enums.boPermissions.Full}return null}function t(t){var a=e(t);return a&&a===o.json.sap.sbo.util.enums.boPermissions.Full}var o=this.getNS(),a=o.sap;return{canQuery:function(t){var a=e(t);return a&&a!==o.json.sap.sbo.util.enums.boPermissions.None},canCreate:function(e){return t(e)},canEdit:function(e){return t(e)},loadActionPermissions:function(e,t){var o=$.Deferred(),i=new a.sbo.services.UserEmployeesService;return $.when(i.action_getActionsStatus({employeeID:window.SboShell.getData("user.employeeID")},e.boNamespace,e.boName,t)).done(function(e){for(var a={},i=0;e.value.length>i;i++)a[t[i]]="true"===e.value[i];o.resolve(a)}).fail(function(){o.reject()}),o.promise()},getPermission:function(t){return e(t)},loadPermissions:function(){var e=$.Deferred(),t=new a.sbo.services.UserEmployeesService,i=o.json.sap.sbo.page["all-bo"];return $.when(t.action_getPermissionItemsByIdentitfiers({employeeID:window.SboShell.getData("user.employeeID")},{identifiers:i})).done(function(t){for(var o={},a=0,s=i.length;s>a;a++)o[i[a].namespace+"."+i[a].name]=t.value[a];window.SboShell.storeData("bo.permissions",o),e.resolve()}).fail(function(){e.reject()}),e.promise()}}}),define("sap.sbo.util.settings",["json!sap.sbo.services.service-config"],function(e){"use strict";var t=e.documentBase+"SettingsService/GeneralSettings";return{load:function(e,o,a){o("GET",{Accept:"application/json"},t,null,function(t){a("sap.sbo.util.settings!"+e,{id:"sap.sbo.util.settings!"+e,deps:[],exc:function(){var e=JSON.parse(t);if(e.date){var o=[];switch(e.date.format){case"dt_DDMMYY":o=["dd","mm","y"];break;case"dt_DDMMCCYY":o=["dd","mm","yy"];break;case"dt_MMDDYY":o=["mm","dd","y"];break;case"dt_MMDDCCYY":o=["mm","dd","yy"];break;case"dt_CCYYMMDD":o=["yy","mm","dd"];break;case"dt_DDMonthYYYY":o=["dd","MM","yy"]}e.date.formatString=o.join(e.date.separator)}return e}})},function(e,o){window.onerror({status:-2,statusText:o},t,0)})}}}),define("sap.sbo.util.urlHelper",["sap.core.klass"],function(){var e=this.getNS();e.sap;var t={getBaseUrl:function(){var e=location.pathname.split("/");if(e.length>1){var t=e[e.length-1];return location.href.replace(t,"").replace(location.search,"").replace(location.hash,"")}return location.href.replace(location.search,"").replace(location.hash,"")},absoluteUrl:function(e,t){var o,a=document,i=a.getElementsByTagName("base")[0],s=i&&i.href,n=a.head||a.getElementsByTagName("head")[0],r=i||n.appendChild(a.createElement("base")),l=a.createElement("a");return r.href=t,l.href=e,o=l.href,i?i.href=s:n.removeChild(r),o},isValidAbsoluteUrl:function(e){var t=RegExp("^(http://|https://){1}([0-9A-Za-z]+.)");return t.test(e)}};return t}),define("sap.sbo.localization.Helper",[],function(){var e=this.getNS();e.sap;var t=$("body").getModel("i18n");return{get:function(e){null===t&&(t=$("body").getModel("i18n"));var o=t.getValue(e);if(void 0===o)return"%"+e+"%";for(var a=1;arguments.length>a;a++)o=o.replace(RegExp("\\{"+(a-1)+"\\}","g"),""+arguments[a]);return o}}}),define("sap.sbo.layout.BaseLayoutMenuButtonUtil",["sap.sbo.localization.Helper","sap.core.klass","sap.core.EventProvider","sap.sbo.compoundservices.MassDataTransportService","sap.sbo.services.BaseService","json!sap.sbo.util.enums"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.core.EventProvider,Public:{init:function(o){t.core.EventProvider.prototype.init.call(this),t.core.klass.declareMember(this,{_layoutMenuButtons:null,_actionButtons:null,_actionButtonKeys:null,_isKeyUser:!1,_onActionBtnClickProxy:$.proxy(this._onActionBtnClick,this),_bMetadata:o,__oServer:this.autoDestroy(new t.sbo.compoundservices.MassDataTransportService)}),this._isKeyUser=window.SboShell.getData("user.keyUser")===e.json.sap.sbo.util.enums.bool.Yes,this.addButtons(),window.SboShell.attachEvent("actionButtonClick",this._onActionBtnClickProxy),this._LayoutEditModeExit()},addButtons:function(){this._actionButtonKeys=["publish_layout_K","cancel_layout_K_N","save_layout_N","personalize_layout","customize_layout","restore_layout","disable_fields","add_new_field"],this._actionButtons=[{text:t.sbo.localization.Helper.get("layout/PUBLISH"),key:"publish_layout_K"},{text:t.sbo.localization.Helper.get("layout/SAVE"),key:"save_layout_N"},{text:t.sbo.localization.Helper.get("layout/CANCEL"),key:"cancel_layout_K_N"},{key:"personalize_layout",text:t.sbo.localization.Helper.get("layout/PERSONALIZE")},{key:"customize_layout",text:t.sbo.localization.Helper.get("layout/CUSTOMIZE")},{key:"restore_layout",text:t.sbo.localization.Helper.get("layout/RESTORE")}],window.SboShell.addActionButtons(this._actionButtons)},destroy:function(){window.SboShell.detachEvent("actionButtonClick",this._onActionBtnClickProxy),this._actionButtonKeys&&window.SboShell.removeActionButtons(this._actionButtonKeys)},showMoreAction:function(){window.SboShell.showActionButtons(["more_action_K_N"])},hideMoreAction:function(){window.SboShell.hideActionButtons(["more_action_K_N"])},_LayoutEditModeExit:function(){window.SboShell.hideActionButtons(this._actionButtonKeys),this._isKeyUser?window.SboShell.showActionButtons(["personalize_layout","customize_layout"]):(window.SboShell.hideActionButtons(["publish_layout_K"]),window.SboShell.showActionButtons(["personalize_layout"]))}},Protected:{_onActionBtnClick:function(e){if("publish_layout_K"==e)this.fireEvent("publish"),this._LayoutEditModeExit();else if("cancel_layout_K_N"==e)this.fireEvent("cancel"),this._LayoutEditModeExit();else if("save_layout_N"==e)this.fireEvent("save"),this._LayoutEditModeExit();else if("personalize_layout"==e)window.SboShell.hideActionButtons(this._actionButtonKeys),window.SboShell.showActionButtons(["cancel_layout_K_N","save_layout_N","restore_layout"]),this.fireEvent("personalization");else if("customize_layout"==e)window.SboShell.hideActionButtons(this._actionButtonKeys),window.SboShell.showActionButtons(["publish_layout_K","cancel_layout_K_N"]),window.SboShell.raiseMessage(t.sbo.localization.Helper.get("layout/CHANGING_GDL"),"success"),this.fireEvent("customization");else if("restore_layout"==e){var o=this,a=t.sbo.localization.Helper.get("layout/CONFIRM_RESTORE");$.when(window.SboShell.raiseMessage(a,"question",[{key:"Y",text:t.sbo.localization.Helper.get("common/YES")},{key:"N",text:t.sbo.localization.Helper.get("common/NO")}])).done(function(e){"Y"==e&&(o.fireEvent("restore"),o._LayoutEditModeExit())})}}}})}),define("sap.sbo.layout.BaseListLayout",["sap.ui.Control","sap.log","sap.util","sap.core.ArrayListSource","sap.core.GuardedTimer","sap.core.JsonModel","sap.core.ListSourceFilter","sap.core.IProcessable","sap.core.IListSource","sap.core.DestroyPool","css!sap.sbo.layout.BaseListLayout"],function(){"use strict";var e=this.getNS(),t=e.sap,o=t.ui.Control.declare({Name:this.getModuleInfo().moduleName,DomClass:"sbo-list-layout",Interfaces:[t.core.IProcessable],Events:["layoutChanged","itemClick","modelCreated","requestDone","create"],PublicMethods:[],Options:{showEmptyContent:{type:"boolean",defaultValue:!0},source:{type:t.core.IListSource,defaultValue:null,nullable:!0,keepRef:!0},emptyTexts:{type:"array",arrayType:{type:"string"},defaultValue:[]},pageSize:{type:"integer",defaultValue:12,immutable:!0},filter:{type:t.core.ListSourceFilter,defaultValue:null,nullable:!0},select:{type:"array",defaultValue:[],arrayType:{type:"string"},optional:!0},sort:{type:"any",defaultValue:null,nullable:!0}},Public:{init:function(){t.ui.Control.prototype.init.apply(this,arguments),this.declareMember({__oTimer:this.autoDestroy(new t.core.GuardedTimer),__$template:this.$().children("[data-sap-template]").remove(),__$container:null,__$content:null,__oIScroll:null,__sSizeHash:"",__iCurRecIndex:0,__iTotalRecords:0,__sRequestStatus:"ready",__aItems:[],__oDestroyPool:new t.core.DestroyPool,__bScrolling:!1,__bIsTouch:t.util.isTouch()||"desktop"!==SboShell.callFeatureMethod("shell.getDeviceType"),__oListSource:null,__fReorderedProxy:$.proxy(this.__fListReordered,this),__fSearchTriggeredProxy:$.proxy(this.__fSearchTriggered,this),__fFilteredProxy:$.proxy(this.__fListFiltered,this),__mSort:null,__mFilter:null,__outerNS:{},__sTerm:null,__$emptyContainer:null,__$addIcon:null});var e=this;this.__createDom(),this.autoDestroy(this.__$content,this.__$content.unprocess),this.$().on("vclick",o.__subClassSelector("item"),this.autoDestroy($.proxy(this.__fnClickItem,this),function(){e.$().off("vclick",this)})),this.__bIsTouch&&(this.__oIScroll=this.autoDestroy(new iScroll(this.$()[0],{onScrollEnd:function(){e.__bScrolling=!1}})))},destroy:function(){this.__$emptyContainer&&(this.__$emptyContainer.remove(),this.__$emptyContainer=null),this.__$addIcon&&(this.__$addIcon.off("vclick"),this.__$addIcon=null),this.__oListSource&&(this.__oListSource.destroy(),this.__oListSource=null),this.__clearAll()},update:function(e){var t=null;return"filter"in e&&(this.__mFilter=this.getOption("filter")),"sort"in e&&(this.__mSort=this.getOption("sort")),"source"in e&&(this.__oListSource=this.getOption("source"),null!==this.__oListSource&&(this.__oListSource.attachEvent("reordered",this.__fReorderedProxy),this.__oListSource.attachEvent("searchTriggered",this.__fSearchTriggeredProxy),this.__oListSource.attachEvent("filtered",this.__fFilteredProxy),t=$.Deferred(),this.refresh(t))),"emptyTexts"in e&&this.__updateEmptyTexts&&this.__updateEmptyTexts(),"showEmptyContent"in e&&(this.getOption("showEmptyContent")||this.__hideEmptyContent()),t&&t.promise()},setProcessContext:function(e){this.__outerNS=e},refresh:function(e){this.__clearAll(),this.__requestMoreContent(e)},__resizeLayout:function(){t.log.error("__resizeLayout is not implemented in inhereted class of BaseListLayout")},__getPageSize:function(){t.log.error("__getPageSize is not implemented in inhereted class of BaseListLayout")},showEmpty:function(){null===this.__$emptyContainer&&this.__constructEmpty(),this.__$container.addClass("empty")}},Protected:{__constructEmpty:function(){this.__$addIcon=$("<a>").addClass(o.__subClass("add-icon")),this.__$emptyContainer=$("<div>").addClass(o.__subClass("empty-container")).append(this.__$addIcon);var e=this;this.__$addIcon.on("vclick",function(){e.fireEvent("create")}),this.__updateEmptyTexts(),this.__$container.append(this.__$emptyContainer)},__updateEmptyTexts:function(){if(this.__$emptyContainer){this.__$emptyContainer.children("div").remove();var e=this.getOption("emptyTexts");if(e)for(var t=0,o=e.length;o>t;t++)this.__$emptyContainer.append($("<div>").text(e[t]))}},__hideEmptyContent:function(){this.__$container.removeClass("empty")},__fListReordered:function(e){this.__mSort=e||this.getOption("sort"),this.__clearAll(),this.__requestMoreContent()},__fSearchTriggered:function(e,t){this.__sTerm=e,(void 0===t||t===!0)&&(this.__clearAll(),this.__requestMoreContent())},__fListFiltered:function(e){this.__mFilter=this.getOption("filter")?e?new t.core.ListSourceFilter($.extend(!0,{},e.getFilter(),this.getOption("filter")?this.getOption("filter").getFilter():{})):this.getOption("filter"):e,this.__clearAll(),this.__requestMoreContent()},__sizeChange:function(){var e=this.$().width(),t=this.$().height(),o=e+":"+t;o!=this.__sSizeHash&&(this.__sSizeHash=o,this.__resizeLayout(e,t))},__clearAll:function(){this.__oDestroyPool.destroy(),this.__oDestroyPool=new t.core.DestroyPool,this.__aItems=[],this.__$content.empty(),this.__iCurRecIndex=0,this.__iTotalRecords=0,this.__sRequestStatus="ready",this.__$container[0].scrollTop=0},__createDom:function(){this.__$content=$("<div>").addClass(o.__subClass("content")),this.__$container=$("<div>").addClass(o.__subClass("container")).append(this.__$content),this.$().append(this.__$container)},__requestMoreContent:function(e){var o=this;if("ready"===o.__sRequestStatus){o.__sRequestStatus="loading",o.$().attr("data-requestStatus",o.__sRequestStatus),o.__onStatusChange&&o.__onStatusChange(o.__sRequestStatus),t.util.showLoading();var a=this.__oListSource.read({begin:this.__iCurRecIndex,size:this.getOption("pageSize")||this.__getPageSize()},this.__mSort,this.__mFilter,o.getOption("select"),this.__sTerm);$.when(a).done(function(t){o.fireEvent("requestDone",t),o.__iTotalRecords=t.count,o.__sRequestStatus=t.count===o.__iCurRecIndex+t.data.length?"noMoreData":"ready",o.__appendItems(t.data,function(){o.__sSizeHash="",o.__sizeChange(),o.fireEvent("processDone"),e&&e.resolve()}),o.__iCurRecIndex+=t.data.length,0===o.__iCurRecIndex&&o.getOption("showEmptyContent")?o.showEmpty():o.__hideEmptyContent()}).fail(function(t){o.__sRequestStatus="ready",o.fireEvent("requestFailed",t),e&&e.reject()}).always(function(){t.util.hideLoading(),o.$().attr("data-requestStatus",o.__sRequestStatus),o.__onStatusChange&&o.__onStatusChange(o.__sRequestStatus)}),a&&a.cancel&&this.__oDestroyPool.add(a,a.cancel)}},__appendItems:function(a,i){for(var s=this,n=[],r=[],l=0;a.length>l;l++){var d=this.__iCurRecIndex+l,p=this.__$template.clone().addClass(o.__subClass("item")).attr("index",d);void 0===p.attr("data-touchable")&&p.attr("data-touchable","true");var c=this.__oDestroyPool.add(new t.core.JsonModel(a[l]));this.__oListSource.isWritable()&&c.attachEvent("valueChanged",function(e,t){return function(){s.__oListSource.update(e,t.getValue(""))}}(d,c)),this.fireEvent("modelCreated",c,d,p),this.__$content.append(p),r.push(p.setModel(c).process(jQuery.extend(!0,{},e,this.__outerNS))),this.__oDestroyPool.add(p,p.unprocess),this.__aItems.push({model:c,dom:p}),n.push(p)}this.__appendItems_post&&this.__appendItems_post(a,n),$.when.apply($,r).done(i)},__fnClickItem:function(e){if(this.__bScrolling)return e.preventDefault(),!1;var t=parseInt($(e.currentTarget).attr("index"),10),o=$(e.currentTarget).findModel().getValue();this.fireEvent("itemClick",o,t)}}});return o}),define("sap.sbo.layout.BaseMetadataLayout",["sap.sbo.layout.BaseMetadataList","sap.sbo.layout.BaseMetadataScroll","sap.ui.Control","sap.log","sap.ui.behavior.vdraggable","sap.util","sap.sbo.localization.Helper","sap.core.GuardedTimer","css!sap.sbo.layout.BaseMetadataLayout","html!sap.sbo.layout.BaseMetadataLayout"],function(){var e=this.getNS(),t=e.sap,o=t.ui.Control.declare({ControlBase:t.sbo.layout.BaseMetadataScroll,Name:this.getModuleInfo().moduleName,DomClass:"sbo-metadata-layout",Interfaces:[],Events:[],PublicMethods:[],Options:{editable:{type:"boolean",defaultValue:!1},movingEdgeWidth:{type:"integer",defaultValue:100},movingSpeedMax:{type:"integer",defaultValue:20}},Public:{init:function(){t.sbo.layout.BaseMetadataScroll.prototype.init.apply(this,arguments),this.declareMember({__editTemplate:null,__$templates:{},__aPosDict:[],__$posIndicator:$("<div>",{"class":o.__subClass("indicator")}),__mousePos:{x:null,y:null,$target:null},__oTimer:null}),this.initDom()},destroy:function(){},update:function(e){var o;return e.editable&&this._changeEditable(),o=t.sbo.layout.BaseMetadataScroll.prototype.update.apply(this,arguments),(e.dynamicMeta||e.readonly)&&$.when(o).done(function(){this.__reLayout()
}.bind(this)),o},initDom:function(){$(e.html.sap.sbo.layout.BaseMetadataLayout).filter("[data-sap-template]").each(function(e,t){var o=$(t);this.__$templates[o.attr("data-sap-template")]=o.removeAttr("data-sap-template")}.bind(this)),this.__editTemplate=this.__$templates.editor[0].outerHTML;var t=function(e){for(var t=$(e.target),o=t.parents(".sbo-metadata-list-property").attr("gl-property"),a=this.getOption("metadata"),i=null,s=0;a.length>s;++s)if(a[s].property===o){i=a[s].option;break}this.fireEvent(t.attr("gl-action"),o,i)}.bind(this);this.$().on("vclick",".sbo-metadata-layout-property-action>div[gl-action]",t),this.autoDestroy(t,function(){this.$().off("vclick",".sbo-metadata-layout-property-action>div[gl-action]",t)}.bind(this))},_changeMetadata:function(){var e=t.sbo.layout.BaseMetadataScroll.prototype._changeMetadata.apply(this,arguments);return e.done(function(){this._$content.prepend(this.__$posIndicator)}.bind(this)),e},propertyDomModify:function(e,t,o){e.append($(this._replaceTemplateContent(this.__editTemplate,t,o)))},__reLayout:function(){this._applyPosition(this.calcPosition()),this.refreshScroll()}},Protected:{_changeEditable:function(){var e=this.getOption("editable"),o=-1,a=this;if(e){if(!a._oIScroll.options.onBeforeScrollStart.revert){var i=function(e){return 0!==$(e.target).parents(".sbo-metadata-list-property").length?!0:void 0};i.old=this._oIScroll.options.onBeforeScrollStart,i.revert=function(){a._oIScroll.options.onBeforeScrollStart=this.old},a._oIScroll.options.onBeforeScrollStart=i}}else a._oIScroll&&a._oIScroll.options.onBeforeScrollStart.revert&&a._oIScroll.options.onBeforeScrollStart.revert();var s=this.$(t.sbo.layout.BaseMetadataList.__subClassSelector("property"));s.vdraggable(!1),e?(this.$().addClass("editable"),s.vdraggable({draggingClass:"dragging"}),s.on("vdragstart",function(e){if("true"!==$(e.currentTarget).attr("gl-enabled"))return e.stopDragging(),void 0;a.__oTimer&&a.__oTimer.destroy(),a.__oTimer=new t.core.GuardedTimer;var i=!0;a.__oTimer.setInterval(function(){if(null!==a.__mousePos.x){var e=a.$().offset(),t={x:a._oIScroll.x,y:a._oIScroll.y},s=0;if(a.__mousePos.x-e.left<a.getOption("movingEdgeWidth")?s=Math.min((a.getOption("movingEdgeWidth")-(a.__mousePos.x-e.left))/a.getOption("movingEdgeWidth"),1)*a.getOption("movingSpeedMax"):a.__mousePos.x-e.left>a._oIScroll.wrapperW-a.getOption("movingEdgeWidth")&&(s=Math.max((a._oIScroll.wrapperW-a.getOption("movingEdgeWidth")-(a.__mousePos.x-e.left))/a.getOption("movingEdgeWidth"),-1)*a.getOption("movingSpeedMax")),0!==s){t.x+=s,t.x>0?t.x=0:t.x<a._oIScroll.maxScrollX&&(t.x=a._oIScroll.maxScrollX);var n=jQuery.Event("vdragging");n.vdata={pageX:a.__mousePos.x,pageY:a.__mousePos.y},a.__mousePos.$target.trigger(n),a._oIScroll.scrollTo(t.x,t.y,0)}for(var r={x:a.__mousePos.x-e.left-a._oIScroll.x,y:a.__mousePos.y-e.top-a._oIScroll.y},l=0;a.__aPosDict.length>l;++l)if(o=-1,r.x>=a.__aPosDict[l].x&&r.x<=a.__aPosDict[l].x+a.__aPosDict[l].width&&r.y>=a.__aPosDict[l].y&&r.y<=a.__aPosDict[l].y+a.__aPosDict[l].height){var d=a.__aPosDict[l];o=d.index+(1===d.direction?1:0);break}if(-1!==o){var p=a.__mousePos.$target,c=p.attr("uuid");({left:p.css("left"),top:p.css("top")});for(var u=-1,l=0;a.__$properties.length>l;l++)if(a.__$properties[l].attr("uuid")==c){u=l;break}var h=!1;if(u>o?(a.__$properties.splice(o,0,a.__$properties.splice(u,1)[0]),h=!0):o>u&&(a.__$properties.splice(o-1,0,a.__$properties.splice(u,1)[0]),h=!0),h||i){i=!1;for(var b=a.calcPosition(),g=null,l=0;b.length>l;++l)if(b[l].$.attr("uuid")===c){g=b.splice(l,1)[0];break}a._applyPosition(b),a.__$posIndicator.css({left:g.x,top:g.y,width:g.width,height:g.height}),a.__$posIndicator.addClass("show")}}}},0)}).on("vdragging",function(e){a.__mousePos={x:e.vdata.pageX,y:e.vdata.pageY,$target:$(e.currentTarget)}}).on("vdragend",function(){a.__$posIndicator.removeClass("show"),a.getMergedSequence(),a._applyPosition(a.calcPosition()),a.__mousePos={x:null,y:null,$target:null},a.__oTimer&&a.__oTimer.destroy(),a.__oTimer=null})):this.$().removeClass("editable"),this.__reLayout()}}});return o}),define("sap.sbo.layout.BaseMetadataList",["sap.ui.Control","sap.log","sap.core.IProcessable","sap.core.JsonModel","sap.ui.widget.InputField","sap.ui.widget.TextField","sap.sbo.ui.widget.DateTimeField","sap.ui.widget.TextArea","sap.sbo.ui.widget.BoStatus","sap.ui.widget.Checkbox","sap.ui.widget.DropDownBox","sap.sbo.ui.widget.DateLabel","sap.sbo.ui.widget.EnumLabel","sap.ui.widget.Photo","sap.sbo.util.formatter","sap.sbo.ui.widget.DecimalInputField","sap.sbo.ui.widget.DecimalLabel","sap.ui.widget.InputField","sap.formatter","html!sap.sbo.app.template.Base","css!sap.sbo.layout.BaseMetadataList"],function(){"use strict";var e=this.getNS(),t=e.sap,o=/^([a-zA-Z0-9]+)?(\[([a-zA-Z0-9_]+)\])?$/g;e.formatter={linkHrefConvertor:function(e){return e?/http:\/\/|https:\/\//i.test(e)?e:"http://"+e:"javascript:0;"},telHrefConvertor:function(e){return e?"tel:"+e:"javascript:0;"},mailtoHrefConvertor:function(e){return e?"mailto:"+e:"javascript:0;"}};var a=t.ui.Control.declare({Name:this.getModuleInfo().moduleName,DomClass:"sbo-metadata-list",Interfaces:[t.core.IProcessable],Events:["afterProcess","beforeUnprocess","metaChanged"],PublicMethods:[],Options:{metadata:{type:"array",defaultValue:[],arrayType:{type:"any"}},dynamicMeta:{type:"any",defaultValue:null},enumMeta:{type:"map",defaultValue:{},mapType:{type:"array",arrayType:{type:"JSON",JSONType:{label:{type:"string"},name:{type:"string"}},defaultValue:[]}}},propertyTemplate:{type:"string",defaultValue:""},ignoredProperty:{type:"array",arrayType:{type:"string"},defaultValue:[]},sequence:{type:"array",arrayType:{type:"any"},nullable:!0,defaultValue:null},modelPrefix:{type:"string",defaultValue:""},readonly:{type:"boolean",defaultValue:!1},labelOnly:{type:"boolean",defaultValue:!1},sequenceAutoExpand:{type:"boolean",defaultValue:!0,immutable:!0}},Public:{init:function(){t.ui.Control.prototype.init.apply(this,arguments),this.declareMember({_aInitProperty:[],_aPropertyTemplates:[],_specialTemplates:{},_aDefaultPropertyTemplates:[],_mUuid2PropertyCache:{},_$content:null,_nsProcess:{},__oMetaModel:this.autoDestroy(new t.core.JsonModel({})),__baseHTML:"",__$properties:[],__mIgnored:{},__initSequence:[]});var e=this;this._fetchInitTemplate(),this._createDom(),this.$().setModel(this.__oMetaModel,"meta"),this.$().on("click vclick","a",function(e){/^javascript.*/i.test($(this).attr("href"))||e.stopPropagation()}),this.__initSequence=e._calcInitSequence()},destroy:function(){this._nsProcess=null},setProcessContext:function(t){this._nsProcess=$.extend(!0,{},e,t)},update:function(e){var t=$.Deferred(),o=[];return(e.metadata||e.readonly||e.dynamicMeta)&&o.push(this.__updateMetadataModel()),e.enumMeta&&this.__oMetaModel.setValue("enum",this.getOption("enumMeta")),(e.propertyTemplate||e.sequence)&&0!==this.getOption("metadata").length&&o.push(this._changeMetadata()),(e.metadata||e.readonly||e.dynamicMeta)&&(this.fireEvent("metaChanged"),this.fireEvent("controlRendered")),$.when.apply($,o).done(function(){t.resolve()}),t.promise()},getMergedSequence:function(){return this.__$properties.map(function(e){return{uuid:e.attr("uuid")}})},__updateMetadataModel:function(){var e={},t=this.getOption("dynamicMeta");if(this.getOption("metadata").forEach(function(o){e[o.property]=$.extend(!0,{},o.option,t&&t["*"])}),$.extend(!0,e,t),this._aInitProperty.forEach(function(t){t.property in e&&$.extend(!0,e[t.property],t.option)}),this.getOption("readonly"))for(var o in e)e[o].readOnly=!0;return this.__oMetaModel.setValue("readonly",this.getOption("readonly")),this.__oMetaModel.setValue("properties",e)},_changeMetadata:function(){var e=$(this.getOption("propertyTemplate"));return this._aDefaultPropertyTemplates=this._parsePropertyTemplate(e.filter("[data-sap-template]")),this._updateCache(),this._destroyPropertyHtml(),this._createPropertyHtml(this._mergeSequence(this.getOption("sequence")||this.__initSequence))},propertyDomModify:function(){}},Protected:{_fetchInitTemplate:function(){this.__baseHTML=$(e.html.sap.sbo.app.template.Base).filter('[data-sap-template="Base"]').removeAttr("data-sap-template")[0].outerHTML;var o=this.$().find("[data-sap-template='Content']");if(1===o.length){for(var a=$(o[0]).find("[data-sap-template]"),i=0;a.length>i;i++){var s=$(a[i]),n={type:s.attr("data-sap-template"),height:s.attr("height")||"DEFAULT",property:s.attr("property")||null,uuid:s.attr("uuid")||null,domHTML:s.removeAttr("data-sap-template")[0].outerHTML,link:[],option:{}};n.uuid||"Html"!==n.type||t.log.error("'uuid' is mandatory"),n.type||t.log.error("'data-sap-template' value is mandatory"),s.attr("link")&&(n.link=s.attr("link").split(",")),s.attr("option")&&(n.option=JSON.parse(s.attr("option"))),this._aInitProperty.push(n)}o.remove()}var r=this.$().find("[data-sap-template='PropertyTemplate']");if(1===r.length){var l=$(r[0]).find("[data-sap-template]");this._aPropertyTemplates=this._parsePropertyTemplate(l),r.remove()}},_parsePropertyTemplate:function(e){for(var a=[],i=0;e.length>i;i++){var s=$(e[i]),n=s.attr("data-sap-template"),r=/^\*(.*)\*$/.exec(n);if(r){var l={type:n,property:"",height:s.attr("height")||"DEFAULT",domHTML:s.removeAttr("data-sap-template")[0].outerHTML};this._specialTemplates[r[1]]=l}else{o.lastIndex=0;var d=o.exec(n);null===d&&t.log.error("Can't parse rule '"+n+"'");var l={type:d[1],property:d[3],height:s.attr("height")||"DEFAULT",domHTML:s.removeAttr("data-sap-template")[0].outerHTML};a.push(l)}}return a},_createDom:function(){this._$content=$("<div></div>").addClass(a.__subClass("Content")).attr("data-sap-template","Content"),this.$().append(this._$content)},_createPropertyHtml:function(e){this.__$properties=[];for(var o=0;e.length>o;o++){var a=this._mUuid2PropertyCache[e[o].uuid],i=this._findTemplateInfo(e[o].uuid,a);i?this._$content.append(function(e,t){return this.__$properties.push(t),this.propertyDomModify(t,e),t}.bind(this)(i.property,this._createDomFromTemplate(i))):this.getOption("metadata").length&&t.log.error("Can't create content by uuid '"+e[o].uuid+"' and property '"+a+"'")}var s=this._$content.process(this._nsProcess);return $.when(s).done(function(){this.fireEvent("afterProcess"),this.fireEvent("controlRendered")}.bind(this)),s},_destroyPropertyHtml:function(){this.fireEvent("beforeUnprocess"),this._$content.unprocess(),this._$content.empty()},_mergeSequence:function(e){for(var t=this.getOption("metadata"),o=[],a={},i=0;e.length>i;i++)if(!this.__mIgnored[e[i].uuid]){var s=this._mUuid2PropertyCache[e[i].uuid],n=this._findTemplateInfo(e[i].uuid,s);n&&o.push({uuid:e[i].uuid}),a[e[i].uuid]=!0}if(this.getOption("sequenceAutoExpand"))for(var i=0;t.length>i;i++){var r="system."+t[i].property;if(void 0===a[r]&&!this.__mIgnored[r]){var s=this._mUuid2PropertyCache[r],n=this._findTemplateInfo(r,s);n&&o.push({uuid:r}),a[r]=!0}}return o},_calcInitSequence:function(){for(var e=[],t=0;this._aInitProperty.length>t;t++)e.push({uuid:this._aInitProperty[t].uuid||"system."+this._aInitProperty[t].property});return e},_updateCache:function(){var e=this.getOption("metadata"),t={};this.__mIgnored=this.getOption("ignoredProperty").reduce(function(e,t){return this.__oMetaModel.getValue("properties/"+t+"/mandatory")||(e["system."+t]=!0),e}.bind(this),{}),this._mUuid2PropertyCache={};for(var o=0;this._aInitProperty.length>o;o++){var a=this._aInitProperty[o].uuid||"system."+this._aInitProperty[o].property;if(!this._aInitProperty[o].property||this.__mIgnored[a]!==!0){this._mUuid2PropertyCache[a]=this._aInitProperty[o].property,this._aInitProperty[o].property&&(t[this._aInitProperty[o].property]=!0);for(var i=0;this._aInitProperty[o].link.length>i;i++)t[this._aInitProperty[o].link[i]]=!0,this.__mIgnored["system."+this._aInitProperty[o].link[i]]=!0}}for(var o=0;e.length>o;o++)if(t[e[o].property]!==!0&&this.__mIgnored["system."+e[o].property]!==!0){var a="system."+e[o].property;this._mUuid2PropertyCache[a]=e[o].property}},_findTemplateInfo:function(e,o){if(this.getOption("labelOnly"))return{domHTML:this._specialTemplates.labelOnly.domHTML,height:this._specialTemplates.labelOnly.height,property:o,uuid:"system."+o};for(var a=0;this._aInitProperty.length>a;a++)if(this._aInitProperty[a].uuid===e&&"Html"===this._aInitProperty[a].type)return{domHTML:this._aInitProperty[a].domHTML,height:this._aInitProperty[a].height,uuid:this._aInitProperty[a].uuid,property:this._aInitProperty[a].property,option:this._aInitProperty[a].option};for(var i=this.getOption("metadata"),s=null,a=0;i.length>a;a++)if(i[a].property===o){s=i[a];break}return s?this._findTemplateInfoByProperty(o,s):(i.length&&t.log.error("Can't find meta of property '"+o+"'"),null)},_findTemplateInfoByProperty:function(e,t){function o(e,t,o){return o.type&&o.type!==t||o.property&&o.property!==e?-1:(o.type===t?1:0)+(o.property===e?2:0)}function a(t){return t.map(function(t){return{priority:o(e,i,t),template:{domHTML:t.domHTML,height:t.height}}}).filter(function(e){return e.priority>=0}).sort(function(e,t){return t.priority-e.priority})}var i=t.type;if(!e&&!i)return null;var s=a(this._aPropertyTemplates);if(0===s.length&&(s=t.option.validValues&&t.option.validValues.value.length?[{template:{domHTML:this._specialTemplates.validvalues.domHTML,height:this._specialTemplates.validvalues.height}}]:a(this._aDefaultPropertyTemplates)),0===s.length){var n=this.getOption("enumMeta");n[i]&&(s=[{template:{domHTML:this._specialTemplates.enumeration.domHTML,height:this._specialTemplates.enumeration.height}}])}return 0===s.length?null:{domHTML:s[0].template.domHTML,height:s[0].template.height,property:e,uuid:"system."+e}},_createDomFromTemplate:function(e){var t=$(this._replaceTemplateContent(this.__baseHTML,e.property)).attr({"class":a.__subClass("property"),uuid:e.uuid});return t.append($(this._replaceTemplateContent(e.domHTML,e.property)).addClass(a.__subClass("property-view"))),t},_replaceTemplateContent:function(e,t){var o=this.__oMetaModel.getValue("properties")[t],a=e;if(t&&(a=a.replace(/{{\s*#PROPERTY#/g,"{{"+this.getOption("modelPrefix")+t),a=a.replace(/#PROPERTY#/g,t)),a=a.replace(/{{\$/g,"{{meta@properties/"+t+"/"),o)for(var i in o)for(;-1!==a.indexOf("#"+i+"#");)a=a.replace("#"+i+"#",o[i]+"");return a}}});return a}),define("sap.sbo.layout.BaseMetadataScroll",["sap.sbo.layout.BaseMetadataList","sap.ui.Control","sap.ui.common","sap.util"],function(){var e=this.getNS(),t=e.sap;return t.ui.Control.declare({ControlBase:t.sbo.layout.BaseMetadataList,Name:this.getModuleInfo().moduleName,DomClass:"sbo-metadata-scroll",Interfaces:[],Events:[],PublicMethods:[],Options:{scrollEventCheck:{type:"function",defaultValue:null,nullable:!0},hideScrollbar:{type:"boolean",defaultValue:!1},verticalPadding:{type:"integer",defaultValue:10,immutable:!0},useAbsoluteLayout:{type:"boolean",defaultValue:!1,immutable:!0}},Public:{init:function(){t.sbo.layout.BaseMetadataList.prototype.init.apply(this,arguments),this.declareMember({_oIScroll:null,_iSizeChangeTicket:-1,_iSizeHash:-1,__bIsTouch:t.util.isTouch()||"desktop"!==SboShell.callFeatureMethod("shell.getDeviceType")}),this._iSizeChangeTicket=setInterval(function(){this._sizeChange()}.bind(this),1e3);var e=this;this.$().on("vclick",".info-icon",function(o){var a=o.target.getAttribute("gl-property-name"),i=e.$().getModel("meta").getValue("properties/"+a);if(i.description){var s=t.ui.common.getStaticContainer(),n=$(this).parents(".sbo-metadata-scroll"),r=n.offset().top+n.height()-$(this).offset().top,l=$(this).offset().top-n.offset().top,d=$(this).parent().innerWidth(),p=$("<div>").css({position:"absolute",top:0,left:0,right:0,bottom:0,"z-index":2e3}),c=$(this).position().top+$(this).outerHeight()+12,u=$("<div>").text(i.description).addClass("sbo-metadata-list-property-descrition").css({position:"absolute",left:"0px","line-height":"20px",width:d,"z-index":2001,display:"none"});150>r&&l>150?u.addClass("sbo-metadata-list-property-desc-up").css({bottom:$(this).outerHeight()+20}):u.addClass("sbo-metadata-list-property-desc-down").css({top:c}),s.append(p),$(this).parent().append(u),u.fadeIn(400),p.on("vclick",function(){u.fadeOut(400,function(){u.remove(),p.remove()})})}})},destroy:function(){-1!==this._iSizeChangeTicket&&(clearInterval(this._iSizeChangeTicket),this._iSizeChangeTicket=-1)},_changeMetadata:function(){var e=t.sbo.layout.BaseMetadataList.prototype._changeMetadata.apply(this,arguments);return e.done(function(){this._sizeChange(!0)}.bind(this)),this.enableScroll(),e},_sizeChange:function(e){var t=this.$().width(),o=this.$().height(),a=1997*t+1999*o;(a!==this._iSizeHash||e)&&(this.__reLayout&&this.__reLayout(),this._iSizeHash=a)},enableScroll:function(){this._oIScroll&&this.disableScroll();var e=this.getOption("scrollEventCheck");this._oIScroll=new iScroll(this.$()[0],{hideScrollbar:this.getOption("hideScrollbar"),onBeforeScrollStart:function(t){var o=$(t.target);return o.is("input")||o.is("select")||o.is("textarea")||"file"===o.attr("value")?!0:e&&e(t)?!0:(t.preventDefault(),void 0)}}),this.__bIsTouch||(this._oIScroll.disable(),this._oIScroll._unbind("DOMMouseScroll"),this._oIScroll._unbind("mousewheel"),this._oIScroll.vScrollbarWrapper&&$(this._oIScroll.vScrollbarWrapper).hide(),this._oIScroll.hScrollbarWrapper&&$(this._oIScroll.hScrollbarWrapper).hide(),this.$().css({"overflow-x":"none","overflow-y":"auto"}))},disableScroll:function(){this._oIScroll&&(this._oIScroll.destroy(),this._oIScroll=null)},refreshScroll:function(){this.__bIsTouch&&this._oIScroll&&this._oIScroll.refresh()},calcPosition:function(){$(this._$content).height();for(var e=this.getOption("verticalPadding"),t=0,o=[],a=0;this.__$properties.length>a;a++)if("none"!==this.__$properties[a].css("display")){var i=this.__$properties[a].children(".sbo-metadata-list-property-view").outerHeight();o.push({x:0,y:t,height:i,width:"100%",$:this.__$properties[a]}),t+=e+i}else o.push({x:0,y:0,height:0,width:0,$:this.__$properties[a]});return o},setContentSize:function(e,t){for(var o=0,a=0;t.length>a;a++)t[a].height+t[a].y>o&&(o=t[a].height+t[a].y);e.height(o)},_applyPosition:function(e){for(var t=0;e.length>t;t++)e[t].$.css({left:e[t].x,top:e[t].y,width:e[t].width,height:e[t].height,position:"absolute",padding:0});this.setContentSize(this._$content,e)},__reLayout:function(){this.getOption("useAbsoluteLayout")&&this._applyPosition(this.calcPosition()),this.refreshScroll()}},Protected:{}})}),define("sap.sbo.layout.BaseTilesLayout",["sap.core.klass","sap.ui.Control","sap.log","sap.ui.behavior.vdraggable","sap.util","sap.sbo.layout.TileView","sap.core.IProcessable","sap.sbo.compoundservices.LayoutService","sap.sbo.localization.Helper","sap.sbo.layout.BaseLayoutMenuButtonUtil","css!sap.sbo.layout.BaseTilesLayout"],function(){var e=this.getNS(),t=e.sap,o=t.ui.Control.declare({Name:this.getModuleInfo().moduleName,DomClass:"sbo-advtiles-layout",Interfaces:[t.core.IProcessable],Events:["modeChanged","resize","afterProcess","beforeUnprocess"],PublicMethods:[],Options:{disableLayoutService:{type:"boolean",defaultValue:!1,immutable:!0},editable:{type:"boolean",defaultValue:!1},coordinates:{type:"array",arrayType:{type:"any"},defaultValue:[]}},Public:{init:function(){t.ui.Control.prototype.init.apply(this,arguments),t.ui.Control.declareMember(this,{_layoutService:new t.sbo.compoundservices.LayoutService,_aInitTemplates:[],_$content:null,_iSizeInterval:-1,_iSizeHash:-1,__ns:null,_iDraggingMovementTime:-1,_bSizingButtonsAdded:!1,_bShow:!1,_initConfigures:[],_oldCoordinates:[]}),this._fetchInitTemplate(),this._createDom();var e=this;this._iSizeInterval=setInterval(function(){e._sizeChange()},1e3);var o=this.getOption("disableLayoutService");if(o)setTimeout(function(){t.log.info("layout service is disabled, reading from default configures in html."),e._initConfigures=e._getDefaultConfigures();var o=e._buildCoordinateMap(e._initConfigures);e.setOption("coordinates",o)},0);else if(window.SboShell.isFeatureAvailable("shell.getCurrentViewInfo")){var a=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo").viewName;t.util.showLoading();var i=this.getDevice();t.log.info("loading layoutPage page="+a+" device="+i),$.when(this._layoutService.getLayoutPage(i,a)).done(function(o){try{var s=!1;null===o?(t.log.info("no Layout from service by page="+a+" and device="+i+", using system init layout"),e._initConfigures=e._getDefaultConfigures(),s=!0):(t.log.info("layoutPage is loaded successfully."),e._initConfigures=e.getConfiguresByLayoutPage(o));var n=e._buildCoordinateMap(e._initConfigures);if(e.setOption("coordinates",n),e._oldCoordinates=e._copyCoordinates(n),s){t.log.info("take current page default configure as GDL, saving GDL");var r=e.getLayoutPageByCoordinates(a,n);e._saveGDL(i,r)}}catch(l){t.log.error("exception happend, using system init layout"),e._initConfigures=e._getDefaultConfigures();var n=e._buildCoordinateMap(e._initConfigures);e.setOption("coordinates",n)}}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()})}else setTimeout(function(){t.log.info("shell.getCurrentViewInfo() is not available, reading from default configures in html."),e._initConfigures=e._getDefaultConfigures();var o=e._buildCoordinateMap(e._initConfigures);e.setOption("coordinates",o)},0)},initMenuUtil:function(){t.log.error("not implemented")},destroy:function(){this.disableScroll(),this._layoutService.destroy(),this.$("a[mode]").off("vclick"),this.$(o.__subClassSelector("tile")).vdraggable(!1),this._$content=null,-1!==this._iSizeInterval&&(clearInterval(this._iSizeInterval),this._iSizeInterval=-1)},update:function(e){var t=null,o=this.getOption("disableLayoutService");return o||e.editable&&this._editableChange(),e.coordinates&&(t=$.Deferred(),this._doConfiguresChange(t)),t&&t.promise()},applyPosition:function(e,o){for(var a=0;e.length>a;a++)if(o&&e[a].uuid===o)t.log.info("applyPosition() skip "+o+", it is moving now");else{var i=this._$content.children("[uuid='"+e[a].uuid+"']");if(i.length){i.css({left:e[a].x,top:e[a].y,width:e[a].width,height:e[a].height});var s=i.attr("mode");if(s!=e[a].mode){i.attr({mode:e[a].mode}),this.fireEvent("modeChanged",e[a].uuid,e[a].mode,s);var n=this._findViewByUuid(e[a].uuid);n&&n.setOption("mode",e[a].mode),i.find("a[mode]").removeClass("highlighted"),i.find('a[mode="'+e[a].mode+'"]').addClass("highlighted")}}}this.setContentSize(this._$content,e),this._doAfterPositionChanged(this._$content.width(),this._$content.height())},calcPosition:function(){t.log.error("Not implemeneted")},getModes:function(){t.log.error("Not implemeneted")},setProcessContext:function(e){this.__ns=e},onLayoutStart:function(){var e=this.getOption("coordinates");this._oldCoordinates=this._copyCoordinates(e)},onLayoutStop:function(){},enableScroll:function(){t.log.error("Not implemeneted")},disableScroll:function(){t.log.error("Not implemeneted")},refreshScroll:function(){t.log.error("Not implemeneted")},setContentSize:function(){t.log.error("Not implemented")},getCoordinate:function(){t.log.error("Not implemented")},getMode:function(){t.log.error("Not implemented")},findCoordinateByPosition:function(){t.log.error("Not implemented")},doMovement:function(){t.log.error("Not implemented")},doChangeMode:function(){t.log.error("Not implemented")},getDevice:function(){t.log.error("Not implemented")},getConfiguresByLayoutPage:function(e){for(var t=[],o=0;e.layoutPageObjects.value.length>o;o++)t.push({uuid:e.layoutPageObjects.value[o].uuid,mode:e.layoutPageObjects.value[o].mode,coordinate:{x:e.layoutPageObjects.value[o].x,y:e.layoutPageObjects.value[o].y}});return t},getLayoutPageByCoordinates:function(e,t){for(var o=[],a=[],i=0;t.length>i;i++)for(var s=t[i],n=0;s.length>n;n++)if(s[n]){var r=s[n].uuid;-1===jQuery.inArray(r,a)&&(o.push({uuid:r,mode:s[n].mode,x:s[n].start.x,y:s[n].start.y}),a.push(r))}return{pageId:e,layoutPageObjects:o}},temp_CalculateLayout:function(){t.log.error("Not implemented")},onCancel:function(){this.setOption("coordinates",this._oldCoordinates),this.setOption("editable",!1)},onSave:function(){var e=this;if(window.SboShell.isFeatureAvailable("shell.getCurrentViewInfo")){var o=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo").viewName;t.util.showLoading();var a=this.getDevice(),i=e.getOption("coordinates"),s=e.getLayoutPageByCoordinates(o,i);$.when(e._layoutService.saveLayoutPage(a,s)).done(function(){t.log.info("layout is saved successfully for page "+o)}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()})}else t.log.info("shell.getCurrentViewInfo is not available on current page");this.setOption("editable",!1)},onRestore:function(){this._restoreLayout(this.getDevice())},onPersonalization:function(){this.setOption("editable",!0)},onCustomization:function(){this.setOption("editable",!0),this.onLoadGDL()},onLoadGDL:function(){var e=this;if(window.SboShell.isFeatureAvailable("shell.getCurrentViewInfo")){var o=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo").viewName;t.util.showLoading();var a=this.getDevice();t.log.info("reading GDL for page="+o+" device="+a),$.when(this._layoutService.getGlobalLayoutPage(a,o)).done(function(i){if(null===i)t.log.error("LayoutService.getGolbalLayoutPage() must return GDL on page="+o+" and device="+a);else{var s=e.getConfiguresByLayoutPage(i),n=e._buildCoordinateMap(s);e.setOption("coordinates",n)}}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()})}else t.log.info("shell.getCurrentViewInfo is not available on current page")},onPublish:function(){var e=this;if(window.SboShell.isFeatureAvailable("shell.getCurrentViewInfo")){var o=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo").viewName,a=this.getDevice(),i=e.getOption("coordinates"),s=e.getLayoutPageByCoordinates(o,i);e._saveGDL(a,s,!0)}else t.log.info("shell.getCurrentViewInfo is not available on current page");this.setOption("editable",!1)}},Protected:{_saveGDL:function(e,o,a){var i=this;t.util.showLoading(),$.when(this._layoutService.saveGlobalLayoutPage(e,o)).done(function(){t.log.info("GDL is saved successfully for page "+o.pageId+" device="+e),a&&(window.SboShell.raiseMessage(t.sbo.localization.Helper.get("layout/SAVE_GDL_SUCCESS"),"success"),i._loadLayout(e,o.pageId))}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()})},_restoreLayout:function(e){var o=this;if(window.SboShell.isFeatureAvailable("shell.getCurrentViewInfo")){var a=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo").viewName;t.util.showLoading(),$.when(this._layoutService.applyGolbalLayoutPage(e,a)).done(function(i){if(null===i)t.log.error("LayoutService.applyGolbalLayoutPage() must return GDL on page="+a+" and device="+e);else{t.log.info("page="+a+" device="+e+" is restored to GDL successfully.");var s=o.getConfiguresByLayoutPage(i),n=o._buildCoordinateMap(s);o.setOption("coordinates",n)}}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()})}else t.log.info("shell.getCurrentViewInfo is not available on current page");this.setOption("editable",!1)},_loadLayout:function(e,o){var a=this;t.util.showLoading(),$.when(a._layoutService.getLayoutPage(e,o)).done(function(i){if(null===i)t.log.error("no layout on page="+o+" and device="+e);else{t.log.info("layoutPage is loaded successfully."),configures=a.getConfiguresByLayoutPage(i);var s=a._buildCoordinateMap(configures);a.setOption("coordinates",s),a._oldCoordinates=a._copyCoordinates(s)}}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()})},_splitCoordinateString:function(e){if(e){var o=e.split(",");return 2>o.length?(t.log.error("invalid coordinate string "+e),null):{x:parseInt(o[0]),y:parseInt(o[1])}}},_getDefaultConfigures:function(){for(var e=[],t=0;this._aInitTemplates.length>t;t++)e.push({uuid:this._aInitTemplates[t].uuid,mode:this._aInitTemplates[t].mode,coordinate:this._splitCoordinateString(this._aInitTemplates[t].coordinate)});return e},_fetchInitTemplate:function(){for(var e=this.$().children("[data-sap-template]"),o=0;e.length>o;o++){var a=$(e[o]),i=a.attr("data-sap-template"),s={uuid:a.attr("uuid"),mode:this.getMode(a),coordinate:this.getCoordinate(a)};s.uuid||t.log.error("Template must has a 'uuid' attribute."),"Html"==i?(s.type="Html",s.data=a.children(),1!=s.data.length&&t.log.error("HTML template under tile layout can only has one sub node")):"View"==i?(s.type="View",s.data=a.attr("name"),s.option=a.attr("option")):t.log.error(),this._aInitTemplates.push(s)}e.remove()},_createDom:function(){this._$content=$("<div></div>").addClass(o.__subClass("content")).attr("data-sap-template","tiles"),this.$().append(this._$content)},_sizeChange:function(){},_doAfterPositionChanged:function(e,t){if(0==this._bShow){var a=this;this.enableScroll();var i=setInterval(function(){var e=a.$(o.__subClassSelector("tile")).not(".show");0==e.length?clearInterval(i):$(e[Math.floor(Math.random()*e.length)]).addClass("show")},0);this._bShow=!0}this.fireEvent("resize",e,t),this.refreshScroll()},_destroyTiles:function(){this.fireEvent("beforeUnprocess"),this._$content.unprocess(),this._$content.empty()},_createTiles:function(e){var a=this._$content.children(),i=this._initConfigures,s=!1;if(a.length!=i.length&&(s=!0),0==s){for(var n=0;a.length>n;n++){for(var r=$(a[n]).attr("uuid"),l=!1,d=0;i.length>d;d++)if(i[d].uuid==r){l=!0;break}if(0==l){s=!0;break}}e&&e.resolve()}else{this._destroyTiles();for(var p=[],n=0;i.length>n;n++){var c=this._getTileTemplateByUuid(i[n].uuid);c?p.push(c):t.log.error("Can't find tile by Uuid '"+i[n].uuid+"'")}var u=this;this._$content.html(p),$.when(this._$content.process(this.__ns)).done(function(){u.fireEvent("afterProcess"),e&&e.resolve()}),this.$().on("vclick","a[mode]",function(e){var a=$(e.currentTarget),i=a.attr("mode"),s=a.attr("enabled");if("false"===s)return!1;var n=a.parents(o.__subClassSelector("tile")).attr("uuid"),r=a.parents(o.__subClassSelector("tile")),l=u.getOption("coordinates"),d=u._getTileCenterCoordinate(l,r),p=l[d.x][d.y].start;t.log.info(n+" change to "+i);var c=u.doChangeMode(l,p,i);return c?(u.setOption("coordinates",l),u._refreshSizingButtons(i,a)):t.log.info("unable to change to mode "+i),!1})}},_refreshSizingButtons:function(e,t){var o=t.parent().parent().children();o.each(function(t,o){var a=$(o).children(),i=a.attr("mode");i===e?a.attr("enabled",!1):a.attr("enabled",!0)})},_getDeviceValidModes:function(e,o){for(var a=[],i=this.getModes(),s=0;o.length>s;s++)i[o[s]]?a.push(o[s]):t.log.info("tile "+e+" does not support mode: "+o[s]);return a},_showTileSizingButtons:function(){for(var e=this._initConfigures,t=0;e.length>t;t++){var a=this.$('[uuid="'+e[t].uuid+'"]').find('[data-sap-widget="sap.sbo.layout.TileView"]');if(a&&a.length>0){var i=a.getControl(),s=i.getOption("mode");if(i&&i.getController()){var n=[],r=this.getModes();try{n=i.getController().getSupportedModes(),n=this._getDeviceValidModes(e[t].uuid,n)}catch(l){window.SboShell.raiseException(l)}var d=a.parent().find(o.__subClassSelector("tile-editor-action"));for(var p in r){for(var c=!1,u=0,h=n.length;h>u;u++)if(n[u]===p){c=!0;break}if(c){var b=!0;s===p&&(b=!1),d.append($("<div>").append($("<a>").attr({mode:p,enabled:b}).text(r[p].text)))}}}}}},_getTileTemplateByUuid:function(e){for(var t=$("<div></div>").addClass(o.__subClass("tile-editor-action")),a=$("<div></div>").addClass(o.__subClass("tile-editor")).append($("<div></div>").addClass(o.__subClass("tile-editor-mask"))).append(t),i=0;this._aInitTemplates.length>i;i++)if(this._aInitTemplates[i].uuid==e){var s=this._aInitTemplates[i].mode,n=$("<div></div>").addClass(o.__subClass("tile")).attr("uuid",this._aInitTemplates[i].uuid).append(a.clone());return"View"==this._aInitTemplates[i].type?n.append($("<div></div>").attr({"data-sap-widget":"sap.sbo.layout.TileView","data-sap-option":"name: '"+this._aInitTemplates[i].data+"', mode: '"+s+"'"+(this._aInitTemplates[i].option?", "+this._aInitTemplates[i].option:"")}).addClass(o.__subClass("tile-view"))):"Html"==this._aInitTemplates[i].type&&n.append($("<div></div>").append(this._aInitTemplates[i].data).addClass(o.__subClass("tile-view"))),n
}return null},_convertTileModeToSize:function(e,t,o,a){var i,s=this.getModes()[e];return i=s?{x:s.size.x,y:s.size.y}:{x:1,y:1},{width:t*i.x+(i.x-1)*a,height:o*i.y+(i.y-1)*a}},_getTileCenterCoordinate:function(e,t){var o=Math.floor(t.outerWidth()/2),a=Math.floor(t.outerHeight()/2),i={x:t.position().left+o,y:t.position().top+a},s=this.findCoordinateByPosition(e,i);return s},_getTileCoordinate:function(e,t){var o=e[t.x][t.y];return o?o.start:null},_copyConfigure:function(e){if(e){var t={end:{x:e.end.x,y:e.end.y},start:{x:e.start.x,y:e.start.y},uuid:e.uuid,mode:e.mode};return t}return e},_copyCoordinates:function(e){for(var t=[],o=0;e.length>o;o++){e[o]||(e[o]=[]);for(var a=0;e[o].length>a;a++)void 0===t[o]&&(t[o]=[]),t[o][a]=this._copyConfigure(e[o][a])}return t},_coordinateEuqal:function(e,t){return e||t?!e&&t?!0:e&&!t?!0:e.x===t.x&&e.y===t.y?!0:!1:!0},_copyCoordinate:function(e){var t={x:e.x,y:e.y};return t},_hideSizingButton:function(e){var t=this.$('[uuid="'+e+'"]').find('[data-sap-widget="sap.sbo.layout.TileView"]'),a=t.parent().find(o.__subClassSelector("tile-editor-action"));a.find("img").addClass("hidden")},_showSizingButton:function(e){var t=this.$('[uuid="'+e+'"]').find('[data-sap-widget="sap.sbo.layout.TileView"]'),a=t.parent().find(o.__subClassSelector("tile-editor-action"));a.find("img").removeClass("hidden")},_editableChange:function(){var e=this.getOption("editable"),a=this,i=this.$(o.__subClassSelector("tile"));i.vdraggable(!1),e?(a.onLayoutStart(),this.$().addClass("editable"),a._bSizingButtonsAdded||(a._showTileSizingButtons(),a._bSizingButtonsAdded=!0),i.vdraggable({draggingClass:"dragging"}),i.on("vdragstart",function(e){a.disableScroll();var o=a.getOption("coordinates"),i=$(e.currentTarget),s=a._getTileCenterCoordinate(o,i);a._sourceCoordinate=s,a._targetCoordinate=s;var n=i.attr("uuid");a._hideSizingButton(n),t.log.info("drag start --> sourceCoordinate "+a._sourceCoordinate.x+", "+a._sourceCoordinate.y)}).on("vdragging",function(e){var o=$(e.currentTarget),i=a._copyCoordinates(a.getOption("coordinates")),s=a._getTileCenterCoordinate(i,o);if(s){if(!a._coordinateEuqal(a._targetCoordinate,s)){a._targetCoordinate=a._copyCoordinate(s),t.log.info("placing on "+s.x+", "+s.y);var n=i[a._sourceCoordinate.x][a._sourceCoordinate.y].uuid;a.doMovement(i,a._sourceCoordinate,s),a.applyPosition(a.calcPosition(i),n)}}else t.log.info("placing on empty, ignore it")}).on("vdragend",function(e){if(t.log.info("drag end"),a._sourceCoordinate){var o=$(e.currentTarget),i=o.attr("uuid"),s=a.getOption("coordinates"),n=null,r=a._getTileCenterCoordinate(s,o);r?(t.log.info("hit on "+r.x+", "+r.y+" "+n+", source uuid "+i),a.doMovement(s,a._sourceCoordinate,r)):t.log.info("not hit"),a.setOption("coordinates",s),a._sourceCoordinate=null,a.enableScroll(),a._showSizingButton(i)}})):(a.onLayoutStop(),i.off("vdragstart vdragging vdragend"),this.$().removeClass("editable"))},_doConfiguresChange:function(e){this._createTiles(e),this._bShow=!1,this.applyPosition(this.calcPosition(this.getOption("coordinates")))},_findTileUuidByPosition:function(e){for(var t=this.$(o.__subClassSelector("tile")),a=0;t.length>a;a++){var i=$(t[a]).position();if(!$(t[a]).hasClass("dragging")&&50>Math.abs(i.left-e.left)&&50>Math.abs(i.top-e.top))return $(t[a]).attr("uuid")}return null},_findViewByUuid:function(e){for(var t=0;this._aInitTemplates.length>t;t++)if("View"===this._aInitTemplates[t].type&&this._aInitTemplates[t].uuid===e){var a=this._$content.children("[uuid='"+this._aInitTemplates[t].uuid+"']").children(o.__subClassSelector("tile-view"));if(a.length>0){var i=a.getControl();return i}break}return null},_getCoordinatePrint:function(e,t){return"("+e+","+t+")"},_logOverlapError:function(e,o,a,i){t.log.error(e+" and "+o+" overlaps at "+this._getCoordinatePrint(a,i))},_buildCoordinateMap:function(e){for(var o=[],a=!1,i=0;e.length>i;i++){if(!e[i].coordinate){a=!0,t.log.error("coordinate Required, calculating temporary layout");break}var s=e[i].coordinate;void 0===o[s.x]&&(o[s.x]=[]);var n=this.getModes()[e[i].mode];void 0!==o[s.x][s.y]&&this._logOverlapError(e[i].uuid,o[s.x][s.y].uuid,s.x,s.y);for(var r={x:s.x,y:s.y},l={x:s.x+n.size.x-1,y:s.y+n.size.y-1},d=r.x;l.x>=d;d++)for(var p=r.y;l.y>=p;p++)void 0===o[d]&&(o[d]=[]),void 0!==o[d][p]&&this._logOverlapError(e[i].uuid,o[d][p].uuid,d,p),o[d][p]=e[i],o[d][p].end=l,o[d][p].start=r}return a&&(o=this.temp_CalculateLayout(e)),o}}});return o}),define("sap.sbo.layout.TileView",["sap.ui.Control","sap.ui.View","sap.sbo.layout.TileViewController"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Control.declare({Name:this.getModuleInfo().moduleName,ControlBase:t.ui.View,Options:{},Public:{init:function(){t.ui.View.prototype.init.apply(this,arguments)},destroy:function(){},update:function(){t.ui.View.prototype.update.apply(this,arguments)},validateController:function(e){return e instanceof t.sbo.layout.TileViewController}}})}),define("sap.sbo.layout.TileViewController",["sap.ui.Controller","json!sap.sbo.util.enums","sap.sbo.util.permissionUtil"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,Options:{mode:{type:"enum",enumType:["1x1","2x1","2x2","2x4","2x6","6x6"]}},Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments)},destroy:function(){},initView:function(){},destroyView:function(){},update:function(){},getSupportedModes:function(){t.log.error("getSupportedModes() hasn't implemented")}}})}),define("sap.sbo.layout.pad.AdvancedTilesLayout",["sap.core.klass","sap.ui.Control","sap.log","sap.ui.behavior.vdraggable","sap.util","sap.sbo.layout.TileView","sap.core.IProcessable","sap.sbo.layout.BaseTilesLayout","sap.sbo.localization.Helper","sap.sbo.layout.BaseLayoutMenuButtonUtil","css!sap.sbo.layout.pad.AdvancedTilesLayout"],function(){var e=this.getNS(),t=e.sap;return t.ui.Control.declare({Name:this.getModuleInfo().moduleName,ControlBase:t.sbo.layout.BaseTilesLayout,DomClass:"sbo-advtiles-layout-pad",Events:[],PublicMethods:[],Options:{ratio:{type:"real",defaultValue:1.4692,immutable:!0},padding:{type:"integer",defaultValue:8,immutable:!0},row:{type:"integer",defaultValue:3,immutable:!0},maxRow:{type:"integer",defaultValue:3,immutable:!0},maxColumn:{type:"integer",defaultValue:3,immutable:!0},tileHeight:{type:"integer",defaultValue:211,immutable:!0},tileWidth:{type:"integer",defaultValue:310,immutable:!0},tileHeightPad:{type:"integer",defaultValue:211,immutable:!0},tileWidthPad:{type:"integer",defaultValue:310,immutable:!0}},Public:{init:function(){this.declareMember({_bInLayoutMode:!1,_oIScroll:null,_bIsTouch:t.util.isTouch()||"desktop"!==SboShell.callFeatureMethod("shell.getDeviceType")}),t.sbo.layout.BaseTilesLayout.prototype.init.apply(this,arguments),this.getOption("disableLayoutService");var e=!1;if(window.SboShell.isFeatureAvailable("shell.getCurrentViewInfo")){var o=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo").viewName;"sap.sbo.page.pad.Home"===o&&(e=!0)}if(e){var a=this.autoDestroy(new t.sbo.layout.BaseLayoutMenuButtonUtil(!1));a.attachEvent("publish",this.onPublish.bind(this)),a.attachEvent("cancel",this.onCancel.bind(this)),a.attachEvent("save",this.onSave.bind(this)),a.attachEvent("personalization",this.onPersonalization.bind(this)),a.attachEvent("customization",this.onCustomization.bind(this)),a.attachEvent("restore",this.onRestore.bind(this))}},destroy:function(){this._oIScroll&&(this._oIScroll.destroy(),this._oIScroll=null)},update:function(){t.sbo.layout.BaseTilesLayout.prototype.update.apply(this,arguments)},getModes:function(){return this._mModes},calcPosition:function(e){return this._calcPosition(e)},setContentSize:function(e,t){if(this._bIsTouch){for(var o=0,a=0;t.length>a;a++)t[a].x+t[a].width>o&&(o=t[a].x+t[a].width);e.width(o)}else{for(var i=0,a=0;t.length>a;a++)t[a].y+t[a].height>i&&(i=t[a].y+t[a].height);e.height(i).parent().css("overflow","auto")}},initMenuUtil:function(){t.log.error("not implemented")},enableScroll:function(){this._bIsTouch&&(this._oIScroll?this._oIScroll.enable():this._oIScroll=new iScroll(this.$().attr("id"),{vScroll:!1,bounce:!1,hideScrollbar:!0,fadeScrollbar:!0}))},disableScroll:function(){this._bIsTouch&&this._oIScroll&&this._oIScroll.disable()},refreshScroll:function(){this._bIsTouch&&this._oIScroll&&this._oIScroll.refresh()},getCoordinate:function(e){var o=e.attr("uuid");if(this._bIsTouch){var a=e.attr("coordinate-pad");return a||t.log.error("Template "+o+" must have a 'coordinate-pad' attribute."),a}var a=e.attr("coordinate");return a||t.log.error("Template "+o+" must have a 'coordinate' attribute."),a},getMode:function(e){var o,a=e.attr("uuid");return this._bIsTouch?(o=e.attr("mode-pad"),o||(t.log.error("Template "+a+" must have a 'mode-pad' attribute. Use 'mode' temporarily"),o=e.attr("mode"),o||(t.log.error("Template must have a 'mode' attribute. Using 2x2 temporarily"),o="2x2"))):(o=e.attr("mode"),o||(t.log.error("Template "+a+" must have a 'mode' attribute. Using 2x2 temporarily"),o="2x2")),this._ensureValidMode(o)},findCoordinateByPosition:function(e,t){return this._findCoordinateByPosition(e,t)},doMovement:function(e,t,o){return this._doMovement(e,t,o)},doChangeMode:function(e,t,o){return this._doChangeMode(e,t,o)},getDevice:function(){return this._bIsTouch?"pad":"desktop"},temp_CalculateLayout:function(e){return this._temp_CalculateLayout(e)}},Protected:{_mModes:{"2x2":{size:{x:1,y:1},text:"1X",findTarget:function(e,t,o,a){o.x=a.x=t.x,o.y=a.y=t.y}},"2x4":{size:{x:1,y:2},text:"2X",findTarget:function(e,t,o,a){var i=e.getOption("maxRow");if(o.x=a.x=t.x,o.y=0>t.y-1?0:t.y-1,a.y=o.y+1,e._bIsTouch&&a.y>i-1){var s=a.y-(i-1);a.y-=s,o.y-=s}}},"2x6":{size:{x:1,y:3},text:"3X",findTarget:function(e,t,o,a){var i=e.getOption("maxRow");if(o.x=a.x=t.x,o.y=0>t.y-1?0:t.y-1,a.y=o.y+2,e._bIsTouch&&a.y>i-1){var s=a.y-(i-1);a.y-=s,o.y-=s}}}},_temp_CanPlaced:function(e,t,o,a){for(var i=this.getOption("maxColumn"),s=this.getOption("maxRow"),n=t;t+a.size.x>n;n++)for(var r=o;o+a.size.y>r;r++){if(this._bIsTouch){if(r>=s)return!1}else if(n>=i)return!1;if(void 0!==e[n]&&void 0!=e[n][r])return!1}return!0},_temp_Place:function(e,t,o,a,i){for(var s={x:o,y:a},n={x:o+i.size.x-1,y:a+i.size.y-1},r=o;o+i.size.x>r;r++)for(var l=a;a+i.size.y>l;l++)void 0===t[r]&&(t[r]=[]),t[r][l]=e,t[r][l].start=s,t[r][l].end=n},_temp_CalculateLayout:function(e){for(var t=[],o=0,a=0,i=this.getOption("maxColumn"),s=this.getOption("maxRow"),n=0;e.length>n;n++){for(var r=this.getModes()[e[n].mode];!this._temp_CanPlaced(t,o,a,r);)this._bIsTouch?a+1>=s?(o++,a=0):a++:o+1>=i?(o=0,a++):o++;this._temp_Place(e[n],t,o,a,r)}return t},_convertOldModeToNewMode:function(e){return"2xN"===e?(t.log.error("mode 2xN is not valid, please change to 2x6"),"2x6"):"6xN"===e?(t.log.error("mode 6xN is not valid, please change to 6xN"),"6x6"):e},_ensureValidMode:function(e){var o=this._convertOldModeToNewMode(e),a=this.getModes()[o];return a?o:(t.log.error("mode "+e+" is not a valid. Using 2x2 temporarily"),"2x2")},_checkCanResizeWithOutMove:function(e,o,a,i){for(var s=this.getOption("maxColumn"),n=this.getOption("maxRow"),r=o.x;o.x+a.size.x>r;r++)for(var l=o.y;o.y+a.size.y>l;l++){if(this._bIsTouch){if(l>=n)return t.log.info(r+" exceeds max row "+n),!1}else if(r>=s)return t.log.info(r+" exceeds max column "+s),!1;if(void 0!==e[r]&&void 0!=e[r][l]&&void 0!=e[r][l]&&e[r][l].uuid!=i)return t.log.info("can not place on "+r+", "+l),!1}return!0},_resizeTile:function(e,t,o,a){for(var i=this.getModes()[a.mode],s=this.getModes()[t],n=i.size.x>s.size.x?i.size.x:s.size.x,r=i.size.y>s.size.y?i.size.y:s.size.y,l=o,d={x:l.x+s.size.x-1,y:l.y+s.size.y-1},p=o.x;o.x+n>p;p++)for(var c=o.y;o.y+r>c;c++)d.x>=p&&d.y>=c?(void 0===e[p]&&(e[p]=[]),e[p][c]={},e[p][c].start=l,e[p][c].end=d,e[p][c].mode=t,e[p][c].uuid=a.uuid):e[p][c]=void 0},_doChangeMode:function(e,t,o){var a=this.getOption("maxColumn"),i=this.getOption("maxRow"),s=e[t.x][t.y],n=s.uuid,r=this.getModes()[s.mode],l=this.getModes()[o];if(r===l)return!1;if(!this._checkCanResizeWithOutMove(e,t,l,n)){var d=t.x,p=t.y,c=d+l.size.x-1,u=p+l.size.y-1;if(this._bIsTouch){if(u>i-1){var h=u-(i-1);p-=h,u-=h,t.y-=h}}else if(c>a-1){var h=c-(a-1);d-=h,c-=h,t.x-=h}if(!this._checkCanResizeWithOutMove(e,{x:d,y:p},l,n))if(this._bIsTouch){var b=this._getMoveRightParams(e,d,p,c,l.size,n);this._moveRightAndFindNearbyMovePoint(e,b.moveRightPoints,b.maxMoveRightCount,b.moveRows,[-1,1])}else{var b=this._getMoveDownParams(e,d,p,u,l.size,n);this._moveDownAndFindNearbyMovePoint(e,b.moveDownPoints,b.maxMoveDownCount,b.moveColumns,[-1,1])}}return this._resizeTile(e,o,t,s),this._compactEmptyRowOrColumn(e),!0},_checkCanPlaceByStart:function(e,o,a,i){for(var s=this.getOption("maxColumn"),n=this.getOption("maxRow"),r=o.x;a.x>=r;r++)for(var l=o.y;a.y>=l;l++){if(0>r)return t.log.info("can not place on "+r+","+l),!1;if(0>l)return t.log.info("can not place on "+r+","+l),!1;if(this._bIsTouch){if(l>=n)return t.log.info("can not place on "+r+","+l),!1}else if(r>=s)return t.log.info("can not place on "+r+","+l),!1;if(void 0!==e[r]&&void 0!==e[r][l]&&e[r][l].uuid!==i)return t.log.info("need move place on "+r+","+l),!1}return!0},_checkCanPlaceWithOutMove:function(e,o,a,i,s,n){return a.findTarget(this,o,s,n),this._checkCanPlaceByStart(e,s,n,i)?(t.log.info("without move place on!"),!0):!1},_findUpperMoveDownPoint:function(e,t,o){var a={x:t.x,y:t.y},i=!1;if(e[t.x][t.y]){var s=e[t.x][t.y].uuid;if(s===o)for(var n=t.y+1;e[t.x].length>n;n++)if(e[t.x][n]){if(e[t.x][n]&&e[t.x][n].uuid!==o){a.y=n,i=!0;break}}else a.y=n;else{for(var n=t.y-1;n>=0&&e[t.x][n]&&e[t.x][n].uuid===s;n--)a.y=n;i=!0}}else for(var n=t.y+1;e[t.x].length>n;n++)if(e[t.x][n]){a.y=n,i=!0;break}return i?a:null},_findLefterMoveRightPoint:function(e,t,o){var a={x:t.x,y:t.y};if(e[t.x][t.y]){var i=e[t.x][t.y].uuid;if(i===o)for(var s=t.x+1;e.length>=s;s++){if(void 0===e[s]){a.x=s;break}if(e[s][t.y]&&e[s][t.y].uuid!==o){a.x=s;break}}else for(var s=t.x-1;s>=0&&e[s][t.y]&&e[s][t.y].uuid===i;s--)a.x=s}else for(var s=t.x+1;e.length>s;s++)if(e[s][t.y]){a.x=s;break}return a},_isInColumnRange:function(e,t,o){return o>=e&&e+t>o?!0:!1},_moveDownAndFindNearbyMovePoint:function(e,o,a,i,s){for(var n=this.getOption("maxColumn"),r=0,l=0;!o[l];l++)r++,i--;for(var d=o[r].x,p={},l=d;d+i-1>=l;l++){var c=o[l-d+r];if(c)for(var u=e[l].length-1;u>=c.y;u--){var h=e[l][u];if(e[l][u+a]=h,h){var b={x:h.start.x,y:h.start.y+a},g={x:h.end.x,y:h.end.y+a};e[l][u]=void 0,e[l][u+a].start=b,e[l][u+a].end=g;for(var m=0;s.length>m;m++){var f=s[m];if(l+f>=0&&n>l+f&&!this._isInColumnRange(d,i,l+f)){var v=e[l+f][u];v&&v.uuid===h.uuid&&(t.log.info("found a new move down point "+(l+f)+","+u),p[f]={x:l+f,y:u})}}}}}for(var m=0;s.length>m;m++){var f=s[m];p[f]&&this._moveDownAndFindNearbyMovePoint(e,[p[f]],a,1,[f])}},_isInRowRange:function(e,t,o){return o>=e&&e+t>o?!0:!1},_moveRightAndFindNearbyMovePoint:function(e,o,a,i,s){for(var n=this.getOption("maxRow"),r=o[0].y,l={},d=r;r+i-1>=d;d++)for(var p=o[d-r],c=e.length-1;c>=p.x;c--)if(e[c]){var u=e[c][d];if(void 0===e[c+a]&&(e[c+a]=[]),e[c+a][d]=u,u){var h={x:u.start.x+a,y:u.start.y},b={x:u.end.x+a,y:u.end.y};e[c][d]=void 0,e[c+a][d].start=h,e[c+a][d].end=b;for(var g=0;s.length>g;g++){var m=s[g];if(d+m>=0&&n>d+m&&!this._isInRowRange(r,i,d+m)){var f=e[c][d+m];f&&f.uuid===u.uuid&&(t.log.info("found a new move down point "+c+","+(d+m)),l[m]={x:c,y:d+m})}}}}for(var g=0;s.length>g;g++){var m=s[g];l[m]&&this._moveRightAndFindNearbyMovePoint(e,[l[m]],a,1,[m])}},_removeSource:function(e,t,o){for(var a=t.x;t.x+o.x>a;a++)for(var i=t.y;t.y+o.y>i;i++)e[a][i]=void 0},_getMoveDownParams:function(e,t,o,a,i,s){for(var n=[],r=0,l=0,d=0;i.x>d;d++){var p={x:t+d,y:o},c=this._findUpperMoveDownPoint(e,p,s);if(c){var u=a-c.y+1;r=u>r?u:r}n.push(c),l++}return{moveDownPoints:n,maxMoveDownCount:r,moveColumns:l}},_getMoveRightParams:function(e,t,o,a,i,s){for(var n=[],r=0,l=0;i.y>l;l++){var d={x:t,y:o+l},p=this._findLefterMoveRightPoint(e,d,s),c=a-p.x+1;r=c>r?c:r,n.push(p)}var u=i.y;return{moveRightPoints:n,maxMoveRightCount:r,moveRows:u}},_doMovement:function(e,t,o){var a=e[t.x][t.y].mode,i=this.getModes()[a],s=i.size,n=e[t.x][t.y],r=n.uuid,l={},d={};i.findTarget(this,t,l,d);var p={},c={};if(this._checkCanPlaceWithOutMove(e,o,i,r,p,c))this._removeSource(e,l,s);else{var u={},h={};i.findTarget(this,o,u,h);var b=this._checkCanPlaceByStart(e,u,h,r);if(this._removeSource(e,l,s),b)p=u,c=h;else{if(this._bIsTouch){var g=this._getMoveRightParams(e,u.x,u.y,h.x,s,r);this._moveRightAndFindNearbyMovePoint(e,g.moveRightPoints,g.maxMoveRightCount,g.moveRows,[-1,1])}else{var g=this._getMoveDownParams(e,u.x,u.y,h.y,s,r);this._moveDownAndFindNearbyMovePoint(e,g.moveDownPoints,g.maxMoveDownCount,g.moveColumns,[-1,1])}p=u,c=h}}for(var m=p,f=c,v=m.x;f.x>=v;v++)for(var y=m.y;f.y>=y;y++)void 0===e[v]&&(e[v]=[]),e[v][y]=n,e[v][y].start=m,e[v][y].end=f;return this._compactEmptyRowOrColumn(e),!0},_validateCoordinate:function(e){if(e&&(0>e.y||0>e.x))return null;if(this._bIsTouch){var t=this.getOption("maxRow");return e&&e.y>t-1?null:e}var o=this.getOption("maxColumn");return e&&e.x>o-1?null:e},_moveUpRows:function(e,o,a){for(var i=this.getOption("maxColumn"),s=a[0],n=s,r=s+1;o>r;r++)if(!(a.indexOf(r)>0)){for(var l=r-n,d=0;i>d;d++)e[d]||(e[d]=[]),e[d][n]=e[d][r],e[d][n]&&(e[d][n].start.y-=l,e[d][n].end.y-=l),e[d][r]=void 0;n++}t.log.info("moveIndex="+n+", maxLength="+o);for(var p=o-n,d=0;i>d;d++)e[d].splice(n,p)},_moveLeftColumns:function(e,o,a){for(var i=this.getOption("maxRow"),s=a[0],n=s,r=s+1;o>r;r++)if(!(a.indexOf(r)>0)){for(var l=r-n,d=0;i>d;d++)e[d]||(e[d]=[]),e[n][d]=e[r][d],e[n][d]&&(e[n][d].start.x-=l,e[n][d].end.x-=l),e[r][d]=void 0;n++}t.log.info("moveIndex="+n+", maxLength="+o);var p=o-n;e.splice(n,p)},_compactEmptyRowOrColumn:function(e){var o=this.getOption("maxColumn"),a=this.getOption("maxRow");if(this._bIsTouch){for(var i=[],s=e.length,n=0;s>n;n++){for(var r=!0,l=0;a>l;l++)if(e[n]&&e[n][l]){r=!1;break}r&&i.push(n)}if(i.length>0){t.log.info("found empty columns : ");for(var n=0;i.length>n;n++)t.log.info(i[n]);this._moveLeftColumns(e,s,i)}}else{for(var s=0,n=0;o>n;n++)e[n]&&(s=e[n].length>s?e[n].length:s);for(var d=[],l=0;s>l;l++){for(var p=!0,n=0;o>n;n++)if(e[n]&&e[n][l]){p=!1;break}p&&d.push(l)}if(d.length>0){t.log.info("found empty rows : ");for(var n=0;d.length>n;n++)t.log.info(d[n]);this._moveUpRows(e,s,d)}}},_findCoordinateByPosition:function(e,t){var o,a,i=this.getOption("padding");this._bIsTouch?(o=this.getOption("tileWidthPad"),a=this.getOption("tileHeightPad")):(o=this.getOption("tileWidth"),a=this.getOption("tileHeight"));var s=t.x/(o+i),n=Math.floor(s),r=t.x%(o+i),l=t.y/(a+i),d=Math.floor(l),p=t.y%(a+i),c=null;r>o?c=void 0==e[n]?null:void 0==e[n][d]?null:void 0==e[n+1]?null:void 0==e[n+1][d]?null:e[n][d].uuid===e[n+1][d].uuid?{x:n,y:d}:null:o>=r&&(p>a?(d++,c={x:n,y:d}):c={x:n,y:d});var u=this._validateCoordinate(c);return u},_calcPosition:function(e){var t,o,a=this.getOption("padding");this._bIsTouch?(t=this.getOption("tileWidthPad"),o=this.getOption("tileHeightPad")):(t=this.getOption("tileWidth"),o=this.getOption("tileHeight"));for(var i=[],s={},n=0;e.length>n;n++){var r=e[n];if(r)for(var l=0;r.length>l;l++)if(r[l]){var d=r[l].uuid;if(void 0===s[d]){s[d]=d;var p=this._convertTileModeToSize(r[l].mode,t,o,a);i.push({uuid:r[l].uuid,x:n*a+n*t,y:l*a+l*o,width:p.width,height:p.height,mode:r[l].mode})}}}return i}}})}),define("sap.sbo.layout.pad.CardLayout",["sap.ui.Control","sap.log","sap.util","sap.core.IProcessable","sap.core.JsonModel","css!sap.sbo.layout.pad.CardLayout"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Control.declare({Name:this.getModuleInfo().moduleName,DomClass:"sbo-card-layout",Interfaces:[t.core.IProcessable],Options:{data:{type:"array",arrayType:{type:"any"},defaultValue:[]},width:{type:"integer",defaultValue:200,immutable:!0},padding:{type:"integer",defaultValue:15,immutable:!0}},Public:{init:function(){t.ui.Control.prototype.init.apply(this,arguments),t.ui.Control.declareMember(this,{_domTemplate:null,_$content:null,_oIScroll:null,_nsProcess:{},_aItems:[],_iSizeInterval:-1,_iSizeHash:-1,__bIsTouch:t.util.isTouch()||"desktop"!==SboShell.callFeatureMethod("shell.getDeviceType")}),this._fetchInitTemplate(),this._createDom(),this.__bIsTouch&&this._enableScroll();var e=this;this._iSizeInterval=setInterval(function(){e._sizeChange()},1e3)},destroy:function(){this._relaseData(),this.__bIsTouch&&this._disableScroll(),-1!=this._iSizeInterval&&(clearInterval(this._iSizeInterval),this._iSizeInterval=-1),this._nsProcess=null},setProcessContext:function(e){this._nsProcess=e},update:function(e){e.data&&this._dataChange()}},Protected:{_fetchInitTemplate:function(){var e=this.$().children('[data-sap-template="Content"]');1!=e.length&&t.log.error("CardLayout has one and only one 'Content' template region."),this._domTemplate=e.clone().removeAttr("data-sap-template").addClass(this.__subClass("item")),e.remove()},_createDom:function(){this._$content=$("<div></div>").addClass(this.__subClass("content")).attr("data-sap-template","Content"),this.$().append(this._$content)},_enableScroll:function(){this._oIScroll=new iScroll(this.$().attr("id"),{vScroll:!1}),this._oIScroll.options.onBeforeScrollStart=function(e){for(var t=e.target;1!=t.nodeType;)t=t.parentNode;("SELECT"!=t.tagName&&"INPUT"!=t.tagName&&"TEXTAREA"!=t.tagName||"file"===$target.attr("value"))&&e.preventDefault()}},_disableScroll:function(){this._oIScroll.destroy(),this._oIScroll=null},_sizeChange:function(e){if(this.__bIsTouch){var t=$(this._$content).width(),o=$(this._$content).height(),a=1997*t+1999*o;if(a!=this._iSizeHash||e){for(var i=this.getOption("width"),s=this.getOption("padding"),n=0,r=0;this._aItems.length>r;r++){var l=this._$content.children("[index='"+r+"']");l.css({height:o+"px",width:this.getOption("width")+"px",left:r*i+r*s+"px"}),n=r*i+r*s+i}this._$content.width(n),this._oIScroll.refresh(),this._iSizeHash=a}}else{var t=this.$().width(),o=$(this._$content).height(),a=1997*t+1999*o;if(a!=this._iSizeHash||e){for(var i=this.getOption("width"),d=Math.floor(t/i),s=this.getOption("padding"),r=0;this._aItems.length>r;r++){var l=this._$content.children("[index='"+r+"']");l.css({height:o+"px",width:this.getOption("width")+"px",left:r%d*(i+s)+"px",top:Math.floor(r/d)*(o+s)+"px"})}this._$content.css({overflow:"auto",width:"100%"}),this._iSizeHash=a}}},_relaseData:function(){this._$content.unprocess(),this._$content.empty();for(var e=0;this._aItems.length>e;e++)this._aItems[e].model.destroy();this._aItems=[]},_dataChange:function(){this._relaseData();for(var e=this.getOption("data"),o=this,a=0;e.length>a;a++){this._aItems[a]={model:new t.core.JsonModel(e[a])};var i=this._domTemplate.clone().attr("index",a);this._$content.append(i),i.setModel(this._aItems[a].model),function(e){o._aItems[a].model.attachEvent("databinded",function(t,a){o.fireOptionChange("data",e+"/"+t+a)})}(a)}this._$content.process(this._nsProcess),this._sizeChange(!0)}}})}),define("sap.sbo.layout.pad.ListLayout",["sap.sbo.layout.BaseListLayout","sap.ui.Control","sap.util","sap.log","sap.sbo.localization.Helper","css!sap.sbo.layout.pad.ListLayout"],function(){"use strict";var e=this.getNS(),t=e.sap,o=t.ui.Control.declare({Name:this.getModuleInfo().moduleName,ControlBase:t.sbo.layout.BaseListLayout,DomClass:"sbo-list-layout-pad",Events:[],PublicMethods:[],Options:{itemWidthRatio:{type:"real",defaultValue:1.4692,immutable:!0},itemHeight:{type:"integer",defaultValue:211,immutable:!0},padding:{type:"integer",defaultValue:8,immutable:!0},textDragForMore:{type:"string",defaultValue:t.sbo.localization.Helper.get("layout/DRAG_FOR_MORE")},textReleaseForLoading:{type:"string",defaultValue:t.sbo.localization.Helper.get("layout/RELEASE_TO_LOAD")},textLoading:{type:"string",defaultValue:t.sbo.localization.Helper.get("layout/LOADING")},iDragUpdateThreshold:{type:"integer",defaultValue:100}},Public:{init:function(){t.sbo.layout.BaseListLayout.prototype.init.apply(this,arguments),this.declareMember({__$loadingInfo:null,__$loadingInfoText:null,__contentWidth:0,__oDelay:null}),this.__bIsTouch&&this.__createDom_pad();var e=this;this.__bIsTouch?($.extend(this.__oIScroll.options,{vScroll:!1,onScrollMove:function(){e.__iTotalRecords!==e.__iCurRecIndex&&"loading"!==e.__sRequestStatus&&e.__updateDragText()},onBeforeScrollEnd:function(){e.__$loadingInfoText.css("opacity",0),this.x-this.maxScrollX<-e.getOption("iDragUpdateThreshold")&&e.__requestMoreContent()},onScrollEnd:function(){e.__$loadingInfoText.css("opacity",1)}}),this.__oIScroll.refresh(),this.__$loadingInfo.hide()):this.__$container.scroll(function(){20>=Math.abs($(this)[0].scrollHeight-$(this).scrollTop()-$(this).outerHeight())&&e.__requestMoreContent()})},destroy:function(){},update:function(){t.sbo.layout.BaseListLayout.prototype.update.apply(this,arguments)},__resizeLayout:function(e,t){if(this.__bIsTouch){for(var o=this.getOption("padding"),a=this.getOption("itemHeight"),i=Math.round((t+o)/(a+o)),s=Math.floor((t+o)/i-o),n=Math.floor(this.getOption("itemWidthRatio")*s),r=this.__aItems.length,l=0;r>l;l++){var d=Math.floor(l/i)*(n+o),p=l%i*(s+o);this.__aItems[l].dom.css({left:d,top:p,width:n,height:s})}0===this.__iTotalRecords?this.__$content.css("width","100%"):(this.__contentWidth=Math.ceil(r/i)*(n+o),this.__$container.css("width",this.__contentWidth+(this.__iTotalRecords===this.__iCurRecIndex?0:50)),this.__$content.css("width",this.__contentWidth)),this.__$loadingInfo.css("left",this.__contentWidth),this.__$loadingInfoText.css("width",t),this.__oIScroll.refresh(),this.__oIScroll.maxScrollX>=0&&"ready"===this.__sRequestStatus&&this.__iTotalRecords!==this.__iCurRecIndex&&this.__requestMoreContent()}else{for(var o=this.getOption("padding"),a=this.getOption("itemHeight"),s=a,n=Math.floor(this.getOption("itemWidthRatio")*s),c=Math.floor((e+o)/(n+o)),l=0;this.__aItems.length>l;l++){var u=Math.floor(l/c),h=l%c,d=h*(n+o),p=u*(s+o);this.__aItems[l].dom.css({left:d,top:p,width:n,height:s})}var b=Math.ceil(Math.ceil(this.__aItems.length/c)*(a+o));this.__$container.css({overflow:"auto"}),this.__$content.css({height:b})}},__getPageSize:function(){var e=this.$().height(),t=this.$().width(),o=this.getOption("padding"),a=this.getOption("itemHeight"),i=Math.round((e+o)/(a+o)),s=Math.floor((e+o)/i-o),n=Math.floor(this.getOption("itemWidthRatio")*s),r=Math.ceil(1.5*(t/(n+o)));return r*i}},Protected:{__createDom_pad:function(){this.__$loadingInfoText=$("<div>"),this.__$loadingInfo=$("<div>").addClass(o.__subClass("loading")).append(this.__$loadingInfoText),this.__$container.append(this.__$loadingInfo)},__appendItems_post:function(e,t){t.sort(function(){return Math.random()-.5});for(var o=0;t.length>o;++o)this.__oTimer.setTimeout(function(e){return function(){e.attr("data-visible","true")}}(t[o]),30*o)},__onStatusChange:function(e){this.__bIsTouch?"noMoreData"===e?this.__$loadingInfoText.html(""):"ready"===e?this.__updateDragText():"loading"===e&&(this.__$loadingInfoText.html(this.getOption("textLoading")),this.__$loadingInfoText.css("opacity",1)):("noMoreData"===e||"ready"===e)&&t.util.hideLoading()},__updateDragText:function(){this.__bIsTouch&&this.__$loadingInfoText.html(this.__oIScroll.x-this.__oIScroll.maxScrollX<-this.getOption("iDragUpdateThreshold")?this.getOption("textReleaseForLoading"):this.getOption("textDragForMore"))}}});return o}),define("sap.sbo.layout.pad.MetadataLayout",["sap.core.klass","sap.ui.Control","sap.log","sap.ui.behavior.vdraggable","sap.core.IProcessable","sap.sbo.layout.BaseMetadataLayout","sap.ui.common","css!sap.sbo.layout.pad.MetadataLayout"],function(){var e=this.getNS(),t=e.sap;return t.ui.Control.declare({Name:this.getModuleInfo().moduleName,ControlBase:t.sbo.layout.BaseMetadataLayout,DomClass:"sbo-metadata-layout-pad",Options:{contentMargin:{type:"integer",defaultValue:0,immutable:!0},horizontalPadding:{type:"integer",defaultValue:60,immutable:!0},colWidth:{type:"integer",defaultValue:298,immutable:!0}},Public:{init:function(){t.sbo.layout.BaseMetadataLayout.prototype.init.apply(this,arguments),t.ui.Control.declareMember(this,{})},destroy:function(){},update:function(){return t.sbo.layout.BaseMetadataLayout.prototype.update.apply(this,arguments)},calcPosition:function(){var e=$(this._$content).height(),t=this.getOption("contentMargin");e-=2*t;var o=this.getOption("horizontalPadding"),a=this.getOption("verticalPadding"),i=this.getOption("colWidth"),s=75;if(this.__bIsTouch)var n={x:10,y:0};else{var r={cols:2,colPos:[0,0],focusCol:0};i=298,o=122}var l=[];this.__aPosDict=[];for(var d=[],p=[],c=0;this.__$properties.length>c;c++)"false"===this.__$properties[c].attr("gl-enabled")?p.push({property:this.__$properties[c],index:c}):d.push({property:this.__$properties[c],index:c,disabled:!0});d=d.concat(p);for(var c=0;d.length>c;c++){var u=d[c].property.children(".sbo-metadata-list-property-view");u.css("height","");var h=0;"none"!==d[c].property.css("display")&&"none"!==u.css("display")&&(h=u.outerHeight());var b={};if(this.__bIsTouch)0!==c&&d[c].property.attr("gl-group")!==d[c-1].property.attr("gl-group")&&(n.y+=s),h>e-2*t&&(u.height(e-2*t),h=e-2*t),n.y+h>e&&(n.x=n.x+i+o,n.y=0),b.x=n.x,b.y=n.y,n.y+=a+h;else{var g=d[c].property.attr("gl-columnNo");if(void 0!==g)r.focusCol=parseInt(g,10);else{if(0!==c&&d[c].property.attr("gl-group")!==d[c-1].property.attr("gl-group")){for(var m=1/0,f=-1,v=0;r.colPos.length>v;++v)m>r.colPos[v]&&(m=r.colPos[v],f=v);r.focusCol=f,0!==r.colPos[r.focusCol]&&(r.colPos[r.focusCol]+=s)}d[c].property.attr("gl-columnNo",r.focusCol)}b.x=r.focusCol*(i+o)+100-t,b.y=r.colPos[r.focusCol],r.colPos[r.focusCol]+=a+h}l.push({x:b.x+t,y:b.y+t,height:h,width:i,$:d[c].property}),d[c].disabled&&this.__aPosDict.push({x:b.x+t,y:b.y+t-a,width:i,height:a+h/2,index:d[c].index,direction:-1},{x:b.x+t,y:b.y+t+h/2,width:i,height:a+h/2,index:d[c].index,direction:1})}return l},setContentSize:function(e,t){if(this.__bIsTouch){for(var o=-1,a=0;this.__aPosDict.length>a;a++)this.__aPosDict[a].width+this.__aPosDict[a].x>o&&(o=this.__aPosDict[a].width+this.__aPosDict[a].x);e.width(o)}else{for(var i=-1,a=0;t.length>a;a++)t[a].height+t[a].y>i&&(i=t[a].height+t[a].y);e.css({width:"100%",height:i})}},enableScroll:function(){this.__bIsTouch?(t.sbo.layout.BaseMetadataLayout.prototype.enableScroll.apply(this,arguments),this._oIScroll.vScroll=!1,this._oIScroll.hScroll=!0,this._oIScroll.bounce=!1,this._oIScroll.hideScrollbar=!0,this._oIScroll.fadeScrollbar=!0,this._oIScroll.refresh()):this.$().css("overflow-y","auto")}},Protected:{}})}),define("sap.sbo.layout.pad.MetadataList",["sap.ui.Control","sap.log","sap.sbo.layout.BaseMetadataScroll","sap.sbo.layout.BaseMetadataList","css!sap.sbo.layout.pad.MetadataList"],function(){var e=this.getNS(),t=e.sap;return t.ui.Control.declare({Name:this.getModuleInfo().moduleName,ControlBase:t.sbo.layout.BaseMetadataScroll,DomClass:"sbo-metadata-list-pad",Options:{},Public:{init:function(){t.sbo.layout.BaseMetadataScroll.prototype.init.apply(this,arguments),this.declareMember({})},destroy:function(){},update:function(){return t.sbo.layout.BaseMetadataScroll.prototype.update.apply(this,arguments)},enableScroll:function(){t.sbo.layout.BaseMetadataScroll.prototype.enableScroll.apply(this,arguments),this.__bIsTouch&&(this._oIScroll.hScroll=!1,this._oIScroll.bounce=!1,this._oIScroll.refresh())}},Protected:{}})}),define("sap.sbo.layout.pad.MetadataRaw",["sap.ui.Control","sap.sbo.layout.BaseMetadataList","css!sap.sbo.layout.pad.MetadataRaw"],function(){var e=this.getNS(),t=e.sap;return t.ui.Control.declare({Name:this.getModuleInfo().moduleName,ControlBase:t.sbo.layout.BaseMetadataList,DomClass:"sbo-metadata-raw-pad",Options:{},Public:{init:function(){t.sbo.layout.BaseMetadataList.prototype.init.apply(this,arguments),this.declareMember({})},destroy:function(){},update:function(){return t.sbo.layout.BaseMetadataList.prototype.update.apply(this,arguments)},setContentSize:function(){}},Protected:{}})}),define("sap.sbo.layout.phone.AdvancedLayoutMenuButtonUtil",["sap.sbo.localization.Helper","sap.core.klass","sap.core.EventProvider","sap.sbo.layout.BaseLayoutMenuButtonUtil"],function(){"use strict";
var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.layout.BaseLayoutMenuButtonUtil,Public:{init:function(e){t.sbo.layout.BaseLayoutMenuButtonUtil.prototype.init.call(this),t.core.klass.declareMember(this,{__onActionBtnClickProxy:$.proxy(this.__onActionBtnClick,this),_bMetadata:e,___phoneLayoutButtons:null,___phoneLayoutButtonsKey:null}),window.SboShell.attachEvent("actionButtonClick",this.__onActionBtnClickProxy),this._LayoutEditModeExit()},destroy:function(){window.SboShell.detachEvent("actionButtonClick",this.__onActionBtnClickProxy),this.__phoneLayoutButtonsKey&&window.SboShell.removeActionButtons(this.__phoneLayoutButtonsKey)},addButtons:function(){this.__phoneLayoutButtons=[{text:t.sbo.localization.Helper.get("layout/PUBLISH"),key:"publish_layout_K"},{text:t.sbo.localization.Helper.get("layout/SAVE"),key:"save_layout_N"},{text:t.sbo.localization.Helper.get("layout/CANCEL"),key:"cancel_layout_K_N"},{key:"personalize_layout__phone",text:t.sbo.localization.Helper.get("layout/PERSONALIZE")},{key:"customize_layout__phone",text:t.sbo.localization.Helper.get("layout/CUSTOMIZE")},{key:"restore_layout__phone",text:t.sbo.localization.Helper.get("layout/RESTORE")}],this.__phoneLayoutButtonsKey=["publish_layout_K","cancel_layout_K_N","save_layout_N","personalize_layout__phone","customize_layout__phone","restore_layout__phone"],window.SboShell.addActionButtons(this.__phoneLayoutButtons)},_LayoutEditModeExit:function(){window.SboShell.hideActionButtons(this.__phoneLayoutButtonsKey),this._isKeyUser?window.SboShell.showActionButtons(["personalize_layout__phone","customize_layout__phone"]):(window.SboShell.hideActionButtons(["publish_layout_K"]),window.SboShell.showActionButtons(["personalize_layout"]))}},Protected:{__onActionBtnClick:function(e){if("personalize_layout__phone"==e)window.SboShell.hideActionButtons(this.__phoneLayoutButtonsKey),window.SboShell.showActionButtons(["cancel_layout_K_N","save_layout_N","restore_layout__phone"]),this.fireEvent("personalization__phone");else if("customize_layout__phone"==e)window.SboShell.hideActionButtons(this.__phoneLayoutButtonsKey),window.SboShell.showActionButtons(["publish_layout_K","cancel_layout_K_N"]),window.SboShell.raiseMessage(t.sbo.localization.Helper.get("layout/CHANGING_GDL"),"success"),this.fireEvent("customization__phone");else if("restore_layout__phone"==e){var o=this,a=t.sbo.localization.Helper.get("layout/CONFIRM_RESTORE");$.when(window.SboShell.raiseMessage(a,"question",[{key:"Y",text:t.sbo.localization.Helper.get("common/YES")},{key:"N",text:t.sbo.localization.Helper.get("common/NO")}])).done(function(e){"Y"==e&&(o.fireEvent("restore__phone"),o._LayoutEditModeExit())})}}}})}),define("sap.sbo.layout.phone.AdvancedTilesLayout",["sap.core.klass","sap.ui.Control","sap.log","sap.ui.behavior.vdraggable","sap.util","sap.sbo.layout.BaseTilesLayout","sap.sbo.layout.TileView","sap.sbo.localization.Helper","sap.sbo.layout.phone.AdvancedLayoutMenuButtonUtil","css!sap.sbo.layout.phone.AdvancedTilesLayout"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Control.declare({Name:this.getModuleInfo().moduleName,ControlBase:t.sbo.layout.BaseTilesLayout,DomClass:"sbo-advtiles-layout-phone",Events:["tileClicked"],PublicMethods:[],Options:{ratio:{type:"real",defaultValue:3,immutable:!0},column:{type:"integer",defaultValue:2,immutable:!0},padding:{type:"integer",defaultValue:7,immutable:!0},maxColumn:{type:"integer",defaultValue:2,immutable:!0},tileHeight:{type:"integer",defaultValue:150,immutable:!0},tileWidth:{type:"integer",defaultValue:0,immutable:!1}},Public:{init:function(){t.sbo.layout.BaseTilesLayout.prototype.init.apply(this,arguments),this.declareMember({_bInLayoutMode:!1,_oIScroll:null,__phoneLayoutUtil:this.autoDestroy(new t.sbo.layout.phone.AdvancedLayoutMenuButtonUtil(!1))}),this.__phoneLayoutUtil.attachEvent("publish",this.onPublish.bind(this)),this.__phoneLayoutUtil.attachEvent("cancel",this.onCancel.bind(this)),this.__phoneLayoutUtil.attachEvent("save",this.onSave.bind(this)),this.__phoneLayoutUtil.attachEvent("personalization__phone",this.onPersonalization.bind(this)),this.__phoneLayoutUtil.attachEvent("customization__phone",this.onCustomization.bind(this)),this.__phoneLayoutUtil.attachEvent("restore__phone",this.onRestore.bind(this));var e=this.getOption("padding"),o=SboShell.__deviceWidth,a=(o-3*e)/2;this.setOption("tileWidth",a);var i=this;this.$().on("vclick","[uuid]",function(){i.fireEvent("tileClicked",$(this).attr("uuid"))})},destroy:function(){this._oIScroll&&(this._oIScroll.destroy(),this._oIScroll=null)},update:function(){t.sbo.layout.BaseTilesLayout.prototype.update.apply(this,arguments)},getModes:function(){return this._mModes},calcPosition:function(e){return this._calcPosition(e)},setContentSize:function(e,t){for(var o=0,a=0;t.length>a;a++)t[a].y+t[a].height>o&&(o=t[a].y+t[a].height);e.height(o)},enableScroll:function(){this._oIScroll?this._oIScroll.enable():this._oIScroll=new iScroll(this.$().attr("id"),{hScroll:!1,bounce:!1,hideScrollbar:!0,fadeScrollbar:!0})},disableScroll:function(){this._oIScroll&&this._oIScroll.disable()},refreshScroll:function(){this._oIScroll&&this._oIScroll.refresh()},getCoordinate:function(e){var o=e.attr("uuid"),a=e.attr("coordinate");return a||t.log.error("Template "+o+" must have a 'coordinate' attribute."),a},getMode:function(e){var o=e.attr("uuid"),a=e.attr("mode");return a||(t.log.error("Template "+o+" must have a 'mode' attribute. Using 1x1 temporarily."),a="1x1"),this._ensureValidMode(a)},findCoordinateByPosition:function(e,t){return this._findCoordinateByPosition(e,t)},doMovement:function(e,t,o){return this._doMovement(e,t,o)},doChangeMode:function(e,t,o){return this._doChangeMode(e,t,o)},getDevice:function(){return"phone"},temp_CalculateLayout:function(e){return this._temp_CalculateLayout(e)}},Protected:{_mModes:{"1x1":{size:{x:1,y:1},text:"1X",findTarget:function(e,t,o,a){o.x=a.x=t.x,o.y=a.y=t.y}},"2x1":{size:{x:2,y:1},text:"2X",findTarget:function(e,t,o,a){e.getOption("maxColumn"),o.y=a.y=t.y,o.x=0>t.x-1?0:t.x-1,a.x=o.x+1}}},_temp_CanPlaced:function(e,t,o,a){for(var i=this.getOption("maxColumn"),s=t;t+a.size.x>s;s++)for(var n=o;o+a.size.y>n;n++){if(s>=i)return!1;if(void 0!==e[s]&&void 0!=e[s][n])return!1}return!0},_temp_Place:function(e,t,o,a,i){for(var s={x:o,y:a},n={x:o+i.size.x-1,y:a+i.size.y-1},r=o;o+i.size.x>r;r++)for(var l=a;a+i.size.y>l;l++)void 0===t[r]&&(t[r]=[]),t[r][l]=e,t[r][l].start=s,t[r][l].end=n},_temp_CalculateLayout:function(e){for(var t=[],o=0,a=0,i=this.getOption("maxColumn"),s=0;e.length>s;s++){for(var n=this.getModes()[e[s].mode];!this._temp_CanPlaced(t,o,a,n);)o+1>=i?(o=0,a++):o++;this._temp_Place(e[s],t,o,a,n)}return t},_ensureValidMode:function(e){var o=this.getModes()[e];return o?e:(t.log.error("mode "+e+" is not a valid. Using 2x1 temporarily"),"2x1")},_checkCanResizeWithOutMove:function(e,o,a,i){for(var s=this.getOption("maxColumn"),n=this.getOption("maxRow"),r=o.x;o.x+a.size.x>r;r++)for(var l=o.y;o.y+a.size.y>l;l++){if(this._bIsTouch){if(l>=n)return t.log.info(r+" exceeds max row "+n),!1}else if(r>=s)return t.log.info(r+" exceeds max column "+s),!1;if(void 0!==e[r]&&void 0!=e[r][l]&&void 0!=e[r][l]&&e[r][l].uuid!=i)return t.log.info("can not place on "+r+", "+l),!1}return!0},_resizeTile:function(e,t,o,a){for(var i=this.getModes()[a.mode],s=this.getModes()[t],n=i.size.x>s.size.x?i.size.x:s.size.x,r=i.size.y>s.size.y?i.size.y:s.size.y,l=o,d={x:l.x+s.size.x-1,y:l.y+s.size.y-1},p=o.x;o.x+n>p;p++)for(var c=o.y;o.y+r>c;c++)d.x>=p&&d.y>=c?(void 0===e[p]&&(e[p]=[]),e[p][c]={},e[p][c].start=l,e[p][c].end=d,e[p][c].mode=t,e[p][c].uuid=a.uuid):e[p][c]=void 0},_doChangeMode:function(e,t,o){var a=this.getOption("maxColumn"),i=this.getOption("maxRow"),s=e[t.x][t.y],n=s.uuid,r=this.getModes()[s.mode],l=this.getModes()[o];if(r===l)return!1;if(!this._checkCanResizeWithOutMove(e,t,l,n)){var d=t.x,p=t.y,c=d+l.size.x-1,u=p+l.size.y-1;if(this._bIsTouch){if(u>i-1){var h=u-(i-1);p-=h,u-=h,t.y-=h}}else if(c>a-1){var h=c-(a-1);d-=h,c-=h,t.x-=h}if(!this._checkCanResizeWithOutMove(e,{x:d,y:p},l,n))if(this._bIsTouch){var b=this._getMoveRightParams(e,d,p,c,l.size,n);this._moveRightAndFindNearbyMovePoint(e,b.moveRightPoints,b.maxMoveRightCount,b.moveRows,[-1,1])}else{var b=this._getMoveDownParams(e,d,p,u,l.size,n);this._moveDownAndFindNearbyMovePoint(e,b.moveDownPoints,b.maxMoveDownCount,b.moveColumns,[-1,1])}}return this._resizeTile(e,o,t,s),this._compactEmptyRowOrColumn(e),!0},_checkCanPlaceByStart:function(e,o,a,i){for(var s=this.getOption("maxColumn"),n=this.getOption("maxRow"),r=o.x;a.x>=r;r++)for(var l=o.y;a.y>=l;l++){if(0>r)return t.log.info("can not place on "+r+","+l),!1;if(0>l)return t.log.info("can not place on "+r+","+l),!1;if(this._bIsTouch){if(l>=n)return t.log.info("can not place on "+r+","+l),!1}else if(r>=s)return t.log.info("can not place on "+r+","+l),!1;if(void 0!==e[r]&&void 0!==e[r][l]&&e[r][l].uuid!==i)return t.log.info("need move place on "+r+","+l),!1}return!0},_checkCanPlaceWithOutMove:function(e,o,a,i,s,n){return a.findTarget(this,o,s,n),this._checkCanPlaceByStart(e,s,n,i)?(t.log.info("without move place on!"),!0):!1},_findUpperMoveDownPoint:function(e,t,o){var a={x:t.x,y:t.y},i=!1;if(e[t.x][t.y]){var s=e[t.x][t.y].uuid;if(s===o)for(var n=t.y+1;e[t.x].length>n;n++)if(e[t.x][n]){if(e[t.x][n]&&e[t.x][n].uuid!==o){a.y=n,i=!0;break}}else a.y=n;else{for(var n=t.y-1;n>=0&&e[t.x][n]&&e[t.x][n].uuid===s;n--)a.y=n;i=!0}}else for(var n=t.y+1;e[t.x].length>n;n++)if(e[t.x][n]){a.y=n,i=!0;break}return i?a:null},_findLefterMoveRightPoint:function(e,t,o){var a={x:t.x,y:t.y};if(e[t.x][t.y]){var i=e[t.x][t.y].uuid;if(i===o)for(var s=t.x+1;e.length>=s;s++){if(void 0===e[s]){a.x=s;break}if(e[s][t.y]&&e[s][t.y].uuid!==o){a.x=s;break}}else for(var s=t.x-1;s>=0&&e[s][t.y]&&e[s][t.y].uuid===i;s--)a.x=s}else for(var s=t.x+1;e.length>s;s++)if(e[s][t.y]){a.x=s;break}return a},_isInColumnRange:function(e,t,o){return o>=e&&e+t>o?!0:!1},_moveDownAndFindNearbyMovePoint:function(e,o,a,i,s){for(var n=this.getOption("maxColumn"),r=0,l=0;!o[l];l++)r++,i--;for(var d=o[r].x,p={},l=d;d+i-1>=l;l++){var c=o[l-d+r];if(c)for(var u=e[l].length-1;u>=c.y;u--){var h=e[l][u];if(e[l][u+a]=h,h){var b={x:h.start.x,y:h.start.y+a},g={x:h.end.x,y:h.end.y+a};e[l][u]=void 0,e[l][u+a].start=b,e[l][u+a].end=g;for(var m=0;s.length>m;m++){var f=s[m];if(l+f>=0&&n>l+f&&!this._isInColumnRange(d,i,l+f)){var v=e[l+f][u];v&&v.uuid===h.uuid&&(t.log.info("found a new move down point "+(l+f)+","+u),p[f]={x:l+f,y:u})}}}}}for(var m=0;s.length>m;m++){var f=s[m];p[f]&&this._moveDownAndFindNearbyMovePoint(e,[p[f]],a,1,[f])}},_isInRowRange:function(e,t,o){return o>=e&&e+t>o?!0:!1},_moveRightAndFindNearbyMovePoint:function(e,o,a,i,s){for(var n=this.getOption("maxRow"),r=o[0].y,l={},d=r;r+i-1>=d;d++)for(var p=o[d-r],c=e.length-1;c>=p.x;c--)if(e[c]){var u=e[c][d];if(void 0===e[c+a]&&(e[c+a]=[]),e[c+a][d]=u,u){var h={x:u.start.x+a,y:u.start.y},b={x:u.end.x+a,y:u.end.y};e[c][d]=void 0,e[c+a][d].start=h,e[c+a][d].end=b;for(var g=0;s.length>g;g++){var m=s[g];if(d+m>=0&&n>d+m&&!this._isInRowRange(r,i,d+m)){var f=e[c][d+m];f&&f.uuid===u.uuid&&(t.log.info("found a new move down point "+c+","+(d+m)),l[m]={x:c,y:d+m})}}}}for(var g=0;s.length>g;g++){var m=s[g];l[m]&&this._moveRightAndFindNearbyMovePoint(e,[l[m]],a,1,[m])}},_removeSource:function(e,t,o){for(var a=t.x;t.x+o.x>a;a++)for(var i=t.y;t.y+o.y>i;i++)e[a][i]=void 0},_getMoveDownParams:function(e,t,o,a,i,s){for(var n=[],r=0,l=0,d=0;i.x>d;d++){var p={x:t+d,y:o},c=this._findUpperMoveDownPoint(e,p,s);if(c){var u=a-c.y+1;r=u>r?u:r}n.push(c),l++}return{moveDownPoints:n,maxMoveDownCount:r,moveColumns:l}},_getMoveRightParams:function(e,t,o,a,i,s){for(var n=[],r=0,l=0;i.y>l;l++){var d={x:t,y:o+l},p=this._findLefterMoveRightPoint(e,d,s),c=a-p.x+1;r=c>r?c:r,n.push(p)}var u=i.y;return{moveRightPoints:n,maxMoveRightCount:r,moveRows:u}},_doMovement:function(e,t,o){var a=e[t.x][t.y].mode,i=this.getModes()[a],s=i.size,n=e[t.x][t.y],r=n.uuid,l={},d={};i.findTarget(this,t,l,d);var p={},c={};if(this._checkCanPlaceWithOutMove(e,o,i,r,p,c))this._removeSource(e,l,s);else{var u={},h={};i.findTarget(this,o,u,h);var b=this._checkCanPlaceByStart(e,u,h,r);if(this._removeSource(e,l,s),b)p=u,c=h;else{if(this._bIsTouch){var g=this._getMoveRightParams(e,u.x,u.y,h.x,s,r);this._moveRightAndFindNearbyMovePoint(e,g.moveRightPoints,g.maxMoveRightCount,g.moveRows,[-1,1])}else{var g=this._getMoveDownParams(e,u.x,u.y,h.y,s,r);this._moveDownAndFindNearbyMovePoint(e,g.moveDownPoints,g.maxMoveDownCount,g.moveColumns,[-1,1])}p=u,c=h}}for(var m=p,f=c,v=m.x;f.x>=v;v++)for(var y=m.y;f.y>=y;y++)void 0===e[v]&&(e[v]=[]),e[v][y]=n,e[v][y].start=m,e[v][y].end=f;return this._compactEmptyRowOrColumn(e),!0},_validateCoordinate:function(e){if(e&&(0>e.y||0>e.x))return null;if(this._bIsTouch){var t=this.getOption("maxRow");return e&&e.y>t-1?null:e}var o=this.getOption("maxColumn");return e&&e.x>o-1?null:e},_moveUpRows:function(e,o,a){for(var i=this.getOption("maxColumn"),s=a[0],n=s,r=s+1;o>r;r++)if(!(a.indexOf(r)>0)){for(var l=r-n,d=0;i>d;d++)e[d]||(e[d]=[]),e[d][n]=e[d][r],e[d][n]&&(e[d][n].start.y-=l,e[d][n].end.y-=l),e[d][r]=void 0;n++}t.log.info("moveIndex="+n+", maxLength="+o);for(var p=o-n,d=0;i>d;d++)e[d].splice(n,p)},_moveLeftColumns:function(e,o,a){for(var i=this.getOption("maxRow"),s=a[0],n=s,r=s+1;o>r;r++)if(!(a.indexOf(r)>0)){for(var l=r-n,d=0;i>d;d++)e[d]||(e[d]=[]),e[n][d]=e[r][d],e[n][d]&&(e[n][d].start.x-=l,e[n][d].end.x-=l),e[r][d]=void 0;n++}t.log.info("moveIndex="+n+", maxLength="+o);var p=o-n;e.splice(n,p)},_compactEmptyRowOrColumn:function(e){var o=this.getOption("maxColumn"),a=this.getOption("maxRow");if(this._bIsTouch){for(var i=[],s=e.length,n=0;s>n;n++){for(var r=!0,l=0;a>l;l++)if(e[n]&&e[n][l]){r=!1;break}r&&i.push(n)}if(i.length>0){t.log.info("found empty columns : ");for(var n=0;i.length>n;n++)t.log.info(i[n]);this._moveLeftColumns(e,s,i)}}else{for(var s=0,n=0;o>n;n++)e[n]&&(s=e[n].length>s?e[n].length:s);for(var d=[],l=0;s>l;l++){for(var p=!0,n=0;o>n;n++)if(e[n]&&e[n][l]){p=!1;break}p&&d.push(l)}if(d.length>0){t.log.info("found empty rows : ");for(var n=0;d.length>n;n++)t.log.info(d[n]);this._moveUpRows(e,s,d)}}},_findCoordinateByPosition:function(e,t){var o,a,i=this.getOption("padding");this._bIsTouch?(o=this.getOption("tileWidthPad"),a=this.getOption("tileHeightPad")):(o=this.getOption("tileWidth"),a=this.getOption("tileHeight"));var s=t.x/(o+i),n=Math.floor(s),r=t.x%(o+i),l=t.y/(a+i),d=Math.floor(l),p=t.y%(a+i),c=null;r>o?c=void 0==e[n]?null:void 0==e[n][d]?null:void 0==e[n+1]?null:void 0==e[n+1][d]?null:e[n][d].uuid===e[n+1][d].uuid?{x:n,y:d}:null:o>=r&&(p>a?(d++,c={x:n,y:d}):c={x:n,y:d});var u=this._validateCoordinate(c);return u},_calcPosition:function(e){for(var t=this.getOption("padding"),o=this.getOption("tileWidth"),a=this.getOption("tileHeight"),i=[],s={},n=0;e.length>n;n++)for(var r=e[n],l=0;r.length>l;l++)if(r[l]){var d=r[l].uuid;if(void 0===s[d]){s[d]=d;var p,c=this._convertTileModeToSize(r[l].mode,o,a,t),u=this.getModes()[r[l].mode];u&&(p=2==u.size.x?2*o+t:o),i.push({uuid:r[l].uuid,x:n*t+n*o,y:l*t+l*a,width:p,height:c.height,mode:r[l].mode})}}return i}}})}),define("sap.sbo.layout.phone.CarouselLayout",["sap.ui.Control","sap.log","sap.util","sap.core.JsonModel","sap.core.GuardedTimer","css!sap.sbo.layout.phone.CarouselLayout"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Control.declare({Name:this.getModuleInfo().moduleName,DomClass:"sbo-carousel-layout",Events:[],PublicMethods:[],Options:{},Public:{init:function(){var e=this;t.ui.Control.prototype.init.apply(this,arguments),t.ui.Control.declareMember(this,{__oTimer:this.autoDestroy(new t.core.GuardedTimer),__$container:this.$(this.__subClassSelector("container")).first(),__iItemCount:0,__iParentWidth:0,__iCurrentIndex:1,__iStartingLeft:0,__sNewSizeHash:""}),this.__prepareHtmlTemplate(),this.__oTimer.setInterval(function(){e.__onSizeChanged()},1e3)},destroy:function(){this.__$container=null},update:function(){},renderItems:function(){this.__renderItems()}},Protected:{__onSizeChanged:function(){this.__iParentWidth=this.$().width();var e="w:"+this.__iParentWidth;if(e!==this.__sNewSizeHash){this.__sNewSizeHash=e,this.$(this.__subClassSelector("item")).outerWidth(this.__iParentWidth);var t=this.$().innerWidth();this.__$container.outerWidth(t*this.__iItemCount+2);var o=(1-this.__iCurrentIndex)*this.__iParentWidth;this.__setContainerTransform((1-this.__iCurrentIndex)*this.__iParentWidth),this.__iStartingLeft=o}},__subscribeEvents:function(){this.__iParentWidth=this.$().width();var e={},t=this,o=1;this.__$container.on("touchstart",function(e){e.preventDefault()}),this.__$container.on("vdragstart",function(o){t.__iItemCount>1?(t.__$container.removeClass(t.__subClass("after-dragging")),e={x:o.vdata.pageX-t.__$container.offset().left}):o.preventDefault()}),this.__$container.on("vdragging",function(o){t.__iItemCount>1?t.__setContainerTransform(o.vdata.pageX-e.x):o.preventDefault()}),this.__$container.on("vdragend",function(e){if(t.__iItemCount>1){t.__iCurrentIndex=1;var a=t.__$container.position().left;if(a>0)t.__setContainerTransform(0);else{var i=Math.floor(a/t.__iParentWidth);a>t.__iStartingLeft?i++:0>=i+t.__iItemCount&&(i=1-t.__iItemCount),t.__iCurrentIndex=1-i,t.__setContainerTransform(i*t.__iParentWidth)}t.__$container.addClass(t.__subClass("after-dragging")),this.__iCurrentIndex!==o&&(t.$(t.__subClassSelector("indicator")+":nth-child("+o+")").removeClass(t.__subClass("indicator-highlighted")),t.$(t.__subClassSelector("indicator")+":nth-child("+t.__iCurrentIndex+")").addClass(t.__subClass("indicator-highlighted")),o=t.__iCurrentIndex),t.__iStartingLeft=t.__$container.position().left}else e.preventDefault()})},__setContainerTransform:function(e){this.__$container.css({transform:"translate("+e+"px, 0px)","-webkit-transform":"translate("+e+"px, 0px)","-moz-transform":"translate("+e+"px, 0px)","-ms-transform":"translate("+e+"px, 0px)"})},__prepareHtmlTemplate:function(){this.__renderItems(),this.__subscribeEvents()},__renderItems:function(){this.__iParentWidth=this.$().width(),this.__sNewSizeHash="w:"+this.__iParentWidth;var e=this.$(this.__subClassSelector("item")),t=this.$().innerWidth(),o=$("<div>").addClass(this.__subClass("indicator-container"));this.__iItemCount=e.length;var a=t*this.__iItemCount+2;e.outerWidth(this.__iParentWidth),this.__$container.outerWidth(a);for(var i=0;this.__iItemCount>i;i++){var s=$("<div>").addClass(this.__subClass("indicator"));0===i&&s.addClass(this.__subClass("indicator-highlighted")),o.append(s)}this.$().append(o)}},Static:{}})}),define("sap.sbo.layout.phone.ListLayout",["sap.sbo.layout.BaseListLayout","sap.ui.Control","sap.sbo.localization.Helper","css!sap.sbo.layout.phone.ListLayout"],function(){"use strict";var e=this.getNS(),t=e.sap,o=t.ui.Control.declare({Name:this.getModuleInfo().moduleName,ControlBase:t.sbo.layout.BaseListLayout,DomClass:"sbo-list-layout-phone",Events:[],PublicMethods:[],Options:{itemHeight:{type:"integer",defaultValue:142,immutable:!0},itemSpacing:{type:"integer",defaultValue:5,immutable:!0},textForPullingDown:{type:"string",defaultValue:t.sbo.localization.Helper.get("layout/PULL_DOWN"),immutable:!0},textForReleasingForRefresh:{type:"string",defaultValue:t.sbo.localization.Helper.get("layout/RELEASE_TO_LOAD"),immutable:!0},textForPullingUp:{type:"string",defaultValue:t.sbo.localization.Helper.get("layout/PULL_UP"),immutable:!0},textForReleasingForMore:{type:"string",defaultValue:t.sbo.localization.Helper.get("layout/RELEASE_TO_LOAD"),immutable:!0},textForLoading:{type:"string",defaultValue:t.sbo.localization.Helper.get("layout/LOADING"),immutable:!0},iDragUpdateThreshold:{type:"integer",defaultValue:50}},Public:{init:function(){t.sbo.layout.BaseListLayout.prototype.init.apply(this,arguments),t.ui.Control.declareMember(this,{__$pullUpInfo:null,__$pullUpText:null,__$pullDownInfo:null,__$pullDownText:null,__oDelay:null,__iDraggingBar:60}),this.__createDom_phone();var e=this;$.extend(this.__oIScroll.options,{hScroll:!1,hideScrollbar:!0,fadeScrollbar:!1,onScrollMove:function(){e.__iTotalRecords!==e.__iCurRecIndex&&"loading"!==e.__sRequestStatus&&(e.__updatePullUpText(),e.__$pullDownText.html(this.y>e.getOption("iDragUpdateThreshold")?e.getOption("textForReleasingForRefresh"):e.getOption("textForPullingDown"))),e.__bScrolling=!0},onBeforeScrollEnd:function(){this.y-this.maxScrollY<-e.getOption("iDragUpdateThreshold")&&e.__requestMoreContent(),this.y>e.getOption("iDragUpdateThreshold")&&(e.__$pullDownText.html(""),e.refresh())}}),this.__oIScroll.refresh()},destroy:function(){},update:function(){t.sbo.layout.BaseListLayout.prototype.update.apply(this,arguments)},__resizeLayout:function(){for(var e=this.getOption("itemSpacing"),t=this.getOption("itemHeight"),o=0;this.__aItems.length>o;o++){var a=o*(t+e);this.__aItems[o].dom.css({top:a,height:t})}var i=Math.ceil(this.__aItems.length*(t+e));0===this.__iTotalRecords?this.__$content.css("height","100%"):(this.__$content.css("height",i),this.__$container.css("height",i)),this.__$pullUpInfo.css("top",i),this.__oIScroll.refresh()}},Protected:{__createDom_phone:function(){this.__$pullUpText=$("<div>"),this.__$pullDownText=$("<div>"),this.__$pullUpInfo=$("<div>").addClass(o.__subClass("loading")).append(this.__$pullUpText),this.__$pullDownInfo=$("<div>").addClass(o.__subClass("refresh")).append(this.__$pullDownText),this.__$container.append(this.__$pullUpInfo).append(this.__$pullDownInfo)},__onStatusChange:function(e){if("noMoreData"===e)this.__$pullUpText.html("");else if("ready"===e)this.__updatePullUpText();else if("loading"===e){this.__$pullUpText.html(this.getOption("textForLoading"));var t=this.getOption("itemHeight"),o=this.getOption("itemSpacing"),a=Math.ceil(this.__aItems.length*(t+o));this.__$container.css("height",a+50),this.__oIScroll.refresh()}},__updatePullUpText:function(){this.__$pullUpText.html(this.__oIScroll.y-this.__oIScroll.maxScrollY<-this.getOption("iDragUpdateThreshold")?this.getOption("textForReleasingForMore"):this.getOption("textForPullingUp"))}}});return o}),define("sap.sbo.layout.phone.MetadataLayout",["sap.core.klass","sap.ui.Control","sap.log","sap.ui.behavior.vdraggable","sap.util","sap.core.IProcessable","sap.sbo.layout.BaseMetadataLayout","css!sap.sbo.layout.phone.MetadataLayout"],function(){var e=this.getNS(),t=e.sap;return t.ui.Control.declare({Name:this.getModuleInfo().moduleName,ControlBase:t.sbo.layout.BaseMetadataLayout,DomClass:"sbo-metadata-layout-phone",Options:{},Public:{init:function(){t.sbo.layout.BaseMetadataLayout.prototype.init.apply(this,arguments),t.ui.Control.declareMember(this,{})},destroy:function(){},update:function(){return t.sbo.layout.BaseMetadataLayout.prototype.update.apply(this,arguments)},calcPosition:function(){var e=$(this._$content).width(),t=this.getOption("verticalPadding"),o=10,a=0,i=[];this.__aPosDict=[];for(var s=0;this.__$properties.length>s;s++)if("none"!==this.__$properties[s].css("display")){var n=this.__$properties[s].children(".sbo-metadata-list-property-view");n.css("height","");var r=n.outerHeight();i.push({x:o,y:a,height:r,width:e-o,$:this.__$properties[s]}),this.__aPosDict.push({x:0,y:a-t,width:e,height:t+r/2,index:s,direction:-1},{x:0,y:a+r/2,width:e,height:t+r/2,index:s,direction:1}),a+=t+r}else i.push({x:0,y:0,height:0,width:0,$:this.__$properties[s]});return i},setContentSize:function(e,t){for(var o=-1,a=0;t.length>a;a++)t[a].height+t[a].y>o&&(o=t[a].height+t[a].y);e.height(o)},enableScroll:function(){t.sbo.layout.BaseMetadataLayout.prototype.enableScroll.apply(this,arguments),this._oIScroll.hScroll=!1,this._oIScroll.bounce=!1,this._oIScroll.hideScrollbar=!0,this._oIScroll.fadeScrollbar=!0,this._oIScroll.refresh()}},Protected:{}})}),define("sap.sbo.layout.phone.MetadataList",["sap.ui.Control","sap.sbo.layout.BaseMetadataScroll","css!sap.sbo.layout.phone.MetadataList"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Control.declare({Name:this.getModuleInfo().moduleName,ControlBase:t.sbo.layout.BaseMetadataScroll,DomClass:"sbo-metadata-list-phone",Options:{},Public:{init:function(){t.sbo.layout.BaseMetadataScroll.prototype.init.apply(this,arguments),this.declareMember({})},destroy:function(){},update:function(){return t.sbo.layout.BaseMetadataScroll.prototype.update.apply(this,arguments)},enableScroll:function(){t.sbo.layout.BaseMetadataScroll.prototype.enableScroll.apply(this,arguments),this._oIScroll.hScroll=!1,this._oIScroll.bounce=!1,this._oIScroll.refresh()}},Protected:{}})}),define("sap.sbo.layout.phone.TimeLineLayout",["sap.ui.Control","sap.core.klass","sap.core.JsonModel","sap.core.IProcessable","sap.log","sap.util","sap.ui.common","sap.core.ArrayListSource","sap.core.GuardedTimer","sap.core.IListSource","sap.sbo.services.FeedService","sap.sbo.localization.Helper","css!sap.sbo.layout.phone.TimeLineLayout"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Control.declare({Name:this.getModuleInfo().moduleName,DomClass:"sap-sbo-time-line-layout",Events:["requestFailed"],Interfaces:[t.core.IProcessable],PublicMethods:[],Options:{source:{type:t.core.IListSource,defaultValue:new t.core.ArrayListSource([])},thingID:{type:"any"},title:{type:"string",defaultValue:"List"},itemWidth:{type:"integer",defaultValue:200},itemHeight:{type:"integer",defaultValue:200}},Public:{init:function(){t.ui.Control.prototype.init.apply(this,arguments),this.declareMember({__$contentTemplate:null,__aItemBlock:[],__startTime:null,__endTime:null,__iTotalRecords:0,__iRequestStatus:-1,__iPageSize:12,__oIScroll:null,__iBeginIndex:0,__oTimer:this.autoDestroy(new t.core.GuardedTimer),__oService:this.autoDestroy(new t.sbo.services.FeedService),__fActionButtonClickedProxy:$.proxy(this.__actionBtnClick,this),__windowClickProxy:$.proxy(this.__windowClick,this),__adaptProxy:$.proxy(this.__attachFilter,this),__space:18,__hotStartTime:0,__hotFeedCount:0,__filterObj:null,__thingID:null});var e=this.$().children("[data-sap-template='Content']"),o=this;0===e.length&&t.log.error("sap.sbo.layout.phone.ListLayout must have a template named 'Content'"),this.__$contentTemplate=e.clone(),e.remove(),this.$().append($("<div>").addClass(this.__subClass("list"))),window.SboShell.setOption({title:t.sbo.localization.Helper.get("app/feed/tile/title")}),window.SboShell.adaptTitleForListView(this.__adaptProxy),this.$(".sap-sbo-time-line-layout-list").scroll(function(e){10>e.currentTarget.scrollHeight-e.currentTarget.scrollTop-e.currentTarget.clientHeight&&o.__requestMoreContent()}),window.SboShell.addActionButtons([{key:"add",text:t.sbo.localization.Helper.get("post/feed/create")}],o),window.SboShell.attachEvent("actionButtonClick",o.__fActionButtonClickedProxy),$(window).on("vclick",this.__windowClickProxy);var a=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo");this.__thingID=a.storeParam.thingID},setProcessContext:function(t){$.extend(e,t)},destroy:function(){window.SboShell.removeActionButtons(["add"]);for(var e=0;this.__aItemBlock.length>e;e++)this.__aItemBlock[e].dom.unprocess(),this.__aItemBlock[e].model.destroy();$("body").find(".floatHotFeedShortcut").remove(),window.SboShell.detachEvent("actionButtonClick",this.__fActionButtonClickedProxy),$(window).off("vclick",this.__windowClickProxy),this.__clearFilter(),window.SboShell.resetTitle()},update:function(e){return e.itemWidth?this.__requestMoreContent():void 0}},Protected:{__attachFilter:function(e){var o=this,a=t.ui.common.getStaticContainer();this.__clearFilter();var i=$("<div>").attr("class","filterPanel"),s=$("<ul>").append($("<li>").text(t.sbo.localization.Helper.get("feed/filter/all")).attr("class","all"));s.append($("<li>").text(t.sbo.localization.Helper.get("feed/filter/atMe")).attr("class","atMe")),s.append($("<li>").text(t.sbo.localization.Helper.get("feed/filter/myPost")).attr("class","myPost")),s.append($("<li>").text(t.sbo.localization.Helper.get("feed/filter/sysUpdate")).attr("class","sysUpdate")),s.append($("<li>").text(t.sbo.localization.Helper.get("feed/filter/userUpdate")).attr("class","userUpdate")),s.append($("<li>").text(t.sbo.localization.Helper.get("app/task/TASK")).attr("class","task")),s.append($("<li>").text(t.sbo.localization.Helper.get("app/memo/MEMO")).attr("class","memo")),s.append($("<li>").text(t.sbo.localization.Helper.get("feed/filter/hot")).attr("class","hot")),$(s).find("li").on("vclick",function(e){var t=$(this).attr("class");o.__actionBtnClick(t),o.__clearFilter(),e.stopPropagation()}),i.append(s),$("body").find(".sap-sbo-phone-native-shell-content").addClass("blur");var n=$(".sap-sbo-phone-native-shell-head");i.css("top",n.offset().top+n.height()+5),i.css("left",$(e.currentTarget).offset().left),i.appendTo(a)},__clearFilter:function(){$("body").find(".filterPanel>ul>li").off("vclick"),$("body").find(".filterPanel").remove(),$("body").find(".sap-sbo-phone-native-shell-content").removeClass("blur")},__windowClick:function(e){"sap-sbo-phone-native-shell-main-title list-view"!=$(e.target).attr("class")&&"sap-sbo-phone-native-shell-title-wrapper list-view .sap-sbo-phone-native-shell-company-title-withouticon"!=$(e.target).attr("class")&&"filterPanel"!=$(e.target).attr("class")&&this.__clearFilter()},__changeTitle:function(){this.$("."+this.__subClass("header")).text(this.getOption("title")+" ("+this.__iTotalRecords+")")},__requestMoreContent:function(){var e=this,o=this.__filterObj,a=$.Deferred();if(-1===e.__iRequestStatus){e.__iRequestStatus=1;var i=this.getOption("source");t.util.showLoading(),$.when(i.read({startTime:this.__startTime,size:e.__iPageSize,endTime:this.__endTime},null,o)).done(function(t){if(null==t.data||0!=t.data.length){for(var o=0;t.data.length>o;o++)t.data[o].oddeven+=t.data.length;e.__iTotalRecords+=t.count,e.__appendItems(t.data),e.__startTime=new Date(t.start).getTime()-1,a.resolve()}}).fail(function(t){e.fireEvent("requestFailed",t)}).always(function(){t.util.hideLoading(),e.__iRequestStatus=-1})}return a.promise()},__appendItems:function(o){var a=this.$("."+this.__subClass("list"));this.getOption("itemWidth"),this.__iBeginIndex=this.__aItemBlock.length;for(var i=[],s=0;o.length>s;s++){var n=this.__iBeginIndex+s,r=this.__$contentTemplate.clone().addClass(this.__subClass("item")).attr("index",n),l=new t.core.JsonModel(o[s]);a.append(r),this.__aItemBlock.push({model:l,dom:r,visiable:!1}),i.push(r.setModel(l).process(e))}$.when.apply($,i).done(function(){})},__actionBtnClick:function(e){switch(e){case"add":window.SboShell.gotoView("sap.sbo.page.phone.network.PostFeedDialog",{thingID:this.__thingID});break;case"all":this.__filterObj=null,this.clearCache(),this.__requestMoreContent();break;case"atMe":this.clearCache(),this.__filterObj={type:1},this.__requestMoreContent();break;case"myPost":this.clearCache(),this.__filterObj={type:2},this.__requestMoreContent();break;case"sysUpdate":this.clearCache(),this.__filterObj={type:4},this.__requestMoreContent();break;case"userUpdate":this.clearCache(),this.__filterObj={type:8},this.__requestMoreContent();break;case"task":this.clearCache(),this.__filterObj={type:16},this.__requestMoreContent();break;case"memo":this.clearCache(),this.__filterObj={type:32},this.__requestMoreContent();break;case"hot":this.clearCache(),this.__filterObj={type:64},this.__requestMoreContent()}},clearCache:function(){this.__iRequestStatus=-1,this.__startTime=null,$("body").find(".sap-sbo-time-line-layout-list").empty(),this.__iTotalRecords=0,this.__aItemBlock=[]}},Static:{}})}),define("sap.sbo.layout.phone.MetadataRaw",["sap.ui.Control","sap.sbo.layout.BaseMetadataList","css!sap.sbo.layout.phone.MetadataRaw"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Control.declare({Name:this.getModuleInfo().moduleName,ControlBase:t.sbo.layout.BaseMetadataList,DomClass:"sbo-metadata-raw-phone",Options:{},Public:{init:function(){t.sbo.layout.BaseMetadataList.prototype.init.apply(this,arguments),this.declareMember({})},destroy:function(){},update:function(){return t.sbo.layout.BaseMetadataList.prototype.update.apply(this,arguments)
},__reLayout:function(){},setContentSize:function(){}},Protected:{}})}),define("sap.sbo.chooseList.phone.ChooseListAddress",["sap.ui.Controller","sap.sbo.ui.phone.ChooseListFrameView","sap.core.ArrayListSource","sap.sbo.localization.Helper"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.phone.ChooseListFrameView,Options:{array:{type:"array",defaultValue:[],arrayType:{type:"any"},immutable:!0}},Public:{init:function(){t.sbo.ui.phone.ChooseListFrameView.prototype.init.call(this,arguments,{title:t.sbo.localization.Helper.get("app/contact/ADDRESSES")}),this.__oSource=this.autoDestroy(new t.core.ArrayListSource(this.getOption("array")))}}})}),define("sap.sbo.chooseList.phone.ChooseListContact",["sap.ui.Controller","sap.sbo.ui.phone.ChooseListFrameView","sap.sbo.services.ContactPersonsService","sap.core.ListSourceFilter","sap.sbo.localization.Helper"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.phone.ChooseListFrameView,Options:{},Public:{init:function(){t.sbo.ui.phone.ChooseListFrameView.prototype.init.call(this,arguments,{title:t.sbo.localization.Helper.get("common/CONTACT_NAME"),service:t.sbo.services.ContactPersonsService,select:["contactPersonID","position","displayName"]})},getCustomFilter:function(){}}})}),define("sap.sbo.chooseList.phone.ChooseListCustomer",["sap.ui.Controller","sap.sbo.ui.phone.ChooseListFrameView","sap.sbo.services.BusinessPartnersService","sap.core.ListSourceFilter","sap.sbo.localization.Helper"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.phone.ChooseListFrameView,Options:{},Public:{init:function(){t.sbo.ui.phone.ChooseListFrameView.prototype.init.call(this,arguments,{title:t.sbo.localization.Helper.get("common/CUSTOMER_NAME"),service:t.sbo.services.BusinessPartnersService,select:["cardCode","cardName"]})},getCustomFilter:function(){}}})}),define("sap.sbo.chooseList.phone.ChooseListCustomerGroup",["sap.ui.Controller","sap.sbo.ui.phone.ChooseListFrameView","sap.sbo.services.BusinessPartnerGroupsService","sap.sbo.localization.Helper"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.phone.ChooseListFrameView,Options:{},Public:{init:function(){t.sbo.ui.phone.ChooseListFrameView.prototype.init.call(this,arguments,{title:t.sbo.localization.Helper.get("app/bpgroup/CUS_GROUP"),service:t.sbo.services.BusinessPartnerGroupsService})}}})}),define("sap.sbo.chooseList.phone.ChooseListEmployee",["sap.ui.Controller","sap.sbo.services.UserEmployeesService","sap.sbo.ui.phone.ChooseListFrameView","sap.sbo.localization.Helper","css!sap.sbo.chooseList.phone.ChooseListEmployee"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.phone.ChooseListFrameView,Options:{},Public:{init:function(){t.sbo.ui.phone.ChooseListFrameView.prototype.init.call(this,arguments,{title:t.sbo.localization.Helper.get("app/task/EMPLOYEE"),service:t.sbo.services.UserEmployeesService,select:["employeeID","displayName"]})}}})}),define("sap.sbo.chooseList.phone.ChooseListIndustry",["sap.ui.Controller","sap.sbo.ui.phone.ChooseListFrameView","sap.sbo.services.IndustriesService","sap.sbo.localization.Helper"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.phone.ChooseListFrameView,Options:{},Public:{init:function(){t.sbo.ui.phone.ChooseListFrameView.prototype.init.call(this,arguments,{title:t.sbo.localization.Helper.get("app/industry/INDUSTRY"),service:t.sbo.services.IndustriesService})}}})}),define("sap.sbo.chooseList.phone.ChooseListItemGroup",["sap.ui.Controller","sap.sbo.ui.phone.ChooseListFrameView","sap.sbo.services.ItemGroupsService","sap.sbo.localization.Helper"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.phone.ChooseListFrameView,Options:{},Public:{init:function(){t.sbo.ui.phone.ChooseListFrameView.prototype.init.call(this,arguments,{title:t.sbo.localization.Helper.get("app/itemgroup/ITEM_GROUPS"),service:t.sbo.services.ItemGroupsService})}}})}),define("sap.sbo.chooseList.phone.ChooseListLead",["sap.ui.Controller","sap.sbo.ui.phone.ChooseListFrameView","sap.sbo.services.OrdersService","sap.sbo.services.LeadsService","sap.sbo.localization.Helper"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.phone.ChooseListFrameView,Options:{array:{type:"array",defaultValue:[],arrayType:{type:"any"},immutable:!0}},Public:{init:function(){t.sbo.ui.phone.ChooseListFrameView.prototype.init.call(this,arguments,{title:t.sbo.localization.Helper.get("app/network/CHOOSE/leads"),service:t.sbo.services.LeadsService})}}})}),define("sap.sbo.chooseList.phone.ChooseListManufacturer",["sap.ui.Controller","sap.sbo.ui.phone.ChooseListFrameView","sap.sbo.services.ManufacturersService","sap.sbo.localization.Helper"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.phone.ChooseListFrameView,Options:{},Public:{init:function(){t.sbo.ui.phone.ChooseListFrameView.prototype.init.call(this,arguments,{title:t.sbo.localization.Helper.get("app/manufct/MANUFACTURERS"),service:t.sbo.services.ManufacturersService})}}})}),define("sap.sbo.chooseList.phone.ChooseListOpportunity",["sap.ui.Controller","sap.sbo.ui.phone.ChooseListFrameView","sap.sbo.services.SalesOpportunitiesService","sap.core.ArrayListSource","sap.sbo.localization.Helper"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.phone.ChooseListFrameView,Options:{array:{type:"array",defaultValue:[],arrayType:{type:"any"},immutable:!0}},Public:{init:function(){t.sbo.ui.phone.ChooseListFrameView.prototype.init.call(this,arguments,{title:t.sbo.localization.Helper.get("app/oppo/OPPORTUNITIES"),service:t.sbo.services.SalesOpportunitiesService})}}})}),define("sap.sbo.chooseList.phone.ChooseListOrder",["sap.ui.Controller","sap.sbo.ui.phone.ChooseListFrameView","sap.sbo.services.OrdersService","sap.sbo.localization.Helper"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.phone.ChooseListFrameView,Options:{array:{type:"array",defaultValue:[],arrayType:{type:"any"},immutable:!0}},Public:{init:function(){t.sbo.ui.phone.ChooseListFrameView.prototype.init.call(this,arguments,{title:t.sbo.localization.Helper.get("app/network/CHOOSE/orders"),service:t.sbo.services.OrdersService})}}})}),define("sap.sbo.chooseList.phone.ChooseListProduct",["sap.ui.Controller","sap.sbo.ui.phone.ChooseListFrameView","sap.sbo.services.ItemsService","sap.sbo.localization.Helper","sap.core.ListSourceFilter","css!sap.sbo.chooseList.phone.ChooseListProduct"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.phone.ChooseListFrameView,Options:{},Public:{init:function(){t.sbo.ui.phone.ChooseListFrameView.prototype.init.call(this,arguments,{title:t.sbo.localization.Helper.get("common/PRODUCT_NAME"),service:t.sbo.services.ItemsService,select:["itemCode","itemName"]})},getCustomFilter:function(){}}})}),define("sap.sbo.chooseList.phone.ChooseListQuotation",["sap.ui.Controller","sap.sbo.ui.phone.ChooseListFrameView","sap.sbo.services.QuotationsService","sap.sbo.ui.widget.DecimalLabel","sap.sbo.localization.Helper"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.phone.ChooseListFrameView,Options:{array:{type:"array",defaultValue:[],arrayType:{type:"any"},immutable:!0}},Public:{init:function(){t.sbo.ui.phone.ChooseListFrameView.prototype.init.call(this,arguments,{title:t.sbo.localization.Helper.get("app/network/CHOOSE/quotations"),service:t.sbo.services.QuotationsService})}}})}),define("sap.sbo.chooseList.phone.ChooseListReason",["sap.ui.Controller","sap.sbo.ui.phone.ChooseListFrameView","sap.sbo.localization.Helper","sap.sbo.services.SalesOpportunityReasonSetupsService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.phone.ChooseListFrameView,Options:{},Public:{init:function(){t.sbo.ui.phone.ChooseListFrameView.prototype.init.call(this,arguments,{title:t.sbo.localization.Helper.get("salestage/REASONS"),service:t.sbo.services.SalesOpportunityReasonSetupsService,select:["sequenceNo","description"]})}}})}),define("sap.sbo.chooseList.phone.ChooseListSource",["sap.ui.Controller","sap.sbo.ui.phone.ChooseListFrameView","sap.sbo.localization.Helper","sap.sbo.services.SalesOpportunitySourceSetupsService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.phone.ChooseListFrameView,Options:{},Public:{init:function(){t.sbo.ui.phone.ChooseListFrameView.prototype.init.call(this,arguments,{title:t.sbo.localization.Helper.get("salestage/SOURCES"),service:t.sbo.services.SalesOpportunitySourceSetupsService,select:["sequenceNo","description"]})}}})}),define("sap.sbo.chooseList.pad.ChooseListAddress",["sap.ui.Controller","sap.sbo.ui.pad.ChooseListFrameView","sap.core.ArrayListSource","sap.sbo.util.formatter","sap.sbo.localization.Helper"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={getAddressType:function(e){return"bo_ShipTo"===e?t.sbo.localization.Helper.get("app/address/SHIPTO"):t.sbo.localization.Helper.get("app/address/BILLTO")}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.pad.ChooseListFrameView,Options:{array:{type:"array",defaultValue:[],arrayType:{type:"any"},immutable:!0}},Public:{init:function(){t.sbo.ui.pad.ChooseListFrameView.prototype.init.call(this,arguments,{title:t.sbo.localization.Helper.get("app/contact/ADDRESSES")}),this.__oSource=this.autoDestroy(new t.core.ArrayListSource(this.getOption("array")))},getCustomNs:function(){return e}}})}),define("sap.sbo.chooseList.pad.ChooseListCompetitor",["sap.ui.Controller","sap.sbo.ui.pad.ChooseListFrameView","sap.sbo.services.SalesOpportunityCompetitorSetupsService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.pad.ChooseListFrameView,Options:{},Public:{init:function(){t.sbo.ui.pad.ChooseListFrameView.prototype.init.call(this,arguments,{title:"Competitors",service:t.sbo.services.SalesOpportunityCompetitorSetupsService})}}})}),define("sap.sbo.chooseList.pad.ChooseListContact",["sap.ui.Controller","sap.sbo.ui.pad.ChooseListFrameView","sap.sbo.services.ContactPersonsService","sap.core.ListSourceFilter","sap.sbo.localization.Helper"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.pad.ChooseListFrameView,Options:{},Public:{init:function(){t.sbo.ui.pad.ChooseListFrameView.prototype.init.call(this,arguments,{title:t.sbo.localization.Helper.get("common/CONTACT_NAME"),service:t.sbo.services.ContactPersonsService,select:["cardCode","contactPersonID","position","displayName","e_Mail","mobilePhone","phone1","title"]})},getCustomFilter:function(){}}})}),define("sap.sbo.chooseList.pad.ChooseListCustomer",["sap.ui.Controller","sap.sbo.ui.pad.ChooseListFrameView","sap.sbo.services.BusinessPartnersService","sap.core.ListSourceFilter","sap.sbo.localization.Helper"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.pad.ChooseListFrameView,Options:{},Public:{init:function(){t.sbo.ui.pad.ChooseListFrameView.prototype.init.call(this,arguments,{title:t.sbo.localization.Helper.get("common/CUSTOMER_NAME"),service:t.sbo.services.BusinessPartnersService,select:["cardCode","cardName","contactPerson","groupCode","contactEmployees"],expand:"contactEmployees"})},getCustomFilter:function(){}}})}),define("sap.sbo.chooseList.pad.ChooseListCustomerGroup",["sap.ui.Controller","sap.sbo.ui.pad.ChooseListFrameView","sap.sbo.services.BusinessPartnerGroupsService","sap.sbo.localization.Helper"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.pad.ChooseListFrameView,Options:{},Public:{init:function(){t.sbo.ui.pad.ChooseListFrameView.prototype.init.call(this,arguments,{title:t.sbo.localization.Helper.get("app/bpgroup/CUS_GROUP"),service:t.sbo.services.BusinessPartnerGroupsService})}}})}),define("sap.sbo.chooseList.pad.ChooseListEmployee",["sap.ui.Controller","sap.sbo.services.UserEmployeesService","sap.sbo.ui.pad.ChooseListFrameView","sap.sbo.localization.Helper","css!sap.sbo.chooseList.pad.ChooseListEmployee"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.pad.ChooseListFrameView,Options:{},Public:{init:function(){t.sbo.ui.pad.ChooseListFrameView.prototype.init.call(this,arguments,{title:t.sbo.localization.Helper.get("app/task/EMPLOYEE"),service:t.sbo.services.UserEmployeesService,select:["employeeID","displayName"]})}}})}),define("sap.sbo.chooseList.pad.ChooseListIndustry",["sap.ui.Controller","sap.sbo.ui.pad.ChooseListFrameView","sap.sbo.services.IndustriesService","sap.sbo.localization.Helper"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.pad.ChooseListFrameView,Options:{},Public:{init:function(){t.sbo.ui.pad.ChooseListFrameView.prototype.init.call(this,arguments,{title:t.sbo.localization.Helper.get("app/industry/INDUSTRY"),service:t.sbo.services.IndustriesService})}}})}),define("sap.sbo.chooseList.pad.ChooseListItemGroup",["sap.ui.Controller","sap.sbo.ui.pad.ChooseListFrameView","sap.sbo.services.ItemGroupsService","sap.sbo.localization.Helper"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.pad.ChooseListFrameView,Options:{},Public:{init:function(){t.sbo.ui.pad.ChooseListFrameView.prototype.init.call(this,arguments,{title:t.sbo.localization.Helper.get("app/itemgroup/ITEM_GROUPS"),service:t.sbo.services.ItemGroupsService})}}})}),define("sap.sbo.chooseList.pad.ChooseListLeads",["sap.ui.Controller","sap.sbo.ui.pad.ChooseListFrameView","sap.sbo.services.LeadsService","sap.core.ListSourceFilter","sap.sbo.localization.Helper"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.pad.ChooseListFrameView,Options:{},Public:{init:function(){t.sbo.ui.pad.ChooseListFrameView.prototype.init.call(this,arguments,{title:t.sbo.localization.Helper.get("app/network/CHOOSE/leads"),service:t.sbo.services.LeadsService})},getCustomFilter:function(){}}})}),define("sap.sbo.chooseList.pad.ChooseListManager",["sap.ui.Controller","sap.sbo.services.UserEmployeesService","sap.sbo.ui.pad.ChooseListFrameView","sap.sbo.localization.Helper","css!sap.sbo.chooseList.pad.ChooseListEmployee"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.pad.ChooseListFrameView,Options:{},Public:{init:function(){t.sbo.ui.pad.ChooseListFrameView.prototype.init.call(this,arguments,{title:t.sbo.localization.Helper.get("app/chooseList/manager/title"),service:t.sbo.services.UserEmployeesService})}}})}),define("sap.sbo.chooseList.pad.ChooseListManufacturer",["sap.ui.Controller","sap.sbo.ui.pad.ChooseListFrameView","sap.sbo.services.ManufacturersService","sap.sbo.localization.Helper"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.pad.ChooseListFrameView,Options:{},Public:{init:function(){t.sbo.ui.pad.ChooseListFrameView.prototype.init.call(this,arguments,{title:t.sbo.localization.Helper.get("app/manufct/MANUFACTURERS"),service:t.sbo.services.ManufacturersService})}}})}),define("sap.sbo.chooseList.pad.ChooseListOpportunity",["sap.ui.Controller","sap.sbo.ui.pad.ChooseListFrameView","sap.sbo.services.SalesOpportunitiesService","sap.core.ListSourceFilter","sap.sbo.localization.Helper"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.pad.ChooseListFrameView,Options:{},Public:{init:function(){t.sbo.ui.pad.ChooseListFrameView.prototype.init.call(this,arguments,{title:t.sbo.localization.Helper.get("app/oppo/OPPORTUNITIES"),service:t.sbo.services.SalesOpportunitiesService})},getCustomFilter:function(){}}})}),define("sap.sbo.chooseList.pad.ChooseListOrder",["sap.ui.Controller","sap.sbo.ui.pad.ChooseListFrameView","sap.sbo.services.OrdersService","sap.core.ListSourceFilter","sap.sbo.localization.Helper"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.pad.ChooseListFrameView,Options:{},Public:{init:function(){t.sbo.ui.pad.ChooseListFrameView.prototype.init.call(this,arguments,{title:t.sbo.localization.Helper.get("app/network/CHOOSE/orders"),service:t.sbo.services.OrdersService})},getCustomFilter:function(){}}})}),define("sap.sbo.chooseList.pad.ChooseListProduct",["sap.ui.Controller","sap.sbo.ui.pad.ChooseListFrameView","sap.sbo.services.ItemsService","sap.core.ListSourceFilter","sap.sbo.localization.Helper","css!sap.sbo.chooseList.pad.ChooseListProduct"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.pad.ChooseListFrameView,Options:{},Public:{init:function(){t.sbo.ui.pad.ChooseListFrameView.prototype.init.call(this,arguments,{title:t.sbo.localization.Helper.get("common/PRODUCT_NAME"),service:t.sbo.services.ItemsService,select:["itemCode","itemName","itemGroupName"]})},getCustomFilter:function(){}}})}),define("sap.sbo.chooseList.pad.ChooseListQuotation",["sap.ui.Controller","sap.sbo.ui.pad.ChooseListFrameView","sap.sbo.services.QuotationsService","sap.core.ListSourceFilter","sap.sbo.localization.Helper"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.pad.ChooseListFrameView,Options:{},Public:{init:function(){t.sbo.ui.pad.ChooseListFrameView.prototype.init.call(this,arguments,{title:t.sbo.localization.Helper.get("app/network/CHOOSE/quotations"),service:t.sbo.services.QuotationsService})},getCustomFilter:function(){}}})}),define("sap.sbo.chooseList.pad.ChooseListReason",["sap.ui.Controller","sap.sbo.ui.pad.ChooseListFrameView","sap.sbo.localization.Helper","sap.sbo.services.SalesOpportunityReasonSetupsService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.pad.ChooseListFrameView,Options:{},Public:{init:function(){t.sbo.ui.pad.ChooseListFrameView.prototype.init.call(this,arguments,{title:t.sbo.localization.Helper.get("salestage/REASONS"),service:t.sbo.services.SalesOpportunityReasonSetupsService,select:["sequenceNo","description"]})}}})}),define("sap.sbo.chooseList.pad.ChooseListSource",["sap.ui.Controller","sap.sbo.ui.pad.ChooseListFrameView","sap.sbo.localization.Helper","sap.sbo.services.SalesOpportunitySourceSetupsService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.pad.ChooseListFrameView,Options:{},Public:{init:function(){t.sbo.ui.pad.ChooseListFrameView.prototype.init.call(this,arguments,{title:t.sbo.localization.Helper.get("salestage/SOURCES"),service:t.sbo.services.SalesOpportunitySourceSetupsService,select:["sequenceNo","description"]})}}})}),define("sap.sbo.chooseList.pad.ChooseListTargetGroup",["sap.ui.Controller","sap.sbo.ui.pad.ChooseListFrameView","sap.sbo.services.TargetGroupsService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.pad.ChooseListFrameView,Options:{},Public:{init:function(){t.sbo.ui.pad.ChooseListFrameView.prototype.init.call(this,arguments,{title:"Target Groups",service:t.sbo.services.TargetGroupsService})}}})}),define("sap.sbo.app.dataProvider",["sap.core.klass","sap.sbo.util.metadataHelper","sap.sbo.services.BaseService","sap.sbo.services.FeedService","sap.sbo.util.metadataHelper","sap.sbo.util.permissionUtil","sap.core.DestroyPool","sap.core.GuardedTimer","sap.util","sap.log"],function(){"use strict";var e=this.getNS("sap"),t=e.core.klass.declare({Name:this.getModuleInfo().moduleName,Public:{init:function(){this.declareMember({__oDestroyPool:null,__oService:null,__oFeedService:null,__oDataModel:this.autoDestroy(new e.core.JsonModel({})),__oMetaModel:this.autoDestroy(new e.core.JsonModel({})),__oDynamicModel:this.autoDestroy(new e.core.JsonModel({})),__oPermissionModel:this.autoDestroy(new e.core.JsonModel({})),__BoKey:null,__dThingId:null,__oTimer:null})},__initService:function(){this.terminate(),this.__oDestroyPool=new e.core.DestroyPool,this.__oService=this.__oDestroyPool.add(new serviceClass),this.__oFeedService=this.__oDestroyPool.add(new e.sbo.services.FeedService);var t=this;this.__oTimer=this.__oDestroyPool.add(new e.core.GuardedTimer,function(){t.__dThingId.reject(),this.destroy()}),this.__BoKey=null,this.__dThingId=null},destroy:function(){this.terminate()},terminate:function(){this.__oDestroyPool&&this.__oDestroyPool.destroy(),this.__oDestroyPool=null},loadBoKey:function(t,o){var a=$.Deferred(),i=!1,s=!1;return e.util.equalByValue(this.__BoKey,t)?i=o:(this.__BoKey=t,i=!0,this.__dThingId=$.Deferred(),this.__initService(),s=!0,this.__loadThindId()),i?(s===!1&&this.__initService(),s=!0,this.__refresh().done(function(){a.resolve()})):a.resolve(),a.promise()},getThingId:function(){return this.__dThingId?this.__dThingId.promise():null},__loadThindId:function(){function e(){$.when(o.__oBaseFeedService.getThingID(o.__BoKey)).done(function(a){-1!==a?o.__dThingId.resolve(a):(++t,5===t?o.__dThingId.reject():o.__oTimer.setTimeout(e,5e3))}).fail(function(){o.__dThingId.reject()})}var t=0,o=this;e()},__refresh:function(){var t=$.Deferred();return $.when(this.__oService.getMetadata(this.__BoKey.boNamespace,this.__BoKey.boName),this.__oService.get(this.__BoKey)).done(function(o,a){var i=e.sbo.util.metadataHelper.convert(o);this.__oMetaModel.setValue("",i),this.__oDataModel.setValue("",a),this.__oDynamicModel.setValue("",e.sbo.util.metadataHelper.convertDynamicMeta(a["sbo.dynamicmeta"]));var s=i.actions;e.sbo.util.permissionUtil.loadActionPermissions(this.__BoKey,s).done(function(e){this.__oPermissionModel.setValue("",e.value.reduce(function(e,t,o){return e[s[o]]="true"===t,e},{})),t.resolve()}.bind(this)).fail(function(){t.resolve()})}.bind(this)).fail(function(){t.reject()}),t.promise()},update:function(){var e=$.Deferred();return e.promise()}}}),o={};return{getDataProvider:function(a){e.sbo.services.BaseService.isBaseClassOf(a)||e.log.error("A BaseService class required insted of a "+typeof a);var i=a.constructor.__className;return o[i]?o[i]:(o[i]=new t(a),void 0)}}}),define("sap.sbo.app.about.About",["sap.ui.Controller","sap.core.DestroyPool","sap.sbo.ui.Loop","sap.core.JsonModel","sap.sbo.services.BaseService","css!sap.sbo.app.about.About"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments),this.declareMember({__oDestroyPool:null})},destroy:function(){},initView:function(){var o=$.Deferred();this.__oDestroyPool=new t.core.DestroyPool;var a=this.__oDestroyPool.add(new t.sbo.services.BaseService);return a.asyncReq({type:"GET",dataType:"json",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+"build/"+Date.now()},!0).done(function(a){var i=this.__oDestroyPool.add(new t.core.JsonModel({error:null!==a.errorMessage?"error":"",data:a}));this.$().setModel(i),this.__oDestroyPool.add(this.$(),this.$().unprocess).process(e),o.resolve()}.bind(this)).fail(function(){o.reject()}),o.promise()},destroyView:function(){this.__oDestroyPool.destroy(),this.__oDestroyPool=null},update:function(){}}})}),define("sap.sbo.app.BOProfile.ProfileDetails",["sap.log","sap.core.klass","sap.ui.Controller","sap.core.JsonModel","sap.ui.widget.Button","sap.ui.MessageBox","sap.sbo.ui.FrameViewController","sap.sbo.ui.widget.PhotoPicker","sap.sbo.ui.widget.UploadButton","sap.sbo.services.BaseService","sap.sbo.compoundservices.AttachmentService","sap.sbo.localization.Helper","css!sap.sbo.app.home.ProfileDetails"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Options:{userID:{type:"string",defaultValue:""},boName:{type:"string",defaultValue:""},imageID:{type:"integer",defaultValue:-1}},Public:{init:function(){t.sbo.ui.FrameViewController.prototype.init.apply(this,arguments);var e=this;t.core.klass.declareMember(this,{__oModel:new t.core.JsonModel({imageSource:"./image/common/default_picture.png"}),__oAttachmentService:this.autoDestroy(new t.sbo.compoundservices.AttachmentService),__onPickedProxy:$.proxy(this.__onPicked,this),__onUploadedProxy:$.proxy(this.__onUploaded,this),__bNotDesktop:!1,_fActionButtonClicked:function(t){switch(t){case"ok":e.callShell("close")}}})},destroy:function(){},initView:function(){var o=$.Deferred(),a=this;this.$().setModel(this.__oModel),this.__bNotDesktop="desktop"!==window.SboShell.callFeatureMethod("shell.getDeviceType"),this.__bNotDesktop?this.$('div[data-sbo-class="avatar-button-container"]').append($("<div>",{"data-sbo-class":"camera-picker","data-sap-widget":"sap.sbo.ui.widget.PhotoPicker","data-sap-option":"resourcetype: 'camera', text: 'Camera'",style:"display:none;"})).append($("<div>",{"data-sbo-class":"photo-picker","data-sap-widget":"sap.sbo.ui.widget.PhotoPicker","data-sap-option":"resourcetype: 'album', text: 'Album'",style:"display:none;"})):this.$('div[data-sbo-class="avatar-button-container"]').append($("<div>",{"data-sbo-class":"photo-picker","data-sap-widget":"sap.sbo.ui.widget.UploadButton","data-sap-option":"accept: 'image/*', text: 'Change', autoupload: true, cropimage: true",style:"display:none;"})),$.when(a.$().process(e)).done(function(){o.resolve()}).fail(function(e){window.SboShell.raiseException(e),o.reject(e)});var i={},s={};switch(this.getOption("boName")){case"BusinessPartner":s.keyName="cardCode";break;case"ContactPerson":s.keyName="contactPersonID";break;case"Item":s.keyName="itemCode"}s.keyValue=this.getOption("userID");var n=[];return n.push(s),i.boNamespace="com.sap.sbo",i.boName=this.getOption("boName"),i.keyElements=n,$.when("BusinessPartner"===this.getOption("boName")?this.__oAttachmentService.getBPImageId(this.getOption("userID")):"ContactPerson"===this.getOption("boName")?this.__oAttachmentService.getContactPortraitId(this.getOption("userID")):this.__oAttachmentService.getItemImageId(this.getOption("userID"))).done(function(e){if(e.value>-1){var o=t.sbo.services.BaseService.documentbase+"file/open?id="+e.value+"&boEntityKey="+JSON.stringify(i);a.__oModel.set("imageSource",o)}}).fail(function(e){o.reject(e)}).always(function(){}),this.__bNotDesktop?(this.$('div[data-sbo-class="camera-picker"]').getControl().attachEvent("uploadComplete",this.__onUploadedProxy),this.$('div[data-sbo-class="photo-picker"]').getControl().attachEvent("uploadComplete",this.__onUploadedProxy)):this.$('div[data-sap-widget="sap.sbo.ui.widget.UploadButton"]').getControl().attachEvent("uploadComplete",this.__onUploadedProxy),a.$().on("vclick",".btn.Replace",function(){a.__bNotDesktop?$('div[data-sbo-class="photo-picker"] > .sap-sbo-ui-widget-photopicker-wrapper').trigger("vclick"):$('div[data-sap-widget="sap.sbo.ui.widget.UploadButton"] input').trigger("click")}),a.$().on("vclick",".btn.OK",function(){a.callShell("close")}),this.__bNotDesktop?(this.__oModel.setValue("bShow","NO"),window.SboShell.addTopButtons([{key:"ok",text:t.sbo.localization.Helper.get("common/OK")}]),window.SboShell.attachEvent("actionButtonClick",this._fActionButtonClicked)):this.__oModel.setValue("bShow","YES"),o.promise()},destroyView:function(){this.__bNotDesktop&&window.SboShell.detachEvent("actionButtonClick",this._fActionButtonClicked),this.__oModel.destroy(),this.__oModel=null,this.__bNotDesktop?(this.$('div[data-sbo-class="camera-picker"]').getControl().detachEvent("uploadComplete",this.__onUploadedProxy),this.$('div[data-sbo-class="photo-picker"]').getControl().attachEvent("uploadComplete",this.__onUploadedProxy)):this.$('div[data-sap-widget="sap.sbo.ui.widget.UploadButton"]').getControl().detachEvent("uploadComplete",this.__onUploadedProxy),this.$().unprocess()},update:function(){t.sbo.ui.FrameViewController.prototype.update.apply(this,arguments)}},Protected:{__onUploaded:function(e){if(e){var o={},a={};switch(this.getOption("boName")){case"BusinessPartner":a.keyName="cardCode";break;case"ContactPerson":a.keyName="contactPersonID";break;case"Item":a.keyName="itemCode";break;default:}var i=this;$.when("BusinessPartner"===this.getOption("boName")?this.__oAttachmentService.uploadBPImage(this.getOption("userID"),e):"ContactPerson"===this.getOption("boName")?this.__oAttachmentService.uploadContactPortrait(this.getOption("userID"),e):this.__oAttachmentService.uploadItemImage(this.getOption("userID"),e)).done(function(){a.keyValue=i.getOption("userID");var s=[];s.push(a),o.boNamespace="com.sap.sbo",o.boName=i.getOption("boName"),o.keyElements=s;var n=t.sbo.services.BaseService.documentbase+"file/open?id="+e+"&boEntityKey="+JSON.stringify(o);i.__oModel.setValue("imageSource",n),i.callShell("refreshAvatar",n)})}},__onPicked:function(e){this.__oModel.setValue("url",e)}},Static:{}})}),define("sap.sbo.app.Campaign.CampaignTile",["sap.ui.Controller","sap.core.JsonModel","sap.ui.widget.TextField","sap.sbo.layout.TileViewController","sap.log","sap.ui.widget.Button","sap.sbo.services.CampaignsService","sap.sbo.util.formatter"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.layout.TileViewController,Options:{},Public:{init:function(){t.sbo.layout.TileViewController.prototype.init.apply(this,arguments),this.declareMember({_oBOService:this.autoDestroy(new t.sbo.services.CampaignsService),_fGotoBO:function(){var e="phone"==SboShell.__deviceType?"phone":"pad";SboShell.gotoView("sap.sbo.page."+e+".Campaign.CampaignListView",{})},_oModel:new t.core.JsonModel({count:""})})},destroy:function(){},initView:function(){var t=$.Deferred();this.$().setModel(this._oModel),this.$().process(e),t.resolve(),this.$().on("vclick",this._fGotoBO);var o=this;return $.when(this._oBOService.count()).done(function(e){o._oModel.set("count",e)}).fail(function(){}),t.promise()},destroyView:function(){this.$().unprocess(),this.$().off("vclick",this._fGotoBO)},update:function(e){t.sbo.layout.TileViewController.prototype.update.apply(this,arguments),e.mode&&(t.log.info("Change mode to :"+this.getOption("mode")),this.$("[field='modeText']").text(this.getOption("mode")))},getSupportedModes:function(){return["2x2","2x4"]
}}})}),define("sap.sbo.app.colleague.ColleagueTile",["sap.ui.Controller","sap.core.JsonModel","sap.sbo.layout.TileViewController","sap.sbo.services.UserEmployeesService","sap.sbo.util.formatter","css!sap.sbo.page.boTile"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.layout.TileViewController,Public:{init:function(){t.sbo.layout.TileViewController.prototype.init.apply(this,arguments),this.declareMember({_oCollService:this.autoDestroy(new t.sbo.services.UserEmployeesService),_oModel:new t.core.JsonModel({count:0})})},destroy:function(){},initView:function(){var t=this;this.$().setModel(this._oModel),this.$().process(e),$.when(this._oCollService.count()).done(function(e){t._oModel.set("count",e)}),this.$().on("vclick",this.__gotoColleagueList)},destroyView:function(){this.$().unprocess(),this.$().off("vclick",this.__gotoColleagueList)},update:function(){},getSupportedModes:function(){return["2x2"]}},Protected:{__gotoColleagueList:function(){var e="phone"==SboShell.__deviceType?"phone":"pad";window.SboShell.gotoView("sap.sbo.page."+e+".colleague.ColleagueList")}}})}),define("sap.sbo.app.Contact.ContactTile",["sap.ui.Controller","sap.core.JsonModel","sap.sbo.layout.TileViewController","sap.sbo.services.ContactPersonsService","sap.sbo.util.formatter","css!sap.sbo.page.boTile"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.layout.TileViewController,Options:{},Public:{init:function(){t.sbo.layout.TileViewController.prototype.init.apply(this,arguments),this.declareMember({_oService:this.autoDestroy(new t.sbo.services.ContactPersonsService),_oModel:new t.core.JsonModel({count:0})})},destroy:function(){},initView:function(){var t=this,o=$.Deferred();return this.$().setModel(this._oModel),this.$().process(e),o.resolve(),$.when(this._oService.count()).done(function(e){t._oModel.set("count",e)}),this.$().on("vclick",this.__gotoList),o.promise()},destroyView:function(){this.$().unprocess(),this.$().off("vclick",this.__gotoList)},update:function(){},getSupportedModes:function(){return["2x2"]}},Protected:{__gotoList:function(){var e="phone"==SboShell.__deviceType?"phone":"pad";window.SboShell.gotoView("sap.sbo.page."+e+".Contact.ContactListView")}}})}),define("sap.sbo.app.Customer.CustomerTile",["sap.ui.Controller","sap.core.JsonModel","sap.sbo.layout.TileViewController","sap.sbo.services.BusinessPartnersService","sap.sbo.util.formatter","css!sap.sbo.page.boTile"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.layout.TileViewController,Options:{},Public:{init:function(){t.sbo.layout.TileViewController.prototype.init.apply(this,arguments),this.declareMember({_oCustomerService:this.autoDestroy(new t.sbo.services.BusinessPartnersService),_oModel:new t.core.JsonModel({count:0})})},destroy:function(){},initView:function(){var t=this,o=$.Deferred();return this.$().setModel(this._oModel),this.$().process(e),o.resolve(),$.when(this._oCustomerService.count()).done(function(e){t._oModel.set("count",e)}),this.$().on("vclick",this.__gotoCustomerList),o.promise()},destroyView:function(){this.$().unprocess(),this.$().off("vclick",this.__gotoCustomerList)},update:function(){},getSupportedModes:function(){return["2x2"]}},Protected:{__gotoCustomerList:function(){var e="phone"==SboShell.__deviceType?"phone":"pad";window.SboShell.gotoView("sap.sbo.page."+e+".Customer.CustomerList")}}})}),define("sap.sbo.app.dashboard.ConfigView",["sap.ui.Controller","sap.core.DestroyPool","sap.sbo.ui.Loop","sap.core.JsonModel","html!sap.sbo.app.dashboard.ConfigView","sap.core.event.DomCommand","sap.core.viewRegionManager","sap.core.DataList","sap.sbo.ui.widget.GroupableListView","sap.sbo.util.cacheablemetaDataManager","sap.sbo.util.notification","css!sap.sbo.app.dashboard.ConfigView","sap.ui.widget.Checkbox","sap.ui.widget.DropDownBox","sap.sbo.ui.widget.ChartView","sap.sbo.services.DashboardsService","sap.core.IViewRegionControlable"],function(){"use strict";var e=this.getNS(),t=e.sap,o=t.core.event.DomCommand;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,Interfaces:[t.core.IViewRegionControlable],Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments),this.declareMember({oService:new t.sbo.services.DashboardsService,actionMenus:new t.core.DataList([{text:"Save",key:"save"}]),dataContext:new t.core.JsonModel({chartList:[{name:"column"},{name:"line"},{name:"pie"},{name:"bar"},{name:"3d_bar"}],dataHeaders:new t.core.DataList([]),queryDatas:new t.core.DataList([]),measures:new t.core.DataList([]),chartType:"column",dimensions:new t.core.DataList([]),measuresString:new t.core.DataList([]),dimensionsString:new t.core.DataList([]),gotoQueryView:new o(this,this.gotoQuery),changeMeasures:new o(this,this.changeMeasures),changeDimensions:new o(this,this.changeDimensions)}),__getQueryProxy:$.proxy(this.__getQuery,this),__clickAction:this.autoDestroy(function(e){this["on_"+e]&&this["on_"+e]()}.bind(this),function(){window.SboShell.detachEvent("actionButtonClick",this)})}),t.sbo.util.notification.subscribe("dashboard.selectedQuery",this.__getQueryProxy)},destroy:function(){},initView:function(){var o=this,a=$.Deferred();return t.sbo.util.cacheablemetaDataManager.get("sap.sbo.compoundservices.AnalyticService","getMetaData").done(function(e){o.metas=new t.core.DataList(e.meta.value)}),this.$().setModel(this.dataContext,"dashboardConfigViewModel"),this.$().process(e).done(function(){a.resolve()}),a},destroyView:function(){t.sbo.util.notification.unsubscribe("dashboard.selectedQuery",this.__getQueryProxy)},update:function(e){e&&console.log(e)},preActiveAction:function(){var e=$.Deferred();return window.SboShell.addActionButtons(this.actionMenus,this),window.SboShell.attachEvent("actionButtonClick",this.__clickAction),e.resolve(),e},postActiveAction:function(){var e=$.Deferred();return window.SboShell.detachEvent("actionButtonClick",this.__clickAction),window.SboShell.removeActionButtons(this.actionMenus.select("c=>c.key")),e.resolve(),e}},Protected:{on_save:function(){var e=this,t={};t.name=""+Date.now(),t.title="",t.baseQueryId=e.queryBO.id,t.topNumber=0,t.chartType=e.dataContext.getValue("chartType"),t.properties=[];var o=0,a=this.dataContext.getValue("dimensionsString"),i=this.dataContext.getValue("measuresString");a.forEach(function(a){var i=e.__newProperty({label:a,displayLabel:a,dimension:!0,sequence:o});t.properties.push(i),o++}),i.forEach(function(a){var i=e.__newProperty({label:a,displayLabel:a,measure:!0,sequence:o});t.properties.push(i),o++}),$.when(this.oService.create(t)).done(function(){e.setTitle(t.name)})},__newProperty:function(e){var t={label:"",displayLabel:"",dimension:!1,measure:!1,sequence:0,sortType:void 0,aggregationType:void 0,dateFormatType:void 0};for(var o in e)t[o]=e[o];return t},__getQuery:function(e){this.queryBO=e.queryBO,this.queryResult=e.queryResult,this.dataHeaders=new t.core.DataList(e.queryResult.header.value),this.dataContext.setValue("queryDatas",e.queryResult.data.value),this.dataContext.setValue("dataHeaders",this.dataHeaders),this.initDimensionAndMeasure(e.queryBO)},initDimensionAndMeasure:function(e){var o=this,a=new t.core.DataList([]),i=new t.core.DataList([]);e.properties.forEach(function(e){var s={name:e.displayLabel};if("none"!==e.aggregationType)return s.selected=!1,s.groupIndex=0,i.push(s),void 0;var n=new t.core.DataList(o.metas.query("c=>c.name==='"+e.boName+"'").first().properties.value).first("c=>c.name==='"+e.name+"'");n.dimension&&(s.dimension="none",s.selected=!1,a.push(s)),n.measure&&(s.selected=!1,s.groupIndex=0,i.push(s))}),o.dataContext.setValue("dimensions",[{datas:a,groupName:"Dimensions",count:a.length}]),o.dataContext.setValue("measures",[{datas:i,groupName:"Measures",count:a.length}]),o.setMeasuresString(),o.setDimensionsString()},setMeasuresString:function(){var e=this.dataContext.getValue("measures")[0].datas.query("c=>c.selected===true").select("c=>c.name");this.dataContext.setValue("measuresString",e)},setDimensionsString:function(){var e=this.dataContext.getValue("dimensions")[0].datas.query("c=>c.selected===true").select("c=>c.name");this.dataContext.setValue("dimensionsString",e)},gotoQuery:function(){t.core.viewRegionManager.activeViewToRegion("dashboardpanelregion","sap.sbo.app.dashboard.QueryView")},changeDimensions:function(){var e=this;e.setDimensionsString()},changeMeasures:function(){var e=this;e.setMeasuresString()}},Static:{}})}),define("sap.sbo.app.dashboard.DashboardPanel",["sap.ui.Control","html!sap.sbo.app.dashboard.DashboardPanel","sap.ui.widget.ViewRegion","sap.core.IViewRegionControlable"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Control.declare({Name:this.getModuleInfo().moduleName,DomClass:"sap-sbo-app-dashboard-DashboardPanel",Interfaces:[t.core.IViewRegionControlable],Events:[],PublicMethods:[],Options:{},Public:{init:function(){t.ui.Control.prototype.init.apply(this,arguments),this.declareMember({}),this.$().append(e.html.sap.sbo.app.dashboard.DashboardPanel),this.$(".dashboardcontainer").process(e)},destroy:function(){},update:function(){}},Protected:{}})}),define("sap.sbo.app.dashboard.PanelActionPlugin",["sap.core.klass","sap.core.IViewRegionPlugin"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Interfaces:[t.core.IViewRegionPlugin],Public:{doInitAction:function(e){this.viewgion=e},doActiveViewAction:function(e,t){if(e){var o=$(e).offsetParent().offset(),a=$(e).offset(),i=$(t).offset(),s=$(e).height()+10,n=a.top-o.top;$(t).is(":hidden")||a.top<i.top?($(t).css("top",n+s).show(),$(e).css("top",n-s),$(t).css("top",n)):($(e).css("top",n+s),$(t).css("top",n))}else $(t).fadeIn("fast")}},Protected:{}})}),define("sap.sbo.app.dashboard.home",["sap.ui.Controller","sap.core.DestroyPool","sap.sbo.ui.Loop","sap.core.JsonModel","html!sap.sbo.app.dashboard.home","sap.core.event.DomCommand","sap.sbo.app.dashboard.DashboardPanel","css!sap.sbo.app.dashboard.home"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments),this.declareMember({dataContext:new t.core.JsonModel({})})},destroy:function(){},initView:function(){var t=$.Deferred();return this.$().setModel(this.dataContext),this.$().process(e).done(function(){t.resolve()}),t},destroyView:function(){this.$().unprocess()},update:function(e){e&&console.log(e)}},Protected:{},Static:{}})}),define("sap.sbo.app.dashboard.QueryView",["sap.ui.Controller","sap.core.DestroyPool","sap.sbo.ui.Loop","sap.core.JsonModel","html!sap.sbo.app.dashboard.QueryView","css!sap.sbo.app.dashboard.QueryView","sap.core.event.DomCommand","sap.core.event.BehaviorCommand","sap.core.viewRegionManager","sap.sbo.services.QueryGroupsService","sap.sbo.services.QueriesService","sap.sbo.ui.widget.GroupableListView","sap.sbo.compoundservices.AnalyticService","sap.util","sap.core.DataList","sap.sbo.util.notification","sap.core.IViewRegionControlable"],function(){"use strict";var e=this.getNS(),t=e.sap,o=t.core.event.BehaviorCommand,a=t.core.event.DomCommand;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,Interfaces:[t.core.IViewRegionControlable],Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments),this.declareMember({__oService:this.autoDestroy(new t.sbo.compoundservices.AnalyticService),__oGroupsService:new t.sbo.services.QueryGroupsService,__queriesService:this.autoDestroy(new t.sbo.services.QueriesService),dataContext:new t.core.JsonModel({groups:[],title:"",gotoChartConfig:new a(this,this.gotoChart),chooseQuery:new o(this,this.queryChoosed)})})},destroy:function(){},initView:function(){var o=this,a=$.Deferred();return this.$().append(e.html.sap.sbo.app.dashboard.home),this.$().setModel(this.dataContext),this.$().process(e).done(function(){o.odataIscroll=new iScroll(o.$(".queryTable")[0],{hScroll:!1,vScrollbar:!1}),o.contentIscroll=new iScroll(o.$(".dataContent")[0],{vScroll:!1,vScrollbar:!1}),a.resolve()}),t.util.showLoading(),$.when(this.__oGroupsService.query()).done(function(e){var a=e.value;$.when(o.__queriesService.query()).done(function(e){a.forEach(function(t){t.groupName=t.name;var o=e.value.filter(function(e){return e.groupId===t.id});t.datas=[],o.forEach(function(e){var o={};$.extend(o,e),e.label=e.name,e.rawData=o,t.datas.push(e)}),t.count=t.datas.length}),o.dataContext.setValue("groups",a),t.util.hideLoading()})}),a},destroyView:function(){},update:function(e){e&&console.log(e)},preActiveAction:function(){var e=$.Deferred();return e.resolve(),e},postActiveAction:function(){var e=$.Deferred();return e.resolve(),e}},Protected:{selectedQuery:function(e){this.dataContext.setValue("title",e.name);var o=this,a=new t.core.DataList(e.properties).select("c=>c.displayLabel");t.util.showLoading(),$.when(this.__oService.query(e)).done(function(i){t.util.hideLoading(),o.queryResult=i,t.sbo.util.notification.notify("dashboard.selectedQuery",{queryBO:e,queryResult:i}),o.$(".headerSection").html(o.__createHeader(a)),o.$(".queryTable>.tablecontent").html(o.__createTable(i.data)),o.$(".queryTable").fadeIn("slow",function(){o.odataIscroll.refresh(),o.contentIscroll.refresh()}),o.$(".goto").removeClass("gotohidden")}).fail(function(){o.$(".goto").addClass("gotohidden")})},queryChoosed:function(e){var t=e.data.rawData;this.selectedQuery(t)},gotoChart:function(){t.core.viewRegionManager.activeViewToRegion("dashboardpanelregion","sap.sbo.app.dashboard.ConfigView")},__createHeader:function(e){var t=$("<div>").addClass("header");return e.forEach(function(e){t.append($("<div>").addClass("headerCol").text(e))}),t},__createTable:function(e){var t=$("<div>"),o=this;return e.value.forEach(function(e){t.append(o.__createRow(e.values.value))}),t},__createRow:function(e){var t,o=$("<div>").addClass("row"),a=$("<div>").addClass("cell").append($("<div>").addClass("data")),i=0;i=e.length;for(var s=0;i>s;s++)t=a.clone(),$(".data",t).text(e[s]),o.append(t);return o}},Static:{}})}),define("sap.sbo.app.home.PortraitTile",["sap.core.klass","sap.core.JsonModel","sap.ui.View","sap.sbo.layout.TileViewController","sap.log","sap.ui.Controller","sap.ui.common","sap.sbo.services.BaseService","sap.sbo.compoundservices.AttachmentService","sap.ui.widget.Photo"],function(){"use strict";var e=this.getNS(),t=e.sap,o=new t.core.JsonModel({imageSource:"./image/common/no-pic-avatar.jpg",imageID:-1});return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.layout.TileViewController,Public:{init:function(){t.sbo.layout.TileViewController.prototype.init.apply(this,arguments)},destroy:function(){},initView:function(){var a=$.Deferred();this.$().css({cursor:"pointer"}),this.$().setModel(o),this.$().process(e),a.resolve();var i=new t.sbo.compoundservices.AttachmentService;return $.when(i.getMyPortraitId()).done(function(e){e.value>-1&&(o.set("imageID",e.value),o.set("imageSource",t.sbo.services.BaseService.documentbase+"file/thumbnail/"+e.value))}).fail(function(){t.log.error("getMyPortraitId fails")}).always(function(){}),this.$("#user-picture").on("vclick",function(e){window.SboShell.gotoView("sap.sbo.page.pad.user.BasicInfo",[{keyName:"employeeID",keyValue:window.SboShell.getData("user.employeeID")}]),e.stopPropagation()}),a.promise()},destroyView:function(){this.$().unprocess()},update:function(){t.sbo.layout.TileViewController.prototype.update.apply(this,arguments)},getSupportedModes:function(){return["2x2","2x4","2xN"]}}})}),define("sap.sbo.app.home.ProfileDetails",["sap.log","sap.core.klass","sap.ui.Controller","sap.core.JsonModel","sap.ui.widget.Button","sap.ui.MessageBox","sap.sbo.ui.FrameViewController","sap.sbo.ui.widget.PhotoPicker","sap.sbo.ui.widget.UploadButton","sap.sbo.services.BaseService","sap.sbo.compoundservices.AttachmentService","sap.sbo.services.UserEmployeesService","sap.sbo.localization.Helper","css!sap.sbo.app.home.ProfileDetails","json!sap.sbo.services.service-config"],function(){"use strict";var e=this.getNS(),t=e.sap,o=e.json.sap.sbo.services["service-config"];return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Options:{userID:{type:"string",defaultValue:""},imageID:{type:"integer",defaultValue:-1}},Public:{init:function(){t.sbo.ui.FrameViewController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{__oModel:new t.core.JsonModel({imageSource:"./image/common/no-pic-avatar.jpg",salesEmployeeName:"",employeeID:"",firstName:"",lastName:"",jobTitle:"",mobilePhone:"",eMail:"",officePhone:""}),__oAttachmentService:this.autoDestroy(new t.sbo.compoundservices.AttachmentService),__onPickedProxy:$.proxy(this.__onPicked,this),__onUploadedProxy:$.proxy(this.__onUploaded,this),__bNotDesktop:!1})},destroy:function(){},initView:function(){var o=this;this.$().setModel(this.__oModel),this.__bNotDesktop="desktop"!==window.SboShell.callFeatureMethod("shell.getDeviceType"),this.__bNotDesktop?this.$('div[data-sbo-class="avatar-button-container"]').append($("<div>",{"data-sbo-class":"camera-picker","data-sap-widget":"sap.sbo.ui.widget.PhotoPicker","data-sap-option":"resourcetype: 'camera', text: '"+t.sbo.localization.Helper.get("common/CAMERA")+"'"})).append($("<div>",{"data-sbo-class":"photo-picker","data-sap-widget":"sap.sbo.ui.widget.PhotoPicker","data-sap-option":"resourcetype: 'album', text: '"+t.sbo.localization.Helper.get("common/ALBUM")+"'"})):this.$('div[data-sbo-class="avatar-button-container"]').append($("<div>",{"data-sbo-class":"photo-picker","data-sap-widget":"sap.sbo.ui.widget.UploadButton","data-sap-option":"accept: 'image/*', text: '"+t.sbo.localization.Helper.get("common/CHANGE_AVATAR")+"', autoupload: true"})),this.$().process(e),$.when(this.__oAttachmentService.getMyPortraitId()).done(function(e){e.value>-1&&o.__oModel.set("imageSource",t.sbo.services.BaseService.documentbase+"file/open/"+e.value)}).fail(function(e){t.log.error(e)}).always(function(){});var a=t.sbo.services.UserEmployeesService();$.when(a.query({filter:"userCode eq '"+this.getOption("userID")+"'"})).done(function(e){e.value&&e.value[0]?(o.__oModel.set("salesEmployeeName",e.value[0].salesEmployeeName),o.__oModel.set("employeeID",e.value[0].employeeID),o.__oModel.set("firstName",e.value[0].firstName),o.__oModel.set("lastName",e.value[0].lastName),o.__oModel.set("jobTitle",e.value[0].jobTitle),o.__oModel.set("mobilePhone",e.value[0].mobilePhone),o.__oModel.set("eMail",e.value[0].eMail),o.__oModel.set("officePhone",e.value[0].officePhone)):$.when(t.ui.MessageBox.show({message:o.getOption("userID")+" is not a user employee!",title:"Error",icon:"error",buttons:["ok"]}))}).fail(function(e){t.log.error(e)}).always(function(){}),this.__bNotDesktop?(this.$('div[data-sbo-class="camera-picker"]').getControl().attachEvent("uploadComplete",this.__onUploadedProxy),this.$('div[data-sbo-class="photo-picker"]').getControl().attachEvent("uploadComplete",this.__onUploadedProxy)):this.$('div[data-sap-widget="sap.sbo.ui.widget.UploadButton"]').getControl().attachEvent("uploadComplete",this.__onUploadedProxy)},destroyView:function(){this.__oModel.destroy(),this.__oModel=null,this.__bNotDesktop?(this.$('div[data-sbo-class="camera-picker"]').getControl().detachEvent("uploadComplete",this.__onUploadedProxy),this.$('div[data-sbo-class="photo-picker"]').getControl().attachEvent("uploadComplete",this.__onUploadedProxy)):this.$('div[data-sap-widget="sap.sbo.ui.widget.UploadButton"]').getControl().detachEvent("uploadComplete",this.__onUploadedProxy),this.$().unprocess()},update:function(){t.sbo.ui.FrameViewController.prototype.update.apply(this,arguments)}},Protected:{__onUploaded:function(e){if(e){this.__oAttachmentService.uploadEmployeePortrait(e);var t=o.documentBase+"file/open/"+e;this.__oModel.setValue("imageSource",t),this.callShell("refreshAvatar",t)}},__onPicked:function(e){this.__oModel.setValue("url",e)}},Static:{}})}),define("sap.sbo.app.Leads.LeadsTile",["sap.ui.Controller","sap.core.JsonModel","sap.ui.widget.TextField","sap.sbo.layout.TileViewController","sap.log","sap.ui.widget.Button","sap.sbo.services.LeadsService","sap.sbo.util.formatter"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.layout.TileViewController,Options:{},Public:{init:function(){t.sbo.layout.TileViewController.prototype.init.apply(this,arguments),this.declareMember({_oBOService:this.autoDestroy(new t.sbo.services.LeadsService),_fGotoBO:function(){var e="phone"==SboShell.__deviceType?"phone":"pad";SboShell.gotoView("sap.sbo.page."+e+".Leads.LeadsListView",{})},_oModel:new t.core.JsonModel({count:""})})},destroy:function(){},initView:function(){var t=$.Deferred();this.$().setModel(this._oModel),this.$().process(e),t.resolve(),this.$().on("vclick",this._fGotoBO);var o=this;return $.when(this._oBOService.count()).done(function(e){o._oModel.set("count",e)}).fail(function(){}),t.promise()},destroyView:function(){this.$().unprocess(),this.$().off("vclick",this._fGotoBO)},update:function(e){t.sbo.layout.TileViewController.prototype.update.apply(this,arguments),e.mode&&(t.log.info("Change mode to :"+this.getOption("mode")),this.$("[field='modeText']").text(this.getOption("mode")))},getSupportedModes:function(){return["2x2","2x4"]}}})}),define("sap.sbo.app.notepage.NotePageTile",["sap.ui.Controller","sap.core.klass","sap.core.JsonModel","sap.ui.widget.TextField","sap.sbo.layout.TileViewController","sap.log","sap.sbo.services.NotePageService","sap.formatter","css!sap.sbo.app.notepage.NotePageTile","sap.sbo.page.common.notepage.NotePageUtil","sap.sbo.localization.Helper","sap.sbo.shell.IFeaturable","sap.ui.widget.Icon","sap.ui.Repeat","sap.sbo.util.formatter","sap.sbo.app.task.taskUtil"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.layout.TileViewController,Interfaces:[t.sbo.shell.IFeaturable],Options:{},Public:{init:function(){t.sbo.layout.TileViewController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{__oModel:new t.core.JsonModel({title:t.sbo.localization.Helper.get("app/memo/MEMOS"),count:"",details:[]}),__boEntityKey:null,__oService:new t.sbo.services.NotePageService,__clickProxy:$.proxy(this.__onClickTop,this),__clickAddMemo:$.proxy(this.__AddMemo,this),__bToChangeColorBack:!1})},destroy:function(){this.__oService.destroy(),this.__oService=null,this.__oModel.destroy(),this.__oModel=null,this.__list=null},initView:function(){var e=$.Deferred(),t=window.SboShell.callFeatureMethod("shell.getDeviceType");"phone"===t&&$("div[data-sbo-class='count']").hide(),this.DisplayByClass();var o=window.SboShell;if(o.isFeatureAvailable("bo.getBoEntityKey")){var a=o.callFeatureMethod("bo.getBoEntityKey");this.__boEntityKey=a}else{var a={};a.boNamespace="com.sap.sbo",a.boName="User";var i=[],s={};s.keyName="internalKey",s.keyValue=window.SboShell.getData("user.internalKey"),i.push(s),a.keyElements=i,this.__boEntityKey=a}return window.SboShell.storeData("notePageTile.boEntityKey",JSON.stringify(this.__boEntityKey)),this.$().setModel(this.__oModel),this.__LoadData(2,e),this.$().on("vclick",this.__clickProxy),this.$().on("vclick",".notepage-add-icon",this.__clickAddMemo),e.promise()},destroyView:function(){this.$().off("vclick",this.__clickProxy),this.$().off("vclick",".notepage-add-icon",this.__clickAddMemo),window.SboShell.removeData("notePageTile.boEntityKey"),this.$().unprocess()},update:function(e){(e.data||e.mode)&&this.DisplayStrategy()},doFeature:function(e){switch(e){case"system.getBOEntityKey":return this.__boEntityKey}},getSupportedModes:function(){return["1x1","2x1","2x2","2x4"]}},Protected:{__loadInfo:function(){var e=this;$.when(this.__oService.getNotebookInfo(this.__boEntityKey)).done(function(t){if(t){var o=t.pageCount;o!==e.__oModel.getValue("count")&&(e.__oModel.setValue("count",o),e.DisplayStrategy());var a=t.dateLastEdit;a!==e.__oModel.getValue("dateLastEdit")&&e.__oModel.setValue("dateLastEdit",a)}}).fail(function(){}).always(function(){})},__LoadData:function(t,o){this.__loadInfo();var a=this,i={};i.location=0,i.length=t,$.when(a.__oService.getPagesByRange(a.__boEntityKey,i)).done(function(e){e||(e={},e.value=[]),a.__oModel.setValue("details",e.value),a.DisplayStrategy()}).fail(function(){}).always(function(){a.$().process(e),o.resolve()})},__onClickTop:function(){var e=this,t=window.SboShell.callFeatureMethod("shell.getDeviceType");"phone"===t?window.SboShell.gotoView("sap.sbo.page.phone.notepage.NotePageList",{bo:e.__boEntityKey}):window.SboShell.gotoView("sap.sbo.page.pad.notepage.NotePageList",{bo:e.__boEntityKey})},__AddMemo:function(){var e=this,o=window.SboShell.callFeatureMethod("shell.getDeviceType");return"phone"===o?window.SboShell.gotoView("sap.sbo.page.phone.notepage.NotePageDialog",{noteID:"",mode:"create",bo:e.__boEntityKey}):window.SboShell.openFrame({view:"sap.sbo.page.pad.notepage.NotePageDialog",type:"center",width:t.sbo.page.common.notepage.NotePageUtil.PadMemoDialogDimension.width,height:t.sbo.page.common.notepage.NotePageUtil.PadMemoDialogDimension.height,options:{noteID:"",bo:e.__boEntityKey,mode:"create"},callback:function(t,o){"close"===t&&o&&o.result&&(e.DisplayStrategy(),e.__LoadData(2))}}),!1},DisplayByClass:function(e){"PhoneMemoSmall"!=e&&this.$("div[mode-class = 'PhoneMemoSmall']").hide(),"PhoneMemoShowDetails"!=e&&this.$("div[mode-class = 'PhoneMemoShowDetails']").hide(),"PadMemoSmall"!=e&&this.$("div[mode-class = 'PadMemoSmall']").hide(),"PadMemoShowDetails"!=e&&this.$("div[mode-class = 'PadMemoShowDetails']").hide(),e&&this.$("div[mode-class = '"+e+"']").show()},DisplayStrategy:function(){var e=this,t=window.SboShell.callFeatureMethod("shell.getDeviceType"),o=this.getOption("mode");o&&("phone"==t?"1x1"==o?this.DisplayByClass("PhoneMemoSmall"):"2x1"==o?(this.DisplayByClass("PhoneMemoShowDetails"),e.__oModel.getValue("count")>0?(e.$(".notepage-empty-container22").hide(),e.$('div[data-sfa-class="notePagePhone22-list"]').show(),e.__oModel.setValue("details",[e.__oModel.getValue("details")[0]])):0===e.__oModel.getValue("count")&&(e.$(".notepage-empty-container22").show(),e.$("div[data-sfa-class='notePagePhone22-list']").hide())):"2x2"==o?this.DisplayByClass("PhoneMemoShowDetails"):"1x4"==o?this.DisplayByClass("PhoneMemoShowDetails"):this.DisplayByClass("PhoneMemoSmall"):"2x2"==o?this.DisplayByClass("PadMemoSmall"):"1x2"==o?this.DisplayByClass("PadMemoSmall"):"2x4"==o?(this.DisplayByClass("PadMemoShowDetails"),e.__oModel.getValue("count")>0?(e.$(".notepage-empty-container24").hide(),e.$('div[data-sfa-class="notePagePad24-list"]').show()):0===e.__oModel.getValue("count")&&(e.$(".notepage-empty-container24").show(),e.$("div[data-sfa-class='notePagePad24-list']").hide())):this.DisplayByClass("PadMemoSmall"))}}})}),define("sap.sbo.app.Product.ProductTile",["sap.ui.Controller","sap.core.JsonModel","sap.ui.widget.TextField","sap.sbo.layout.TileViewController","sap.log","sap.ui.widget.Button","sap.sbo.util.formatter","sap.sbo.services.ItemsService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.layout.TileViewController,Options:{},Public:{init:function(){t.sbo.layout.TileViewController.prototype.init.apply(this,arguments),this.declareMember({_oItemsService:this.autoDestroy(new t.sbo.services.ItemsService),_fGotoProduct:function(){var e="phone"==SboShell.__deviceType?"phone":"pad";window.SboShell.gotoView("sap.sbo.page."+e+".Product.ProductCardView")},_oModel:new t.core.JsonModel({count:0})})},destroy:function(){},initView:function(){var t=$.Deferred();this.$().setModel(this._oModel),this.$().process(e),this.$().on("vclick",this._fGotoProduct),t.resolve();var o=this;return $.when(this._oItemsService.count()).done(function(e){o._oModel.set("count",e)}),t.promise()},destroyView:function(){this.$().unprocess(),this.$().off("vclick",this._fGotoProduct)},update:function(e){t.sbo.layout.TileViewController.prototype.update.apply(this,arguments),e.mode&&(t.log.info("Change mode to :"+this.getOption("mode")),this.$("[field='modeText']").text(this.getOption("mode")))},getSupportedModes:function(){return["2x2","2x4"]}}})}),define("sap.sbo.app.report.PropertySetting",["sap.ui.Control","html!sap.sbo.app.report.PropertySetting","css!sap.sbo.app.report.PropertySetting","sap.ui.widget.TextField","sap.core.JsonModel","sap.sbo.ui.widget.MultiStateIcon","sap.core.event.BehaviorCommand"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Control.declare({Name:this.getModuleInfo().moduleName,DomClass:"sap-sbo-propertySetting",Events:[],PublicMethods:[],Options:{},Public:{init:function(){var o=this;t.ui.Control.prototype.init.apply(this,arguments),this.declareMember({dataContext:new t.core.JsonModel({data:{displayLabel:""},delItem:new t.core.event.BehaviorCommand(this,this.__delItem)})}),this.$().append(e.html.sap.sbo.app.report.PropertySetting),this.$().setModel(this.dataContext,"propertyItem"),this.$(".container").process(e),this.dataContext.attachEvent("databinded",function(e){if(o.tableInstance)switch(e){case"data/displayLabel":o.tableInstance.__refreshTH();break;case"data/sortType":o.$().trigger("queryDesigner-fetchTableData")}}),$(".queryDesigner-main").on("vclick",function(e){var t=$(e.target);t.hasClass("headerItem")||"TH"===t[0].nodeName||o.isShow===!0&&0===t.parents(".PropertySetting.sap-sbo-propertySetting").length&&o.hide()})},setTableInstance:function(e){this.tableInstance=e},destroy:function(){},update:function(){},updateData:function(e){this.dataContext.setValue("data",e)},hide:function(){this.isShow=!1,this.$().hide()},show:function(){this.isShow=!0,this.$().show()}},Protected:{__delItem:function(){this.$().trigger("queryDesigner-deleteProperty",[this.dataContext.getValue("data")]),this.hide()}}})}),define("sap.sbo.app.report.PropertySettingManager",["sap.sbo.app.report.PropertySetting"],function(){var e=this.getNS(),t={},o=!1,a=function(t){var a=$.Deferred();return o?(a.resolve(),a):(t.$(".tableContent").append("<div class='PropertySetting' data-sap-widget='sap.sbo.app.report.PropertySetting'></div>"),t.$(".PropertySetting").process(e).done(function(){o=!0,a.resolve()}),a)};return t.openFor=function(e,t,o,i){a(e).done(function(){var a=t.offsetParent().offset(),s=t.offset(),n=$(".sap-sbo-propertySetting"),r=n.getControl();r.show(),r.setTableInstance(e);var l=e.$(".header th").length;r.updateData(o),n.css({top:s.top-a.top+t.height()+10}),"0"===t.attr("data-index")?n.css({left:s.left-a.left-i.x}):t.attr("data-index")===l-1+""?n.css({left:s.left-a.left-e.$(".PropertySetting").width()+t.width()-i.x}):n.css({left:s.left-a.left+t.width()/2-e.$(".PropertySetting").width()/2-i.x})})},t}),define("sap.sbo.app.report.TableList",["sap.ui.Control","css!sap.sbo.app.report.TableList","sap.sbo.app.report.PropertySettingManager"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Control.declare({Name:this.getModuleInfo().moduleName,DomClass:"sap-sbo-page-pad-report-TableList",Events:["table-header-click"],PublicMethods:[],Options:{headers:{type:"array",arrayType:{type:"any"},defaultValue:[],keepRef:!0},datas:{type:"array",arrayType:{type:"any"},defaultValue:[]},headerHeight:{type:"integer",defaultValue:35,immutable:!0},configable:{type:"boolean",defaultValue:!1,immutable:!0}},Public:{init:function(){t.ui.Control.prototype.init.apply(this,arguments),this.declareMember({}),this.__createHeaderTable(),this.__createTable()},destroy:function(){},update:function(e){e.headers&&this.__createTH(),e.datas&&this.__createRow()}},Protected:{__refreshHscroll:function(){this.__hScroll&&this.__hScroll.refresh()},__createTable:function(){this.$table||(this.$table=$("<table>"),this.$table.append($("<tbody>"))),this.$(".tableContent").append($("<div>").addClass("dataTable").append(this.$table))
},__createHeaderTable:function(){var e=this;this.$().append($("<div>").addClass("tableContent")),this.$thTable||(this.$thTable=$("<table>")),this.$(".tableContent").append(this.$thTable),this.getOption("configable")&&this.$thTable.on("vclick","th",function(o){var a=e.getOption("headers"),i=$(o.currentTarget),s=a[i.attr("data-index")];t.sbo.app.report.PropertySettingManager.openFor(e,i,s,e._hScroll)})},__refreshTH:function(){var e=this.th,t=this.getOption("configable"),o=$("<div>").addClass("headerItem"),a=$("<th>");t&&o.addClass("config"),this.th||(e=this.th=$("<tr>").addClass("header")),0===$(".header",this.$thTable).length&&this.$thTable.append($("<thead>").append(e)),e.empty();var i=this.getOption("headers");this.$table.width(200*i.length),this.$thTable.width(200*i.length),i.forEach(function(t,i){e.append(a.clone().attr("data-index",i).append(o.clone().text(t.displayLabel)))}),this._hScroll||(this._hScroll=new iScroll(this.$()[0],{vScroll:!1})),this._hScroll.refresh()},__createTH:function(){this.__clearTableData(),this.__refreshTH()},__clearTableData:function(){$("tbody",this.$table).empty(),this._iscroll&&this._iscroll.refresh()},__createRow:function(){this._iscroll||(this._iscroll=new iScroll(this.$(".dataTable")[0],{hScroll:!1})),this.__clearTableData(),0===$("tbody",this.$table).length&&this.$table.append($("<tbody>"));var e,t,o=$("tbody",this.$table),a=$("<tr>").addClass("row"),i=this.getOption("datas"),s=$("<td>").addClass("cell").append($("<div>").addClass("data")),n=0;n=i.length;for(var r=0;n>r;r++)e=a.clone(),i[r].values.value.forEach(function(o){t=s.clone(),$(".data",t).text(o),e.append(t)}),o.append(e);this._iscroll.refresh()}}})}),define("sap.sbo.app.report.tile",["sap.ui.Controller","sap.sbo.layout.TileViewController","sap.log","sap.ui.widget.Button","sap.core.klass","sap.core.JsonModel","sap.sbo.services.QueriesService","sap.sbo.ui.widget.ReportWidget","sap.sbo.util.formatter","css!sap.sbo.page.boTile"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.layout.TileViewController,Options:{},Public:{init:function(){t.sbo.layout.TileViewController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{_oService:new t.sbo.services.QueriesService,_oModel:new t.core.JsonModel({count:"",bigvisibility:"hidden"})})},destroy:function(){this._oService.destroy()},initView:function(){var t=$.Deferred();this.$().setModel(this._oModel),this.$().process(e),t.resolve();var o=this;return $.when(this._oService.count()).done(function(e){o._oModel.set("count",e)}),this.$().on("vclick",function(){var e="phone"==SboShell.__deviceType?"phone":"pad";window.SboShell.gotoView("sap.sbo.page."+e+".report.queryListView")}),t.promise()},destroyView:function(){this.$().unprocess()},update:function(e){if(t.sbo.layout.TileViewController.prototype.update.apply(this,arguments),e.mode){var o=this.getOption("mode");t.log.info("Change mode to :"+this.getOption("mode")),this.$("[field='modeText']").text(this.getOption("mode")),"2x4"===o||"2x2"===o?this._oModel.set("bigvisibility","visible"):this._oModel.set("bigvisibility","hidden")}},getSupportedModes:function(){return["2x2"]}}})}),define("sap.sbo.app.queryDesigner.ChartHelper",["sap.core.DataList","noamdjs!sap.sbo.libs.cvom.d3-v2","noamdjs!sap.sbo.libs.cvom.sap-viz"],function(e){var t={},o=window.sap.viz.data.CrosstableDataset;return new o,t.showChart=function(e,t,o){var a=window.sap.viz.data.CrosstableDataset,i=new a;i.setData(t);var s={title:{visible:!0,text:""},xaxis:{title:{visible:!1}}},n=window.sap.viz.core;n.createViz({type:e,data:i,container:o,options:s})},t.convertToCrosstable=function(t,o,a,i){var s={},n={analysisAxis:[],measureValuesGroup:[{index:1,data:[]}]},r=new e([]);t=new e(t);var l=[];0===a.aa2.length&&(l=i,t.push("MND"),a.aa2=["MND"]),o=new e(o),t.forEach(function(t){s[t]=new e([])}),o.forEach(function(e){var o=e.values.value,a={};l.length>0?l.forEach(function(e){a={};var i=[];$.extend(i,o),i.push(e),i.forEach(function(e,o){a[t[o]]=e,s[t[o]].push(e)}),r.push(a)}):(o.forEach(function(e,o){a[t[o]]=e,s[t[o]].push(e)}),r.push(a))});var d={index:1,data:[]},p={index:2,data:[]};a.aa1.forEach(function(e){d.data.push({type:"Dimension",name:e,values:s[e].distinct()})}),a.aa2.forEach(function(e){p.data.push({type:"Dimension",name:e,values:s[e].distinct()})}),n.analysisAxis.push(d),n.analysisAxis.push(p);var c=d.data[0],u=c.values,h=p.data[0],b=h.values;return i.forEach(function(e){var t={type:"Measure",name:e,values:[]};b.forEach(function(o){var a=r.query("c=>c['"+h.name+"']=='"+o+"'"),i=[];u.forEach(function(t){var o=a.query("c=>c['"+c.name+"']=='"+t+"'").sum("c=>c."+e);i.push(o)}),t.values.push(i)}),n.measureValuesGroup[0].data.push(t)}),n},t.createds=function(){},t}),define("sap.sbo.app.queryDesigner.FieldColumn",["sap.ui.Controller","sap.core.DestroyPool","sap.sbo.ui.Loop","sap.ui.widget.TextField","sap.formatter","sap.sbo.ui.widget.MultiStateIcon","css!sap.sbo.app.queryDesigner.FieldColumn","sap.core.JsonModel","sap.ui.widget.DropDownBox","sap.sbo.util.notification","sap.core.DataList","sap.sbo.ui.widget.MultiStateContent"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments),this.declareMember({__fieldchangeProxy:$.proxy(this.__fieldchang,this),__oDestroyPool:null,__fieldFullData:null,dataContext:new t.core.JsonModel({sortMeta:[],aggregationMeta:[],dateFormatMeta:[],halflayout:"",dateclass:"",filterState:0,filtercount:4,filterTypes:[],filterData:{value:""}})})},destroy:function(){},initView:function(){var o=this,a=window.SboShell.callFeatureMethod("queryDesigner.getModel"),i=this.$().findModel("loop").getValue("data"),s=[],n=new t.core.DataList(a.getValue("allFields"));this.dataContext.setValue("sortMeta",new t.core.DataList(a.getValue("sortMeta").members.value).select("c=>c.name"));var r=new t.core.DataList(n.query("c=>c.name==='"+i.boName+"'").first().properties.value).first("c=>c.name==='"+i.name+"'");o.__fieldFullData=r;var l=new t.core.DataList(a.getValue("aggregationMeta").members.value);s=r.measure?l.select("c=>c.name,c.validValue"):new t.core.DataList(a.getValue("aggregationMeta").members.value).query('c=>c.name==="none"||c.name==="count"').select("c=>c.name,c.validValue"),"date"===r.category?(this.dataContext.setValue("dateFormatMeta",a.getValue("dateFormatMeta").members.value),this.dataContext.setValue("halflayout","halflayout"),this.dataContext.setValue("filtercount",1),this.dataContext.setValue("filterTypes",["fromto"])):(this.dataContext.setValue("dateclass","dfhide"),"text"===r.category?(this.dataContext.setValue("filtercount",3),this.dataContext.setValue("filterTypes",["eq","like","in"])):("number"===r.category||"id"===r.category)&&(this.dataContext.setValue("filtercount",2),this.dataContext.setValue("filterTypes",["eq","fromto"]))),this.dataContext.setValue("aggregationMeta",s),this.$().setModel(this.dataContext,"meta");var d=$.Deferred();return this.__oDestroyPool=new t.core.DestroyPool,this.__oDestroyPool.add(this.$(),this.$().unprocess).process(e).done(function(){d.resolve()}),this.$(".icon.sort").getControl().attachEvent("change",this.__fieldchangeProxy),this.$(".aggregateion").getControl().attachEvent("change",this.__fieldchangeProxy),this.$(".date").getControl().attachEvent("change",this.__fieldchangeProxy),this.$(".newfilter").on("vclick",this,this.__newFilter),this.$(".lastgroupitem.close").on("vclick",this,this.__closeFilter),this.$(".groupitem.eq").on("vclick",this,this.__showEq),this.$(".groupitem.like").on("vclick",this,this.__showLike),this.$(".groupitem.in").on("vclick",this,this.__showIn),this.$(".groupitem.fromto").on("vclick",this,this.__showRang),this.$(".filtercontent .close").on("vclick",this,this.__closeContent),d.promise()},destroyView:function(){this.__oDestroyPool.destroy(),this.__oDestroyPool=null,this.$(".newfilter").off("vclick",this,this.__newFilter),this.$(".lastgroupitem.close").off("vclick",this,this.__closeFilter),this.$(".groupitem.eq").off("vclick",this,this.__showEq),this.$(".groupitem.like").off("vclick",this,this.__showLike),this.$(".groupitem.in").off("vclick",this,this.__showIn),this.$(".groupitem.fromto").off("vclick",this,this.__showRang),this.$(".filtercontent .close").off("vclick",this,this.__closeContent)},update:function(e){e&&console.log(e)}},Protected:{__fieldchang:function(){t.sbo.util.notification.notify("queryDesigner.fieldchange",this)},__newFilter:function(e){var t=e.data,o=t.dataContext.getValue("filterTypes"),a=t.$(".groupitem"),i=t.$(".filterpanel");a.hide(),o.forEach(function(e){$("."+e,i).show()}),t.dataContext.setValue("filterState",1)},__closeFilter:function(e){var t=e.data;t.dataContext.getValue("filterState"),t.dataContext.setValue("filterState",0)},__showEq:function(e){var t=e.data;t.$(".eqSetting").show(),t.dataContext.setValue("filterState",2)},__showLike:function(e){var t=e.data;t.__showEq(e)},__showIn:function(){},__showRang:function(){},__closeContent:function(e){var t=e.data;t.dataContext.setValue("filterState",0)}},Static:{}})}),define("sap.sbo.app.queryDesigner.GroupsHome",["sap.ui.Controller","sap.core.DestroyPool","sap.sbo.ui.Loop","sap.sbo.services.QueryGroupsService","sap.ui.widget.TextField","sap.formatter","sap.core.JsonModel","css!sap.sbo.app.queryDesigner.GroupsHome","sap.core.event.CommandManager","sap.core.event.DomCommand","sap.ui.widget.TextArea","sap.sbo.ui.FrameViewController","sap.util"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Public:{init:function(){t.sbo.ui.FrameViewController.prototype.init.apply(this,arguments),this.declareMember({__oDestroyPool:null,dataContext:new t.core.JsonModel({allGroups:[],addGroup:new t.core.event.DomCommand(this,this.__addGroup)}),itemsCountChanged:$.proxy(this.__itemsCountChanged,this),__state:null})},destroy:function(){},initView:function(){var o=$.Deferred(),a=this;return this.__oGroupsService=new t.sbo.services.QueryGroupsService,this.__oDestroyPool=new t.core.DestroyPool,this.$().setModel(this.dataContext),this.__oDestroyPool.add(this.$(),this.$().unprocess).process(e).done(function(){}),$.when(this.__oGroupsService.query()).done(function(e){a.dataContext.setValue("allGroups",e.value),o.resolve(),console.info(e)}),this.$().on("vclick",".edit",this,this.__edit),this.$().on("vclick",".ok",this,this.__save),this.$().on("vclick",".cancel",this,this.__cancel),this.$("#loop").getControl().attachEvent("itemsCountChanged",this.itemsCountChanged),o.promise()},destroyView:function(){this.$().off("vclick",".edit",this.__edit),this.__oDestroyPool.destroy(),this.__oDestroyPool=null},update:function(e){e&&console.log(e)}},Protected:{__cancel:function(e){var t=e.data,o=$(e.currentTarget).parents(".dataItem");if("new"===t.__state){var a=t.dataContext.getValue("allGroups");a.pop(),t.dataContext.setValue("allGroups",a)}t.__removeEditStatus(o),t.__state=null},__itemsCountChanged:function(){if("new"===this.__state){var e=this.$(".dataItem").last();this.__setEditStatus(e)}},__save:function(e){var o,a=$(e.currentTarget).parents(".dataItem"),i=e.data;o=a.findModel().getValue("data"),"new"===i.__state?(t.util.showLoading(),$.when(i.__oGroupsService.create(o)).done(function(){i.__removeEditStatus(a),i.__state=null,t.util.hideLoading()})):"edit"===i.__state&&(t.util.showLoading(),$.when(i.__oGroupsService.update(o,{id:o.id})).done(function(){i.__state=null,i.__removeEditStatus(a),t.util.hideLoading()}))},__setEditStatus:function(e){e.addClass("dataItemEdit"),this.$(".hoverable").removeClass("hoverable"),$("input",e).getControl().setOption("readonly",!1),$("textarea",e).getControl().setOption("readonly",!1)},__removeEditStatus:function(e){e.removeClass("dataItemEdit"),this.$(".dataItem").addClass("hoverable"),$("input",e).getControl().setOption("readonly",!0),$("textarea",e).getControl().setOption("readonly",!0)},__edit:function(e){var t=$(e.currentTarget).parents(".dataItem"),o=e.data;o.__state="edit",o.__setEditStatus(t)},__addGroup:function(){var e=this;"new"!==e.__state&&"edit"!==e.__state&&$.when(this.__oGroupsService.getInit()).done(function(t){t.name="",t.description="",e.dataContext.setValue("allGroups",e.dataContext.getValue("allGroups").concat(t)),console.info(t),e.__state="new"})}},Static:{}})}),define("sap.sbo.app.queryDesigner.Home",["sap.ui.Controller","sap.sbo.ui.PageController","sap.ui.View","sap.core.JsonModel","sap.sbo.shell.IFeaturable","css!sap.sbo.app.queryDesigner.Home","sap.sbo.services.QueriesService","sap.sbo.services.QueryGroupsService","sap.sbo.util.notification","sap.core.DataList","sap.log","sap.core.DataList","noamdjs!sap.sbo.libs.cvom.d3-v2","noamdjs!sap.sbo.libs.cvom.sap-viz"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.PageController,Interfaces:[t.sbo.shell.IFeaturable],Public:{init:function(){t.sbo.ui.PageController.prototype.init.apply(this,arguments),this.declareMember({__isNew:!0,__queriesService:this.autoDestroy(new t.sbo.services.QueriesService),__queryGroupsService:this.autoDestroy(new t.sbo.services.QueryGroupsService),fieldDataTmpl:null,__model:this.autoDestroy(new t.core.JsonModel({queryBO:null,sortMeta:null,aggregationMeta:null,dateFormatMeta:null,allFields:[],chartType:[{name:"column"},{name:"line"},{name:"pie"},{name:"bar"},{name:"3d_bar"}],selectedChart:"column",dimensions:[{name:1,dimension:"none"}],measures:[{name:"1",selected:!1}],dimensionTypes:[{name:"none",value:"none"},{name:"analysis axis1",value:"aa1"},{name:"analysis axis2",value:"aa2"}]})),__queryBOMeta:null,addColumnProxy:$.proxy(this.__addColumn,this),selectQueryProxy:$.proxy(this.__selectQuery,this),loadedFieldsProxy:$.proxy(this.__loadedFields,this),__fieldchangeProxy:$.proxy(this.__fieldchange,this)}),t.sbo.util.notification.subscribe("queryDesigner.addColumn",this.addColumnProxy),t.sbo.util.notification.subscribe("queryDesigner.selectQuery",this.selectQueryProxy),t.sbo.util.notification.subscribe("queryDesigner.fields",this.loadedFieldsProxy),t.sbo.util.notification.subscribe("queryDesigner.fieldchange",this.__fieldchangeProxy),window.SboShell.addFeature(this,"queryDesigner.getModel","method"),this.autoDestroy("remove the queryDesigner feature",window.SboShell.removeFeature.bind(window.SboShell,"queryDesigner.getModel")),window.SboShell.addFeature(this,"queryDesigner.loadingError","method"),this.autoDestroy("remove the queryDesigner feature",window.SboShell.removeFeature.bind(window.SboShell,"queryDesigner.loadingError")),window.SboShell.addActionButtons([{text:"Open",key:"open"},{text:"Save",key:"save"},{text:"Chart View",key:"chart-view"},{text:"Groups",key:"Groups"}],this),window.SboShell.attachEvent("actionButtonClick",this.autoDestroy(function(e){this["on_"+e]&&this["on_"+e]()}.bind(this),function(){window.SboShell.detachEvent("actionButtonClick",this)}))},on_open:function(){window.SboShell.openFrame({view:"sap.sbo.app.queryDesigner.Open",type:"right",options:{},callback:function(){}})},on_save:function(){var e=this;window.SboShell.openFrame({view:"sap.sbo.app.queryDesigner.SaveQuery",type:"right",options:{queryBO:e.__model.getValue("queryBO")},callback:function(){}})},"on_chart-view":function(){var e=this,o=e.__model.getValue("queryBO"),a=new t.core.DataList(e.__model.getValue("allFields")),i=new t.core.DataList([]),s=new t.core.DataList([]);void 0!==o&&(o.properties.forEach(function(e){var o=new t.core.DataList(a.query("c=>c.name==='"+e.boName+"'").first().properties.value).first("c=>c.name==='"+e.name+"'"),n={name:e.displayLabel};o.dimension&&(n.dimension="none",i.push(n)),o.measure&&(n.selected=!1,s.push(n))}),e.__model.setValue("dimensions",i),e.__model.setValue("measures",s),this.$(".queryTable").hide(),this.$(".ChartSetting").show(),e.$(".chartview").hide())},on_Groups:function(){window.SboShell.openFrame({view:"sap.sbo.app.queryDesigner.GroupsHome",type:"right",options:{},callback:function(){}})},destroy:function(){},initView:function(){var o=$.Deferred(),a=this;return this.$().setModel(this.__model),this.setTitle("[new query]"),this.$().process(e).done(function(){$.when(a.__queriesService.getInit()).done(function(e){a.__model.setValue("queryBO",e),$.when(a.__queriesService.getMetadata("com.sap.sbo","UserQuery"),a.__queriesService.getInitBoNode(e,"Root/properties")).done(function(e,i){a.__queryBOMeta=e;var s=new t.core.DataList(e.enumerations.value);a.__model.setValue("sortMeta",s.first("d=>d.name==='SortType'")),a.__model.setValue("aggregationMeta",s.first("d=>d.name==='AggregationType'")),a.__model.setValue("dateFormatMeta",s.first("d=>d.name==='DateFormatType'")),a.fieldDataTmpl=i.properties.pop(),a.fieldDataTmpl.aggregationType=new t.core.DataList(a.__model.getValue("aggregationMeta").members.value).first("d=>d.name==='none'").name,a.fieldDataTmpl.dateFormatType=new t.core.DataList(a.__model.getValue("dateFormatMeta").members.value).first("d=>d.name==='date'").name,o.resolve(),a.loadView("sap.sbo.app.queryDesigner.Main")})})}),o.promise()},destroyView:function(){this.$().unprocess(),t.sbo.util.notification.unsubscribe("queryDesigner.addColumn",this.addColumnProxy),t.sbo.util.notification.unsubscribe("queryDesigner.selectQuery",this.selectQueryProxy),t.sbo.util.notification.unsubscribe("queryDesigner.fields",this.loadedFieldsProxy),t.sbo.util.notification.unsubscribe("queryDesigner.fieldchange",this.__fieldchangeProxy)},update:function(){},loadView:function(e){this.$(".sbo-bqd-view").getControl().setOption("data",{test:"abc"}),this.$(".sbo-bqd-view").getControl().setOption("name",e)},doFeature:function(e,t){switch(e){case"queryDesigner.getModel":return this.__model;case"queryDesigner.loadingError":alert(t.getMessage())}}},Protected:{__fieldchange:function(e){t.log.info("field changed"),console.info(e);var o=this.__model.getValue("queryBO");t.sbo.util.notification.notify("queryDesigner.doQuery",o)},__addColumn:function(e){var o={},a=this.__model.getValue("queryBO");$.extend(o,this.fieldDataTmpl),o.boName=e.boName,o.name=e.fieldInternalName,o.label=e.fieldName,o.displayLabel=e.fieldName,o.boLabel=e.boLabel,o.boNamespace=e.namespace,a.properties.push(o),this.__model.setValue("queryBO",a),t.sbo.util.notification.notify("queryDesigner.doQuery",a)},__selectQuery:function(e){this.__model.setValue("queryBO",e),t.sbo.util.notification.notify("queryDesigner.doQuery",e)},__loadedFields:function(e){this.__model.setValue("allFields",e)}},Static:{}})}),define("sap.sbo.app.queryDesigner.LeftPanel",["sap.ui.Controller","sap.ui.widget.Tab","sap.ui.widget.TextField","sap.sbo.ui.Loop","sap.core.JsonModel","sap.sbo.compoundservices.AnalyticService","css!sap.sbo.app.queryDesigner.LeftPanel","sap.sbo.util.notification","sap.core.DestroyPool"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments),this.declareMember({__oService:this.autoDestroy(new t.sbo.compoundservices.AnalyticService),__model:this.autoDestroy(new t.core.JsonModel({searchTerm:"",category:"transactional",filterType:""}))}),this.__model.attachEvent("valueChanged",function(e,t){"searchTerm"===e&&"@UPDATE"===t&&this.__updateFields()}.bind(this))},destroy:function(){},initView:function(){this.__oDestroyPool=new t.core.DestroyPool;var o=$.Deferred();return this.$().css("visibility","hidden"),$.when(this.__oService.getMetaData()).done(function(a){a.meta.value.forEach(function(e){e.boFilterdFieldLength=e.properties.value.length}),this.__model.setValue("boData",a.meta.value),t.sbo.util.notification.notify("queryDesigner.fields",a.meta.value),this.$().setModel(this.__model,"leftPanel"),$.when(this.$().process(e)).done(function(){this.__updateFields(),this.__$content=this.$(".bocontent"),this.$(".tab").getControl().attachEvent("change",function(e){this.__model.setValue("category",0===e?"transactional":"master")}.bind(this)),this.$(".businessDoc>.header>.toolbar").on("vclick",".icon",function(e){this.__model.setValue("filterType",$(e.target).attr("data-type")),this.__updateFields()}.bind(this)),this.$(".bo-repeat").on("vclick",".bo>.title",function(){$(this).parents(".bo:first").toggleClass("collapsed")}),this.$(".bo-repeat").on("vclick",".bo>.fields>.boField",function(){var e=$(this).findModel("").getValue(""),o=$(this).parent().findModel("").getValue("");t.sbo.util.notification.notify("queryDesigner.addColumn",{namespace:o.data.namespace,boCode:o.data.code,boLabel:o.data.label,boName:o.data.name,fieldName:e.data.label,fieldInternalName:e.data.name})}),o.resolve(),this.$().css("visibility","visible")}.bind(this))}.bind(this)).fail(function(e){window.SboShell.raiseException(e),o.reject(e),window.SboShell.callFeatureMethod("queryDesigner.loadingError",e)}),o.promise()},destroyView:function(){this.$().unprocess()},update:function(e){e&&console.log(e)},__updateFields:function(){function e(e,t){var a=e.label.toUpperCase();t=t.toUpperCase().trim();var i={len:t.length,start:a.indexOf(t)};return o.test(e.category)&&-1!==i.start&&i}for(var t=this.__model.getValue(),o=RegExp(t.filterType),a=0;t.boData.length>a;++a){for(var i=0,s=t.boData[a].properties.value,n=0;s.length>n;++n)e(s[n],t.searchTerm)&&i++;this.__model.setValue("boData/"+a+"/boFilterdFieldLength",i)}this.$(".bo-repeat .boField").each(function(){var o=$(this),a=o.findModel("").getValue("data"),i=e(a,t.searchTerm);i?(0===i.len?o.find(".fieldName").text(a.label):o.find(".fieldName").empty().append($("<span>",{text:a.label.substr(0,i.start)}),$("<span>",{"class":"searchText",text:a.label.substr(i.start,i.len)}),$("<span>",{text:a.label.substr(i.start+i.len)})),o.show()):o.hide()})}},Static:{}})}),define("sap.sbo.app.queryDesigner.Main",["sap.ui.Controller","sap.ui.View","sap.core.GuardedTransitionMonitor","sap.sbo.shell.IFeaturable","sap.core.DestroyPool","css!sap.sbo.app.queryDesigner.Main"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments),window.SboShell.addFeature(this,"queryDesigner.LayoutChanged","event"),this.autoDestroy("remove the queryDesigner feature",window.SboShell.removeFeature.bind(window.SboShell,"queryDesigner.LayoutChanged")),this.declareMember({__oDestroyPool:null})},destroy:function(){},initView:function(){var o=$.Deferred();this.__oDestroyPool=new t.core.DestroyPool;var a=this.__oDestroyPool.add(new t.core.GuardedTransitionMonitor);return this.$().process(e).done(function(){o.resolve()}),this.$(".leftPanel").getControl().setOption("data",{test:"abc"}),this.$(".leftPanel").getControl().setOption("name","sap.sbo.app.queryDesigner.LeftPanel"),this.$(".rightPanel").getControl().setOption("data",{test:"abc"}),this.$(".rightPanel").getControl().setOption("name","sap.sbo.app.queryDesigner.RightPanel"),this.$(".resize-bar").on("click",function(){a.attach(this.$(".rightContainer"),200,function(){window.SboShell.fireFeatureEvent("queryDesigner.LayoutChanged")}),this.$("#bo-query-designer-main").toggleClass("hide-left")}.bind(this)),o.promise()},destroyView:function(){this.$().unprocess(),this.__oDestroyPool.destroy(),this.__oDestroyPool=null},update:function(e){e&&console.log(e)}},Protected:{},Static:{}})}),define("sap.sbo.app.queryDesigner.Open",["sap.ui.Controller","sap.core.DestroyPool","sap.sbo.ui.Loop","sap.sbo.services.QueryGroupsService","sap.sbo.services.QueriesService","sap.formatter","sap.core.JsonModel","css!sap.sbo.app.queryDesigner.SaveQuery","sap.core.event.CommandManager","sap.core.event.DomCommand","sap.ui.widget.TextArea","sap.ui.widget.DropDownBox","sap.sbo.ui.FrameViewController","css!sap.sbo.app.queryDesigner.Open","sap.sbo.util.notification"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Options:{queryBO:{type:"any",defaultValue:null,nullable:!0}},Public:{init:function(){t.sbo.ui.FrameViewController.prototype.init.apply(this,arguments),this.declareMember({__queriesService:this.autoDestroy(new t.sbo.services.QueriesService),__oDestroyPool:null,dataContext:new t.core.JsonModel({groups:[]}),itemsCountChanged:$.proxy(this.__itemsCountChanged,this),__state:null,__selectProxy:$.proxy(this.select,this)})},destroy:function(){},initView:function(){var o=$.Deferred(),a=this;return this.__oGroupsService=new t.sbo.services.QueryGroupsService,this.__oDestroyPool=new t.core.DestroyPool,this.$().setModel(this.dataContext),this.__oDestroyPool.add(this.$(),this.$().unprocess).process(e).done(function(){}),$.when(this.__oGroupsService.query()).done(function(e){var t=e.value;$.when(a.__queriesService.query()).done(function(e){t.forEach(function(t){t.queries=e.value.filter(function(e){return e.groupId===t.id})}),a.dataContext.setValue("groups",t),o.resolve()})}),this.$().on("vclick",".name",this,this.__select),o.promise()},destroyView:function(){this.$().off("vclick",".name",this.__selectProxy),this.__oDestroyPool.destroy(),this.__oDestroyPool=null},update:function(e){e&&console.log(e)}},Protected:{__select:function(e){var o=$(e.currentTarget).findModel().__oJson.data;t.sbo.util.notification.notify("queryDesigner.selectQuery",o),e.data.closeFrame(),this.setTitle(o.name)}},Static:{}})}),define("sap.sbo.app.queryDesigner.RightPanel",["sap.ui.Controller","sap.ui.widget.Button","sap.core.DestroyPool","sap.ui.widget.DropDownBox","sap.ui.widget.Checkbox","sap.sbo.ui.Loop","sap.sbo.compoundservices.AnalyticService","sap.ui.behavior.vdraggable","sap.sbo.util.notification","sap.ui.View","sap.core.DataList","css!sap.sbo.app.queryDesigner.RightPanel","sap.sbo.app.queryDesigner.ChartHelper"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments),this.declareMember({__oDestroyPool:null,__oService:this.autoDestroy(new t.sbo.compoundservices.AnalyticService),__doQueryProxy:$.proxy(this.__doQuery,this)}),t.sbo.util.notification.subscribe("queryDesigner.doQuery",this.__doQueryProxy)},destroy:function(){},initView:function(){this.__oDestroyPool=new t.core.DestroyPool;var o=$.Deferred();return $.when(this.__oDestroyPool.add(this.$(),this.$().unprocess).process(e)).done(function(){function e(){t.refresh()}var t=this.__oDestroyPool.add(new iScroll(this.$(".fieldsContainer")[0],{vScroll:!1}));this.odataIscroll=this.__oDestroyPool.add(new iScroll(this.$(".queryTable")[0],{hScroll:!1,vScrollbar:!1})),this.$(".ok").on("vclick",this,this.__showChart),this.$(".cancel").on("vclick",this,this.__cancelSetting),window.SboShell.attachFeatureEvent("queryDesigner.LayoutChanged",e),this.__oDestroyPool.add(null,function(){window.SboShell.detachFeatureEvent("queryDesigner.LayoutChanged",e)});var a=this.$(".fieldsContainer>.fields").getControl();a.attachEvent("itemsCountChanged",function(e){this.$().width(202*e),t.refresh()}),this.$(".fieldsContainer>.fields").on("vclick",".column>.header-bar>.icon.delete",function(e){a.removeItem($(e.target).findModel("loop").getValue("internal/index"));var t=window.SboShell.callFeatureMethod("queryDesigner.getModel"),o=t.getValue("queryBO");this.__doQuery(o)}.bind(this)),this.__oDestroyPool.add(this.$(".fieldsContainer>.fields"),function(){this.off("vclick",".column>.header-bar>.icon.delete")}),a.attachEvent("domCreated",function(e){var t=!1;e.vdraggable({container:this.$(".fieldsContainer>.fields"),draggingClass:"dragging",handle:e.find(".header-bar>.header"),cloneElement:!0,hideOldElement:!1,draggedClass:"dragged",fnGetDropElements:function(){return this.$(".fieldsContainer>.fields>.field").not(e)}.bind(this),onDragging:function(o,a,i){this.$(".fieldsContainer>.fields>.field").not(e).removeClass("dropLeft").removeClass("dropRight"),o&&i&&(t=i.deltaX<i.width/2,o.addClass(t?"dropLeft":"dropRight"))}.bind(this),onDrop:function(o,a){if(this.$(".fieldsContainer>.fields>.field").not(e).removeClass("dropLeft").removeClass("dropRight"),o&&a){var i=a.findModel("loop").getValue("internal/index"),s=o.findModel("loop").getValue("internal/index")+(t?0:1),n=window.SboShell.callFeatureMethod("queryDesigner.getModel"),r=n.getValue("queryBO"),l=r.properties.slice(),d=l[i];i>s?(l.splice(i,1),l.splice(s,0,d)):(l.splice(s,0,d),l.splice(i,1)),r.properties=l,n.setValue("queryBO",r),this.__doQuery(r)}}.bind(this)})}.bind(this)),o.resolve()}.bind(this)),o.promise()},destroyView:function(){this.__oDestroyPool.destroy(),t.sbo.util.notification.unsubscribe("queryDesigner.doQuery",this.__doQueryProxy),this.__oDestroyPool=null,this.$(".ok").off("vclick",this,this.__showChart),this.$(".cancel").on("vclick",this,this.__cancelSetting)},update:function(e){e&&console.log(e)}},Protected:{__cancelSetting:function(e){var t=e.data;t.$(".ChartSetting").hide()},__showChart:function(e){var o=e.data,a=window.SboShell.callFeatureMethod("queryDesigner.getModel"),i=a.getValue("selectedChart"),s=new t.core.DataList(a.getValue("dimensions")),n=new t.core.DataList(a.getValue("measures")),r=o.queryResult.header.value,l=o.queryResult.data.value,d=s.query('c=>c.dimension==="aa1"').select("c=>c.name"),p=s.query('c=>c.dimension==="aa2"').select("c=>c.name"),c=n.query("c=>c.selected===true").select("c=>c.name"),u=t.sbo.app.queryDesigner.ChartHelper.convertToCrosstable(r,l,{aa1:d,aa2:p},c);console.info(u);var h=o.$(".chartview");h.empty(),o.$(".ChartSetting").hide(),h.show(),t.sbo.app.queryDesigner.ChartHelper.showChart("viz/"+i,u,h)},__doQuery:function(e){var t=this;t.$(".chartview").empty(),t.$(".chartview").hide(),t.$(".ChartSetting").hide(),this.$(".queryTable").hide(),$.when(this.__oService.query(e)).done(function(e){t.queryResult=e,t.$(".queryTable>.tablecontent").html(t.__createTable(e.data)),t.$(".queryTable").slideDown("normal",function(){t.odataIscroll.refresh()})})},__createTable:function(e){var t=$("<div>"),o=this;return e.value.forEach(function(e){t.append(o.__createRow(e.values.value))}),t},__createRow:function(e){var t,o=$("<div>").addClass("row"),a=$("<div>").addClass("cell").append($("<div>").addClass("data")),i=0;i=e.length;for(var s=0;i>s;s++)t=a.clone(),$(".data",t).text(e[s]),o.append(t);return o}},Static:{}})}),define("sap.sbo.app.queryDesigner.SaveQuery",["sap.ui.Controller","sap.core.DestroyPool","sap.sbo.ui.Loop","sap.sbo.services.QueryGroupsService","sap.sbo.services.QueriesService","sap.ui.widget.TextField","sap.formatter","sap.core.JsonModel","css!sap.sbo.app.queryDesigner.SaveQuery","sap.core.event.CommandManager","sap.core.event.DomCommand","sap.ui.widget.TextArea","sap.ui.widget.DropDownBox","sap.sbo.ui.FrameViewController"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Options:{queryBO:{type:"any",defaultValue:null,nullable:!0}},Public:{init:function(){t.sbo.ui.FrameViewController.prototype.init.apply(this,arguments),this.declareMember({__queriesService:this.autoDestroy(new t.sbo.services.QueriesService),__oDestroyPool:null,dataContext:new t.core.JsonModel({groups:[],selectedGroup:null,name:"",save:new t.core.event.DomCommand(this,this.__save)}),itemsCountChanged:$.proxy(this.__itemsCountChanged,this),__state:null})},destroy:function(){},initView:function(){var o=$.Deferred(),a=this,i=this.getOption("queryBO");return this.__oGroupsService=new t.sbo.services.QueryGroupsService,this.__oDestroyPool=new t.core.DestroyPool,this.$().setModel(this.dataContext),this.dataContext.setValue("name",i.name),this.dataContext.setValue("selectedGroup",i.groupId),this.__oDestroyPool.add(this.$(),this.$().unprocess).process(e).done(function(){}),$.when(this.__oGroupsService.query()).done(function(e){a.dataContext.setValue("groups",e.value),console.info(e),o.resolve()
}),o.promise()},destroyView:function(){this.$().off("vclick",".edit",this.__edit),this.__oDestroyPool.destroy(),this.__oDestroyPool=null},update:function(e){e&&console.log(e)}},Protected:{__save:function(){var e=this,t=this.dataContext.getValue("selectedGroup"),o=this.getOption("queryBO");return null===t?(window.SboShell.raiseMessage("please select group!"),void 0):(o.name=this.dataContext.getValue("name"),null===o.name||""===o.name.trim()?(window.SboShell.raiseMessage("please input title"),void 0):(o.groupId=t,void 0===o.id?$.when(this.__queriesService.create(o)).done(function(){e.closeFrame(),e.setTitle(o.name)}):$.when(this.__queriesService.update(o,{id:o.id})).done(function(){e.closeFrame(),e.setTitle(o.name)}),void 0))}},Static:{}})}),define("sap.sbo.app.SalesOpportunity.Stage",["sap.ui.Control","sap.core.JsonModel","sap.ui.Repeat","sap.core.JsonModel","sap.log","sap.sbo.services.SalesOpportunitiesService","sap.core.GuardedTimer","css!sap.sbo.app.SalesOpportunity.Stage"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Control.declare({Name:"sap.sbo.app.SalesOpportunity.Stage",DOMClass:"sap-sbo-ui-phone-Stage",Events:["vclick"],PublicMethods:[],Options:{values:{type:"array",arrayType:{type:"object"},defaultValue:[]},readonly:{type:"boolean",defaultValue:!0},metaDatas:{type:"array",arrayType:{type:"object"},defaultValue:[]},getBO:{type:"function",defaultValue:function(){}},setBO:{type:"function",defaultValue:function(){}}},Public:{init:function(){var e=this;t.ui.Control.prototype.init.apply(this,arguments),this.declareMember({__oIScroll:null,__clickProxy:$.proxy(this.__clickItem,this),__OppoService:this.autoDestroy(new t.sbo.services.SalesOpportunitiesService),__insertNew:!0,__oTimer:this.autoDestroy(new t.core.GuardedTimer),__firstFlag:!0,__dtd:$.Deferred(),__oLine:null,__StageContent:[]});var o=0;this.__oTimer.setInterval(function(){var t=e.$()[0].clientWidth;t!==o&&(o=t,e.__oIScroll&&e.__oIScroll.refresh())},1e3)},update:function(e){var t=this;(e.values||e.metaDatas)&&t.__update(),e.readonly&&(t.getOption("readonly")?t.__update():(t.__update(),t.__insertNew=!0,t.__firstFlag=!0))},destroy:function(){$(".sap-sbo-ui-phone-stage-steps").off("vclick"),this.__OppoService.destroy()}},Protected:{__getSortedSteps:function(){var e=this.getOption("metaDatas");return e.sort(function(e,t){return e.stageNo>=t.stageNo?1:-1})},__update:function(){var e=this,o=this.__getSortedSteps();this.getOption("readonly");var a=e.getOption("values");if(!o)return t.log.info("No metadata for stage"),void 0;if(!a)return t.log.info("No value for stage"),void 0;var i=a.slice(a.length-1)[0];if(e.__firstFlag){e.$().empty();var s=$("<div>").attr({id:"sap-sbo-ui-phone-stage"}),n=$("<div>").addClass("sap-sbo-ui-phone-stage-container"),r=$("<div>").addClass("sap-sbo-ui-phone-stage-steps");$(n).append(r),$(s).append(n);for(var l=0,d=o.length;d>l;l++){var p=$("<div>").addClass("sap-sbo-ui-phone-stage-stepContainer"),c=$("<div>").addClass("sap-sbo-ui-phone-stage-icon").text(o[l].stageNo),u=$("<div>").addClass("sap-sbo-ui-phone-stage-splitter"),h=$("<div>").addClass("sap-sbo-ui-phone-stage-text").text(o[l].name+" "+o[l].closingPercentage+"%");"tNO"!==o[l].cancelled?$(c).addClass("sap-sbo-ui-phone-stage-icon-canceled"):i.stageKey===o[l].stageNo?($(p).addClass("sap-sbo-ui-phone-stage-current"),$(c).addClass("sap-sbo-ui-phone-stage-icon-init")):$(c).removeClass("sap-sbo-ui-phone-stage-current"),$(p).append(c),l!==o.length-1&&$(p).append(u),$(p).append(h),$(r).append(p);var b={};b.num=o[l].stageNo,b.name=o[l].name,b.closingPercentage=o[l].closingPercentage,$(c).data(b)}e.$().append(s);var g=$(".sap-sbo-ui-phone-stage-stepContainer").outerWidth(),m=g*o.length+37,f=$(".sap-sbo-ui-phone-stage-steps").width();m!==f&&$(".sap-sbo-ui-phone-stage-steps").css({width:m+"px"}),e.__showTextMessage(),e.__oIScroll=new iScroll($(".sap-sbo-ui-phone-stage-container")[0],{vScroll:!1,hScrollbar:!1}),$(".sap-sbo-ui-phone-stage-steps").on("vclick",e.__clickProxy),e.__firstFlag=!1}},__showTextMessage:function(){var e=$(".sap-sbo-ui-phone-stage-current");if(0!=e.length){var t=e.offsetParent(),o=t.outerWidth(),a=$(".sap-sbo-ui-phone-stage-text",e),i=a.outerWidth(),s=e.position();s.left;var n=s.left+15;s.left+30;var r=0;if(0>n||n>o)r=n-i/2;else{var l=n-i/2,d=n+i/2;r=0>l?0:d>o?o-s.left-i:37-i/2}a.css({bottom:"-20px",left:r+"px"})}},__clickItem:function(e){var t=this,o=$(e.target);if(o.hasClass("sap-sbo-ui-phone-stage-icon")&&!o.hasClass("sap-sbo-ui-phone-stage-icon-canceled")&&!t.getOption("readonly")&&!o.parent().hasClass("sap-sbo-ui-phone-stage-current")){var a=t.getOption("values"),i=a.slice(a.length-1)[0],s=o.data();if(!this.__oLine){var n=this.getOption("getBO");t.__oLine=n()}t.__submitData(a,s,i),t.__addMovement(o)}},__submitData:function(e,t,o){var a=this,i={};$.extend(!0,i,a.__oLine),i.currentStageNumber=t.num,$.when(a.__OppoService.onPropertyChange(i,"Root/currentStageNumber","PropertyUpdate")).done(function(i){var s=a.getOption("setBO");s&&s(i);var n=i.salesOpportunitiesLines.pop();n.stageKey=t.num,n.remarks=o.remarks,n.closingDate="/Date("+Date.now()+")/",n.percentageRate=t.closingPercentage,n.maxLocalTotal=o.maxLocalTotal,a.__insertNew?(o.maxLocalTotal&&0!=o.maxLocalTotal||e.pop(),a.__insertNew=!1):e.pop(),e.push(n),a.setOption("values",e)})},__addMovement:function(e){var t=$(".sap-sbo-ui-phone-stage-current"),o=t.children(".sap-sbo-ui-phone-stage-icon"),a=o.data(),i=$("<div>").addClass("sap-sbo-ui-phone-stage-icon").text(a.num).data(a);o.remove(),t.prepend(i),t.removeClass("sap-sbo-ui-phone-stage-current"),e.parent().addClass("sap-sbo-ui-phone-stage-current"),this.__showTextMessage()}}})}),define("sap.sbo.app.SalesOpportunity.Tile",["sap.ui.Controller","sap.sbo.layout.TileViewController","sap.log","sap.ui.widget.Button","sap.core.klass","sap.core.JsonModel","sap.sbo.services.SalesOpportunitiesService","sap.sbo.ui.widget.ReportWidget","sap.core.GuardedTimer","sap.sbo.util.formatter","css!sap.sbo.page.boTile","sap.core.event.BehaviorCommand"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.layout.TileViewController,Options:{},Public:{init:function(){t.sbo.layout.TileViewController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{_oService:this.autoDestroy(new t.sbo.services.SalesOpportunitiesService),_oModel:this.autoDestroy(new t.core.JsonModel({count:"",bigvisibility:"hidden",legendVisible:!1,showlargeone:this.autoDestroy(new t.core.event.BehaviorCommand(this,this.showlargeone))})),_oTimer:this.autoDestroy(new t.core.GuardedTimer)})},destroy:function(){},initView:function(){var t=$.Deferred();this.$().setModel(this._oModel),this.$().process(e),t.resolve();var o=this;return $.when(this._oService.count()).done(function(e){o._oModel.set("count",e)}),this.$().on("vclick",function(){var e="phone"==SboShell.__deviceType?"phone":"pad";window.SboShell.gotoView("sap.sbo.page."+e+".SalesOpportunity.ListView")}),t.promise()},destroyView:function(){this.$().unprocess()},update:function(e){if(t.sbo.layout.TileViewController.prototype.update.apply(this,arguments),e.mode){var o=this.getOption("mode"),a=this;t.log.info("Change mode to :"+this.getOption("mode")),this.$("[field='modeText']").text(this.getOption("mode")),"2x4"===o?this._oTimer.setTimeout(function(){a._oModel.set("bigvisibility","visible"),a._oModel.set("legendVisible",!1)},300):this._oModel.set("bigvisibility","hidden")}},getSupportedModes:function(){return["2x2","2x4","2xN"]},showlargeone:function(){window.SboShell.gotoView("sap.sbo.page.pad.report.queryChartView",{reportId:1,reportName:""})}}})}),define("sap.sbo.app.SalesOrder.SalesOrderTile",["sap.ui.Controller","sap.core.JsonModel","sap.ui.widget.TextField","sap.sbo.layout.TileViewController","sap.log","sap.ui.widget.Button","sap.sbo.util.formatter","sap.sbo.services.OrdersService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.layout.TileViewController,Options:{},Public:{init:function(){t.sbo.layout.TileViewController.prototype.init.apply(this,arguments),this.declareMember({_oSalesOrderService:this.autoDestroy(new t.sbo.services.OrdersService),_fGotoSalesOrder:function(){var e="phone"==SboShell.__deviceType?"phone":"pad";SboShell.gotoView("sap.sbo.page."+e+".SalesOrder.SalesOrderListView",{})},_oModel:new t.core.JsonModel({count:0})})},destroy:function(){},initView:function(){var t=$.Deferred();this.$().setModel(this._oModel),this.$().process(e),this.$().on("vclick",this._fGotoSalesOrder);var o=this;return $.when(this._oSalesOrderService.count()).done(function(e){o._oModel.set("count",e),t.resolve()}).fail(function(e){t.reject(e)}),t.promise()},destroyView:function(){this.$().unprocess(),this.$().off("vclick",this._fGotoSalesOrder)},update:function(e){t.sbo.layout.TileViewController.prototype.update.apply(this,arguments),e.mode&&(t.log.info("Change mode to :"+this.getOption("mode")),this.$("[field='modeText']").text(this.getOption("mode")))},getSupportedModes:function(){return["2x2","2x4"]}}})}),define("sap.sbo.app.search.ESNotification",["sap.core.klass","sap.sbo.shell.IFeaturable"],function(){var e=this.getNS(),t={},o=e.sap,a={Public:{},Protected:{},Static:{}};a.Name=this.getModuleInfo().moduleName,a.Interfaces=[o.sbo.shell.IFeaturable],a.Public.init=function(){},a.Public.attach=function(e,o){void 0===t[e]&&(window.SboShell.addFeature(this,e,"event"),t[e]=1),window.SboShell.attachFeatureEvent(e,o)},a.Public.detach=function(e,t){window.SboShell.detachFeatureEvent(e,t)},a.Public.notify=function(e,t){window.SboShell.fireFeatureEvent(e,t)},a.Public.doFeature=function(){};var i=o.core.klass.declare(a);return new i}),define("sap.sbo.app.search.FreeSelect",["sap.ui.Controller","sap.core.DestroyPool","sap.core.JsonModel","sap.ui.widget.TextField","sap.ui.widget.Button","sap.ui.Repeat","sap.ui.widget.Checkbox","sap.sbo.services.BaseService","sap.core.event.CommandManager","sap.core.viewRegionManager","sap.core.event.DomCommand","sap.sbo.app.search.FreeSelectBOListWidget","css!sap.sbo.app.search.FreeSelect","sap.sbo.app.search.ESNotification"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.classToBoolean=function(e,t){return"<<"===t?e===!0?"":"bo-flag-hidden":void 0},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments);var e=this,o={onlyOwner:!1,BOs:[{key:1,name:"Contact",selected:!0},{key:2,name:"Customer",selected:!0},{key:3,name:"Product",selected:!0},{key:4,name:"Lead",selected:!0},{key:5,name:"Opportunity",selected:!0},{key:6,name:"Quotation",selected:!0},{key:7,name:"Order",selected:!0}]};this.declareMember({__oDestroyPool:null,dataContext:this.autoDestroy(new t.core.JsonModel({onlyOwner:o.onlyOwner,BOs:o.BOs,clickOK:new t.core.event.DomCommand(e,e.__clickOK),clickCancel:new t.core.event.DomCommand(e,e.__clickCancel)})),__dataCache:o})},destroy:function(){},initView:function(){var t=$.Deferred();return this.$().setModel(this.dataContext),$.when(this.$().process(e)).done(function(){t.resolve()}),t.promise()},destroyView:function(){this.$().unprocess(),this.__oDestroyPool=null},update:function(){}},Protected:{__clickOK:function(){this.__dataCache={onlyOwner:this.dataContext.getValue("onlyOwner"),BOs:this.dataContext.getValue("BOs")},t.sbo.app.search.ESNotification.notify("searchScopeChanged",this.__dataCache),t.core.viewRegionManager.activeViewToRegion("searchRegion","sap.sbo.app.search.home")},__clickCancel:function(){t.core.viewRegionManager.activeViewToRegion("searchRegion","sap.sbo.app.search.home"),this.dataContext.setValue("onlyOwner",this.__dataCache.onlyOwner),this.dataContext.setValue("BOs",this.__dataCache.BOs)}}})}),define("sap.sbo.app.search.globalContainer",["css!sap.sbo.app.search.globalContainer","sap.ui.View","sap.sbo.app.search.SearchRegion","sap.sbo.app.search.ESNotification"],function(){var e=this.getNS(),t=e.sap,o=$("<div>").addClass("sap-sbo-app-search-globalContainer").hide(),a=!1,i={};return i.open=function(){var i=$(".sap-sbo-pad-html-shell-content"),s=function(){o.hide(),i.css("left","30px"),$("body").off("vclick",n)},n=function(e){e.target!==o[0]&&0===$(e.target).parents(".sap-sbo-app-search-globalContainer").length&&s()},r=$("<div>").attr({"data-sap-widget":"sap.ui.View","data-sap-option":"name:'sap.sbo.app.search.SearchRegion'"}).css({position:"absolute",top:"10px",bottom:"10px",left:"0px",width:"100%"});a===!1&&(t.sbo.app.search.ESNotification.attach("search.hide",s),o.append(r),$("#sbo-shell").append(o),r.process(e),a=!0),o.show("fast",function(){i.css("left","440px"),$("body").on("vclick",n)})},i}),define("sap.sbo.app.search.FreeSelectBOListWidget",["sap.ui.Control","sap.ui.common","sap.core.IProcessable","sap.core.JsonModel","sap.log","sap.ui.Repeat","html!sap.sbo.app.search.FreeSelectBOListWidget","css!sap.sbo.app.search.FreeSelectBOListWidget"],function(){"use strict";var e=this.getNS(),t=this.getNS("sap"),o=function(e,t){var o=function(e){return e.key+""==t+""};return e.filter(o)},a=function(e){var t=this,a=$(e.currentTarget),i=a.attr("data-bo-id"),s=t.getOption("datas");if(i){var n=o(s,i);1===n.length&&(n[0].selected=!n[0].selected,t.setOption("datas",s))}};return e.classToBoolean=function(e,t){return"<<"===t?e===!0?"":"bo-flag-hidden":void 0},e.class2ToBoolean=function(e,t){return"<<"===t?e===!0?"":"sap-sbo-app-search-freeselect-bolistwidget-bo-noSelected":void 0},t.ui.Control.declare({Name:this.getModuleInfo().moduleName,Options:{datas:{type:"array",defaultValue:[],arrayType:{type:"any"}}},Events:[],Public:{init:function(){t.ui.Control.prototype.init.apply(this,arguments),t.ui.Control.declareMember(this,{dataContext:new t.core.JsonModel({BOList:[]}),inited:!1,__vclick:$.proxy(a,this)}),this.$().on("vclick",".sap-sbo-app-search-freeselect-bolistwidget-bo",this.__vclick)},destroy:function(){this.dataContext.destroy(),this.$().off("vclick",this.__vclick),this.$().unprocess()},update:function(t){t.datas&&(this.inited===!1?(this.$().append(e.html.sap.sbo.app.search.FreeSelectBOListWidget),this.$().setModel(this.dataContext),this.dataContext.setValue("BOList",this.getOption("datas")),this.$().process(e),this.inited=!0):this.dataContext.setValue("BOList",this.getOption("datas")))}}})}),define("sap.sbo.app.search.home",["sap.ui.Controller","sap.core.DestroyPool","sap.core.JsonModel","sap.ui.widget.TextField","sap.ui.widget.Button","sap.sbo.services.BaseService","sap.core.event.CommandManager","sap.core.event.DomCommand","sap.core.viewRegionManager","sap.sbo.app.search.ESNotification","css!sap.sbo.app.search.home","sap.sbo.app.search.ListView","sap.sbo.compoundservices.EnterpriseSearchService","sap.core.IViewRegionControlable"],function(){"use strict";var e=this.getNS(),t=e.sap,o={everything:"Everything",freeSelect:"Free Select"},a={Public:{},Protected:{}};return a.Name=this.getModuleInfo().moduleName,a.Interfaces=[t.core.IViewRegionControlable],a.Public.init=function(){t.ui.Controller.prototype.init.apply(this,arguments);var e=this;this.declareMember({__oDestroyPool:null,__viewRegion:null,dataContext:this.autoDestroy(new t.core.JsonModel({scopeflag:o.everything,searchText:"hello",recents:[],searchResults:[],selectedRecentItem:void 0,gotoSetting:new t.core.event.DomCommand(e,e.__gotoSetting),search:new t.core.event.DomCommand(e,e.__search)})),__oService:new t.sbo.compoundservices.EnterpriseSearchService,__scopeData:null,__searchScopeChangedProxy:$.proxy(this.__searchScopeChanged,this)}),t.sbo.app.search.ESNotification.attach("searchScopeChanged",this.__searchScopeChangedProxy)},a.Public.destroy=function(){},a.Public.initView=function(){var o=$.Deferred();return this.$().setModel(this.dataContext),this.$().process(e),this.__viewRegion=t.core.viewRegionManager.getRegion("searchRegion"),o.resolve(),o.promise()},a.Public.preActiveAction=function(){var e=$.Deferred();return e.resolve(),e},a.Public.postActiveAction=function(){var e=$.Deferred();return e.resolve(),e},a.Public.destroyView=function(){window.SboShell.detachFeatureEvent("searchScopeChanged",this.__searchScopeChangedProxy),this.__oDestroyPool=null},a.Public.update=function(){},a.Protected.__gotoSetting=function(){this.__viewRegion.activeView("sap.sbo.app.search.FreeSelect")},a.Protected.__isEverything=function(){if(null===this.__scopeData)return!0;if(this.__scopeData.onlyOwner===!0)return!1;var e=this.__scopeData.BOs;return e.filter(function(e){return e.selected===!1}).length>0?!1:!0},a.Protected.__searchScopeChanged=function(e){this.__scopeData=e,this.__isEverything()?this.dataContext.setValue("scopeflag",o.everything):this.dataContext.setValue("scopeflag",o.freeSelect)},a.Protected.__search=function(e){if(13===e.keyCode){var t=this.$(".search");t.addClass("searchloadingicon");var o=this,a=this.dataContext.getValue("searchText");this.__oService.search({keywords:a,scope:null,top:10,offset:0}).done(function(e){for(var a=0;e.bingo.value.length>a;a++){var i=e.bingo.value[a];i.remain=i.count-1,i.index=a}o.dataContext.setValue("searchResults",e.bingo.value),t.removeClass("searchloadingicon")})}},t.ui.Controller.declare(a)}),define("sap.sbo.app.search.ListView",["sap.ui.Control","sap.ui.Repeat","html!sap.sbo.app.search.ListView","sap.core.JsonModel","css!sap.sbo.app.search.ListView","json!sap.sbo.app.search.mockData","sap.sbo.app.search.ESNotification"],function(){var e=this.getNS(),t=e.sap,o={Name:this.getModuleInfo().moduleName,Public:{},Events:[],Protected:{},Options:{}};return e.classToNumber=function(e,t){return"<<"===t?(e=parseInt(e),e>0?"":"more-hidden"):void 0},o.Options.datas={type:"array",defaultValue:[],arrayType:{type:"any"}},o.Public.init=function(){t.ui.Control.prototype.init.apply(this,arguments),this.declareMember({__inited:!1,dataContext:new t.core.JsonModel({results:[]}),__clickMoreProxy:$.proxy(this.__clickMore,this),__backProxy:$.proxy(this.__clickBack,this),__gotoProxy:$.proxy(this.__goto,this)}),this.$().on("vclick",".sap-sbo-app-search-listview .more",this.__clickMoreProxy),this.$().on("vclick",".sap-sbo-app-search-listview .groupbar .cancel ",this.__backProxy),this.$().on("vclick",".sap-sbo-app-search-listview .searchContent .recorditem ",this.__gotoProxy)},o.Public.destroy=function(){this.$().unprocess()},o.Public.update=function(t){if(t.datas)if(this.__inited===!1)this.$().append(e.html.sap.sbo.app.search.ListView),this.dataContext.setValue("results",this.getOption("datas")),this.$().setModel(this.dataContext),this.$().process(e),this.__oIScroll=new iScroll(this.$(".wrapper")[0],{hideScrollbar:!0,hScrollbar:!1}),this.__inited=!0;else{this.dataContext.setValue("results",this.getOption("datas"));var o=this;setTimeout(function(){o.__oIScroll.refresh()},200)}},o.Protected.__clickMore=function(t){var o=this,a=$(t.currentTarget).parents(".sap-sbo-app-search-listview .groupItem"),i=a.attr("data-group-name"),s=$(".searchContent",a),n=this.$(".groupItem"),r=this.getOption("datas"),l=1,d=function(e){return e.name===i},p=function(){o.__oIScroll.refresh(),o.$(".wrapper").height()<o.$(".repeat").height()&&o.__oIScroll.scrollToElement($(".recorditem",a)[l-1])};1===s.length&&(l=$(".recorditem",a).length,$(".more",a).addClass("loading"),setTimeout(function(){var t=e.json.sap.sbo.app.search.mockData.bingo.value,s=t.filter(d),l=r.filter(d);o.selectedGroupData=o.selectedGroupData||function(){for(var e={name:i,index:l[0].index,data:l[0],old:{records:[]}},t=0;l[0].records.value.length>t;t++)e.old.records.push(l[0].records.value[t]);return e}();for(var c=0;s[0].records.value.length>c;c++)l[0].records.value.push(s[0].records.value[c]);o.dataContext.setValue("results/"+l[0].index,l[0]);for(var u=0;n.length>u;u++)n[u]!==a[0]?($(n[u]).hide("normal",p).removeClass("groupItem-selected"),i=a.attr("data-group-name")):$(n[u]).show("normal",p).addClass("groupItem-selected");$(".more",a).removeClass("loading"),setTimeout(p,200)},1e3))},o.Protected.__clickBack=function(e){var t=this,o=t.selectedGroupData.data;o.records.value=t.selectedGroupData.old.records,t.dataContext.setValue("results/"+t.selectedGroupData.index,t.selectedGroupData.data),this.selectedGroupData=void 0,this.$(".groupItem").removeClass("groupItem-selected").show("normal",function(){t.__oIScroll.refresh()}),e.stopPropagation()},o.Protected.__goto=function(){window.SboShell.gotoView("sap.sbo.page.pad.SalesOpportunity.Home",[{keyName:"sequentialNo",keyValue:2}]),t.sbo.app.search.ESNotification.notify("search.hide","")},t.ui.Control.declare(o)}),define("sap.sbo.app.search.SearchDialog",["sap.ui.Controller","sap.core.JsonModel","sap.sbo.localization.Helper","sap.core.klass","sap.sbo.ui.FrameViewController","sap.ui.Repeat","sap.ui.widget.Icon","sap.sbo.ui.widget.PopupMenu","sap.sbo.ui.widget.BoLink","sap.util","sap.sbo.app.search.SearchUtil","json!sap.sbo.app.search.mockData","sap.sbo.compoundservices.EnterpriseSearchService","sap.ui.Repeat","sap.sbo.ui.BoNavigation","sap.sbo.ui.BoNavigationObject","css!sap.sbo.app.search.SearchDialog"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Options:{DisplaySetting:{type:"boolean",defaultValue:!1,nullable:!0}},Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments);var e=this;t.core.klass.declareMember(this,{__oService:new t.sbo.compoundservices.EnterpriseSearchService,__EntityObj:{},__canSearch:!0,__SearchForEnter:function(t){13==t.keyCode&&e.__canSearch&&e._Search()},_Search:function(){var o=e.$(".sap-sbo-app-search-searchTextBox").val().trim();if(e.$(".sap-sbo-app-search-searchTextBox").val(o),o){var a=e.__oModel.getValue("Settings/myNetwork"),i=e.__oModel.getValue("Settings/Objects"),s=i.length;if(0!=s){for(var n="",r=0;s>r;r++){var l=",";i[r].inScope&&(n+=i[r].Name+l)}","==n.substring(n.length-1)&&(n=n.substring(0,n.length-1)),t.util.showLoading(),e.__oService.search({keywords:o,scope:n,top:1e3,offset:0,bCreator:a}).done(function(t){e.convertResult(t)}).fail(function(e){e.processed()}).always(function(){t.util.hideLoading()})}}},__oModel:new t.core.JsonModel({Settings:{myNetwork:!1,Objects:[{Name:"J0010",Display:t.sbo.localization.Helper.get("app/memo/MEMO"),inScope:!0,Result:{count:0}},{Name:"J0004",Display:t.sbo.localization.Helper.get("app/task/TASK"),inScope:!0,Result:{count:0}},{Name:"2",Display:t.sbo.localization.Helper.get("app/oppo/CUSTOMER"),inScope:!0,Result:{count:0}},{Name:"11",Display:t.sbo.localization.Helper.get("common/CONTACT_NAME"),inScope:!0,Result:{count:0}},{Name:"4",Display:t.sbo.localization.Helper.get("common/PRODUCT_NAME"),inScope:!0,Result:{count:0}},{Name:"1320000012",Display:t.sbo.localization.Helper.get("common/CAMPAIGN_NAME"),inScope:!0,Result:{count:0}},{Name:"J0001",Display:t.sbo.localization.Helper.get("app/lead/LEADS"),inScope:!0,Result:{count:0}},{Name:"97",Display:t.sbo.localization.Helper.get("app/oppo/OPPORTUNITY"),inScope:!0,Result:{count:0}},{Name:"23",Display:t.sbo.localization.Helper.get("common/QUOTATION_NAME"),inScope:!0,Result:{count:0}},{Name:"17",Display:t.sbo.localization.Helper.get("common/ORDER_NAME"),inScope:!0,Result:{count:0}}],ShowTotal:0}}),_closeDialog:function(){var t=e.getOption("DisplaySetting");"phone"===window.SboShell.callFeatureMethod("shell.getDeviceType")?t?e.__ToggleDisplaySetting():(e.$("div[data-sfa-class = 'sap-sbo-app-search-result']").empty(),e.closeFrame()):(e.$("div[data-sfa-class = 'sap-sbo-app-search-result']").empty(),e.closeFrame())},navigateToBoPage:function(){var e=$(this).attr("data-objName"),o=$(this).attr("data-value"),a=$(this).attr("data-navName"),i=[o];if("J0010"==e){var s={};s.boNamespace="com.sap.sbo",s.boName="User";var n=[],r={};r.keyName="internalKey",r.keyValue=window.SboShell.getData("user.internalKey"),n.push(r),s.keyElements=n,i.push(s)}var l=new t.sbo.ui.BoNavigationObject({boName:a,boNamespace:"com.sap.sbo",keyElements:i});t.sbo.ui.BoNavigation.navigate(l,window.SboShell.callFeatureMethod("shell.getDeviceType"))},changeSwitch:function(){var t=$(this).attr("data-sap-key"),o=$(this).attr("data-index");if(t)e.__oModel.setValue("Settings/myNetwork",!e.__oModel.getValue("Settings/myNetwork"));else if(void 0!=o){var a=e.__oModel.getValue("Settings/Objects"),i=!a[o].inScope;a[o].inScope=i,e.__oModel.setValue("Settings/Objects",a)}e.__HideNoNeedInstance()},convertResult:function(t){e.__EntityObj={};for(var o=0,a=e.__oModel.getValue("Settings/Objects"),i=a.length,s=0;i>s;s++){a[s].Result={count:0};var n=a[s],r=n.Name;e.__EntityObj[r]=n}for(var l=t.bingo.value,d=l.length,s=0;d>s;s++){var n=l[s],r=n.type,p=e.__EntityObj[r];p&&(p.Result=n,o+=n.count)}e.__oModel.setValue("Settings/Objects",a),e.__oModel.setValue("Settings/ShowTotal",o),e.__DisplayResult()},__ToggleDisplaySetting:function(){var t=e.getOption("DisplaySetting");e.setOption("DisplaySetting",!t)},__ParseSearchKey:function(e){return e=e.replace(RegExp('"',"gi")," ").split(" "),e.sort(function(e,t){return e.length<t.length}),e},ReplaceSearchKeyForResult:function(e,t,o,a,i,s,n){for(var r=0;s>r&&e[r];r++)try{t=t.replace(RegExp(e[r],"gi"),i)}catch(l){}var d="",p=t.indexOf(o)-10;return p>0&&(d="..."),d+n.text(t.substring(p)).html().replace(RegExp(o,"gi"),"<em>").replace(RegExp(a,"gi"),"</em>")},__DisplayResult:function(){var t=window.SboShell.callFeatureMethod("shell.getDeviceType"),o="sap-sbo-app-search-result-property";"phone"==t&&(o="sap-sbo-app-search-result-property-phone");for(var a=e.__ConvertSearchKey(),i=e.__ParseSearchKey(a),s=i.length,n=String.fromCharCode(1e4),r=String.fromCharCode(10001),l=n+"$&"+r,d=e.__oModel.getValue("Settings/Objects"),p=d.length,c="",u=0;p>u;u++){var h=d[u];if(0!=h.Result.count){for(var b=h.Result.name,g="",m=h.Result.records.value.length,f=void 0,v=void 0,y=0;m>y;y++){var _=h.Result.identityRecords.value[y],w=_.properties.entries.value,S=h.Result.records.value[y],C=S.properties.entries.value;f=S.identity,v=S.identityName;var x=w.concat(C),k=x.length,T="<div class = 'sap-sbo-app-search-result-instance' data-objName = "+h.Name+" data-navName="+b+" data-key="+v+" data-value="+f+" >";T+="<div class ='sap-sbo-app-search-result-instance-summary'>"+h.Display+" "+f+"</div>";for(var P={},M=0;k>M;M++){var B=x[M],D=B.key;if(!P[D]){P[D]=!0;var V=B.value;V=V?e.ReplaceSearchKeyForResult(i,V,n,r,l,s,e.$('div[class="formateSearchValue"]')):"",T+="<div class = '"+o+"'>"+"<div class='sap-sbo-app-search-result-propertyKey'>"+D+"</div><div class='sap-sbo-app-search-result-propertyValue'>"+V+"</div></div>"}}T+="<div class ='sap-sbo-app-search-result-instance-end'></div>",T+="</div>",g+=T}c+=g}}e.$("div[data-sfa-class = 'sap-sbo-app-search-result']").empty(),e.$("div[data-sfa-class = 'sap-sbo-app-search-result']").append($(c)),e.setResultStyle(),e.__DecorateSearchStyle()},__DecorateSearchStyle:function(){var e=window.SboShell.callFeatureMethod("shell.getDeviceType");if("phone"!=e){var t=this.$(".sap-sbo-app-search-result-instance"),o=this.getOption("DisplaySetting");t.each(function(){var e=$(this).find(".sap-sbo-app-search-result-property"),t=e.length;1==t&&(o?(e.find(".sap-sbo-app-search-result-propertyValue").removeAttr("data-lastLineClass"),$(this).find(".sap-sbo-app-search-result-property").removeClass("sap-sbo-app-search-result-lastProperty")):(e.find(".sap-sbo-app-search-result-propertyValue").attr("data-lastLineClass","sap-sbo-app-search-result-propertyValue-lastLine"),$(this).find(".sap-sbo-app-search-result-property").addClass("sap-sbo-app-search-result-lastProperty")))})}},setResultStyle:function(){var e=this.$("div[data-sfa-class = 'sap-sbo-app-search-result']"),t="phone"===window.SboShell.callFeatureMethod("shell.getDeviceType"),o=this.getOption("DisplaySetting");t?e.css("width","100%"):(e.css("height",580),o||e.css("left",20))},__ConvertSearchKey:function(){var t=e.$(".sap-sbo-app-search-searchTextBox").val(),o=RegExp("-{2,}","g");t=t.replace(o,"-");var a=/[\.\^\(\|\\\)\*\+\-\$\?\[\]]/g,i={};return i["."]="\\.",i["^"]="\\^",i["("]="\\(",i["\\"]="\\\\",i["|"]="\\|",i.$="\\$",i[")"]="\\)",i["*"]="\\*",i["+"]="\\+",i["-"]="\\-",i["?"]="\\?",i["]"]="\\]",i["["]="\\[",t=t.replace(a,function(e){return i[e]})},__HideNoNeedInstance:function(){var t=e.$(".sap-sbo-app-search-result-instance"),o=0;$.each(t,function(){var t=$(this).attr("data-objName"),a=e.__EntityObj[t];a.inScope?($(this).css("display","inline"),o++):$(this).css("display","none")}),e.__oModel.setValue("Settings/ShowTotal",o)}})},destroy:function(){},initView:function(){var t=$.Deferred(),o=this;this.$().setModel(this.__oModel),this.$().process(e),t.resolve(),this.$().on("vclick","div[data-sfa-class = 'sap-sbo-app-search-mySwitcher']",this.changeSwitch),this.$("img[data-sfa-class = 'sap-sbo-app-search-main-settingImage']").on("vclick",this.__ToggleDisplaySetting),this.$("div[data-sfa-class = 'sap-sbo-app-search-setting']").hide(),this.$().on("vclick",".sap-sbo-app-search-result-instance",this.navigateToBoPage),this.$("img[data-sfa-class = 'sap-sbo-app-search-main-searchImage']").on("vclick",this._Search),this.$("div[data-sfa-class = 'sap-sbo-app-search-exit']").on("vclick",this._closeDialog),this.$("img[data-sfa-class = 'sap-sbo-app-search-main-closeImage']").on("vclick",this._closeDialog),this.$(".sap-sbo-app-search-searchTextBox").on("focus",function(){o.__canSearch=!0}),this.$(".sap-sbo-app-search-searchTextBox").on("blur",function(){o.__canSearch=!1}),window.document.addEventListener("keypress",this.__SearchForEnter,!1);var a=window.SboShell.callFeatureMethod("shell.getDeviceType");return"phone"!=a?(this.$("div[data-sfa-class = 'sap-sbo-app-search-phone-navigation']").hide(),this.$("div[data-sfa-class = 'sap-sbo-app-search-main']").css("height","680px"),this.$("div[data-sfa-class = 'sap-sbo-app-search-myNetwork']").css("margin-top","0px"),this.$("div[data-sfa-class = 'myNetworkExplain']").css("margin-top","45px"),this.$("div[data-sfa-class = 'sap-sbo-app-search-main']").css("top","20px"),this.$("img[data-sfa-class = 'sap-sbo-app-search-main-settingImage']").addClass("sap-sbo-app-search-main-left"),this.$("img[data-sfa-class = 'sap-sbo-app-search-main-closeImage']").addClass("sap-sbo-app-search-main-right")):(this.$("div[data-sfa-class = 'sap-sbo-app-search-main']").css("top","85px"),this.$("img[data-sfa-class = 'sap-sbo-app-search-main-settingImage']").addClass("sap-sbo-app-search-main-right"),this.$("img[data-sfa-class = 'sap-sbo-app-search-main-closeImage']").hide(),this.$(".sap-sbo-app-search-searchTextBox").css("left",20),this.$("div[data-sfa-class = 'sap-sbo-app.search-result-howMany']").css("top",50)),this.setInitDimension(),t.promise()},destroyView:function(){this.$("div[data-sfa-class = 'sap-sbo-app-search-exit']").off("vclick",this._closeDialog),this.$().off("vclick","div[data-sfa-class = 'sap-sbo-app-search-mySwitcher']",this.changeSwitch),this.$("img[data-sfa-class = 'sap-sbo-app-search-main-settingImage']").off("vclick",this.__ToggleDisplaySetting),this.$("img[data-sfa-class = 'sap-sbo-app-search-main-closeImage']").off("vclick",this._closeDialog),this.$().off("vclick",".sap-sbo-app-search-result-instance",this.navigateToBoPage),this.$("img[data-sfa-class = 'sap-sbo-app-search-main-searchImage']").off("vclick",this._Search),this.$(".sap-sbo-app-search-searchTextBox").off("focus","**"),this.$(".sap-sbo-app-search-searchTextBox").off("blur","**"),window.document.removeEventListener("keypress",this.__SearchForEnter,!1),this.$().unprocess()},setInitDimension:function(){var e=this.getOption("DisplaySetting"),o="phone"===window.SboShell.callFeatureMethod("shell.getDeviceType"),a=t.sbo.app.search.SearchUtil.SearchWidth,i=0;o?(a="100%",this.$("div[data-sfa-class = 'sap-sbo-app-search-result']").css("padding-right",0)):(this.$("div[data-sfa-class = 'sap-sbo-app-search-header']").hide(),e?(a/=2,i=a-15):(i+=15,a-=25),this.$("div[data-sfa-class = 'sap-sbo-app-search-setting']").css("top",20)),this.$("div[data-sfa-class='sap-sbo-app-search-main']").width(a),this.$("div[data-sfa-class='sap-sbo-app-search-main']").css("left",i)
},update:function(e){if(e.DisplaySetting){var t=this.getOption("DisplaySetting"),o="phone"===window.SboShell.callFeatureMethod("shell.getDeviceType");if(this.setInitDimension(),t){var a="45%";o&&(a="100%",this.$("div[data-sfa-class='sap-sbo-app-search-main']").hide()),this.$("div[data-sfa-class = 'sap-sbo-app-search-setting']").css("width",a),this.$("div[data-sfa-class = 'sap-sbo-app-search-setting']").fadeIn()}else this.$("div[data-sfa-class = 'sap-sbo-app-search-setting']").hide(),o&&this.$("div[data-sfa-class='sap-sbo-app-search-main']").fadeIn();this.__DecorateSearchStyle()}},resize:function(){}},Protected:{},Static:{}})}),define("sap.sbo.app.search.SearchRegion",["sap.ui.Controller","sap.ui.widget.ViewRegion","sap.core.viewRegionManager","css!sap.sbo.app.search.SearchRegion"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments),this.declareMember({})},destroy:function(){},initView:function(){var t=$.Deferred();return this.$().process(e),t.resolve(),t.promise()},destroyView:function(){this.__oDestroyPool=null},update:function(){}},Protected:{}})}),define("sap.sbo.app.search.SearchUtil",["sap.sbo.ui.BoNavigationObject","sap.sbo.localization.Helper","sap.sbo.services.BaseService","sap.core.klass"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={},t.core.klass.declare({Name:this.getModuleInfo().moduleName,Public:{init:function(){t.core.klass.declareMember(this,{})},destroy:function(){}},Static:{GetSwitchButtonByStatus:function(e){return e?"image/task/swich2.png":"image/task/swich.png"},GetDisplayNumber:function(e){return e.Display+"("+e.Result.count+")"},GetResultFoundNumber:function(e){return t.sbo.localization.Helper.get("app/SEARCH/RESULTFOUND",e)},SearchWidth:900,SearchHeight:700}})}),define("sap.sbo.app.SalesQuotation.SalesQuotationTile",["sap.ui.Controller","sap.core.JsonModel","sap.ui.widget.TextField","sap.sbo.layout.TileViewController","sap.log","sap.ui.widget.Button","sap.sbo.util.formatter","sap.sbo.services.QuotationsService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.layout.TileViewController,Options:{},Public:{init:function(){t.sbo.layout.TileViewController.prototype.init.apply(this,arguments),this.declareMember({_oSalesQuotationService:this.autoDestroy(new t.sbo.services.QuotationsService),_fGotoSalesQuotation:function(){var e="phone"==SboShell.__deviceType?"phone":"pad";SboShell.gotoView("sap.sbo.page."+e+".SalesQuotation.SalesQuotationListView",{})},_oModel:new t.core.JsonModel({count:0})})},destroy:function(){},initView:function(){var t=$.Deferred();this.$().setModel(this._oModel),this.$().process(e),this.$().on("vclick",this._fGotoSalesQuotation),t.resolve();var o=this;return $.when(this._oSalesQuotationService.count()).done(function(e){o._oModel.set("count",e)}),t.promise()},destroyView:function(){this.$().unprocess(),this.$().off("vclick",this._fGotoSalesQuotation)},update:function(e){t.sbo.layout.TileViewController.prototype.update.apply(this,arguments),e.mode&&(t.log.info("Change mode to :"+this.getOption("mode")),this.$("[field='modeText']").text(this.getOption("mode")))},getSupportedModes:function(){return["2x2","2x4"]}}})}),define("sap.sbo.app.task.taskListSource",["sap.core.klass","sap.core.IListSource","sap.core.IClonable","sap.sbo.app.task.taskUtil","sap.sbo.services.TasksService","sap.sbo.compoundservices.TasksService","sap.sbo.localization.Helper","sap.core.EventProvider"],function(){"use strict";var e=this.getNS(),t=e.sap,o=t.core.klass.declare({Name:this.getModuleInfo().moduleName,Interfaces:[t.core.IListSource,t.core.IClonable],Base:t.core.EventProvider,Public:{init:function(e){t.core.EventProvider.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{__options:e,__oService:new t.sbo.services.TasksService,__dService:new t.sbo.compoundservices.TasksService})},destroy:function(){this.__oService&&(this.__oService.destroy(),this.__oService=null),this.__dService&&(this.__dService.destroy(),this.__dService=null)},read:function(e,o,a){var i=this,s=$.Deferred(),n=i.query(e,o,a),r=t.sbo.localization.Helper.get("app/task/TASKS"),l=t.sbo.localization.Helper.get("app/task/TASK");n.then(function(e){var t=0;e?(t=e["odata.count"],s.resolve({data:e.value||e.result||[],count:e["odata.count"]})):s.resolve({data:[],count:0}),0==t||t>1?window.SboShell.setOption("title",r):window.SboShell.setOption("title",l),window.SboShell.setHeaderCount(t)},function(){s.reject(t.sbo.localization.Helper.get("app/task/GETDATAFAILED"))});var d=s.promise();return d.cancel=function(){n.cancel()},d},isReadable:function(){return!0},isWritable:function(){return!1},clone:function(){return new o(this.__options)},getFilterValue:function(e){return"assignee"===e?window.SboShell.getData("user.employeeID"):"creationUserID"==e?window.SboShell.getData("user.internalKey"):void 0},query:function(e,o,a){var i=e.begin,s=e.size,n=t.sbo.app.task.taskUtil.__translateFilter(a),r={};if(r.location=i,r.length=s,this.__options&&this.__options.boEntity)return this.__dService.getAssociatedTasksByRange(this.__options.boEntity,n.status,r,this.__options.UserAggregation);var l={inlinecount:"allpages",top:s,skip:i,orderby:"endDate"},d=this.__options.filterType;return l.filter=n.status!=t.sbo.app.task.taskUtil.AllStatus?"eq"===n.op&&n.status===t.sbo.app.task.taskUtil.CompleteStatus?"status ne '"+t.sbo.app.task.taskUtil.NotCompleteStatus+"' and "+d+" eq "+this.getFilterValue(d):"status "+n.op+" '"+n.status+"' and "+d+" eq "+this.getFilterValue(d):d+" eq "+this.getFilterValue(d),this.__oService.query(l)}},Protected:{}});return o}),define("sap.sbo.app.task.taskTile",["sap.ui.Controller","sap.ui.widget.TextField","sap.sbo.layout.TileViewController","sap.log","sap.core.JsonModel","sap.ui.widget.Button","sap.core.klass","sap.ui.Repeat","sap.sbo.compoundservices.TasksService","sap.sbo.app.task.taskUtil","sap.sbo.services.TasksService","sap.ui.widget.Icon","sap.sbo.util.formatter","css!sap.sbo.app.task.taskTile","css!sap.sbo.page.boTile"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.layout.TileViewController,Options:{taskID:{type:"string",defaultValue:""},filter:{type:"any",defaultValue:void 0},page:{type:"any",defaultValue:void 0},filterKey:{type:"string",defaultValue:"opened"},data:{}},Public:{init:function(){t.sbo.layout.TileViewController.prototype.init.apply(this,arguments);var e=void 0,o="bo.getBoEntityKey";window.SboShell.isFeatureAvailable(o)&&(e=window.SboShell.callFeatureMethod(o)),t.core.klass.declareMember(this,{__oModel:new t.core.JsonModel({count:0}),__boEntityKey:e,__oService:new t.sbo.compoundservices.TasksService,__dService:new t.sbo.services.TasksService,__iRefreshTicket:-1,__clickProxy:$.proxy(this.__onClickTop,this),__clickAddTask:$.proxy(this.__AddTask,this),__animateCountProxy:$.proxy(this.__animateCount,this),__bToChangeColorBack:!1,__$countContainer:null,__TaskMode:void 0})},destroy:function(){this.__oService&&(this.__oService.destroy(),this.__oService=null),this.__dService&&(this.__dService.destroy(),this.__dService=null),this.__oModel&&(this.__oModel.destroy(),this.__oModel=null)},initView:function(){var t=$.Deferred();this.DisplayByClass();var o=void 0!==window.isPhone?"vertical":"horizontal";this.__oModel.setValue("",{direction:o});var a={};return a.value=[],this.__oModel.setValue("details",a),this.$().setModel(this.__oModel),this.$().process(e),t.resolve(),this.$(".sap-sbo-app-task-layout-add-icon").on("vclick",this.__clickAddTask),this.$().on("vclick",this.__clickProxy),this.__$countContainer=this.$('div[data-sfa-class="count"]'),this.__$countContainer.on("webkitTransitionEnd mozTransitionEnd oTransitionEnd msTransitionEnd transitionend",this.__animateCountProxy),t.promise()},destroyView:function(){clearInterval(this.__iRefreshTicket),this.$().off("vclick",this.__clickProxy),this.$(".sap-sbo-app-task-layout-add-icon").off("vclick",this.__clickAddTask),this.__$countContainer.off("webkitTransitionEnd mozTransitionEnd oTransitionEnd msTransitionEnd transitionend",this.__animateCountProxy),this.__$countContainer=null,this.__oService&&(this.__oService.destroy(),this.__oService=null),this.__oModel&&(this.__oModel.destroy(),this.__oModel=null),this.$().unprocess()},update:function(e){if(e.mode){if(this.getOption("mode")==this.__TaskMode)return;this.__TaskMode=this.getOption("mode"),this.DisplayStrategy()}},__AddTask:function(){var e=this.__boEntityKey,o=this,a=window.SboShell.callFeatureMethod("shell.getDeviceType");if("phone"==a){var i="sap.sbo.page.phone.task.taskDialog";window.SboShell.gotoView(i,{boEntityKey:e,taskID:void 0},{originalBoEntityKey:e})}else window.SboShell.openFrame({view:"sap.sbo.page.pad.task.taskDialog",type:"center",width:t.sbo.app.task.taskUtil.PadtaskDialogDimension.width,height:t.sbo.app.task.taskUtil.PadtaskDialogDimension.height,options:{taskID:void 0,boEntityKey:e,originalBoEntityKey:e},callback:function(e,t){"close"===e&&t&&t.result&&o.DisplayStrategy()}});return!1},DisplayByClass:function(e){"taskTile"!=e&&this.$(".taskTile").hide(),"taskTileSmall"!=e&&this.$(".taskTileSmall").hide(),"taskTileShowDetails"!=e&&this.$(".taskTileShowDetails").hide(),e&&this.$("."+e).show()},DisplayStrategy:function(){var e=window.SboShell.callFeatureMethod("shell.getDeviceType"),t=this.getOption("mode");"phone"==e?"1x1"==t?(this.DisplayByClass("taskTileSmall"),this.__loadCount()):"2x1"==t?(this.DisplayByClass("taskTileShowDetails"),this.__LoadData(1)):(this.DisplayByClass("taskTileSmall"),this.__loadCount()):"2x2"==t?(this.DisplayByClass("taskTileSmall"),this.__loadCount()):"2x4"==t?(this.DisplayByClass("taskTile"),this.__LoadData(2)):"2x6"==t?(this.DisplayByClass("taskTile"),this.__LoadData(4)):(this.DisplayByClass("taskTileSmall"),this.__loadCount())},GetToptask:function(e){var o=this,a={};a.location=0,a.length=e;var i;if(o.__boEntityKey)i=o.__oService.getAssociatedTasksByRange(o.__boEntityKey,t.sbo.app.task.taskUtil.NotCompleteStatus,a,"false");else{var s={inlinecount:"allpages",top:a.length,skip:a.location,orderby:"endDate",filter:"status eq '"+t.sbo.app.task.taskUtil.NotCompleteStatus+"' and assignee eq "+window.SboShell.getData("user.employeeID")};i=o.__dService.query(s)}$.when(i).done(function(e){e||(e={},e.value=[]),t.sbo.app.task.taskUtil.formattaskList(e.value,o.__boEntityKey),o.__oModel.setValue("",{details:e})}).fail(function(){}).always(function(){})},resize:function(){this.__onSizeChange()},getSupportedModes:function(){var e=window.SboShell.callFeatureMethod("shell.getDeviceType");return"phone"!=e?["2x2","2x4","2x6"]:["1x1","2x1"]}},Protected:{__LoadData:function(e){this.__loadCount(),this.GetToptask(e)},__loadCount:function(){var e,o=this;e=o.__boEntityKey?o.__oService.getAssociatedTasksCount(o.__boEntityKey,t.sbo.app.task.taskUtil.NotCompleteStatus,"false"):o.__dService.count({filter:"status eq '"+t.sbo.app.task.taskUtil.NotCompleteStatus+"' and assignee eq "+window.SboShell.getData("user.employeeID")}),$.when(e).done(function(e){var t=e.value|e;o.__oModel.setValue("",{count:t}),t>0?(o.$(".sap-sbo-app-task-empty-container").hide(),o.$("div[data-sfa-class='taskContainer']").show(),o.$(".sap-sbo-app-taskTile-phone-EmptyDiv").hide(),o.$(".sap-sbo-app-taskTile-phone-repeat").show()):(o.$(".sap-sbo-app-task-empty-container").show(),o.$("div[data-sfa-class='taskContainer']").hide(),o.$(".sap-sbo-app-taskTile-phone-EmptyDiv").show(),o.$(".sap-sbo-app-taskTile-phone-repeat").hide())}).fail(function(){o.$(".sap-sbo-app-task-empty-container").hide(),o.$("div[data-sfa-class='taskContainer']").hide(),o.$(".sap-sbo-app-taskTile-phone-repeat").hide(),o.$(".sap-sbo-app-taskTile-phone-EmptyDiv").hide()}).always(function(){})},__onSizeChange:function(){},__onClickTop:function(){var e="phone"==window.SboShell.callFeatureMethod("shell.getDeviceType")?"sap.sbo.page.phone.task.taskList":"sap.sbo.page.pad.task.taskList";window.SboShell.gotoView(e,{boEntityKey:this.__boEntityKey})},__animateCount:function(){this.__bToChangeColorBack&&(this.__bToChangeColorBack=!1,this.__$countContainer.css({color:"#C4C4C4"}))}},Static:{}})}),define("sap.sbo.app.task.taskUtil",["sap.sbo.compoundservices.TasksService","sap.sbo.ui.BoNavigationObject","sap.sbo.localization.Helper","sap.sbo.services.BaseService","sap.core.klass"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={GetBoEntity:function(e,t,o){var a={},i=t.replace(RegExp("'","gm"),"").split("=");a.keyName=i[0],a.keyValue=i[1];var s=[];s.push(a);var n={};return n.boNamespace=o,n.boName=e,n.keyElements=s,n},GetShortDesc:function(e,t){var o=window.SboShell.callFeatureMethod("shell.getDeviceType"),a="phone"==o?30:30;return t&&(a=t),e&&e.length>a&&(e=e.substr(0,a)+"..."),e},getLocalDateFromUTC:function(e){if(e instanceof Date)return e;var t=parseInt(e.replace(/[^0-9]/gi,""));t=new Date(t);var o=t.getTimezoneOffset();return t.setTime(t.getTime()-6e4*o),t},getLocalDate:function(e){if(e instanceof Date)return e;var t=parseInt(e.replace(/[^0-9]/gi,""));return t=new Date(t)},getDateTick:function(e){var t=e.getYear(),o=e.getMonth();10>o&&(o="0"+o);var a=e.getDate();return 10>a&&(a="0"+a),t+""+o+a},getRelatedBoName:function(t){var o=e.formatter.getRelatedBo(t);if(o&&o.boName){var a=o.boName;if(a)return a}return""},getRelatedBoNameAndSequenceNo:function(t){"string"==typeof t&&(t=JSON.parse(t));var o=e.formatter.getRelatedBo(t);if(o&&o.boName){var a=e.formatter.getRelatedBoKeyElement(t)[0].keyValue;return a=t&&t.businessKey?t.businessKey:"",e.formatter.GetBoDisplayName(e.formatter.getRelatedBoName(t))+" "+a}return""},getRelatedBoKeyElement:function(t){var o=e.formatter.getRelatedBo(t);if(o){var a=o.keyElements;if(a)return a.value||a}return void 0},getRelatedBo:function(e){return e?e.boEntityKey||e.BOEntityKey||e:e},DateFormaterTick:function(e){var t=e.getYear()+1900,o=e.getMonth()+1;10>o&&(o="0"+o);var a=e.getDate();return 10>a&&(a="0"+a),t+"-"+o+"-"+a},IsOverDue:function(t){var o=new Date,a=e.formatter.getLocalDateFromUTC(t);return a.getTime()<o.getTime()},IconDisplay:function(e){return e?"block":"none"},DomDisplay:function(e){return e?"sap-sbo-task-show":"sap-sbo-task-hide"},NotSpecialTask:function(t){return t!=e.formatter.ApprovalType&&t!=e.formatter.AuthorizedApprovalType},formattask:function(e,t){var o=JSON.parse(e.relatedBOInfo);e.relatedBusinessObject=o&&o.boEntityKey?o.boEntityKey:void 0,e.originalBoEntityKey=t},taskStatusCK:function(t){return e.formatter.NotSpecialTask(t.type)?e.formatter.IsDifferentUserExceptKeyUser(t.assignee,"assignee")&&e.formatter.IsDifferentUserExceptKeyUser(t.creationUserID,"creationUserId")?"sap-sbo-task-hide":t.status==e.formatter.NotCompleteStatus?"sap-sbo-task-show":"sap-sbo-task-show":"sap-sbo-task-hide"},dateFormater:function(o,a){if(!o)return"";var i,s=new Date;i=a?e.formatter.getLocalDate(o):e.formatter.getLocalDateFromUTC(o);var n=new Date(s.getTime()-864e5),r=new Date(s.getTime()+864e5),l=e.formatter.getDateTick(s),d=e.formatter.getDateTick(i),p=e.formatter.getDateTick(n),c=e.formatter.getDateTick(r);if(d==p)return t.sbo.localization.Helper.get("app/task/YESTERDAY");if(d==c)return t.sbo.localization.Helper.get("app/task/TOMORROW");if(d==l)return t.sbo.localization.Helper.get("app/task/TODAY");var u=i.getDate(),h=i.getMonth()+1,b=i.getYear()+1900;return 10>h&&(h="0"+h),10>u&&(u="0"+u),b+"-"+h+"-"+u},processAttahcmentUrl:function(t){if(t&&t.taskAttachments){var o=t.taskAttachments;$.each(o,function(){var o=this.attachmentId;this.previewUrl=e.formatter.previewUrlBytaskInfo(t.id,o,t.relatedBusinessObject,t.originalBoEntityKey)})}},previewUrlBytaskInfo:function(o,a,i,s,n){var r=e.formatter.getRelatedBo(i),l="thumbnail",d="previewThumbnail",p=window.SboShell.callFeatureMethod("shell.getDeviceType");if("phone"==p&&(l="fingernail",d="previewFingernail"),n&&(l=n),a){var c={};if(r&&s)c=r;else{var u={};u.keyName="id",u.keyValue=o;var h=[];h.push(u),c.boNamespace="com.sap.sbo",c.boName="Task",c.keyElements=h}var b;return b=o?t.sbo.services.BaseService.documentbase+"file/"+l+"?id="+a+"&boEntityKey="+encodeURIComponent(JSON.stringify(c))+"&targetType=Task&targetId="+o+"&tid="+window.SboShell.getData("tenantID"):t.sbo.services.BaseService.documentbase+"file/"+d+"/"+a+"?tid="+window.SboShell.getData("tenantID")}return""},previewUrlBytask:function(t,o){if(!t)return"";o||(o=t.originalBoEntityKey);var a=t.id,i=void 0,s=t.taskAttachments;return s&&(s.length>0&&(i=s[s.length-1].attachmentId),i)?e.formatter.previewUrlBytaskInfo(a,i,t.relatedBusinessObject,o):""},previewUrlFortaskListView:function(t){var o=JSON.parse(t.relatedBOInfo);return t.relatedBusinessObject=o,e.formatter.previewUrlBytask(t,window.SboShell.callFeatureMethod("shell.getCurrentViewInfo").storeParam.boEntityKey)},PreviewUrl:function(e){var o="thumbnail",a=window.SboShell.callFeatureMethod("shell.getDeviceType");if("phone"==a&&(o="fingernail"),e.attachmentId){var i={},s={};s.keyName="employeeID",s.keyValue=e.ownerCode;var n=[];n.push(s),i.boNamespace="com.sap.sbo",i.boName="EmployeesInfo",i.keyElements=n;var r=t.sbo.services.BaseService.documentbase+"file/"+o+"?id="+e.attachmentId+"&boEntityKey="+JSON.stringify(i)+"&tid="+window.SboShell.getData("tenantID");return r}return""},IsDifferentAssignee:function(e){var t=window.SboShell.getData("user.employeeID");return e?""+e!=""+t:!0},IsDifferentCreateUserId:function(e){var t=window.SboShell.getData("user.internalKey");return e?""+e!=""+t:!0},IsDifferentUserExceptKeyUser:function(t,o){var a=!1;"assignee"==o?a=e.formatter.IsDifferentAssignee(t):"creationUserId"==o&&(a=e.formatter.IsDifferentCreateUserId(t));var i=window.SboShell.getData("user.keyUser");return a&&"tYES"!=i},GettaskParam:function(e){return window.SboShell.callFeatureMethod("shell.getCurrentViewInfo").storeParam?window.SboShell.callFeatureMethod("shell.getCurrentViewInfo").storeParam[e]:void 0},timeFormater:function(t,o){if(!t)return"";var a;a=o?e.formatter.getLocalDate(t):e.formatter.getLocalDateFromUTC(t);var i=a.getHours(),s=a.getMinutes();return 10>i&&(i="0"+i),10>s&&(s="0"+s),i+":"+s},Stringformat:function(e,t){return e.replace(/\{(\d+)\}/g,function(e,o){return t[o]})},GetViewName:function(t){if(t){var o=e.formatter.RelatedBoInformation[t];return o&&o.viewName?e.formatter.Stringformat(o.viewName,[e.formatter.phonePadView]):"sap.sbo.page."+e.formatter.phonePadView+"."+t+"."+"Home"}return""},GetBoDisplayName:function(o){if(o){var a=e.formatter.RelatedBoInformation[o];return a&&a.displayBoName?a.displayBoName:t.sbo.localization.Helper.get("common/"+o.toUpperCase()+"_NAME")}return""},TopAll:-1,CompleteStatus:"Complete",NotCompleteStatus:"Pending",RejectStatus:"Reject",AllStatus:"ALL",GrantReadStatus:"GrantRead",viewMode:0,addMode:1,editMode:2,taskDateAddMinutes:15,PortraitId:"-1",__SystemImageId:"System",ApprovalType:"Approval",AuthorizedApprovalType:"AuthorizedApproval",phonePadView:"phone"==window.SboShell.callFeatureMethod("shell.getDeviceType")?"phone":"pad",RelatedBoInformation:{Order:{viewName:"sap.sbo.page.{0}.SalesOrder.SalesOrderHome",displayBoName:t.sbo.localization.Helper.get("common/ORDER_NAME")},Quotation:{viewName:"sap.sbo.page.{0}.SalesQuotation.SalesQuotationHome",displayBoName:t.sbo.localization.Helper.get("common/QUOTATION_NAME")},Item:{viewName:"sap.sbo.page.{0}.Product.ProductHome",displayBoName:t.sbo.localization.Helper.get("common/PRODUCT_NAME")},ContactPerson:{viewName:"sap.sbo.page.{0}.Contact.ContactHome",displayBoName:t.sbo.localization.Helper.get("common/CONTACT_NAME")},BusinessPartner:{viewName:"sap.sbo.page.{0}.Customer.CustomerHome",displayBoName:t.sbo.localization.Helper.get("app/oppo/CUSTOMER")},SalesOpportunity:{displayBoName:t.sbo.localization.Helper.get("app/oppo/OPPORTUNITY")},Leads:{displayBoName:t.sbo.localization.Helper.get("app/lead/LEADS")}}},t.core.klass.declare({Name:this.getModuleInfo().moduleName,Public:{init:function(){t.core.klass.declareMember(this,{__oService:new t.sbo.compoundservices.TasksService})},destroy:function(){this.__oService&&(this.__oService.destroy(),this.__oService=null)}},Static:{getRelatedBoNameAndSequenceNo:function(t){return e.formatter.getRelatedBoNameAndSequenceNo(t)},getRelatedBoInfo:function(t){return e.formatter.getRelatedBoNameAndSequenceNo(JSON.parse(t))},handleError:function(e,o,a){if(a){switch(a){case"add":window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/task/ADDDATAFAILED"));break;case"load":window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/task/GETDATAFAILED"));break;case"edit":window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/task/EDITDATAFAILED"));break;case"delete":window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/task/DELETEDATAFAILED"))}return e.processed(),void 0}e&&e.__msg&&(window.SboShell.raiseMessage(e.__msg),e.processed())},handleSuccess:function(e){"add"===e?window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/task/CREATEDSUCESS"),"success"):"edit"==e&&window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/task/CHANGESAVED"),"success")},GetShortDesc:function(t){return e.formatter.GetShortDesc(t)},GetShortDescOnTileView:function(e){var t=window.SboShell.callFeatureMethod("shell.getDeviceType"),o="phone"==t?30:30;return e&&e.length>o&&(e=e.substr(0,o)+"..."),e},ShortDescWithMemoFileName:function(t){var o=e.formatter.GetShortDesc(t.description),a=window.SboShell.callFeatureMethod("shell.getDeviceType");return"phone"==a&&(""!=o&&o||t.taskAttachments&&t.taskAttachments.length>0&&(o=t.taskAttachments[t.taskAttachments.length-1].attachmentFileName)),o},ShortDescWithMemoFileNameInTile:function(t){var o=void 0;window.SboShell.callFeatureMethod("shell.getDeviceType"),t.taskAttachments&&t.taskAttachments.length>0&&(o=20);var a=e.formatter.GetShortDesc(t.description,o);return a},SettaskTypeForPersistence:function(e){return e.replace(RegExp(" ","gm"),"_")},getLocalDateFromUTC:function(t){return e.formatter.getLocalDateFromUTC(t)},GetDateString:function(t){var o=e.formatter.getLocalDateFromUTC(t);return o.toDateString()},DomDisplay:function(t){return e.formatter.DomDisplay(t)},__translateFilter:function(e){function t(e){"eq"===e.op?(o.op="eq",o[e.leftValue.value]=e.rightValue):"ne"===e.op?(o.op="ne",o[e.leftValue.value]=e.rightValue):(t(e.leftValue),t(e.rightValue))}var o={};return t(e.__filter),o},DownLoad:function(e,t){window.SboShell.previewAttachment(e,t)},GetBoEntity:function(t,o,a){return e.formatter.GetBoEntity(t,o,a)},convertStatusToFlagImage:function(e){switch(e){case 2:return"<img src='image/task-done.png'>";default:return""}},getDateTick:function(t){e.formatter.getDateTick(t)},dateFormater:function(t){return e.formatter.dateFormater(t)},dateFormaterLocal:function(t){return e.formatter.dateFormater(t,!0)},timeFormater:function(t){return e.formatter.timeFormater(t)},timeFormaterLocal:function(t){return e.formatter.timeFormater(t,!0)},removePreviewIcon:function(t){return t==e.formatter.__SystemImageId?"removePreviewIcon":"removeEditIcon"},IsOverDue:function(t){return e.formatter.IsOverDue(t)},ImageUrlComplete:function(e){return e?"image/task/"+e+".png":""},MemoUrlComplete:function(){return"image/task/attachment.png"},typeIconFormater:function(e){return e},IconDisplay:function(t,o){return e.formatter.IconDisplay(t,o)},typeIconDisplay:function(t){var o=""!=t.type;return e.formatter.DomDisplay(o)},memoIconDisplay:function(t){return e.formatter.DomDisplay(t.type!=e.formatter.ApprovalType&&t.taskAttachments&&t.taskAttachments.length&&t.taskAttachments.length>0)},modeDisplay:function(t){return e.formatter.DomDisplay(t.Mode!=e.formatter.viewMode)},modeDisplayBlock:function(t){var o=e.formatter.DomDisplay(t.Mode!=e.formatter.viewMode);return"sap-sbo-task-show"==o&&(o="sap-sbo-task-show-block"),o},modeHide:function(t){return e.formatter.DomDisplay(t.Mode==e.formatter.viewMode)},modeEdit:function(t){return e.formatter.DomDisplay(t.Mode==e.formatter.editMode)},removeImgDisplay:function(t){var o=e.formatter.getRelatedBoName(t.value.relatedBusinessObject);return e.formatter.DomDisplay(o&&""!=o&&t.Mode==e.formatter.addMode)},RelatedBoTextDisplay:function(t){var o=e.formatter.getRelatedBoName(t.value.relatedBusinessObject);return e.formatter.DomDisplay(o&&""!=o)},StatusDisplay:function(t){return e.formatter.DomDisplay(t.status==e.formatter.NotCompleteStatus&&t.type!=e.formatter.ApprovalType)},ShowPlaceHolderText:function(o){return o==e.formatter.AuthorizedApprovalType?t.sbo.localization.Helper.get("app/task/REASON")+"...":t.sbo.localization.Helper.get("app/task/TODONEXT")+"..."},taskUploadFileDisplay:function(t){var o=window.SboShell.callFeatureMethod("shell.getDeviceType");return e.formatter.DomDisplay("phone"==o||"desktop"==o&&e.formatter.NotSpecialTask(t))},photoAndTalkDisplay:function(t){var o=window.SboShell.callFeatureMethod("shell.getDeviceType");return e.formatter.DomDisplay("desktop"!=o&&e.formatter.NotSpecialTask(t))},DoneCss:function(t){return t.status!=e.formatter.NotCompleteStatus?"sap-sbo-Done-Text":e.formatter.IsOverDue(t.endDate)?"sap-sbo-OverDue-Text":"sap-sbo-nOverDue-Text"},SavedText:function(o){return o==e.formatter.AuthorizedApprovalType?t.sbo.localization.Helper.get("app/task/REQUESTSEND"):t.sbo.localization.Helper.get("app/task/SAVE")},IsCompleted:function(t){return t==e.formatter.CompleteStatus},SpecialTypeDisplay:function(t){return e.formatter.NotSpecialTask(t.type)||t.status!=e.formatter.NotCompleteStatus||e.formatter.IsDifferentUserExceptKeyUser(t.assignee,"assignee")?"sap-sbo-task-hide":"sap-sbo-task-show"},GrandReadDisplay:function(t){return t.type!=e.formatter.AuthorizedApprovalType||t.status!=e.formatter.NotCompleteStatus||e.formatter.IsDifferentUserExceptKeyUser(t.assignee,"assignee")?"sap-sbo-task-hide":"sap-sbo-task-show"},ApprovalDisplay:function(t){return t.type!=e.formatter.ApprovalType||t.status!=e.formatter.NotCompleteStatus||e.formatter.IsDifferentUserExceptKeyUser(t.assignee,"assignee")?"sap-sbo-task-hide":"sap-sbo-task-show"},RequestDisplay:function(t){return t.type!=e.formatter.AuthorizedApprovalType||t.status!=e.formatter.NotCompleteStatus||e.formatter.IsDifferentUserExceptKeyUser(t.assignee,"assignee")?"sap-sbo-task-hide":"sap-sbo-task-show"},SpecialTypeStatusDisplay:function(t){return e.formatter.NotSpecialTask(t.type)||t.status==e.formatter.NotCompleteStatus?"sap-sbo-task-hide":"sap-sbo-task-show"},ApprovalStatusDisplay:function(t){return t.type==e.formatter.ApprovalType&&t.status!=e.formatter.NotCompleteStatus?"sap-sbo-task-show":"sap-sbo-task-hide"},ApprovalHide:function(t){return t.type==e.formatter.ApprovalType&&t.status==e.formatter.NotCompleteStatus?"sap-sbo-task-hide":"sap-sbo-task-show"},taskStatusCK:function(t){return e.formatter.taskStatusCK(t)},taskStatusCKText:function(t){var o=e.formatter.taskStatusCK(t),a="sap-sbo-task-colorBlack";return t.status==e.formatter.CompleteStatus&&(a="sap-sbo-task-colorGrey"),o+" "+a},getTaskStatusText:function(o){return o.type==e.formatter.ApprovalType?"":o.status==e.formatter.CompleteStatus?t.sbo.localization.Helper.get("app/task/COMPLETED"):t.sbo.localization.Helper.get("app/task/ACTIVE")},DoneButtonDisplay:function(t){return e.formatter.DomDisplay(!e.formatter.IsDifferentUserExceptKeyUser(t.assignee,"assignee")||!e.formatter.IsDifferentUserExceptKeyUser(t.creationUserID,"creationUserId"))},GetSwitchButtonByStatus:function(t){return t==e.formatter.NotCompleteStatus?"image/task/swich2.png":"image/task/swich.png"},Stringformat:function(t,o){return e.formatter.Stringformat(t,o)},IsDifferentAssignee:function(t){return e.formatter.IsDifferentAssignee(t)},GetTypeString:function(o){return o.type==e.formatter.ApprovalType?o.status==e.formatter.CompleteStatus?t.sbo.localization.Helper.get("app/task/APPROVED"):o.status==e.formatter.RejectStatus?t.sbo.localization.Helper.get("app/task/REJECTED"):"":o.type==e.formatter.AuthorizedApprovalType?o.status==e.formatter.CompleteStatus?t.sbo.localization.Helper.get("app/task/GFULL"):o.status==e.formatter.RejectStatus?t.sbo.localization.Helper.get("app/task/REJECTED"):o.status==e.formatter.GrantReadStatus?t.sbo.localization.Helper.get("app/task/GREAD"):"":t.sbo.localization.Helper.get("app/task/REOPEN")},getDueDataClass:function(t){return e.formatter.NotSpecialTask(t.type)?e.formatter.IsOverDue(t.endDate)&&t.status==e.formatter.NotCompleteStatus?"DueDateComplete":"DueDate":"DueDateHide"},getDueDataClassInTile:function(t){return e.formatter.IsOverDue(t.endDate)&&t.status==e.formatter.NotCompleteStatus?"DueDateComplete":"DueDate"},getDueTimeClass:function(t){return e.formatter.IsOverDue(t.endDate)&&t.status==e.formatter.NotCompleteStatus?"DueTimeComplete":"DueTime"},getMemoContentClass:function(t){return t.status!=e.formatter.NotCompleteStatus?0==t.taskAttachments.length?"MemoContentGrey":"MemoContentGreyHalf":0==t.taskAttachments.length?"MemoContentBlack":"MemoContentBlackHalf"},memoIconDisplayByDescription:function(e){return e.taskAttachments.length>0?"sap-sbo-task-show":"sap-sbo-task-hide"},checked_status:function(e,t){return"<<"===t?2===e:e?2:1},checkboxVisibility_status:function(e,t){return"<<"===t?0===e||3===e?"none":"block":void 0},DateDisplay:function(t){return t&&""!=t?e.formatter.dateFormater(t):""},IsReadonly:function(t){return t==e.formatter.viewMode?!0:!1},changeBackgroundColor:function(t){return t!=e.formatter.NotCompleteStatus?"sap-sbo-task-done":"sap-sbo-task-inprocess"},PreviewUrl:function(t){return e.formatter.PreviewUrl(t)},previewUrlBytask:function(t,o){return e.formatter.previewUrlBytask(t,o)},previewUrlBytaskDetailsView:function(t){return e.formatter.previewUrlBytaskDetailsView(t)},previewUrlFortaskListView:function(t){return e.formatter.previewUrlFortaskListView(t)},PortraitUrl:function(o){var a=o["assigneeUserEmployee.PortraitId"];if(a&&a!=e.formatter.PortraitId){var i="thumbnail",s=window.SboShell.callFeatureMethod("shell.getDeviceType");"phone"==s&&(i="fingernail");var n={},r={};r.keyName="employeeID",r.keyValue=o.assignee;var l=[];l.push(r),n.boNamespace="com.sap.sbo",n.boName="EmployeesInfo",n.keyElements=l;var d=t.sbo.services.BaseService.documentbase+"file/"+i+"?id="+a+"&boEntityKey="+JSON.stringify(n)+"&tid="+window.SboShell.getData("tenantID");return d}return"image/common/no-portrait.png"},AttachmentHeight:function(e){return e&&e.length&&e.length>0?"HasAttachment":"NoneAttachment"},getRelatedBoName:function(t){return e.formatter.getRelatedBoName(t)},getRelatedBo:function(t){return e.formatter.getRelatedBo(t)},DownLoadUrl:function(t,o,a){return e.formatter.previewUrlBytaskInfo(o.id,t,o.relatedBusinessObject,a,"open")},GetDueDateClassInListView:function(){var e=window.SboShell.callFeatureMethod("shell.getDeviceType");return"pad"==e?"DueDateClassInPad":"DueDateClassInOther"},DatePickToVal:function(t){try{var o=e.formatter.getLocalDateFromUTC(t),a=e.formatter.DateFormaterTick(o);return a}catch(i){return""}},DatePickForDateTimeField:function(t){try{return e.formatter.getLocalDateFromUTC(t)}catch(o){return null}},UserImageDisplay:function(t,o){return e.formatter.IconDisplay(t!=e.formatter.PortraitId,o)},GettaskParam:function(t){return e.formatter.GettaskParam(t)},DoneText:function(o){if(o.type==e.formatter.ApprovalType){if(o.status==e.formatter.CompleteStatus)return t.sbo.localization.Helper.get("app/task/APPROVED");if(o.status==e.formatter.RejectStatus)return t.sbo.localization.Helper.get("app/task/REJECTED");if(o.status==e.formatter.NotCompleteStatus)return t.sbo.localization.Helper.get("app/task/APPROVE")}else{if(o.type!=e.formatter.AuthorizedApprovalType)return o.status==e.formatter.CompleteStatus?t.sbo.localization.Helper.get("app/task/REOPEN"):t.sbo.localization.Helper.get("app/task/TODONE");if(o.status==e.formatter.CompleteStatus)return t.sbo.localization.Helper.get("app/task/GFULL");if(o.status==e.formatter.RejectStatus)return t.sbo.localization.Helper.get("app/task/REJECTED");if(o.status==e.formatter.GrantReadStatus)return t.sbo.localization.Helper.get("app/task/GREAD")
}return""},SettaskStatus:function(o,a,i){var s="";if(s=i==e.formatter.ApprovalType?a==e.formatter.CompleteStatus?"approve":"reject":i==e.formatter.AuthorizedApprovalType?a==e.formatter.CompleteStatus?"grantFull":a==e.formatter.GrantReadStatus?"grantRead":"ignore":a==e.formatter.NotCompleteStatus?"reopen":"done"){var n=new t.sbo.services.BaseService;return n.asyncReq({type:"POST",dataType:"json",contentType:"application/json",url:t.sbo.services.BaseService.documentbase+escape("Tasks("+o+")/"+s)})}},SetApprovalInListText:function(o){return o.type==e.formatter.ApprovalType?t.sbo.localization.Helper.get("app/task/APPROVE"):o.type==e.formatter.AuthorizedApprovalType?t.sbo.localization.Helper.get("app/task/GFULL"):void 0},SetApprovalInListText2:function(){return t.sbo.localization.Helper.get("app/task/GREAD")},assigneeDisplayNameConvertor:function(e){return e?(e.length>15&&(e=e.substring(0,10)+"..."),e):""},attachmentFileName:function(e){if(e){var t="...",o=20;return e.length>o&&(e=e.substring(0,o-t.length)+t),e}return""},showTaskSettingByType:function(t){return t.type!=e.formatter.AuthorizedApprovalType||t.id?"sap-sbo-task-show-block":"sap-sbo-task-hide"},linktoBo:function(t){var o=e.formatter.getRelatedBoName(t),a=e.formatter.GetViewName(o),i=e.formatter.getRelatedBoKeyElement(t);window.SboShell.gotoView(a,[{keyName:i[0].keyName,keyValue:i[0].keyValue}])},processAttahcmentUrl:function(t){return e.formatter.processAttahcmentUrl(t)},previewUrlBytaskInfo:function(t,o,a,i,s){return e.formatter.previewUrlBytaskInfo(t,o,a,i,s)},NotSpecialTask:function(t){return e.formatter.NotSpecialTask(t)},ShowEditBar:function(t){return e.formatter.DomDisplay(t.details.value.status==e.formatter.NotCompleteStatus&&t.details.value.type!=e.formatter.ApprovalType&&t.details.Mode!=e.formatter.viewMode)},ShowApprovalBar:function(t){return e.formatter.DomDisplay(t.details.value.type==e.formatter.ApprovalType&&t.details.value.status==e.formatter.NotCompleteStatus)},ShowRequestBar:function(t){return e.formatter.DomDisplay(t.details.value.type==e.formatter.AuthorizedApprovalType&&t.details.value.status==e.formatter.NotCompleteStatus&&t.details.Mode!=e.formatter.addMode)},ShowViewBar:function(t){return e.formatter.DomDisplay(e.formatter.NotSpecialTask(t.details.value.type)&&t.details.value.status==e.formatter.NotCompleteStatus&&t.details.Mode==e.formatter.viewMode)},ShowCompletedBar:function(t){return e.formatter.DomDisplay(t.details.value.status!=e.formatter.NotCompleteStatus)},taskDisplayCompletedText:function(o){if(o.details.value.type!=e.formatter.AuthorizedApprovalType)return o.details.value.type==e.formatter.ApprovalType&&o.details.value.status==e.formatter.RejectStatus?t.sbo.localization.Helper.get("app/task/REJECTED"):o.details.value.type==e.formatter.ApprovalType&&o.details.value.status==e.formatter.CompleteStatus?t.sbo.localization.Helper.get("app/task/APPROVED"):t.sbo.localization.Helper.get("app/task/REOPEN");var a=o.details.value.status;return a==e.formatter.CompleteStatus?t.sbo.localization.Helper.get("app/task/GFULL"):a==e.formatter.RejectStatus?t.sbo.localization.Helper.get("app/task/REJECTED"):a==e.formatter.GrantReadStatus?t.sbo.localization.Helper.get("app/task/GREAD"):void 0},formattask:function(t,o){e.formatter.formattask(t,o)},formattaskList:function(t,o){t instanceof Array&&$.each(t,function(){e.formatter.formattask(this,o)})},getRelatedBoForBoLinkWidget:function(e){if(!e)return t.sbo.ui.BoNavigationObject.getAnEmptyInstance();var o=e.keyElements,a=[];return $.each(o,function(e){o[e]&&a.push(o[e].keyValue)}),new t.sbo.ui.BoNavigationObject({boName:e.boName,boNamespace:e.boNamespace,keyElements:a})},IsDifferentUserExceptKeyUser:function(t,o){return e.formatter.IsDifferentUserExceptKeyUser(t,o)},CompleteStatus:e.formatter.CompleteStatus,NotCompleteStatus:e.formatter.NotCompleteStatus,RejectStatus:e.formatter.RejectStatus,AllStatus:e.formatter.AllStatus,GrantReadStatus:e.formatter.GrantReadStatus,TopAll:e.formatter.TopAll,viewMode:e.formatter.viewMode,addMode:e.formatter.addMode,editMode:e.formatter.editMode,taskDateAddMinutes:e.formatter.taskDateAddMinutes,__SystemImageId:e.formatter.__SystemImageId,PortraitId:e.formatter.PortraitId,MaxTextLength:4e3,ApprovalType:e.formatter.ApprovalType,AuthorizedApprovalType:e.formatter.AuthorizedApprovalType,PadtaskDialogDimension:{width:934,height:648}}})}),define("sap.sbo.app.TargetGroup.TargetGroupTile",["sap.ui.Controller","sap.core.JsonModel","sap.ui.widget.TextField","sap.sbo.layout.TileViewController","sap.log","sap.ui.widget.Button","sap.sbo.util.formatter","sap.sbo.services.TargetGroupsService"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.layout.TileViewController,Options:{},Public:{init:function(){t.sbo.layout.TileViewController.prototype.init.apply(this,arguments),this.declareMember({_oBOService:this.autoDestroy(new t.sbo.services.TargetGroupsService),_fGotoBO:function(){var e="phone"==SboShell.__deviceType?"phone":"pad";SboShell.gotoView("sap.sbo.page."+e+".TargetGroup.TargetGroupListView",{})},_oModel:new t.core.JsonModel({count:0})})},destroy:function(){},initView:function(){this.$().setModel(this._oModel),this.$().process(e),this.$().on("vclick",this._fGotoBO);var t=this;$.when(this._oBOService.count()).done(function(e){t._oModel.set("count",e)}).fail(function(){})},destroyView:function(){this.$().unprocess(),this.$().off("vclick",this._fGotoBO)},update:function(e){t.sbo.layout.TileViewController.prototype.update.apply(this,arguments),e.mode&&(t.log.info("Change mode to :"+this.getOption("mode")),this.$("[field='modeText']").text(this.getOption("mode")))},getSupportedModes:function(){return["2x2","2x4"]}}})}),define("sap.sbo.app.MasterDatas.Competitor.CompetitorTile",["sap.ui.Controller","sap.sbo.layout.TileViewController","sap.log","sap.ui.widget.Button","sap.core.klass","sap.core.JsonModel","sap.sbo.services.SalesOpportunityCompetitorSetupsService","sap.sbo.util.formatter","css!sap.sbo.page.boTile"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.layout.TileViewController,Options:{},Public:{init:function(){t.sbo.layout.TileViewController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{_oService:new t.sbo.services.SalesOpportunityCompetitorSetupsService,_oModel:new t.core.JsonModel({count:0,bigvisibility:"hidden"})})},destroy:function(){this._oService.destroy()},initView:function(){this.$().setModel(this._oModel),this.$().process(e);var t=this;$.when(this._oService.count()).done(function(e){t._oModel.set("count",e)}),this.$().on("vclick",function(){var e="phone"==SboShell.__deviceType?"phone":"pad";window.SboShell.gotoView("sap.sbo.page."+e+".MasterDatas.Competitor.CompetitorListView")})},destroyView:function(){this.$().unprocess()},update:function(e){if(t.sbo.layout.TileViewController.prototype.update.apply(this,arguments),e.mode){var o=this.getOption("mode");t.log.info("Change mode to :"+this.getOption("mode")),this.$("[field='modeText']").text(this.getOption("mode")),"2x4"===o||"2x2"===o?this._oModel.set("bigvisibility","visible"):this._oModel.set("bigvisibility","hidden")}},getSupportedModes:function(){return["2x2","2x4","2xN"]}}})}),define("sap.sbo.app.network.FeedTile",["sap.core.klass","sap.core.JsonModel","sap.sbo.layout.TileViewController","sap.sbo.services.FeedService","sap.sbo.util.formatter","sap.sbo.services.BaseService","sap.core.GuardedTimer","sap.sbo.localization.Helper","sap.sbo.ui.widget.BoLink","sap.ui.widget.Photo","sap.ui.Repeat","css!sap.sbo.page.boTile","css!sap.sbo.app.network.FeedTile"],function(){"use strict";var e=this.getNS(),t=e.sap,o=window.SboShell;return e.formatter={getCommentsCount:function(e){return 1!=e?e+" "+t.sbo.localization.Helper.get("page/phone/network/cmts_unit"):e+" "+t.sbo.localization.Helper.get("page/phone/network/cmt_unit")},convertDisplayStr:function(e){return 0>=e?"":e+" hot"},getDisplayName:function(e){return null!=e&&null!=e.displayName&&"person"==e.objectType?e.displayName:""},getAttachedStatus:function(e){if(null!=e&&e.totalItems>0){var t=e.items.value[0].item;return t.objectType.indexOf("image")>-1?"showImgPanel":"showAthPanel"}return"hidePanel"},getFirstAttachedFile:function(e){if(null!=e&&e.totalItems>0){var t=e.items.value[0].item;return t.objectType.indexOf("image")>-1?t.path:"image/feed/attachment.png"}return""}},t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.layout.TileViewController,Public:{init:function(){t.sbo.layout.TileViewController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{__iCountOfItemsDisplayed:1,__bFirstTime:!0,__bToChangeBackgroundBack:!1,__bToChangeColorBack:!1,__oModel:new t.core.JsonModel({thingID:null,count:0,displayName:"",imageUrl:"",avatarVisibility:"none",feedContent:{content:"",contentHTML:"",contentTITLE:"",objectType:"",embed:{objectType:"",totalItems:0,items:[]}},feedItems:[]}),__oService:new t.sbo.services.FeedService,__clickProxy:$.proxy(this.__onClickTop,this),__aLocalFeeds:[],__thingID:null,__oTimer:this.autoDestroy(new t.core.GuardedTimer),__hasThingId:!1,__failedCount:0,__currentData:null,__interval:null})},destroy:function(){this.__oService.destroy(),this.__oService=null,this.__oModel.destroy(),this.__oModel=null,this.__thingID=null},initView:function(){var t=this,o=$.Deferred();return window.SboShell.isFeatureAvailable("network.getThingId")?window.SboShell.callFeatureMethod("network.getThingId").done(function(e){t.__thingID=e}).fail(function(){t.__thingID="-1"}).always(function(){t.__hasThingId=!0,t.__load()}):(this.__thingID=null,this.__load()),this.$().setModel(this.__oModel),this.$().process(e),o.resolve(),$("body").find("#tile_2_4").on("vclick",t.__clickProxy),this.__aLocalFeeds=[],this.__interval=this.__oTimer.setInterval(function(){t.__load()},1e4),o.promise()},destroyView:function(){this.__aLocalFeeds=null,this.$(".number").off("vclick",this.__clickProxy),$("body").find("#tile_2_4").on("vclick",this.__clickProxy),this.$().unprocess()},update:function(e){if(e.mode){var t=this.getOption("mode");"2x2"===t?($("body").find("#tile_2_2").show(),$("body").find("#tile_2_4").hide(),this.$(".number").on("vclick",this.__clickProxy)):($("body").find("#tile_2_2").hide(),$("body").find("#tile_2_4").show())}},resize:function(){this.__onSizeChange()},getSupportedModes:function(){return["2x2","2x4"]}},Protected:{__assembleFeedItem:function(e){return e=t.sbo.util.formatter.convertAttachedFiles(e),{avatarVisibility:"block",imageUrl:e.actor.userCode,displayName:e.actor.displayName,feedContent:e.object,id:e.id}},__load:function(){var o=this;-1!=o.__thingID&&null!=this.__oService&&$.when(this.__oService.loadHomeFeed(o.__thingID,this.__iCountOfItemsDisplayed)).done(function(a){o.__failedCount=0;var i={count:0,verb:"",actor:{portraitId:-1},object:{contentHTML:""},published:null,comments:{totalItems:0}};if(i.count=a.hotCount,null!=a.items&&null!=a.items.value&&a.items.value.length>0){if(null!=o.__currentData&&o.__currentData.id==a.items.value[0].item.id)return;var s=t.sbo.util.formatter.convertAttachedFiles(a.items.value[0].item);o.__currentData=s,s.count=i.count,i=s}o.$(".content").children().unprocess(),o.$(".portrait").children().unprocess(),o.__oModel.setValue("",i),o.$(".content").children().process(e),o.$(".portrait").children().process(e)}).fail(function(){o.__failedCount++,5==o.__failedCount&&o.__interval.cancel()})},__onClickTop:function(){"phone"==SboShell.__deviceType?o.gotoView("sap.sbo.page.phone.network.Feeds",{thingID:this.__thingID}):"simulator"==SboShell.__deviceType?o.gotoView("sap.sbo.page.phone.network.Feeds",{thingID:this.__thingID}):o.gotoView("sap.sbo.page.pad.network.Feeds",{thingID:this.__thingID})}},Static:{}})}),define("sap.sbo.app.network.Reason",["sap.sbo.ui.FrameViewController","sap.ui.Controller","sap.core.klass","sap.sbo.services.FeedService","sap.sbo.localization.Helper"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Options:{thingID:{type:"integer",defaultValue:-1},entity:{type:"object",defaultValue:null},isFromTile:{type:"boolean",defaultValue:!1},isCustomer:{type:"boolean",defaultValue:!1}},Public:{init:function(){t.sbo.ui.FrameViewController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{__oFeedService:this.autoDestroy(new t.sbo.services.FeedService),__thingID:null,__entity:null})},destroy:function(){},initView:function(){var t=this,o=$.Deferred();return $.when(this.$().process(e)).done(function(){o.resolve(),setTimeout(function(){$("#txt_reason").focus()},0)}),this.__thingID=this.getOption("thingID"),this.__entity=this.getOption("entity"),this.$("#btnOk").on("click",function(){var e=t.$("#txt_reason").val();0!=e.length&&$.when(t.__oFeedService.relate(t.__thingID,t.__entity,e)).done(function(){t.callShell({name:"s"}),t.closeFrame()}).fail(function(e){t.closeFrame(),window.SboShell.raiseException(e,"error")})}),this.$("#btnCancel").on("click",function(){t.callShell({name:"c"}),t.closeFrame()}),o.promise()},destroyView:function(){this.$("#btnOk").off("click"),this.$("#btnCancel").off("click")},update:function(){}},Protected:{}})}),define("sap.sbo.app.network.RelatedList",["sap.core.klass","sap.core.JsonModel","sap.ui.Controller","sap.sbo.layout.pad.ListLayout","sap.core.ArrayListSource","sap.ui.MessageBox","sap.sbo.localization.Helper","sap.sbo.page.BaseBoListViewController","sap.sbo.ui.widget.ListManipulator","sap.sbo.ui.widget.DecimalLabel","sap.sbo.services.FeedService","sap.formatter","sap.core.ListSourceFilter","css!sap.sbo.app.network.RelatedList"],function(){"use strict";var e,t,o=this.getNS(),a=o.sap,i=[{key:"2",text:a.sbo.localization.Helper.get("app/network/boName/customers"),boEntityKey:{boNamespace:"com.sap.sbo",boName:"BusinessPartner",keyElements:[{keyName:"cardCode",keyValue:null}]}},{key:"4",text:a.sbo.localization.Helper.get("app/network/boName/products"),boEntityKey:{boNamespace:"com.sap.sbo",boName:"Item",keyElements:[{keyName:"itemCode",keyValue:null}]}},{key:"97",text:a.sbo.localization.Helper.get("app/network/boName/opportunities"),boEntityKey:{boNamespace:"com.sap.sbo",boName:"SalesOpportunity",keyElements:[{keyName:"sequentialNo",keyValue:null}]}},{key:"11",text:a.sbo.localization.Helper.get("app/network/boName/contacts"),boEntityKey:{boNamespace:"com.sap.sbo",boName:"ContactPerson",keyElements:[{keyName:"contactPersonID",keyValue:null}]}},{key:"17",text:a.sbo.localization.Helper.get("app/network/boName/orders"),boEntityKey:{boNamespace:"com.sap.sbo",boName:"Order",keyElements:[{keyName:"docEntry",keyValue:null}]}},{key:"23",text:a.sbo.localization.Helper.get("app/network/boName/quotations"),boEntityKey:{boNamespace:"com.sap.sbo",boName:"Quotation",keyElements:[{keyName:"docEntry",keyValue:null}]}},{key:"J0001",text:a.sbo.localization.Helper.get("app/network/boName/leads"),boEntityKey:{boNamespace:"com.sap.sbo",boName:"Leads",keyElements:[{keyName:"id",keyValue:null}]}}];return a.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:a.sbo.page.BaseBoListViewController,Options:{isCustomer:{type:"boolean",defaultValue:!1}},Public:{init:function(){a.sbo.page.BaseBoListViewController.prototype.init.apply(this,arguments),this.declareMember({__oFeedService:this.autoDestroy(new a.sbo.services.FeedService),__thingID:null,__buttonClickProxy:$.proxy(this.__buttonClicked,this),__currentMode:null,__isCustomer:!1,__relatedDocs:null})},destroy:function(){},initView:function(){var e=this,t=$.Deferred();if(window.SboShell.isFeatureAvailable("shell.getCurrentViewInfo")){var o=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo");return e.__thingID=o.storeParam.thingID,e.__isCustomer=o.storeParam.isCustomer,e.setTitle(a.sbo.localization.Helper.get("app/network/related/title")),window.SboShell.addActionButtons([{text:a.sbo.localization.Helper.get("common/EDIT"),key:"edit"}],e),this.__currentMode="r",window.SboShell.attachEvent("actionButtonClick",e.__buttonClickProxy),this.__reload(t),t.promise()}},destroyView:function(){this.$().unprocess(),window.SboShell.detachEvent("actionButtonClick",this.__buttonClickProxy),$("#related-listView .related-tail").off("vclick")},update:function(){},getProcessContext:function(){return o}},Protected:{__getBoEntity:function(e){for(var t=0,o=i.length;o>t;t++)if(i[t].key==e)return i[t].boEntityKey},__buttonClicked:function(e){var t=this;if("edit"==e)this.__currentMode="e",window.SboShell.removeActionButtons(["edit","done","2","4","11","97"]),window.SboShell.addActionButtons([{text:a.sbo.localization.Helper.get("common/SAVE"),key:"done"},{text:a.sbo.localization.Helper.get("app/network/related/customer"),key:"2"},{text:a.sbo.localization.Helper.get("app/network/related/product"),key:"4"},{text:a.sbo.localization.Helper.get("app/network/related/contact"),key:"11"},{text:a.sbo.localization.Helper.get("app/network/related/opportunity"),key:"97"},{text:a.sbo.localization.Helper.get("app/network/related/order"),key:"17"},{text:a.sbo.localization.Helper.get("app/network/related/quotation"),key:"23"},{text:a.sbo.localization.Helper.get("app/network/related/leads"),key:"J0001"}],this),this.__refreshTail(!0);else if("done"==e)this.__currentMode="r",window.SboShell.removeActionButtons(["done","2","4","11","97","17","23","J0001"]),window.SboShell.addActionButtons([{text:a.sbo.localization.Helper.get("common/EDIT"),key:"edit"}],this),this.__refreshTail(!1);else if("2"==e){var o=[];if(t.__relatedDocs)for(var i=0,s=t.__relatedDocs.length;s>i;i++)t.__relatedDocs[i].boType==e&&o.push(t.__relatedDocs[i].id);t.__buildFilter("id",o),t.__openChooseList(e,"sap.sbo.chooseList.pad.ChooseListCustomer")}else"4"==e?t.__openChooseList(e,"sap.sbo.chooseList.pad.ChooseListProduct"):"11"==e?t.__openChooseList(e,"sap.sbo.chooseList.pad.ChooseListContact"):"97"==e?t.__openChooseList(e,"sap.sbo.chooseList.pad.ChooseListOpportunity"):"17"==e?t.__openChooseList(e,"sap.sbo.chooseList.pad.ChooseListOrder"):"23"==e?t.__openChooseList(e,"sap.sbo.chooseList.pad.ChooseListQuotation"):"J0001"==e&&t.__openChooseList(e,"sap.sbo.chooseList.pad.ChooseListLeads")},__openChooseList:function(e,t){var o=this;window.SboShell.openFrame({view:t,type:"right",callback:function(t,a){if("select"===t&&a){var i=o.__getBoEntity(e);i.keyElements[0].keyValue=a[i.keyElements[0].keyName],window.SboShell.openFrame({view:"sap.sbo.app.network.Reason",type:"center",width:300,height:200,options:{thingID:o.__thingID,entity:i},callback:function(e){"s"==e.name&&o.__reload()}})}}})},__refreshTail:function(){var e=this;$("#related-listView .related-tail").each(function(){var t=$(this).attr("data-sap-type");e.__isRemoveAble(t)&&"r"!=e.__currentMode?$(this).css("height","30px"):$(this).css("height","0px")})},__isRemoveAble:function(e){return"FromNode"==e||"ToNode"==e||"Creator"==e||"ReferNode"==e||"Manager"==e||"Owner"==e?!1:!0},__buildFilter:function(e,t){for(var o="",a=0,i=t.length;i>a;a++)o=0===o.length?"(["+e+"] != '"+t[a]+"')":"("+o+"&"+"(["+e+"] != '"+t[a]+"'))";return o},__reload:function(e){var t=this;t.__isCustomer?$.when(t.__oFeedService.loadRelated(t.__thingID,!0)).done(function(o){t.__renderList(o),e&&e.resolve()}).fail(function(){e.reject()}):$.when(t.__oFeedService.loadFollowees(t.__thingID,!0)).done(function(o){t.__renderList(o),e&&e.resolve()}).fail(function(){e.reject()})},__renderList:function(i){var s=this;if(s.$().process(o),i){s.__relatedDocs=[];for(var n=0,r=i.length;r>n;n++)i[n].boName=e(i[n].boType),s.__relatedDocs.push(i[n]);var l=$("#related-listView").getControl();if(l.setOption("source",new a.core.ArrayListSource(s.__relatedDocs)),0===i.length)return l.setOption("showEmptyContent",!0),l.setOption("emptyTexts",[a.sbo.localization.Helper.get("app/relatedlist/reminder")]),void 0}l.attachEvent("afterUpdate",function(){$("#related-listView .related-tail").off("vclick"),$(".item",s.$()).off("vclick"),$(".item",s.$()).on("vclick",function(){var e=$(this).attr("data-sap-bo-type"),o=$(this).attr("data-sap-bo-code");t(e,o)}),$("#related-listView .related-tail").on("vclick",function(e){var t=$(this).parent(),o=t.attr("data-sap-bo-code"),i=t.attr("data-sap-bo-type"),n=s.__getBoEntity(i);n.keyElements[0].keyValue=o,e.stopPropagation(),e.preventDefault(),$.when(a.ui.MessageBox.show({message:a.sbo.localization.Helper.get("app/network/related/reminder"),title:a.sbo.localization.Helper.get("app/network/related/confirm"),icon:"warning",buttons:[{key:"yes",text:a.sbo.localization.Helper.get("common/OK")},{key:"no",text:a.sbo.localization.Helper.get("common/CANCEL")}]})).done(function(e){"yes"==e&&$.when(s.__oFeedService.unrelate(s.__thingID,n)).done(function(){s.__reload()})})}),s.__refreshTail(),$("#related-listView .related-icon").each(function(){var e=$(this).attr("data-sap-type");s.__isRemoveAble(e)?$(this).addClass("hide-icon"):$(this).removeClass("hide-icon")})})}},Static:{translateBOCode:function(){return e=function(e){for(var t=0;i.length>t;t++)if(i[t].key==e)return i[t].text;return i[1].text}}(),relatedBusinessNavigation:function(){return t=function(e,t){"2"==e?window.SboShell.gotoView("sap.sbo.page.pad.Customer.CustomerHome",[{keyName:"cardCode",keyValue:t}]):"4"==e?window.SboShell.gotoView("sap.sbo.page.pad.Product.ProductHome",[{keyName:"itemCode",keyValue:t}]):"11"==e?window.SboShell.gotoView("sap.sbo.page.pad.Contact.ContactHome",[{keyName:"contactPersonID",keyValue:t}]):"97"==e?window.SboShell.gotoView("sap.sbo.page.pad.SalesOpportunity.Home",[{keyName:"sequentialNo",keyValue:t}]):"17"==e?window.SboShell.gotoView("sap.sbo.page.pad.SalesOrder.SalesOrderHome",[{keyName:"docEntry",keyValue:t}]):"23"==e?window.SboShell.gotoView("sap.sbo.page.pad.SalesQuotation.SalesQuotationHome",[{keyName:"docEntry",keyValue:t}]):"J0001"==e&&window.SboShell.gotoView("sap.sbo.page.pad.Leads.Home",[{keyName:"id",keyValue:t}])}}()}})}),define("sap.sbo.app.network.RelatedTile",["sap.ui.Controller","sap.core.klass","sap.core.JsonModel","sap.sbo.layout.TileViewController","sap.sbo.services.FeedService","sap.ui.Repeat","sap.sbo.localization.Helper","css!sap.sbo.app.network.RelatedTile","css!sap.sbo.page.boTile"],function(){"use strict";var e,t,o=this.getNS(),a=o.sap;o.formatter={convertItemName:function(e){return e.replace(/_/g," ")}};var i=[{key:"2",text:a.sbo.localization.Helper.get("app/network/boName/customers"),boEntityKey:{boNamespace:"com.sap.sbo",boName:"BusinessPartner",keyElements:[{keyName:"cardCode",keyValue:null}]}},{key:"4",text:a.sbo.localization.Helper.get("app/network/boName/products"),boEntityKey:{boNamespace:"com.sap.sbo",boName:"Item",keyElements:[{keyName:"itemCode",keyValue:null}]}},{key:"97",text:a.sbo.localization.Helper.get("app/network/boName/opportunities"),boEntityKey:{boNamespace:"com.sap.sbo",boName:"SalesOpportunity",keyElements:[{keyName:"sequentialNo",keyValue:null}]}},{key:"11",text:a.sbo.localization.Helper.get("app/network/boName/contacts"),boEntityKey:{boNamespace:"com.sap.sbo",boName:"ContactPerson",keyElements:[{keyName:"contactPersonID",keyValue:null}]}},{key:"17",text:a.sbo.localization.Helper.get("app/network/boName/orders"),boEntityKey:{boNamespace:"com.sap.sbo",boName:"Order",keyElements:[{keyName:"docEntry",keyValue:null}]}},{key:"23",text:a.sbo.localization.Helper.get("app/network/boName/quotations"),boEntityKey:{boNamespace:"com.sap.sbo",boName:"Quotation",keyElements:[{keyName:"docEntry",keyValue:null}]}},{key:"J0001",text:a.sbo.localization.Helper.get("app/network/boName/leads"),boEntityKey:{boNamespace:"com.sap.sbo",boName:"Leads",keyElements:[{keyName:"id",keyValue:null}]}}];return a.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:a.sbo.layout.TileViewController,Options:{key:{type:"string",defaultValue:""},value:{type:"any"},isCustomer:{type:"boolean",defaultValue:!1}},Public:{init:function(){a.sbo.layout.TileViewController.prototype.init.apply(this,arguments),a.core.klass.declareMember(this,{__oFeedService:this.autoDestroy(new a.sbo.services.FeedService),_oModel:new a.core.JsonModel({}),__thingID:null,__itemCount:0,__oRelatedNavigateProxy:$.proxy(this.__gotoRelatedList,this),__oRelatedCreationProxy:$.proxy(this.__createRelatedBiz,this),__isCustomer:!1,__followees:null,__mode:null})},destroy:function(){this._oModel.destroy()},initView:function(){var e=$.Deferred(),a=this;window.SboShell.isFeatureAvailable("network.getThingId")&&window.SboShell.callFeatureMethod("network.getThingId").done(function(e){a.__thingID=e}).fail(function(){});var a=this;return this.__isCustomer=this.getOption("isCustomer"),this.__mode=this.getOption("mode"),this._oModel.setValue("followers",{contents:[]}),this.$().setModel(this._oModel),$.when(this.__loadFollowees()).done(function(){a.$().process(o),e.resolve(),$("#related_tile_2_4,.related-tail",a.$()).on("vclick",a.__oRelatedNavigateProxy),$(".sap-sbo-app-task-layout-add-icon",a.$()).on("vclick",a.__oRelatedCreationProxy),$('[data-sap-widget="sap.ui.Repeat"]',a.$()).getControl().attachEvent("afterUpdate",function(){var e=$(".related_content").outerHeight()/a.__itemCount;$(".relate-repeat-item",a.$()).css({height:e}),a.__mode&&"2x1"!==a.__mode&&$(".relate-rpt-title",a.$()).each(function(){var e=$(this).attr("data-sap-boType"),o=$(this).attr("data-sap-boCode");$(this).parent().on("vclick",function(a){t(e,o),a.stopPropagation(),a.preventDefault()})})})}),e.promise()},destroyView:function(){this._oModel.destroy(),$("#related_tile_2_4,.related-tail",this.$()).off("vclick",this.__oRelatedNavigateProxy),$(".relate-repeat-item",this.$()).off("vclick"),$(".sap-sbo-app-task-layout-add-icon",this.$()).off("vclick")},update:function(e){e.mode&&(this.__mode=this.getOption("mode"),this.__dealWithData())},resize:function(){this.__onSizeChange()},getSupportedModes:function(){return["2x4","2x6","2x1"]}},Protected:{__loadFollowees:function(){var e=this,t=$.Deferred();return null!=e.__thingID?(e.__isCustomer?$.when(e.__oFeedService.loadRelated(e.__thingID,!0)).done(function(o){e.__followees=o,e.__dealWithData(),t.resolve()}):$.when(e.__oFeedService.loadFollowees(e.__thingID,!0)).done(function(o){e.__followees=o,e.__dealWithData(),t.resolve()}),t.promise()):void 0},__gotoRelatedList:function(){"phone"==SboShell.__deviceType?window.SboShell.gotoView("sap.sbo.page.phone.network.RelatedList",{thingID:this.__thingID,isCustomer:this.__isCustomer}):window.SboShell.gotoView("sap.sbo.page.pad.network.RelatedList",{thingID:this.__thingID,isCustomer:this.__isCustomer})},__dealWithData:function(){var t=this;if("2x6"==this.__mode?this.__itemCount=5:"2x4"==this.__mode?this.__itemCount=3:"2x1"==this.__mode&&(this.__itemCount=1),"2x1"==this.__mode)if(t.$("#related_tile_2_4").addClass("phoneMode").removeClass("padMode"),t.$(".related-tail").addClass("hide_tail"),null!=t.__followees&&t.__followees.length>0){t.$(".sap-sbo-app-taskTile-phone-EmptyDiv").addClass("hide_empty"),t.$(".value").text(t.__followees.length);var o={};o.contents=t.__followees.slice(t.__followees.length-1),o.contents[0].boName=e(o.contents[0].boType),t._oModel.setValue("followers",o)}else t.$(".sap-sbo-app-taskTile-phone-EmptyDiv").removeClass("hide_empty"),t.$(".value").text(0);else if("1x1"==this.__mode)t.$("#related_tile_2_4").addClass("phoneModeOne").removeClass("phoneMode"),t.$(".related-tail").addClass("hide_tail"),t.$(".sap-sbo-app-taskTile-phone-EmptyDiv").addClass("hide_empty"),null!=t.__followees&&t.__followees.length>0?t.$(".value").text(t.__followees.length):t.$(".value").text(0);else if(t.$("#related_tile_2_4").addClass("padMode").removeClass("phoneMode"),null!=t.__followees&&t.__followees.length>0){t.$(".related_reminder").removeClass("show_reminder"),t.$(".related-tail").removeClass("hide_tail"),t.$(".count").text(t.__followees.length);var o={};o.contents=t.__followees.length<=t.__itemCount?t.__followees:t.__followees.slice(0,t.__itemCount);for(var a=0,i=o.contents.length;i>a;a++)o.contents[a].boName=e(o.contents[a].boType);t._oModel.setValue("followers",o)}else t.$(".related_reminder").addClass("show_reminder"),t.$(".related-tail").addClass("hide_tail")},__createRelatedBiz:function(e){var t=this;e.stopPropagation(),e.preventDefault(),window.SboShell.openFrame({view:"sap.sbo.page.phone.network.RelatedBOList",type:"right",options:{thingID:t.__thingID,isFromTile:!0,isCustomer:this.__isCustomer}})}},Static:{translateBOCode:function(){return e=function(e){for(var t=0;i.length>t;t++)if(i[t].key==e)return i[t].text;return i[1].text}}(),relatedBusinessNavigation:function(){return t=function(e,t){"phone"==SboShell.__deviceType?"2"==e?window.SboShell.gotoView("sap.sbo.page.phone.Customer.CustomerHome",[{keyName:"cardCode",keyValue:t}]):"4"==e?window.SboShell.gotoView("sap.sbo.page.phone.Product.ProductHome",[{keyName:"itemCode",keyValue:t}]):"11"==e?window.SboShell.gotoView("sap.sbo.page.phone.Contact.ContactHome",[{keyName:"contactPersonID",keyValue:t}]):"97"==e?window.SboShell.gotoView("sap.sbo.page.phone.SalesOpportunity.Home",[{keyName:"sequentialNo",keyValue:t}]):"17"==e?window.SboShell.gotoView("sap.sbo.page.phone.SalesOrder.SalesOrderHome",[{keyName:"docEntry",keyValue:t}]):"23"==e?window.SboShell.gotoView("sap.sbo.page.phone.SalesQuotation.SalesQuotationHome",[{keyName:"docEntry",keyValue:t}]):"J0001"==e&&window.SboShell.gotoView("sap.sbo.page.phone.Leads.Home",[{keyName:"id",keyValue:t}]):"2"==e?window.SboShell.gotoView("sap.sbo.page.pad.Customer.CustomerHome",[{keyName:"cardCode",keyValue:t}]):"4"==e?window.SboShell.gotoView("sap.sbo.page.pad.Product.ProductHome",[{keyName:"itemCode",keyValue:t}]):"11"==e?window.SboShell.gotoView("sap.sbo.page.pad.Contact.ContactHome",[{keyName:"contactPersonID",keyValue:t}]):"97"==e?window.SboShell.gotoView("sap.sbo.page.pad.SalesOpportunity.Home",[{keyName:"sequentialNo",keyValue:t}]):"17"==e?window.SboShell.gotoView("sap.sbo.page.pad.SalesOrder.SalesOrderHome",[{keyName:"docEntry",keyValue:t}]):"23"==e?window.SboShell.gotoView("sap.sbo.page.pad.SalesQuotation.SalesQuotationHome",[{keyName:"docEntry",keyValue:t}]):"J0001"==e&&window.SboShell.gotoView("sap.sbo.page.pad.Leads.Home",[{keyName:"id",keyValue:t}])}}(),getBoEntity:function(e){for(var t=0,o=i.length;o>t;t++)if(i[t].key==e)return i[t].boEntityKey}}})}),define("sap.sbo.app.network.RelatedTo",["sap.sbo.ui.FrameViewController","sap.ui.Controller","sap.core.klass","sap.util","sap.sbo.services.FeedService","sap.sbo.services.SalesOpportunitiesService","sap.sbo.services.BusinessPartnersService","sap.sbo.services.ContactPersonsService","sap.sbo.services.ItemsService","sap.sbo.localization.Helper","css!sap.sbo.app.network.RelatedTo"],function(){"use strict";var e=this.getNS(),t=e.sap,o=[{key:"2",text:t.sbo.localization.Helper.get("app/network/boName/customers"),boEntityKey:{boNamespace:"com.sap.sbo",boName:"BusinessPartner",keyElements:[{keyName:"cardCode",keyValue:null}]}},{key:"4",text:t.sbo.localization.Helper.get("app/network/boName/products"),boEntityKey:{boNamespace:"com.sap.sbo",boName:"Item",keyElements:[{keyName:"itemCode",keyValue:null}]}},{key:"97",text:t.sbo.localization.Helper.get("app/network/boName/opportunities"),boEntityKey:{boNamespace:"com.sap.sbo",boName:"SalesOpportunity",keyElements:[{keyName:"sequentialNo",keyValue:null}]}},{key:"11",text:t.sbo.localization.Helper.get("app/network/boName/contacts"),boEntityKey:{boNamespace:"com.sap.sbo",boName:"ContactPerson",keyElements:[{keyName:"contactPersonID",keyValue:null}]}}];return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Options:{thingID:{type:"integer",defaultValue:-1},boKey:{type:"any"}},Public:{init:function(){t.sbo.ui.FrameViewController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{__opportunityService:this.autoDestroy(new t.sbo.services.SalesOpportunitiesService),__bpService:this.autoDestroy(new t.sbo.services.BusinessPartnersService),__itemService:this.autoDestroy(new t.sbo.services.ItemsService),__oFeedService:this.autoDestroy(new t.sbo.services.FeedService),__cPersonService:this.autoDestroy(new t.sbo.services.ContactPersonsService),__thingID:null,__boKey:null,__onRelateClickProxy:$.proxy(this.__onBtnRelateClick,this),__filterObject:null})
},destroy:function(){},initView:function(){this.$().process(e),this.__thingID=this.getOption("thingID"),this.__boKey=this.getOption("boKey"),t.util.showLoading(),this.__onBOChange(),this.$("#btnRelate").on("click",this.__onRelateClickProxy),window.SboShell.isFeatureAvailable("relatedFilter.BOkey")&&(this.__filterObject=window.SboShell.callFeatureMethod("relatedFilter.BOkey"))},destroyView:function(){this.$("#btnRelate").off("click",this.__onRelateClickProxy)},update:function(){}},Protected:{__getKeyElement:function(){if(null!=this.__boKey)for(var e=0;o.length>e;e++)if(o[e].key==this.__boKey)return o[e].boEntityKey;return null},__onBOChange:function(){"2"==this.__boKey?this.__setBusinessPartnerList():"4"==this.__boKey?this.__setProductList():"97"==this.__boKey?this.__setSalesOpporList():"11"==this.__boKey&&this.__setContactPersonList()},__onBtnRelateClick:function(){var e=this,t=e.$(".selected");if(t.size()>0){var o=t.find("input[type='hidden']").val(),a=e.__getKeyElement();a.keyElements[0].keyValue=o,window.SboShell.openFrame({view:"sap.sbo.app.network.Reason",type:"center",width:300,height:200,options:{thingID:e.__thingID,entity:a},callback:function(){e.closeFrame()}})}},__setContactPersonList:function(){var e=this;$.when(e.__cPersonService.query()).done(function(t){if(t&&null!=t.value&&t.value.length>0){var o=e.$(".itemList>ul");o.empty();var a=null;"contactPersonID"==e.__filterObject.key&&(a=e.__filterObject.value);for(var i=0;t.value.length>i;i++)if(null==a||a!=t.value[i].contactPersonID){var s=$("<input>").attr({type:"hidden"}).val(t.value[i].contactPersonID),n=$("<li>").attr("title",t.value[i].firstName+" "+t.value[i].lastName).append(t.value[i].firstName+" "+t.value[i].lastName).append(s);n.click(function(){$(o).find("li").each(function(e,t){$(t).removeAttr("class")}),$(this).attr("class","selected")}),o.append(n)}}}).fail(function(){window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/network/error/getCP"),"error")}).always(function(){t.util.hideLoading()})},__setBusinessPartnerList:function(){var e=this;$.when(e.__bpService.query()).done(function(t){if(t&&null!=t.value&&t.value.length>0){var o=e.$(".itemList>ul");o.empty();var a=null;"cardCode"==e.__filterObject.key&&(a=e.__filterObject.value);for(var i=0;t.value.length>i;i++)if(null==a||a!=t.value[i].cardCode){var s=$("<input>").attr({type:"hidden"}).val(t.value[i].cardCode),n=$("<li>").attr("title",t.value[i].cardName).append(t.value[i].cardName).append(s);n.click(function(){$(o).find("li").each(function(e,t){$(t).removeAttr("class")}),$(this).attr("class","selected")}),o.append(n)}}}).fail(function(){window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/network/error/getBP"),"error")}).always(function(){t.util.hideLoading()})},__setSalesOpporList:function(){var e=this;$.when(e.__opportunityService.query()).done(function(t){if(t&&null!=t.value&&t.value.length>0){var o=e.$(".itemList>ul");o.empty();var a=null;"sequentialNo"==e.__filterObject.key&&(a=e.__filterObject.value);for(var i=0;t.value.length>i;i++)if(null==a||a!=t.value[i].sequentialNo){var s=$("<input>").attr({type:"hidden"}).val(t.value[i].sequentialNo),n=$("<li>").attr("title",t.value[i].opportunityName).append(t.value[i].opportunityName).append(s);n.click(function(){$(o).find("li").each(function(e,t){$(t).removeAttr("class")}),$(this).attr("class","selected")}),o.append(n)}}}).fail(function(){window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/network/error/getOpp"),"error")}).always(function(){t.util.hideLoading()})},__setProductList:function(){var e=this;$.when(e.__itemService.query()).done(function(t){if(t&&null!=t.value&&t.value.length>0){var o=e.$(".itemList>ul");o.empty();var a=null;"itemCode"==e.__filterObject.key&&(a=e.__filterObject.value);for(var i=0;t.value.length>i;i++)if((null==a||a!=t.value[i].itemCode)&&t.value[i].itemCode!=e.key){var s=$("<input>").attr({type:"hidden"}).val(t.value[i].itemCode),n=$("<li>").attr("title",t.value[i].itemName).append(t.value[i].itemName).append(s);n.click(function(){$(o).find("li").each(function(e,t){$(t).removeAttr("class")}),$(this).attr("class","selected")}),o.append(n)}}}).fail(function(){window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/network/error/getProduct"),"error")}).always(function(){t.util.hideLoading()})}}})}),define("sap.sbo.app.network.SelectBO",["sap.sbo.ui.FrameViewController","sap.ui.Controller","sap.core.klass","sap.sbo.localization.Helper","css!sap.sbo.app.network.SelectBO"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Options:{thingID:{type:"integer",defaultValue:-1}},Public:{init:function(){t.sbo.ui.FrameViewController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{__currentBO:""})},destroy:function(){},initView:function(){var t=this;this.$().process(e),this.__thingID=this.getOption("thingID"),this.$().find(".selectBO>ul>li").click(function(){var e=$(this).data("val");window.SboShell.openFrame({view:"sap.sbo.app.network.RelatedTo",type:"right",options:{thingID:t.__thingID,boKey:e},callback:function(){t.closeFrame()}})}),window.SboShell.isFeatureAvailable("relatedFilter.BOkey")&&(this.__filterObject=window.SboShell.callFeatureMethod("relatedFilter.BOkey"))},destroyView:function(){},update:function(){}},Protected:{}})}),define("sap.sbo.app.network.phone.FeedTile",["sap.core.klass","sap.core.JsonModel","sap.sbo.layout.TileViewController","sap.sbo.services.FeedService","sap.sbo.util.formatter","sap.sbo.services.BaseService","sap.core.GuardedTimer","sap.ui.Repeat","sap.sbo.localization.Helper","sap.sbo.ui.widget.BoLink","sap.ui.widget.Photo","css!sap.sbo.page.boTile","css!sap.sbo.app.network.phone.FeedTile"],function(){"use strict";var e=this.getNS(),t=e.sap,o=window.SboShell;return e.formatter={convertDisplayStr:function(e){return 0>=e?"":e+" "+t.sbo.localization.Helper.get("feed/hot/setAsHot")},getDisplayName:function(e){return null!=e&&null!=e.displayName&&"person"==e.objectType?e.displayName:""},getComments:function(e){return 1!=e?e+" "+t.sbo.localization.Helper.get("page/phone/network/cmts_unit"):"1 "+t.sbo.localization.Helper.get("page/phone/network/cmt_unit")},getTimeDisplayStatus:function(e){return null==e?"none":"block"}},t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.layout.TileViewController,Public:{init:function(){t.sbo.layout.TileViewController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{__oModel:new t.core.JsonModel({count:0,firstFeed:{verb:"",actor:{portraitId:-1},object:{contentHTML:""},published:null,comments:{totalItems:0}}}),__oService:new t.sbo.services.FeedService,__clickProxy:$.proxy(this.__onClickTop,this),__thingID:null,__oTimer:this.autoDestroy(new t.core.GuardedTimer),__failedCount:0,__hasThingId:!1,__interval:null})},destroy:function(){this.__oService.destroy(),this.__oService=null,this.__oModel.destroy(),this.__oModel=null,this.__thingID=null},initView:function(){var t=$.Deferred(),o=this;return window.SboShell.isFeatureAvailable("network.getThingId")?window.SboShell.callFeatureMethod("network.getThingId").done(function(e){o.__thingID=e}).fail(function(){o.__thingID="-1"}).always(function(){o.__hasThingId=!0,o.__load()}):(this.__thingID=null,this.__load()),this.$().setModel(this.__oModel),this.$().process(e),t.resolve(),$("body").find("#tile_2_2").on("vclick",this.__clickProxy),this.$(".number").on("vclick",this.__clickProxy),this.__interval=this.__oTimer.setInterval(function(){o.__load()},1e4),t.promise()},destroyView:function(){this.$(".number").off("vclick",this.__clickProxy),$("body").find("#tile_2_2").off("vclick",this.__clickProxy),this.$().unprocess()},update:function(e){if(e.mode){var t=this.getOption("mode");"1x1"===t?($("body").find("#tile_1_2").show(),$("body").find("#tile_2_2").hide()):($("body").find("#tile_1_2").hide(),$("body").find("#tile_2_2").show())}},resize:function(){this.__onSizeChange()},getSupportedModes:function(){return["1x1","2x1"]}},Protected:{__load:function(){var o=this;$.when(this.__oService.loadHomeFeed(o.__thingID,this.__iCountOfItemsDisplayed)).done(function(a){o.__failedCount=0;var i={count:0,verb:"",actor:{portraitId:-1},object:{contentHTML:""},published:null,comments:{totalItems:0}};if(i.count=a.hotCount,null!=a.items&&null!=a.items.value&&a.items.value.length>0){if(null!=o.__currentData&&o.__currentData.id==a.items.value[0].item.id)return;var s=t.sbo.util.formatter.convertAttachedFiles(a.items.value[0].item);o.__currentData=s,s.count=i.count,i=s}o.$(".feed-content").children().unprocess(),o.$(".portrait").children().unprocess(),o.__oModel.setValue("",i),o.$(".feed-content").children().process(e),o.$(".portrait").children().process(e)}).fail(function(){o.__failedCount++,5==o.__failedCount&&o.__interval.cancel()})},__onClickTop:function(){"phone"==SboShell.__deviceType?o.gotoView("sap.sbo.page.phone.network.Feeds",{thingID:this.__thingID}):"simulator"==SboShell.__deviceType?o.gotoView("sap.sbo.page.phone.network.Feeds",{thingID:this.__thingID}):o.gotoView("sap.sbo.page.pad.network.Feeds",{thingID:this.__thingID})}},Static:{}})}),define("sap.sbo.app.user.ChangeMyPassword",["sap.sbo.ui.FrameViewController","sap.ui.Controller","sap.core.JsonModel","sap.core.klass","sap.sbo.compoundservices.UserEmployeeService","sap.util","sap.sbo.localization.Helper","css!sap.sbo.app.user.ChangeMyPassword"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Options:{employeeID:{type:"integer",defaultValue:0}},Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{__btnOKClickProxy:$.proxy(this.__btnOKClick,this),__btnCancelClickProxy:$.proxy(this.__btnCancelClick,this),__oService:new t.sbo.compoundservices.UserEmployeeService})},destroy:function(){this.__oService.destroy(),this.__oService=null},initView:function(){var t=$.Deferred();return this.$().process(e),this.$().find("#btnOK").on("click",this.__btnOKClickProxy),this.$().find("#btnCancel").on("click",this.__btnCancelClickProxy),t.resolve(),t.promise()},destroyView:function(){this.$().unprocess(),this.$().find("#btnOK").off("click",this.__btnOKClickProxy),this.$().find("#btnCancel").off("click",this.__btnCancelClickProxy)},update:function(){}},Protected:{__btnOKClick:function(){var e=this,o=this.$().find("#currentPsd").val(),a=this.$().find("#newPsd").val(),i=this.$().find("#confirmPsd").val();return""==o||""==a||""==i?(window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/user/error/emptyPsw"),"error"),void 0):a!=i?(window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/user/error/notEqual"),"error"),void 0):o==a?(window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/user/error/Equal"),"error"),void 0):8>a.length||a.length>25?(window.SboShell.raiseMessage(t.sbo.localization.Helper.get("pad/user/error/pswLength"),"error"),void 0):null==a.match(/[a-z]/)||null==a.match(/[0-9]/)||null==a.match(/[A-Z]/)?(window.SboShell.raiseMessage(t.sbo.localization.Helper.get("pad/user/error/psw_invalid"),"error"),void 0):(this.getOption("employeeID"),t.util.showLoading(),$.when(e.__oService.changeMyPassword(o,a)).done(function(){e.closeFrame()}).fail(function(){}).always(function(){t.util.hideLoading()}),void 0)},__btnCancelClick:function(){this.closeFrame()}}})}),define("sap.sbo.app.user.ChangePassword",["sap.sbo.ui.FrameViewController","sap.ui.Controller","sap.core.JsonModel","sap.core.klass","sap.sbo.compoundservices.UserEmployeeService","sap.util","sap.sbo.localization.Helper","css!sap.sbo.app.user.ChangeMyPassword"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Options:{employeeID:{type:"integer",defaultValue:0}},Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{__btnOKClickProxy:$.proxy(this.__btnOKClick,this),__btnCancelClickProxy:$.proxy(this.__btnCancelClick,this),__oService:new t.sbo.compoundservices.UserEmployeeService})},destroy:function(){this.__oService.destroy(),this.__oService=null},initView:function(){var t=$.Deferred();return this.$().process(e),t.resolve(),this.$().find("#btnOK").on("click",this.__btnOKClickProxy),this.$().find("#btnCancel").on("click",this.__btnCancelClickProxy),t.promise()},destroyView:function(){this.$().unprocess(),this.$().find("#btnOK").off("click",this.__btnOKClickProxy),this.$().find("#btnCancel").off("click",this.__btnCancelClickProxy)},update:function(){}},Protected:{__btnOKClick:function(){var e=this,o=this.$().find("#newPsd").val(),a=this.$().find("#confirmPsd").val();if(""==o||""==a)return window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/user/error/emptyPsw0"),"error"),void 0;if(o!=a)return window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/user/error/notEqual"),"error"),void 0;if(8>o.length||o.length>25)return window.SboShell.raiseMessage(t.sbo.localization.Helper.get("pad/user/error/pswLength"),"error"),void 0;if(null==o.match(/[a-z]/)||null==o.match(/[0-9]/)||null==o.match(/[A-Z]/))return window.SboShell.raiseMessage(t.sbo.localization.Helper.get("pad/user/error/psw_invalid"),"error"),void 0;var i=this.getOption("employeeID");t.util.showLoading(),$.when(e.__oService.changePassword(i,o)).done(function(){e.closeFrame()}).fail(function(){}).always(function(){t.util.hideLoading()})},__btnCancelClick:function(){this.closeFrame()}}})}),define("sap.sbo.app.user.phone.ChangeMyPassword",["sap.sbo.ui.FrameViewController","sap.ui.Controller","sap.core.JsonModel","sap.core.klass","sap.sbo.compoundservices.UserEmployeeService","sap.util","sap.sbo.localization.Helper","css!sap.sbo.app.user.phone.ChangeMyPassword"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Options:{employeeID:{type:"integer",defaultValue:0}},Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{__btnOKClickProxy:$.proxy(this.__btnOKClick,this),__btnCancelClickProxy:$.proxy(this.__btnCancelClick,this),__fActionButtonClickedProxy:$.proxy(this.__actionBtnClick,this),__oService:new t.sbo.compoundservices.UserEmployeeService})},destroy:function(){this.__oService.destroy(),this.__oService=null},initView:function(){var o=$.Deferred();return this.$().process(e),o.resolve(),window.SboShell.addTopButtons([{key:"save",text:t.sbo.localization.Helper.get("page/button/save")},{key:"cancel",text:t.sbo.localization.Helper.get("app/network/btnCancel")}],this),window.SboShell.attachEvent("actionButtonClick",this.__fActionButtonClickedProxy),o.promise()},destroyView:function(){window.SboShell.removeTopButtons(["cancel","save"]),window.SboShell.detachEvent("actionButtonClick",this.__fActionButtonClickedProxy),this.$().unprocess()},update:function(){}},Protected:{__btnOKClick:function(){var e=this,o=this.$().find("#currentPsd").val(),a=this.$().find("#newPsd").val(),i=this.$().find("#confirmPsd").val();return""==o||""==a||""==i?(window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/user/error/emptyPsw"),"error"),void 0):a!=i?(window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/user/error/notEqual"),"error"),void 0):o==a?(window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/user/error/Equal"),"error"),void 0):(this.getOption("employeeID"),t.util.showLoading(),$.when(e.__oService.changeMyPassword(o,a)).done(function(){e.closeFrame()}).fail(function(){}).always(function(){t.util.hideLoading()}),void 0)},__btnCancelClick:function(){this.closeFrame()},__actionBtnClick:function(e){switch(e){case"save":this.__btnOKClick();break;case"cancel":this.__btnCancelClick()}}}})}),define("sap.sbo.ui.BaseChooseListFrameView",["sap.ui.Controller","sap.util","sap.sbo.ui.FrameViewController","sap.core.DestroyPool","sap.core.JsonModel","sap.sbo.ui.Loop","sap.sbo.util.AjaxListSource","sap.core.ListSourceFilter","css!sap.sbo.ui.BaseChooseListFrameView","html!sap.sbo.ui.BaseChooseListFrameView"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Interfaces:[],Events:["requestFailed","modelCreated"],Options:{filter:{type:t.core.ListSourceFilter,defaultValue:null,nullable:!0},iDragUpdateThreshold:{type:"integer",defaultValue:0},mode:{type:"enum",enumType:["single","multiple"],defaultValue:"single",optional:!0,immutable:!0,nullable:!0},nullable:{type:"boolean",defaultValue:!1}},Public:{init:function(o,a){t.sbo.ui.FrameViewController.prototype.init.apply(this,o),this.declareMember({__oModel:this.autoDestroy(new t.core.JsonModel({title:a.title,length:0,searchTerm:"",requestStatus:"ready"})),__sMode:null,__$template:null,__$content:null,__oDestroyViewPool:null,__oDestroyItemsPool:null,__oSource:a.service&&this.autoDestroy(new t.sbo.util.AjaxListSource(this.autoDestroy(new a.service),a.expand)),__iCurIndex:0,__iPageLength:15,__$loadingInfoText:null,__oIScroll:null,__filter:null,__select:a.select||[],__aMultiValueHolder:[],__ns:{}}),this.__ns=$.extend(!0,{},e,this.getCustomNs())},destroy:function(){this.__aMultiValueHolder=null},initView:function(o,a,i){var s=this,n=$.Deferred();this.__sMode=this.getOption("mode"),this.__oDestroyViewPool=new t.core.DestroyPool,this.__oDestroyItemsPool=new t.core.DestroyPool,this.__$template=this.$('div[data-sap-template="Item"]').remove(),this.$().html(e.html.sap.sbo.ui.BaseChooseListFrameView),this.$().children().addClass(o),this.__$content=this.$('[data-id="list"]'),this.$('[data-id="extendAnchor"]').append(a),this.__oIScroll=this.__oDestroyViewPool.add(new iScroll(this.$('[data-id="results"]')[0],{hScroll:!1,onScrollMove:function(){("ready"===s.__oModel.getValue("requestStatus")||"releaseToLoad"===s.__oModel.getValue("requestStatus"))&&s.__oModel.setValue("requestStatus",this.y-this.maxScrollY<-s.getOption("iDragUpdateThreshold")?"releaseToLoad":"ready")},onBeforeScrollEnd:function(){this.y-this.maxScrollY<-s.getOption("iDragUpdateThreshold")&&s.__loadMore()}})),this.$().setModel(this.__oModel);var s=this;return this.$('[data-id="header"]').height(),this.$().process($.extend(!0,{},e,i)),this.__oDestroyViewPool.add(this.$(),this.$().unprocess),this.$('[data-id="container"]').on("vclick","div[data-sap-template]",this.__oDestroyViewPool.add(function(){var e=$(this).getModel("").getValue();if("multiple"!==s.__sMode)s.callShell("select",e),s.closeFrame();else{if($(this).hasClass("selected"))return!1;s.__aMultiValueHolder.push(e),s.callShell("multi-select",e),$(this).addClass("selected").addClass("selected-"+$(this).attr("data-index"))}},function(){s.$('[data-id="container"]').off("vclick",this)})),this.$('[data-id="container"]').on("vclick",'[data-id="none"]',this.__oDestroyViewPool.add(function(){s.callShell("select",null),s.closeFrame()},function(){s.$('[data-id="container"]').off("vclick",this)})),this.update({filter:[""]}),this.__loadMore(n),n.promise()},destroyView:function(){this.__oDestroyViewPool.destroy(),this.__oDestroyViewPool=null,this.__clearResult(),this.__oDestroyItemsPool.destroy(),this.__oDestroyItemsPool=null},update:function(e){if("filter"in e){var o=this.getOption("filter"),a=this.getCustomFilter();this.__filter=a&&o?this.autoDestroy(new t.core.ListSourceFilter({op:"and",leftValue:a.getFilter(),rightValue:o.getFilter()})):o||a}"nullable"in e&&this.$('[data-id="sbo-chooselist"]')[this.getOption("nullable")?"addClass":"removeClass"]("sap-nullable")},getCustomFilter:function(){return null},__clickOutsideToClose:!0},Protected:{__clearResult:function(){this.__oDestroyItemsPool.destroy(),this.__oDestroyItemsPool=new t.core.DestroyPool,this.__$content.empty(),this.__iCurIndex=0,this.__oModel.setValue("requestStatus","ready")},__loadMore:function(e){var t=this;("ready"===t.__oModel.getValue("requestStatus")||"releaseToLoad"===t.__oModel.getValue("requestStatus"))&&(t.__oModel.setValue("requestStatus","loading"),$.when(this.__oSource.read({begin:this.__iCurIndex,size:this.__iPageLength},void 0,t.__filter,t.__select,this.__oModel.getValue("searchTerm"))).done(function(e){0!==e.data.length&&(t.__appendItems(e.data),t.__iCurIndex+=e.data.length,t.__oModel.setValue("length",e.count)),t.__oModel.setValue("requestStatus",e.count===t.__iCurIndex?"noMore":"ready"),t.$('[data-id="container"]').css("height",t.__$content.height()+(e.count===t.__iCurIndex?5:60)),setTimeout(function(){t.__oIScroll&&t.__oIScroll.refresh()},100)}).fail(function(e){t.fireEvent("requestFailed",e)}).always(function(){e&&e.resolve()}))},__appendItems:function(e){for(var o=0;e.length>o;o++){var a=this.__$template.clone().attr({"data-index":o,"data-touchable":!0}),i=this.__oDestroyItemsPool.add(new t.core.JsonModel(e[o]));this.fireEvent("modelCreated",i),this.__$content.append(a),a.setModel(i).process(this.__ns),this.__oDestroyItemsPool.add(a,a.unprocess),console.log(this.__$content.length+" add items "+o)}},getCustomNs:function(){return void 0},__replaceExprForLoop:function(e){return e?e.replace(/{{/g,"{{data/"):""}}})}),define("sap.sbo.ui.BoNavigation",["json!sap.sbo.ui.nav-config"],function(){var e=this.getNS(),t={navigate:function(t,o,a){if(o&&t){var i=t.getBoNameKey(),s=t.getKeyElements();if(void 0!==i&&null!==i&&s&&s.length>0){var n=e.json.sap.sbo.ui["nav-config"][i];if(n){var r="phone"!==o?"pad":o,l=null,d=null;if(n.view?(l=n.view.replace("{device}",r),d=n.style):n[r]&&(l=n[r].view,d=n[r].style),l&&d){var p=n.params;if("Dialog"===d){var c={};if(p)for(var u=Math.min(p.length,s.length),h=0;u>h;h++)c[p[h]]=s[h];var b={view:l,type:"center",options:c},g=n[r].size;g&&(b.width=g.width,b.height=g.height),window.SboShell.openFrame(b)}else if("FullView"===d){var m=[];if(p)for(var u=Math.min(p.length,s.length),h=0;u>h;h++)m.push({keyName:p[h],keyValue:s[h]});window.SboShell.gotoView(l,m)}}}a&&a.stopPropagation()}}}};return t}),define("sap.sbo.ui.BoNavigationObject",["sap.core.klass","sap.core.IClonable","sap.log"],function(){"use strict";var e=this.getNS("sap"),t=e.core.klass.declare({Name:this.getModuleInfo().moduleName,Interfaces:[e.core.IClonable],Public:{init:function(t){t&&(void 0===t.boName&&e.log.error("boName is not defined"),void 0===t.boNamespace&&e.log.error("boNamespace is not defined"),void 0!==t.keyElements&&t.keyElements instanceof Array||e.log.error("keyElements is not defined or not an array")),this.__boEntity=t},destroy:function(){this.__boEntity=null},getBoNameKey:function(){return this.__boEntity.boNamespace+"."+this.__boEntity.boName},getKeyElements:function(){return this.__boEntity.keyElements},setKeyElements:function(e){e&&e instanceof Array&&(this.__boEntity.keyElements=e)}},Protected:{clone:function(){return new t(this.__boEntity)}},Static:{getAnEmptyInstance:function(){return new t({boName:"",boNamespace:"",keyElements:[]})}}});return t}),define("sap.sbo.ui.DataPickerView",["sap.ui.Controller","sap.core.DestroyPool","sap.core.JsonModel","sap.core.event.CommandManager","sap.core.event.BehaviorCommand","sap.sbo.ui.FrameViewController","sap.sbo.ui.widget.DataPicker"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Options:{},Public:{init:function(){t.sbo.ui.FrameViewController.prototype.init.apply(this,arguments),this.declareMember({dataContext:new t.core.JsonModel({pickTag:new t.core.event.BehaviorCommand(this,this.__tagSelected),pickData:new t.core.event.BehaviorCommand(this,this.__dataSelected),groupsData:[{name:"abc"},{name:"abc2"},{name:"abc3"},{name:"abc4"},{name:"abc5"},{name:"abc6"}],listData:[{name:"abc"},{name:"abc2"},{name:"abc3"},{name:"abc4"},{name:"abc5"},{name:"abc6"}]})})},destroy:function(){},initView:function(){var o=$.Deferred();return this.__oDestroyPool=new t.core.DestroyPool,this.$().setModel(this.dataContext),this.__oDestroyPool.add(this.$(),this.$().unprocess).process(e).done(function(){}),o.resolve(),o.promise()},destroyView:function(){this.__oDestroyPool.destroy(),this.__oDestroyPool=null},update:function(){}},Protected:{__tagSelected:function(e){var t=e.data;console.info(t)},__dataSelected:function(e){var t=e.data;console.info(t)}},Static:{}})}),define("sap.sbo.ui.FrameViewController",["sap.ui.Controller","sap.sbo.ui.PageController"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.PageController,Options:{},Public:{init:function(){t.sbo.ui.PageController.prototype.init.apply(this,arguments)},destroy:function(){},initView:function(){},destroyView:function(){},update:function(){},closeFrame:function(e){this.callShell("close",e)},callShell:function(e,t){this.getView().fireEvent("callback",e,t)}}})}),define("sap.sbo.ui.FrameView",["sap.ui.Control","sap.ui.View","sap.sbo.ui.FrameViewController","sap.core.klass"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Control.declare({Name:this.getModuleInfo().moduleName,ControlBase:t.ui.View,Options:{},Public:{init:function(){t.ui.View.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{__oFrameDialog:null})},destroy:function(){this.__oFrameDialog=null},update:function(){return t.ui.View.prototype.update.apply(this,arguments)},validateController:function(e){return e instanceof t.sbo.ui.FrameViewController},setFrameDialog:function(e){this.__oFrameDialog=e},getFrameDialog:function(){return this.__oFrameDialog}}})}),define("sap.sbo.ui.Loop",["sap.ui.Control","sap.core.IProcessable","sap.log","sap.ui.widget.BaseField","sap.core.JsonModel"],function(){"use strict";var e=this.getNS(),t=e.sap,o=t.ui.Control.declare({Name:this.getModuleInfo().moduleName,Events:["modelCreated","domCreated","allProcessed","itemsCountChanged"],Interfaces:[t.core.IProcessable],Options:{data:{type:"array",arrayType:{type:"object"},defaultValue:[],keepRef:!0},modelName:{type:"string",defaultValue:"loop"},inverseOrder:{type:"boolean",defaultValue:!1}},Public:{init:function(){return t.ui.Control.prototype.init.apply(this,arguments),this.declareMember({__outerNS:null,__$template:this.$().children("[data-sap-template]").remove(),__items:[],__oldItemsLength:-1}),1!==this.__$template.length?(t.log.error("[ERROR]: there must be 1 and only 1 template in Loop Control"),void 0):0!==this.$().children().length?(t.log.error("[ERROR]: no more than one children in the Loop!"),void 0):void 0},destroy:function(){for(var e=0;this.__items.length>e;++e)this.__destroyItem(this.__items[e]);this.$().empty()},setProcessContext:function(e){this.__outerNS=e},update:function(e){var t=$.Deferred(),o=[];return"data"in e&&o.push(this.__setData(e.data)),$.when.apply($,o).done(function(){t.resolve()}).fail(function(){t.reject()}),t.promise()},removeItem:function(e){var t=this.getOption("data");t.splice(e,1),this.setOption("data",t)},__destroyItem:function(e){e.model.destroy(),e.destroyDtd.model.resolve(),e.$.unprocess(),e.$.remove(),e.destroyDtd.$.resolve()},__setData:function(){var e=this.getOption("data"),o=this.__items,a=[],i=this.getOption("modelName"),s=this.getOption("inverseOrder"),n=$.Deferred();this.__items=[];for(var r=0;e.length>r;++r){var l=null,d=!1;if(0!==o.length?(l=o.shift(),l.data=e[r],a.push(l.model.setValue("data",e[r])),a.push(l.model.setValue("internal/index",r)),this.fireEvent("modelChanged",l.model,l.destroyDtd.model.promise())):(l={$:this.__$template.clone(),data:e[r],model:new t.core.JsonModel({data:e[r],internal:{index:r}}),destroyDtd:{model:$.Deferred(),$:$.Deferred()}},l.model.attachEvent("valueChanged",function(e,t,o,a){/^data\//.test(t)&&this.setOption("data",this.getOption("data"),e.getValue("internal/index")+"/"+t.substr(5)+("@UPDATE"===o?o:"/"+o),!0,a)}.bind(this,l.model)),this.fireEvent("modelCreated",l.model,l.destroyDtd.model.promise()),this.fireEvent("modelChanged",l.model,l.destroyDtd.model.promise()),d=!0),this.__items.push(l),this[s?"__prependChild":"__appendChild"](l.$[0]),d){l.$.setModel(l.model,i);var p=l.$.process(this.__outerNS);a.push(p),$.when(p).done(function(e){this.fireEvent("domCreated",e.$,e.destroyDtd.$.promise())}.bind(this,l))}}$.when.apply($,a).done(function(){this.fireEvent("allProcessed"),this.__oldItemsLength!==this.__items.length&&(this.fireEvent("itemsCountChanged",this.__items.length),this.__oldItemsLength=this.__items.length),t.ui.widget.BaseField.__disableChange=!1,n.resolve()}.bind(this)).fail(function(e){n.resolve(e)});for(var r=0;o.length>r;++r)this.__destroyItem(o[r]);return n.promise()},__prependChild:function(e){var t=this.$()[0];0===t.childElementCount?t.appendChild(e):t.insertBefore(e,t.children[0])},__appendChild:function(e){var t=this.$()[0];t.appendChild(e)}}});return o}),define("sap.sbo.ui.PageController",["sap.ui.Controller","sap.core.DataList","sap.core.IViewRegionControlable"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,Interfaces:[t.core.IViewRegionControlable],Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments),this.declareMember({__bReady:!1,__aPendingActions:[],__buttonDataList:null,__aButtons:[]})},destroy:function(){this.__buttonDataList=null,this.__aButtons=null,this.__aPendingActions=null},initView:function(){var e=$.Deferred();return this.loadParams(e),e.promise()},destroyView:function(){},update:function(){},loadParams:function(e){e.resolve(0)},setSubtitle:function(e){this.__doAction(window.SboShell.setOption,[{subTitle:e}],window.SboShell)},setTitle:function(){var e=arguments[0];"string"==typeof e&&(e={title:arguments[0]},arguments[1]&&(e.subTitle=arguments[1])),this.__doAction(window.SboShell.setOption,[e],window.SboShell)},getActionButtons:function(){return[]},addActionButtons:function(){this.__aButtons=this.getActionButtons(),this.__aButtons&&(this.__buttonDataList=new t.core.DataList(this.__aButtons),window.SboShell.addActionButtons(this.__aButtons))},removeActionButtons:function(){this.__buttonDataList&&window.SboShell.removeActionButtons(this.__buttonDataList.select("c=>c.key"))},showActionButtons:function(e){e&&this.__doAction(window.SboShell.showActionButtons,[e],window.SboShell)},hideActionButtons:function(e){e&&this.__doAction(window.SboShell.hideActionButtons,[e],window.SboShell)},registerActionButtonClick:function(){window.SboShell.registerControllerActionButtonCallback(this.actionButtonClickedCallback)},actionButtonClickedCallback:function(){},adaptTitleForListView:function(e){e&&this.__doAction(window.SboShell.adaptTitleForListView,[e],window.SboShell)},preActiveAction:function(){var e=$.Deferred();return e.resolve(),e},postActiveAction:function(){var e=$.Deferred();return this.removeActionButtons(),this.__bReady=!1,e.resolve(),e},applyShowingActions:function(){if(this.__aPendingActions)for(var e=0,t=this.__aPendingActions.length;t>e;e++){var o=this.__aPendingActions[e];o.func.apply(o.self,o.args)}this.__aPendingActions=[],this.addActionButtons(),this.registerActionButtonClick()},activeDone:function(){this.__bReady=!0,this.applyShowingActions()}},Protected:{__doAction:function(e,t,o){e&&(void 0===this.__bReady&&(this.__bReady=!1),this.__bReady?e.apply(o,t):(this.__aPendingActions||(this.__aPendingActions=[]),this.__aPendingActions.push({func:e,args:t,self:o})))}}})}),define("sap.sbo.ui.pad.ChooseListFrameView",["sap.ui.Controller","sap.core.GuardedTimer","sap.ui.widget.TextField","sap.core.IProcessable","sap.sbo.ui.BaseChooseListFrameView","css!sap.sbo.ui.pad.ChooseListFrameView","html!sap.sbo.ui.pad.ChooseListFrameView"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.BaseChooseListFrameView,Interfaces:[t.core.IProcessable],Events:[],Options:{},Public:{init:function(){t.sbo.ui.BaseChooseListFrameView.prototype.init.apply(this,arguments),this.declareMember({__oTimer:this.autoDestroy(new t.core.GuardedTimer)})
},destroy:function(){},initView:function(){var o=$.Deferred(),a=this,i=$("<div>").html(e.html.sap.sbo.ui.pad.ChooseListFrameView);$.when(t.sbo.ui.BaseChooseListFrameView.prototype.initView.call(this,"sbo-chooselist-pad",i.find('[data-id="sbo-chooselist-pad-header-extend"]'),e)).done(function(){o.resolve()});var s=null;return this.$('[data-id="input"]>input').getControl().attachEvent("OptionChange",function(){var e=a.__oTimer.setTimeout(function(){e===s&&(a.__clearResult(),a.__loadMore())},300);a.__oModel.getValue("searchTerm")?a.$('[data-id="input"]>a').addClass("active"):a.$('[data-id="input"]>a').removeClass("active"),s=e}),this.$('[data-id="exit"]').on("vclick",this.__oDestroyViewPool.add(function(){a.closeFrame()},function(){a.$('[data-id="exit"]').off("vclick",this)})),this.$('[data-id="toggle-search"]').on("vclick",this.__oDestroyViewPool.add(function(){a.__oModel.setValue("searchTerm","")},function(){a.$('[data-id="toggle-search"]').off("vclick",this)})),o.promise()},destroyView:function(){this.$('[data-id="input"]>input').getControl().detachEvent("OptionChange"),t.sbo.ui.BaseChooseListFrameView.prototype.destroyView.call(this)},update:function(){t.sbo.ui.BaseChooseListFrameView.prototype.update.apply(this,arguments)}},Protected:{setProcessContext:function(t){$.extend(e,t)}}})}),define("sap.sbo.ui.pad.TimeLineLayout",["sap.ui.Control","sap.core.klass","sap.core.JsonModel","sap.core.IProcessable","sap.log","sap.util","sap.ui.common","sap.core.ArrayListSource","sap.core.GuardedTimer","sap.core.IListSource","sap.sbo.localization.Helper","sap.sbo.ui.BoNavigationObject","sap.sbo.util.formatter","sap.sbo.services.FeedService","css!sap.sbo.ui.pad.TimeLineLayout"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Control.declare({Name:this.getModuleInfo().moduleName,DomClass:"sap-sbo-time-line-layout",Events:["requestFailed"],Interfaces:[t.core.IProcessable],PublicMethods:[],Options:{source:{type:t.core.IListSource,defaultValue:new t.core.ArrayListSource([])},title:{type:"string",defaultValue:"List"},itemWidth:{type:"integer",defaultValue:200},itemHeight:{type:"integer",defaultValue:200}},Public:{init:function(){t.ui.Control.prototype.init.apply(this,arguments),this.declareMember({__$contentTemplate:null,__aItemBlock:[],__startTime:null,__endTime:null,__iTotalRecords:0,__iRequestStatus:-1,__iPageSize:12,__iBeginIndex:0,__oTimer:this.autoDestroy(new t.core.GuardedTimer),__windowClickProxy:$.proxy(this.__windowClick,this),__oFeedService:new t.sbo.services.FeedService,__adaptProxy:$.proxy(this.__attachFilter,this),__space:18,__fActionButtonClickedProxy:$.proxy(this.__actionBtnClick,this),__filterObj:null,__thingID:null,detailTemplate:null,tipTemplate:null,__detailModel:null}),this.detailTemplate=this.$(".feed_detail"),this.$(".feed_detail").remove(),this.tipTemplate=this.$(".tip_message"),this.$(".tip_message").remove();var e=this.$().children().children("[data-sap-template='Content']"),o=this;0===e.length&&t.log.error("sap.sbo.layout.pad.ListLayout must have a template named 'Content'"),this.__$contentTemplate=e.clone(),e.remove(),this.$(".list").append($("<div></div>").addClass(this.__subClass("list"))),window.SboShell.setOption({title:t.sbo.localization.Helper.get("app/feed/tile/title")}),window.SboShell.adaptTitleForListView(this.__adaptProxy),window.SboShell.addActionButtons([{key:"add",text:t.sbo.localization.Helper.get("post/feed/create")}],o),window.SboShell.attachEvent("actionButtonClick",o.__fActionButtonClickedProxy),this.$(".list").scroll(function(e){0==e.currentTarget.scrollHeight-e.currentTarget.scrollTop-e.currentTarget.clientHeight&&(o.__requestMoreContent(),o.$(".list").scrollTop(e.currentTarget.scrollTop-5))}),$(window).on("click",this.__windowClickProxy);var a=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo");this.__thingID=a.storeParam.thingID},setProcessContext:function(t){$.extend(e,t)},destroy:function(){window.SboShell.removeActionButtons(["add"]),window.SboShell.detachEvent("actionButtonClick",this.__fActionButtonClickedProxy),$(window).off("click",this.__windowClickProxy),this.$(".feed_item").off("click"),this.$(".clickLink").off("click"),window.SboShell.resetTitle(),this.__clearFilter();for(var e=0;this.__aItemBlock.length>e;e++)this.__aItemBlock[e].dom.unprocess(),this.__aItemBlock[e].model.destroy()},update:function(e){return e.itemWidth?this.__requestMoreContent():void 0}},Protected:{__attachFilter:function(e){var o=this,a=t.ui.common.getStaticContainer();this.__clearFilter();var i=$("<div>").attr("class","filterPanel"),s=$("<ul>").append($("<li>").text(t.sbo.localization.Helper.get("feed/filter/all")).attr("class","all"));s.append($("<li>").text(t.sbo.localization.Helper.get("feed/filter/atMe")).attr("class","atMe")),s.append($("<li>").text(t.sbo.localization.Helper.get("feed/filter/myPost")).attr("class","myPost")),s.append($("<li>").text(t.sbo.localization.Helper.get("feed/filter/sysUpdate")).attr("class","sysUpdate")),s.append($("<li>").text(t.sbo.localization.Helper.get("feed/filter/userUpdate")).attr("class","userUpdate")),s.append($("<li>").text(t.sbo.localization.Helper.get("app/task/TASK")).attr("class","task")),s.append($("<li>").text(t.sbo.localization.Helper.get("app/memo/MEMO")).attr("class","memo")),s.append($("<li>").text(t.sbo.localization.Helper.get("feed/filter/hot")).attr("class","hot")),$(s).find("li").on("click",function(e){var t=$(this).attr("class");o.__actionBtnClick(t),o.__clearFilter(),e.stopPropagation()}),i.append(s),$("body").find(".sap-sbo-pad-html-shell-content").addClass("blur");var n=$(".sap-sbo-pad-html-shell-head");i.css("top",n.offset().top+n.height()+5),i.css("left",$(e.currentTarget).offset().left),i.appendTo(a)},__clearFilter:function(){$("body").find(".filterPanel>ul>li").off("click"),$("body").find(".filterPanel").remove(),$("body").find(".sap-sbo-pad-html-shell-content").removeClass("blur")},__windowClick:function(e){"sap-sbo-pad-html-shell-main-title list-view"!=$(e.target).attr("class")&&"filterPanel"!=$(e.target).attr("class")&&this.__clearFilter()},__initImageClickEvent:function(){this.$(".attached_img").each(function(e,t){$(t).find("img").click(function(){var e=$(t).find("span");2==e.size()&&window.SboShell.previewAttachment($(e[0]).text(),$(e[1]).text())})})},__changeTitle:function(){this.$("."+this.__subClass("header")).text(this.getOption("title")+" ("+this.__iTotalRecords+")")},__requestMoreContent:function(){var e=this,o=this.__filterObj,a=$.Deferred();if(-1===e.__iRequestStatus){e.__iRequestStatus=1;var i=this.getOption("source");t.util.showLoading(),$.when(i.read({startTime:this.__startTime,size:e.__iPageSize,endTime:this.__endTime},null,o)).done(function(t){if(0==e.$(".list").scrollHeight-e.$(".list").scrollTop-e.$(".list").clientHeight&&e.$(".list").scrollTop(e.$(".list").scrollTop-5),null==t.data||0!=t.data.length){for(var o=0;t.data.length>o;o++)t.data[o].oddeven+=t.data.length;e.__iTotalRecords+=t.count,e.__appendItems(t.data),e.__startTime=new Date(t.start).getTime()-1,a.resolve()}}).fail(function(t){e.fireEvent("requestFailed",t)}).always(function(){t.util.hideLoading(),e.__iRequestStatus=-1})}return a.promise()},__appendItems:function(o){var a=this,i=this.$("."+this.__subClass("list")),s=this.getOption("itemWidth");this.__iBeginIndex=this.__aItemBlock.length,this.$().height();for(var n=[],r=0;o.length>r;r++){var l=this.__iBeginIndex+r,d=this.__$contentTemplate.clone().addClass(this.__subClass("item")).attr("index",l),p=new t.core.JsonModel(o[r]);i.append(d),d.css({"float":"left",width:s}),this.__aItemBlock.push({model:p,dom:d,visiable:!1}),n.push(d.setModel(p).process(e))}$.when.apply($,n).done(function(){a.__initImageClickEvent(),a.$().parent().height(a.$().parent().parent().height()),0==a.$(".feed_detail").length&&(a.$().append(a.tipTemplate),a.tipTemplate.process(e)),a.$(".feed_item").off("click").on("click",function(){var o=$(this).find(".feed-container");$(this).getModel();var i=$(this).getModel().getValue("");if(i&&null!=i.item){if(null!=a.__detailModel&&null!=a.__detailModel.getValue("")&&i.item.id==a.__detailModel.getValue("").id)return;a.$(".feed-container").removeAttr("id"),$(this).find(".feed-container").length>0&&$(this).find(".feed-container").attr("id","selected"),null!=i.item&&null!=i.item.comments&&void 0===i.item.comments.items&&(i.item.comments.items=[]),0==a.$(".feed_detail").length?(a.$(".tip_message").remove(),a.$().append(a.detailTemplate),null==a.__detailModel?(a.__detailModel=new t.core.JsonModel({}),a.__detailModel.setValue("",$(this).find(".feed-container").getModel().getValue("")),a.detailTemplate.setModel(a.__detailModel),$.when(a.detailTemplate.process(e)).done(function(){a.__bindAttachmentPreview()})):(a.$(".main-title").children().unprocess(),a.$(".pt").children().unprocess(),a.__detailModel.setValue("",$(this).find(".feed-container").getModel().getValue("")),a.detailTemplate.setModel(a.__detailModel),$.when(a.detailTemplate.process(e)).done(function(){a.__bindAttachmentPreview()}))):(a.$(".main-title").children().unprocess(),a.$(".pt").children().unprocess(),a.__detailModel.setValue("",$(this).find(".feed-container").getModel().getValue("")),a.detailTemplate.setModel(a.__detailModel),$.when(a.detailTemplate.process(e)).done(function(){a.__bindAttachmentPreview()})),a.$("#setStatus").off("click").on("click",function(){t.util.showLoading(),$.when(a.__oFeedService.setFeedStatus(i.item.id,!a.__detailModel.getValue("hot"))).done(function(e){1==e?(a.__detailModel.setValue("hot",!a.__detailModel.getValue("hot")),o.getModel().setValue("hot",a.__detailModel.getValue("hot"))):window.SboShell.raiseMessage(t.sbo.localization.Helper.get("feed/comment/setIpt/failed"),"error")}).fail(function(){}).always(function(){t.util.hideLoading()})}),a.$(".addComment").off("click").on("click",function(){window.SboShell.openFrame({view:"sap.sbo.page.pad.network.PostComment",type:"center",width:470,height:310,options:{feedID:i.item.id},callback:function(){$.when(a.__oFeedService.getFeedByID(i.item.id)).done(function(o){var i=t.sbo.util.formatter.convertAttachedFiles(o);a.$(".main-title").children().unprocess(),a.$(".pt").children().unprocess(),$.when(a.__detailModel.setValue("",i)).done(function(){a.$(".author_info").process(e),a.$(".main-title").process(e),a.$(".pt").process(e)})}).fail(function(){})}})})}})})},__bindAttachmentPreview:function(){this.$(".clickLink").off("click").on("click",function(){var e=$(this).data("type"),t=$(this).data("url");null!=t&&null!=e&&("desktop"==window.SboShell.callFeatureMethod("shell.getDeviceType")?window.SboShell.previewAttachment(t,e):window.SboShell.bridge.docview(t,e))})},__actionBtnClick:function(e){var t=this;switch(e){case"add":window.SboShell.openFrame({view:"sap.sbo.page.pad.network.PostFeedDialog",type:"center",width:650,height:380,options:{idx:0,thingID:this.__thingID},callback:function(){t.clearCache(),t.__requestMoreContent()}});break;case"all":this.__filterObj=null,this.clearCache(),this.__requestMoreContent();break;case"atMe":this.clearCache(),this.__filterObj={type:1},this.__requestMoreContent();break;case"myPost":this.clearCache(),this.__filterObj={type:2},this.__requestMoreContent();break;case"sysUpdate":this.clearCache(),this.__filterObj={type:4},this.__requestMoreContent();break;case"userUpdate":this.clearCache(),this.__filterObj={type:8},this.__requestMoreContent();break;case"task":this.clearCache(),this.__filterObj={type:16},this.__requestMoreContent();break;case"memo":this.clearCache(),this.__filterObj={type:32},this.__requestMoreContent();break;case"hot":this.clearCache(),this.__filterObj={type:64},this.__requestMoreContent()}},clearCache:function(){this.__iRequestStatus=-1,this.__startTime=null,this.__iTotalRecords=0,this.__aItemBlock=[],$("body").find(".sap-sbo-time-line-layout-list").empty(),this.$(".feed_detail").remove(),this.$().append(this.tipTemplate)}},Static:{}})}),define("sap.sbo.ui.phone.ChooseListFrameView",["sap.ui.Controller","sap.core.IProcessable","sap.core.GuardedTimer","sap.ui.widget.TextField","sap.sbo.ui.BaseChooseListFrameView","css!sap.sbo.ui.phone.ChooseListFrameView","html!sap.sbo.ui.phone.ChooseListFrameView"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.BaseChooseListFrameView,Interfaces:[t.core.IProcessable],Events:[],Options:{},Public:{init:function(){t.sbo.ui.BaseChooseListFrameView.prototype.init.apply(this,arguments),this.declareMember({__oTimer:this.autoDestroy(new t.core.GuardedTimer)})},destroy:function(){},initView:function(){var o=$.Deferred(),a=this,i=$("<div>").html(e.html.sap.sbo.ui.phone.ChooseListFrameView);$.when(t.sbo.ui.BaseChooseListFrameView.prototype.initView.call(this,"sbo-chooselist-phone",i.find('[data-id="sbo-chooselist-phone-header-extend"]'),e)).done(function(){o.resolve()}),"multiple"===a.__sMode&&this.$('[data-id="ok"]').show().on("vclick",this.__oDestroyViewPool.add(function(){a.__doneSelection()},function(){a.$('[data-id="ok"]').off("vclick",this)})),this.$('[data-id="exit"]').on("vclick",this.__oDestroyViewPool.add(function(){a.closeFrame()},function(){a.$('[data-id="exit"]').off("vclick",this)}));var s=null;return this.$('[data-id="input"]>input').getControl().attachEvent("OptionChange",function(){var e=a.__oTimer.setTimeout(function(){e===s&&(a.__clearResult(),a.__loadMore())},300);a.__oModel.getValue("searchTerm")?a.$('[data-id="input"]>a').addClass("active"):a.$('[data-id="input"]>a').removeClass("active"),s=e}),this.$('[data-id="toggle-search"]').on("vclick",this.__oDestroyViewPool.add(function(){a.__oModel.setValue("searchTerm","")},function(){a.$('[data-id="toggle-search"]').off("vclick",this)})),o.promise()},destroyView:function(){this.$('[data-id="input"]>input').getControl().detachEvent("OptionChange"),t.sbo.ui.BaseChooseListFrameView.prototype.destroyView.call(this)},update:function(){t.sbo.ui.BaseChooseListFrameView.prototype.update.apply(this,arguments)}},Protected:{setProcessContext:function(t){$.extend(e,t)},__doneSelection:function(){this.__aMultiValueHolder&&this.__aMultiValueHolder.length>0&&this.callShell("multi-select",this.__aMultiValueHolder),this.closeFrame()}}})}),define("sap.sbo.ui.widget.ActionDialog",["sap.ui.Control","css!sap.sbo.ui.widget.ActionDialog","sap.ui.common"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Control.declare({Name:this.getModuleInfo().moduleName,DomClass:"sap-sbo-ui-widget-actiondialog",Events:[],PublicMethods:[],Options:{},Public:{init:function(){if(t.ui.Control.prototype.init.apply(this,arguments),t.ui.Control.declareMember(this,{isActive:!1}),"phone"==SboShell.__deviceType){this.$().addClass(this.__subClass("wrapper")).hide();var e=this;this.$().onControlEvent("click",'button[data-sap-widget="sap.ui.widget.Button"]',function(){e.isActive&&e.hide()})}else this.$().remove()},update:function(){},destroy:function(){this.$().offControlEvent("click",'button[data-sap-widget="sap.ui.widget.Button"]')},show:function(){var e=this;this.$().slideDown(400,function(){e.isActive=!0})},hide:function(){var e=this;this.$().slideUp(400,function(){e.isActive=!1})}},Protected:{}})}),define("sap.sbo.ui.widget.Address",["sap.ui.Control","sap.core.JsonModel","sap.sbo.services.StatesService","html!sap.sbo.ui.widget.Address","css!sap.sbo.ui.widget.Address"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Control.declare({Name:this.getModuleInfo().moduleName,DomClass:"sap-sbo-ui-widget-address",Events:[],PublicMethods:[],Options:{locale:{type:"string",defaultValue:null,nullable:!0},country:{type:"string",defaultValue:null,nullable:!0},state:{type:"string",defaultValue:null,nullable:!0},zipCode:{type:"string",defaultValue:null,nullable:!0},city:{type:"string",defaultValue:null,nullable:!0},street1:{type:"string",defaultValue:null,nullable:!0},street2:{type:"string",defaultValue:null,nullable:!0}},Public:{init:function(){t.ui.Control.prototype.init.apply(this,arguments),this.declareMember({_oModel:this.autoDestroy(new t.core.JsonModel({street1:"",street2:"",street3:"",street4:"",addressLink:"",displayIcon:!0})),_oStateService:this.autoDestroy(new t.sbo.services.StatesService)}),this.$().html(e.html.sap.sbo.ui.widget.Address),this.$().setModel(this._oModel,"address")},destroy:function(){},update:function(){var e=$.Deferred(),t=this.getOption("locale"),o=this.getOption("state"),a={code:o,country:t},i=this;return""!==o&&"CN"===t?i._oStateService.get(a).done(function(t){o=t.name,i.__formatAddress(o),e.resolve()}).fail(function(t){window.SboShell.raiseException(t),e.reject()}):(i.__formatAddress(o),e.resolve()),e.promise()}},Protected:{__formatAddress:function(e){var t=this.getOption("country"),o=this.getOption("zipCode"),a=this.getOption("city"),i=this.getOption("street1"),s=this.getOption("street2"),n=[];e&&n.push(e),o&&n.push(o);var r=[];a&&r.push(a),n.join(" ")&&r.push(n.join(" ")),this._oModel.setValue("street1",i),this._oModel.setValue("street2",s),this._oModel.setValue("street3",r.join(", ")),this._oModel.setValue("street4",t);var l=[];if(i&&l.push(i),s&&l.push(s),r.join(", ")&&l.push(r.join(", ")),t&&l.push(t),"desktop"==SboShell.__deviceType){var d=navigator.userAgent.toLocaleLowerCase();d.indexOf("ipad")>0||d.indexOf("iphone")>0?this._oModel.setValue("addressLink","http://maps.apple.com/?q="+l.join(", ")):this._oModel.setValue("addressLink","http://map.google.com?q="+encodeURIComponent(l.join(", ")))}else this._oModel.setValue("addressLink","geo:0,0?q="+l.join(", "));""===this._oModel.getValue("street1")&&""===this._oModel.getValue("street2")&&""===this._oModel.getValue("street3")&&""===this._oModel.getValue("street4")?this._oModel.setValue("displayIcon",!1):this._oModel.setValue("displayIcon",!0)}}})}),define("sap.sbo.ui.widget.AutoCompletableTextArea",["sap.ui.Control","sap.log","sap.sbo.services.FeedService","css!sap.sbo.ui.widget.AutoCompletableTextArea"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Control.declare({Name:"sap.sbo.ui.widget.AutoCompletableTextArea",DomClass:"sap-sbo-ui-widget-AutoCompletableTextArea",Events:["change"],PublicMethods:[],Options:{value:{type:"string",defaultValue:""},disabled:{type:"boolean",defaultValue:!1},readonly:{type:"boolean",defaultValue:!1},wrap:{type:"string",defaultValue:"hard"},cols:{type:"integer",defaultValue:20},rows:{type:"integer",defaultValue:2},liveChange:{type:"boolean",defaultValue:!1}},Public:{init:function(){t.ui.Control.prototype.init.apply(this,arguments),t.ui.Control.declareMember(this,{__onChangeProxy:$.proxy(this.__onChange,this),__onKeyupProxy:$.proxy(this.__onKeyup,this),__onKeydownProxy:$.proxy(this.__onKeydown,this),__hidePopupProxy:$.proxy(this.__hidePopup,this),__clickProxy:$.proxy(this.__click,this),searchMode:!1,popupContainer:null,selectionStart:0,selectionEnd:0,queryText:"",datas:[],lastText:"",feedService:new t.sbo.services.FeedService}),this.$().bind("change",this.__onChangeProxy),this.$().on("click",this.__clickProxy),this.$().on("keyup",this.__onKeyupProxy),this.$().on("keydown",this.__onKeydownProxy),this.__initPopupContent();var e=navigator.userAgent,o=e.match(/iPad/i)?"touchstart":"click";document.addEventListener(o,this.__hidePopupProxy,!0)},destroy:function(){this.$().off("keyup",this.__onChangeProxy),this.$().unbind("change",this.__onChangeProxy),this.$().off("click",this.__clickProxy),this.__onChangeProxy=null,$("#"+this.__subId()+"_popupContainer").remove()},update:function(e){if(e.value){var t=this.getOption("value");this.$().val(t),this.$().attr("title",t?t:"")}e.disabled&&(this.getOption("disabled")?(this.$().addClass("sap-ui-disabled"),this.$().attr("disabled",!0),this.__disableField()):(this.$().removeClass("sap-ui-disabled"),this.$().removeAttr("disabled"))),e.cols&&this.getOption("cols")&&this.$().attr("cols",this.getOption("cols")),e.rows&&this.getOption("rows")&&this.$().attr("rows",this.getOption("rows")),e.wrap&&(this.$().attr("wrap",this.getOption("wrap")),"off"===this.getOption("wrap").toLowerCase()?this.$().addClass(this.__subClass("wrap")):this.$().removeClass(this.__subClass("wrap"))),e.readonly&&(this.getOption("readonly")?this.$().attr("readonly",!0):this.$().removeAttr("readonly"))}},Protected:{__checkSearchMode:function(){var e=this.$()[0].selectionStart,t=this.$().val(),o=t.substr(0,e),a=t.substr(e,this.lastText.length-e),i=o.lastIndexOf("@"),s=a.indexOf(" "),n=(-1===s?a.length:s)+e,r=-1!==i?t.substr(i,n-i):"";""!==r&&-1===r.indexOf(" ")?(this.searchMode=!0,this.selectionStart=i+1,this.selectionEnd=n,this.queryText=r.substr(1,r.length-1),this.__querySuggestion(function(){this.datas.length>0?(this.__fillSuggestionList(),this.__showSuggestion()):this.__hideSuggestion()})):(this.searchMode=!1,this.__hideSuggestion())},__click:function(){this.__checkSearchMode()},__setInputSelection:function(e,t){var o=this.$()[0];if("number"==typeof o.selectionStart&&"number"==typeof o.selectionEnd)o.selectionStart=e,o.selectionEnd=t;else{var a=o.createTextRange(),i=offsetToRangeCharacterMove(o,e);a.collapse(!0),e===t?a.move("character",i):(a.moveEnd("character",offsetToRangeCharacterMove(o,t)),a.moveStart("character",i)),a.select()}},__replaceBySuggestionString:function(e){var t=this.$().val(),o=this.selectionStart,a=t.substr(0,o),i=this.selectionEnd,s=t.substr(i,t.length-i),n=-1===s.indexOf(" ")?" ":"";this.$().val(a+e+n+s),this.lastText=this.$().val(),this.setOption("value",this.lastText),this.searchMode=!1,this.__hideSuggestion()},__hidePopup:function(e){var t=$("#"+this.__subId()+"_popupContainer");t.length>0&&0===$(e.target).parents("#"+this.__subId()+"_popupContainer").length&&$(e.target).attr("id")!==this.__subId()&&t.hide()},__initPopupContent:function(){this.popupContainer=$("<div>").addClass(this.__subClass("popupContainer")).attr("id",this.__subId()+"_popupContainer"),this.__hideSuggestion(),$("body").append(this.popupContainer)},__showSuggestion:function(){this.popupContainer.show();var e=this.getCaretPositon();this.popupContainer.css("left",e.left).css("top",e.top+20)},__hideSuggestion:function(){this.popupContainer.hide(),this.popupContainer.empty()},__isEditable:function(){return!this.getOption("disabled")&&!this.getOption("readonly")},__disableField:function(){this.getOption("disabled")?this.$().addClass("sap-ui-disabled").attr("disabled","disabled"):this.$().removeClass("sap-ui-disabled").removeAttr("disabled")},__onChange:function(){this.__isEditable()&&(this.setOption("value",this.$().val()),this.fireEvent("change"))},__onKeydown:function(e){13===e.keyCode&&this.searchMode&&(e.preventDefault(),this.datas.length>0&&this.__replaceBySuggestionString(this.datas[0]))},__onKeyup:function(){this.$().val(),this.__checkSearchMode(),this.lastText=this.$().val()},__querySuggestion:function(e){var o=this;$.when(o.feedService.queryThingsStartWidth(o.queryText)).done(function(t){o.datas=t,e.apply(o,[])}).fail(function(){t.log.error("query things failed")}).always(function(){})},__fillSuggestionList:function(){var e=this.datas;this.popupContainer.empty();var t,o=$("<ul>"),a=this;for(o.click(function(e){a.__replaceBySuggestionString($(e.target).text())}),t=0;e.length>t;t++){var i=$("<li>").text(e[t]);0===t&&i.addClass(a.__subClass("popupContainer-li-Selected")),i.mouseover(function(){$(this).addClass(a.__subClass("popupContainer-li-Selected"))}),i.mouseout(function(){$(this).removeClass(a.__subClass("popupContainer-li-Selected"))}),o.append(i)}this.popupContainer.append(o)},__filterSuggestion:function(){var e=this,t=function(t){return void 0===e.queryText||""===e.queryText?!1:t.indexOf(e.queryText)>-1};return this.datas.filter(t)},getCaretPositon:function(){var e=this.$()[0];if(document.selection){e.focus();var t=document.selection.createRange();return{left:t.boundingLeft,top:t.boundingTop,bottom:t.boundingTop+t.boundingHeight}}var o=this,a="{$clone_div}",i="{$cloneLeft}",s="{$cloneFocus}",n='<span style="white-space:pre-wrap;"> </span>',r=e[a]||document.createElement("div"),l=e[s]||document.createElement("span"),d=e[i]||document.createElement("span"),p=(o._offset(e),this._getFocus(e)),c={left:0,top:0};e[a]||(e[a]=r,e[s]=l,e[i]=d,r.appendChild(d),r.appendChild(l),document.body.appendChild(r),l.innerHTML="|",l.style.cssText="display:inline-block;width:0px;overflow:hidden;z-index:-100;word-wrap:break-word;word-break:break-all;",r.className=this._cloneStyle(e),r.style.cssText="visibility:hidden;display:inline-block;position:absolute;z-index:-100;word-wrap:break-word;word-break:break-all;overflow:hidden;"),r.style.left=this._offset(e).left+"px",r.style.top=this._offset(e).top+"px";var u=e.value.substring(0,p).replace(/</g,"<").replace(/>/g,">").replace(/\n/g,"<br/>").replace(/\s/g,n);d.innerHTML=u,l.style.display="inline-block";try{c=this._offset(l)}catch(h){c=0}return l.style.display="none",{left:c.left,top:c.top,bottom:c.bottom}},_cloneStyle:function(e,t){if(!t&&e["${cloneName}"])return e["${cloneName}"];var o,a,i=/^(number|string)$/,s=/^(content|outline|outlineWidth)$/,n=[],r=e.style;for(a in r)if(!s.test(a)){var l=this._getStyle(e,a);""!==l&&i.test(typeof l)&&(a=a.replace(/([A-Z])/g,"-$1").toLowerCase(),n.push(a),n.push(":"),n.push(l),n.push(";"))}return n=n.join(""),e["${cloneName}"]=o="clone"+(new Date).getTime(),this._addHeadStyle("."+o+"{"+n+"}"),o},_addHeadStyle:function(e){var t=this._style[document];t||(t=this._style[document]=document.createElement("style"),document.getElementsByTagName("head")[0].appendChild(t)),t.styleSheet&&(t.styleSheet.cssText+=e)||t.appendChild(document.createTextNode(e))},_style:{},_getStyle:"getComputedStyle"in window?function(e,t){return getComputedStyle(e,null)[t]}:function(e,t){return e.currentStyle[t]},_getFocus:function(e){var t=0;if(document.selection){e.focus();var o=document.selection.createRange();if("TEXTAREA"===e.nodeName){var a=o.duplicate();for(a.moveToElementText(e),t=-1;a.inRange(o);)a.moveStart("character"),t++}else"INPUT"===e.nodeName&&(o.moveStart("character",-e.value.length),t=o.text.length)}else(e.selectionStart||"0"===e.selectionStart)&&(t=e.selectionStart);return t},_offset:function(e){var t=e.getBoundingClientRect(),o=e.ownerDocument,a=o.body,i=o.documentElement,s=i.clientTop||a.clientTop||0,n=i.clientLeft||a.clientLeft||0,r=t.top+(self.pageYOffset||i.scrollTop)-s,l=t.left+(self.pageXOffset||i.scrollLeft)-n;return{left:l,top:r,right:l+t.width,bottom:r+t.height}}}})}),define("sap.sbo.ui.widget.BaseUpload",["sap.ui.Control"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Control.declare({Name:"sap.sbo.ui.widget.BaseUpload",DomClass:"sap-sbo-ui-widget-BaseUpload",Events:[],PublicMethods:[],Options:{},Public:{init:function(){t.ui.Control.prototype.init.apply(this,arguments)},destroy:function(){this.$().empty()}},Protected:{__absoluteurl:function(e,t){var o=e.split("/"),a=t.split("/");o.pop();for(var i=0;a.length>i;i++)"."!=a[i]&&(".."==a[i]?o.pop():o.push(a[i]));return o.join("/")},__validateURL:function(e){var t=RegExp("^(http|https|ftp)://([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&amp;%$-]+)*@)*((25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]).(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0).(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0).(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[0-9])|localhost|([a-zA-Z0-9-]+.)*[a-zA-Z0-9-]+.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(/($|[a-zA-Z0-9.,?'\\+&amp;%$#=~_-]+))*$");return t.test(e)}}})}),define("sap.sbo.ui.widget.AutoCompletableTextAreaGrp",["sap.ui.Control","sap.log","sap.sbo.services.FeedService","css!sap.sbo.ui.widget.AutoCompletableTextAreaGrp"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Control.declare({Name:"sap.sbo.ui.widget.AutoCompletableTextAreaGrp",DomClass:"sap-sbo-ui-widget-AutoCompletableTextArea",Events:["change"],PublicMethods:[],Options:{value:{type:"string",defaultValue:""},disabled:{type:"boolean",defaultValue:!1},readonly:{type:"boolean",defaultValue:!1},wrap:{type:"string",defaultValue:"hard"},cols:{type:"integer",defaultValue:20},rows:{type:"integer",defaultValue:2},liveChange:{type:"boolean",defaultValue:!1}},Public:{init:function(){t.ui.Control.prototype.init.apply(this,arguments),t.ui.Control.declareMember(this,{__onChangeProxy:$.proxy(this.__onChange,this),__onKeyupProxy:$.proxy(this.__onKeyup,this),__onKeydownProxy:$.proxy(this.__onKeydown,this),__hidePopupProxy:$.proxy(this.__hidePopup,this),__clickProxy:$.proxy(this.__click,this),searchMode:!1,popupContainer:null,selectionStart:0,selectionEnd:0,queryText:"",datas:{},lastText:"",feedService:new t.sbo.services.FeedService}),this.$().bind("change",this.__onChangeProxy),this.$().on("click",this.__clickProxy),this.$().on("keyup",this.__onKeyupProxy),this.$().on("keydown",this.__onKeydownProxy),this.__initPopupContent();var e=navigator.userAgent,o=e.match(/iPad/i)?"touchstart":"click";document.addEventListener(o,this.__hidePopupProxy,!0)},destroy:function(){this.$().off("keyup",this.__onChangeProxy),this.$().unbind("change",this.__onChangeProxy),this.$().off("click",this.__clickProxy),this.__onChangeProxy=null,$("#"+this.__subId()+"_popupContainer").remove()},update:function(e){if(e.value){var t=this.getOption("value");this.$().val(t),this.$().attr("title",t?t:"")}e.disabled&&(this.getOption("disabled")?(this.$().addClass("sap-ui-disabled"),this.$().attr("disabled",!0),this.__disableField()):(this.$().removeClass("sap-ui-disabled"),this.$().removeAttr("disabled"))),e.cols&&this.getOption("cols")&&this.$().attr("cols",this.getOption("cols")),e.rows&&this.getOption("rows")&&this.$().attr("rows",this.getOption("rows")),e.wrap&&(this.$().attr("wrap",this.getOption("wrap")),"off"===this.getOption("wrap").toLowerCase()?this.$().addClass(this.__subClass("wrap")):this.$().removeClass(this.__subClass("wrap"))),e.readonly&&(this.getOption("readonly")?this.$().attr("readonly",!0):this.$().removeAttr("readonly"))}},Protected:{__checkSearchMode:function(){var e=this.$()[0].selectionStart,t=this.$().val(),o=t.substr(0,e),a=t.substr(e,this.lastText.length-e),i=o.lastIndexOf("@"),s=a.indexOf(" "),n=(-1===s?a.length:s)+e,r=-1!==i?t.substr(i,n-i):"";""!==r&&-1===r.indexOf(" ")?(this.searchMode=!0,this.selectionStart=i+1,this.selectionEnd=n,this.queryText=r.substr(1,r.length-1),this.__querySuggestion(function(){this.datas&&this.datas.groups&&this.datas.groups.length>0?(this.__fillSuggestionList(),this.__showSuggestion()):this.__hideSuggestion()})):(this.searchMode=!1,this.__hideSuggestion())},__click:function(){this.__checkSearchMode()},__setInputSelection:function(e,t){var o=this.$()[0];if("number"==typeof o.selectionStart&&"number"==typeof o.selectionEnd)o.selectionStart=e,o.selectionEnd=t;else{var a=o.createTextRange(),i=offsetToRangeCharacterMove(o,e);a.collapse(!0),e===t?a.move("character",i):(a.moveEnd("character",offsetToRangeCharacterMove(o,t)),a.moveStart("character",i)),a.select()}},__replaceBySuggestionString:function(e){var t=this.$().val(),o=this.selectionStart,a=t.substr(0,o),i=this.selectionEnd,s=t.substr(i,t.length-i),n=-1===s.indexOf(" ")?" ":"";this.$().val(a+e+n+s),this.lastText=this.$().val(),this.setOption("value",this.lastText),this.searchMode=!1,this.__hideSuggestion()},__hidePopup:function(e){var t=$("#"+this.__subId()+"_popupContainer");t.length>0&&0===$(e.target).parents("#"+this.__subId()+"_popupContainer").length&&$(e.target).attr("id")!==this.__subId()&&t.hide()},__initPopupContent:function(){this.popupContainer=$("<div>").addClass(this.__subClass("popupContainer")).attr("id",this.__subId()+"_popupContainer"),this.__hideSuggestion(),$("body").append(this.popupContainer)},__showSuggestion:function(){this.popupContainer.show();var e=this.getCaretPositon();this.popupContainer.css("left",e.left).css("top",e.top+25).css("width",this._popupWidth()),"phone"!==window.SboShell.callFeatureMethod("shell.getDeviceType")&&this.popupContainer.css("font-size","1.2em")},__hideSuggestion:function(){this.popupContainer.hide(),this.popupContainer.empty()},__isEditable:function(){return!this.getOption("disabled")&&!this.getOption("readonly")
},__disableField:function(){this.getOption("disabled")?this.$().addClass("sap-ui-disabled").attr("disabled","disabled"):this.$().removeClass("sap-ui-disabled").removeAttr("disabled")},__onChange:function(){this.__isEditable()&&(this.setOption("value",this.$().val()),this.fireEvent("change"))},__onKeydown:function(e){if(this.searchMode)switch(e.keyCode){case 13:e.preventDefault();var t=$(this.__subClassSelector("popupContainer-li-Selected")).data("identityName");t&&this.__replaceBySuggestionString(t);break;case 40:var o=$(this.__subClassSelector("popupContainer-li-Selected"));o.nextAll("li").first().addClass(this.__subClass("popupContainer-li-Selected")),o.removeClass(this.__subClass("popupContainer-li-Selected"));break;case 38:var o=$(this.__subClassSelector("popupContainer-li-Selected"));o.prevAll("li").first().addClass(this.__subClass("popupContainer-li-Selected")),o.removeClass(this.__subClass("popupContainer-li-Selected"))}},__onKeyup:function(e){this.$().val(),38!=e.keyCode&&40!=e.keyCode&&this.__checkSearchMode(),this.lastText=this.$().val()},__querySuggestion:function(e){var o=this;$.when(o.feedService.queryDetailThingsStartWidth(o.queryText)).done(function(t){o.datas=t,e.apply(o,[])}).fail(function(){t.log.error("query things failed")}).always(function(){})},__fillSuggestionList:function(){var e=this.datas,t=e.groups;this.popupContainer.empty();var o=$("<ul>");for(a=0;t.length>a;a++){var a,i,s=$("<div>").text(t[a].displayType),n=this;for(o.append(s),i=0;t[a].items.length>i;i++){var r=t[a].items[i],l=$("<li>").text(r.name);0===i&&0===a&&l.addClass(n.__subClass("popupContainer-li-Selected")),l.mouseover(function(){$(this).addClass(n.__subClass("popupContainer-li-Selected"))}),l.mouseout(function(){$(this).removeClass(n.__subClass("popupContainer-li-Selected"))}),l.data("identityName",r.identityName),l.click(function(e){n.__replaceBySuggestionString($(e.target).data("identityName"))}),o.append(l)}t.length>a+1&&o.append($("<hr>"))}this.popupContainer.append(o)},__filterSuggestion:function(){var e=this,t=function(t){return void 0===e.queryText||""===e.queryText?!1:t.indexOf(e.queryText)>-1};return this.datas.filter(t)},getCaretPositon:function(){var e=this.$()[0];if(document.selection){e.focus();var t=document.selection.createRange();return{left:t.boundingLeft,top:t.boundingTop,bottom:t.boundingTop+t.boundingHeight}}var o=this,a="{$clone_div}",i="{$cloneLeft}",s="{$cloneFocus}",n='<span style="white-space:pre-wrap;"> </span>',r=e[a]||document.createElement("div"),l=e[s]||document.createElement("span"),d=e[i]||document.createElement("span"),p=(o._offset(e),this._getFocus(e)),c={left:0,top:0};e[a]||(e[a]=r,e[s]=l,e[i]=d,r.appendChild(d),r.appendChild(l),document.body.appendChild(r),l.innerHTML="|",l.style.cssText="display:inline-block;width:0px;overflow:hidden;z-index:-100;word-wrap:break-word;word-break:break-all;",r.className=this._cloneStyle(e),r.style.cssText="visibility:hidden;display:inline-block;position:absolute;z-index:-100;word-wrap:break-word;word-break:break-all;overflow:hidden;"),r.style.left=this._offset(e).left+"px",r.style.top=this._offset(e).top+"px";var u=e.value.substring(0,p).replace(/</g,"<").replace(/>/g,">").replace(/\n/g,"<br/>").replace(/\s/g,n);d.innerHTML=u,l.style.display="inline-block";try{c=this._offset(l)}catch(h){c=0}l.style.display="none";var b=c.left>window.SboShell.__deviceWidth-this._popupWidth()?window.SboShell.__deviceWidth-this._popupWidth():c.left;return{left:b,top:c.top,bottom:c.bottom}},_cloneStyle:function(e,t){if(!t&&e["${cloneName}"])return e["${cloneName}"];var o,a,i=/^(number|string)$/,s=/^(content|outline|outlineWidth)$/,n=[],r=e.style;for(a in r)if(!s.test(a)){var l=this._getStyle(e,a);""!==l&&i.test(typeof l)&&(a=a.replace(/([A-Z])/g,"-$1").toLowerCase(),n.push(a),n.push(":"),n.push(l),n.push(";"))}return n=n.join(""),e["${cloneName}"]=o="clone"+(new Date).getTime(),this._addHeadStyle("."+o+"{"+n+"}"),o},_addHeadStyle:function(e){var t=this._style[document];t||(t=this._style[document]=document.createElement("style"),document.getElementsByTagName("head")[0].appendChild(t)),t.styleSheet&&(t.styleSheet.cssText+=e)||t.appendChild(document.createTextNode(e))},_style:{},_getStyle:"getComputedStyle"in window?function(e,t){return getComputedStyle(e,null)[t]}:function(e,t){return e.currentStyle[t]},_getFocus:function(e){var t=0;if(document.selection){e.focus();var o=document.selection.createRange();if("TEXTAREA"===e.nodeName){var a=o.duplicate();for(a.moveToElementText(e),t=-1;a.inRange(o);)a.moveStart("character"),t++}else"INPUT"===e.nodeName&&(o.moveStart("character",-e.value.length),t=o.text.length)}else(e.selectionStart||"0"===e.selectionStart)&&(t=e.selectionStart);return t},_offset:function(e){var t=e.getBoundingClientRect(),o=e.ownerDocument,a=o.body,i=o.documentElement,s=i.clientTop||a.clientTop||0,n=i.clientLeft||a.clientLeft||0,r=t.top+(self.pageYOffset||i.scrollTop)-s,l=t.left+(self.pageXOffset||i.scrollLeft)-n;return{left:l,top:r,right:l+t.width,bottom:r+t.height}},_popupWidth:function(){var e=window.SboShell.callFeatureMethod("shell.getDeviceType");return"phone"==e?150:260}}})}),define("sap.sbo.ui.widget.BoList",["sap.ui.Control","sap.log","sap.core.IProcessable","sap.sbo.util.metadataHelper","sap.sbo.ui.Loop","sap.sbo.layout.pad.MetadataRaw","sap.sbo.localization.Helper","sap.ui.MessageBox","html!sap.sbo.app.template.DynamicProperty","css!sap.sbo.app.template.DynamicProperty","html!sap.sbo.ui.widget.BoList","css!sap.sbo.ui.widget.BoList"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Control.declare({Name:this.getModuleInfo().moduleName,DomClass:"sap-sbo-ui-widget-bo-list",Interfaces:[t.core.IProcessable],Events:["remove","detail"],PublicMethods:[],Options:{metadata:{type:"any"},ignoredProperty:{type:"array",arrayType:{type:"string"},defaultValue:[]},data:{type:"any"},editMode:{type:"boolean",defaultValue:!1}},Public:{init:function(){t.ui.Control.prototype.init.apply(this,arguments),this.declareMember({__oLoop:null,__nsProcess:null,__convertedMeta:null,__dtdNSUpdated:$.Deferred(),__dtdMetadata:$.Deferred()}),this.__initDom()},destroy:function(){this.$().off("vclick")},update:function(e){var o=$.Deferred(),a=[];return e.data&&a.push(this.__oLoop.setOption("data",this.getOption("data").value)),e.metadata&&(this.__convertedMeta=t.sbo.util.metadataHelper.convert(this.getOption("metadata")),this.__dtdMetadata.resolve()),e.editMode&&this.$()[this.getOption("editMode")?"addClass":"removeClass"](this.__subClass("editmode")),$.when.apply($,a).done(function(){o.resolve()}).fail(function(){o.reject()}),o.promise()},__initDom:function(){var o=[].reduce.call(this.$().children().filter("[data-sap-template]"),function(e,t){var o=$(t).remove();return e[o.attr("data-sap-template")]=o.children(),e},{});this.$().html(e.html.sap.sbo.ui.widget.BoList),this.$(".list>.items>.item>.row>.fields").append(o.Properties.clone()),this.$(".header>.labels").append(o.Properties.clone()),this.__dtdNSUpdated.done(function(){this.$().children().process(this.__nsProcess),this.__oLoop=this.$(".list>.items").getControl(),this.__oLoop.attachEvent("domCreated",function(t){var o=t.find(".fields").getControl();o.setOption({ignoredProperty:this.getOption("ignoredProperty"),metadata:this.__convertedMeta.properties,propertyTemplate:e.html.sap.sbo.app.template.DynamicProperty}).done(function(){var e=o.$('.sbo-metadata-list-property[gl-enabled="true"]');0!==e.length&&e.css("width",Math.floor(100/e.length)+"%")})}.bind(this));var t=this.$(".header>.labels").getControl();this.__dtdMetadata.done(function(){t.setOption({ignoredProperty:this.getOption("ignoredProperty"),metadata:this.__convertedMeta.properties,propertyTemplate:e.html.sap.sbo.app.template.DynamicProperty}).done(function(){var e=t.$('.sbo-metadata-list-property[gl-enabled="true"]');0!==e.length&&e.css("width",Math.floor(100/e.length)+"%")})}.bind(this))}.bind(this)),this.$().on("vclick",".icon",function(e){var o=$(e.currentTarget),a=o.attr("gl-confirm");"true"===a?$.when(t.ui.MessageBox.show({message:t.sbo.localization.Helper.get("common/DELETE_NOTIFY"),title:t.sbo.localization.Helper.get("common/INFO"),icon:"warning",buttons:[{key:"yes",text:t.sbo.localization.Helper.get("common/DELETE")},{key:"no",text:t.sbo.localization.Helper.get("common/CANCEL")}]})).done(function(e){"yes"==e&&this.fireEvent(o.attr("gl-action"),o.findModel("loop").getValue("data"),this.__convertedMeta.properties)}.bind(this)):this.fireEvent(o.attr("gl-action"),o.findModel("loop").getValue("data"),this.__convertedMeta.properties)}.bind(this))},setProcessContext:function(t){this.__nsProcess=$.extend(!0,{},e,t),this.__dtdNSUpdated.resolve()}}})}),define("sap.sbo.ui.widget.BoLabel",["sap.ui.Control","sap.sbo.localization.Helper","html!sap.sbo.ui.widget.BoLabel","css!sap.sbo.ui.widget.BoLabel"],function(){"use strict";var e=this.getNS(),t=e.sap,o=t.ui.Control.declare({Name:this.getModuleInfo().moduleName,DomClass:"sap-sbo-ui-widget-bo-label",Interfaces:[],Events:[],PublicMethods:[],Template:e.html.sap.sbo.ui.widget.BoLabel,Options:{iconUrl:{type:"string",defaultValue:null,nullable:!0},text:{type:"string",defaultValue:null,nullable:!0},placeHolder:{type:"string",defaultValue:null,nullable:!0},inNavigationMode:{type:"boolean",defaultValue:!0},readonly:{type:"boolean",defaultValue:!1},navigationEnabled:{type:"boolean",defaultValue:!0}},Public:{init:function(){t.ui.Control.prototype.init.apply(this,arguments),this.__initDom(),this.declareMember({__$desc:this.$(o.__subClassSelector("desc")),__$pic:this.$(o.__subClassSelector("pic")),__$navigator:this.$(o.__subClassSelector("navigator")),__bClickable:!0});var e=this.$().parents("[data-touchable]").eq(0);this.autoDestroy(0===e.length?this.__$navigator:e,function(){this.off("vclick")}).on("vclick",function(){this.__bClickable&&this.fireEvent(this.getOption("readonly")?"navigate":"choose")}.bind(this))},destroy:function(){this.$().empty()},update:function(e){var t=$.Deferred(),o=[];for(var a in e)this["update_"+a]&&o.push(this["update_"+a](this.getOption(a)));return $.when.apply($,o).done(function(){t.resolve()}),t.promise()},update_iconUrl:function(e){this.$()[e?"removeClass":"addClass"](o.__subClass("nopic")),e&&this.__$pic.children("img").attr("src",e)},update_text:function(e){this.$()[null===e||/^\s*$/.test(e)?"addClass":"removeClass"]("sap-null"),this.__$desc.text(null!==e?e:this.getPlaceHolder()),this.updateClickable()},update_placeHolder:function(){this.update_text(this.getOption("text"))},update_inNavigationMode:function(e){this.$()[e?"addClass":"removeClass"](o.__subClass("in-navigation-mode")),this.updateClickable()},update_readonly:function(e){this.$()[e?"addClass":"removeClass"]("sap-readonly"),this.updateClickable()},update_navigationEnabled:function(e){this.$()[e?"addClass":"removeClass"](o.__subClass("navigation-enabled")),this.updateClickable()},updateClickable:function(){this.__bClickable=!0,this.getOption("readonly")&&(this.__bClickable=!1,null!==this.getOption("text")&&this.getOption("inNavigationMode")&&this.getOption("navigationEnabled")&&(this.__bClickable=!0));var e=this.$().parents("[data-touchable]").eq(0);0!==e.length&&e.attr("data-touchable",this.__bClickable)},getPlaceHolder:function(){var e=this.getOption("placeHolder");return null===e?t.sbo.localization.Helper.get("common/PICK_ONE"):void 0},__initDom:function(){this.$().empty().append(o.ControlMeta.templates["*"].clone())}}});return o}),define("sap.sbo.ui.widget.BoLink",["sap.ui.Control","sap.log","sap.sbo.ui.BoNavigation","sap.sbo.ui.BoNavigationObject"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Control.declare({Name:this.getModuleInfo().moduleName,DomClass:"sap-sbo-ui-widget-bo-link",Events:[],PublicMethods:[],Options:{text:{type:"string",defaultValue:""},boEntity:{type:t.sbo.ui.BoNavigationObject,optional:!0,defaultValue:t.sbo.ui.BoNavigationObject.getAnEmptyInstance()},keepHTMLText:{type:"boolean",defaultValue:!1}},Public:{init:function(){t.ui.Control.prototype.init.apply(this,arguments),t.ui.Control.declareMember(this,{}),"A"!==this.$()[0].nodeName&&t.log.error("HTML node must be <a>");var e=this;this.$().on("vclick",function(o){var a=e.getOption("boEntity");"."!==a.getBoNameKey()&&t.sbo.ui.BoNavigation.navigate(a,window.SboShell.callFeatureMethod("shell.getDeviceType"),o)})},destroy:function(){this.$().off("vclick")},update:function(e){e.text&&(this.getOption("keepHTMLText")||this.$().text(this.getOption("text")))}}})}),define("sap.sbo.ui.widget.BoStatus",["sap.ui.Control","sap.sbo.localization.Helper","css!sap.sbo.ui.widget.BoStatus"],function(){"use strict";var e=this.getNS(),t=e.sap,o={sos_Open:t.sbo.localization.Helper.get("app/OPEN"),sos_Sold:t.sbo.localization.Helper.get("app/WON"),sos_Missed:t.sbo.localization.Helper.get("app/LOST")};return t.ui.Control.declare({Name:this.getModuleInfo().moduleName,DomClass:"sap-sbo-ui-widget-bostatus",Events:[],PublicMethods:[],Options:{value:{type:"enum",enumType:["sos_Open","sos_Sold","sos_Missed"],defaultValue:"sos_Open"},readonly:{type:"boolean",defaultValue:!1}},Public:{init:function(){t.ui.Control.prototype.init.apply(this,arguments),t.ui.Control.declareMember(this,{});var e=this;this.$().on("vclick",this.__subClassSelector("item"),function(t){var o=$(t.currentTarget).attr("key");e.setOption("value",o)})},destroy:function(){this.$().off("vclick")},update:function(e){(e.readonly||e.value)&&this._doChange()}},Protected:{_doChange:function(){var e=this.getOption("readonly"),t=this.getOption("value");e?this.$().text(o[t]):(this.$().empty(),this.$().append($("<div></div>").addClass(this.__subClass("item")).attr("key","sos_Open").text(o.sos_Open)).append($("<div></div>").addClass(this.__subClass("item")).attr("key","sos_Sold").text(o.sos_Sold)).append($("<div></div>").addClass(this.__subClass("item")).attr("key","sos_Missed").text(o.sos_Missed)),this.$().children("[key='"+t+"']").addClass("active"))}}})}),define("sap.sbo.ui.widget.ChartTileView",["sap.ui.Controller","sap.core.JsonModel","sap.core.event.BehaviorCommand","sap.sbo.layout.TileViewController","sap.sbo.ui.widget.ReportWidget"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.layout.TileViewController,Options:{reportId:{type:"string",defaultValue:""}},Public:{init:function(){t.sbo.layout.TileViewController.prototype.init.apply(this,arguments),this.declareMember({dataContext:new t.core.JsonModel({reportId:"",filter:[],gotDashboardData:new t.core.event.BehaviorCommand(this,this.__runDashboardDone),gotoDetailView:new t.core.event.BehaviorCommand(this,this.__gotoDetailView)}),title:"",renderDtd:$.Deferred()})},destroy:function(){},initView:function(){return this.$().setModel(this.dataContext),this.$().process(e).done(function(){}),this.renderDtd},destroyView:function(){},update:function(e){t.sbo.layout.TileViewController.prototype.update.apply(this,arguments),e.reportId&&this.dataContext.setValue("reportId",this.getOption("reportId")),e.mode&&(this.getOption("mode"),this.$("[field='modeText']").text(this.getOption("mode")))}},Protected:{__gotoDetailView:function(){var e=this.dataContext.getValue("reportId");window.SboShell.gotoView("sap.sbo.page.pad.report.queryChartView",{reportId:e,reportName:this.title})},__runDashboardDone:function(e){this.renderDtd.resolve(),this.title=e.data.title}},Static:{}})}),define("sap.sbo.ui.widget.ChartView",["require","sap.ui.Control","sap.core.DataList","sap.sbo.compoundservices.AnalyticService","sap.sbo.ui.widget.DTWrapper","css!sap.sbo.ui.widget.ChartView"],function(e,t,o,a){"use strict";return this.getNS(),t.declare({Name:this.getModuleInfo().moduleName,DomClass:"",Events:[],PublicMethods:[],Options:{title:{type:"string",defaultValue:""},chartType:{type:"string",defaultValue:"column"},dimensions:{type:"array",defaultValue:[],arrayType:{type:"any"}},measures:{type:"array",defaultValue:[],arrayType:{type:"any"}},measures1:{type:"array",defaultValue:[],arrayType:{type:"any"}},datas:{type:"array",defaultValue:[],arrayType:{type:"any"}},headers:{type:"array",defaultValue:[],arrayType:{type:"string"}},legendVisible:{type:"boolean",defaultValue:!0},xAxisVisible:{type:"boolean",defaultValue:!0},xLabelVisible:{type:"boolean",defaultValue:!0},yAxis0Visible:{type:"boolean",defaultValue:!0},yAxis1Visible:{type:"boolean",defaultValue:!0}},Public:{init:function(){var e=this;t.prototype.init.apply(this,arguments),this.$().css({position:"relative",width:"100%",height:"100%",top:"0px",bottom:"0px"}),this.declareMember({chartOption:{title:{value:"",visible:!0},colorPalette:["#0FAAFF","#008FD3","#0076CB","#0F46A7","#003283","#00195A"],legend:{visible:!0},lineHeight:18,xLabel:{value:"",visible:!1},xAxis:{visible:!0,value:[]},yAxis:[]},__iResizeTicket:-1,datas:[],chartType:"",dimensions:[],measures:[],measures1:[],yVisible:!0,chartInfo:null,refreshView:$.proxy(this.onResizeHandler,this),oService:new a}),this.$().on("vclick",function(t){e.$().trigger("chart.click"),t.stopPropagation()}),$(window).on("resize",this.refreshView)},destroy:function(){this.$().empty(),$(window).off("resize",this.refreshView)},update:function(e){var t=this;if(e.xAxisVisible){var o=this.getOption("xAxisVisible");this.chartOption.xAxis.visible=o}if(e.xLabelVisible){var a=this.getOption("xLabelVisible");this.chartOption.xLabel.visible=a}if(e.yAxis0Visible){var i=this.getOption("yAxis0Visible"),s=t.chartOption.yAxis[0];s&&(s.visible=i)}if(e.yAxis1Visible){var n=this.getOption("yAxis1Visible"),r=t.chartOption.yAxis[1];r&&(r.visible=n)}if(e.title){var l=this.getOption("title");this.chartOption.title.value=l}if(e.datas&&(this.datas=this.getOption("datas")),e.dimensions&&(this.dimensions=this.getOption("dimensions"),this.chartOption.xAxis.value=[],t.dimensions.forEach(function(e){t.chartOption.xAxis.value.push({propertyName:e})})),e.measures){this.measures=this.getOption("measures");var s=t.chartOption.yAxis[0];s||(s={visible:t.getOption("yAxis0Visible"),propertyNames:[],label:"",ticks:6,tickFormat:"d"},t.chartOption.yAxis.push(s)),s.propertyNames=t.measures}if(e.measures1&&(this.measures1=this.getOption("measures1"),this.measures1.length)){var r=t.chartOption.yAxis[1];r||(r={visible:t.getOption("yAxis1Visible"),propertyNames:[],label:"",ticks:6,tickFormat:"d"},t.chartOption.yAxis.push(r)),r.propertyNames=t.measures1}e.chartType&&(this.chartType=this.getOption("chartType")),e.headers&&(this.headers=this.getOption("headers")),e.legendVisible&&(this.chartOption.legend.visible=this.getOption("legendVisible")),t.tryShowChart2()}},Protected:{tryShowChart2:function(){var e=this;if(this.headers&&0!==this.headers.length&&this.datas&&0!==this.datas.length&&this.measures&&0!==this.measures.length&&this.dimensions&&0!==this.dimensions.length){var t=[],o=e.headers,a={};this.measures.forEach(function(e){a[e]=1}),this.measures1.forEach(function(e){a[e]=1});var t=e.convertData(o,e.datas,a);setTimeout(function(){e.showChart(e.chartType,t)},1e3)}},convertData:function(e,t,o){var a=[];return t.forEach(function(t){var i=t.values.value,s={};i.forEach(function(t,a){var i=e[a];o[i]&&"number"!=typeof t&&(t=parseFloat(t)),s[i]=t}),a.push(s)}),a},showChart:function(t,o){var a=this.$(),i=this,s=o;this.isRenderringChart||(this.isRenderringChart=!0,this.chartInfo?(this.chartInfo.refresh(),this.isRenderringChart=!1):e("sap.sbo.ui.widget.chart."+this.chartType,function(e){this.chartInfo=new e(a[0],s,i.chartOption),this.chartInfo.refresh(),this.isRenderringChart=!1}))},onResizeHandler:function(){if(this.__iLastResizeTime=(new Date).getTime(),-1===this.__iResizeTicket){var e=this;e.__iResizeTicket=setInterval(function(){var t=new Date;t.getTime()-e.__iLastResizeTime>500&&(null!==e.$()&&e.refreshChart(),clearInterval(e.__iResizeTicket),e.__iResizeTicket=-1)},500)}},refreshChart:function(){this.chartInfo&&this.chartInfo.refresh()}}})}),define("sap.sbo.ui.widget.ColumnLayout",["sap.ui.Control","css!sap.sbo.ui.widget.ColumnLayout"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Control.declare({Name:this.getModuleInfo().moduleName,DomClass:"sap-sbo-ui-widget-ColumnLayout",Events:[],PublicMethods:[],Options:{draggerPosition:{type:"integer",defaultValue:250,immutable:!0}},Public:{init:function(){t.ui.Control.prototype.init.apply(this,arguments),this.declareMember({}),this.padding=5;var e=this.getOption("draggerPosition");this.leftPanel=this.$(".leftContent").addClass("panel").addClass("left").width(e),this.rightPanel=this.$(".rightContent").addClass("panel").addClass("right").css("left",e+this.padding),this.$().append(this.createDraggerbar())},destroy:function(){},update:function(){}},Protected:{createDraggerbar:function(){var e=this,t=this.getOption("draggerPosition"),o=$("<div>").addClass("draggerbar").css("left",t+e.padding).attr({draggable:!0});return o.on("dragend",function(t){var a=o.offsetParent().offset(),i=t.originalEvent.x,s=i-a.left,n=e.leftPanel.width(),r=e.rightPanel.width();0>=i||(100>s&&(s=100),s>n+r-100&&(s=n+r-100),e.leftPanel.width(s),e.rightPanel.css("left",s+e.padding),o.css("left",s+e.padding))}),o}}})}),define("sap.sbo.ui.widget.cvom",["noamdjs!sap.sbo.libs.cvom.sap-viz"],function(){return window.sap}),define("sap.sbo.ui.widget.DataPicker",["sap.ui.Control","sap.core.JsonModel","html!sap.sbo.ui.widget.DataPicker","sap.core.event.BehaviorCommand","sap.sbo.util.notification","sap.core.event.CommandManager","css!sap.sbo.ui.widget.DataPicker","sap.core.DataList","sap.sbo.ui.Loop","sap.log","sap.sbo.ui.widget.SearchInput","sap.sbo.ui.widget.TagPanel","sap.sbo.ui.widget.ListView"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Control.declare({Name:this.getModuleInfo().moduleName,DomClass:"sap-sbo-ui-widget-DataPicker",Events:["tagSelected","dataSelected"],PublicMethods:[],Options:{groupsData:{type:"array",arrayType:{type:"object"},defaultValue:[]},groupLabelField:{type:"string",defaultValue:"",immutable:!0},listData:{type:"array",arrayType:{type:"object"},defaultValue:[]}},Public:{init:function(){var o=this;t.ui.Control.prototype.init.apply(this,arguments),this.declareMember({timerid:null,dataContext:new t.core.JsonModel({listSource:[],groupsSource:[]})});var a=this.$("[data-sap-template]").addClass("listItem");0===a.length&&t.log.fatal(this.getModuleInfo().moduleName+" need content template,please implement it!"),this.$().html(e.html.sap.sbo.ui.widget.DataPicker);var i=this.$('[data-sap-widget="sap.sbo.ui.widget.TagPanel"]'),s=i.attr("data-sap-option");i.attr("data-sap-option",s+",displayField:'"+this.getOption("groupLabelField")+"'"),this.$(".listSection>.datalist").append(a),this.$().setModel(this.dataContext,"sapsbouiwidgetDataPicker"),this.$().on("picktag",'[data-sap-widget="sap.sbo.ui.widget.TagPanel"]',this,this.__pickOneTag),this.$().on("pickData",'[data-sap-widget="sap.sbo.ui.widget.ListView"]',this,this.__pickOneData),this.$(".dataPickerContent").process(e).done(function(){$(window).resize(function(){o.__updateListPosition()})})},destroy:function(){this.unprocess(),this.$().off("vclick",".listItem",this,this.__pickItem)},update:function(e){var t=this;e.listData&&this.dataContext.setValue("listSource",this.getOption("listData")),e.groupsData&&this.dataContext.setValue("groupsSource",this.getOption("groupsData")).done(function(){t.__updateListPosition()})}},Protected:{__pickOneData:function(e,t){var o=e.data;o.$().trigger("dataSelected",t)},__pickOneTag:function(e,t){var o=e.data;o.$().trigger("tagSelected",t)},__updateListPosition:function(){var e,t,o=this;null!==this.timerid&&window.clearInterval(this.timerid),this.timerid=setInterval(function(){e=this.$(".topSection").height(),t!==e&&(this.$(".listSection").css("top",e),t=e)},16),setTimeout(function(){window.clearInterval(o.timerid),o.timerid=null},1e3)}}})}),define("sap.sbo.ui.widget.DateLabel",["sap.ui.Control","sap.sbo.util.formatter"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Control.declare({Name:this.getModuleInfo().moduleName,Events:[],PublicMethods:[],Options:{value:{type:Date,defaultValue:null,nullable:!0},format:{type:"string",defaultValue:"yy-mm-dd"}},Public:{init:function(){t.ui.Control.prototype.init.apply(this,arguments),t.ui.Control.declareMember(this,{})},update:function(e){e.value&&this.$().text(t.sbo.util.formatter.date_formattedString(this.getOption("value"),this.getOption("format")))}}})}),define("sap.sbo.ui.widget.DateTimeField",["require","sap.ui.Control","sap.util","noamdjs!sap.ui5.thirdparty.mobiscroll.js.mobiscroll-core","noamdcss!sap.ui5.thirdparty.mobiscroll.css.mobiscroll-core","noamdcss!sap.ui5.thirdparty.mobiscroll.css.mobiscroll-ios","noamdcss!sap.ui5.thirdparty.mobiscroll.css.mobiscroll-android-ics","css!sap.sbo.ui.widget.DateTimeField"],function(e){"use strict";var t=this.getNS(),o=t.sap;return o.ui.Control.declare({Name:"sap.sbo.ui.widget.DateTimeField",DomClass:"sap-sbo-ui-widget-datetimefield",Events:[],PublicMethods:[],Options:{value:{type:"any",defaultValue:new Date,nullable:!0},dateFormat:{type:"string",defaultValue:""},timeFormat:{type:"string",defaultValue:"hh:ii A"},nullable:{type:"boolean",defaultValue:!0},onChange:{type:"function",defaultValue:null,nullable:!0},lang:{type:"string",defaultValue:"EN"}},Public:{init:function(){o.ui.Control.prototype.init.apply(this,arguments),o.ui.Control.declareMember(this,{processed:!1,__type:"",__input:null,__clear:null,__onChangeProxy:$.proxy(this.__onChange,this),__oi18n:null,__separator:""});var t=this.$().attr("data-sap-type")||"date";this.__type=t.toLocaleLowerCase(),e("noamdjs!sap.ui5.thirdparty.mobiscroll.js.mobiscroll-android-ics",function(){}),e("noamdjs!sap.ui5.thirdparty.mobiscroll.js.mobiscroll-ios",function(){}),e("noamdjs!sap.ui5.thirdparty.mobiscroll.js.mobiscroll-list",function(){}),e("noamdjs!sap.ui5.thirdparty.mobiscroll.js.mobiscroll-select",function(){}),this.__input=$("<input type='text' class='mobidate'>")},destroy:function(){this.__clear&&this.__clear.off("vclick"),this.$().empty()},update:function(t){if(t.lang&&(""==this.getOption("lang")?null!==sessionStorage.getItem("locale")?this.setOption("lang",sessionStorage.getItem("locale")):this.setOption("lang","EN"):this.__oi18n=$("body").getModel("i18n").getValue("SAP-const").date,$.scroller.i18n[this.getOption("lang").toLowerCase()]=$.extend(this.__oi18n),this.$().append(this.__input),this.__input.bind("change click",this.__onChangeProxy)),t.dateFormat)if(null==this.getOption("dateFormat")||""==this.getOption("dateFormat")){var a=$("body").getModel("globalSettings").get("date/formatString")||"yy-mm-dd";this.__separator=$("body").getModel("globalSettings").get("date/separator")||"-",this.setOption("dateFormat",a)}else if(this.processed===!1){this.processed=!0;var i=this;e("noamdjs!sap.ui5.thirdparty.mobiscroll.js.mobiscroll-datetime",function(){i.__processForMobiscrollDate()})}t.value&&(null==this.getOption("value")&&1==this.processed?this.__input.val(""):"date"==this.__type&&1==this.processed?this.__input.mobiscroll("setDate",o.util.DateUTC2LocalinNumber(this.getOption("value")),!0):"datetime"==this.__type&&1==this.processed?this.__input.val($.mobiscroll.formatDate(this.getOption("dateFormat")+" "+this.getOption("timeFormat").replace(/m/g,"i"),this.__input.mobiscroll("getDate"),{})):"time"==this.__type&&1==this.processed&&this.__input.val($.mobiscroll.formatDate(this.getOption("timeFormat").replace(/m/g,"i"),this.__input.mobiscroll("getDate"),{})))}},Protected:{__onChange:function(){var e=this.__input.mobiscroll("getDate");if("date"==this.__type){var t=this.__input.mobiscroll("getDate"),o=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),a=this.getOption("value");if(null==a)this.setOption("value",o);else{var i=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate()));i.valueOf()!=o.valueOf()&&this.setOption("value",o)}}else if("datetime"==this.__type||"datetime-local"==this.__type){var s=this.__input.mobiscroll("getDate"),n=this.getOption("value");(null==n||s.valueOf()!=n.valueOf())&&this.setOption("value",s)}else"time"==this.__type&&this.setOption("value",e.getHours()+":"+e.getMinutes())},__processForMobiscrollDate:function(){var e="default",t="bubble",a=navigator.userAgent.toLowerCase();a.indexOf("b1odipad")>0?e="ios":a.indexOf("b1odiphone")>0?(e="ios",t="modal"):a.indexOf("b1odandroid")>0&&(e="android-ics",t="modal");var i=this.getOption("timeFormat").replace(/m/g,"i"),s=this;if("date"==this.__type||"datetime"==this.__type||"datetime-locale"==this.__type){var n=this.getOption("dateFormat"),r=n,l=RegExp("."==this.__separator?"\\.":this.__separator,"g");r=n.replace(l,""),"date"==this.__type?(this.__input.mobiscroll().date({theme:e,startYear:1970,endYear:2070,display:t,mode:"scroller",dateFormat:n,dateOrder:r,lang:s.getOption("lang").toLowerCase()}),this.getOption("value")instanceof Date&&this.__input.mobiscroll("setDate",o.util.DateUTC2LocalinNumber(this.getOption("value")),!0)):("datetime"==this.__type||"datetime-local"==this.__type)&&(this.__input.mobiscroll().datetime({theme:e,startYear:1970,endYear:2070,display:t,mode:"scroller",dateFormat:n,timeFormat:i,dateOrder:r,lang:s.getOption("lang").toLowerCase()}),this.getOption("value")instanceof Date&&this.__input.mobiscroll("setDate",this.getOption("value"),!0))}else"time"==this.__type&&(this.__input.mobiscroll().time({theme:e,display:t,mode:"scroller",timeFormat:i,lang:s.getOption("lang").toLowerCase()}),this.__input.val($.mobiscroll.formatDate(i,this.__input.mobiscroll("getDate"),{})));if(1==this.getOption("nullable")&&(this.__clear=$("<div data-touchable='true' class='clear' data-icon='&#xe1c7;'></div>"),this.__clear.insertAfter(this.__input),this.__clear.on("vclick",function(){s.setOption("value",null)}),null!==this.__clear)){var d=(this.__input.outerHeight()-this.__clear.height())/2;d>0&&this.__clear.css("margin-top",d+"px")}this.__input.attr("readonly",!0),null==this.getOption("value")&&1==this.processed&&this.__input.val("")}}})}),define("sap.sbo.ui.widget.DecimalInputField",["sap.ui.Control","sap.ui.locale","sap.ui.widget.BaseField","sap.ui.widget.InputField","sap.util","sap.sbo.util.i18n"],function(){"use strict";var e=this.getNS(),t=e.sap,o=t.ui.Control.declare({Name:this.getModuleInfo().moduleName,ControlBase:t.ui.widget.InputField,DomClass:"sap-sbo-ui-decimalinputfield",Events:["focusout","focusin"],PublicMethods:[],Options:{decimalSeparator:{type:"string",nullable:!0,defaultValue:"."},thousandsSeparator:{type:"string",nullable:!0,defaultValue:","},decimalNum:{type:"integer",nullable:!0,defaultValue:6},ingoreFormat:{type:"boolean",defaultValue:!1},removeLastZeros:{type:"boolean",defaultValue:!1}},Public:{init:function(){t.ui.widget.InputField.prototype.init.apply(this,arguments),t.ui.Control.declareMember(this,{__onFocusoutProxy:$.proxy(this.__onDomEventFocusout,this),__onFocusinProxy:$.proxy(this.__onDomEventFocusin,this)}),this.$().on("focusout",this.__onFocusoutProxy),this.$().on("focusin",this.__onFocusinProxy),this.$()[0].setAttribute("type","text")},destroy:function(){this.$().off("focusout",this.__onFocusoutProxy),this.$().off("focusin",this.__onFocusinProxy)},update:function(e){if(e.value){this.clearErrorState();var o=this.getOption("value");if(o||0==o&&""!==o){var a=this.getOption("value")+"",i=+a,s="";isNaN(i)?s="":this.getOption("ingoreFormat")||(s=t.sbo.util.i18n.formatDecimalStr(i,document.activeElement===this.$()[0]?{decimalSeparator:".",thousandsSeparator:"",decimalNum:this.getOption("decimalNum"),removeLastZeros:this.getOption("removeLastZeros")}:{decimalSeparator:this.getOption("decimalSeparator"),thousandsSeparator:this.getOption("thousandsSeparator"),decimalNum:this.getOption("decimalNum"),removeLastZeros:this.getOption("removeLastZeros")})),this.updateVal(s)}else this.updateVal("")}return e.keyPattern?(this.__patterns.key=/^-?[0-9]*\.?[0-9]*$/,void 0):(t.ui.widget.BaseField.prototype.update.apply(this,arguments),void 0)},valueUpdate:function(e,o){var a;if(e){if(a=+e,isNaN(a))return this.setErrorState(this.getOption("errorMessage")||t.ui.locale.get("INPUTFIELD:REQIURE_FLOAT")),!1;
a=a.toFixed(this.getOption("decimalNum"))}else a=e;return t.ui.widget.InputField.prototype.valueUpdate.call(this,a,o)},getOption:function(e){return"type"===e?"float":t.ui.widget.InputField.prototype.getOption.apply(this,arguments)}},Protected:{__onDomEventFocusout:function(){if(!this.getOption("readonly")&&!this.getOption("disabled")){var e=this.$().val(),o=+e;""===e||isNaN(o)||this.getOption("ingoreFormat")||this.$().val(t.sbo.util.i18n.formatDecimalStr(o,{decimalSeparator:this.getOption("decimalSeparator"),thousandsSeparator:this.getOption("thousandsSeparator"),decimalNum:this.getOption("decimalNum"),removeLastZeros:this.getOption("removeLastZeros")})),this.fireEvent("focusout")}},__onDomEventFocusin:function(){if(!this.getOption("readonly")&&!this.getOption("disabled")){var e=this.getOption("decimalSeparator"),t=this.getOption("thousandsSeparator"),o=this.$().val(),a=RegExp(t,"g"),i=o.replace(a,"").replace(e,".");this.$().val(i),this.fireEvent("focusin")}}}});return o}),define("sap.sbo.ui.widget.DecimalLabel",["sap.ui.Control","sap.sbo.util.i18n"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Control.declare({Name:this.getModuleInfo().moduleName,DomClass:"sap-sbo-ui-widget-DecimalLabel",Events:[],PublicMethods:[],Options:{value:{type:"real",nullable:!0,defaultValue:0},decimalSeparator:{type:"string",nullable:!0,defaultValue:"."},thousandsSeparator:{type:"string",nullable:!0,defaultValue:","},decimalNum:{type:"integer",nullable:!0,defaultValue:6},removeLastZeros:{type:"boolean",defaultValue:!1},currency:{type:"string",nullable:!0,defaultValue:""},currencyLocalRight:{type:"boolean",defaultValue:!0}},Public:{init:function(){t.ui.Control.prototype.init.apply(this,arguments),this.declareMember({})},destroy:function(){},update:function(e){if(e.value||e.decimalSeparator||e.thousandsSeparator||e.decimalNum||e.removeLastZeros||e.currency||e.currencyLocalRight){var o=t.sbo.util.i18n.formatDecimalStr(this.getOption("value")||0,{decimalSeparator:this.getOption("decimalSeparator"),thousandsSeparator:this.getOption("thousandsSeparator"),decimalNum:this.getOption("decimalNum"),removeLastZeros:this.getOption("removeLastZeros")}),a=this.getOption("currency");a?this.getOption("currencyLocalRight")?this.$().text(o+" "+a):this.$().text(a+" "+o):this.$().text(o)}}},Protected:{}})}),define("sap.sbo.ui.widget.DTWrapper",["noamdjs!sap.ui5.thirdparty.d3","sap.sbo.ui.widget.cvom"],function(){return window.d3}),define("sap.sbo.ui.widget.EnumLabel",["sap.ui.Control","sap.util"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Control.declare({Name:this.getModuleInfo().moduleName,DomClass:"sap-sbo-ui-widget-EnumLabel",Events:[],PublicMethods:[],Options:{textField:{type:"string",defaultValue:"",immutable:!0},valueField:{type:"string",defaultValue:"",immutable:!0},data:{type:"array",arrayType:{type:"any"},defaultValue:[]},selectedValue:{type:"any",defaultValue:null,nullable:!0}},Public:{init:function(){t.ui.Control.prototype.init.apply(this,arguments),this.declareMember({})},destroy:function(){},update:function(e){if(e.selectedValue)for(var o=this.getOption("data"),a=this.getOption("selectedValue"),i=0;o.length>i;++i)if(t.util.equalByValue(o[i][this.getOption("valueField")],a)){this.$().text(o[i][this.getOption("textField")]);break}}},Protected:{}})}),define("sap.sbo.ui.widget.GroupableListView",["sap.ui.Control","sap.core.JsonModel","html!sap.sbo.ui.widget.GroupableListView","sap.core.event.BehaviorCommand","sap.sbo.util.notification","sap.core.event.CommandManager","css!sap.sbo.ui.widget.GroupableListView","sap.core.DataList","sap.sbo.ui.Loop","sap.log","sap.sbo.ui.widget.ListView","sap.util","sap.core.IProcessable"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Control.declare({Name:this.getModuleInfo().moduleName,DomClass:"sap-sbo-ui-widget-GroupableListView",Events:["pickData"],PublicMethods:[],Interfaces:[t.core.IProcessable],Options:{data:{type:"array",arrayType:{type:"object"},defaultValue:[]}},Public:{init:function(){var o=this;t.ui.Control.prototype.init.apply(this,arguments),this.declareMember({fullNS:e,fixedGroup:null,firstGroup:null,groupHeight:0,snapshot:{contentTop:void 0,lastIndex:-1},dataContext:new t.core.JsonModel({source:[],selectItem:new t.core.event.BehaviorCommand(this,this.__pickItem)})}),this.dataContext.attachEvent("databinded",function(e,t){var a=e+"/"+t;console.info(a),o.fireOptionChange("data",a)}),this.dataContext.attachEvent("valueChanged",function(){}.bind(this,this.dataContext));var a=this.$('[data-sap-template="ListContent"]').removeAttr("data-sap-template");this.$().html(e.html.sap.sbo.ui.widget.GroupableListView),a.length>0&&this.$(".dataTpl").html(a),this.$().setModel(this.dataContext,"sapsbouiwidgetGroupableListView"),t.util.isTouch()?this.__oIScroll=new iScroll(this.$(".listContainer")[0],{vScrollbar:!1,hScroll:!1,onScrollMove:function(){o.triggerScroll()},onScrollEnd:function(){o.showGroupBar(!1)}}):this.$(".listContainer").css({"overflow-y":"auto","overflow-x":"hidden"}).scroll(function(){o.triggerScroll(),o.delayDesktopShow()})},destroy:function(){this.unprocess()},update:function(e){var t=this;e.data&&(this.loaded||(this.$(".groupableListView").process(this.fullNS),this.loaded=!0),$.when(this.dataContext.setValue("source",this.getOption("data"))).done(function(){t.__refreshIScroll();var e=t.$(".groupname");t.groupHeight=$(e[0]).height()}))},setProcessContext:function(t){var o=$.extend(!0,{},e,t);this.fullNS=o}},Protected:{triggerScroll:function(){var e=this.$(".groupnamecopy");e.hasClass("hide")||(e.removeClass("transitionable"),e.addClass("shorttransitionable"),e.addClass("hide"))},__refreshIScroll:function(){this.__oIScroll&&this.__oIScroll.refresh()},__pickItem:function(e){var t=this,o=$(e.currentTarget),a=o.findModel().getValue("data");t.$().trigger("pickData",a)},delayDesktopShow:function(){var e=this;e.scrollTimeId&&window.clearTimeout(e.scrollTimeId),e.scrollTimeId=window.setTimeout(function(){e.showGroupBar(),console.log(234738478347)},200)},showGroupBar:function(){var e=this,t=e.$(".listContainer").offset(),o=e.$(".listContent").offset();console.info(t,o);var a=e.$(".groupname"),i=e.$(".groupnamecopy"),s=a.width();i.width(s);for(var n=0;a.length>n;n++){var r=$(a[n]),l=r.offset();if(!(l.top<t.top+e.groupHeight))break;e.fixedGroup=r,e.snapshot.lastIndex=n}var d=e.fixedGroup.offset();o.top<t.top&&(d.top>=t.top+e.groupHeight||d.top<t.top-e.groupHeight)&&(i.removeClass("shorttransitionable"),i.addClass("transitionable"),i.removeClass("hide")),i.html(e.fixedGroup.html())}}})}),define("sap.sbo.ui.widget.ListGridView",["sap.ui.Control","sap.core.JsonModel","html!sap.sbo.ui.widget.ListGridView","sap.core.event.DomCommand","sap.core.event.BehaviorCommand","sap.sbo.util.notification","sap.core.event.CommandManager","css!sap.sbo.ui.widget.ListGridView","sap.ui.widget.Checkbox","sap.core.IListSource","sap.core.ArrayListSource","sap.sbo.ui.Loop","sap.util","sap.core.DestroyPool","sap.log"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Control.declare({Name:this.getModuleInfo().moduleName,DomClass:"sap-sbo-ui-widget-list-grid-view",Events:["navigated"],PublicMethods:[],Options:{source:{type:t.core.IListSource,defaultValue:new t.core.ArrayListSource([])},columnWidthCustomized:{type:"boolean",defaultValue:!1,immutable:!0},rows:{type:"array",arrayType:{type:"JSON",JSONType:{columns:{type:"array",arrayType:{type:"JSON",JSONType:{value:{type:"any",defaultValue:""},type:{type:"string",optional:!0},template:{type:"string",optional:!0},header:{type:"string",optional:!0,defaultValue:""}}}}}},defaultValue:[]},headers:{type:"array",arrayType:{type:"JSON",JSONType:{text:{type:"string",defaultValue:""},key:{type:"string",defaultValue:""},width:{type:"real",optional:!1}}},defaultValue:[]},pageSize:{type:"integer",defaultValue:12,immutable:!0},allowToLoadMore:{type:"boolean",defaultValue:!0}},Public:{init:function(){t.ui.Control.prototype.init.apply(this,arguments),this.declareMember({dataContext:new t.core.JsonModel({headers:[],rows:[],doNext:new t.core.event.BehaviorCommand(this,this.__doNext),onCheck:new t.core.event.BehaviorCommand(this,this.__onCheck),loadMore:new t.core.event.BehaviorCommand(this,this.__loadMore)}),__mGeneralTemplates:{},__calcColumnWidthProxy:$.proxy(this.__resizeColumns,this),__calcHeightProxy:$.proxy(this.__calcHeight,this),__oIScroll:null,__iCurRecIndex:0,__iTotalRecords:0,__oDestroyPool:new t.core.DestroyPool,__aItems:[]}),this.$().html(e.html.sap.sbo.ui.widget.ListGridView),this.$().setModel(this.dataContext,"listGridViewModel"),this.__readPropertyTemplate(this.$(".template-container").remove().html(),this.__mGeneralTemplates),this.$(".header-loop").process(e),this.$(".row-loop").process(e),this.$(".row-loop").getControl().attachEvent("allProcessed",this.__calcColumnWidthProxy),this.$(".header-loop").getControl().attachEvent("allProcessed",this.__calcHeightProxy)},destroy:function(){this.$(".row-loop").getControl().detachEvent("allProcessed",this.__calcColumnWidthProxy),this.$(".header-loop").getControl().detachEvent("allProcessed",this.__calcHeightProxy),this.$(".row-loop").unprocess(),this.$(".header-loop").unprocess()},update:function(t){if(t.headers&&this.dataContext.setValue("headers",this.getOption("headers")),t.allowToLoadMore&&(this.getOption("allowToLoadMore")?(this.$(".more-trigger").show(),this.$(".rows-container").css({"max-height":this.$(".list-grid-view").height()-this.$(".header-loop").height()-this.$(".more-trigger").height()-20})):(this.$(".more-trigger").hide(),this.$(".rows-container").css({"max-height":this.$(".list-grid-view").height()-this.$(".header-loop").height()-20}))),t.rows){var o=this.getOption("rows");if(o&&o.length>0){for(var a=0;o.length>a;a++)for(var i=0;o[a].columns.length>i;i++){var s=o[a].columns[i].type;s=s?s:"text",o[a].columns[i].template=this.__mGeneralTemplates[s]}var n=this;$.when(this.dataContext.setValue("rows",o)).done(function(){n.$(".column-template").process(e),n.$(".rows-container").css({"max-height":SboShell.__deviceHeight-n.$(".header-loop").height()-n.$(".more-trigger").height()-100})})}}t.source&&this.refresh()},refresh:function(){}},Protected:{__clearAll:function(){this.__oDestroyPool.destroy(),this.__oDestroyPool=new t.core.DestroyPool,this.__aItems=[],this.__iCurRecIndex=0,this.__iTotalRecords=0},__calcHeight:function(){this.$(".rows-container").css({"max-height":this.$(".list-grid-view").height()-this.$(".header-loop").height()-this.$(".more-trigger").height()-20}),this.__calcCustomizedColumnWidth()},__requestMoreContent:function(){t.util.showLoading();var e=this,o=this.__oListSource.read({begin:this.__iCurRecIndex,size:this.getOption("pageSize")});$.when(o).done(function(t){e.__iTotalRecords=t.count,0!==t.data.length&&(e.__appendItems(t.data),e.__iCurRecIndex+=t.data.length)}).fail(function(){}).always(function(){t.util.hideLoading()}),o&&o.cancel&&this.__oDestroyPool.add(o,o.cancel)},__appendItems:function(e){for(var t=0;e.length>t;t++)for(var o=0;rows[t].columns.length>o;o++){var a=rows[t].columns[o].type;a=a?a:"text",rows[t].columns[o].template=this.__mGeneralTemplates[a]}this.dataContext.setValue("rows",this.__aItems)},__readPropertyTemplate:function(e,t){for(var o=$(e),a=null,i=0;o.length>i;i++)a=$(o[i]),$(o[i]).attr("data-sap-template")&&(t[a.attr("data-sap-template")]=$(o[i]).html())},__onCheck:function(e){var t=$(e.currentTarget),o=t.findModel().getValue("data");this.$().trigger("checked",o)},__doNext:function(e){var t=$(e.currentTarget),o=t.findModel().getValue("data");this.$().trigger("navigated",o)},__loadMore:function(){this.$().trigger("load")},__calcCustomizedColumnWidth:function(){if(this.getOption("columnWidthCustomized")){var e=this.getOption("headers");if(e&&e.length>0)for(var t=0,o=e.length;o>t;t++)this.$(".column-"+t).width(e[t].width+"%")}else this.__calcColumnWidth()},__resizeColumns:function(){this.getOption("columnWidthCustomized")?this.__calcCustomizedColumnWidth():this.__calcColumnWidth()},__calcColumnWidth:function(){var e=this.getOption("rows");if(e&&e.length>0){var t=e[0].columns.length,o=(this.$().width()-50)/t;this.$(".column-template").width(o),this.$(".header-template").width(o)}}}})}),define("sap.sbo.ui.widget.ListManipulator",["sap.ui.Control","sap.core.IListSource","sap.core.ArrayListSource","sap.core.JsonModel","sap.core.ListSourceFilter","sap.ui.widget.DropDownBox","sap.ui.widget.TextField","sap.ui.widget.InputField","sap.core.event.BehaviorCommand","sap.ui.widget.Button","sap.ui.Repeat","sap.ui.widget.Checkbox","sap.sbo.util.formatter","sap.ui.widget.ValueHelpField","sap.sbo.ui.widget.DateTimeField","sap.core.IProcessable","sap.sbo.ui.widget.MultipleValueHelp","sap.sbo.localization.Helper","sap.sbo.ui.widget.DateLabel","json!sap.sbo.util.enums","html!sap.sbo.ui.widget.ListManipulator","html!sap.sbo.app.template.FilterProperty","css!sap.sbo.ui.widget.ListManipulator"],function(){"use strict";var e=this.getNS(),t=e.sap,o=new Date,a=function(){var e=(o.getDay()||7)-1;return new Date(new Date(o.setHours(-24*e)).setHours(0,0,0,0))},i={"{{#CurrentEmployeeID#}}":window.SboShell.getData("user.employeeID"),"{{#StartOfThisWeek#}}":"'"+t.sbo.util.formatter.date_JODATime(a(),">>")+"'","{{#StartOfThisMonth#}}":"'"+t.sbo.util.formatter.date_JODATime(new Date(o.getFullYear(),o.getMonth(),1),">>")+"'"};return t.ui.Control.declare({Name:this.getModuleInfo().moduleName,DomClass:"sap-sbo-ui-widget-list-manipulator",Interfaces:[t.core.IProcessable],Events:["listManipulated"],PublicMethods:[],Options:{source:{type:t.core.IListSource,defaultValue:new t.core.ArrayListSource([]),keepRef:!0},filterTemplate:{type:"string",optional:!0,defaultValue:""},filterTemplates:{type:"array",optional:!0,defaultValue:[],arrayType:{type:"JSON",JSONType:{property:{type:"string"},template:{type:"string"}}}},quickFilters:{type:"array",optional:!0,defaultValue:[],arrayType:{type:"JSON",JSONType:{expr:{type:"string"},label:{type:"string"},description:{type:"string"}}}},filter:{type:"array",optional:!0,defaultValue:[],arrayType:{type:"JSON",JSONType:{property:{type:"string"},type:{type:"string"},label:{type:"string"},defaultValue:{type:"any",optional:!0,defaultValue:""},enumValues:{type:"array",optional:!0,defaultValue:[],arrayType:{type:"JSON",JSONType:{name:{type:"string"},label:{type:"string"}}}}}}},enumTypes:{type:"any",optional:!0,defaultValue:{}},sort:{type:"array",optional:!0,defaultValue:[],arrayType:{type:"JSON",JSONType:{type:{type:"string"},property:{type:"string"},label:{type:"string"}}}}},Public:{init:function(){t.ui.Control.prototype.init.apply(this,arguments),this.declareMember({__oModel:this.autoDestroy(new t.core.JsonModel({source:[],sort:[],filter:[],quickFilters:[],searchTerm:"",isAscending:!0,showQuickFilters:new t.core.event.BehaviorCommand(this,this.__showQuickFilters),showFilter:new t.core.event.BehaviorCommand(this,this.__showFilter),showSort:new t.core.event.BehaviorCommand(this,this.__showSort),toggleFilters:new t.core.event.BehaviorCommand(this,this.__toggleFilters),toggleSearch:new t.core.event.BehaviorCommand(this,this.__toggleSearch),backToFilter:new t.core.event.BehaviorCommand(this,this.__backToFilter),cleanFilter:new t.core.event.BehaviorCommand(this,this.__cleanFilter),applyFilter:new t.core.event.BehaviorCommand(this,this.__fApplyFilter)})),__$content:$(e.html.sap.sbo.ui.widget.ListManipulator),__fOrderResetProxy:$.proxy(this.__fOrderReset,this),__fApplyFilterProxy:$.proxy(this.__fApplyFilter,this),__fCloseConfiguratorProxy:$.proxy(this.__fCloseConfigurator,this),__fResetFilterProxy:$.proxy(this.__fResetFilter,this),__oListSource:null,__aFilter:[],__bFiltersShown:!1,__bListManipulated:!1,__mGeneralTemplates:{},__mSpecificTemplates:{},__oTemplateContext:{},__mExportFilters:{},__mPropertyValues:{},__mPropertyEnums:{},__sCurrentProperty:"",__sCurrentExpr:null,__sSearchTerm:"",__bReordered:!1,__$lastSortIcon:null,__mPropertyControlContent:{},__mMultiValueProperty:{},__mEnumValueProperty:{}}),this.__readPropertyTemplate(e.html.sap.sbo.app.template.FilterProperty,this.__mGeneralTemplates),this.$().append(this.__$content),this.$().setModel(this.__oModel),this.__$content.process(e),this.autoDestroy(this.__$content,this.__$content.unprocess);var o=this;this.$(this.__subClassSelector("filter-fields-repeat")).on("vclick",this.__subClassSelector("filter-fields-content"),function(){var e=$(this).parent();o.__fEnterFilterConfigurator(e.attr("property"),e.attr("field-type"))}),this.$(this.__subClassSelector("search-box")).getControl().attachEvent("change",function(){o.__oListSource&&(o.__sSearchTerm=o.__oModel.getValue("searchTerm"),o.__oListSource.fireEvent("searchTriggered",o.__sSearchTerm),o.__sSearchTerm?o.$(o.__subClassSelector("search-icon")).addClass("active"):o.$(o.__subClassSelector("search-icon")).removeClass("active"),o.__fireListManipulatedEvent())}),this.$(this.__subClassSelector("quick-filter-repeat")).on("vclick",this.__subClassSelector("quick-filter-item"),function(e){o.$(o.__subClassSelector("quick-filter-item")).removeClass("selected");var a=$(e.currentTarget).addClass("selected").attr("gl-quick-filter-expr");if(a)for(var s in i)a=a.replace(s,i[s]);o.__sSearchTerm="",o.__oModel.setValue("searchTerm",o.__sSearchTerm),o.__oListSource.fireEvent("searchTriggered",o.__sSearchTerm,!1),o.__oListSource.fireEvent("filtered",a?new t.core.ListSourceFilter(a):null),o.__sCurrentExpr=a,o.__fResetFilter(),o.__fireListManipulatedEvent(!0)}),this.$(this.__subClassSelector("sort-repeat")).on("vclick",".sort-icon",function(e){if(o.__oListSource){var t=$(e.currentTarget);o.__$lastSortIcon&&o.__$lastSortIcon.attr("gl-sort-property")!==t.attr("gl-sort-property")&&o.__$lastSortIcon.removeClass("up").removeClass("down").removeAttr("gl-is-ascending");var a=t.attr("gl-sort-type"),i="String"===a,s=t.attr("gl-is-ascending");o.__bReordered=!0,s?i?"true"===s?(t.removeClass("up").addClass("down"),t.attr("gl-is-ascending",!1)):(o.__bReordered=!1,t.removeClass("up").removeClass("down"),t.removeAttr("gl-is-ascending")):"true"===s?(o.__bReordered=!1,t.removeClass("up").removeClass("down"),t.removeAttr("gl-is-ascending")):(t.removeClass("down").addClass("up"),t.attr("gl-is-ascending",!0)):(t.addClass(i?"up":"down"),t.attr("gl-is-ascending",i)),o.__$lastSortIcon=t,o.__bReordered?o.__oListSource.fireEvent("reordered",{field:$(this).attr("gl-sort-property"),asc:"true"===$(this).attr("gl-is-ascending")}):o.__oListSource.fireEvent("reordered",null),o.__fireListManipulatedEvent()}}),this.__oModel.setValue("filter",this.__aFilter),this.$(".tab-icon-container").first().addClass("selected")},destroy:function(){this.__$lastSortIcon=null,this.__sCurrentExpr=null;for(var t in this.__mPropertyControlContent)this.__mPropertyControlContent.hasOwnProperty(t)&&(this.__mPropertyControlContent[t].unprocess(),this.__mPropertyControlContent[t]=null);this.__mPropertyControlContent=null,this.__mMultiValueProperty=null,this.__mEnumValueProperty=null,this.$(this.__subClassSelector("filter-fields-repeat")).off("vclick",this.__subClassSelector("filter-item")),this.$(this.__subClassSelector("search-box")).getControl().detachEvent("change"),this.$(this.__subClassSelector("sort-repeat")).off("vclick",".sort-icon"),this.$(this.__subClassSelector("quick-filter-repeat")).off("vclick",this.__subClassSelector("quick-filter-item")),this.__aFilter=null,this.__mGeneralTemplates=null,this.__mExportFilters=null,this.__mSpecificTemplates=null,this.__mPropertyEnums=null,this.__$content.unprocess(e),this.__oTemplateContext=null,this.__$content=null},update:function(e){e.source&&(this.__oListSource=this.getOption("source")),e.filter&&this.__oModel.setValue("filter",this.getOption("filter")),e.quickFilters&&this.__oModel.setValue("quickFilters",this.getOption("quickFilters")),e.enumTypes&&(this.__mPropertyEnums=this.getOption("enumTypes")),e.filterTemplate&&this.__readPropertyTemplate(this.getOption("filterTemplate"),this.__mSpecificTemplates),e.sort&&this.__oModel.setValue("sort",this.getOption("sort")||[])},setProcessContext:function(t){this.__oTemplateContext=t,this.__oTemplateContext._layout_=e}},Protected:{__fireListManipulatedEvent:function(e){this.fireEvent("listManipulated",this.__sSearchTerm||this.__sCurrentExpr||this.__bReordered,e)},__showQuickFilters:function(e){this.$(".tab-icon-container").removeClass("selected"),$(e.currentTarget).addClass("selected"),this.$(this.__subClassSelector("quick-filter-container")).show(),this.$(this.__subClassSelector("filter-container")).hide(),this.$(this.__subClassSelector("sort-container")).hide()},__showFilter:function(e){this.$(".tab-icon-container").removeClass("selected"),$(e.currentTarget).addClass("selected"),this.$(this.__subClassSelector("filter-container")).show(),this.$(this.__subClassSelector("sort-container")).hide(),this.$(this.__subClassSelector("quick-filter-container")).hide()},__showSort:function(e){this.$(".tab-icon-container").removeClass("selected"),$(e.currentTarget).addClass("selected"),this.$(this.__subClassSelector("sort-container")).show(),this.$(this.__subClassSelector("filter-container")).hide(),this.$(this.__subClassSelector("quick-filter-container")).hide()},__toggleSearch:function(e){var t=$(e.currentTarget);t.hasClass("active")&&this.__oModel.setValue("searchTerm",""),this.$(this.__subClassSelector("search-box")).getControl().fireEvent("change")},__toggleFilters:function(e){var t=$(e.currentTarget);this.__bFiltersShown?(t.removeClass("expanded"),this.$(this.__subClassSelector("filter-fields-repeat")).hide(),this.$(this.__subClassSelector("filter-by-label")).hide()):(t.addClass("expanded"),this.$(this.__subClassSelector("filter-fields-repeat")).show(),this.$(this.__subClassSelector("filter-by-label")).show()),this.__bFiltersShown=!this.__bFiltersShown},__backToFilter:function(){this.__fCloseConfigurator()},__cleanFilter:function(){this.__mPropertyValues[this.__sCurrentProperty]&&delete this.__mPropertyValues[this.__sCurrentProperty],this.__mExportFilters[this.__sCurrentProperty]&&(this.__applyFilter(),delete this.__mExportFilters[this.__sCurrentProperty]),this.__fCloseConfigurator()},__openFilterDetails:function(e){var t=$(e.currentTarget).parent();this.__fEnterFilterConfigurator(t.attr("property"),t.attr("field-type"))},__readPropertyTemplate:function(e,t){for(var o=$(e),a=null,i=0;o.length>i;i++)a=$(o[i]),$(o[i]).attr("data-sap-template")&&(t[a.attr("data-sap-template")]=a.children().clone())},__constructFilterForDecimal:function(e){var t=this.__mPropertyValues[e].min,o=this.__mPropertyValues[e].max;if(null!==t&&null!==o){var a=this.__constructFilterArray("ge",e,parseFloat(t),!0),i=this.__constructFilterArray("le",e,parseFloat(o),!0);return this.__constructFilterArray("and",a,i)}return null},__constructFilterForEqual:function(e,t){return this.__constructFilterArray("eq",e,t,!0)},__constructFilterForSubStringOf:function(e,t){return this.__constructFilterArray("subStringOf",e,"'"+t+"'",!0)},__constructFilterWithValue:function(e,t){return t instanceof Array?this.__constructFilterForArray(e,t):this.__constructFilterForEqual(e,t)},__constructFilterForArray:function(e,t){if(t.length>1){for(var o=[],a=0,i=t.length;i>a;a++)o.push(this.__constructFilterArray("eq",e,t[a],!0));for(var s=o[0],n=1,r=o.length;r>n;n++)s=this.__constructFilterArray("or",s,o[n]);return s}return 1===t.length?this.__constructFilterForEqual(e,t[0]):null},__prepareExport:function(){var e=[];for(var o in this.__mPropertyValues)if(this.__mPropertyValues.hasOwnProperty(o)){var a=this.__mPropertyValues[o].type,i=this.__mPropertyValues[o].value;switch(this.__mExportFilters[o]=!0,a){case"Percent":case"Double":case"Long":var s=this.__constructFilterForDecimal(o);s&&e.push(s);break;case"Integer":if(null!==i){var s=this.__constructFilterWithValue(o,i);s&&e.push(s)}else{var s=this.__constructFilterForDecimal(o);s&&e.push(s)}break;case"Date":case"DateTime":var n=this.__mPropertyValues[o].from,r=this.__mPropertyValues[o].to;if(n&&r){var l=this.__constructFilterArray("ge",o,t.sbo.util.formatter.date_JODATime(n,">>"),!0),d=this.__constructFilterArray("le",o,t.sbo.util.formatter.date_JODATime(r,">>"),!0);e.push(this.__constructFilterArray("and",l,d))}break;default:if(i){var s=this.__constructFilterWithValue(o,i);s&&e.push(s)}}}if(e.length>0){var p=e[0];if(e.length>1)for(var c=1,u=e.length;u>c;c++)p=this.__constructFilterArray("and",p,e[c]);return p}return""},__constructFilterExpr:function(e,t,o,a){return(void 0!==a&&null!==a?" "+a+" ":"")+"(["+e+"] "+o+" "+t+")"},__constructFilterArray:function(e,t,o,a){return a?void 0!==o?[e,["field",t],o]:[e,["field",t]]:void 0!==o?[e,t,o]:[e,t]},__applyFilter:function(){this.$(this.__subClassSelector("quick-filter-item")).removeClass("selected");var e=this.__prepareExport();this.__oListSource.fireEvent("filtered",e?new t.core.ListSourceFilter(e):null),this.__sCurrentExpr=e,this.__setPreviewValue(),this.__fireListManipulatedEvent()},__setPreviewValue:function(){var o=t.sbo.localization.Helper.get("common/ALL"),a=function(e,t,o){if(t.length>0){var a=t.join(";");if(this.__mPropertyEnums[e]){o="";for(var i=0,s=this.__mPropertyEnums[e].length;s>i;i++)-1!==a.indexOf(this.__mPropertyEnums[e][i].name)&&(o+=this.__mPropertyEnums[e][i].label+"; ");o&&(o=o.substr(0,o.length-2))}else o=this.__mPropertyValues[this.__sCurrentProperty].title?this.__mPropertyValues[this.__sCurrentProperty].title.join(";"):a}return o};if(this.__mPropertyValues[this.__sCurrentProperty]){var i=this.__mPropertyValues[this.__sCurrentProperty].type,s=this.__mPropertyValues[this.__sCurrentProperty].value;switch(i){case"BoYesNoEnum":o=t.sbo.localization.Helper.get(s===e.json.sap.sbo.util.enums.bool.Yes?"common/YES":"common/NO");break;case"Date":case"DateTime":var n=this.__mPropertyValues[this.__sCurrentProperty].from,r=this.__mPropertyValues[this.__sCurrentProperty].to;n&&r&&(o=t.sbo.util.formatter.date_formattedString(n)+" ~ "+t.sbo.util.formatter.date_formattedString(r));break;case"Integer":if(s&&s instanceof Array)o=a.call(this,i,s,o);else{var l=this.__mPropertyValues[this.__sCurrentProperty].min,d=this.__mPropertyValues[this.__sCurrentProperty].max;null!==l&&null!==d&&(o=l+" ~ "+d)}break;case"Double":case"Long":var l=this.__mPropertyValues[this.__sCurrentProperty].min,d=this.__mPropertyValues[this.__sCurrentProperty].max;null!==l&&null!==d&&(o=l+" ~ "+d);break;case"Percent":var l=this.__mPropertyValues[this.__sCurrentProperty].min,d=this.__mPropertyValues[this.__sCurrentProperty].max;null!==l&&null!==d&&(o=l+"% ~ "+d+"%");break;default:o=s&&s instanceof Array?a.call(this,i,s,o):s}}this.$(this.__subClassSelector(this.__sCurrentProperty+"-preview")).attr({title:o}).text(o)},__fApplyFilter:function(){this.__applyFilter(),this.__fCloseConfigurator(!0)},__fResetFilter:function(){for(var e in this.__mPropertyValues)this.__mPropertyValues.hasOwnProperty(e)&&(delete this.__mPropertyValues[e],delete this.__mExportFilters[e]);this.$(this.__subClassSelector("filter-preview")).text(t.sbo.localization.Helper.get("common/ALL")),this.__mPropertyControlContent={}},__fCloseConfigurator:function(e){var o=this.$(this.__subClassSelector("filter-configurator"));this.__mPropertyControlContent[this.__sCurrentProperty]=this.$(this.__subClassSelector("filter-control")).children(":visible").first(),e||this.__mPropertyControlContent[this.__sCurrentProperty].find(".value").children().first().getControl()instanceof t.ui.Repeat&&(this.__mPropertyControlContent[this.__sCurrentProperty].find("a").removeClass("selected"),this.__mPropertyControlContent[this.__sCurrentProperty].find(".value").children().first().off("vclick")),this.__mPropertyControlContent[this.__sCurrentProperty].hide(),o.hide(),this.$(this.__subClassSelector("filter-container")).show(),this.$(this.__subClassSelector("tab-bar")).show(),this.__sCurrentProperty=null},__initForMultiValue:function(e){this.__mMultiValueProperty[e]=e,this.__mPropertyValues[e].value=[],this.__mPropertyValues[e].title=[],this.__oModel.setValue(e+"/value",[]),this.__oModel.setValue(e+"/title",[])},__initForRepeat:function(e,t){var o=this;this.__mEnumValueProperty[t]=t,this.__mPropertyValues[t].value=[],this.__oModel.setValue(t+"/value",[]),e.on("vclick","a",function(){var e=o.__mPropertyValues[t].value||[],a=$(this).attr("gl-key");if($(this).hasClass("selected")){$(this).removeClass("selected");for(var i=0,s=e.length;s>i;i++)if(a===e[i]){e.splice(i,1);break}}else $(this).addClass("selected"),e=e||[],e.push(a);o.__mPropertyValues[t].value=e})},__fEnterFilterConfigurator:function(e,o){var a=this,i=this.$(this.__subClassSelector("filter-configurator"));if(i.show(),this.$(this.__subClassSelector("filter-container")).hide(),this.$(this.__subClassSelector("tab-bar")).hide(),this.__mPropertyControlContent[e])this.__mExportFilters[e]||(this.__initPropertyModel(e,o),this.__mMultiValueProperty[e]?this.__initForMultiValue(e):this.__mEnumValueProperty[e]&&this.__initForRepeat(this.__mPropertyControlContent[e].find(".value").children().first(),e)),this.__mPropertyControlContent[e].show();else{var s=$(this.__findPropertyTemplate(e,o));s&&$.when(this.$(this.__subClassSelector("filter-control")).append(s).process(this.__oTemplateContext)).done(function(){var o=s.find(".value").children().first();o.getControl()instanceof t.sbo.ui.widget.MultipleValueHelp?a.__mPropertyValues[e].value||a.__initForMultiValue(e):o.getControl()instanceof t.ui.Repeat&&a.__initForRepeat(o,e)})}this.__sCurrentProperty=e},__initPropertyModel:function(e,t){for(var o=this.__preparePropertyInitValues(e,t),a=this.getOption("filter"),i=0;a.length>i;i++)if(a[i].property===e){this.__mPropertyValues[e]=$.extend(!0,{},this.__mPropertyValues[e],a[i]);break}return this.__oModel.setValue(e,this.__mPropertyValues[e]),o},__findPropertyTemplate:function(e,t){var o=this.__initPropertyModel(e,t);return this.__replaceTemplateContent(t,e,o)},__preparePropertyInitValues:function(e,o){var a="BoYesNoEnum"!==o&&this.__mPropertyEnums[o];if(!this.__mPropertyValues[e]){if(a)return this.__mPropertyValues[e]={enumValues:this.__mPropertyEnums[o],type:o},!0;switch(o){case"BoYesNoEnum":this.__mPropertyValues[e]={value:t.sbo.util.formatter.bool_string(!1,">>"),type:o};break;case"Date":case"DateTime":this.__mPropertyValues[e]={from:new Date,to:new Date,type:o};break;case"Integer":this.__mPropertyValues[e]={min:0,type:o,max:10,value:null};break;case"Double":case"Long":this.__mPropertyValues[e]={min:0,type:o,max:10};break;case"Percent":this.__mPropertyValues[e]={min:0,type:o,max:100};break;default:this.__mPropertyValues[e]={value:"",type:o}}}return a},__replaceTemplateContent:function(e,o,a){var i=null;if(this.__mSpecificTemplates[e+"["+o+"]"]?i=this.__mSpecificTemplates[e+"["+o+"]"]:this.__mSpecificTemplates[e]?i=this.__mSpecificTemplates[e]:this.__mGeneralTemplates[e]?i=this.__mGeneralTemplates[e]:a&&(i=this.__mGeneralTemplates.Enum),i){var s=i[0].outerHTML;if(o&&(s=s.replace(/{{\s*#value#/g,"{{"+o+"/value"),s=s.replace(/#value#/g,o+"/value"),s=s.replace(/{{\s*#title#/g,"{{"+o+"/title"),s=s.replace(/#title#/g,o+"/title"),s=s.replace(/{{\s*#min#/g,"{{"+o+"/min"),s=s.replace(/#min#/g,o+"/min"),s=s.replace(/{{\s*#max#/g,"{{"+o+"/max"),s=s.replace(/#max#/g,o+"/max"),s=s.replace(/{{\s*#from#/g,"{{"+o+"/from"),s=s.replace(/#from#/g,o+"/from"),s=s.replace(/{{\s*#to#/g,"{{"+o+"/to"),s=s.replace(/#to#/g,o+"/to"),s=s.replace(/{{\s*#enumValues#/g,"{{"+o+"/enumValues"),s=s.replace(/#enumValues#/g,o+"/enumValues"),s=s.replace(/{{\s*#name#/g,"{{"+o+"/name"),s=s.replace(/#name#/g,o+"/name")),this.__mPropertyValues[o])for(var n in this.__mPropertyValues[o])for(;-1!==s.indexOf("#"+n+"#");){var r=this.__mPropertyValues[o][n];"label"===n&&(r=t.sbo.localization.Helper.get("common/FILTER_BY_WHAT",r)),s=s.replace("#"+n+"#",r+"")}return s}return null},__fOrderReset:function(){this.__oListSource&&(this.__oListSource.fireEvent("reordered",null),this.__fireListManipulatedEvent())}}})}),define("sap.sbo.ui.widget.MenuIconButton",["sap.ui.common","sap.ui.Control","css!sap.sbo.ui.widget.MenuIconButton"],function(){"use strict";var e=this.getNS("sap");return e.ui.Control.declare({Name:this.getModuleInfo().moduleName,DomClass:"sap-ui-menu-icon-button",Events:["click","openmenu"],PublicMethods:[],Options:{menu:{type:"array",arrayType:{type:"JSON",JSONType:{text:{type:"string",defaultValue:""},key:{type:"string",immutable:!0,defaultValue:""},disabled:{type:"boolean",optional:!0,defaultValue:!1},tip:{type:"string",optional:!0,immutable:!0,defaultValue:""}}},optional:!0,defaultValue:[]},disabled:{type:"boolean",defaultValue:!1},iconURL:{type:"string",defaultValue:""}},Public:{init:function(){e.ui.Control.prototype.init.apply(this,arguments),e.ui.Control.declareMember(this,{__mMenu:{},__aMenuItems:[],__$menuList:null,__bMenuOpened:!1,__fnBodyOnClickProxy:$.proxy(this.__fBodyOnClick,this),__fRecalcPositionProxy:$.proxy(this.__fRecalcPosition,this),__fnMenuButtonOnClickProxy:$.proxy(this.__fnMenuButtonOnClick,this)}),this.__initIcon()
},destroy:function(){this.__releaseIcon(),this.__bMenuOpened&&this.__hideMenu(),this.__$menuList&&(this.__$menuList.remove(),this.__$menuList=null),this.__aMenuItems=null,this.__mMenu=null},update:function(e){var t=this.$();if(e.menu&&this.getOption("menu").length>0&&this.updateMenu(),e.iconURL&&(""===this.getOption("iconURL")?t.find(".moremenu-icon").css("background-image","auto"):t.find(".moremenu-icon").css("background-image",'url("'+this.getOption("iconURL")+'")')),e.disabled){var o=this.getOption("disabled");o?this.$().addClass("sap-ui-disabled").attr("disabled","disabled").attr({"aria-disabled":"true",tabindex:"-1"}):this.$().removeClass("sap-ui-disabled").removeAttr("disabled").attr({"aria-disabled":"false",tabindex:"0"})}},getOnClickHandler:function(){return this.__fnMenuButtonOnClickProxy},hideMenu:function(){this.__hideMenu()},updateMenu:function(){this.$().addClass(this.__subClass("has-menu")),this.__$menuList&&this.__$menuList.remove(),this.__$menuList=$("<div>").addClass(this.__subClass("menu-list")).hide().attr({});var t=e.ui.common.getStaticContainer();t.append(this.__$menuList);for(var o=$("<ul>"),a=this.getOption("menu"),i=0,s=a.length;s>i;i++)this.__aMenuItems[i]=this.__addMenuItem(i,a[i]),o.append(this.__aMenuItems[i]);this.__$menuList.append(o)},openMenu:function(){this.__$menuList&&(this.__$menuList.show(),this.__fRecalcPosition(),this.$().attr({"aria-expanded":"true"}),$("body").on("vclick",this.__fnBodyOnClickProxy),$(window).on("resize",this.__fRecalcPositionProxy),this.__bMenuOpened=!0,this.fireEvent("openmenu"))}},Protected:{__initIcon:function(){var e=$("<div class='moremenu-icon'/>");this.$().append($("<div data-touchable='true' class='moremenu' />").append(e)).on("vclick",this.__fnMenuButtonOnClickProxy).attr({role:"button"})},__releaseIcon:function(){this.$().off("vclick",this.__fnMenuButtonOnClickProxy)},__onClick:function(){this.getOption("disabled")||(this.fireEvent("click"),this.$().focus())},__fRecalcPosition:function(){var e=this.$(),t=e.outerWidth(),o=e.offset(),a=this.__$menuList.outerWidth(),i=this.__$menuList.height(),s=e.outerHeight();i+o.top+s>$(document).height()?this.__$menuList.css({top:o.top-(i-s)}):this.__$menuList.css({top:o.top+s+20}),a+o.left>$(document).width()?this.__$menuList.css({left:o.left-(a-t)}):this.__$menuList.css({left:o.left+t/2-a+35})},__fBodyOnClick:function(){this.__bMenuOpened&&(this.__hideMenu(),$("body").off("vclick",this.__fnBodyOnClickProxy),$(window).off("resize",this.__fRecalcPositionProxy))},__addMenuItem:function(e,t){var o=this,a=$("<li>").addClass(this.__subClass("menu-item")).attr({tabindex:"-1","data-touchable":!0}).addClass(this.__subClass("menu-item")+"-"+e).data("index",e).data("key",t.key).mouseover(function(){$(this).addClass("sap-ui-focus")}).mouseout(function(){$(this).removeClass("sap-ui-focus")}).text(t.text);return a.on("vclick",jQuery.proxy(o.__menuOnClick,o)),a.on("keydown",jQuery.proxy(o.__menuOnKeyDown,o)),a},__menuOnClick:function(e){var t=$(e.target).data("key");this.$().focus(),this.__hideMenu(),this.fireEvent("click",t),e.stopPropagation()},__menuOnKeyDown:function(t){if(t.keyCode===e.ui.common.keyCodes.ENTER)this.__menuOnClick(t),this.__hideMenu(),this.$().focus();else if(t.keyCode===e.ui.common.keyCodes.UP||t.keyCode===e.ui.common.keyCodes.DOWN){var o=$(t.target).data("index")+(t.keyCode===e.ui.common.keyCodes.UP?-1:1);o=Math.max(0,Math.min(this.__aMenuItems.length-1,o)),this.__aMenuItems[o].focus()}else(t.keyCode===e.ui.common.keyCodes.ESCAPE||t.keyCode===e.ui.common.keyCodes.TAB)&&(this.__hideMenu(),this.$().focus());return!1},__hideMenu:function(){this.__$menuList&&(this.__$menuList.hide(),this.$().attr({"aria-expanded":"false"}),this.__bMenuOpened=!1)},__fnMenuButtonOnClick:function(e){this.getOption("disabled")||(this.getOption("menu").length>0?(this.__bMenuOpened?this.__hideMenu():this.openMenu(),e.stopPropagation()):this.fireEvent("click"))}}})}),define("sap.sbo.ui.widget.ModalAttachmentDialog",["sap.ui.Control","css!sap.sbo.ui.widget.ModalAttachmentDialog"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Control.declare({Name:"sap.sbo.ui.widget.ModalAttachmentDialog",DomClass:"sap-sbo-ui-widget-ModalAttachmentDialog",Events:[],PublicMethods:[],Options:{text:{type:"string",defaultValue:"Upload"},title:{type:"string",defaultValue:"Choose your attachment"},device:{type:"string",defaultValue:"desktop"}},Public:{init:function(){t.ui.Control.prototype.init.apply(this,arguments),t.ui.Control.declareMember(this,{})},destroy:function(){},update:function(){this.$().empty();var e=this,t=this.getOption("title"),o=$('<div><button id="btnModalAttachmentDlg" class="fileinput-button padchoosebtn"  style="width:130px">'+this.getOption("text")+"</button></div>");this.$().append(o);var a=$('<div id="modal-attach-dlg" class="attach-dialog" data-sap-widget="sap.ui.Dialog" data-sap-option="modal: true, buttons:{{buttons}}, closeButton: true, title: {{title}}"'+t+'", width: 600, height:400" style="display:none;">'),i=$('<div id="dlg-body" data-sap-template="Body">');switch(this.getOption("device")){case"phone":this.__appendCameraPickerTo(i),this.__appendPhotoPickerTo(i),this.__appendVoiceRecorderTo(i),this.__appendCancelButton(a);break;case"pad":break;case"desktop":default:this.__appendFilePickerTo(i),this.__appendFileDraggerTo(i),this.__appendUploadButton(a,function(){var e=a.find("#filepicker").getControl();null!=e.__file&&e.upload("../file/")})}a.append(i),this.$().append(a),this.$("#modal-attach-dlg").process();var s=this.$("#modal-attach-dlg").getControl();o.click(function(){s.open()}),s.attachEvent("beforeOpen",function(t){switch(e.getOption("device")){case"phone":break;case"pad":break;case"desktop":default:var o=t.find("#filepicker").getControl();o.attachEvent("fileSelected",function(o){e.__appendFileInfoTo(o,t.find("#dlg-body"))})}}),s.attachEvent("beforeClose",function(){})}},Protected:{__appendFilePickerTo:function(e){var t=$('<div id="filepicker" data-sap-widget="sap.sbo.ui.widget.UploadButton" data-sap-option:"autoupload: false"></div>');e.append(t)},__appendVoiceRecorderTo:function(){},__appendPhotoPickerTo:function(){},__appendCameraPickerTo:function(){},__appendFileDraggerTo:function(e){var t=$('<div id="filedrag">or drop attachment here</div>');e.append(t)},__appendFileInfoTo:function(e,t){if(e){var o=t.find(".fileinfo");o&&o.remove();var a,i=$('<div class="fileinfo">'),s=e.type,n=s.substring(s.indexOf("/")+1,s.length),r=e.name;a="png"===n||"gif"===n||"jpeg"===n?"image/photo.png":"image/"+n+".png";var l=0;l=e.size>1048576?""+Math.round(100*e.size/1048576)/100+"MB":""+Math.round(100*e.size/1024)/100+"KB",i.append('<div class="upload-file-image"><img src='+a+" width=16 height=16><div>"),i.append('<div class="upload-file-content">'+r+"<div>"),i.append('<div class="upload-file-content">( '+l+" )<div>"),i.append('<div class="upload-file-remove sap-ui-dialog-header-close" role="button" tabindex="0" title="close"></div>'),t.append(i)}},__appendUploadButton:function(e,o){var a=new t.core.JsonModel({title:this.getOption("title"),buttons:[{text:"Upload",click:function(){null!=o&&o()}},{text:"Cancel",click:"close"}]});e.setModel(a)},__appendCancelButton:function(e){var o=new t.core.JsonModel({title:this.getOption("title"),buttons:[{text:"Cancel",click:"close"}]});e.setModel(o)}}})}),define("sap.sbo.ui.widget.ListView",["sap.ui.Control","sap.core.JsonModel","html!sap.sbo.ui.widget.ListView","sap.core.event.DomCommand","sap.sbo.util.notification","sap.core.event.CommandManager","css!sap.sbo.ui.widget.ListView","sap.core.DataList","sap.sbo.ui.Loop","sap.log"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Control.declare({Name:this.getModuleInfo().moduleName,DomClass:"sap-sbo-ui-widget-ListView",Events:["pickData"],PublicMethods:[],Options:{data:{type:"array",arrayType:{type:"object"},defaultValue:[]},emptyString:{type:"string",defaultValue:"Empty",immutable:!0},selectedBehaviorKey:{type:"string",defaultValue:"",immutable:!0}},Public:{init:function(){t.ui.Control.prototype.init.apply(this,arguments),this.declareMember({dataContext:new t.core.JsonModel({source:[],emptymsg:this.getOption("emptyString"),hideStyle:"hidden"})});var o=this.$("[data-sap-template]").addClass("listItem");0===o.length&&t.log.fatal(this.getModuleInfo().moduleName+" need content template,please implement it!"),this.$().html(e.html.sap.sbo.ui.widget.ListView),this.$(".listContainer>.bo-repeat").append(o),this.$().setModel(this.dataContext,"sapsbouiwidgetListView"),this.$().on("vclick",".listItem",this,this.__pickItem),this.$(".listContainer").process(e),this.__oIScroll=new iScroll(this.$(".listContainer")[0],{hScroll:!1})},destroy:function(){this.unprocess(),this.$().off("vclick",".listItem",this,this.__pickItem)},update:function(e){var t=this,o=$.Deferred();if(e.data){var a=this.getOption("data");a&&0!==a.length?this.dataContext.setValue("hideStyle","hidden"):this.dataContext.setValue("hideStyle",""),this.dataContext.setValue("source",a).done(function(){t.__oIScroll.refresh(),o.resolve()})}return o}},Protected:{__pickItem:function(e){var t=e.data,o=$(e.currentTarget),a=o.findModel().getValue("data");t.$().trigger("pickData",a)}}})}),define("sap.sbo.ui.widget.MultipleValueHelp",["sap.ui.Control","sap.log","sap.core.JsonModel","html!sap.sbo.ui.widget.MultipleValueHelp","css!sap.sbo.ui.widget.MultipleValueHelp"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Control.declare({Name:"sap.sbo.ui.widget.MultipleValueHelp",DomClass:"sap-sbo-ui-multi-vh",Events:[],PublicMethods:[],Options:{chooseFromList:{type:"string",defaultValue:"",immutable:!0},title:{type:"any",defaultValue:[]},value:{type:"any",defaultValue:[]},titleField:{type:"string",defaultValue:"",immutable:!0},subtitleField:{type:"string",defaultValue:"",immutable:!0},valueField:{type:"string",defaultValue:"",immutable:!0}},Public:{init:function(){t.ui.Control.prototype.init.apply(this,arguments),this.$().html(e.html.sap.sbo.ui.widget.MultipleValueHelp),t.ui.Control.declareMember(this,{__$contentTemplate:null,__sTitleField:null,__sSubtitleField:null,__sValueField:null,__aItem:[],__openChooseFromListProxy:$.proxy(this.__openChooseFromList,this),__mValues:{}}),this.__sTitleField=this.getOption("titleField"),this.__sSubtitleField=this.getOption("subtitleField"),this.__sValueField=this.getOption("valueField"),this.__sTitleField||t.log.error("title field not set"),this.__sValueField||t.log.error("value field not set"),this.__$contentTemplate=this.$("[data-sap-template]").remove(),this.getOption("chooseFromList")&&this.__openChooseFromList();var o=this;this.$().on("vclick",this.__subClassSelector("delete-icon"),function(){var e=$(this).parent(),t=e.attr("gl-value");o.__mValues[t]&&(delete o.__mValues[t],o.__exportValues()),e.remove()}),this.$(this.__subClassSelector("add-icon")).on("vclick",this.__openChooseFromListProxy)},destroy:function(){this.__mValues=null,this.$().off("vclick",this.__subClassSelector("delete-icon")),this.$(this.__subClassSelector("add-icon")).off("vclick"),this.__$contentTemplate=null,this.__sTitleField=null,this.__sSubtitleField=null,this.__sValueField=null,this.__removeItems(),this.__aItem=null},update:function(e){if(e.value){var t=this.getOption("value");t instanceof Array&&0===t.length&&this.__removeItems()}}},Protected:{__removeItems:function(){if(this.__aItem){for(var e=0,t=this.__aItem.length;t>e;e++)this.__aItem[e].unprocess(),this.__aItem[e]=null;this.__aItem=[]}this.__mValues={},this.$(this.__subClassSelector("container")).empty()},__exportValues:function(){var e=[],t=[];for(var o in this.__mValues)this.__mValues.hasOwnProperty(o)&&(e.push(o),t.push(this.__mValues[o][this.__sTitleField]));this.setOption("value",e),this.setOption("title",t)},__openChooseFromList:function(){var e=this;window.SboShell.openFrame({view:this.getOption("chooseFromList"),type:"right",options:{mode:"multiple"},callback:function(t,o){if("multi-select"===t&&o)if("object"==typeof o&&o instanceof Array)for(var a=o.length,i=0;a>i;i++)e.__appendItem(o);else o&&e.__appendItem(o)}})},__appendItem:function(o){var a=o[this.__sValueField];if(a&&!this.__mValues[a]){var i=this.__$contentTemplate.clone(),s=this.autoDestroy(new t.core.JsonModel({title:o[this.__sTitleField]||"",subtitle:this.__sSubtitleField?o[this.__sSubtitleField]||"":"",value:a}));i.setModel(s),i.process(e),this.$(this.__subClassSelector("container")).append(i),this.__mValues[a]=o,this.__exportValues(),this.__aItem.push(i)}}}})}),define("sap.sbo.ui.widget.MultiStateContent",["sap.ui.Control","sap.core.DataList","css!sap.sbo.ui.widget.MultiStateContent"],function(){"use strict";var e=this.getNS(),t=e.sap,o=function(e){var t={};return t["-webkit-transform"]=e,t["-moz-transform"]=e,t["-ms-transform"]=e,t["-o-transform"]=e,t.transform=e,t};return t.ui.Control.declare({Name:this.getModuleInfo().moduleName,DomClass:"sap-sbo-ui-widget-multiStateContent",Events:["change"],PublicMethods:[],Options:{currentState:{type:"integer",defaultValue:0},animation:{type:"string",defaultValue:"page",immutable:!0}},Public:{init:function(){t.ui.Control.prototype.init.apply(this,arguments),this.declareMember({contents:[]});var e=this,o=this.getOption("animation");this.contents=this.$().children(),this.contents.addClass(o).addClass("mutlstatecontent").addClass("hidden"),this.$().on("vclick",this.autoDestroy(function(){}.bind(this),function(){e.$().off("vclick",this)}))},destroy:function(){},update:function(e){if(e.currentState){var t=this.contents[this.lastState],a=this.getOption("currentState"),i=this.contents[a];if(void 0===i)return;if(t!==i){var s=this.contents.height();this.contents.css(o("translateY("+-s*a+"px)")),this.lastState=a}}}},Protected:{}})}),define("sap.sbo.ui.widget.MultiStateIcon",["sap.ui.Control","sap.core.DataList"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Control.declare({Name:this.getModuleInfo().moduleName,DomClass:"sap-sbo-ui-widget-multiStateIcon",Events:["change"],PublicMethods:[],Options:{states:{type:"array",arrayType:{type:"any"},defaultValue:[]},currentState:{type:"any",defaultValue:null,nullable:!0},disabled:{type:"boolean",defaultValue:!1},keys:{type:"array",arrayType:{type:"string"},defaultValue:[]}},Public:{init:function(){t.ui.Control.prototype.init.apply(this,arguments),this.declareMember({});var e=this;this.$().on("vclick",this.autoDestroy(function(){var e,o,a=new t.core.DataList(this.getOption("states")),i="c=>",s=this.getOption("currentState"),n=this.getOption("keys");this.getOption("disabled")||0===a.length||(s?(n.length>0?(n.forEach(function(e){i+="c."+e+"=='"+s[e]+"'&&"}),i+="1"):i+="c+''==='"+s+"'",e=a.indexes(i),o=e[0]):o=-1,this.setOption("currentState",a[(o+1)%a.length]),this.fireEvent("change"))}.bind(this),function(){e.$().off("vclick",this)}))},destroy:function(){},update:function(e){e.disabled&&(this.getOption("disabled")?this.$().addClass("sap-ui-disabled"):this.$().removeClass("sap-ui-disabled"))}},Protected:{}})}),define("sap.sbo.ui.widget.PhoneMediaBar",["sap.ui.Control","sap.ui.common","sap.util","sap.core.JsonModel","sap.sbo.ui.widget.PhotoPicker","sap.sbo.ui.widget.PressToTalk","sap.sbo.services.BaseService","html!sap.sbo.ui.widget.PhoneMediaBar","css!sap.sbo.ui.widget.PhoneMediaBar"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Control.declare({Name:this.getModuleInfo().moduleName,DomClass:"sap-sbo-ui-widget-phonemediabar",Events:["afterPick","onRecordFinish","uploadComplete","uploadFailed"],PublicMethods:[],Options:{autoComplete:{type:"boolean",defaultValue:!0,immutable:!0},url:{type:"string",defaultValue:"file"}},Public:{init:function(){t.ui.Control.prototype.init.apply(this,arguments),t.ui.Control.declareMember(this,{__model:new t.core.JsonModel({}),__recordFinishProxy:$.proxy(this.__recordFinish,this),__afterCameraPickProxy:$.proxy(this.__afterCameraPick,this),__afterAlbumPickProxy:$.proxy(this.__afterAlbumPick,this),__uploadCompleteProxy:$.proxy(this.__uploadComplete,this),__uploadFailedProxy:$.proxy(this.__uploadFailed,this),__autoComplete:null,__url:null,__cameraHasFile:!1,__albumHasFile:!1,__talkHasFile:!1});var o=this;o.__autoComplete=o.getOption("autoComplete"),o.__model.setValue("autoComplete",o.__autoComplete),this.$().append(e.html.sap.sbo.ui.widget.PhoneMediaBar),this.$().setModel(this.__model),$.when(this.$(".sap-sbo-ui-widget-phonemediabar").process(e)).done(function(){o.__initEvents()})},update:function(e){e.url&&(this.__url=this.getOption("url"))},destroy:function(){1==this.__autoComplete?(this.$(".press-talk").getControl().detachEvent("uploadComplete",this.__uploadCompleteProxy),this.$(".press-talk").getControl().detachEvent("uploadFailed",this.__uploadFailedProxy),this.$(".photo-pick").getControl().detachEvent("uploadComplete",this.__uploadCompleteProxy),this.$(".photo-pick").getControl().detachEvent("uploadFailed",this.__uploadFailedProxy),this.$(".photo-album").getControl().detachEvent("uploadComplete",this.__uploadCompleteProxy),this.$(".photo-album").getControl().detachEvent("uploadFailed",this.__uploadFailedProxy)):(this.$(".press-talk").getControl().detachEvent("onRecordFinish",this.__recordFinishProxy),this.$(".press-talk").getControl().detachEvent("uploadComplete",this.__uploadCompleteProxy),this.$(".press-talk").getControl().detachEvent("uploadFailed",this.__uploadFailedProxy),this.$(".photo-pick").getControl().detachEvent("afterPick",this.__afterCameraPickProxy),this.$(".photo-pick").getControl().detachEvent("uploadComplete",this.__uploadCompleteProxy),this.$(".photo-pick").getControl().detachEvent("uploadFailed",this.__uploadFailedProxy),this.$(".photo-album").getControl().detachEvent("afterPick",this.__afterAlbumPickProxy),this.$(".photo-album").getControl().detachEvent("uploadComplete",this.__uploadCompleteProxy),this.$(".photo-album").getControl().detachEvent("uploadFailed",this.__uploadFailedProxy))},post:function(){t.util.showLoading();var e=!1;return 1==this.__talkHasFile?(e=!0,this.$(".press-talk").getControl().upload(this.__url)):1==this.__cameraHasFile?(e=!0,this.$(".photo-pick").getControl().upload(this.__url)):1==this.__albumHasFile?(e=!0,this.$(".photo-album").getControl().upload(this.__url)):t.util.hideLoading(),this.__talkHasFile=!1,this.__cameraHasFile=!1,this.__albumHasFile=!1,e}},Protected:{__initEvents:function(){1==this.__autoComplete?(this.$(".press-talk").getControl().attachEvent("uploadComplete",this.__uploadCompleteProxy),this.$(".press-talk").getControl().attachEvent("uploadFailed",this.__uploadFailedProxy),this.$(".photo-pick").getControl().attachEvent("uploadComplete",this.__uploadCompleteProxy),this.$(".photo-pick").getControl().attachEvent("uploadFailed",this.__uploadFailedProxy),this.$(".photo-album").getControl().attachEvent("uploadComplete",this.__uploadCompleteProxy),this.$(".photo-album").getControl().attachEvent("uploadFailed",this.__uploadFailedProxy)):(this.$(".press-talk").getControl().attachEvent("onRecordFinish",this.__recordFinishProxy),this.$(".press-talk").getControl().attachEvent("uploadComplete",this.__uploadCompleteProxy),this.$(".press-talk").getControl().attachEvent("uploadFailed",this.__uploadFailedProxy),this.$(".photo-pick").getControl().attachEvent("afterPick",this.__afterCameraPickProxy),this.$(".photo-pick").getControl().attachEvent("uploadComplete",this.__uploadCompleteProxy),this.$(".photo-pick").getControl().attachEvent("uploadFailed",this.__uploadFailedProxy),this.$(".photo-album").getControl().attachEvent("afterPick",this.__afterAlbumPickProxy),this.$(".photo-album").getControl().attachEvent("uploadComplete",this.__uploadCompleteProxy),this.$(".photo-album").getControl().attachEvent("uploadFailed",this.__uploadFailedProxy))},__recordFinish:function(e){this.__talkHasFile=!0,this.fireEvent("onRecordFinish",e)},__afterCameraPick:function(e){this.__cameraHasFile=!0,this.fireEvent("afterPick",e)},__afterAlbumPick:function(e){this.__albumHasFile=!0,this.fireEvent("afterPick",e)},__uploadComplete:function(e){t.util.hideLoading(),this.fireEvent("uploadComplete",e)},__uploadFailed:function(e){t.util.hideLoading(),this.fireEvent("uploadFailed",e)}}})}),define("sap.sbo.ui.widget.PhoneMenuButton",["sap.ui.common","sap.ui.Control","sap.ui.widget.MenuButton","sap.ui.widget.Button","sap.sbo.ui.widget.ActionDialog","css!sap.sbo.ui.widget.PhoneMenuButton"],function(){"use strict";var e=this.getNS(),t=this.getNS("sap");return t.ui.Control.declare({Name:"sap.sbo.ui.widget.PhoneMenuButton",ControlBase:t.ui.widget.MenuButton,DomClass:"sap-sbo-ui-menu-button",DomStructure:{tag:"button",attr:{}},Events:[],PublicMethods:[],Public:{init:function(){t.ui.widget.MenuButton.prototype.init.apply(this,arguments),t.ui.Control.declareMember(this,{__$actionDlg:null})},destroy:function(){null!=this.__$actionDlg&&(this.__$actionDlg.find("button").each(function(){$(this).off("click")}),this.__$actionDlg.unprocess(),this.__$actionDlg.remove())},updateMenu:function(){if(t.ui.widget.MenuButton.prototype.updateMenu.apply(this,arguments),"phone"==SboShell.__deviceType){null!=this.__$actionDlg&&this.__$actionDlg.remove(),this.__$actionDlg=$('<div data-sap-widget="sap.sbo.ui.widget.ActionDialog">');for(var o=this.__$menuList.find("li"),a=0;o.length>a;a++){var i=$(o[a]).text(),s=$('<button data-sap-widget="sap.ui.widget.Button" data-sap-option="text:\''+i+"'\">");s.data("key",$(o[a]).data("key")),this.__$actionDlg.append(s)}this.__$actionDlg.process(e),$("#sbo-shell").append(this.__$actionDlg)}},openMenu:function(){if("phone"==SboShell.__deviceType){this.__$actionDlg.getControl().show(),this.__hideParentMenu();var e=this;this.__$actionDlg.onControlEvent("click",'button[data-sap-widget="sap.ui.widget.Button"]',function(){var t=this.$().data("key");e.fireEvent("click",t)})}}},Protected:{__hideParentMenu:function(){for(var e=this.$();"sap-sbo-phone-native-shell-wrapper"!=e.attr("class");)e=e.parent();e.hide()}}})}),define("sap.sbo.ui.widget.PhotoPicker",["sap.sbo.ui.widget.BaseUpload","sap.sbo.localization.Helper","sap.ui.Control","sap.sbo.services.BaseService","css!sap.sbo.ui.widget.PhotoPicker","sap.sbo.util.urlHelper"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Control.declare({Name:"sap.sbo.ui.widget.PhotoPicker",ControlBase:t.sbo.ui.widget.BaseUpload,DomClass:"sap-sbo-ui-widget-photopicker",Events:["afterPick","uploadComplete","uploadFailed"],PublicMethods:[],Options:{resourcetype:{type:"string",defaultValue:"camera"},text:{type:"string",defaultValue:""},autoupload:{type:"boolean",defaultValue:!0},url:{type:"string",defaultValue:t.sbo.services.BaseService.documentbase+"file"},previewurl:{type:"string",defaultValue:""},cropimage:{type:"boolean",defaultValue:!1},maxwidth:{type:"integer",defaultValue:1024},maxheight:{type:"integer",defaultValue:1024}},Public:{init:function(){t.sbo.ui.widget.BaseUpload.prototype.init.apply(this,arguments),t.ui.Control.declareMember(this,{__button:null,__photourl:""}),this.$().attr("data-touchable","true")},destroy:function(){this.__button&&this.__button.off("vclick"),this.$().empty(),void 0!=SboShell.bridge&&SboShell.bridge.unregisterEvent("upload")},update:function(){if("desktop"!=SboShell.__deviceType){this.$().empty();var e=this,t=$("<div>").addClass(e.__subClass("wrapper"));"camera"==e.getOption("resourcetype")?t.append($("<div>").addClass(e.__subClass("camera"))):t.append($("<div>").addClass(e.__subClass("album"))),this.$().append(t),t.on("vclick",function(){$.when(SboShell.bridge.pickResource(e.getOption("resourcetype"),{cropimage:e.getOption("cropimage"),maxwidth:e.getOption("maxwidth"),maxheight:e.getOption("maxheight")})).done(function(t){null!=t&&t.length>0&&(e.__photourl=t,e.fireEvent("afterPick",t),1==e.getOption("autoupload")&&e.upload(e.getOption("url")))})}),this.__button=t}},upload:function(e){var o,a=this;o=t.sbo.util.urlHelper.isValidAbsoluteUrl(e)?e:t.sbo.util.urlHelper.absoluteUrl(e,t.sbo.util.urlHelper.getBaseUrl()),e=o,SboShell.bridge.upload(function(o){"null"==o?(a.fireEvent("uploadFailed"),SboShell.raiseMessage(t.sbo.localization.Helper.get("common/META_UPLOAD_FAILED"))):(a.setOption("previewurl",e+"/open/"+o),a.fireEvent("uploadComplete",o))},a.__photourl,e+"/upload")}},Protected:{}})}),define("sap.sbo.ui.widget.PopupContainer",["sap.ui.common","sap.ui.Control","css!sap.sbo.ui.widget.PopupContainer"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Control.declare({Name:"sap.sbo.ui.widget.PopupContainer",DomClass:"sap-sbo-ui-widget-PopupContainer",Events:[],PublicMethods:[],Options:{direction:{type:"string",defaultValue:"top"},force:{type:"boolean",defaultValue:!1}},Public:{init:function(){t.ui.Control.prototype.init.apply(this,arguments),t.ui.Control.declareMember(this,{__hidePopupProxy:$.proxy(this.__hidePopup,this),__targetId:null});var e=this.$().html(),o=$("<div>").addClass(this.__subClass("popup-content"));this.$().empty(),this.$().append(o.html(e)),this.$().remove(),t.ui.common.getStaticContainer().append(this.$())},openFor:function(e){var t=this,o=this.$().width(),a=(this.$().height(),$(e).offset()),i=$(e).width(),s=$(e).height(),n=this.getOption("direction"),r=0,l=0,d="top"===n?"0,0 10,0 5,10":"5,0 0,10 10,10",p="<svg id='svgindicator'><polygon class='"+this.__subClass("popup-indicator")+"'  points='"+d+"'/></svg>",c=$("<div>").addClass(this.__subClass("indicator-container")).append(p),u=0,h=0,b=0,g=function(){$("."+t.__subClass("indicator-container")).remove(),$("polygon",c).attr({points:"0,0 10,0 5,10",fill:"white",stroke:"#999"}),t.$().append(c),c.height(12),l=a.top-t.$().height()},m=function(){$("."+t.__subClass("indicator-container")).remove(),$("polygon",c).attr({points:"5,0 0,10 10,10",fill:"white",stroke:"#999"}),$("polygon",c).attr("fill","white"),t.$().prepend(c),c.height(10),l=a.top+s},f=function(){return l+t.$().height()>$("body")[0].scrollHeight};navigator.userAgent.match(/webkit/i)||navigator.userAgent.match(/MSIE/i)?u=$("body")[0].scrollWidth:navigator.userAgent.match(/Gecko/i)&&(u=window.scrollMaxX+$("body")[0].scrollWidth),this.__targetId=$(e).attr("id"),$("#svgindicator",c).css("margin-left",o/2-5),r=a.left+i/2-o/2,b=r,0>b?(r=0,$("#svgindicator",c).css("margin-left",o/2-5+b)):(h=r+o-u,h>0&&(r-=h,$("#svgindicator",c).css("margin-left",o/2-5+h))),"top"===n?(g(),0>l&&m()):(m(),f()&&!this.getOption("force")&&g()),this.$().css("left",r).css("top",l),this.$().show(),this.addBodyEventListener()},destroy:function(){this.removeBodyEventListener()},update:function(){}},Protected:{addBodyEventListener:function(){var e=navigator.userAgent,t=null!==e.match(/iPad/i),o=window.SboShell.callFeatureMethod("shell.getDeviceType");t||"phone"==o?window.document.addEventListener("touchstart",this.__hidePopupProxy,!0):(window.document.addEventListener("mousedown",this.__hidePopupProxy,!0),window.document.addEventListener("mousewheel",this.__hidePopupProxy,!0),window.document.addEventListener("DOMMouseScroll",this.__hidePopupProxy,!0))},removeBodyEventListener:function(){var e=navigator.userAgent,t=null!==e.match(/iPad/i),o=window.SboShell.callFeatureMethod("shell.getDeviceType");t||"phone"==o?window.document.removeEventListener("touchstart",this.__hidePopupProxy,!0):(window.document.removeEventListener("mousedown",this.__hidePopupProxy,!0),window.document.removeEventListener("mousewheel",this.__hidePopupProxy,!0),window.document.removeEventListener("DOMMouseScroll",this.__hidePopupProxy,!0))},__hide:function(){this.$().hide(),$("."+this.__subClass("indicator-container")).remove(),this.removeBodyEventListener()},__hidePopup:function(e){var t=$(e.target);t.attr("id")!==this.__targetId&&0===t.parents("#"+this.__subId()).length&&this.__hide()}}})}),define("sap.sbo.ui.widget.PopupMenu",["sap.sbo.ui.widget.PopupContainer","sap.ui.Control"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Control.declare({Name:"sap.sbo.ui.widget.PopupMenu",ControlBase:t.sbo.ui.widget.PopupContainer,DomClass:"sap-sbo-ui-widget-PopupContainer",Events:["onSelected"],PublicMethods:[],Options:{targetid:{type:"string",defaultValue:""}},Public:{init:function(){t.sbo.ui.widget.PopupContainer.prototype.init.apply(this,arguments),t.ui.Control.declareMember(this,{__openPopupProxy:$.proxy(this.__openPopup,this),__fireSelectProxy:$.proxy(this.__fireSelect,this),container:null,targetElem:null,menus:[]}),this.menus=$("div[key]",this.$()),this.menus.length>0&&this.menus.on("vclick",{},this.__fireSelectProxy)},destroy:function(){this.targetElem&&this.targetElem.off("vclick",this.openPopupProxy),this.menus.off("vclick",this.fireSelectProxy)},update:function(e){if(e.targetid){var t=this.getOption("targetid");this.targetElem=""!==t?$("#"+t):null,this.targetElem&&this.targetElem.on("vclick","",this.__openPopupProxy)}}},Protected:{__openPopup:function(){this.openFor(this.targetElem)},__fireSelect:function(e){this.fireEvent("onSelected",e),this.__hide()}}})}),define("sap.sbo.ui.widget.PressToTalk",["sap.sbo.ui.widget.BaseUpload","sap.ui.Control","sap.sbo.services.BaseService","sap.sbo.localization.Helper","sap.ui.common","sap.core.klass","css!sap.sbo.ui.widget.PressToTalk","sap.util","sap.sbo.util.urlHelper"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Control.declare({Name:"sap.sbo.ui.widget.PressToTalk",ControlBase:t.sbo.ui.widget.BaseUpload,DomClass:"sap-sbo-ui-widget-presstotalk",Events:["onRecordFinish","uploadComplete","uploadFailed"],PublicMethods:[],Options:{hash:{type:"string",defaultValue:""},autoupload:{type:"boolean",defaultValue:!0},text:{type:"string",defaultValue:""},url:{type:"string",defaultValue:t.sbo.services.BaseService.documentbase+"file"},echovoice:{type:"boolean",defaultValue:!1},previewurl:{type:"string",defaultValue:""}},Public:{init:function(){t.sbo.ui.widget.BaseUpload.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{__button:null,__recoder:null})},destroy:function(){this.__button&&(this.__button.off("touchstart"),this.__button.off("mouseup")),this.$().empty(),void 0!=SboShell.bridge&&SboShell.bridge.unregisterEvent("upload")},update:function(){if("desktop"!=SboShell.__deviceType){this.$().empty();var e=$("<div>").addClass(this.__subClass("wrapper"));e.append($("<div>").addClass(this.__subClass("voice"))),this.$().append(e),e.on(t.util.isTouch()?"touchstart":"mousedown",$.proxy(this.__voicePressDown,this)),this.__button=e}},upload:function(e){var o,a=this;o=t.sbo.util.urlHelper.isValidAbsoluteUrl(e)?e:t.sbo.util.urlHelper.absoluteUrl(e,t.sbo.util.urlHelper.getBaseUrl()),e=o,SboShell.bridge.upload(function(o){console.log(o),"null"==o?(a.fireEvent("uploadFailed"),SboShell.raiseMessage(t.sbo.localization.Helper.get("common/META_UPLOAD_FAILED"))):(a.setOption("previewurl",e+"/open/"+o),a.fireEvent("uploadComplete",o))},a.__recorder.url,e+"/upload")}},Protected:{__voicePressDown:function(e){var o=this,a=t.ui.common.getStaticContainer(),i=$("<div>").addClass(o.__subClass("volumndiv")),s=$("<div>").addClass(o.__subClass("volumnbar1")),n=$("<div>").addClass(o.__subClass("volumnbar2")),r=$("<div>").addClass(o.__subClass("volumnbar3")),l=$("<div>").addClass(o.__subClass("volumnbar4"));i.append(l),i.append(r),i.append(n),i.append(s),a.append(i),e.preventDefault(),$(document).on(t.util.isTouch()?"touchend":"mouseup",$.proxy(this.__voicePressUp,this)),SboShell.bridge.recordVoice(function(e){o.__recorder=JSON.parse(decodeURIComponent(e));var t=o.__recorder.volumn;.25>=t?(s.css("opacity",1),n.css("opacity",0),r.css("opacity",0),l.css("opacity",0)):t>.25&&.5>=t?(s.css("opacity",1),n.css("opacity",1),r.css("opacity",0),l.css("opacity",0)):t>.5&&.75>=t?(s.css("opacity",1),n.css("opacity",1),r.css("opacity",1),l.css("opacity",0)):(s.css("opacity",1),n.css("opacity",1),r.css("opacity",1),l.css("opacity",1))})},__voicePressUp:function(e){var o=this;e.preventDefault(),$(document).off(t.util.isTouch()?"touchend":"mouseup"),$(o.__subClassSelector("volumndiv")).remove(),SboShell.bridge.stopRecordVoice(),this.__recorder&&this.__recorder.url&&this.fireEvent("onRecordFinish",this.__recorder.url),1==this.getOption("echovoice")&&this.__voicePlayBack(),1==this.getOption("autoupload")&&this.upload(this.getOption("url"))
},__voicePlayBack:function(e){if(void 0==e){if(null==this.__recorder||null==this.__recorder.url)return;var e=this.__recorder.url}e&&(SboShell.bridge.stopPlayVoice(function(){}),SboShell.bridge.playVoice(function(){},{url:e}))}}})}),define("sap.sbo.ui.widget.PreviewBox",["sap.ui.Control","css!sap.sbo.ui.widget.PreviewBox","sap.util","html!sap.sbo.ui.widget.PreviewBox","sap.ui.common"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Control.declare({Name:"sap.sbo.ui.widget.PreviewBox",DomClass:"sap-sbo-ui-widget-previewbox",Events:[],PublicMethods:[],Options:{url:{type:"string",defaultValue:""},width:{type:"integer",defaultValue:640},height:{type:"integer",defaultValue:480}},Public:{init:function(){t.ui.Control.prototype.init.apply(this,arguments),t.ui.Control.declareMember(this,{__imgElement:null,__imageWidth:0,__imageHeight:0,__mask:null,__ratio:1}),this.__mask=$(e.html.sap.sbo.ui.widget.PreviewBox).find(".sap-sbo-ui-widget-previewbox-mask"),this.$().html($(e.html.sap.sbo.ui.widget.PreviewBox).find(".previewbox-wrap"))},update:function(e){if(e.url){var o=this;o.__imgElement=o.$(".previewbox-img")[0],null!=o.__imgElement&&(o.__imgElement.onerror=$.proxy(o.__onError,o),o.__imgElement.onload=$.proxy(o.__onLoad,o),o.__imgElement.src=decodeURIComponent(o.getOption("url")),t.util.showLoading())}},destroy:function(){}},Protected:{__onError:function(){t.util.hideLoading()},__zoom:function(){1>this.__ratio?(this.$(".previewbox-content").animate({width:this.__imageWidth*this.__ratio+"px",height:this.__imageHeight*this.__ratio+"px"}),this.$().animate({"margin-left":"-"+this.__imageWidth*this.__ratio/2+"px","margin-top":"-"+this.__imageHeight*this.__ratio/2+"px"})):(this.$(".previewbox-content").animate({width:this.__imageWidth+"px",height:this.__imageHeight+"px"}),this.$().animate({"margin-left":"-"+this.__imageWidth/2+"px","margin-top":"-"+this.__imageHeight/2+"px"}))},__onLoad:function(){t.util.hideLoading(),this.__imgElement.onerror=this.__imgElement.onload=null,this.__layoutImage()},__onMaskClick:function(){this.__mask.off("vclick",this.__onMaskClick),this.__mask.remove(),this.$().remove()},__layoutImage:function(){this.__imageWidth=this.__imgElement.width,this.__imageHeight=this.__imgElement.height,this.__ratio=this.getOption("width")/this.__imageWidth>this.getOption("height")/this.__imageHeight?this.getOption("height")/this.__imageHeight:this.getOption("width")/this.__imageWidth;var e=this.__ratio;this.__zoom();var o=t.ui.common.getStaticContainer();o.append(this.__mask),this.__mask.on("vclick",$.proxy(this.__onMaskClick,this));var a=this;this.__mask.on("vclick",".zoom-in, .zoom-out",function(t){t.stopPropagation(),$(t.currentTarget).hasClass("zoom-in")?1.728*e>a.__ratio&&(a.__ratio=1.2*a.__ratio,a.__zoom()):$(t.currentTarget).hasClass("zoom-out")&&a.__ratio>.5787037037037*e&&(a.__ratio=a.__ratio/1.2,a.__zoom())}),this.$(".previewbox-img").attr("src",decodeURIComponent(this.getOption("url"))),this.$(".previewbox-wrap").addClass("show")}}})}),define("sap.sbo.ui.widget.Progress",["sap.ui.Control","css!sap.sbo.ui.widget.Progress","sap.util","html!sap.sbo.ui.widget.Progress","sap.ui.common"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Control.declare({Name:"sap.sbo.ui.widget.Progress",DomClass:"sap-sbo-ui-widget-progress",Events:[],PublicMethods:[],Options:{percent:{type:"integer",defaultValue:0}},Public:{init:function(){t.ui.Control.prototype.init.apply(this,arguments),t.ui.Control.declareMember(this,{__mask:null}),this.__mask=$(e.html.sap.sbo.ui.widget.Progress).find(".sap-sbo-ui-widget-progress-mask"),this.$().html($(e.html.sap.sbo.ui.widget.Progress).find(".sbo-progress-wrap"));var o=t.ui.common.getStaticContainer();o.append(this.__mask),this.__mask.on("vclick",".close-box",$.proxy(this.__onMaskClick,this))},update:function(e){e.percent&&this.$(".sbo-progress-bar").progressbar({value:this.getOption("percent"),max:100})},destroy:function(){}},Protected:{__onMaskClick:function(){this.__mask.off("vclick",this.__onClose),this.__mask.remove(),this.$().addClass("minimized")}}})}),define("sap.sbo.ui.widget.Rating",["sap.ui.Control","css!sap.sbo.ui.widget.Rating"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Control.declare({Name:"sap.sbo.ui.widget.Rating",DomClass:"sap-sbo-ui-widget-Rating",Events:[],PublicMethods:[],Options:{value:{type:"real",defaultValue:0},unit:{type:"real",defaultValue:1},count:{type:"integer",defaultValue:5}},Public:{init:function(){t.ui.Control.prototype.init.apply(this,arguments),t.ui.Cotrol.declareMember(this,{__clickProxy:$.proxy(this.__click,this)})},destroy:function(){this.$(this.__subClassSelector("item")).off("click",this.__clickProxy)},update:function(e){var t=this.getOption("value"),o=this.getOption("unit");if(e.value&&this.__rate(t/o-1),e.count){this.$().empty();var a,i,s=this.getOption("count");for(a=0;s>a;a++)i=$("<div>").addClass(this.__subClass("item")).attr("data-rating-index",a),i.on("click",this.__clickProxy),this.$().append(i)}}},Protected:{__click:function(e){var t=$(e.target).attr("data-rating-index");void 0!==t&&(t=parseInt(t),this.setOption("value",(t+1)*this.getOption("unit")))},__rate:function(e){var t=this.__subClass(),o=e+1,a=t+"-item-highlighted";this.$("."+a).removeClass(a),this.$("."+this.__subClass("item")+":lt("+o+")").addClass(a)}}})}),define("sap.sbo.ui.widget.RelatedValueDropDownBox",["require","sap.ui.Control","sap.sbo.services.BaseService","sap.log","sap.ui.widget.DropDownBox"],function(e){"use strict";var t=this.getNS(),o=t.sap,a=o.ui.widget.DropDownBox;return o.ui.Control.declare({Name:this.getModuleInfo().moduleName,ControlBase:a,Events:[],DomClass:"sap-ui-dropdownbox",PublicMethods:[],Options:{service:{type:"string",defalutValue:"",immutable:!0},filter:{type:"string",defaultValue:"",immutable:!0},filterParam:{type:"any",defaultValue:void 0}},Public:{init:function(){a.prototype.init.apply(this,arguments),o.ui.Control.declareMember(this,{_oService:null,_iStatus:-1});var t=this;e([this.getOption("service")],function(e){try{t._oService=new e,t._oService instanceof o.sbo.services.BaseService||o.log.error("class '"+t.getOption("service")+"' is not instance of sap.sbo.services.BaseService"),t._requestData()}catch(a){o.log.error("new object '"+t.getOption("service")+"' failed")}}),t._iStatus=0},destroy:function(){this._oService&&(this._oService.destroy(),this._oService=null)},update:function(e){e.filterParam?this._requestData():a.prototype.update.apply(this,arguments)}},Protected:{_requestData:function(){if(0==this._iStatus&&this._oService){var e=this;this._iStatus=1;var t=this.getOption("filter"),a=this.getOption("filterParam");(void 0!==a||0>t.indexOf("{0}"))&&(t=t.replace("{0}",a),$.when(e._oService.query(t?{filter:t}:{})).done(function(t){e.setOption("data",t.value)}).fail(function(){o.log.error("Query data for '"+e.getOption("service")+"' failed, filter = '"+t+"'")}).always(function(){e._iStatus=0}))}}}})}),define("sap.sbo.ui.widget.RelatedValueLabel",["require","sap.ui.Control","sap.sbo.services.BaseService","sap.log","sap.sbo.ui.BoNavigation","sap.sbo.ui.BoNavigationObject"],function(e){"use strict";var t=this.getNS(),o=t.sap;return o.ui.Control.declare({Name:this.getModuleInfo().moduleName,Events:[],PublicMethods:[],Options:{service:{type:"string",defalutValue:"",immutable:!0},filter:{type:"string",defaultValue:"",immutable:!0},textField:{type:"string",defaultValue:"",immutable:!0},filterParam:{type:"any",defaultValue:null},boEntity:{type:o.sbo.ui.BoNavigationObject,optional:!0,defaultValue:o.sbo.ui.BoNavigationObject.getAnEmptyInstance()}},Public:{init:function(){o.ui.Control.prototype.init.apply(this,arguments),o.ui.Control.declareMember(this,{_oService:null,_bEventAttached:!1,_iStatus:-1});var t=this;e([this.getOption("service")],function(e){try{t._oService=new e,t._oService instanceof o.sbo.services.BaseService||o.log.error("class '"+t.getOption("service")+"' is not instance of sap.sbo.services.BaseService"),t._requestData()}catch(a){o.log.error("new object '"+t.getOption("service")+"' failed")}}),"A"===this.$()[0].nodeName&&(this._bEventAttached=!0,this.$().on("vclick",function(e){o.sbo.ui.BoNavigation.navigate(t.getOption("boEntity"),window.SboShell.callFeatureMethod("shell.getDeviceType"),e)})),t._iStatus=0},destroy:function(){this._oService&&(this._oService.destroy(),this._oService=null),this._bEventAttached&&(this.$().off("vclick"),this._bEventAttached=!1)},update:function(e){e.filterParam&&this._requestData()}},Protected:{_requestData:function(){if(0==this._iStatus&&this._oService){var e=this;this._iStatus=1;var t=this.getOption("filter"),a=this.getOption("filterParam");null!==a&&void 0!==a&&(t=t.replace("{0}",a),$.when(e._oService.query({filter:t})).done(function(t){var o=t.value;if(o.length>0){var a=e.getOption("textField").split("+"),i=[];$.each(a,function(e,t){i.push(o[0][t])}),e.$().text(i.join(" "))}else e.$().text("")}).fail(function(){o.log.error("Query data for '"+e.getOption("service")+"' failed, filter = '"+t+"'")}).always(function(){e._iStatus=0}))}}}})}),define("sap.sbo.ui.widget.ReportWidget",["sap.ui.Control","sap.core.DataList","sap.sbo.compoundservices.AnalyticService","sap.sbo.ui.widget.ChartView","sap.core.JsonModel","sap.log","html!sap.sbo.ui.widget.ReportWidget"],function(e,t,o){"use strict";var a=this.getNS(),a=this.getNS(),i=a.sap;return e.declare({Name:this.getModuleInfo().moduleName,DomClass:"",Events:[],PublicMethods:[],Options:{title:{type:"string",defaultValue:" "},forceFilter:{type:"boolean",defaultValue:!1,immutable:!0},titleVisible:{type:"boolean",defaultValue:!0,immutable:!0},filterData:{type:"array",defaultValue:[],arrayType:{type:"object"}},axisVisible:{type:"boolean",defaultValue:!0},legendVisible:{type:"boolean",defaultValue:!1},reportId:{type:"string",defaultValue:null,nullable:!0}},Public:{init:function(){e.prototype.init.apply(this,arguments),this.$().css({position:"relative",width:"100%",height:"100%",top:"0px",bottom:"0px"}),this.declareMember({dataContext:this.autoDestroy(new i.core.JsonModel({chartType:"",title:" ",legendVisible:!1,axisVisible:!0,dimensionsString:[],measuresString:[],dataHeaders:[],queryDatas:[]})),notifyString:"当前仪表盘%s无数据",notifyDiv:$("<div>").css({position:"absolute",width:"100%","text-align":"center","font-size":"1.3em",top:"50%",color:"#999999"}),oService:this.autoDestroy(new o)}),this.$().append(a.html.sap.sbo.ui.widget.ReportWidget).append(this.notifyDiv),this.$().on("vclick",function(e){e.stopPropagation()}),this.$().setModel(this.dataContext,"sap.sbo.ui.widget.ReportWidget"),this.$().children().process(a)},destroy:function(){this.$().empty()},update:function(e){e.legendVisible&&this.dataContext.setValue("legendVisible",this.getOption("legendVisible")),e.axisVisible&&this.dataContext.setValue("axisVisible",this.getOption("axisVisible")),e.title&&this.dataContext.setValue("title",this.getOption("title")),e.reportId&&this.runDashboard()}},Protected:{runDashboard:function(){var e=this,t=this.getOption("reportId"),o=null,a=this.getOption("filterData");if(null!==t){if(this.getOption("forceFilter")&&0===a.length)return i.log.error("ReportWidget must have filterData!"),void 0;a.length>0&&(o={entries:a}),this.oService.runDashboard(t,o).done(function(t){t.title?(e.getOption("titleVisible")&&e.dataContext.setValue("title",t.title),0===t.data.value.length?e.notifyDiv.text(e.notifyString.replace("%s",t.title)).show():e.notifyDiv.hide()):e.dataContext.setValue("title"," "),e.dataContext.setValue("chartType",t.chartType),e.dataContext.setValue("dimensionsString",t.dimensions.values.value),e.dataContext.setValue("measuresString",t.measures.values.value),e.dataContext.setValue("dataHeaders",[].concat(t.dimensions.values.value).concat(t.measures.values.value)),e.dataContext.setValue("queryDatas",t.data.value),e.$().trigger("runDashboardDone",t)})}}}})}),define("sap.sbo.ui.widget.SliderButton",["sap.ui.Control","sap.ui.locale","sap.log","css!sap.sbo.ui.widget.SliderButton"],function(){"use strict";var e=this.getNS(),t=e.sap,o=t.ui.Control.declare({Name:this.getModuleInfo().moduleName,DomClass:"sap-sbo-ui-sliderbutton",Events:["change"],PublicMethods:[],Options:{value:{type:"boolean",defaultValue:!1},disabled:{type:"boolean",defaultValue:!1},onText:{type:"string",defaultValue:"",immutable:!0},offText:{type:"string",defaultValue:"",immutable:!0},onChang:{type:"function",defaultValue:null,nullable:!0}},Public:{init:function(){t.ui.Control.prototype.init.apply(this,arguments),t.ui.Control.declareMember(this,{__$handler:null,__mouseStartX:-1,__slideLimitation:0,__lastMarginLeft:0,__handler:{left:0,top:0}});var e=this,o=this.__subClassSelector("handler");this.$().on("vclick",o,function(){if(!e.getOption("disabled")&&!e.__mOptionChanges.value){var t=e.getOption("value");e.setOption("value",!t),e.fireEvent("change")}}),this.$().on("vdragstart",o,function(t){e.getOption("disabled")||($(this).addClass(e.__subClass("handler-dragging")),e.__mouseStartX=t.vdata.pageX,e.__handler=e.$(o))}),this.$().on("vdragging",o,function(t){if(!e.getOption("disabled")){var a=t.vdata.pageX-e.__mouseStartX,i=e.getOption("value"),s=a;i?a>0?s=0:-a>e.__slideLimitation&&(s=-e.__slideLimitation):(s=-e.__slideLimitation+a,a>e.__slideLimitation?s=0:0>a&&(s=-e.__slideLimitation)),e.__lastMarginLeft=s,e.__doDraging(o,s)}}),this.$().on("vdragend",o,function(){if(!e.getOption("disabled")){var t=e.getOption("value");t?-e.__lastMarginLeft>=e.__slideLimitation/2?(e.setOption("value",!t),e.fireEvent("change")):e.__doDraging(o,0):-e.__lastMarginLeft>=e.__slideLimitation/2?e.__doDraging(o,-e.__slideLimitation):(e.setOption("value",!t),e.fireEvent("change")),$(this).removeClass(e.__subClass("handler-dragging"))}}),this.__redrawSlider()},destroy:function(){this.$().off("vdragstart vdragging vdragend"),this.$().off("vclick")},update:function(e){e.value&&(this.getOption("value")?(this.__doDraging(this.__subClassSelector("handler"),0),this.$(this.__subClassSelector("handler")).css({"transition-duration":"300ms"})):this.__doDraging(this.__subClassSelector("handler"),-this.__slideLimitation)),e.disabled&&(this.getOption("disabled")?this.$().addClass(this.__subClass("disabled")):this.$().removeClass(this.__subClass("disabled")))}},Protected:{__redrawSlider:function(){var e=this.$(),t=this;e.empty();var o=$("<div>").attr({"class":t.__subClass("handler")}),a=$("<span>").addClass(this.__subClass("toolTipOn")).text(this.getOption("onText")),i=$("<span>").addClass(this.__subClass("toolTipOff")).text(this.getOption("offText")),s=$("<span>").addClass(this.__subClass("circle")),n=$("<span>").addClass(this.__subClass("toolSlider"));o.append(a).append(i).append(n).append(s),e.append(o),this.__$handler=o,this.__slideLimitation=this.__calculateOffset()},__doDraging:function(e,t){this.$(e).css({"margin-left":t});var o=this.$(this.__subClassSelector("circle"));0>t?o.removeClass(this.__subClass("on")).addClass(this.__subClass("off")):o.removeClass(this.__subClass("off")).addClass(this.__subClass("on"))},__calculateOffset:function(){var e=this.$().outerWidth(),t=this.$(this.__subClassSelector("toolSlider")).outerWidth(),o=e-t;return o},__resetSlider:function(){var e=this.getOption("value");this.setOption("value",!e),this.$(this.__subClassSelector("handler")).css({"margin-left":0})}}});return o}),define("sap.sbo.ui.widget.SearchInput",["sap.ui.Control","sap.core.JsonModel","html!sap.sbo.ui.widget.SearchInput","sap.core.event.DomCommand","sap.sbo.util.notification","sap.core.event.CommandManager","css!sap.sbo.ui.widget.SearchInput"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Control.declare({Name:this.getModuleInfo().moduleName,DomClass:"sap-sbo-ui-widget-SearchInput",Events:["doSearch"],PublicMethods:[],Options:{searchText:{type:"string",defaultValue:""},searchBehaviorKey:{type:"string",defaultValue:"",immutable:!0},liveChange:{type:"boolean",defaultValue:!1,immutable:!0}},Public:{init:function(){t.ui.Control.prototype.init.apply(this,arguments),this.declareMember({dataContext:new t.core.JsonModel({searchText:"",search:new t.core.event.DomCommand(this,this.__search),clear:new t.core.event.DomCommand(this,this.__clear)})}),this.$().html(e.html.sap.sbo.ui.widget.SearchInput),this.$().setModel(this.dataContext),this.$(".searchbar").process(e)},destroy:function(){this.unprocess()},update:function(){}},Protected:{__clear:function(){var e=this.$(".search");e.val(""),this.dataContext.setValue("searchText",""),this.$(".close").addClass("hideClose"),this.$().trigger("clearSearch")},__doSearch:function(){var e=this.$(".search");e.addClass("searchloadingicon"),this.dataContext.getValue("searchText");var o=this.getOption("searchBehaviorKey");o&&t.sbo.util.notification.notify(o,e.val()),this.$().trigger("doSearch",[e.val()])},__search:function(e){var t=this.getOption("liveChange"),o=this.$(".search");this.dataContext.setValue("searchText",o.val()),""===o.val()?this.$(".close").addClass("hideClose"):this.$(".close").removeClass("hideClose"),t?this.__doSearch():13===e.keyCode&&this.__doSearch()}}})}),define("sap.sbo.ui.widget.Stage",["sap.ui.Control","sap.core.vevents","sap.ui.widget.Currency","sap.sbo.services.SalesOpportunitiesService","sap.core.GuardedTimer","sap.ui.common","sap.sbo.localization.Helper","sap.sbo.util.formatter","css!sap.sbo.ui.widget.Stage"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Control.declare({Name:"sap.sbo.ui.widget.Stage",DomClass:"sap-sbo-ui-widget-stage",Events:["click"],PublicMethods:[],Options:{values:{type:"array",arrayType:{type:"object"},defaultValue:[]},disabled:{type:"boolean",defaultValue:!1},readonly:{type:"boolean",defaultValue:!0},metaDatas:{type:"array",arrayType:{type:"object"},defaultValue:[]},currency:{type:"string",defaultValue:"$"},popupWidth:{type:"integer",defaultValue:200},direction:{type:"string",defaultValue:"v"},scrollLength:{type:"string",defaultValue:"400px"},getBO:{type:"function",defaultValue:function(){}},setBO:{type:"function",defaultValue:function(){}}},Public:{init:function(){t.ui.Control.prototype.init.apply(this,arguments),t.ui.Control.declareMember(this,{__onClickProxy:$.proxy(this.__onClick,this),__currentStep:0,__stepSize:0,__spliterSize:0,__popupEvent:void 0,__closePopupProxy:$.proxy(this.__closePopup,this),__datas:[],__popupEventdata:void 0,__direction:void 0,__baseCss:"sap-sfa-ui-widget-stage",__domCLass:null,__oIScroll:void 0,__scrollLength:null,__oTimer:this.autoDestroy(new t.core.GuardedTimer),__view:null,__insertNew:!0});var e=navigator.userAgent;e.match(/iPad/i)?"touchstart":"click";var o=this,a=0;this.__oTimer.setInterval(function(){var e=o.$()[0].clientHeight;e!==a&&(a=e,o.__oIScroll&&o.__oIScroll.refresh())},1e3)},destroy:function(){this.__oIScroll&&this.__oIScroll.destroy(),$("."+this.__subCssClass("popup-container",this.__direction)).off("vclick")},update:function(e){this.__direction=this.getOption("direction"),this.__domClass=this.__baseCss+"-"+this.__direction,this.__scrollLength=this.getOption("scrollLength"),!e.values&&!e.metaDatas||this.getOption("disabled")||(this.__mergeDatas(),this.__drawSteps(this.__getSortedSteps())),e.popupWidth&&$("."+this.__subClass("popup-container")).width(this.getOption("popupWidth")),e.readonly&&(this.getOption("readonly")?this.__drawSteps(this.__getSortedSteps()):(this.__drawSteps(this.__getSortedSteps()),this.__insertNew=!0))}},Protected:{__getSortedSteps:function(){var e=this.getOption("metaDatas");return e.sort(function(e,t){return e.stageNo>=t.stageNo?1:-1})},__subCssClassSelector:function(e,t){return t?this.__subClassSelector(e+"-"+t):this.__subClassSelector(e)},__subCssClass:function(e,t){return t?this.__subClass(e+"-"+t):this.__subClass(e)},__CSSActualSize:function(){var e=$("."+this.__subCssClass("step",this.__direction)).length-$("."+this.__subCssClass("step-hide",this.__direction)).length,t=this.__stepSize*e+this.__spliterSize*(e-1);return"h"===this.__direction?{width:t}:{height:t}},__drawSteps:function(){this.$().empty();var e=this,o=e.getOption("currency"),a=$("<div>").addClass(this.__subCssClass("stepContent",this.__direction)),i=$("<div>").attr("class",this.__subCssClass("popup-container",this.__direction)).width(this.getOption("popupWidth")).on("vclick",function(e){e.stopPropagation()}),s=$("<div>").attr({id:"sap-sbo-ui-widget-stage-arrow"}),n=$("<div>").attr("class",this.__subClass("popup-content")),r=$("<div>").attr("class",this.__subClass("popup-gotoButton")).text(t.sbo.localization.Helper.get("app/stage/BUT_GOTO")),l=$("<div>").attr("class",this.__subClass("popup-editorcontainer")),d=$("<div>").attr("class",this.__subClass("popup-desccontainer")).css("padding","0px").hide();this.__view=$("<div>").addClass(this.__subCssClass("container",this.__direction)),"h"===this.__direction?this.__view.css("width",this.__scrollLength):this.__view.css("height",this.__scrollLength),this.__view.append(a),n.append($("<div>").attr("class",this.__subClass("popup-no"))).append($("<div>").attr("class",this.__subClass("popup-content1"))).append($("<div>").attr("class",this.__subClass("popup-content2"))).append($("<div>").attr("class",this.__subClass("popup-content4"))).append($("<div>").attr("class",this.__subClass("popup-content3")));var p=$("<input>").attr("id",this.__subId()+"_currency").attr("data-sap-widget","sap.ui.widget.Currency").attr("data-sap-option","value:'0.00',currency:'"+o+"'").width("100%").css("box-sizing","border-box");d.append(p).append($("<textarea>").attr("class",this.__subClass("popup-desc"))),r.on("vclick",function(t){t.stopPropagation(),t.preventDefault(),void 0!==e.__popupEventdata&&e.__submitData(e.__popupEvent,function(){i.hide("normal")})}),n.append(l.append(r)),i.append(n),i.append(s),this.__view.append(i),this.$().append(this.__view);var c=null,u=null,h=null,b=null,g=$("<div>").addClass(this.__subCssClass("splitter",this.__direction)),m=null,f=this.getOption("readonly");h=$("<div>").addClass(this.__subCssClass("stepNum",this.__direction)),b=$("<div>").addClass(this.__subCssClass("stepText",this.__direction));for(var v=0;this.datas.length>v;v++){var y=this.datas[v];c=h.clone().text(y.stageNo).attr({"data-sfa-stage-index":v+1,"sap-ctrl":"stageNum"}),u=b.clone().text(y.name),"tNO"!==y.cancelled?(c.addClass(this.__subCssClass("stepNum-canceled",this.__direction)),u.addClass(this.__subCssClass("stepText-cancelled",this.__direction))):y.isCurrent===!0?c.addClass(this.__subCssClass("stepNum-current",this.__direction)):f?"done"===y.status?(c.addClass(this.__subCssClass("stepNum-pass",this.__direction)),c.on("vclick",this.datas[v],this.__onClickProxy)):(c.addClass(this.__subCssClass("stepNum-future",this.__direction)),u.addClass(this.__subCssClass("stepText-future",this.__direction)),c.on("vclick",this.datas[v],this.__onClickProxy)):(c.addClass(this.__subCssClass("stepNum-eidt",this.__direction)),c.on("vclick",this.datas[v],this.__onClickProxy));var _=$("<div>").addClass(this.__subCssClass("step",this.__direction));"h"===this.__direction?_.append(u).append(c):_.append(c).append(u),m=g.clone(),a.append(_).append(m)}null!==m&&null!==c&&("h"===this.__direction?(this.__spliterSize=m.outerWidth(),this.__stepSize=c.outerWidth()):(this.__spliterSize=m.outerHeight(),this.__stepSize=c.outerHeight())),a.css(this.__CSSActualSize()),this.__oIScroll&&this.__oIScroll.destroy(),this.__oIScroll="h"===this.__direction?new iScroll(this.__view[0],{vScroll:!1,hScrollbar:!1,bounce:!1}):new iScroll(this.__view[0],{hScroll:!0,vScrollbar:!0,bounce:!1})},__mergeDatas:function(){var e,t=this.__getSortedSteps(),o=this.getOption("values"),a=0;if(void 0===t||0===t.length)return this.datas=[],void 0;for(var i=o[o.length-1].stageKey,s=o,n=[],a=0,r=s.length;r>a;a++)s[a].stageKey>i||(n[s[a].stageKey]=s[a]);for(var a=0,r=t.length;r>a;a++)t[a].isCurrent=t[a].stageNo===i?!0:!1;for(this.datas=t,a=0;this.datas.length>a;a++)if(e=this.datas[a],e.stageNo>i)e.remarks="",e.status="",e.maxLocalTotal=0;else{var l=n[e.stageNo];l?(e.remarks=l.remarks,e.status="done",e.maxLocalTotal=l.maxLocalTotal,e.closingDate=l.closingDate):(e.remarks="",e.status="done",e.maxLocalTotal="",e.closingDate="")}},__onClick:function(e){var t=this;this.getOption("readonly")||(e.stopPropagation(),e.preventDefault(),t.__popupEventdata=e.data,void 0!==t.__popupEventdata&&t.__submitData(t.__popupEvent,function(){}))},__closePopup:function(){var e=this,t="."+e.__subCssClass("popup-container",e.__direction);$(t).off("vclick",t).fadeOut(200)},__submitData:function(e,o){var a=this,i=a.__popupEventdata,s=a.getOption("values"),n=$("<div>").addClass(a.__subClass("stepContent")),r=function(){a.setOption("values",s),a.__insertNew=!1,n.css(a.__CSSActualSize()),a.fireEvent("click"),a.$().focus(),o.apply(a,[]),console.info(s)},l=this.getOption("getBO"),d=this.autoDestroy(new t.sbo.services.SalesOpportunitiesService),p=l();p.currentStageNumber=i.stageNo,$.when(d.onPropertyChange(p,"Root/currentStageNumber","PropertyUpdate")).done(function(e){var t=a.getOption("setBO");t(e);var o=e.salesOpportunitiesLines.pop();a.__insertNew||s.pop(),s.push(o),r()})}}})}),define("sap.sbo.ui.widget.TagPanel",["sap.ui.Control","sap.core.JsonModel","html!sap.sbo.ui.widget.TagPanel","sap.core.event.BehaviorCommand","sap.sbo.util.notification","sap.core.event.CommandManager","css!sap.sbo.ui.widget.TagPanel","sap.core.DataList","sap.sbo.ui.Loop"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Control.declare({Name:this.getModuleInfo().moduleName,DomClass:"sap-sbo-ui-widget-TagPanel",Events:["pickTag"],PublicMethods:[],Options:{multiSelection:{type:"boolean",defaultValue:!1,immutable:!0},data:{type:"array",arrayType:{type:"object"},defaultValue:[]},displayField:{type:"string",defaultValue:"",immutable:!0},tagSelectedBehaviorKey:{type:"string",defaultValue:"",immutable:!0}},Public:{init:function(){t.ui.Control.prototype.init.apply(this,arguments),this.declareMember({dataContext:new t.core.JsonModel({source:[]})}),this.$().html(e.html.sap.sbo.ui.widget.TagPanel),this.$().setModel(this.dataContext,"sapsbouiwidgetTagPanel"),this.$().on("vclick",".tag",this,this.__pickTag),this.$(".tagContainer").process(e)},destroy:function(){this.unprocess(),this.$().off("vclick",".tag",this,this.__pickTag)},update:function(e){if(e.data){var o=this.getOption("displayField"),a=this.getOption("data"),i=[];o&&a.length>0?(i=a.map(function(e){return{name:e[o],selected:!1,index:a.indexOf(e)}}),this.dataContext.setValue("source",new t.core.DataList(i))):this.dataContext.setValue("source",[])}}},Protected:{__pickTag:function(e){var o,a=e.data,i=$(e.currentTarget),s=new t.core.DataList(a.getOption("data")),n=a.dataContext.getValue("source"),r=a.getOption("multiSelection"),l=n.first("c=>c.index==="+i.data("index"));r?l.selected=!l.selected:(a.$(".tag").removeClass("selected-true").removeClass("selected-false"),n.forEach(function(e){e.selected=e!==l?!1:!l.selected}));var d=n.query("c=>c.selected===true").select("c=>c.index");o=s.filter(function(e){return d.indexOf(s.indexOf(e))>-1}),i.removeClass("selected-true").removeClass("selected-false").addClass("selected-"+l.selected),a.$().trigger("picktag",o);var p=a.getOption("tagSelectedBehaviorKey");p&&t.sbo.util.notification.notify(p,o)}}})}),define("sap.sbo.ui.widget.UploadButton",["sap.sbo.ui.widget.BaseUpload","sap.ui.Control","sap.ui.common","sap.ui.Dialog","sap.ui.Repeat","sap.core.JsonModel","sap.util","sap.sbo.services.BaseService","sap.sbo.localization.Helper","css!sap.sbo.ui.widget.UploadButton","sap.core.GuardedAjax","html!sap.sbo.ui.widget.UploadButton","noamdjs!sap.sbo.libs.jquery-Jcrop-min"],function(){"use strict";var e=this.getNS(),t=e.sap,o=31457280;return t.ui.Control.declare({Name:"sap.sbo.ui.widget.UploadButton",ControlBase:t.sbo.ui.widget.BaseUpload,DomClass:"sap-sbo-ui-widget-uploadbutton",Events:["fileSelected","uploadComplete","uploadFailed","uploadCanceled","uploadProgress","uploadAllComplete","uploadAllFailed"],PublicMethods:[],Options:{hash:{type:"string",defaultValue:""},autoupload:{type:"boolean",defaultValue:!0},multiplefiles:{type:"boolean",defaultValue:!1},cropimage:{type:"boolean",defaultValue:!1},croptitle:{type:"string",defaultValue:""},fixedratio:{type:"boolean",defaultValue:!0},cropratio:{type:"real",defaultValue:1},accept:{type:"string",defaultValue:"audio/*,video/*,image/*,MIME_type,text/plain,application/msword,application/pdf,application/rtf,application/vnd.ms-excel,application/vnd.ms-powerpoint,application/vnd.ms-outlook,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.openxmlformats-officedocument.presentationml.presentation"},text:{type:"string",defaultValue:""},url:{type:"string",defaultValue:"file"},previewurl:{type:"string",defaultValue:""},downloadurl:{type:"string",defaultValue:""}},Public:{init:function(){t.sbo.ui.widget.BaseUpload.prototype.init.apply(this,arguments),t.ui.Control.declareMember(this,{__initialized:!1,__file:null,__files:[],__iframe:null,__form:null,__model:null,__reader:null,__oAjax:this.autoDestroy(new t.core.GuardedAjax)}),this.__model=new t.core.JsonModel({buttons:[{text:t.sbo.localization.Helper.get("common/CANCEL"),key:"Cancel"},{text:t.sbo.localization.Helper.get("common/SAVE"),key:"Save"}],imageid:"",imagedata:null,title:t.sbo.localization.Helper.get("common/CHANGE_AVATAR"),rect:{x:0,y:0,width:0,height:0}}),this.$().attr("data-touchable","true")},destroy:function(){this.$(this.__subClassSelector("filetoupload")).off("change"),this.$(this.__subClassSelector("wrapper")).empty(),this.$(this.__subClassSelector("wrapper")).remove(),this.__form&&this.__form.remove(),this.__file=null,this.__files=null,this.__reader=null,this.__form=null,this.$().empty()},update:function(e){if(0==this.__initialized&&(1==this.__initialized,"desktop"==SboShell.__deviceType)){this.$().empty();var o=$("<div>").addClass(this.__subClass("wrapper")),a="";null!=this.getOption("text")&&(a=this.getOption("text")),o.append($('<div value="file">').addClass(this.__subClass("file")).text(a)),this.$().append(o),this.__appendFileInputTo(this.$())}if(e.croptitle){if(""==this.getOption("croptitle"))return this.setOption("croptitle",t.sbo.localization.Helper.get("common/CHANGE_AVATAR")),void 0;this.__model.setValue("title",this.getOption("croptitle"))}},upload:function(e){if(0==this.getOption("multiplefiles"))this.__uploadSingleFile(this.__file,e);else{var t=this,o=function(a){t.__files.length>a&&$.when(t.__uploadSingleFile(t.__files[a],e)).done(function(){t.__files.length>a+1?o(a+1):t.fireEvent("uploadAllComplete")}).fail(function(){t.fireEvent("uploadAllFailed")})};o(0)}}},Protected:{__isInBlackList:function(e){var t=e.name;if(null!=t&&t.length>0){var o=t.lastIndexOf(".");if(o>0){var a=t.substring(o+1);if("exe"==a||"jar"==a||"cab"==a)return!0}}var i=e.type;return"text/html"==i||"application/x-shockwave-flash"==i||"application/x-silverlight-2"==i||"text/xml"==i||"application/x-msdownload"==i||""==i?!0:!1},__checkFileType:function(e){if(this.__isInBlackList(e))return!1;var t=this.getOption("accept"),o=e.type;if(t.indexOf(o)>=0)return!0;for(var a=t.split(","),i=0,s=0;a.length>s;s++)if(a[s].indexOf("*")==a[s].length-1){var n=RegExp(a[s].replace("/","\\/\\").replace("*","w+"));n.test(o)&&i++}return i>0?!0:!1},__resetFile:function(){null!=this.__form&&this.__form.get(0).reset()},__appendFileInputTo:function(e){var t=this,o=this.getOption("multiplefiles")?' multiple="multiple" ':"",a=this.getOption("accept")?" accept='"+this.getOption("accept")+"' ":"",i=$('<input name="file" type="file" '+o+a+'class="'+this.__subClass("filetoupload")+'" style="display:none;" >');t.__form=$('<form action="'+t.getOption("url")+'" target="_blank" method="post"></form>'),t.__form.append(i),e.append(t.__form),i.change(function(){$(this).data("onChange").apply(this)}),i.data("onChange",$.proxy(t.__click,t));var s=e.find(this.__subClassSelector("wrapper"));s.click(function(){null!=t.__file&&t.__resetFile(),i.focus(),i.trigger("click")})},__click:function(){var o=this.$(this.__subClassSelector("filetoupload"));
if(o.length>0)if(null==o[0].files)null!=this.__form&&this.__form.length>0&&1==this.getOption("autoupload")&&this.__form[0].submit();else{var a=o[0].files[0];if(this.__files=this.$(this.__subClassSelector("filetoupload"))[0].files,a){if(this.__file=a,this.fireEvent("fileSelected",a),!this.__checkFileType(a))return SboShell.raiseMessage(t.sbo.localization.Helper.get("common/META_INVALID_FILETYPE"),"error",[{key:"cancel",text:t.sbo.localization.Helper.get("common/CANCEL")}]),void 0;if(/image\/\w+/.test(a.type)&&0==this.getOption("multiplefiles")&&1==this.getOption("cropimage")&&"undefined"!=typeof FileReader){this.__reader=new FileReader;var i=this;/image\/\w+/.test(a.type)&&(this.__reader.onload=function(){var t="crop-target"+(new Date).valueOf();i.__model.setValue("imageid",t),i.__model.setValue("imagedata",this.result);var o=$(e.html.sap.sbo.ui.widget.UploadButton);i.$().append(o),o.setModel(i.__model),$.when(i.$(i.__subClassSelector("crop")).process(e)).done(function(){var e=i.$(i.__subClassSelector("crop")).getControl();e.open();var a=e.getContent().find(i.__subClassSelector("imagecrop"));i.__model.setValue("rect",{x:0,y:0,width:0,height:0});var s=function(e){var o=a[0].naturalWidth,s=$("#"+t).width(),n=s>0?o/s:1;i.__model.setValue("rect",{x:Math.round(e.x*n),y:Math.round(e.y*n),width:Math.round(e.w*n),height:Math.round(e.h*n)})},n={bgColor:"black",bgOpacity:.4,setSelect:[0,0,100,100],onSelect:s,onChange:s};i.getOption("fixedratio")&&(n.aspectRatio=i.getOption("cropratio")),$("#"+t).Jcrop(n),e.getContent().on("vclick",".right-button",function(a){e.getContent().off("vclick"),$("#"+t).remove();var s=$(a.currentTarget).attr("data");"Save"==s&&console.log(i.__model.getValue("rect")),e.close(),o.remove(),"Save"==s&&1==i.getOption("autoupload")&&i.upload(i.getOption("url"))})})},this.__reader.readAsDataURL(a))}else 1==this.getOption("autoupload")&&this.upload(this.getOption("url"))}}},__uploadSingleFile:function(e,a){var i=this,s=$.Deferred();if(a=t.sbo.services.BaseService.documentbase+a,e.size>o)return i.fireEvent("uploadFailed",t.sbo.localization.Helper.get("common/UPLOAD_SIZE_LIMIT")),!1;var n=new FormData;n.append("file",e);var r=function(){var e=jQuery.ajaxSettings.xhr();return e.upload&&e.upload.addEventListener("progress",function(e){var t=0,o=e.loaded||e.position,a=e.total;e.lengthComputable&&(t=Math.ceil(100*(o/a))),console.log("Progress: "+t),i.fireEvent("uploadProgress",t)},!1),e};return t.util.showLoading(120),i.__oAjax.ajax({url:a+"/upload",data:n,type:"post",contentType:!1,processData:!1,beforeSend:function(e){if(1==i.getOption("cropimage")&&0==i.getOption("multiplefiles")){var t=i.__model.getValue("rect");null!=t&&t.x>=0&&t.y>=0&&t.width>0&&t.height>0&&(e.setRequestHeader("x",""+t.x),e.setRequestHeader("y",""+t.y),e.setRequestHeader("width",""+t.width),e.setRequestHeader("height",""+t.height))}},xhr:r}).done(function(e){t.util.hideLoading();var o=e+"";i.setOption("hash",o),i.setOption("previewurl",a+"/thumbnail/"+o),i.setOption("downloadurl",a+"/download/"+o),s.resolve(e),i.fireEvent("uploadComplete",o)}).fail(function(e){t.util.hideLoading(),s.reject(e),i.fireEvent("uploadFailed",e),SboShell.raiseMessage(t.sbo.localization.Helper.get("common/META_UPLOAD_FAILED"))}),s.promise()}}})}),define("sap.sbo.ui.widget.WindowStub",["sap.ui.Control","css!sap.sbo.ui.widget.WindowStub"],function(){"use strict";var e=this.getNS(),t=e.sap,o=t.ui.Control.declare({Name:this.getModuleInfo().moduleName,DomClass:"sap-sbo-ui-widget-windowstub",Events:["stubevent"],PublicMethods:[],Options:{path:{type:"string",defaultValue:""},message:{type:"object",nullable:!0,defaultValue:null}},Public:{init:function(){t.ui.Control.prototype.init.apply(this,arguments),t.ui.Control.declareMember(this,{__iframe:null})},update:function(e){if(null!=e.path)switch(SboShell.__deviceType){case"desktop":this.__addIframeForDesktop(),this.__addMessageListener();break;case"pad":case"phone":this.__addWebViewForShell(),this.__addMessageListener();break;default:}if(null!=e.message&&null!=this.getOption("message")){var t=this.getOption("message");null!=t&&this.__fireEvent(t)}},destroy:function(){}},Protected:{__addIframeForDesktop:function(){this.__iframe=document.createElement("iframe");var e=this;$.get(this.getOption("path"),function(t){var o=e.__iframe.contentWindow.document;o.open(),o.write(t),o.close()}),this.$()[0].appendChild(this.__iframe)},__fireEvent:function(e){"desktop"==SboShell.__deviceType&&null!=this.__iframe?this.__iframe.contentWindow.postMessage(JSON.stringify({name:"callwindow",value:e}),"*"):SboShell.bridge.messageToWebView(JSON.stringify({name:"callwindow",value:e}))},__addWebViewForShell:function(){SboShell.bridge.addWebView(this.getOption("path"))},__addMessageListener:function(){var e=this;window.onmessage=function(t){var o;if(t.data){try{o=JSON.parse(t.data)}catch(t){}o&&"windowstub"==o.name&&("object"==typeof o.value?e.fireEvent("stubevent",JSON.stringify(o.value)):e.fireEvent("stubevent",o.value))}}}}});return o}),define("sap.sbo.ui.widget.chart.ChartBase",["sap.core.klass","noamdjs!sap.ui5.thirdparty.d3","css!sap.sbo.ui.widget.chart.ChartBase","sap.core.DataList","sap.util"],function(){var e=this.getNS(),t=e.sap,o=t.core.klass.declare({Name:this.getModuleInfo().moduleName,Public:{init:function(e,o,a){t.core.klass.declareMember(this,{colorTable:a.colorPalette||["Pink","HotPink","DeepPink","SkyBlue","DodgerBlue","SteelBlue"],domDivElement:e,options:a,data:new t.core.DataList(o),titleLayer:void 0,xScale:void 0,yScale:void 0,xInnerScale:void 0,svg:void 0,coord:void 0,legend:void 0,xAxis:void 0,yAxis:void 0,xLabel:void 0,dataLayer:void 0,columnLayer:void 0,constVerticalTextOffset:"0.25em",coordHeight:void 0,coordWidth:void 0,padding:[10,10,10,10]})},drawTitle:function(){this.titleLayer||(this.titleLayer=this.svg.append("g").attr("transform","translate("+(this.padding[1]+this.padding[3])+",0)")),this.options.title.visible?this.titleLayer.append("text").attr("text-anchor","middle").attr("dy",this.constVerticalTextOffset).attr("y","8").attr("x",this.svg[0][0].getBBox().width/2).text(this.options.title.value).style("font-weight","bold"):this.titleLayer.remove()},getxAxisDomain:function(e){var t,o=this.data;return t=o.distinct("c=>c."+e.propertyName)},getLimit:function(e){var t,o=this.data,a=e.propertyNames,i=null,s=null;return a.forEach(function(a){var n=o.select("c=>c."+a),r=d3.min(n);i=null===i?r:r>i?i:r;var l=d3.max(n);s=null===s?l:s>l?s:l;var d=s-i;t=d/e.ticks,i>=0&&0>i-t?i=0:i-=t}),[i,s+t]},getColumnOffsetX:function(e){for(var t=0,o=0;this.xScale.length>o;o++)t+=this.xScale[o](e[this.options.xAxis.value[o].propertyName]);return t},getColumnOffsetRelativeTo:function(e,t){var o=$(t).offset(),a=$(this.svg[0][0]).offset(),i=this.padding[3]+this.yAxis[0][0][0].getBBox().width,s=this.padding[0]+.5*this.options.lineHeight;return{left:a.left+i+this.getColumnOffsetX(e)-o.left,top:a.top+s-o.top}},getArrayFromDatum:function(e){var t=[];return this.options.yAxis.forEach(function(o,a){o.propertyNames.forEach(function(o,i){t.push({propertyName:o,propertyIndex:i,yAxisIndex:a,value:e[o]})})}),t},resizeSvg:function(){this.svg.attr("width",this.domDivElement.clientWidth).attr("height",this.domDivElement.clientHeight)},drawAxisX:function(e,t,o,a){void 0===a&&(a=[1,1,1,1]);var i=e.selectAll("g").data(o).enter().append("g").attr("class","xAxisItem");i.append("rect").attr("x",function(e){return t(e)}).attr("height",this.options.lineHeight).attr("width",t.rangeBand()),i.append("text").attr("x",function(e){return t(e)+t.rangeBand()/2}).attr("y",this.options.lineHeight/2).attr("dy",this.constVerticalTextOffset).attr("text-anchor","middle").text(function(e){return e}),i.each(function(o){t(o)>t.rangeExtent()[0]&&e.append("line").attr("x1",t(o)).attr("y1",0).attr("x2",t(o)).attr("y2",this.options.lineHeight)}.bind(this));for(var s=t.rangeExtent()[1],n=[[0,0],[s,0],[s,this.options.lineHeight],[0,this.options.lineHeight]],r=0;4>r;++r)1===a[r]&&e.append("line").attr("x1",n[r][0]).attr("y1",n[r][1]).attr("x2",n[(r+1)%4][0]).attr("y2",n[(r+1)%4][1])},drawDataHolderColumns:function(e){var o=this,a=e.selectAll("g").data(this.data).enter().append("g").attr("transform",function(e){return"translate("+o.getColumnOffsetX(e)+",0)"}),i=a.append("rect").attr("height",this.coordHeight).attr("width",o.getLastXScale().rangeBand()).attr("y",0).attr("class","interactionColumn");t.util.isTouch()||($(this.svg[0][0]).on("vclick",function(){o.showDetailBox(void 0)}),$(this.svg[0][0]).on("mouseover",function(e){var t=$(e.srcElement);"interactionColumn"===t.attr("class")&&o.hoveredColumn!==e.srcElement&&(o.showDetailBox(e.srcElement.__data__),i.classed("rectHover",!1),d3.select(e.srcElement).classed("rectHover",!0),o.hoveredColumn=e.srcElement)}),$(this.svg[0][0]).on("mouseleave",function(e){var t=$(e.srcElement);"interactionColumn"===t.attr("class")||$(e.relatedTarget).hasClass("popup")||$(e.relatedTarget).parents(".popup").length>0||(o.showDetailBox(void 0),i.classed("rectHover",!1),o.hoveredColumn=null,$(".guilin-chart .interactionColumn").removeClass("interactionColumn"))}))},showDetailBox:function(e){var t=d3.select("#guilin-static .popup");if(void 0===e)return t.style("display","none"),void 0;t.empty()&&(t=d3.select("#guilin-static").append("div").attr("class","popup")),t.style("display","block"),t.html("");var o=this.getColumnOffsetRelativeTo(e,document.getElementById("guilin-static"));o.left+=this.getLastXScale().rangeBand()/2,t.style("left",""+Math.round(o.left)+"px").style("top",""+Math.round(o.top)+"px");var a=t.append("ul"),i=this;return this.getArrayFromDatum(e).forEach(function(e){var t=a.append("li");t.append("div").attr("class","icon").style("background-color",i.colorTable[i.getMeasuresIndex(e.yAxisIndex,e.propertyIndex)]),t.append("span").attr("class","key").text(e.propertyName),t.append("span").attr("class","value").text(e.value)}),t.append("hr"),a=t.append("ul"),this.options.xAxis.value.forEach(function(t){var o=a.append("li");o.append("span").attr("class","key").text(t.propertyName),o.append("span").attr("class","value").text(e[t.propertyName])}),t},drawAxes:function(){var e=this.options.xAxis.visible===!1?0:this.options.xAxis.value.length;this.coordHeight=this.svg.attr("height")-(e+.5)*this.options.lineHeight-this.padding[0]-this.padding[2],this.coordWidth=this.svg.attr("width")-this.padding[1]-this.padding[3],void 0!==this.legend&&this.legend.remove(),this.legend=this.svg.append("g").attr("class","legend"),void 0!==this.coord&&this.coord.remove(),this.coord=this.svg.append("g").attr("class","coord"),this.xLabel=this.coord.append("g").attr("class","x-label"),this.xLabel.append("text").text(this.options.xLabel.value).attr("text-anchor","middle").attr("y",this.options.lineHeight/2).attr("dy",this.constVerticalTextOffset),this.options.xLabel&&this.options.xLabel.visible===!1&&this.xLabel.style("display","none"),this.coordHeight-=this.xLabel[0][0].getBBox().height,this.yAxis=[],this.yScale=[],this.options.yAxis.forEach(function(e,t,o){if(!(t>1)){var a=this.getLimit(e);this["y"+t]={limit:a};var i=d3.scale.linear().domain(a).range([this.coordHeight,0]);this.yScale.push(i);var s=d3.svg.axis().scale(i).orient(1>t?"left":"right").ticks(e.ticks).tickFormat(d3.format(e.tickFormat)),n=this.coord.append("g").attr("class","yAxis").call(s);n.append("text").text(e.label).attr("text-anchor","middle").attr("transform","rotate(-90)").attr("x",0-this.coordHeight/2).attr("y",n[0][0].getBBox().width*(1>t?-1.1:1.1)),e.visible===!1&&n.style("display","none"),this.yAxis.push(n);var r=1>t?0:this.options.lineHeight*o[t-1].propertyNames.length,l=this.legend.append("g").selectAll("g").data(e.propertyNames).enter().append("g").attr("class","legendItem").attr("transform",function(e,t){return"translate(0,"+(t*this.options.lineHeight+r)+")"}.bind(this));l.append("rect").attr("width",Math.floor(.9*this.options.lineHeight)).attr("height",Math.floor(.9*this.options.lineHeight)).style("fill",function(e,o){return this.colorTable[this.getMeasuresIndex(t,o)]}.bind(this)),l.append("text").attr("x",this.options.lineHeight).attr("y",this.options.lineHeight/2).attr("dy",this.constVerticalTextOffset).text(function(e){return e})}}.bind(this)),this.options.legend&&this.options.legend.visible===!1&&this.legend.style("display","none"),this.coordWidth-=this.legend[0][0].getBBox().width,this.legend.attr("transform","translate("+(this.coordWidth+this.padding[3])+","+this.padding[0]+")"),this.coordWidth-=this.yAxis[0][0][0].getBBox().width,this.yAxis.length>1&&(this.coordWidth-=this.yAxis[1][0][0].getBBox().width,this.yAxis[1].attr("transform","translate("+this.coordWidth+",0)")),this.coord.attr("transform","translate("+(this.yAxis[0][0][0].getBBox().width+this.padding[3])+","+(this.options.lineHeight/2+this.padding[0])+")"),this.xLabel.attr("transform","translate("+this.coordWidth/2+","+(this.coordHeight+this.options.lineHeight*this.options.xAxis.value.length)+")"),this.xScale=[],this.xAxis=this.coord.append("g").attr("class","xAxis").attr("transform","translate(0,"+this.coordHeight+")"),this.options.xAxis.visible===!1&&this.xAxis.style("display","none"),this.options.xAxis.value.forEach(function(e,t){var o=[0,1>t?this.coordWidth:this.xScale[t-1].rangeBand()],a=this.getxAxisDomain(e),i=d3.scale.ordinal().domain(a).rangeBands(o,0,0);this.xScale.push(i)}.bind(this));var t=function(e,o,a){void 0===a&&(a=1);var i=this.xAxis.append("g").attr("class","xAxis-group").attr("transform","translate("+o+","+(this.options.xAxis.value.length-1-e)*this.options.lineHeight+")"),s=this.getxAxisDomain(this.options.xAxis.value[e]),n=e+1===this.options.xAxis.value.length?1:0;this.drawAxisX(i,this.xScale[e],s,[n,a,1,1]),this.options.xAxis.value.length>e+1&&s.forEach(function(i,n){t(e+1,this.xScale[e](i)+o,1===a&&n+1===s.length?1:0)}.bind(this))}.bind(this);t(0,0),void 0!==this.dataLayer&&this.dataLayer.remove(),this.dataLayer=this.coord.append("g").attr("class","data"),void 0!==this.columnLayer&&this.columnLayer.remove(),this.columnLayer=this.coord.append("g").attr("class","columns"),this.drawDataHolderColumns(this.columnLayer)},drawData:function(){},getMeasuresIndex:function(e,t){var o=0,a=0;for(o;e>o;o++)a+=this.options.yAxis[o].propertyNames.length;return a+t},getLastXScale:function(){return this.xScale[this.xScale.length-1]},initChart:function(){void 0!==this.svg&&this.svg.remove(),this.svg=window.d3.select(this.domDivElement).append("svg").attr("class","guilin-chart"),this.resizeSvg()},refresh:function(){this.initChart(),this.drawAxes(),this.drawTitle(),this.drawData()},destroy:function(){this.svg.remove()}},Protected:{},Static:{}});return o}),define("sap.sbo.ui.widget.chart.column",["sap.core.klass","sap.sbo.ui.widget.chart.ChartBase"],function(){var e=this.getNS(),t=e.sap,o=t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.ui.widget.chart.ChartBase,Public:{init:function(){t.sbo.ui.widget.chart.ChartBase.prototype.init.apply(this,arguments)},getDataRowScale:function(){var e=[];this.options.yAxis.forEach(function(t){e=e.concat(t.propertyNames)});var t=this.xScale[this.xScale.length-1].rangeBand();this.xInnerScale=d3.scale.ordinal().domain(e).rangeBands([0,t],.1,.1)},drawData:function(){this.getDataRowScale();var e=this,t=this.dataLayer,o=t.append("g").attr("class","bars"),a=o.selectAll("g").data(this.data).enter().append("g").attr("transform",function(t){return"translate("+e.getColumnOffsetX(t)+",0)"});a.each(function(t){var o=e.getArrayFromDatum(t);d3.select(this).append("g").selectAll("rect").data(o).enter().append("rect").attr("x",function(t){return e.xInnerScale(t.propertyName)}).attr("y",function(t){return e.yScale[t.yAxisIndex](t.value)}).attr("width",e.xInnerScale.rangeBand()).attr("height",function(t){return e.coordHeight-e.yScale[t.yAxisIndex](t.value)}).style("fill",function(t){return e.colorTable[e.getMeasuresIndex(t.yAxisIndex,t.propertyIndex)]})})},destroy:function(){}},Protected:{},Static:{}});return o}),define("sap.sbo.ui.widget.chart.columnline",["sap.core.klass","sap.sbo.ui.widget.chart.ChartBase","sap.core.DataList"],function(){var e=this.getNS(),t=e.sap,o=t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.ui.widget.chart.ChartBase,Public:{init:function(){t.sbo.ui.widget.chart.ChartBase.prototype.init.apply(this,arguments)},getDataRowScale:function(){var e=[];e=this.options.yAxis[0].propertyNames;var t=this.xScale[this.xScale.length-1].rangeBand();this.xInnerScale=d3.scale.ordinal().domain(e).rangeBands([0,t],.1,.1)},drawData:function(){this.getDataRowScale();var e=this,o=this.dataLayer,a=o.append("g").attr("class","bars"),i=o.append("g").attr("class","lines"),s=e.getLastXScale().rangeBand(),n=e.options.yAxis[1];n.propertyNames.forEach(function(t,o){var a=d3.svg.line().x(function(t){return e.getColumnOffsetX(t)+s/2}).y(function(o){return e.yScale[1](o[t])});i.append("path").datum(e.data).attr("class","line").attr("d",a).style("stroke-width",2).style("fill","none").style("stroke",function(){return e.colorTable[e.getMeasuresIndex(1,o)]})});var r=i.selectAll("g").data(this.data).enter().append("g").attr("transform",function(t){return"translate("+e.getColumnOffsetX(t)+",0)"});r.each(function(o){var a=new t.core.DataList(e.getArrayFromDatum(o)),i=a.query("c=>c.yAxisIndex===1");d3.select(this).append("g").selectAll("circle").data(i).enter().append("circle").attr("cx",function(){return e.getLastXScale().rangeBand()-s/2}).attr("cy",function(t){return e.yScale[t.yAxisIndex](t.value)}).attr("r",4).style("fill",function(t){return e.colorTable[e.getMeasuresIndex(t.yAxisIndex,t.propertyIndex)]})});var l=a.selectAll("g").data(this.data).enter().append("g").attr("transform",function(t){return"translate("+e.getColumnOffsetX(t)+",0)"});l.each(function(o){var a=new t.core.DataList(e.getArrayFromDatum(o)),i=a.query("c=>c.yAxisIndex===0");d3.select(this).append("g").selectAll("rect").data(i).enter().append("rect").attr("x",function(t){return e.xInnerScale(t.propertyName)}).attr("y",function(t){return e.yScale[t.yAxisIndex](t.value)}).attr("width",e.xInnerScale.rangeBand()).attr("height",function(t){return e.coordHeight-e.yScale[t.yAxisIndex](t.value)}).style("fill",function(t){return e.colorTable[e.getMeasuresIndex(t.yAxisIndex,t.propertyIndex)]})})},destroy:function(){}},Protected:{},Static:{}});return o}),define("sap.sbo.ui.widget.chart.line",["sap.core.klass","sap.sbo.ui.widget.chart.ChartBase","sap.core.DataList"],function(){var e=this.getNS(),t=e.sap,o=t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.sbo.ui.widget.chart.ChartBase,Public:{init:function(){t.sbo.ui.widget.chart.ChartBase.prototype.init.apply(this,arguments)},drawData:function(){var e=this,t=this.dataLayer.append("g").attr("class","lines"),o=e.getLastXScale().rangeBand(0);e.options.yAxis.forEach(function(a,i){a.propertyNames.forEach(function(a,s){var n=d3.svg.line().x(function(t){return e.getColumnOffsetX(t)+o/2}).y(function(t){return e.yScale[i](t[a])});t.append("path").datum(e.data).attr("class","line").attr("d",n).style("stroke-width",2).style("fill","none").style("stroke",function(){return e.colorTable[e.getMeasuresIndex(i,s)]})})});var a=t.selectAll("g").data(this.data).enter().append("g").attr("transform",function(t){return"translate("+e.getColumnOffsetX(t)+",0)"});a.each(function(t){var a=e.getArrayFromDatum(t);d3.select(this).append("g").selectAll("circle").data(a).enter().append("circle").attr("cx",function(){return e.getLastXScale().rangeBand()-o/2}).attr("cy",function(t){return e.yScale[t.yAxisIndex](t.value)}).attr("r",4).style("fill",function(t){return e.colorTable[e.getMeasuresIndex(t.yAxisIndex,t.propertyIndex)]})})},destroy:function(){}},Protected:{},Static:{}});return o}),define("sap.sbo.page.BaseBoListViewController",["sap.core.klass","sap.ui.Controller","sap.log","sap.ui.common","sap.core.JsonModel","sap.core.event.BehaviorCommand","sap.sbo.util.metadataHelper","sap.sbo.ui.PageController","sap.sbo.ui.widget.ListManipulator","json!sap.sbo.util.enums","sap.sbo.util.permissionUtil"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.PageController,Public:{init:function(){t.sbo.ui.PageController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{_$manipulator:null,_oManipulatorModel:new t.core.JsonModel({}),__fListManipulatedProxy:$.proxy(this.__fListManipulated,this),__fnBodyOnClickProxy:$.proxy(this.__fBodyOnClick,this),_fnRecalcPositionProxy:$.proxy(this._fnRecalcPosition,this),_fOpenManipulatorProxy:$.proxy(this._fOnOpeningManipulator,this),__$manipulatorTarget:null,_bManipulatorOpened:!1,_bSortEnabled:!1,_bFilterEnabled:!1,_bAllowListOperation:!0,_nsProcess:{},__aHeaderFilters:[],__sDeviceType:""})},destroy:function(){this._nsProcess=null,this._bAllowListOperation&&(this.__$manipulatorTarget=null,this._oManipulatorModel.destroy(),this._oManipulatorModel=null,this.disableFeatures())},initView:function(){t.ui.Controller.prototype.initView.apply(this,arguments);var e=$.Deferred(),o=this,a=this.getBoNameEntity();return this.__sDeviceType=window.SboShell.callFeatureMethod("shell.getDeviceType"),$.when(t.sbo.ui.PageController.prototype.initView.apply(this,arguments),this.getService().getMetadata(a.boNamespace,a.boName)).done(function(a,i){if(o._bAllowListOperation=o.allowListOperation(),o._bAllowListOperation){o.$('div[data-sap-template="PropertyTemplate"]').length>0?(o._oManipulatorModel.setValue("filterTemplate",o.$('div[data-sap-template="PropertyTemplate"]').html()),o.$('div[data-sap-template="PropertyTemplate"]').remove().empty()):o._oManipulatorModel.setValue("filterTemplate","");var s=o._convertBOMetadata(i);o._oManipulatorModel.setValue("source",o.getListSource()),o._oManipulatorModel.setValue("sort",s.sort),o._oManipulatorModel.setValue("filter",s.filter),o._oManipulatorModel.setValue("quickFilters",o.__prepareQuickFilters()),o._oManipulatorModel.setValue("enumTypes",s.enumTypes),o.enableFeatures(s);var n=t.ui.common.getStaticContainer();o._$manipulator=$("<div>").attr({"data-sap-widget":"sap.sbo.ui.widget.ListManipulator","data-sap-option":"quickFilters: {{manipulatorModel@quickFilters}}, source: {{manipulatorModel@source}}, enumTypes: {{manipulatorModel@enumTypes}}, sort: {{manipulatorModel@sort}}, filter: {{manipulatorModel@filter}}, filterTemplate: {{manipulatorModel@filterTemplate}}"}).addClass("list-manipulator").addClass(o.__sDeviceType).hide(),n.append(o._$manipulator),o._$manipulator.setModel(o._oManipulatorModel,"manipulatorModel"),o._$manipulator.process(o.getProcessContext()),o._$manipulator.getControl().attachEvent("listManipulated",o.__fListManipulatedProxy),o.adaptTitleForListView(o._fOpenManipulatorProxy)}e.resolve(a,i)}).fail(function(t){e.reject(t)}),e.promise()},destroyView:function(){this._bAllowListOperation&&(window.SboShell.resetTitle(),this._$manipulator.getControl().detachEvent("listManipulated",this.__fListManipulatedProxy),this._$manipulator.unprocess(),this._$manipulator.remove(),this._$manipulator=null),t.sbo.ui.PageController.prototype.destroyView.apply(this,arguments)},update:function(){},setProcessContext:function(e){this._nsProcess=e},enableFeatures:function(e){e.sort.length>0&&(this._bSortEnabled=!0),e.filter.length>0&&(this._bFilterEnabled=!0)},disableFeatures:function(){this._bSortEnabled=!1,this._bFilterEnabled=!1},allowListOperation:function(){return!0},getMainControl:function(){t.log.error("Not implemented")},getProcessContext:function(){t.log.error("Not implemented")},getService:function(){t.log.error("Not implemented")},getBoNameEntity:function(){t.log.error("Not implemented")},getListSource:function(){t.log.error("Not implemented")},getSortFields:function(){t.log.error("Not implemented")},getQuickFilters:function(){return{}},canQuery:function(){return t.sbo.util.permissionUtil.canQuery(this.getBoNameEntity())},canCreate:function(){return t.sbo.util.permissionUtil.canCreate(this.getBoNameEntity())},_fnRecalcPosition:function(){"phone"!==this.__sDeviceType&&this._$manipulator.css({left:this.__$manipulatorTarget.offset().left+this.__$manipulatorTarget.width()/2-this._$manipulator.width()/2})}},Protected:{__fListManipulated:function(e,t){window.SboShell.updateTitleForListView(e),t&&this.__closeManipulator()},__fBodyOnClick:function(){this.__closeManipulator()},__openManipulator:function(){this._bManipulatorOpened||(window.SboShell.$().on("vclick",this.__fnBodyOnClickProxy),$(window).on("resize",this._fnRecalcPositionProxy),this._$manipulator.show().removeClass("hidden"),this._fnRecalcPosition(),this._bManipulatorOpened=!0)},__closeManipulator:function(){this._bManipulatorOpened&&(window.SboShell.$().off("vclick",this.__fnBodyOnClickProxy),$(window).off("resize",this._fnRecalcPositionProxy),this._$manipulator.addClass("hidden"),this._bManipulatorOpened=!1)},__prepareQuickFilters:function(){var e=!0,t=this.getQuickFilters(),o=[];if(t)for(var a in t)o.push({visible:!0,selected:e,key:a,expr:t[a].expr,label:t[a].label,description:t[a].description});return o},_fOnOpeningManipulator:function(e){this.__$manipulatorTarget=$(e.currentTarget),this._bManipulatorOpened?this.__closeManipulator():this.__openManipulator(),e.stopPropagation()},_convertBOMetadata:function(e){return t.sbo.util.metadataHelper.convert(e)}}})}),define("sap.sbo.page.BaseBoHomeController",["sap.ui.Controller","sap.sbo.services.FeedService","sap.core.GuardedTimer","sap.sbo.ui.PageController","sap.sbo.util.permissionUtil","sap.log","sap.sbo.util.metadataHelper","sap.sbo.localization.Helper","sap.sbo.shell.IFeaturable"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.FollowButtonKey="action_button_key_follow",e.GetBoEntityKey="bo.getBoEntityKey",e.GetThingId="network.getThingId",t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,Interfaces:[t.sbo.shell.IFeaturable],ControllerBase:t.sbo.ui.PageController,Public:{init:function(){t.sbo.ui.PageController.prototype.init.apply(this,arguments),this.declareMember({__oBaseFeedService:this.autoDestroy(new t.sbo.services.FeedService),__bFollowed:!1,__fnOnActionButtonClickProxy:$.proxy(this.__fnOnActionButtonClick,this),__oTimer:this.autoDestroy(new t.core.GuardedTimer),__dThingId:$.Deferred(),__sThingId:$.Deferred(),__oDataOwnership:null,__bNetworkFeatureRequired:!0,__mActionPermissions:{}})},destroy:function(){},initView:function(){var o=this,a=$.Deferred(),i=this.getBoKeyEntity();return $.when(t.sbo.ui.PageController.prototype.initView.apply(this,arguments)).done(function(){this.getService().getMetadata(i.boNamespace,i.boName).done(function(s){var n=window.SboShell;n.addFeature(o,e.GetBoEntityKey,"method"),o.autoDestroy("remove feature GetBoEntityKey",function(){n.removeFeature(e.GetBoEntityKey)}),o.__bNetworkFeatureRequired&&(n.attachEvent("actionButtonClick",o.__fnOnActionButtonClickProxy),window.SboShell.addFeature(o,e.GetThingId,"method"),o.autoDestroy("remove feature GetThingId",function(){n.removeFeature(e.GetThingId),n.detachEvent("actionButtonClick",o.__fnOnActionButtonClickProxy)}),o.__getThingID()),o.__oDataOwnership&&o.__oDataOwnership.registerAssignButton(i);var r=t.sbo.util.metadataHelper.convert(s).actions;$.when(t.sbo.util.permissionUtil.loadActionPermissions(i,r)).done(function(e){o.__mActionPermissions=e,a.resolve(s)}).fail(function(){a.resolve(s)})}).fail(function(e){a.reject(e)})}.bind(this)),a.promise()},destroyView:function(){},getPermissionByAction:function(e){return e&&this.__mActionPermissions.hasOwnProperty(e)?this.__mActionPermissions[e]:null},getService:function(){t.log.error("not implemented")},update:function(){},setObserver:function(e){this.__oDataOwnership=e},getBoKeyEntity:function(){t.log.error("Not implemented")},doFeature:function(t){return t===e.GetBoEntityKey?this.getBoKeyEntity():t===e.GetThingId?this.__dThingId:null},convertBoKey:function(e){for(var t={},o=0;e.length>o;o++)t[e[o].keyName]=e[o].keyValue;return t}},Protected:{__getThingID:function(){function e(){t&&$.when(o.__oBaseFeedService.getThingID(t)).done(function(t){-1!==t?(o.__dThingId.resolve(t),o.__sThingID=t,o.__getFollowedStatus()):(++a,5===a?o.__dThingId.reject():o.__oTimer.setTimeout(e,5e3))}).fail(function(){o.__dThingId.reject()})}var t=this.getBoKeyEntity(),o=this,a=0;e()},__getFollowedStatus:function(){var o=this;$.when(o.__oBaseFeedService.loadThingStatus(o.__sThingID)).done(function(a){if(a&&(o.__bFollowed=a.followed,!a.disable)){var i={text:o.__bFollowed?t.sbo.localization.Helper.get("app/network/UNFOLLOW"):t.sbo.localization.Helper.get("app/network/FOLLOW"),key:e.FollowButtonKey};window.SboShell.addActionButtons(i,o)}}).fail(function(){})},__fnOnActionButtonClick:function(o){var a=this;o===e.FollowButtonKey&&$.when(a.__oBaseFeedService.follow(this.__sThingID,a.__bFollowed)).done(function(o){o&&(a.__bFollowed=!a.__bFollowed,window.SboShell.updateActionButton({key:e.FollowButtonKey,text:a.__bFollowed?t.sbo.localization.Helper.get("app/network/UNFOLLOW"):t.sbo.localization.Helper.get("app/network/FOLLOW")}),a.__bFollowed?window.SboShell.raiseMessage(t.sbo.localization.Helper.get("bo/follow/success"),"success"):window.SboShell.raiseMessage(t.sbo.localization.Helper.get("bo/unfollow/success"),"success"))}).fail(function(){})}}})}),define("sap.sbo.page.BaseBoMetadataCreationFrameController",["sap.ui.Controller","sap.sbo.ui.FrameViewController","sap.core.JsonModel","sap.sbo.util.metadataHelper","sap.util","sap.log","sap.core.DestroyPool","sap.core.GuardedTimer","html!sap.sbo.app.template.DynamicProperty","css!sap.sbo.app.template.DynamicProperty","sap.sbo.core.BoException","sap.core.ControlBindableElement","sap.ui.IErrorState"],function(){"use strict";var e=this.getNS(),t=e.sap,o=t.sbo.ui.FrameViewController;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:o,Options:{boData:{type:"any",defaultValue:void 0}},Public:{init:function(){o.prototype.init.apply(this,arguments),this.declareMember({_oMetadataValueModel:new t.core.JsonModel({}),__oOnChangePaths:[],__oTimer:this.autoDestroy(new t.core.GuardedTimer),__oldOnPropertyChangeDtD:null,__dirty:!1})},destroy:function(){this._oMetadataValueModel.destroy()},initView:function(){var o=$.Deferred(),a=this;this.__oDestroyPool=new t.core.DestroyPool;var i=this.getBoType();this._oMetadataValueModel.setValue("",{}),this.$().setModel(this._oMetadataValueModel);var s=null;return this.$().on("GuilinControlEvent.inputError",function(){this.__oldOnPropertyChangeDtD&&"pending"===this.__oldOnPropertyChangeDtD.state()&&this.__oldOnPropertyChangeDtD.cancel(),s&&s.cancel()}.bind(this)),this.__oDestroyPool.add(this.$(),function(){this.off("GuilinControlEvent.inputError")}),this._oMetadataValueModel.attachEvent("valueChanged",function(e,o,i){function n(){t.util.showLoading(),this.__oldOnPropertyChangeDtD&&"pending"===this.__oldOnPropertyChangeDtD.state()&&this.__oldOnPropertyChangeDtD.cancel(),this.__oldOnPropertyChangeDtD=a.getService().onPropertyChange(a._oMetadataValueModel.getValue(""),l,"PropertyUpdate"),$.when(this.__oldOnPropertyChangeDtD).done(function(e){a._oMetadataValueModel.setValue("",e).done(function(){a.getMainControl().setOption("dynamicMeta",t.sbo.util.metadataHelper.convertDynamicMeta(e["sbo.dynamicmeta"]).properties).done(function(){a.getMainControl().refreshScroll()})})}).fail(function(e){e&&"abort"===e.__msg||(e instanceof t.sbo.core.BoException&&a.showErrorByExpr(e.getField(),e.getMessage()),window.SboShell.raiseException(e))}).always(function(){this.enableActionButtons(),t.util.hideLoading()}.bind(this))}""!==e&&(this.__dirty=!0);var r=null,l="Root/"+e+"/"+o;l=l.substr(0,l.indexOf("@")).replace(/\/$/,"");var d=l.split("/").filter(function(e){return isNaN(Number(e))}).join("/");-1!==a.__oOnChangePaths.indexOf(d)&&(t.log.info("do property change:"+e+o),i&&"change"!==i.eventType?(this.__oldOnPropertyChangeDtD&&"pending"===this.__oldOnPropertyChangeDtD.state()&&this.__oldOnPropertyChangeDtD.cancel(),this.disableActionButtons(),r=this.__oTimer.setTimeout(function(){r===s&&n.call(this)}.bind(this),1e3)):n.call(this),s=r)
}.bind(this)),this.process(),t.util.showLoading(),$.when(this.getService().getMetadata(i.boNamespace,i.boName),this.getOption("boData")||this.getInitBo()).done(function(i,s){a._oMetadataValueModel.setValue("",s);var n=t.sbo.util.metadataHelper.convert(i);a.__oOnChangePaths=n.onChangePaths,$.when(a.getMainControl().setOption({metadata:n.properties,enumMeta:n.enumTypes,propertyTemplate:e.html.sap.sbo.app.template.DynamicProperty,dynamicMeta:t.sbo.util.metadataHelper.convertDynamicMeta(s["sbo.dynamicmeta"]).properties})).done(function(){o.resolve(n,s)})}).fail(function(e){window.SboShell.raiseException(e),o.reject(e)}).always(function(){t.util.hideLoading()}),o.promise()},destroyView:function(){this.$().unprocess(e),this.__oDestroyPool.destroy(),this.__oDestroyPool=null},update:function(){},getMainControl:function(){t.log.error("Not implemented")},getService:function(){t.log.error("Not implemented")},getInitBo:function(){return this.getService().getInit()},process:function(){t.log.error("Not implemented")},showErrorByExpr:function(e,o){for(var a=this,i=a._oMetadataValueModel.getBindElementsByExpr(e),s=0;i.length>s;s++)i[s]&&i[s]instanceof t.core.ControlBindableElement&&i[s].getControl().isInterfaceOf(t.ui.IErrorState)&&i[s].getControl().setErrorState(o,5e3)},boCreate:function(){var e=$.Deferred(),o=this,a=this._oMetadataValueModel.getValue("");try{$.when(o.boValidate(a)).done(function(){$.when(o.getService().create(a)).done(function(t){e.resolve(t)}).fail(function(a){a instanceof t.sbo.core.BoException&&o.showErrorByExpr(a.getField(),a.getMessage()),e.reject(a)})}).fail(function(a){a instanceof t.sbo.core.BoException&&o.showErrorByExpr(a.getField(),a.getMessage()),e.reject(a)})}catch(i){e.reject(i)}return e.promise()},boValidate:function(){},getModel:function(){return this._oMetadataValueModel}},Protected:{}})}),define("sap.sbo.page.BaseBoMetadataEditController",["sap.core.klass","sap.ui.Controller","sap.log","sap.core.JsonModel","sap.sbo.util.metadataHelper","sap.util","sap.core.DestroyPool","sap.sbo.ui.PageController","sap.ui.IErrorState","sap.core.ControlBindableElement","sap.sbo.core.BoException","sap.sbo.services.UserPropertiesService","sap.sbo.services.SystemPropertyExtensionsService","sap.sbo.layout.BaseLayoutMenuButtonUtil","html!sap.sbo.app.template.DynamicProperty","sap.sbo.compoundservices.LayoutService","css!sap.sbo.app.template.DynamicProperty","css!sap.sbo.page.BaseBoMetadataEditController","sap.sbo.localization.Helper","sap.core.GuardedTimer","sap.sbo.util.permissionUtil"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.PageController,Public:{init:function(){t.sbo.ui.PageController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{_oMetadataValueModel:new t.core.JsonModel({}),_oValueMaskModel:this.autoDestroy(new t.core.JsonModel({})),__oOnChangePaths:[],__UserPropService:this.autoDestroy(new t.sbo.services.UserPropertiesService),__SysPropService:this.autoDestroy(new t.sbo.services.SystemPropertyExtensionsService),__oLayoutService:this.autoDestroy(new t.sbo.compoundservices.LayoutService),__oTimer:this.autoDestroy(new t.core.GuardedTimer),__oldOnPropertyChangeDtD:null,__old:null,__oldSequence:null});var e=function(e){this["on_"+e]&&this["on_"+e]()}.bind(this);window.SboShell.attachEvent("actionButtonClick",e),this.autoDestroy("detach actionButtonClick",function(){window.SboShell.detachEvent("actionButtonClick",e)})},destroy:function(){this._oMetadataValueModel.destroy()},initView:function(){t.sbo.ui.PageController.prototype.initView.apply(this,arguments),this.__oDestroyPool=new t.core.DestroyPool;var o=$.Deferred(),a=this;this._oMetadataValueModel.setValue("",{}),this.$().setModel(this._oMetadataValueModel);var i=null;this.$().on("GuilinControlEvent.inputError",function(){this.__oldOnPropertyChangeDtD&&"pending"===this.__oldOnPropertyChangeDtD.state()&&this.__oldOnPropertyChangeDtD.cancel(),i&&i.cancel()}.bind(this)),this.__oDestroyPool.add(this.$(),function(){this.off("GuilinControlEvent.inputError")}),this._oMetadataValueModel.attachEvent("valueChanged",function(e,o,s){function n(){t.util.showLoading(),this.__oldOnPropertyChangeDtD&&"pending"===this.__oldOnPropertyChangeDtD.state()&&this.__oldOnPropertyChangeDtD.cancel(),this.__oldOnPropertyChangeDtD=a.getService().onPropertyChange(a.boGetMaskedValue(),l,"PropertyUpdate"),$.when(this.__oldOnPropertyChangeDtD).done(function(e){a._oMetadataValueModel.setValue("",e),a.getMainControl().setOption("dynamicMeta",t.sbo.util.metadataHelper.convertDynamicMeta(e["sbo.dynamicmeta"]).properties)}).fail(function(e){e instanceof t.sbo.core.BoException&&a.showErrorByExpr(e.getField(),e.getMessage())}).always(function(){this.enableActionButtons(),t.util.hideLoading()}.bind(this))}var r=null,l=e+"/"+o;l=l.substr(0,l.indexOf("@")).replace(/\/$/,"");var d="Root/"+l.split("/").filter(function(e){return isNaN(Number(e))}).join("/");-1!==a.__oOnChangePaths.indexOf(d)&&(this._oValueMaskModel.setValue(l,void 0),this.onValueChanged(d,l.replace(/\/[^\/]*$/,"/")),l="Root/"+l,s&&"change"!==s.eventType?(this.__oldOnPropertyChangeDtD&&"pending"===this.__oldOnPropertyChangeDtD.state()&&this.__oldOnPropertyChangeDtD.cancel(),this.disableActionButtons(),r=this.__oTimer.setTimeout(function(){r===i&&n.call(this)}.bind(this),1e3)):n.call(this),i=r)}.bind(this)),this.process();var s=this.getBoKeyEntity();return $.when(this.getService().getMetadata(s.boNamespace,s.boName),this.getService().get(this.convertBoKey(s.keyElements)),this.__oLayoutService.getLayoutBO(SboShell.__deviceType,s.boName,s.boNamespace)).done(function(i,s,n){function r(e,o,i){var s=a.getBoKeyEntity(),n={boName:s.boName,boNodeTypeName:void 0,boNamespace:s.boNamespace,propertyName:i.name},r=null;r=i.userDefined?a.__UserPropService:a.__SysPropService,t.util.showLoading(),$.when(r.query(a.__getFilterParam(n))).done(function(o){function n(){for(var t=a.getMainControl().getOption("metadata"),o=0;t.length>o&&t[o].property!==i.name;++o);o!==t.length&&(t[o].option.enabled=e),$.when(a.getMainControl().setOption("metadata",t)).done(function(){for(var t=a.getMainControl(),o=0;t.__$properties.length>o;++o)if(t.__$properties[o].attr("gl-property")===i.name){var s=t.__$properties.splice(o,1);t.__$properties.splice(e?t.__$properties.length:0,0,s[0]);break}t.__reLayout()})}function l(){}var d={};d.name=i.name,d.enabled=e,d.boName=s.boName,d.boNamespace=s.boNamespace,d.boNodeTypeName=null,0===o.value.length?i.userDefined||$.when(r.create(d)).done(n).fail(l).always(function(){t.util.hideLoading()}):$.when(r.update(d,o.value[0])).done(n).fail(l).always(function(){t.util.hideLoading()})}).fail(function(){t.util.hideLoading()})}a._oMetadataValueModel.setValue("",s),t.sbo.util.permissionUtil.canEdit(a.getBoKeyEntity())&&a.canEdit()&&window.SboShell.addActionButtons([{key:"save",text:t.sbo.localization.Helper.get("common/SAVE")},{key:"cancel",text:t.sbo.localization.Helper.get("common/CANCEL")},{key:"edit",text:t.sbo.localization.Helper.get("common/EDIT")}],a),a.exitEditMode();var l=t.sbo.util.metadataHelper.convert(i);a.__oOnChangePaths=l.onChangePaths;var d=null;n&&(d=n.layoutBOFields.value.map(function(e){return{uuid:e.uuid}})),$.when(a.getMainControl().setOption({metadata:l.properties,enumMeta:l.enumTypes,propertyTemplate:e.html.sap.sbo.app.template.DynamicProperty,dynamicMeta:t.sbo.util.metadataHelper.convertDynamicMeta(s["sbo.dynamicmeta"]).properties,readonly:!0,sequence:d})).done(function(){o.resolve(s,l,t.sbo.util.metadataHelper.convertDynamicMeta(s["sbo.dynamicmeta"]))}),a.getMainControl().attachEvent("removeField",r.bind(this,!1)),a.getMainControl().attachEvent("addField",r.bind(this,!0)),a.getMainControl().attachEvent("editField",function(e){var o=a.getBoKeyEntity();t.util.showLoading(),$.when(a.getService().getPropertyMetadata(o.boNamespace,o.boName,null,e)).done(function(e){window.SboShell.openFrame({view:"sap.sbo.page.pad.EditMetaDataField",type:"right",options:{boName:o.boName,boNodeTypeName:null,boNamespace:o.boNamespace,property:e},callback:function(e,t){if(t){for(var o=a.getMainControl().getOption("metadata"),i=0;o.length>i&&o[i].property!==t.property.name;++i);i!==o.length&&(o[i].option=t.property),$.when(a.getMainControl().setOption("metadata",o)).done(function(){a.getMainControl().__reLayout()})}}})}).fail(function(){}).always(function(){t.util.hideLoading()})})}).fail(function(e){window.SboShell.raiseException(e),o.reject(e)}),o.promise()},destroyView:function(){this.$().unprocess(),this.__oDestroyPool.destroy(),this.__oDestroyPool=null,t.sbo.ui.PageController.prototype.destroyView.apply(this,arguments)},update:function(){},disableActionButtons:function(){window.SboShell.disableActionButtons(["save","cancel"])},enableActionButtons:function(){window.SboShell.enableActionButtons(["save","cancel"])},canEdit:function(){return!0},startCustomize:function(e){this.getMainControl().setOption("editable",!0),this.__oldSequence=this.getMainControl().getMergedSequence().slice(),window.SboShell.hideActionButtons(["edit"]),e&&(this.$().addClass("meta-edit-global-layout"),this.$().attr("gl-label",t.sbo.localization.Helper.get("common/GLOBAL_LAYOUT")))},stopCustomize:function(){this.getMainControl().setOption("editable",!1),window.SboShell.showActionButtons(["edit"]),this.$().removeClass("meta-edit-global-layout")},boSave:function(){var e=$.Deferred(),o=this,a=this.boGetMaskedValue();try{$.when(o.boValidate(a)).done(function(){$.when(o.getService().update(a,o.convertBoKey(o.getBoKeyEntity().keyElements))).done(function(a){o._oMetadataValueModel.setValue("",a),o.getMainControl().setOption("dynamicMeta",t.sbo.util.metadataHelper.convertDynamicMeta(a["sbo.dynamicmeta"]).properties),e.resolve(a),window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/CHANGES_SAVED"),"success")}).fail(function(a){a instanceof t.sbo.core.BoException&&o.showErrorByExpr(a.getField(),a.getMessage()),e.reject(a)})}).fail(function(a){a instanceof t.sbo.core.BoException&&o.showErrorByExpr(a.getField(),a.getMessage()),e.reject(a)})}catch(i){i instanceof t.sbo.core.BoException&&o.showErrorByExpr(i.getField(),i.getMessage()),e.reject(i)}return e.promise()},boValidate:function(){},boGetValue:function(e){return this._oMetadataValueModel.getValue(e||"")},getBoModel:function(){return this._oMetadataValueModel},boGetMaskedValue:function(){return $.extend(!0,this._oMetadataValueModel.getValue(""),this._oValueMaskModel.getValue(""))},onValueChanged:function(){},doFeature:function(){return t.sbo.ui.PageController.prototype.doFeature.apply(this,arguments)},showErrorByExpr:function(e,o){for(var a=this,i=a._oMetadataValueModel.getBindElementsByExpr(e),s=0;i.length>s;s++)i[s]&&i[s]instanceof t.core.ControlBindableElement&&i[s].getControl().isInterfaceOf(t.ui.IErrorState)&&i[s].getControl().setErrorState(o,5e3)},getMainControl:function(){t.log.error("Not implemented")},getService:function(){t.log.error("Not implemented")},process:function(){t.log.error("Not implemented")},__getFilterParam:function(e){var t=e.boNodeTypeName,o="boName eq '"+e.boName+"'",a="boNamespace eq '"+e.boNamespace+"'",i="name eq '"+e.propertyName+"'",s="";s=void 0==t?"boNodeTypeName eq null":"boNodeTypeName eq '"+t+"'";var n={filter:a+" and "+o+" and "+s+" and "+i};return n},on_edit:function(){this.__old={value:$.extend(!0,{},this._oMetadataValueModel.getValue("")),dynamicMeta:this.getMainControl().getOption("dynamicMeta")},this.enterEditMode()},on_save:function(){t.util.showLoading();var e=$.Deferred();return $.when(this.boSave()).done(function(t){$.when(this._oMetadataValueModel.setValue("",t)).done(function(){e.resolve(t),this.exitEditMode()}.bind(this))}.bind(this)).fail(function(t){window.SboShell.raiseException(t),e.reject(t)}).always(function(){t.util.hideLoading()}),e.promise()},on_cancel:function(){$.when(this._oMetadataValueModel.setValue("",this.__old.value),this.getMainControl().setOption("dynamicMeta",this.__old.dynamicMeta)).done(function(){this.exitEditMode()}.bind(this))},exitEditMode:function(){window.SboShell.showActionButtons(["edit"]),window.SboShell.hideActionButtons(["save","cancel"]),this.getMainControl().setOption("readonly",!0)},enterEditMode:function(){window.SboShell.showActionButtons(["save","cancel"]),window.SboShell.hideActionButtons(["edit"]),this.getMainControl().setOption("readonly",!1)},onLayoutPublish:function(){t.util.showLoading();var e=this.getBoKeyEntity();$.when(this.__oLayoutService.saveGlobalLayoutBO(SboShell.__deviceType,{boNameSpace:e.boNamespace,boName:e.boName,boNodeName:null,layoutBOFields:this.getMainControl().getMergedSequence().map(function(e,t){return{uuid:e.uuid,fieldOrder:t}})})).done(function(){this.getMainControl().setOption("sequence",this.__oldSequence)}.bind(this)).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()}),this.stopCustomize()},onLayoutCancel:function(){this.stopCustomize(),this.getMainControl().setOption("sequence",this.__oldSequence)},onLayoutSave:function(){t.util.showLoading();var e=this.getBoKeyEntity();$.when(this.__oLayoutService.saveLayoutBO(SboShell.__deviceType,{boNameSpace:e.boNamespace,boName:e.boName,boNodeName:null,layoutBOFields:this.getMainControl().getMergedSequence().map(function(e,t){return{uuid:e.uuid,fieldOrder:t}})})).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()}),this.stopCustomize()},onLayoutPersonalization:function(){this.startCustomize()},onLayoutCustomization:function(){t.util.showLoading();var e=this.getBoKeyEntity();$.when(this.__oLayoutService.getGlobalLayoutBO(SboShell.__deviceType,e.boName,e.boNamespace)).done(function(e){var t=[];e&&(t=e.layoutBOFields.value.map(function(e){return{uuid:e.uuid}})),$.when(this.getMainControl().setOption("sequence",t)).done(function(){this.startCustomize(!0)}.bind(this))}.bind(this)).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()})},onLayoutAddNewField:function(){},onLayoutRestore:function(){t.util.showLoading();var e=this.getBoKeyEntity();$.when(this.__oLayoutService.applyGolbalLayoutBO(SboShell.__deviceType,e.boName,e.boNamespace)).done(function(e){var t=null;e&&(t=e.layoutBOFields.value.map(function(e){return{uuid:e.uuid}})),this.getMainControl().setOption("sequence",t)}.bind(this)).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()}),this.stopCustomize()}},Protected:{convertBoKey:function(e){for(var t={},o=0;e.length>o;o++)t[e[o].keyName]=e[o].keyValue;return t}}})}),define("sap.sbo.page.BaseSubBoMetadataView",["sap.ui.Controller","sap.sbo.ui.FrameViewController","sap.sbo.util.metadataHelper","sap.util","sap.log","sap.core.DestroyPool","sap.sbo.ui.Loop","sap.core.JsonModel","sap.core.GuardedTimer","sap.core.event.BehaviorCommand","html!sap.sbo.app.template.DynamicProperty","css!sap.sbo.app.template.DynamicProperty","html!sap.sbo.page.BaseSubBoMetadataView","css!sap.sbo.page.BaseSubBoMetadataView"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Interfaces:[],Events:[],Options:{boData:{type:"any",defaultValue:void 0}},Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments),this.declareMember({__oService:null,__oModel:this.autoDestroy(new t.core.JsonModel),_oValueMaskModel:this.autoDestroy(new t.core.JsonModel),__oEventModel:this.autoDestroy(new t.core.JsonModel({editAndCreate:new t.core.event.BehaviorCommand(this,this.onEditAndCreate)})),__oMetaModel:this.autoDestroy(new t.core.JsonModel({})),__oSettingModel:this.autoDestroy(new t.core.JsonModel({})),__oTitlesModel:this.autoDestroy(new t.core.JsonModel({title:"",subTitle:""})),__oIScroll:null,__oldSize:null,__oLoop:null,__oOnChangePaths:[],__oTimer:this.autoDestroy(new t.core.GuardedTimer),__isInFrame:!1,__oldOnPropertyChangeDtD:null,__globalDynamicMeta:null,__meta:null,__oMetaHeader:null})},destroy:function(){},initView:function(o,a){var i=$.Deferred();this.__oDestroyPool=new t.core.DestroyPool;var s=[].reduce.call(this.$().children().filter("[data-sap-template]"),function(e,t){var o=$(t).remove();return e[o.attr("data-sap-template")]=o.children(),e},{});this.$().html(e.html.sap.sbo.page.BaseSubBoMetadataView),this.$('[data-id="sbo-subbo-metadata-view"]>.header').append(s.header).append(o.header).children(".header-fields").append(s.headerFields),this.$('[data-id="sbo-subbo-metadata-view"]>.list').prepend(o.itemsLabel).children(".labels").append(s.itemFields&&s.itemFields.clone()),this.$('[data-id="sbo-subbo-metadata-view"]>.list>.container>.items>.item>.header').append(s.itemHeader).append(o.itemHeader),this.$('[data-id="sbo-subbo-metadata-view"]>.list>.container>.items>.item').append(o.itemFields).children(".fields").append(s.itemFields&&s.itemFields.clone()),this.$('[data-id="sbo-subbo-metadata-view"]>.list>.container>.items').attr("data-sap-option","inverseOrder:true, data: {{"+this.getSubNodeBindPath()+" ,two-way}}"),this.$().prepend(s.pageHeader),this.$().prepend(o.pageHeader),this.$('[data-id="sbo-subbo-metadata-page-header"]>.buttons').prepend(s.pageHeaderButtons),this.getOption("boData")&&(this.$().addClass("in-frame-sub-bo"),this.__isInFrame=!0),this.__constructEmpty();var n=null;this.$().on("GuilinControlEvent.inputError",function(){this.__oldOnPropertyChangeDtD&&"pending"===this.__oldOnPropertyChangeDtD.state()&&this.__oldOnPropertyChangeDtD.cancel(),n&&n.cancel()}.bind(this)),this.__oDestroyPool.add(this.$(),function(){this.off("GuilinControlEvent.inputError")});var r=function(e,o,a){function i(){t.util.showLoading(),this.__oldOnPropertyChangeDtD&&"pending"===this.__oldOnPropertyChangeDtD.state()&&this.__oldOnPropertyChangeDtD.cancel(),this.__oldOnPropertyChangeDtD=this.__oService.onPropertyChange(this.boGetMaskedValue(),s,"PropertyUpdate"),$.when(this.__oldOnPropertyChangeDtD).done(function(e){$.when(this.__oModel.setValue("",e)).done(function(){for(var o=0;this.__oLoop.__items.length>o;++o){var a=this.__oLoop.__items[o],i=a.$.find(".sbo-metadata-list").getControl(),s=t.sbo.util.metadataHelper.convertDynamicMeta(a.model.getValue("data")["sbo.dynamicmeta"]);i.setOption("dynamicMeta",0!==Object.keys(s).length?s.properties:this.__globalDynamicMeta.properties)}this.onValueUpdated&&this.onValueUpdated(e)}.bind(this));var o={},a=t.sbo.util.metadataHelper.convertDynamicMeta(e["sbo.dynamicmeta"]).properties;this.__meta.forEach(function(e){o[e.property]=$.extend(!0,{},e.option,a&&a["*"])}),$.extend(!0,o,a),this.__oMetaModel.setValue("properties",o),this.__oSettingModel.setValue("dynamicMeta",a)}.bind(this)).fail(function(){}).always(function(){this.enableActionButtons(),t.util.hideLoading()}.bind(this))}var s=e+"/"+o,r=null;s=s.substr(0,s.indexOf("@")).replace(/\/$/,"");var l="Root/"+s.split("/").filter(function(e){return isNaN(Number(e))}).join("/");-1!==this.__oOnChangePaths.indexOf(l)&&(this._oValueMaskModel.setValue(s,void 0),this.onValueChanged(l,s.replace(/\/[^\/]*$/,"/")),s="Root/"+s,a&&"change"!==a.eventType?(this.__oldOnPropertyChangeDtD&&"pending"===this.__oldOnPropertyChangeDtD.state()&&this.__oldOnPropertyChangeDtD.cancel(),r=this.__oTimer.setTimeout(function(){r===n&&i.call(this)}.bind(this),1e3)):i.call(this),this.disableActionButtons(),n=r)}.bind(this);this.__oModel.attachEvent("valueChanged",this.__oDestroyPool.add(r,function(){this.detachEvent("valueChanged",r)}.bind(this.__oModel))),this.__oIScroll=this.__oDestroyPool.add(new iScroll(this.$('[data-id="sbo-subbo-metadata-view"]>.list>.container')[0],{onBeforeScrollStart:function(e){var t=$(e.target);return t.is("input")||t.is("select")||t.is("textarea")?!0:this.beforeScrollEnd&&this.beforeScrollEnd(e)?!0:(e.preventDefault(),void 0)}.bind(this)})),this.__oIScroll.disable();var l=this.__oDestroyPool.add(new t.core.GuardedTimer);l.setInterval(this.__checkContentSizeChange.bind(this),1e3),this.$().setModel(this.__oModel),this.$().setModel(this.__oEventModel,"eventModel"),this.$().setModel(this.__oMetaModel,"meta"),this.$().setModel(this.__oTitlesModel,"titles"),this.$().setModel(this.__oSettingModel,"setting");var d=this.getBoKeyEntity();return $.when(this.__oService.getMetadata(d.boNamespace,d.boName),this.getOption("boData")||this.__oService.get(this.__convertBoKey(d.keyElements))).done(function(o,s){this.__oModel.setValue("",s);var n=t.sbo.util.metadataHelper.convert(o);this.__oMetaModel.setValue("enum",n.enumTypes),this.__oSettingModel.setValue("customReadonly",!1),this.__meta=n.properties,this.__oSettingModel.setValue("metadata",this.__meta);var r={},l=t.sbo.util.metadataHelper.convertDynamicMeta(s["sbo.dynamicmeta"]).properties;this.__oSettingModel.setValue("dynamicMeta",l),this.__meta.forEach(function(e){r[e.property]=$.extend(!0,{},e.option,l&&l["*"])}),$.extend(!0,r,l),this.__oMetaModel.setValue("properties",r),this.$().process($.extend(!0,{},e,a)),this.__oDestroyPool.add(this.$(),this.$().unprocess),this.__oOnChangePaths=n.onChangePaths;var d=this;this.__oMetaHeader=this.$(".header>.header-fields").getControl(),this.__oMetaHeader&&this.__oMetaHeader.setOption({propertyTemplate:e.html.sap.sbo.app.template.DynamicProperty}),this.__oLoop=this.$('[data-id="sbo-subbo-metadata-view"]>.list>.container>.items').getControl(),this.__oLoop.attachEvent("allProcessed",function(){d.itemsPosUpdate(this),d.__oIScroll.enable(),d.__oIScroll.refresh()});var p=t.sbo.util.metadataHelper.convertDynamicMeta(s["sbo.dynamicmeta"]).subNodes;this.__globalDynamicMeta=p?p[this.getSubNodeBindPath()]?p[this.getSubNodeBindPath()]:{}:{},this.__oLoop.attachEvent("itemsCountChanged",this.__oDestroyPool.add(function(e){0===e&&!this.__globalDynamicMeta.readonly&&this.isNewCreateEnabled()?this.__showEmpty():this.__hideEmpty()}.bind(this),function(){this.detachEvent("itemsCountChanged")}.bind(this.__oLoop))),this.__oLoop.attachEvent("itemsCountChanged",function(e){var t=this.getTitle(s,e),o=this.getSubTitle(s,e);if(this.__isInFrame)t&&this.__oTitlesModel.setValue("title",t),o&&this.__oTitlesModel.setValue("subTitle",o);else{var a={};t&&(a.title=t),o&&(a.subTitle=o),this.setTitle(a)}}.bind(this)),i.resolve(n.nodes[this.getSubNodeName()],s,n.enumTypes,this.__globalDynamicMeta)}.bind(this)).fail(function(){}),i.promise()},__checkContentSizeChange:function(){var e=this.$(".sbo-metadata-list-Content"),t=e.width(),o=e.height(),a=t+"-"+o;a!==this.__oldSize&&(this.__oIScroll.refresh(),this.__oldSize=a)},destroyView:function(){this.__oDestroyPool.destroy(),this.__oDestroyPool=null},update:function(){},isNewCreateEnabled:function(){return!0},boSave:function(){return this.__oService.update(this.boGetMaskedValue(),this.__convertBoKey(this.getBoKeyEntity().keyElements))},on_save:function(){var e=$.Deferred();return t.util.showLoading(),$.when(this.boSave()).done(function(t){e.resolve(t)}).fail(function(){e.reject()}).always(function(){t.util.hideLoading()}),e.promise()},on_create:function(){var e=$.Deferred();return t.util.showLoading(),$.when(this.__oService.getInitBoNode(this.boGetMaskedValue(),"Root/"+this.getSubNodeBindPath())).done(function(t){this.__oModel.setValue("",t),this.__whenLoopProcessed(function(){e.resolve()})}.bind(this)).fail(function(){e.reject()}).always(function(){t.util.hideLoading()}),e.promise()},on_delete:function(e){var o=$.Deferred();return t.util.showLoading(),$.when(this.__oService.onPropertyChange(this.boGetMaskedValue(),"Root/"+this.getSubNodeBindPath()+"/"+e,"DeleteLine")).done(function(e){this.__oModel.setValue("",e),this.__whenLoopProcessed(function(){o.resolve()})}.bind(this)).fail(function(){o.reject()}).always(function(){t.util.hideLoading()}),o.promise()},__whenLoopProcessed:function(e){var t=function(){e(),this.__oLoop.detachEvent("allProcessed",t)}.bind(this);this.__oLoop.attachEvent("allProcessed",t)},boGetMaskedValue:function(){return $.extend(!0,this.__oModel.getValue(""),this._oValueMaskModel.getValue(""))},onValueChanged:function(){},getBoKeyEntity:function(){t.log.error("This function must be implemented")},getSubNodeName:function(){t.log.error("This function must be implemented")},getSubNodeBindPath:function(){t.log.error("This function must be implemented")},itemsPosUpdate:function(){t.log.error("This function must be implemented")},getIgnoredProperty:function(){return[]},getTitle:function(){return null},getSubTitle:function(){return null},getEmptyTexts:function(){return[]},onEditAndCreate:function(){this.on_create()}},Protected:{__convertBoKey:function(e){for(var t={},o=0;e.length>o;o++)t[e[o].keyName]=e[o].keyValue;return t},__constructEmpty:function(){var e=$(".empty-container"),t=this.getEmptyTexts();if(t)for(var o=0,a=t.length;a>o;o++)e.append($("<div>").text(t[o]))},__showEmpty:function(){this.$(".container").addClass("empty")},__hideEmpty:function(){this.$(".container").removeClass("empty")}}})}),define("sap.sbo.page.common.customerUtil",["sap.core.klass","json!sap.sbo.util.enums","sap.sbo.localization.Helper"],function(){var e=this.getNS(),t=e.sap,o=e.json.sap.sbo.util.enums.bool,a={integer_string:function(e,t){return"<<"===t?e?""+e:"":e},string_prospect:function(e){return e===o.Yes?t.sbo.localization.Helper.get("app/customer/PROSPECT"):t.sbo.localization.Helper.get("app/customer/CUSTOMER")}};return a}),define("sap.sbo.page.common.oppUtil",["sap.core.klass","sap.sbo.services.SalesStagesService"],function(){var e=this.getNS(),t=e.sap,o={constructStageEnum:function(e){var o=$.Deferred(),a=new t.sbo.services.SalesStagesService;return $.when(a.query()).done(function(t){for(var a=[],i=0,s=t.value.length;s>i;i++)a.push({name:t.value[i].stageNo,label:t.value[i].name});for(var n=e.getValue("filter"),r=0,l=n.length;l>r;r++)if("currentStageNumber"===n[r].property){n[r].type="StageNumber";break}var d=e.getValue("enumTypes");d.StageNumber=a,e.setValue("enumTypes",d),e.setValue("filter",n),o.resolve()}).fail(function(e){window.SboShell.raiseException(e),o.reject(e)}).always(function(){a.destroy()}),o.promise()},convertStatusImage:function(e){switch(e){case"sos_Open":return"<img src='image/BO/Open.png'>";case"sos_Missed":return"<img src='image/BO/Reject.png'>";case"sos_Sold":return"<img src='image/BO/Won_Complete.png'>";default:return""}},convertStatusClass:function(e){switch(e){case"sos_Open":return"open";case"sos_Missed":return"lose";case"sos_Sold":return"win";default:return"Unknown"}},convertNullString:function(e){return e?e:""}};return o}),define("sap.sbo.page.common.dataOwnership.BaseDataOwnershipObserver",["sap.sbo.compoundservices.DataOwnershipService","sap.core.klass","sap.sbo.localization.Helper","sap.log"],function(){"use strict";var e=this.getNS(),t=e.sap,o=t.core.klass.declare({Name:"sap.sbo.page.common.dataOwnership.BaseDataOwnershipObserver",Public:{init:function(){var e=this;t.core.klass.declareMember(this,{__instanceID:[],__objectCode:null,__objectName:null,__dtd:null,__buttonClickProxy:$.proxy(e._buttonClicked,e),__service:null,__viewMode:null});var a=$.Deferred();this.__dtd=a.promise(),this.__service=new t.sbo.compoundservices.DataOwnershipService,this.__viewMode="phone"==SboShell.__deviceType?"phone":"pad",0===o.boList.length?$.when(this.__service.getBODataOwnershipConf()).done(function(e){o.boList=e.value,a.resolve(e.value)}):a.resolve()},registerAssignButton:function(e){var a=this;$.when(a.__dtd).done(function(){if(!("keyElements"in e&&"boName"in e))return t.log.error("BO Entity is without keyElements or boName"),void 0;var i=e.keyElements;a.__objectName=e.boName;var s=o.boList;if(0===s.length)return t.log.error("BO List is empty"),void 0;for(var n=0,r=s.length;r>n;n++)if(s[n].name===a.__objectName){if(a.__objectCode=s[n].objectCode,a.__instanceID=[],"Array"===i.constructor.name||"[object Array]"==Object.prototype.toString.call(i))for(var l=0,d=i.length;d>l;l++)a.__instanceID.push(i[l].keyValue);else a.__instanceID.push(i.keyValue);$.when(a.__service.hasBOAssignmentPermission(a.__objectCode,a.__instanceID[0])).done(function(e){e.value&&(window.SboShell.addActionButtons({text:t.sbo.localization.Helper.get("sys/dos/BUTTON_ASSIGN"),key:"key_assignment"}),window.SboShell.attachEvent("actionButtonClick",a.__buttonClickProxy))});break}})},destroyAssignButton:function(){var e=this;window.SboShell.detachEvent("actionButtonClick",e.__buttonClickProxy),window.SboShell.removeActionButtons(["key_assignment"]),this.__service&&(this.__service.destroy(),e.__instanceID=[],e.__objectCode=null,e.__objectName=null)},destroy:function(){this.destroyAssignButton()},getViewName:function(){t.log.error("method getViewName should be implement")}},Protected:{_buttonClicked:function(e){var o=this;switch(e){case"key_assignment":var a=-1,i={view:this.getViewName(),options:{objectCode:this.__objectCode,instanceID:this.__instanceID,boName:this.__objectName},type:"center",width:438,height:600,callback:function(e,a){if(a&&a.result&&("e"===a.result?window.SboShell.raiseMessage(t.sbo.localization.Helper.get("sys/dos/GET_ASSIGN_FAILED")):"e_save"===a.result&&window.SboShell.raiseMessage(t.sbo.localization.Helper.get("sys/dos/SAVE_ASSIGN_FAILED"))),e&&e.result&&"s"==e.result){var i="sys/dos/boname/"+o.__objectName;window.SboShell.raiseMessage(t.sbo.localization.Helper.get("sys/dos/share/suc",t.sbo.localization.Helper.get(i)),"success")}}};this.__frameOption&&$.extend(i,this.__frameOption),$.when(window.SboShell.openFrame(i)).done(function(e){a=e})}}},Static:{boList:[]}});return o}),define("sap.sbo.page.common.dataOwnership.DOAssignment",["sap.ui.Controller","sap.core.JsonModel","sap.ui.widget.DropDownBox","sap.core.klass","sap.ui.widget.Accordion","sap.sbo.compoundservices.DataOwnershipService","sap.ui.widget.TextField","sap.ui.widget.Icon","sap.sbo.localization.Helper","sap.sbo.ui.FrameViewController","sap.ui.widget.Button","sap.ui.Repeat"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Options:{objectCode:{type:"string",defaultValue:null},instanceID:{type:"string",defaultValue:null},boName:{type:"string",defaultValue:null}},Public:{init:function(){t.sbo.ui.FrameViewController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{__i18n:{title:"Make it open to",btn_save:"Save",btn_cancel:"Cancel",user:"Employee",dep:"Department",team:"Team",branch:"Branch",headText2:"Authorization"},__timeoutID:0,__oEmpModel:{},__oDepModel:{},__oTeamModel:{},__oBrcModel:{},__aCachedContent:[],__service:new t.sbo.compoundservices.DataOwnershipService,__oIScroll:null,__EmpTab:0,__DepTab:1,__TeamTab:2,__BrcTab:3})},destroy:function(){},initView:function(){var o=this,a=$.Deferred(),i=this.getAllOptions(),s="./image/settings/expand.png",n=i.objectCode,r=i.instanceID[0],l=new t.core.JsonModel({value:""});o.$().setModel(l,"search");var d=new t.core.JsonModel({selected:o.__EmpTab});o.$().setModel(d,"accordion");var p=[{code:"N",text:t.sbo.localization.Helper.get("sys/dos/AUTH_N")},{code:"R",text:t.sbo.localization.Helper.get("sys/dos/AUTH_R")},{code:"F",text:t.sbo.localization.Helper.get("sys/dos/AUTH_F")}],c=new t.core.JsonModel({text:t.sbo.localization.Helper.get("sys/dos/ASSIGN_EMP"),iconURL:s,orientation:"horizontal",selectedValue:"horizontal",disabled:!1,orientationOptions:[{text:"vertical",value:"vertical"},{text:"horizontal",value:"horizontal"}]});o.$().setModel(c,"iconEmp");var u=new t.core.JsonModel({text:t.sbo.localization.Helper.get("sys/dos/ASSIGN_DEP"),iconURL:s,orientation:"horizontal",selectedValue:"horizontal",disabled:!1,orientationOptions:[{text:"vertical",value:"vertical"},{text:"horizontal",value:"horizontal"}]});o.$().setModel(u,"iconDep");var h=new t.core.JsonModel({text:t.sbo.localization.Helper.get("sys/dos/ASSIGN_TEAM"),iconURL:s,orientation:"horizontal",selectedValue:"horizontal",disabled:!1,orientationOptions:[{text:"vertical",value:"vertical"},{text:"horizontal",value:"horizontal"}]});o.$().setModel(h,"iconTeam");var b=new t.core.JsonModel({text:t.sbo.localization.Helper.get("sys/dos/ASSIGN_BRA"),iconURL:s,orientation:"horizontal",selectedValue:"horizontal",disabled:!1,orientationOptions:[{text:"vertical",value:"vertical"},{text:"horizontal",value:"horizontal"}]});
o.$().setModel(b,"iconSub");var g=new t.core.JsonModel({data:p,textField:"text",valueField:"code",selectedValue:"",disabled:!1});o.$().setModel(g,"dropMeta"),$.when(o.__service.getBOAssignments(n,r)).done(function(t){t?(o.__oIScroll=new iScroll($("[sap-ctrl='iscrol']")[0],{hScroll:!1}),o.__aCachedContent=o._contentToUI(t.value),o._initModels(o.__aCachedContent),m.setValue("text",o.__i18n.headText1+" ( "+o.__aCachedContent.length+" )"),$.when(o.$().process(e)).done(function(){o.__oIScroll.refresh(),o._initIcon()}),o.$().control({"#cancelBtn":{listener:{click:function(){o.callShell({result:"c"}),o.closeFrame()}}},"#saveBtn":{listener:{click:function(){var e=o.__oEmpModel.getValue("contents");o._copyToCache(e,o);var t=o.__oTeamModel.getValue("contents");o._copyToCache(t,o);var a=o.__oDepModel.getValue("contents");o._copyToCache(a,o);var i=o.__oBrcModel.getValue("contents");o._copyToCache(i,o);for(var s=[],l=0,d=o.__aCachedContent.length;d>l;l++)o.__aCachedContent[l].isFrozen||s.push({id:o.__aCachedContent[l].id,type:o.__aCachedContent[l].type,authorization:o.__aCachedContent[l].authorization});$.when(o.__service.setBOAssignments(n,r,s)).done(function(){o.callShell({result:"s"}),o.closeFrame()}).fail(function(){o.callShell({result:"e_save"}),o.closeFrame()})}}}}),$("[data-sap-widget='sap.ui.widget.Accordion']").getControl().attachEvent("afterUpdate",function(){o.__oIScroll.refresh()}),$("[sap-ctrl='iscrol']").each(function(e,t){$(t).getControl().attachEvent("afterUpdate",function(){o.__oIScroll&&o.__oIScroll.refresh()})}),$("input[data-sap-widget='sap.ui.widget.TextField']").on("keyup",function(){var e=$(this).val();o.__timeoutID>0&&clearTimeout(o.__timeoutID),o.__timeoutID=setTimeout(function(){var t=d.getValue("selected");t===o.__EmpTab?o._handleSearchContent("E",e):t===o.__TeamTab?o._handleSearchContent("T",e):t===o.__DepTab?o._handleSearchContent("D",e):t===o.__BrcTab&&o._handleSearchContent("B",e)},500)}),$(".accor_header",o.$()).on("vclick",function(){var e=$(this).attr("sap-ctrl")-0;$(".accor_header",o.$()).each(function(t,o){t==e?$(o).children().children().children().removeClass("img_close"):$(o).children().children().children().addClass("img_close")});var t=$("input[data-sap-widget='sap.ui.widget.TextField']",o.$()).val();e===o.__EmpTab?o._handleSearchContent("E",t):e===o.__TeamTab?o._handleSearchContent("T",t):e===o.__DepTab?o._handleSearchContent("D",t):e===o.__BrcTab&&o._handleSearchContent("B",t),o.__oIScroll&&o.__oIScroll.destroy(),o.__oIScroll=new iScroll($("[sap-ctrl='iscrol']")[e],{hScroll:!1})}),a.resolve()):(a.resolve(),o.$().process(e),o.callShell("close",{result:"e"}))}).fail(function(){a.resolve(),o.$().process(e),o.callShell("close",{result:"e"})}),o.__oEmpModel=new t.core.JsonModel({contents:[]}),o.$().setModel(o.__oEmpModel,"emp"),o.__oDepModel=new t.core.JsonModel({contents:[]}),o.$().setModel(o.__oDepModel,"dep"),o.__oTeamModel=new t.core.JsonModel({contents:[]}),o.$().setModel(o.__oTeamModel,"team"),o.__oBrcModel=new t.core.JsonModel({contents:[]}),o.$().setModel(o.__oBrcModel,"brc");var m=new t.core.JsonModel({text:o.__i18n.headText1+" ( "+o.__aCachedContent.length+" )"});return o.$().setModel(m,"head"),a.promise()},update:function(){},destroyView:function(){this.$().unprocess(e),this.__service.destroy(),this.__oIScroll&&this.__oIScroll.destroy()}},Protected:{_contentToUI:function(e){var t=[];if(e)for(var o=0,a=e.length;a>o;o++){var i={};$.extend(i,e[o]),i.account="E"===e[o].type?e[o].firstName+" "+e[o].lastName:e[o].name,t.push(i)}return t},_copyToCache:function(e,t){for(var o=0,a=e.length;a>o;o++)for(var i=0,s=t.__aCachedContent.length;s>i;i++)if(t.__aCachedContent[i].id===e[o].id&&t.__aCachedContent[i].type===e[o].type){t.__aCachedContent[i].authorization=e[o].authorization;break}},_initIcon:function(){$(".accor_header",this.$()).each(function(e,t){e>0&&$(t).children().children().children().addClass("img_close")})},_initModels:function(e){for(var t=[],o=[],a=[],i=[],s=0,n=e.length;n>s;s++)"E"===e[s].type?t.push(e[s]):"B"===e[s].type?o.push(e[s]):"T"===e[s].type?a.push(e[s]):"D"===e[s].type&&i.push(e[s]);this.__oEmpModel.setValue("contents",t),this.__oTeamModel.setValue("contents",a),this.__oDepModel.setValue("contents",i),this.__oBrcModel.setValue("contents",o)},_handleSearchContent:function(e,t){var o={};"E"===e?o=this.__oEmpModel:"D"===e?o=this.__oDepModel:"T"===e?o=this.__oTeamModel:"B"===e&&(o=this.__oBrcModel);var a=o.getValue("contents");this._copyToCache(a,this);var i=this.__aCachedContent.filter(function(t){return t.type===e});if(""==t)o.setValue("contents",i);else{for(var s=[],n=RegExp(t,"i"),r=0,l=i.length;l>r;r++)i[r].account.search(n)>-1&&s.push(i[r]);o.setValue("contents",s)}}}})}),define("sap.sbo.page.common.notepage.NotePageListSource",["sap.core.klass","sap.core.IListSource","sap.core.IClonable","sap.core.EventProvider","sap.sbo.localization.Helper","sap.sbo.services.NotePageService"],function(){"use strict";var e=this.getNS(),t=e.sap,o=t.core.klass.declare({Name:this.getModuleInfo().moduleName,Interfaces:[t.core.IListSource,t.core.IClonable],Base:t.core.EventProvider,Public:{init:function(e){t.core.EventProvider.prototype.init.apply(this,arguments),this.declareMember({__boEntityKey:e})},destroy:function(){},cancel:function(){},read:function(e,o,a){var i=this,s=new t.sbo.services.NotePageService,n=$.Deferred(),r=s.getNotebookInfo(i.__boEntityKey);$.when(r).done(function(o){$(i.query({inlinecount:"allpages",top:e.size,skip:e.begin,filter:a}).done(function(e){if(e){var a=0;o&&(a=o.pageCount,i.setCount(a),1!=a?window.SboShell.setOption({title:a+" "+t.sbo.localization.Helper.get("app/memo/MEMOS")}):window.SboShell.setOption({title:a+" "+t.sbo.localization.Helper.get("app/memo/MEMO")})),n.resolve({data:e.value||[],count:a})}else window.SboShell.setOption({title:"0 "+t.sbo.localization.Helper.get("app/memo/MEMOS")}),n.resolve({data:[],count:0})}).fail(function(){n.reject("get data failed.")}))}).fail(function(){n.reject("get data failed.")});var l=n.promise();return l.cancel=function(){r.cancel()},l},isReadable:function(){return!0},isWritable:function(){return!1},clone:function(){var e=new o(this.__boEntityKey);return e},query:function(e){var o=e.skip,a=e.top,i={};i.location=o,i.length=a;var s=new t.sbo.services.NotePageService;return s.getPagesByRange(this.__boEntityKey,i)},getCount:function(){return this.memoCount},setCount:function(e){isNaN(e)||(this.memoCount=e)}},Protected:{memoCount:0}});return o}),define("sap.sbo.page.common.notepage.NotePageUtil",["sap.sbo.services.BaseService","sap.core.klass","sap.sbo.ui.BoNavigationObject","sap.sbo.util.formatter","sap.sbo.localization.Helper"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={GetBoEntity:function(e,t,o){var a={},i=t.replace(RegExp("'","gm"),"").split("=");a.keyName=i[0],a.keyValue=i[1];var s=[];s.push(a);var n={};return n.boNamespace=o,n.boName=e,n.keyElements=s,n},getLocalDateFromUTC:function(e){if(e instanceof Date)return e;var t=parseInt(e.replace(/[^0-9]/gi,""));t=new Date(t);var o=t.getTimezoneOffset();return t.setTime(t.getTime()-6e4*o),t},getDateTick:function(e){var t=e.getYear(),o=e.getMonth();10>o&&(o="0"+o);var a=e.getDate();return 10>a&&(a="0"+a),t+""+o+a},IsOverDue:function(t){var o=new Date,a=e.formatter.getLocalDateFromUTC(t);return a.getTime()<o.getTime()},IconDisplay:function(e){return e?"block":"none"},TopAll:-1,CompleteStatus:0,NotCompleteStatus:1,AllStatus:-1,viewMode:0,addMode:1,editMode:2,__SystemImageId:"System"},t.core.klass.declare({Name:this.getModuleInfo().moduleName,Static:{displayByBool:function(e){return e?t.sbo.localization.Helper.get("app/memo/COPYFLAG"):""},handleSuccess:function(e){"create"===e?window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/memo/CREATESAVED"),"success"):"edit"==e&&window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/memo/EDITSAVED"),"success")},listPreviewUrl:function(e){var o=window.SboShell.getData("tenantID"),a=e.attachmentId,i=window.SboShell.getData("notePageList.boEntityKey"),s=null;return s=e.id,"-1"==a+""?"":"phone"===window.SboShell.callFeatureMethod("shell.getDeviceType")?t.sbo.services.BaseService.documentbase+"file/fingernail?id="+a+"&boEntityKey="+JSON.stringify(i)+"&targetType=Page&targetId="+s+"&tenantID="+o:t.sbo.services.BaseService.documentbase+"file/thumbnail?id="+a+"&boEntityKey="+JSON.stringify(i)+"&targetType=Page&targetId="+s+"&tenantID="+o},tilePreviewUrl:function(e){var o=window.SboShell.getData("tenantID"),a=e.attachmentId,i=window.SboShell.getData("notePageTile.boEntityKey"),s=null;return s=e.id,"-1"==a+""?"":"phone"===window.SboShell.callFeatureMethod("shell.getDeviceType")?t.sbo.services.BaseService.documentbase+"file/fingernail?id="+a+"&boEntityKey="+JSON.stringify(i)+"&targetType=Page&targetId="+s+"&tenantID="+o:t.sbo.services.BaseService.documentbase+"file/thumbnail?id="+a+"&boEntityKey="+JSON.stringify(i)+"&targetType=Page&targetId="+s+"&tenantID="+o},convertFileSize:function(e){var t="";return e?t=e>1048576?Math.round(100*e/1048576)/100+"MB":Math.round(100*e/1024)/100+"KB":""},getLocalDateFromUTC:function(e){if(null==e)return"";var t=parseInt(e.replace(/[^0-9]/gi,""));t=new Date(t);var o=t.getTimezoneOffset();return t.setTime(t.getTime()-6e4*o),t.toDateString()},getMemoType:function(e){var t="";return null!=e.text&&""!=e.text&&(t+="text"),-1!=e.attachmentId&&(t+=(e.attachmentMimeType+"").indexOf("image")>=0?"image":"file"),""==t&&(t="text"),"text"==t&&30>=e.text.length&&0>e.text.indexOf("\n")?t+"-short":t},getMemoContentClass:function(e){return e.description.length>40||0==e.Attachments.length?"MemoContentGrey":"MemoContentGreyHalf"},getMemoTypePhone:function(e){var t="";return null!=e.text&&""!=e.text&&(t+="text"),-1!=e.attachmentId&&(t+="file"),""==t&&(t="text"),t},getAttachmentType:function(e){var t="";if(-1!=e.attachmentId){if(!e.attachmentMimeType)return"image";t+=(e.attachmentMimeType+"").indexOf("image")>=0?"image":"file"}return t},getUploadDisplay:function(e){return"none"===e?"inline":"none"},getFileIconByType:function(e){var t="";return null!=e&&(t+=e.indexOf("image")>=0?"image":"file"),t},getShortDesc:function(e){if(!e)return"Untitled";var t=this.getMemoType(e),o=e.text;if("text"==t){var a=window.SboShell.callFeatureMethod("shell.getDeviceType"),i="phone"==a?40:50;return o&&o.length>i&&(o=o.substr(0,i)+"..."),o}var a=window.SboShell.callFeatureMethod("shell.getDeviceType"),i="phone"==a?30:40;return o&&o.length>i&&(o=o.substr(0,i)+"..."),o},showBar:function(e){return e&&0!=e.length?"":"none"},getEmptyInfo:function(e){var o;switch(e){case"User":o=[t.sbo.localization.Helper.get("app/memo/EMPTYINFO1"),t.sbo.localization.Helper.get("app/memo/EMPTYINFO2"),t.sbo.localization.Helper.get("app/memo/EMPTYINFO3")];break;case"SalesOpportunity":o=[t.sbo.localization.Helper.get("app/memo/EMPTYINFO4",t.sbo.localization.Helper.get("common/OPPORTUNITY_NAME").toLowerCase()),t.sbo.localization.Helper.get("app/memo/EMPTYINFO5")];break;case"Leads":o=[t.sbo.localization.Helper.get("app/memo/EMPTYINFO4",t.sbo.localization.Helper.get("app/lead/LEAD").toLowerCase()),t.sbo.localization.Helper.get("app/memo/EMPTYINFO5")];break;case"Quotation":o=[t.sbo.localization.Helper.get("app/memo/EMPTYINFO4",t.sbo.localization.Helper.get("common/QUOTATION_NAME").toLowerCase()),t.sbo.localization.Helper.get("app/memo/EMPTYINFO5")];break;case"ContactPerson":o=[t.sbo.localization.Helper.get("app/memo/EMPTYINFO4",t.sbo.localization.Helper.get("common/CONTACT_PERSON").toLowerCase()),t.sbo.localization.Helper.get("app/memo/EMPTYINFO5")];break;case"Order":o=[t.sbo.localization.Helper.get("app/memo/EMPTYINFO4",t.sbo.localization.Helper.get("common/ORDER_NAME").toLowerCase()),t.sbo.localization.Helper.get("app/memo/EMPTYINFO5")];break;case"Item":o=[t.sbo.localization.Helper.get("app/memo/EMPTYINFO4",t.sbo.localization.Helper.get("app/document/PRODUCT").toLowerCase()),t.sbo.localization.Helper.get("app/memo/EMPTYINFO5")];break;default:o=[t.sbo.localization.Helper.get("app/memo/EMPTYINFO1"),t.sbo.localization.Helper.get("app/memo/EMPTYINFO2"),t.sbo.localization.Helper.get("app/memo/EMPTYINFO3")]}return o},convertAtContent:function(e,o){var a=$('div[class="richtextarea"]').text(o).html(),i={};i.text=a,i.richTextTargets={};var s;try{s=jQuery.parseJSON(e)}catch(n){return i}var r=s.LinkObject;if(!r)return i;r.content=$('div[class="richtextarea"]').text(r.content).html();var l=a;if("phone"==SboShell.__deviceType?"phone":"pad",null!=r&&null!=r.embed&&null!=r.embed.items&&r.embed.items.length>0){l=r.content;for(var d=0;r.embed.items.length>d;d++){var l=r.content;r.content;for(var d=0;r.embed.items.length>d;d++){var p=t.sbo.util.formatter.getNavigationData(r.embed.items[d].item.objectType,r.embed.items[d].item.id),c='<a href="javascript:void(0)" data-sap-widget="sap.sbo.ui.widget.BoLink" data-sap-option="text: \'@'+r.embed.items[d].item.displayName+"', boEntity: {{richTextTargets/boEntity"+d+'}}"></a>';i.richTextTargets["boEntity"+d]=p,l=l.replace("${"+d+"}",c),i.text=l}}}return i},MaxTextLength:4e3,PadMemoDialogDimension:{width:934,height:648},MemoDialogPadTileWidth:184.13}})}),define("sap.sbo.page.phone.boCreation",["sap.ui.Controller","sap.core.JsonModel","sap.sbo.ui.FrameViewController","css!sap.sbo.page.phone.boCreation"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Options:{x:{type:"integer",defaultValue:-1},y:{type:"integer",defaultValue:-1}},Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments),this.declareMember({__oService:null,__model:this.autoDestroy(new t.core.JsonModel({})),__ns:e})},destroy:function(){},initView:function(){var e=$.Deferred(),t=this;return $.when(t.__oService.getInit()).done(function(o){t.__model.setValue("",o),t.$().setModel(t.__model),t.$().process(t.__ns),t.$().control({"#btnCancel":{listener:{click:function(){t.callShell("close")}}},"#btnSaveOpen":{listener:{click:function(){t.__savebo()}}}}),e.resolve()}).fail(function(){t.callShell("close"),e.reject()}),e.promise()},destroyView:function(){this.$().unprocess()},update:function(){},__savebo:function(){throw"PLEASE IMPLEMENTE THIS METHOD!"}}})}),define("sap.sbo.page.phone.BoHomeController",["sap.ui.Controller","sap.sbo.page.phone.dataOwnership.DataOwnershipPhoneObserver","sap.sbo.page.BaseBoHomeController","css!sap.sbo.page.phone.boHome"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.BaseBoHomeController,Public:{init:function(){t.sbo.page.BaseBoHomeController.prototype.init.apply(this,arguments)},destroy:function(){},initView:function(){return this.autoDestroy(new t.sbo.page.phone.dataOwnership.DataOwnershipPhoneObserver),this.setObserver(),t.sbo.page.BaseBoHomeController.prototype.initView.apply(this,arguments)},destroyView:function(){t.sbo.page.BaseBoHomeController.prototype.destroyView.apply(this,arguments)},update:function(){t.sbo.page.BaseBoHomeController.prototype.update.apply(this,arguments)}},Protected:{}})}),define("sap.sbo.page.phone.BoListViewController",["sap.ui.Controller","sap.core.klass","sap.core.JsonModel","sap.sbo.page.BaseBoListViewController","sap.core.ListSourceFilter","sap.ui.widget.Icon","sap.ui.widget.TextField","css!sap.sbo.page.phone.BoListViewController"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.BaseBoListViewController,Public:{init:function(){t.sbo.page.BaseBoListViewController.prototype.init.apply(this,arguments)},destroy:function(){},initView:function(){var e=$.Deferred();return $.when(t.sbo.page.BaseBoListViewController.prototype.initView.apply(this,arguments)).done(function(t){e.resolve(t)}).fail(function(t){e.reject(t)}),e.promise()},destroyView:function(){t.sbo.page.BaseBoListViewController.prototype.destroyView.apply(this,arguments)},update:function(){},getMode:function(){return"phone"},_fnRecalcPosition:function(){}},Protected:{}})}),define("sap.sbo.page.phone.BoMetadataEditController",["sap.core.klass","sap.ui.Controller","sap.sbo.page.BaseBoMetadataEditController","css!sap.sbo.page.phone.BoMetadataEditController"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.BaseBoMetadataEditController,Public:{init:function(){t.sbo.page.BaseBoMetadataEditController.prototype.init.apply(this,arguments)},destroy:function(){},initView:function(){return t.sbo.page.BaseBoMetadataEditController.prototype.initView.apply(this,arguments)},destroyView:function(){this.$().unprocess(),t.sbo.page.BaseBoMetadataEditController.prototype.destroyView.apply(this,arguments)},update:function(){t.sbo.page.BaseBoMetadataEditController.prototype.update.apply(this,arguments)}},Protected:{}})}),define("sap.sbo.page.phone.BoMetadataCreationFrameController",["sap.core.klass","sap.ui.Controller","sap.sbo.page.BaseBoMetadataCreationFrameController","css!sap.sbo.page.phone.BoMetadataCreationFrameController"],function(){"use strict";var e=this.getNS(),t=e.sap,o=t.sbo.page.BaseBoMetadataCreationFrameController;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:o,Public:{init:function(){o.prototype.init.apply(this,arguments)},destroy:function(){},initView:function(){return o.prototype.initView.apply(this,arguments)},destroyView:function(){return o.prototype.destroyView.apply(this,arguments)},update:function(){o.prototype.update.apply(this,arguments)},disableActionButtons:function(){window.SboShell.disableAllTopButtons()},enableActionButtons:function(){window.SboShell.enableAllTopButtons()}},Protected:{}})}),define("sap.sbo.page.phone.ContentTileViewController",["sap.ui.Controller","sap.sbo.layout.TileViewController","sap.core.DestroyPool","sap.log","sap.sbo.localization.Helper","html!sap.sbo.page.phone.ContentTileViewController","css!sap.sbo.page.phone.ContentTileViewController"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.layout.TileViewController,Public:{init:function(){t.sbo.layout.TileViewController.prototype.init.apply(this,arguments),this.declareMember({__oDestroyPool:null})},destroy:function(){},initView:function(){var o=$.Deferred();this.__oDestroyPool=new t.core.DestroyPool;var a=[].reduce.call(this.$().children().filter("[data-sap-template]"),function(e,t){var o=$(t).remove();return e[o.attr("data-sap-template")]=o.children(),e},{});return this.$().html(e.html.sap.sbo.page.phone.ContentTileViewController),this.$(".header>.title").text(this.getTileTitle()),this.getNumberBindingPath()&&(this.$(".block1>.number>.value").attr("data-number","{{"+this.getNumberBindingPath()+"}}"),this.$(".content-tile").attr("data-number","{{"+this.getNumberBindingPath()+"}}")),this.$(".block2>.create>.desc").text(this.getCreateDesc()),this.$(".content>.block1").append(a.block1),this.$(".content>.block2>.content").append(a.block2),this.$().on("vclick","[data-action]",function(e){var t=$(e.currentTarget).attr("data-action");this["on_"+t]&&this["on_"+t](),e.stopPropagation()}.bind(this)),o.resolve(),o.promise()},destroyView:function(){t.sbo.layout.TileViewController.prototype.destroyView.apply(this,arguments),this.__oDestroyPool.destroy(),this.__oDestroyPool=null,this.$().unprocess()},update:function(e){e.mode},getSupportedModes:function(){return["1x1","2x1"]},getTileTitle:function(){t.log.error("getTileTitle function must be overwrite")},getNumberBindingPath:function(){return null},getCreateDesc:function(){return t.sbo.localization.Helper.get("common/create/DESC")}}})}),define("sap.sbo.page.phone.Home",["sap.core.klass","sap.core.JsonModel","sap.ui.View","sap.ui.common","sap.sbo.layout.TileView","sap.sbo.shell.IFeaturable","sap.log","sap.sbo.ui.PageController","sap.ui.Controller","sap.ui.widget.Button","sap.sbo.phoneStartup","sap.sbo.layout.phone.AdvancedTilesLayout","sap.core.GuardedTimer","sap.core.ListSourceFilter","sap.ui.widget.Button","sap.sbo.services.BaseService","sap.sbo.localization.Helper","sap.sbo.compoundservices.UserEmployeeService","sap.sbo.compoundservices.AttachmentService","sap.sbo.app.home.ProfileDetails","css!sap.sbo.page.phone.Home"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.PageController,Public:{init:function(){t.sbo.ui.PageController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{__oUserService:this.autoDestroy(new t.sbo.compoundservices.UserEmployeeService),__oAttachmentService:this.autoDestroy(new t.sbo.compoundservices.AttachmentService),__gotoProfileDetails:function(){window.SboShell.gotoView("sap.sbo.page.phone.user.BasicInfo",[{keyName:"employeeID",keyValue:window.SboShell.getData("user.employeeID")}])}})},destroy:function(){},initView:function(){var o=$.Deferred(),a=window.SboShell.getData("user.name"),i=window.SboShell.getData("user.portraitId");return window.SboShell.setOption("title",a),window.SboShell.attachEvent("IconClicked",this.__gotoProfileDetails),i>-1?window.SboShell.setOption("icon",t.sbo.services.BaseService.documentbase+"file/fingernail/"+i):window.SboShell.setOption("icon","./image/common/no-pic-avatar.jpg"),this.setTitle(t.sbo.localization.Helper.get("common/HOME")),this.$().process(e),o.resolve(),o.promise()},destroyView:function(){window.SboShell.setOption("icon",""),this.$().unprocess()},update:function(){}}})}),define("sap.sbo.page.phone.SubBoMetadataView",["sap.ui.Controller","sap.sbo.page.BaseSubBoMetadataView","sap.sbo.localization.Helper","sap.sbo.util.metadataHelper","sap.sbo.shell.IViewHistoryRecordable","sap.sbo.shell.IFeaturable","sap.log","sap.sbo.layout.phone.MetadataRaw","sap.sbo.layout.phone.MetadataList","html!sap.sbo.app.template.DynamicProperty","css!sap.sbo.app.template.DynamicProperty","html!sap.sbo.page.phone.SubBoMetadataView","css!sap.sbo.page.phone.SubBoMetadataView"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.BaseSubBoMetadataView,Interfaces:[t.sbo.shell.IViewHistoryRecordable,t.sbo.shell.IFeaturable],Events:[],Options:{},Public:{init:function(){t.sbo.page.BaseSubBoMetadataView.prototype.init.apply(this,arguments),this.declareMember({__itemHeight:100,__itemPadding:10,__nodeMeta:[],__readonly:!1}),window.SboShell.addFeature(this,"SubBoMetadataView.getModel","method"),window.SboShell.addFeature(this,"SubBoMetadataView.getGlobalDynamicMeta","method"),window.SboShell.addFeature(this,"SubBoMetadataView.hideRemove","event"),window.SboShell.addFeature(this,"SubBoMetadataView.valueUpdated","event"),window.SboShell.addFeature(this,"SubBoMetadataView.showRemove","event"),this.autoDestroy("remove the feature",function(){window.SboShell.removeFeature("SubBoMetadataView.getGlobalDynamicMeta"),window.SboShell.removeFeature("SubBoMetadataView.getModel"),window.SboShell.removeFeature("SubBoMetadataView.hideRemove"),window.SboShell.removeFeature("SubBoMetadataView.valueUpdated"),window.SboShell.removeFeature("SubBoMetadataView.showRemove")})},destroy:function(){},initView:function(o){var a=$.Deferred(),i=$(e.html.sap.sbo.page.phone.SubBoMetadataView),s=[].reduce.call(i.filter("[data-sap-template]"),function(e,t){var o=$(t);return e[o.attr("data-sap-template")]=o.children(),e},{});return $.when(t.sbo.page.BaseSubBoMetadataView.prototype.initView.call(this,s,jQuery.extend(!0,{},e,o))).done(function(o,i,s,n){this.__nodeMeta=o,this.__oLoop.attachEvent("domCreated",function(a){var i=a.findModel("loop").getValue("data"),r=t.sbo.util.metadataHelper.convertDynamicMeta(i["sbo.dynamicmeta"]);a.find(".fields").getControl().setOption({ignoredProperty:this.getIgnoredProperty(),metadata:o,enumMeta:s,dynamicMeta:0!==Object.keys(r).length?r.properties:n.properties,readonly:!0,propertyTemplate:e.html.sap.sbo.app.template.DynamicProperty})}.bind(this)),this.__oIScroll.options.hScroll=!1,this.__oIScroll.refresh(),this.__oLoop.$().on("vclick",">.item",function(e){this.__openItemDetail($(e.target).findModel("loop"),e.target,null,!this.isNewCreateEnabled())}.bind(this));var r=null;if(this.__readonly=n.readOnly,n.readOnly)r=[{text:t.sbo.localization.Helper.get("common/OK"),key:"sub*cancel"}];else{var r=[{text:t.sbo.localization.Helper.get("common/SAVE"),key:"sub*save"},{text:t.sbo.localization.Helper.get("common/CANCEL"),key:"sub*cancel"}];this.isNewCreateEnabled()&&r.unshift({text:t.sbo.localization.Helper.get("common/ADD"),key:"sub*create"})}this.__isInFrame?window.SboShell.addTopButtons(r):window.SboShell.addActionButtons(r,this),a.resolve(o,i)}.bind(this)),window.SboShell.attachEvent("actionButtonClick",this.__oDestroyPool.add(function(e){/^sub\*/.test(e)&&this["on_"+e.replace("sub*","")]()}.bind(this),function(){window.SboShell.detachEvent("actionButtonClick",this)})),a.promise()},destroyView:function(){t.sbo.page.BaseSubBoMetadataView.prototype.destroyView.call(this)},update:function(){t.sbo.page.BaseSubBoMetadataView.prototype.update.apply(this,arguments)},disableActionButtons:function(){this.__isInFrame?window.SboShell.disableAllTopButtons():window.SboShell.disableActionButtons(["create","save","cancel"]),window.SboShell.fireFeatureEvent("SubBoMetadataView.hideRemove")},enableActionButtons:function(){this.__isInFrame?window.SboShell.enableAllTopButtons():window.SboShell.enableActionButtons(["create","save","cancel"]),window.SboShell.fireFeatureEvent("SubBoMetadataView.showRemove")},on_cancel:function(){this.__isInFrame?this.closeFrame():window.SboShell.backwardView()},on_save:function(){this.__isInFrame?this.closeFrame(this.__oModel.getValue("")):$.when(t.sbo.page.BaseSubBoMetadataView.prototype.on_save.apply(this,arguments)).done(function(){window.SboShell.backwardView()})},on_create:function(){var e=$.extend(!0,{},this.__oModel.getValue(""));$.when(t.sbo.page.BaseSubBoMetadataView.prototype.on_create.apply(this,arguments)).done(function(){var t=this.__oLoop.__items.slice(-1)[0];this.__openItemDetail(t.model,t.$[0],e,!0)}.bind(this))},beforeScrollEnd:function(){},itemsPosUpdate:function(){},isNewCreateEnabled:function(){return!0},getEditFrameModuleName:function(){t.log.error("This function must be implemented")},__openItemDetail:function(e,t,o,a){var i=e.getValue("internal/index");o=o||$.extend(!0,{},this.__oModel.getValue(""));var s=null;$.when(window.SboShell.openFrame({view:this.getEditFrameModuleName(),type:"right",options:{metadata:this.__nodeMeta,modelPrefix:this.getSubNodeBindPath()+"/"+i+"/",newItem:!!a,readonly:this.__readonly},callback:function(e,t){return SboShell.closeFrame(s).done(function(){"save"===t||("remove"===t?this.on_delete(i):this.__oModel.setValue("",o))}.bind(this)),!0}.bind(this),linkTo:t})).done(function(e){s=e})},doFeature:function(e){return"SubBoMetadataView.getModel"===e?this.__oModel:"SubBoMetadataView.getGlobalDynamicMeta"===e?this.__globalDynamicMeta.properties:void 0},onValueUpdated:function(e){window.SboShell.fireFeatureEvent("SubBoMetadataView.valueUpdated",e)}},Protected:{shouldBeRecorded:function(){return!1}}})}),define("sap.sbo.page.phone.SubBoMetadataViewEditFrame",["sap.ui.Controller","sap.sbo.util.metadataHelper","sap.sbo.ui.FrameViewController","sap.sbo.layout.phone.MetadataRaw","sap.core.DestroyPool","html!sap.sbo.app.template.DynamicProperty","css!sap.sbo.app.template.DynamicProperty","sap.sbo.localization.Helper","html!sap.sbo.page.phone.SubBoMetadataViewEditFrame","css!sap.sbo.page.phone.SubBoMetadataViewEditFrame"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Interfaces:[],Events:[],Options:{metadata:{type:"array",defaultValue:[],arrayType:{type:"any"}},modelPrefix:{type:"string",defaultValue:""},newItem:{type:"boolean",defaultValue:!1},readonly:{type:"boolean",defaultValue:!1}},Public:{init:function(){t.sbo.ui.FrameViewController.prototype.init.apply(this,arguments),this.declareMember({__oIScroll:null,__oDestroyPool:null}),window.SboShell.attachFeatureEvent("SubBoMetadataView.showRemove",this.autoDestroy(this.hideButtons.bind(this,!1),function(){window.SboShell.detachFeatureEvent("SubBoMetadataView.showRemove",this)})),window.SboShell.attachFeatureEvent("SubBoMetadataView.hideRemove",this.autoDestroy(this.hideButtons.bind(this,!0),function(){window.SboShell.detachFeatureEvent("SubBoMetadataView.hideRemove",this)})),window.SboShell.attachFeatureEvent("SubBoMetadataView.valueUpdated",this.autoDestroy(this.onValueUpdated.bind(this),function(){window.SboShell.detachFeatureEvent("SubBoMetadataView.valueUpdated",this)}))},destroy:function(){},initView:function(o){var a=$.Deferred();this.__oDestroyPool=new t.core.DestroyPool;var i=[].reduce.call(this.$().children().filter("[data-sap-template]"),function(e,t){var o=$(t).remove(),a=$($("<div>").append(o).html().replace(/#MODELPREFIX#/g,this.getOption("modelPrefix")));return e[o.attr("data-sap-template")]=a.children(),e}.bind(this),{});this.$().html(e.html.sap.sbo.page.phone.SubBoMetadataViewEditFrame.replace(/#MODELPREFIX#/g,this.getOption("modelPrefix"))),this.$('[data-id="sbo-subbo-metadata-view-edit-frame"]>.content>.fields').append(i.itemFields),this.getOption("newItem")&&this.hideButtons(!0),$.when(this.$().process($.extend(!0,{},e,o))).done(function(){this.__oIScroll=this.__oDestroyPool.add(new iScroll(this.$('[data-id="sbo-subbo-metadata-view-edit-frame"]>.content>.fields')[0],{onBeforeScrollStart:function(e){var t=$(e.target);return t.is("input")||t.is("select")||t.is("textarea")?!0:this.beforeScrollEnd&&this.beforeScrollEnd(e)?!0:(e.preventDefault(),void 0)}.bind(this)}));var e=this.$('[data-id="sbo-subbo-metadata-view-edit-frame"]>.content>.fields').getControl();e.attachEvent("afterProcess",this.__oDestroyPool.add(function(){this.__oIScroll.refresh()}.bind(this),function(){e.detachEvent("afterProcess",this)})),a.resolve()}.bind(this)),this.__oDestroyPool.add(this.$(),this.$().unprocess),this.$('[data-id="sbo-subbo-metadata-view-edit-frame"]>.content>.fields').getControl().setOption({ignoredProperty:this.getIgnoredProperty(),metadata:this.getOption("metadata"),propertyTemplate:e.html.sap.sbo.app.template.DynamicProperty}),this.onValueUpdated();var s=null;return this.getOption("readonly")?s=[{text:t.sbo.localization.Helper.get("common/OK"),key:"subedit*close"}]:(s=[{text:t.sbo.localization.Helper.get("common/CANCEL"),key:"subedit*close"},{text:t.sbo.localization.Helper.get("common/SAVE"),key:"subedit*save"}],this.getOption("newItem")||s.unshift({text:t.sbo.localization.Helper.get("common/REMOVE"),key:"subedit*remove"})),window.SboShell.addTopButtons(s),window.SboShell.attachEvent("actionButtonClick",this.__oDestroyPool.add(function(e){/^subedit\*/.test(e)&&this["on_"+e.replace("subedit*","")]()}.bind(this),function(){window.SboShell.detachEvent("actionButtonClick",this)})),a.promise()},onValueUpdated:function(){var e=window.SboShell.callFeatureMethod("SubBoMetadataView.getModel").getValue(this.getOption("modelPrefix")),o=t.sbo.util.metadataHelper.convertDynamicMeta(e["sbo.dynamicmeta"]);this.$(".sbo-metadata-list").getControl().setOption("dynamicMeta",0!==Object.keys(o).length?o:window.SboShell.callFeatureMethod("SubBoMetadataView.getGlobalDynamicMeta"))},hideButtons:function(e){window.SboShell[e?"disableAllTopButtons":"enableAllTopButtons"]()},on_close:function(){this.closeFrame()},on_save:function(){this.closeFrame("save")},on_remove:function(){this.closeFrame("remove")},destroyView:function(){t.sbo.ui.FrameViewController.prototype.destroyView.call(this),this.__oDestroyPool.destroy(),this.__oDestroyPool=null},update:function(){t.sbo.ui.FrameViewController.prototype.update.apply(this,arguments)},getIgnoredProperty:function(){return[]},setModelValue:function(e,t){window.SboShell.callFeatureMethod("SubBoMetadataView.getModel").setValue(this.getOption("modelPrefix")+e,t)
},beforeScrollEnd:function(){}},Protected:{}})}),define("sap.sbo.page.phone.colleague.ColleagueHome",["sap.sbo.ui.FrameViewController","sap.ui.Controller","sap.core.JsonModel","sap.core.klass","sap.sbo.services.UserEmployeesService","sap.sbo.layout.phone.AdvancedTilesLayout","sap.sbo.page.phone.BoHomeController","sap.sbo.layout.TileView","sap.sbo.shell.IFeaturable","sap.ui.View","sap.util","sap.sbo.util.formatter","sap.sbo.app.network.FeedTile","sap.sbo.localization.Helper","css!sap.sbo.page.phone.colleague.ColleagueHome"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.phone.BoHomeController,Interfaces:[t.sbo.shell.IFeaturable],Public:{init:function(){t.sbo.page.phone.BoHomeController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{__oService:new t.sbo.services.UserEmployeesService,_mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),__oModel:new t.core.JsonModel({}),__fActionButtonClickedProxy:$.proxy(this.__actionBtnClick,this),__bMyself:!1})},destroy:function(){this.__oService.destroy(),this.__oService=null,this._mViewInfo=null,this.__oModel=null},initView:function(){var o=$.Deferred(),a=this;return $.when(t.sbo.page.phone.BoHomeController.prototype.initView.apply(this,arguments)).done(function(){if(a.setTitle(""),null!=a._mViewInfo&&null!=a._mViewInfo.storeParam&&a._mViewInfo.storeParam.length>0){var i=a._mViewInfo.storeParam[0].keyValue;if(i==window.SboShell.getData("user.employeeID"))return a.__bMyself=!0,window.SboShell.gotoView("sap.sbo.page.phone.Home"),!1;t.util.showLoading(),$.when(a.__oService.get({employeeID:a._mViewInfo.storeParam[0].keyValue})).done(function(t){null!=t&&a.setTitle({title:(null==t.firstName?"":t.firstName)+" "+(null==t.lastName?"":t.lastName),subTitle:null==t.jobTitle?"":t.jobTitle}),a.__oModel.setValue("",t),a.$().setModel(a.__oModel),a.$().process(e),o.resolve()}).fail(function(e){o.reject(e)}).always(function(){t.util.hideLoading()})}}),o.promise()},destroyView:function(){t.sbo.page.phone.BoHomeController.prototype.destroyView.apply(this,arguments),this.__bMyself||this.$().unprocess()},update:function(){},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"UserEmployee",keyElements:this._mViewInfo.storeParam}},getService:function(){return this.__oService},getPropertyTemplate:function(){return generalPropertyHtml}},Protected:{__actionBtnClick:function(e){var t=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo");switch(e){case"edit":window.SboShell.gotoView("sap.sbo.page.phone.user.Edit",t.storeParam);break;case"customize":this.startCustomize(),window.SboShell.hideActionButtons(["customize","edit"]),window.SboShell.showActionButtons(["done"]);break;case"done":this.stopCustomize(),window.SboShell.showActionButtons(["customize","edit"]),window.SboShell.hideActionButtons(["done"])}}}})}),define("sap.sbo.page.phone.colleague.ColleagueList",["sap.ui.Controller","sap.core.klass","sap.sbo.layout.phone.ListLayout","sap.core.ArrayListSource","sap.sbo.util.AjaxListSource","sap.sbo.ui.widget.PopupMenu","sap.sbo.util.formatter","sap.sbo.services.UserEmployeesService","css!sap.sbo.page.phone.colleague.ColleagueList"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={getDisplayStataus:function(e){return null!=e&&e.length>0?"block":"none"}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{__oService:new t.sbo.services.UserEmployeesService,__fActionButtonClickedProxy:$.proxy(this.__fActionButtonClicked,this)})},destroy:function(){this.__oService.destroy()},initView:function(){var o=this;this.__oService=new t.sbo.services.UserEmployeesService,o.$().process(e),o.$().control({".listView":{source:new t.sbo.util.AjaxListSource(o.__oService),listener:{itemClick:function(e){window.SboShell.gotoView("sap.sbo.page.phone.colleague.ColleagueHome",[{keyName:"employeeID",keyValue:e.employeeID}])},requestFailed:function(){window.SboShell.raiseException("Request leads failed")},requestDone:function(e){o.setTitle({title:"Colleagues",subTitle:"Total "+e.count+" items"})}}}})},destroyView:function(){this.$().unprocess()},update:function(){}},Protected:{__fActionButtonClicked:function(e){switch(e){case"key_user_creation":window.SboShell.openFrame({view:"sap.sbo.page.phone.user.UserCreation",type:"center-column",options:{internalkey:-1},callback:function(e,t){"test"==e&&window.SboShell.raiseException(t)}});break;default:}}}})}),define("sap.sbo.page.phone.Contact.AddressEdit",["sap.ui.Controller","sap.core.JsonModel","sap.ui.widget.TextField","sap.ui.widget.Button","sap.sbo.ui.FrameViewController","sap.ui.widget.DropDownBox","sap.sbo.services.CountriesService","sap.sbo.services.StatesService","sap.sbo.localization.Helper","css!sap.sbo.page.phone.boCreation","css!sap.sbo.page.phone.Customer.Address.AddressEdit"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={isZero:function(e){return 0===e}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Options:{data:{type:"object"},mainAdd:{type:"Integer"},isNew:{type:"Boolean"}},Public:{init:function(){t.sbo.ui.FrameViewController.prototype.init.apply(this,arguments);var e=this;this.declareMember({__oModel:this.autoDestroy(new t.core.JsonModel),__oModelFlag:this.autoDestroy(new t.core.JsonModel({bMainFlag:"NO",mainAdd:null})),__oListCRYService:this.autoDestroy(new t.sbo.services.CountriesService),__oListCSTService:this.autoDestroy(new t.sbo.services.StatesService),__oAddressModel:this.autoDestroy(new t.core.JsonModel({countrylist:"",statelist:""})),__oStates:{},_oIScroll:null,_fActionButtonClicked:function(o){switch(o){case"ok":e.callShell("save",{data:e.__oModel.getValue(""),mainAdd:e.__oModelFlag.getValue("mainAdd")}),e.closeFrame();break;case"delete":$.when(window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/contact/REMOVE_ADD_CONFIRM"),"question",[{key:"C",text:t.sbo.localization.Helper.get("common/CANCEL")},{key:"R",text:t.sbo.localization.Helper.get("common/DELETE")}])).done(function(t){"R"==t&&(e.callShell("delete",{deleteLine:e.__oModel.getValue("").addressLineNum}),e.closeFrame())});break;case"cancel":e.closeFrame()}}})},destroy:function(){},initView:function(){var o=this,a=$.Deferred();o.__oModel.attachEvent("valueChanged",function(e,t){if(("country"===e||""===e)&&"@UPDATE"===t){"country"===e&&this.setValue("state","");var a=this.getValue("country"),i=o.__oStates[a];if(i)o.__oAddressModel.setValue("statelist",i);else{o.__oAddressModel.setValue("statelist",[]);var s={filter:"country eq '"+a+"'"};$.when(o.__oListCSTService.query(s)).done(function(e){o.__oStates[a]=e.value,o.__oAddressModel.setValue("statelist",e.value)})}}}),this.__oModel.setValue("",this.getOption("data"));var i=this.getOption("mainAdd");return null===i?this.__oModelFlag.setValue("bMainFlag","YES"):""+i==""+this.getOption("data").addressLineNum&&this.__oModelFlag.setValue("bMainFlag","YES"),$.when(o.__oListCRYService.query()).done(function(i){o.__oAddressModel.setValue("countrylist",i.value),o.$().setModel(o.__oAddressModel,"AddressModel"),o.$().setModel(o.__oModelFlag,"FlagModel"),o.$().setModel(o.__oModel,"addressEditModel").process(e).done(function(){a.resolve(),o._oIScroll=new iScroll(o.$(".scroll")[0],{hScroll:!1,bounce:!1})}),window.SboShell.addTopButtons([{key:"cancel",text:t.sbo.localization.Helper.get("common/CANCEL")}]),o.getOption("isNew")||window.SboShell.addTopButtons([{key:"delete",text:t.sbo.localization.Helper.get("common/DELETE")}]),window.SboShell.addTopButtons([{key:"ok",text:t.sbo.localization.Helper.get("app/SAVE_VIEW")}]),window.SboShell.attachEvent("actionButtonClick",o._fActionButtonClicked)}).fail(function(e){a.reject(e)}),o.$().on("vclick",'[ctrl="btnSetMain"]',function(e){if("NO"===$(e.target).findModel("FlagModel").getValue("bMainFlag")){var t=$(e.target).findModel("addressEditModel").getValue("addressLineNum");$(e.target).findModel("FlagModel").setValue("mainAdd",t),$(e.target).findModel("FlagModel").setValue("bMainFlag","YES")}}),a.promise()},destroyView:function(){window.SboShell.detachEvent("actionButtonClick",this._fActionButtonClicked),this._oIScroll&&(this._oIScroll.destroy(),this._oIScroll=null)},update:function(){}}})}),define("sap.sbo.page.phone.Contact.AddressListView",["sap.core.JsonModel","sap.ui.Controller","sap.log","sap.util","sap.core.ArrayListSource","sap.sbo.layout.phone.ListLayout","sap.sbo.services.ContactPersonsService","sap.core.DestroyPool","sap.sbo.localization.Helper","sap.sbo.ui.widget.Address","sap.sbo.ui.PageController","css!sap.sbo.page.phone.boListView","css!sap.sbo.page.phone.Customer.Address.AddressList"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={string_null:function(e,t){return"<<"===t?e||"":e}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.PageController,Public:{init:function(){t.sbo.ui.PageController.prototype.init.apply(this,arguments),this.declareMember({__oService:this.autoDestroy(new t.sbo.services.ContactPersonsService),_oListView:null,_oDestroyPool:null,__Param:{},__AddressModel:this.autoDestroy(new t.core.JsonModel({street:"",block:"",city:"",state:"",country:"",zipCode:"",addressName:"",addressLineNum:""})),_onActionButtonClickProxy:$.proxy(this._onActionButtonClickHandler,this)}),window.SboShell.attachEvent("actionButtonClick",this._onActionButtonClickProxy)},destroy:function(){window.SboShell.detachEvent("actionButtonClick",this._onActionButtonClickProxy)},loadParams:function(e){var t=this;if(this.__info=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),this.__info.otherParam)e.resolve(this.__info.otherParam);else{var o={contactPersonID:t.__info.storeParam.contactPersonID};t.__oService.get(o).done(function(t){e.resolve({contactAddresses:t.contactAddresses,mainAdd:t.mainAdd})}).fail(function(t){window.SboShell.raiseException(t),e.reject(t)})}},initView:function(){var o=this;this._oDestroyPool=new t.core.DestroyPool;var a=$.Deferred();return $.when(t.sbo.ui.PageController.prototype.initView.call(this)).done(function(i){o.__Param=i,o.$().process(e),window.SboShell.addActionButtons([{key:"add",text:t.sbo.localization.Helper.get("common/ADD")}],o),o._oListView=o.$('[data-id="listView"]').getControl(),o.$().control({'[data-id="listView"]':{emptyTexts:[t.sbo.localization.Helper.get("app/contact/ADD_PURPOSE"),t.sbo.localization.Helper.get("app/customer/ADD_CREATE")],source:new t.core.ArrayListSource(o.__Param.contactAddresses),listener:{processDone:function(){a.resolve()},requestDone:function(e){SboShell.setOption({title:e.count+" "+t.sbo.localization.Helper.get("app/contact/ADDRESSES")})},create:function(){o._createAddress()},modelCreated:function(e,a,s){var n=o._oDestroyPool.add(new t.core.JsonModel({bMainFlag:"NO"}));s.setModel(n,"AddressInfo"),null!==i.mainAdd&&""+i.mainAdd==""+e.getValue("addressLineNum")&&n.setValue("bMainFlag","YES")}}}}),o.$().on("vclick",".edit",function(e){var t=$(e.target).findModel();SboShell.openFrame({view:"sap.sbo.page.phone.Contact.AddressEdit",type:"center",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},height:768,width:480,zindex:2e3,options:{data:t.getValue(""),mainAdd:i.mainAdd,isNew:!1},callback:function(e,a){"save"===e&&$.when(t.setValue("",a.data)).done(function(){o.__update(a.mainAdd)}),"delete"===e&&o.__delete(a.deleteLine)}})})}).fail(function(e){window.SboShell.raiseException(e),a.reject(e)}),a.promise()},destroyView:function(){this._oDestroyPool.destroy(),this._oDestroyPool=null,this.$().unprocess()},update:function(){}},Protected:{__refresh:function(e){var o=this;o.__Param.mainAdd=e.mainAdd,o.__Param.contactAddresses=e.contactAddresses,o.$('div[data-id="listView"]').getControl().getOption("source").setArray(e.contactAddresses),o._oListView.refresh(),SboShell.setOption({title:t.sbo.localization.Helper.get("app/contact/ADDRESSES")+" "+o.__Param.contactAddresses.length})},__update:function(e){var t=this,o={contactPersonID:t.__info.storeParam.contactPersonID},a={};a.contactAddresses=t.$('div[data-id="listView"]').getControl().getOption("source").getArray(),null!==e&&(a.mainAdd=e),t.__oService.update(a,o).done(function(e){t.__refresh(e)})},__delete:function(e){var o=this,a={contactPersonID:o.__info.storeParam.contactPersonID};o.__oService.get(a).done(function(i){for(var s=i.contactAddresses,n=s.length-1;n>=0;--n)s[n].addressLineNum===e&&s.splice(n,1);var r={contactAddresses:s};i.mainAdd===e&&(r.mainAdd=null),t.util.showLoading(),o.__oService.update(r,a).done(function(e){o.__refresh(e)}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()})})},_createAddress:function(){var e=this,t={contactPersonID:e.__info.storeParam.contactPersonID};e.__oService.get(t).done(function(t){e.__oService.getInitBoNode(t,"Root/contactAddresses").done(function(o){for(var a=o.contactAddresses.length-1;o.contactAddresses[a];a--)null===o.contactAddresses[a].addressName&&(e.__AddressModel.setValue("addressLineNum",o.contactAddresses[a].addressLineNum),e.__AddressModel.setValue("addressName",o.contactAddresses[a].addressName),e.__AddressModel.setValue("street",o.contactAddresses[a].street),e.__AddressModel.setValue("block",o.contactAddresses[a].block),e.__AddressModel.setValue("city",o.contactAddresses[a].city),e.__AddressModel.setValue("state",o.contactAddresses[a].state),e.__AddressModel.setValue("country",o.contactAddresses[a].country),e.__AddressModel.setValue("zipCode",o.contactAddresses[a].zipCode));SboShell.openFrame({view:"sap.sbo.page.phone.Contact.AddressEdit",type:"center",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},height:768,width:480,zindex:2e3,options:{data:e.__AddressModel.getValue(""),mainAdd:t.mainAdd,isNew:!0},callback:function(t,o){"save"===t&&(e.$('div[data-id="listView"]').getControl().getOption("source").insertAtEnd(o.data),e.__update(o.mainAdd))}})}).fail(function(e){window.SboShell.raiseException(e)})}).fail(function(e){window.SboShell.raiseException(e)})},_onActionButtonClickHandler:function(e){var t=this;switch(e){case"add":t._createAddress()}}}})}),define("sap.sbo.page.phone.Contact.AddressTile",["sap.ui.Controller","sap.sbo.localization.Helper","sap.core.JsonModel","sap.sbo.page.phone.ContentTileViewController","sap.sbo.services.ContactPersonsService","css!sap.sbo.page.phone.Customer.AddressTile"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={goldenImage:function(e){return e?"<img src='./image/Customer/goldenStar.png'>":void 0}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.phone.ContentTileViewController,Public:{init:function(){t.sbo.page.phone.ContentTileViewController.prototype.init.apply(this,arguments),this.declareMember({__oService:this.autoDestroy(new t.sbo.services.ContactPersonsService),__modelAddress:this.autoDestroy(new t.core.JsonModel({street:"",block:"",city:"",state:"",country:"",zipCode:"",addressName:""}))})},destroy:function(){},initView:function(){var o=$.Deferred(),a=this;return this.$().setModel(this.__modelAddress,"Address"),$.when(t.sbo.page.phone.ContentTileViewController.prototype.initView.apply(this,arguments)).done(function(){for(var t=this.$().findModel(),i=t.getValue(""),s=0;i.contactAddresses[s];s++)i.contactAddresses[s].addressLineNum===i.mainAdd&&a.__modelAddress.setValue("addressName",i.contactAddresses[s].addressName);this.$().process(e),o.resolve()}.bind(this)),o.promise()},destroyView:function(){t.sbo.page.phone.ContentTileViewController.prototype.destroyView.apply(this,arguments)},getTileTitle:function(){return t.sbo.localization.Helper.get("app/contact/ADDRESSES")},getNumberBindingPath:function(){return"contactAddresses/length"},getCreateDesc:function(){return t.sbo.localization.Helper.get("app/contact/ADD_CREATE")},on_basic:function(){var e=$(event.target).findModel();window.SboShell.gotoView("sap.sbo.page.phone.Contact.AddressListView",{contactPersonID:e.getValue("contactPersonID")},{contactAddresses:e.getValue("contactAddresses"),mainAdd:e.getValue("mainAdd")})},on_navigate:function(){this.on_basic()},on_create:function(){var e=this,t=$(event.target).findModel(),o={contactPersonID:t.getValue("contactPersonID")};e.__oService.get(o).done(function(o){e.__oService.getInitBoNode(o,"Root/contactAddresses").done(function(a){for(var i=a.contactAddresses.length-1;a.contactAddresses[i];i--)null===a.contactAddresses[i].addressName&&(e.__modelAddress.setValue("addressName",a.contactAddresses[i].addressName),e.__modelAddress.setValue("street",a.contactAddresses[i].street),e.__modelAddress.setValue("block",a.contactAddresses[i].block),e.__modelAddress.setValue("city",a.contactAddresses[i].city),e.__modelAddress.setValue("state",a.contactAddresses[i].state),e.__modelAddress.setValue("country",a.contactAddresses[i].country),e.__modelAddress.setValue("zipCode",a.contactAddresses[i].zipCode));SboShell.openFrame({view:"sap.sbo.page.phone.Contact.AddressEdit",type:"center",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},height:768,width:480,zindex:2e3,options:{data:e.__modelAddress.getValue(""),mainAdd:o.mainAdd,isNew:!0},callback:function(o,a){if("save"===o){t.getValue("contactAddresses").push(a.data);var i={contactPersonID:t.getValue("contactPersonID")},s={};s.contactAddresses=t.getValue("contactAddresses"),e.__oService.update(s,i).done(function(){e.__oService.get(i).done(function(e){window.SboShell.gotoView("sap.sbo.page.phone.Contact.AddressListView",{contactPersonID:e.contactPersonID},{contactAddresses:e.contactAddresses,mainAdd:e.mainAdd})})})}}})}).fail(function(e){window.SboShell.raiseException(e)})}).fail(function(e){window.SboShell.raiseException(e)})}},Protected:{}})}),define("sap.sbo.page.phone.Contact.BasicTile",["sap.ui.Controller","sap.sbo.localization.Helper","sap.sbo.page.phone.ContentTileViewController","sap.ui.widget.Photo","json!sap.sbo.util.enums","css!sap.sbo.page.phone.Customer.BasicTile"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={string_active:function(o){return o===e.json.sap.sbo.util.enums.bool.Yes?t.sbo.localization.Helper.get("app/appr/ACTIVE"):t.sbo.localization.Helper.get("app/appr/INACTIVE")}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.phone.ContentTileViewController,Public:{init:function(){t.sbo.page.phone.ContentTileViewController.prototype.init.apply(this,arguments),this.declareMember({})},destroy:function(){},initView:function(){var o=$.Deferred();return $.when(t.sbo.page.phone.ContentTileViewController.prototype.initView.apply(this,arguments)).done(function(){this.$().process(e),o.resolve()}.bind(this)),o.promise()},destroyView:function(){t.sbo.page.phone.ContentTileViewController.prototype.destroyView.apply(this,arguments)},getTileTitle:function(){return t.sbo.localization.Helper.get("app/BASIC")},on_basic:function(){var e=$(event.target).findModel();window.SboShell.openFrame({view:"sap.sbo.app.BOProfile.ProfileDetails",type:"center",width:640,height:480,options:{userID:e.getValue("contactPersonID"),boName:"ContactPerson"},callback:function(t,o){"refreshAvatar"==t&&o&&e.setValue("Image/url",o)}}),event.stopPropagation()},on_navigate:function(){var e=$(event.target).findModel();window.SboShell.gotoView("sap.sbo.page.phone.Contact.ContactEdit",[{keyName:"contactPersonID",keyValue:e.getValue("contactPersonID")}])}},Protected:{}})}),define("sap.sbo.page.phone.Contact.ContactCreation",["sap.ui.Controller","sap.sbo.page.phone.BoMetadataCreationFrameController","sap.sbo.layout.phone.MetadataList","sap.sbo.services.ContactPersonsService","sap.sbo.compoundservices.ContactPersonService","sap.sbo.ui.widget.BoStatus","sap.ui.widget.TextField","sap.ui.widget.TextArea","sap.sbo.ui.widget.DateTimeField","sap.sbo.util.formatter","sap.ui.widget.Button","sap.util","sap.sbo.ui.widget.BoLabel","sap.sbo.core.BoException","sap.core.JsonModel","sap.sbo.localization.Helper","sap.core.ListSourceFilter","json!sap.sbo.util.enums","css!sap.sbo.app.template.EditProperty","css!sap.sbo.app.template.DynamicProperty"],function(){"use strict";var e=this.getNS(),t=e.sap,o=t.sbo.page.phone.BoMetadataCreationFrameController;return e.formatter={convertEmtpyNull:function(e,t){return"<<"===t?null===e?"":e:">>"===t?""===e?null:e:void 0}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:o,Options:{data:{type:"object"}},Public:{init:function(){o.prototype.init.apply(this,arguments);var e=this;this.declareMember({_oService:new t.sbo.services.ContactPersonsService,_contactPersonService:new t.sbo.compoundservices.ContactPersonService,__modelCustomer:this.autoDestroy(new t.core.JsonModel({readonly:!1})),_fActionButtonClicked:function(o){switch(o){case"save":t.util.showLoading(),$.when(e.boCreate()).done(function(o){var a={boNamespace:"com.sap.sbo",boName:"ContactPerson",keyElements:[{keyName:"contactPersonID",keyValue:o.contactPersonID}]};e.callShell("save",a),window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/CONTACT_CREATE_SUCCESSFUL"),"success"),window.SboShell.gotoView("sap.sbo.page.phone.Contact.ContactHome",[{keyName:"contactPersonID",keyValue:o.contactPersonID}])}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()});break;case"cancel":e.callShell("close")}}})},destroy:function(){this._oService.destroy(),this._contactPersonService.destroy()},initView:function(){var a=this;this.$().setModel(this.__modelCustomer,"customer");var i=$.Deferred();return $.when(o.prototype.initView.call(this)).done(function(){i.resolve()}).fail(function(e){window.SboShell.raiseException(e),i.reject(e)}),this.$().control({"[ctrl='main']":{listener:{afterProcess:function(){var e=a.getOption("data");e.BPcardCode&&(a.getModel().setValue("cardCode",e.BPcardCode),a.getModel().setValue("BusinessPartnerCardName",e.BPcardName),a.__modelCustomer.setValue("readonly",!0))}}}}),this.$().on("GuilinControlEvent.navigate GuilinControlEvent.choose",".sbo-metadata-list-property",function(o){switch($(o.currentTarget).attr("gl-property")){case"cardCode":window.SboShell.openFrame({view:"sap.sbo.chooseList.phone.ChooseListCustomer",type:"right",options:{filter:new t.core.ListSourceFilter("(`isActive` = '"+e.json.sap.sbo.util.enums.bool.Yes+"')")},callback:function(e,t){"select"===e&&(a.getModel().setValue("cardCode",t.cardCode),a.getModel().setValue("BusinessPartnerCardName",t.cardName))}})}}),window.SboShell.addTopButtons([{key:"cancel",text:t.sbo.localization.Helper.get("common/CANCEL")},{key:"save",text:t.sbo.localization.Helper.get("app/SAVE_VIEW")}]),window.SboShell.attachEvent("actionButtonClick",this._fActionButtonClicked),i.promise()},destroyView:function(){window.SboShell.detachEvent("actionButtonClick",this._fActionButtonClicked),this.$().off("GuilinControlEvent.navigate GuilinControlEvent.choose"),o.prototype.destroyView.call(this)},update:function(){o.prototype.update.apply(this,arguments)},getMainControl:function(){return this.$("[ctrl='main']").getControl()},getBoType:function(){return{boNamespace:"com.sap.sbo",boName:"ContactPerson"}},getService:function(){return this._oService},process:function(){this.$().process(e)},boValidate:function(e){if(!e.lastName){var o=new t.sbo.core.BoException(t.sbo.localization.Helper.get("app/contact/INPUT_LAST_NAME"),-1,"lastName");throw o}},boCreate:function(){var e=$.Deferred(),o=this,a=this._oMetadataValueModel.getValue(""),i=o.getOption("data");try{$.when(o.boValidate(a)).done(function(){$.when("Order"===i.boName||"Quotation"===i.boName||"SalesOpportunity"===i.boName?o._contactPersonService.createAndSetMain(a,i.boName,i.keyParam[0].keyValue):o.getService().create(a)).done(function(t){e.resolve(t)}).fail(function(a){a instanceof t.sbo.core.BoException&&o.showErrorByExpr(a.getField(),a.getMessage()),e.reject(a)})}).fail(function(a){a instanceof t.sbo.core.BoException&&o.showErrorByExpr(a.getField(),a.getMessage()),e.reject(a)})}catch(s){e.reject(s)}return e.promise()}},Protected:{}})}),define("sap.sbo.page.phone.Contact.ContactEdit",["css!sap.sbo.app.template.EditProperty","sap.core.klass","sap.ui.Controller","sap.sbo.layout.phone.MetadataLayout","sap.ui.widget.TextField","sap.sbo.services.ContactPersonsService","sap.sbo.page.phone.BoMetadataEditController","sap.ui.widget.TextArea","sap.sbo.ui.widget.DateTimeField","sap.sbo.util.formatter","sap.util","sap.sbo.ui.widget.BoStatus","sap.ui.widget.Checkbox","sap.sbo.util.formatter","sap.sbo.ui.widget.BoLabel","sap.ui.widget.Photo","sap.core.JsonModel","sap.sbo.localization.Helper","sap.sbo.compoundservices.AttachmentService","sap.sbo.app.task.taskUtil","sap.sbo.core.BoException","sap.core.ListSourceFilter","json!sap.sbo.util.enums","css!sap.sbo.page.phone.boEdit"],function(){"use strict";var e=this.getNS(),t=e.sap,o=e.json.sap.sbo.util.enums.bool;return e.formatter={string_null:function(e,t){return"<<"===t?e||"":e}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.phone.BoMetadataEditController,Public:{init:function(){t.sbo.page.phone.BoMetadataEditController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{_oService:new t.sbo.services.ContactPersonsService,_mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),__modelOwner:this.autoDestroy(new t.core.JsonModel({ownerName:"",OwnerImage:{url:"./image/common/no-pic-avatar.jpg"}})),oAttachementService:this.autoDestroy(new t.sbo.compoundservices.AttachmentService)})},destroy:function(){this._oService.destroy()},initView:function(){var e=$.Deferred(),a=this;return this.$().setModel(this.__modelOwner,"owner"),$.when(t.sbo.page.phone.BoMetadataEditController.prototype.initView.call(this)).done(function(){a.setTitle(t.sbo.localization.Helper.get("app/BASIC"));var e=a._oMetadataValueModel.getValue("ownerCode");null!=e&&$.when(a.oAttachementService.getPortraitId(e)).done(function(o){if(-1!==o.value){var i={};i.attachmentId=o.value,i.ownerCode=e;var s=t.sbo.app.task.taskUtil.PreviewUrl(i);a.__modelOwner.setValue("OwnerImage",{url:s})}})}).fail(function(){}).always(function(){e.resolve()}),a.$().on("vclick",".changeStatus",function(){var e=a._oMetadataValueModel.getValue("active");e===o.Yes?a._oMetadataValueModel.setValue("active",o.No):a._oMetadataValueModel.setValue("active",o.Yes)}),this.$().on("GuilinControlEvent.navigate GuilinControlEvent.choose",".sbo-metadata-list-property",function(e){switch($(e.currentTarget).attr("gl-property")){case"ownerCode":if("navigate"===e.namespace){var o=a._oMetadataValueModel.getValue("ownerCode");null!==o&&window.SboShell.gotoView("sap.sbo.page.phone.user.BasicInfo",[{keyName:"employeeID",keyValue:o}])}else window.SboShell.openFrame({view:"sap.sbo.chooseList.phone.ChooseListEmployee",options:{},type:"right",callback:function(e,o){"close"===e||"select"===e&&(a._oMetadataValueModel.setValue("ownerCode",o.employeeID),a._oMetadataValueModel.setValue("OwnerEmployeeDisplayName",o.displayName),$.when(a.oAttachementService.getPortraitId(o.employeeID)).done(function(e){if(-1!==e.value){var i={};i.attachmentId=e.value,i.ownerCode=o.employeeID;var s=t.sbo.app.task.taskUtil.PreviewUrl(i);a.__modelOwner.setValue("OwnerImage",{url:s})}}))}});break;case"cardCode":var i=a._oMetadataValueModel.getValue("cardCode");"navigate"===e.namespace&&""!==i&&window.SboShell.gotoView("sap.sbo.page.phone.Customer.CustomerHome",[{keyName:"cardCode",keyValue:i}])}}),e.promise()},destroyView:function(){window.SboShell.detachEvent("actionButtonClick",this._fnButtonProxy),this.$().off("GuilinControlEvent.navigate GuilinControlEvent.choose"),this.$().unprocess(),t.sbo.page.phone.BoMetadataEditController.prototype.destroyView.call(this)},update:function(){},getMainControl:function(){return this.$("[ctrl='main']").getControl()},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"ContactPerson",keyElements:this._mViewInfo.storeParam}},getService:function(){return this._oService},process:function(){this.$().process(e)},boValidate:function(e){if(!e.lastName){var o=new t.sbo.core.BoException(t.sbo.localization.Helper.get("app/contact/INPUT_LAST_NAME"),-1,"lastName");throw o}}},Protected:{}})}),define("sap.sbo.page.phone.Contact.ContactHome",["sap.core.JsonModel","sap.log","sap.util","sap.ui.MessageBox","sap.ui.Controller","sap.sbo.layout.TileView","sap.sbo.ui.widget.UploadButton","sap.sbo.services.BaseService","sap.sbo.services.ContactPersonsService","sap.sbo.services.BusinessPartnersService","sap.sbo.layout.phone.AdvancedTilesLayout","sap.sbo.page.phone.BoHomeController","sap.ui.widget.TextField","sap.sbo.localization.Helper","sap.sbo.ui.widget.Address","sap.sbo.util.formatter","json!sap.sbo.util.enums","css!sap.sbo.page.phone.Document.DocumentHome"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={string_null:function(e,t){return"<<"===t?e||"":e}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.phone.BoHomeController,Public:{init:function(){t.sbo.page.phone.BoHomeController.prototype.init.apply(this,arguments),this.declareMember({__oModel:this.autoDestroy(new t.core.JsonModel({Image:{url:"./image/common/no-pic.png"}})),__oService:this.autoDestroy(new t.sbo.services.ContactPersonsService),__contactPersonID:null}),this.__contactPersonID=this.convertBoKey(window.SboShell.callFeatureMethod("shell.getCurrentViewInfo").storeParam).contactPersonID},destroy:function(){},initView:function(){var o=$.Deferred(),a=this;return $.when(t.sbo.page.phone.BoHomeController.prototype.initView.apply(this,arguments)).done(function(){var i={contactPersonID:a.__contactPersonID};$.when(a.__oService.get(i)).done(function(i){if(a.__oModel.setValue("",i),a.$().setModel(a.__oModel),i.portraitId>0){var s=t.sbo.util.formatter.getURL("ContactPerson","contactPersonID",a.__contactPersonID,i.portraitId);a.__oModel.setValue("Image",{url:s})}a.setTitle({subTitle:a.__oModel.getValue("title")||"",title:a.__oModel.getValue("displayName")}),a.$().process(e).done(function(){o.resolve()}).fail(function(){o.reject()}),window.SboShell.addFeature(a,"relatedFilter.BOkey","method"),a.autoDestroy("remove the realted filter",window.SboShell.removeFeature.bind(window.SboShell,"relatedFilter.BOkey"));for(var n=0;i.contactAddresses[n];n++)i.contactAddresses[n].addressLineNum===i.mainAdd&&(a.__oModel.setValue("addName",i.contactAddresses[n].addressName),a.__oModel.setValue("locale",i.contactAddresses[n].country),a.__oModel.setValue("country",i.contactAddresses[n].CountryName),a.__oModel.setValue("state",i.contactAddresses[n].state),a.__oModel.setValue("zipCode",i.contactAddresses[n].zipCode),a.__oModel.setValue("city",i.contactAddresses[n].city),a.__oModel.setValue("street1",i.contactAddresses[n].street),a.__oModel.setValue("street2",i.contactAddresses[n].block))}).fail(function(e){window.SboShell.raiseException(e),o.reject(e)}).always(function(){t.util.hideLoading()})}),o.promise()},destroyView:function(){t.sbo.page.phone.BoHomeController.prototype.destroyView.apply(this,arguments),this.$().unprocess()},update:function(){},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"ContactPerson",keyElements:[{keyName:"contactPersonID",keyValue:this.__contactPersonID}]}},getService:function(){return this.__oService},doFeature:function(e){if("relatedFilter.BOkey"===e){var o=this.__oModel.getValue("");return{key:"contactPersonID",value:o.contactPersonID}}return t.sbo.page.phone.BoHomeController.prototype.doFeature.apply(this,arguments)}},Protected:{}})}),define("sap.sbo.page.phone.Contact.ContactListView",["sap.log","sap.util","sap.ui.MessageBox","sap.ui.Controller","sap.sbo.services.ContactPersonsService","sap.sbo.services.BusinessPartnersService","sap.sbo.services.SalesOpportunitiesService","sap.sbo.services.OrdersService","sap.sbo.services.QuotationsService","sap.sbo.services.LeadsService","sap.sbo.util.AjaxListSource","sap.sbo.layout.phone.ListLayout","sap.core.ListSourceFilter","sap.sbo.ui.widget.MultipleValueHelp","sap.sbo.ui.widget.ActionDialog","sap.ui.common","sap.ui.widget.Button","sap.ui.widget.Photo","sap.core.DestroyPool","sap.sbo.page.BaseBoListViewController","sap.sbo.ui.widget.ListManipulator","sap.sbo.localization.Helper","sap.sbo.services.BaseService","sap.sbo.util.formatter","json!sap.sbo.page.common.listFilters.Contact","json!sap.sbo.util.enums","css!sap.sbo.page.phone.boListView","css!sap.sbo.page.phone.Contact.ContactListView","sap.sbo.page.common.oppUtil"],function(){"use strict";
var e=this.getNS(),t=e.sap,o=e.json.sap.sbo.util.enums.bool;return e.formatter={bool_string:function(e){return e===o.Yes?"YES":"NO"},integer_string:function(e,t){return"<<"===t?e?""+e:"":e},setMain:function(e){return"YES"===e?"./image/Customer/setMainGray.png":"./image/Customer/setMain.png"},getPhoneImg:function(e){return"YES"===e?"./image/Customer/phoneButton.png":"./image/Customer/phoneGrey.png"},string_bool:function(e){return"YES"===e?!0:!1}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.BaseBoListViewController,Public:{init:function(){t.sbo.page.BaseBoListViewController.prototype.init.apply(this,arguments),this.declareMember({__oService:this.autoDestroy(new t.sbo.services.ContactPersonsService),__oListSource:null,__oDestroy:null,__Param:{},_onActionButtonClickProxy:$.proxy(this._onActionButtonClickHandler,this),__ids:[],__oDataMigration:null,__$actionDlg:null}),this.__oListSource=this.autoDestroy(new t.sbo.util.AjaxListSource(this.__oService,"contactAddresses")),window.SboShell.attachEvent("actionButtonClick",this._onActionButtonClickProxy)},destroy:function(){window.SboShell.detachEvent("actionButtonClick",this._onActionButtonClickProxy),null!=this.__$actionDlg&&(this.__$actionDlg.find("button").each(function(){$(this).off("click")}),this.__$actionDlg.unprocess(),this.__$actionDlg.remove())},getMainControl:function(){return this.$(".sbo-list-layout")},loadParams:function(e){var o=this;if(this.__info=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),o.__info.storeParam){var a;switch(o.__info.storeParam.boName){case"Order":a=o.__oDestroy.add(new t.sbo.services.OrdersService),a.get(o.__convertBoKey(o.__info.storeParam.keyParam)).done(function(t){e.resolve({MainContact:t.contactPersonCode})}).fail(function(t){window.SboShell.raiseException(t),e.reject(t)});break;case"Quotation":a=o.__oDestroy.add(new t.sbo.services.QuotationsService),a.get(o.__convertBoKey(o.__info.storeParam.keyParam)).done(function(t){e.resolve({MainContact:t.contactPersonCode})}).fail(function(t){window.SboShell.raiseException(t),e.reject(t)});break;case"SalesOpportunity":a=o.__oDestroy.add(new t.sbo.services.SalesOpportunitiesService),a.get(o.__convertBoKey(o.__info.storeParam.keyParam)).done(function(t){e.resolve({MainContact:t.contactPerson})}).fail(function(t){window.SboShell.raiseException(t),e.reject(t)});break;case"BusinessPartner":a=o.__oDestroy.add(new t.sbo.services.BusinessPartnersService),a.get(o.__convertBoKey(o.__info.storeParam.keyParam)).done(function(t){e.resolve({MainContact:t.contactPerson})}).fail(function(t){window.SboShell.raiseException(t),e.reject(t)});break;case"Leads":a=o.__oDestroy.add(new t.sbo.services.LeadsService),a.get(o.__convertBoKey(o.__info.storeParam.keyParam)).done(function(t){e.resolve({MainContact:t.contactPersonCode})}).fail(function(t){window.SboShell.raiseException(t),e.reject(t)});break;default:e.resolve(this.__info.otherParam)}}else e.resolve(this.__info.otherParam)},initView:function(){SboShell.setOption({title:t.sbo.localization.Helper.get("common/CONTACT_NAME")});var a=this;this.__oDestroy=new t.core.DestroyPool;var i=$.Deferred();return $.when(t.sbo.page.BaseBoListViewController.prototype.initView.call(this)).done(function(s){a.__info=a.__info.storeParam||"";var n=a.__info.BPcardCode;a.__Param=s;var r=null;if(a.__info.boName)if("BusinessPartner"===a.__info.boName)a.canCreate()&&window.SboShell.addActionButtons([{key:"edit",text:t.sbo.localization.Helper.get("app/contact/EDIT")}],a),r=new t.core.ListSourceFilter("(`cardCode` = '"+n+"')");else{if(a.__info.ContactIDs){a.__ids=a.__info.ContactIDs;var l="";if(a.__ids.length>0){l=l.concat("([contactPersonID]= ",a.__ids[0],")");for(var d="",p=1;a.__ids.length>p;p++)l=d.concat("(",l," | ([contactPersonID]= ",a.__ids[p],"))")}else l="([contactPersonID]= -1)";r=new t.core.ListSourceFilter(l)}else r=new t.core.ListSourceFilter("(`cardCode` = '"+n+"')");window.SboShell.addActionButtons([{key:"edit",text:t.sbo.localization.Helper.get("app/contact/EDIT")}],a)}else a.canCreate()&&window.SboShell.addActionButtons([{key:"create",text:t.sbo.localization.Helper.get("app/contact/CREATE")}],a);a.$().process(e);var c=[],u=!1;a.__info.boName?"BusinessPartner"===a.__info.boName?(c.push(t.sbo.localization.Helper.get("app/customer/CONTACT_PURPOSE")),c.push(t.sbo.localization.Helper.get("app/customer/CONTACT_CREATE")),u=!0):"Order"===a.__info.boName?(c.push(t.sbo.localization.Helper.get("app/order/CONTACT_PURPOSE")),c.push(t.sbo.localization.Helper.get("app/customer/CONTACT_CREATE")),c.push(t.sbo.localization.Helper.get("app/order/CONTACT_INFO")),u=!0):"Quotation"===a.__info.boName?(c.push(t.sbo.localization.Helper.get("app/quotation/CONTACT_PURPOSE")),c.push(t.sbo.localization.Helper.get("app/customer/CONTACT_CREATE")),c.push(t.sbo.localization.Helper.get("app/quotation/CONTACT_INFO")),u=!0):"SalesOpportunity"===a.__info.boName&&(c.push(t.sbo.localization.Helper.get("app/opp/CONTACT_PURPOSE")),c.push(t.sbo.localization.Helper.get("app/customer/CONTACT_CREATE")),c.push(t.sbo.localization.Helper.get("app/opp/CONTACT_INFO")),u=!0):(c.push(t.sbo.localization.Helper.get("app/contact/PURPOSE")),c.push(t.sbo.localization.Helper.get("app/contact/USAGE")),c.push(t.sbo.localization.Helper.get("app/contact/TO_CREATE")),u=!0),a.canQuery()&&(a.$().control({'[data-id="listView"]':{emptyTexts:c,showEmptyContent:u,source:a.__oListSource,filter:r,sort:{field:"EN"===window.SboShell.getData("locale")?"firstName":"lastName",asc:!0},listener:{create:function(){SboShell.openFrame({view:"sap.sbo.page.phone.Contact.ContactCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,options:{data:a.__info},callback:function(){}})},requestDone:function(e){SboShell.setOption({title:1==e.count?t.sbo.localization.Helper.get("common/CONTACT_PERSON"):t.sbo.localization.Helper.get("common/CONTACT_NAME"),subTitle:n?a.__info.BPcardName||"":""}),SboShell.setHeaderCount(e.count)},modelCreated:function(e){e.setValue("bMainFlag","NO"),e.setValue("pressable","YES"),e.getValue("mobilePhone")||e.getValue("phone1")||e.setValue("pressable","NO"),s&&void 0!==s.MainContact&&("BusinessPartner"===a.__info.boName&&s.MainContact===e.getValue("name")||"BusinessPartner"!==a.__info.boName&&s.MainContact===e.getValue("contactPersonID"))&&e.setValue("bMainFlag","YES"),e.setValue("Image",{url:"./image/common/no-pic-avatar.jpg"}),e.setValue("Image",{showImg:"NO"});var o=e.getValue("portraitId"),i=e.getValue("contactPersonID");if(o>0){e.setValue("Image",{showImg:"YES"});var n=t.sbo.util.formatter.getURL("ContactPerson","contactPersonID",i,o);e.setValue("Image",{url:n})}}}}}),a.$().on("vclick",'[data-id="setMain"]',function(e){if($(e.target).findModel().getValue("active")===o.Yes&&"NO"===$(e.target).findModel().getValue("bMainFlag")){var i,n;switch(a.__info.boName){case"Order":i={contactPersonCode:$(e.target).findModel().getValue("contactPersonID")},n=a.__oDestroy.add(new t.sbo.services.OrdersService);break;case"Quotation":i={contactPersonCode:$(e.target).findModel().getValue("contactPersonID")},n=a.__oDestroy.add(new t.sbo.services.QuotationsService);break;case"SalesOpportunity":i={contactPerson:$(e.target).findModel().getValue("contactPersonID")},n=a.__oDestroy.add(new t.sbo.services.SalesOpportunitiesService);break;case"BusinessPartner":i={contactPerson:$(e.target).findModel().getValue("name")},n=a.__oDestroy.add(new t.sbo.services.BusinessPartnersService);break;case"Leads":i={contactPersonCode:$(e.target).findModel().getValue("contactPersonID")},n=a.__oDestroy.add(new t.sbo.services.LeadsService);break;default:}if(t.util.showLoading(),"Leads"==a.__info.boName){var r={mainContactPersonID:$(e.target).findModel().getValue("contactPersonID")};n.action_setMainContactPerson(a.__convertBoKey(a.__info.keyParam),r).done(function(){s.MainContact=$(e.target).findModel().getValue("contactPersonID"),a.__onGotoView()}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()})}else n.update(i,a.__convertBoKey(a.__info.keyParam)).done(function(){s.MainContact="BusinessPartner"===a.__info.boName?$(e.target).findModel().getValue("name"):$(e.target).findModel().getValue("contactPersonID"),a.__onGotoView(),window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/contact/SET_MAIN_SUCCESS"),"success")}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()})}e.stopPropagation()}),a.$().on("vclick",'[data-id="remove"]',function(e){$.when(window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/contact/REMOVE_CONFIRM"),"question",[{key:"C",text:t.sbo.localization.Helper.get("common/CANCEL")},{key:"R",text:t.sbo.localization.Helper.get("common/REMOVE")}])).done(function(o){if("R"==o){var i={contactPersonID:$(e.target).findModel().getValue("contactPersonID")};if(t.util.showLoading(),"Leads"==a.__info.boName)var n=new t.sbo.services.LeadsService;else var n=new t.sbo.services.BusinessPartnersService;n.action_detachContactPerson(a.__convertBoKey(a.__info.keyParam),i).done(function(){n.get(a.__convertBoKey(a.__info.keyParam)).done(function(e){if(s.MainContact="BusinessPartner"===a.__info.boName?e.contactPerson:e.contactPersonCode,"Leads"==a.__info.boName){var t=e.contacts;a.__ids=[];for(var o=0;t.length>o;o++)a.__ids.push(t[o].contactPersonID);a.__onGotoView("Leads"==a.__info.boName,a.__ids)}else a.__onGotoView()}),window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/contact/REMOVE_SUCCESS"),"success")}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()})}}),e.stopPropagation()}),a.$().on("vclick",".item",function(e){SboShell.gotoView("sap.sbo.page.phone.Contact.ContactHome",[{keyName:"contactPersonID",keyValue:$(e.target).findModel().getValue("contactPersonID")}])}),a.$().on("vclick",".action",function(t){var o=$(t.target).findModel().getValue(""),a=[];if(o.mobilePhone&&a.push(o.mobilePhone),o.phone1&&a.push(o.phone1),1===a.length)window.open("tel:"+a[0]);else if(2===a.length){null!=this.__$actionDlg&&(this.__$actionDlg.unprocess(),this.__$actionDlg.remove(),this.__$actionDlg=null),this.__$actionDlg=$('<div data-sap-widget="sap.sbo.ui.widget.ActionDialog">');for(var i=0;a.length>i;i++){var s=$('<button data-sap-widget="sap.ui.widget.Button" data-sap-option="text:\''+a[i]+"'\">");s.data("phoneNumber",a[i]),this.__$actionDlg.append(s)}this.__$actionDlg.process(e),$("#sbo-shell").append(this.__$actionDlg),$.when(SboShell.showMask(.5)).done(function(){null!=this.__$actionDlg&&(this.__$actionDlg.unprocess(),this.__$actionDlg.remove(),this.__$actionDlg=null)}.bind(this)),this.__$actionDlg.getControl().show(),this.__$actionDlg.onControlEvent("click",'button[data-sap-widget="sap.ui.widget.Button"]',function(){window.open("tel:"+this.$().data("phoneNumber"))})}t.stopPropagation()})),i.resolve()}).fail(function(e){window.SboShell.raiseException(e),i.reject(e)}),i.promise()},destroyView:function(){t.sbo.page.BaseBoListViewController.prototype.destroyView.call(this),this.__oDestroy.destroy(),this.$().unprocess()},update:function(){},getService:function(){return this.__oService},getBoNameEntity:function(){return{boNamespace:"com.sap.sbo",boName:"ContactPerson"}},getListSource:function(){return this.__oListSource},getProcessContext:function(){return e},allowListOperation:function(){return this.__info.storeParam.boName?!1:!0},getQuickFilters:function(){if(e&&e.json&&e.json.sap&&e.json.sap.sbo&&e.json.sap.sbo.page&&e.json.sap.sbo.page.common&&e.json.sap.sbo.page.common.listFilters&&e.json.sap.sbo.page.common.listFilters.Contact){var o=e.json.sap.sbo.page.common.listFilters.Contact,a={};for(var i in o)a[i]={},a[i].expr=o[i],a[i].label=t.sbo.localization.Helper.get("app/contact/"+i),a[i].description=a[i].label;return a}return{}}},Protected:{__onGotoView:function(e,o){if(e){var a="";if(o.length>0){a=a.concat("([contactPersonID]= ",o[0],")");for(var i="",s=1;o.length>s;s++)a=i.concat("(",a," | ([contactPersonID]= ",o[s],"))")}else a="([contactPersonID]= -1)";var n=new t.core.ListSourceFilter(a);$.when(this.$('[data-id="listView"]').getControl().setOption("filter",n)).done(function(){this.$('[data-id="listView"]').getControl().refresh()}.bind(this))}else this.$('[data-id="listView"]').getControl().refresh()},__convertBoKey:function(e){for(var t={},o=0;e.length>o;o++)t[e[o].keyName]=e[o].keyValue;return t},_onActionButtonClickHandler:function(e){var a=this;switch(e){case"assign":if(a){var i=new t.core.ListSourceFilter({op:"and",leftValue:new t.core.ListSourceFilter("(`cardCode` = '')").getFilter(),rightValue:new t.core.ListSourceFilter("(`active` = '"+o.Yes+"')").getFilter()});if("Leads"==a.__info.boName){var s="",n="";if(s=s.concat("(([cardCode] = ' ') & ([active] = '",o.Yes,"'))"),s=n.concat("(",s," | ([cardCode] = '",a.__info.BPcardCode,"'))"),a.__ids.length>0)for(var r=0;a.__ids.length>r;r++)s=n.concat("(",s," & ([contactPersonID] != ",a.__ids[r],"))");i=new t.core.ListSourceFilter(s)}window.SboShell.openFrame({view:"sap.sbo.chooseList.phone.ChooseListContact",options:{filter:i},type:"right",callback:function(e,o){if("select"===e){var i={};switch(i.contactPersonID=o.contactPersonID,a.__info.boName){case"Leads":var s=a.__oDestroy.add(new t.sbo.services.LeadsService);s.action_attachContactPerson(a.__convertBoKey(a.__info.keyParam),i).done(function(){s.get(a.__convertBoKey(a.__info.keyParam)).done(function(e){a.__Param.MainContact=e.contactPersonCode;var t=e.contacts;a.__ids=[];for(var o=0;t.length>o;o++)a.__ids.push(t[o].contactPersonID);a.__onGotoView("Leads"==a.__info.boName,a.__ids)})}).fail(function(e){window.SboShell.raiseException(e)});break;case"BusinessPartner":var s=a.__oDestroy.add(new t.sbo.services.BusinessPartnersService);s.action_attachContactPerson(a.__convertBoKey(a.__info.keyParam),i).done(function(){s.get(a.__convertBoKey(a.__info.keyParam)).done(function(e){a.__Param.MainContact=e.contactPerson,a.__onGotoView()})}).fail(function(e){window.SboShell.raiseException(e)});break;case"Order":var s=a.__oDestroy.add(new t.sbo.services.OrdersService);s.action_attachContactPerson(a.__convertBoKey(a.__info.keyParam),i).done(function(){s.get(a.__convertBoKey(a.__info.keyParam)).done(function(e){a.__Param.MainContact=e.contactPersonCode,a.__onGotoView()})}).fail(function(e){window.SboShell.raiseException(e)});break;case"Quotation":var s=a.__oDestroy.add(new t.sbo.services.QuotationsService);s.action_attachContactPerson(a.__convertBoKey(a.__info.keyParam),i).done(function(){s.get(a.__convertBoKey(a.__info.keyParam)).done(function(e){a.__Param.MainContact=e.contactPersonCode,a.__onGotoView()})}).fail(function(e){window.SboShell.raiseException(e)});break;case"SalesOpportunity":var s=a.__oDestroy.add(new t.sbo.services.SalesOpportunitiesService);s.action_attachContactPerson(a.__convertBoKey(a.__info.keyParam),i).done(function(){s.get(a.__convertBoKey(a.__info.keyParam)).done(function(e){a.__Param.MainContact=e.contactPerson,a.__onGotoView()})}).fail(function(e){window.SboShell.raiseException(e)})}}}})}break;case"create":SboShell.openFrame({view:"sap.sbo.page.phone.Contact.ContactCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,options:{data:a.__info},callback:function(){}});break;case"edit":"BusinessPartner"===a.__info.boName?(window.SboShell.addActionButtons([{key:"create",text:t.sbo.localization.Helper.get("app/contact/CREATE")},{key:"assign",text:t.sbo.localization.Helper.get("app/contact/ASSIGN")}],a),a.$('[data-id="listView"]').addClass("showMainAndDeleteBtn")):a.__info.ContactIDs?(window.SboShell.addActionButtons([{key:"assign",text:t.sbo.localization.Helper.get("app/contact/ASSIGN")}],a),a.$('[data-id="listView"]').addClass("showMainAndDeleteBtn")):(window.SboShell.addActionButtons([{key:"create",text:t.sbo.localization.Helper.get("app/contact/CREATE")},{key:"assign",text:t.sbo.localization.Helper.get("app/contact/ASSIGN")}],a),a.$('[data-id="listView"]').addClass("showMainBtn")),window.SboShell.hideActionButtons(["edit"]),window.SboShell.addActionButtons([{key:"done",text:t.sbo.localization.Helper.get("app/contact/DONE")}],a);break;case"done":"BusinessPartner"===a.__info.boName?(window.SboShell.hideActionButtons(["create","assign"]),a.$('[data-id="listView"]').removeClass("showMainAndDeleteBtn")):a.__info.ContactIDs?(window.SboShell.hideActionButtons(["assign"]),a.$('[data-id="listView"]').removeClass("showMainAndDeleteBtn")):(window.SboShell.hideActionButtons(["create","assign"]),a.$('[data-id="listView"]').removeClass("showMainBtn")),window.SboShell.showActionButtons(["edit"]),window.SboShell.hideActionButtons(["done"]),a.__onGotoView()}}}})}),define("sap.sbo.page.phone.dataOwnership.DataOwnershipPhoneObserver",["sap.core.klass","sap.sbo.page.phone.dataOwnership.DOAssignment","sap.sbo.page.common.dataOwnership.BaseDataOwnershipObserver"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:"sap.sbo.page.phone.dataOwnership.DataOwnershipPhoneObserver",Base:t.sbo.page.common.dataOwnership.BaseDataOwnershipObserver,Public:{init:function(){t.sbo.page.common.dataOwnership.BaseDataOwnershipObserver.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{__frameOption:{editable:!0}})},getViewName:function(){return"sap.sbo.page.phone.dataOwnership.DOAssignment"}},Protected:{}})}),define("sap.sbo.page.phone.dataOwnership.DOAssignment",["sap.ui.Controller","sap.sbo.page.common.dataOwnership.DOAssignment","css!sap.sbo.page.phone.dataOwnership.DOAssignment"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.common.dataOwnership.DOAssignment,Public:{init:function(){t.sbo.page.common.dataOwnership.DOAssignment.prototype.init.apply(this,arguments)},destroy:function(){},initView:function(){return t.sbo.page.common.dataOwnership.DOAssignment.prototype.initView.apply(this,arguments)},update:function(){},destroyView:function(){t.sbo.page.common.dataOwnership.DOAssignment.prototype.destroyView.apply(this,arguments)}}})}),define("sap.sbo.page.phone.Leads.BasicInfoEdit",["css!sap.sbo.app.template.EditProperty","sap.core.klass","sap.ui.Controller","sap.sbo.layout.phone.MetadataLayout","sap.core.JsonModel","sap.ui.widget.TextField","sap.sbo.services.LeadsService","sap.sbo.compoundservices.AttachmentService","sap.sbo.page.phone.BoMetadataEditController","sap.ui.widget.TextArea","sap.sbo.util.formatter","sap.sbo.localization.Helper","sap.util","sap.sbo.ui.widget.BoStatus","sap.sbo.shell.IViewHistoryRecordable","sap.ui.widget.DropDownBox","sap.ui.widget.ValueHelpField","sap.sbo.ui.widget.BoStatus","sap.core.ListSourceFilter","json!sap.sbo.util.enums","sap.sbo.app.task.taskUtil","sap.sbo.ui.widget.BoLabel","css!sap.sbo.page.phone.Leads.BasicInfoView","css!sap.sbo.page.phone.boEdit"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={convertEmtpyNull:function(e,t){return"<<"===t?null===e?"":e:">>"===t?""===e?null:e:void 0},string_null:function(e,t){return"<<"===t?e||"":e},getCustomerImg:function(e){return e?"<img data-id='cardName' boEditId='hyperLink' src='./image/Customer/customer.png'>":void 0},qualificationConverter:function(e){for(var t=[],o=function(e){switch(e){case"Cold":return"★";case"Warm":return"★★";case"Hot":return"★★★;"}},a=e.length;a--;)t.push({name:e[a].name,label:o(e[a].name)});return t}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.phone.BoMetadataEditController,Interfaces:[t.sbo.shell.IViewHistoryRecordable],Public:{init:function(){t.sbo.page.phone.BoMetadataEditController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{_oService:new t.sbo.services.LeadsService,_mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),_modelOwner:this.autoDestroy(new t.core.JsonModel({ownerName:"",OwnerImage:{url:"./image/common/no-pic-avatar.jpg"}})),oAttachementService:this.autoDestroy(new t.sbo.compoundservices.AttachmentService)})},destroy:function(){this._oService.destroy()},initView:function(){var o=$.Deferred(),a=this;return this.$().setModel(this._modelOwner,"owner"),$.when(t.sbo.page.phone.BoMetadataEditController.prototype.initView.call(this)).done(function(){a.setTitle({title:a.boGetValue("description")||"(No Name)",subTitle:t.sbo.localization.Helper.get("app/lead/LEADS")+a.boGetValue("id")});var e=a._oMetadataValueModel.getValue("ownerCode");null!=e&&$.when(a.oAttachementService.getPortraitId(e)).done(function(o){if(-1!==o.value){var i={};i.attachmentId=o.value,i.ownerCode=e;var s=t.sbo.app.task.taskUtil.PreviewUrl(i);a._modelOwner.setValue("OwnerImage",{url:s})}})}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){o.resolve()}),a.$().control({"[ctrl='main']":{listener:{afterProcess:function(){a.$().on("GuilinControlEvent.navigate GuilinControlEvent.choose",".sbo-metadata-list-property",function(o){switch($(o.currentTarget).attr("gl-property")){case"bpCode":if("navigate"===o.namespace){var i=$(event.target).findModel();window.SboShell.gotoView("sap.sbo.page.phone.Customer.CustomerHome",[{keyName:"cardCode",keyValue:i.getValue("bpCode")}])}else window.SboShell.openFrame({view:"sap.sbo.chooseList.phone.ChooseListCustomer",type:"right",options:{filter:new t.core.ListSourceFilter("(`isActive` = '"+e.json.sap.sbo.util.enums.bool.Yes+"')")},callback:function(e,t){"select"===e&&(a._oMetadataValueModel.setValue("bpName",t.cardName),a._oMetadataValueModel.setValue("bpCode",t.cardCode))}});break;case"source":window.SboShell.openFrame({view:"sap.sbo.chooseList.phone.ChooseListSource",type:"right",options:{},callback:function(e,t){"select"===e&&(a._oMetadataValueModel.setValue("source",t.sequenceNo),a._oMetadataValueModel.setValue("sourceDescription",t.description))}});break;case"reasonForStatus":window.SboShell.openFrame({view:"sap.sbo.chooseList.phone.ChooseListReason",type:"right",options:{},callback:function(e,t){"select"===e&&(a._oMetadataValueModel.setValue("reasonForStatus",t.sequenceNo),a._oMetadataValueModel.setValue("reasonDescription",t.description))}});break;case"ownerCode":if("navigate"===o.namespace){var s=a._oMetadataValueModel.getValue("ownerCode");null!=s&&window.SboShell.gotoView("sap.sbo.page.phone.user.BasicInfo",[{keyName:"employeeID",keyValue:a._oMetadataValueModel.getValue("ownerCode")}]),event.stopPropagation()}else window.SboShell.openFrame({view:"sap.sbo.chooseList.phone.ChooseListEmployee",type:"right",options:{},callback:function(e,o){"select"===e&&(a._oMetadataValueModel.setValue("ownerCode",o.employeeID),a._oMetadataValueModel.setValue("OwnerEmployeeDisplayName",o.displayName),$.when(a.oAttachementService.getPortraitId(o.employeeID)).done(function(e){if(-1!==e.value){var i={};i.attachmentId=e.value,i.ownerCode=o.employeeID;var s=t.sbo.app.task.taskUtil.PreviewUrl(i);a.__modelOwner.setValue("OwnerImage",{url:s})}}))}})}})}}}}),o.promise()},destroyView:function(){this.$().unprocess(),t.sbo.page.phone.BoMetadataEditController.prototype.destroyView.call(this)},update:function(){},getMainControl:function(){return this.$("[ctrl='main']").getControl()},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"Leads",keyElements:this._mViewInfo.storeParam}},getService:function(){return this._oService},process:function(){this.$().process(e)},boValidate:function(){},shouldBeRecorded:function(){return!1}},Protected:{}})}),define("sap.sbo.page.phone.Leads.Home",["sap.core.klass","sap.core.JsonModel","sap.ui.View","sap.sbo.layout.TileView","sap.ui.common","sap.util","sap.log","sap.ui.Controller","sap.ui.widget.TextField","sap.ui.widget.TextArea","sap.sbo.ui.widget.DateTimeField","sap.ui.widget.Currency","sap.ui.widget.Button","sap.sbo.layout.phone.AdvancedTilesLayout","sap.sbo.shell.IFeaturable","sap.ui.widget.Button","sap.sbo.app.network.FeedTile","sap.sbo.services.LeadsService","sap.sbo.services.BusinessPartnersService","sap.sbo.util.formatter","sap.sbo.layout.phone.MetadataRaw","sap.sbo.app.network.RelatedTile","sap.ui.Repeat","sap.sbo.util.metadataHelper","sap.sbo.localization.Helper","sap.ui.widget.ValueHelpField","sap.sbo.ui.widget.RelatedValueLabel","sap.sbo.page.phone.BoHomeController","css!sap.sbo.app.template.GeneralProperty","html!sap.sbo.app.template.DynamicProperty","css!sap.sbo.app.template.DynamicProperty","css!sap.sbo.app.template.EditProperty","css!sap.sbo.page.phone.Leads.LeadHome","css!sap.sbo.app.template.TileProperty"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={string_null:function(e,t){return"<<"===t?e||"":e}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.phone.BoHomeController,Options:{},Public:{init:function(){t.sbo.page.phone.BoHomeController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{_oModel:new t.core.JsonModel({}),_mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),_oService:new t.sbo.services.LeadsService,_onActionButtonClickProxy:$.proxy(this._onActionButtonClickHandler,this)}),this.setTitle({title:t.sbo.localization.Helper.get("app/lead/LEADS"),subTitle:t.sbo.localization.Helper.get("app/lead/LEAD")}),window.SboShell.attachEvent("actionButtonClick",this._onActionButtonClickProxy)},destroy:function(){window.SboShell.detachEvent("actionButtonClick",this._onActionButtonClickProxy),this._oService.destroy()},initView:function(){var o=$.Deferred(),a=this;return $.when(t.sbo.page.phone.BoHomeController.prototype.initView.apply(this,arguments)).done(function(i){var s=i;a.$().setModel(a._oModel),t.util.showLoading(),$.when(a._oService.get(a.convertBoKey(a._mViewInfo.storeParam))).done(function(i){i.contactPersonName="",a._oModel.setValue("",i),a.setTitle(i.description||"(No Name)"),window.SboShell.addFeature(a,"relatedFilter.BOkey","method"),a.autoDestroy("remove the realted filter",window.SboShell.removeFeature.bind(window.SboShell,"relatedFilter.BOkey")),a.$().process(e),a.$().control({"[ctrl='layout']":{listener:{startLayout:function(){a.setOption("editable",!0),window.SboShell.showActionButtons(["saveLayout"])},afterProcess:function(){var o=t.sbo.util.metadataHelper.convert(s);a.$("[field='basicInfo']").getControl().setOption({metadata:o.properties,enumMeta:o.enumTypes,dynamicMeta:t.sbo.util.metadataHelper.convertDynamicMeta(i["sbo.dynamicmeta"]).properties,propertyTemplate:e.html.sap.sbo.app.template.DynamicProperty,readonly:!0})}}}}),a.$().on("vclick","[field='basicInfo']",function(){window.SboShell.gotoView("sap.sbo.page.phone.Leads.BasicInfoEdit",a._mViewInfo.storeParam)}),a.$().on("vclick","[field='contacts']",function(){for(var e=[],t=a._oModel.getValue("contacts"),o=0;t.length>o;o++)e.push(t[o].contactPersonID);window.SboShell.gotoView("sap.sbo.page.phone.Contact.ContactListView",{boName:a.getBoKeyEntity().boName,keyParam:a._mViewInfo.storeParam,BPcardCode:a._oModel.getValue("bpCode"),BPcardName:a._oModel.getValue("bpName"),ContactIDs:e},{MainContact:a._oModel.getValue("contactPersonCode")})}),window.SboShell.addActionButtons([{key:"copyto_opportunity",text:t.sbo.localization.Helper.get("common/COPY_TO_OPP")},{key:"copyto_quote",text:t.sbo.localization.Helper.get("common/COPY_TO_QUOTE")},{key:"copyto_order",text:t.sbo.localization.Helper.get("common/COPY_TO_ORDER")}],a),o.resolve()}).fail(function(e){window.SboShell.raiseException(e),o.reject(e)}).always(function(){t.util.hideLoading()})}),o.promise()},destroyView:function(){t.sbo.page.phone.BoHomeController.prototype.destroyView.apply(this,arguments),this.$().unprocess()},update:function(){},getService:function(){return this._oService},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"Leads",keyElements:this._mViewInfo.storeParam}}},Protected:{_onActionButtonClickHandler:function(e){var o=this;switch(e){case"copyto_quote":t.util.showLoading(),$.when(o._oService.action_copyToQuotation(o._oModel.getValue(""))).done(function(e){SboShell.openFrame({view:"sap.sbo.page.phone.SalesQuotation.QuotationCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,callback:function(){},options:{boData:e}})}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()});break;case"copyto_order":t.util.showLoading(),$.when(o._oService.action_copyToOrder(o._oModel.getValue(""))).done(function(e){SboShell.openFrame({view:"sap.sbo.page.phone.SalesOrder.OrderCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,callback:function(){},options:{boData:e}})}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()});break;case"copyto_opportunity":t.util.showLoading(),$.when(o._oService.action_copyToOpportunity(o._oModel.getValue(""))).done(function(e){SboShell.openFrame({view:"sap.sbo.page.phone.SalesOpportunity.CreationFrame2",type:"center-column",options:{boData:e}})}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()})}}}})}),define("sap.sbo.page.phone.Leads.LeadBasicTile",["sap.ui.Controller","sap.sbo.localization.Helper","sap.sbo.page.phone.ContentTileViewController","json!sap.sbo.util.enums","sap.core.JsonModel","sap.sbo.compoundservices.AttachmentService","sap.sbo.app.task.taskUtil","sap.ui.widget.Photo","css!sap.sbo.page.phone.Leads.LeadBasicTile"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.phone.ContentTileViewController,Public:{init:function(){t.sbo.page.phone.ContentTileViewController.prototype.init.apply(this,arguments),this.declareMember({__modelOwner:this.autoDestroy(new t.core.JsonModel({OwnerImage:{url:"./image/common/no-pic-avatar.jpg"}})),oAttachementService:this.autoDestroy(new t.sbo.compoundservices.AttachmentService)})},destroy:function(){},initView:function(){var o=$.Deferred(),a=this;return this.$().setModel(this.__modelOwner,"owner"),$.when(t.sbo.page.phone.ContentTileViewController.prototype.initView.apply(this,arguments)).done(function(){var i=this.$().findModel(),s=i.getValue("ownerCode");null!=s&&$.when(a.oAttachementService.getPortraitId(s)).done(function(e){if(-1!==e.value){var o={};o.attachmentId=e.value,o.ownerCode=s;var i=t.sbo.app.task.taskUtil.PreviewUrl(o);a.__modelOwner.setValue("OwnerImage",{url:i})}}),this.$().process(e),o.resolve()}.bind(this)),o.promise()},destroyView:function(){t.sbo.page.phone.ContentTileViewController.prototype.destroyView.apply(this,arguments)},getTileTitle:function(){return t.sbo.localization.Helper.get("app/BASIC")},on_basic:function(){var e=$(event.target).findModel();window.SboShell.gotoView("sap.sbo.page.phone.Leads.BasicInfoEdit",[{keyName:"id",keyValue:e.getValue("id")}]),event.stopPropagation()},on_navigate:function(){var e=$(event.target).findModel();window.SboShell.gotoView("sap.sbo.page.phone.Leads.BasicInfoEdit",[{keyName:"id",keyValue:e.getValue("id")}]),event.stopPropagation()}},Protected:{}})}),define("sap.sbo.page.phone.Leads.LeadsCreation",["sap.ui.Controller","sap.sbo.page.phone.BoMetadataCreationFrameController","sap.sbo.layout.phone.MetadataList","sap.sbo.services.LeadsService","sap.sbo.ui.widget.BoStatus","sap.ui.widget.TextField","sap.sbo.util.formatter","sap.ui.widget.Button","sap.util","sap.ui.widget.ValueHelpField","sap.sbo.localization.Helper","sap.core.ListSourceFilter","sap.sbo.ui.widget.RelatedValueDropDownBox","sap.core.JsonModel","sap.sbo.ui.widget.BoLabel","json!sap.sbo.util.enums","css!sap.sbo.app.template.EditProperty","css!sap.sbo.app.template.DynamicProperty"],function(){"use strict";var e=this.getNS(),t=e.sap,o=t.sbo.page.phone.BoMetadataCreationFrameController;return e.formatter={convertEmtpyNull:function(e,t){return"<<"===t?null===e?"":e:">>"===t?""===e?null:e:void 0}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:o,Options:{cardCode:{type:"any",defaultValue:void 0},cardName:{type:"any",defaultValue:void 0}},Public:{init:function(){o.prototype.init.apply(this,arguments),this.declareMember({_oService:new t.sbo.services.LeadsService,_fActionButtonClicked:function(e){switch(e){case"save":t.util.showLoading(),$.when(this.boCreate()).done(function(e){var o={boNamespace:"com.sap.sbo",boName:"Leads",keyElements:[{keyName:"id",keyValue:e.id}]};
this.callShell("save",o),window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/LEAD_CREATE_SUCCESSFUL"),"success"),window.SboShell.gotoView("sap.sbo.page.phone.Leads.Home",[{keyName:"id",keyValue:e.id}])}.bind(this)).fail(function(){}).always(function(){t.util.hideLoading()});break;case"cancel":this.callShell("close")}}.bind(this),_bpModel:new t.core.JsonModel({readonly:!1})})},destroy:function(){this._oService.destroy()},initView:function(){var a=this;this.$().setModel(a._bpModel,"bpModel");var i=$.Deferred();return $.when(o.prototype.initView.call(this)).done(function(){var o=a.getOption("cardCode");o&&(a._bpModel.setValue("readonly",!0),a._oMetadataValueModel.setValue("bpCode",o),a._oMetadataValueModel.setValue("bpName",a.getOption("cardName"))),a.$().on("GuilinControlEvent.navigate GuilinControlEvent.choose",".sbo-metadata-list-property",function(o){switch($(o.currentTarget).attr("gl-property")){case"bpCode":window.SboShell.openFrame({view:"sap.sbo.chooseList.phone.ChooseListCustomer",type:"right",options:{filter:new t.core.ListSourceFilter("(`isActive` = '"+e.json.sap.sbo.util.enums.bool.Yes+"')")},callback:function(e,t){"select"===e&&(a.getModel().setValue("bpName",t.cardName),a.getModel().setValue("bpCode",t.cardCode))}});break;case"mainContactPersonDisplayName":window.SboShell.openFrame({view:"sap.sbo.chooseList.phone.ChooseListContact",type:"right",options:{filter:new t.core.ListSourceFilter("(([cardCode]='"+a.getModel().getValue("bpCode")+"') | ([cardCode]=' '))")},callback:function(e,t){"select"===e&&(a.getModel().setValue("contactPersonCode",t.contactPersonID),a.getModel().setValue("mainContactPersonDisplayName",t.displayName))}});break;case"sourceDescription":window.SboShell.openFrame({view:"sap.sbo.chooseList.phone.ChooseListSource",type:"right",options:{},callback:function(e,t){"select"===e&&(a.getModel().setValue("source",t.sequenceNo),a.getModel().setValue("sourceDescription",t.description))}});break;case"reasonForStatus":window.SboShell.openFrame({view:"sap.sbo.chooseList.phone.ChooseListReason",type:"right",options:{},callback:function(e,t){"select"===e&&(a.getModel().setValue("reasonForStatus",t.sequenceNo),a.getModel().setValue("reasonDescription",t.description))}});break;case"OwnerEmployeeDisplayName":window.SboShell.openFrame({view:"sap.sbo.chooseList.phone.ChooseListEmployee",type:"right",options:{},callback:function(e,t){"select"===e&&(a.getModel().setValue("ownerCode",t.employeeID),a.getModel().setValue("OwnerEmployeeDisplayName",t.displayName))}})}}),window.SboShell.addTopButtons([{key:"cancel",text:t.sbo.localization.Helper.get("common/CANCEL")},{key:"save",text:t.sbo.localization.Helper.get("app/SAVE_VIEW")}]),window.SboShell.attachEvent("actionButtonClick",a._fActionButtonClicked),i.resolve()}).fail(function(e){window.SboShell.raiseException(e),dtd.reject(e)}),i.promise()},destroyView:function(){window.SboShell.detachEvent("actionButtonClick",this._fActionButtonClicked),o.prototype.destroyView.call(this)},update:function(){o.prototype.update.apply(this,arguments)},getMainControl:function(){return this.$("[ctrl='main']").getControl()},getBoType:function(){return{boNamespace:"com.sap.sbo",boName:"Leads"}},getService:function(){return this._oService},process:function(){this.$().process(e)},boValidate:function(){},getInitBo:function(){var e=$.Deferred();return $.when(this.getService().getInit()).done(function(t){e.resolve(t)}).fail(function(){e.reject(ex)}),e.promise()}},Protected:{}})}),define("sap.sbo.page.phone.Leads.LeadsListView",["sap.ui.Controller","sap.core.JsonModel","sap.sbo.layout.phone.ListLayout","sap.sbo.util.AjaxListSource","sap.sbo.services.LeadsService","sap.sbo.page.BaseBoListViewController","sap.sbo.util.formatter","sap.sbo.ui.widget.ListManipulator","sap.sbo.localization.Helper","sap.ui.widget.ValueHelpField","sap.sbo.ui.widget.MultipleValueHelp","json!sap.sbo.page.common.listFilters.Lead","css!sap.sbo.page.phone.Leads.LeadsListView","css!sap.sbo.page.phone.boListView"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={qualificationConverter:function(e){switch(e){case"Cold":return"&#9733;";case"Warm":return"&#9733;&#9733;";default:return"&#9733;&#9733;&#9733;"}},convertStatusImage:function(e){switch(e){case"Closed":return"<img src='image/BO/Won_Complete.png'/>";case"In_process":return"<img src='image/BO/Pending.png'/>";case"Copied":return"<img src='image/BO/Accept.png'/>";case"Open":return"<img src='image/BO/Open.png'/>";default:return"<img src='image/BO/Open.png'/>"}}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.BaseBoListViewController,Public:{init:function(){t.sbo.page.BaseBoListViewController.prototype.init.apply(this,arguments),this.declareMember({oBOService:this.autoDestroy(new t.sbo.services.LeadsService),__model:this.autoDestroy(new t.core.JsonModel({})),_oAjaxListSource:null});var e=this;this._oAjaxListSource=this.autoDestroy(new t.sbo.util.AjaxListSource(this.oBOService));var o=function(t){e["onKey"+t]&&e["onKey"+t]()};SboShell.attachEvent("actionButtonClick",o),this.autoDestroy("detach actionButtonClick",function(){SboShell.detachEvent("actionButtonClick",o)})},destroy:function(){},onKeyCreate:function(){SboShell.openFrame({view:"sap.sbo.page.phone.Leads.LeadsCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,callback:function(){}})},getMainControl:function(){return this.$(".sbo-list-layout")},initView:function(){var o=$.Deferred(),a=this;return $.when(t.sbo.page.BaseBoListViewController.prototype.initView.call(this)).done(function(){if(a.$().setModel(a.__model),a.$().process(e),a.canQuery()&&(a.$().control({'div[data-id="listView"]':{emptyTexts:[t.sbo.localization.Helper.get("app/lead/PURPOSE"),t.sbo.localization.Helper.get("app/lead/USAGE"),t.sbo.localization.Helper.get("app/lead/TO_CREATE")],source:a._oAjaxListSource,sort:{field:"id"},listener:{create:function(){SboShell.openFrame({view:"sap.sbo.page.phone.Leads.LeadsCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,callback:function(){}})},requestDone:function(e){var o=e.count+" "+t.sbo.localization.Helper.get("app/lead/LEADS");1==e.count&&(o=e.count+" "+t.sbo.localization.Helper.get("app/lead/LEAD")),SboShell.setOption({title:o,subTitle:""})}}}}),a.$().on("vclick",".item",function(e){window.SboShell.gotoView("sap.sbo.page.phone.Leads.Home",[{keyName:"id",keyValue:$(e.target).findModel().getValue("id")}])})),a.canCreate()){var i=[{text:t.sbo.localization.Helper.get("common/CREATE"),key:"Create"}];SboShell.addActionButtons(i,this)}o.resolve()}).fail(function(){o.reject()}),o.promise()},destroyView:function(){t.sbo.page.BaseBoListViewController.prototype.destroyView.call(this),this.$().unprocess()},update:function(){},getService:function(){return this.oBOService},getQuickFilters:function(){if(e&&e.json&&e.json.sap&&e.json.sap.sbo&&e.json.sap.sbo.page&&e.json.sap.sbo.page.common&&e.json.sap.sbo.page.common.listFilters&&e.json.sap.sbo.page.common.listFilters.Lead){var o=e.json.sap.sbo.page.common.listFilters.Lead,a={};for(var i in o)a[i]={},a[i].expr=o[i],a[i].label=t.sbo.localization.Helper.get("app/lead/"+i),a[i].description=a[i].label;return a}return{}},getBoNameEntity:function(){return{boNamespace:"com.sap.sbo",boName:"Leads"}},getListSource:function(){return this._oAjaxListSource},getProcessContext:function(){return e}},Protected:{}})}),define("sap.sbo.page.phone.network.CommentsDetail",["sap.sbo.ui.FrameViewController","sap.sbo.services.FeedService","sap.sbo.services.BaseService","sap.ui.Controller","sap.core.klass","sap.core.JsonModel","sap.ui.Repeat","sap.util","sap.sbo.util.formatter","sap.sbo.ui.widget.AutoCompletableTextArea","sap.sbo.localization.Helper","sap.sbo.ui.widget.BoLink","css!sap.sbo.page.phone.network.CommentsDetail"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={convertToUppercase:function(e){return e.toUpperCase()},getActionTitle:function(e){var o="",a="";return null!=e&&null!=e.actor&&"person"==e.actor.objectType?o=e.actor.displayName:null!=e&&null!=e.actor&&(o=e.actor.objectType),"update"==e.verb?a=t.sbo.localization.Helper.get("app/feed/tile/action_updated"):"add"==e.verb?a=t.sbo.localization.Helper.get("app/feed/tile/action_created"):"post"==e.verb&&(a=t.sbo.localization.Helper.get("app/feed/tile/action_posted")),o+" "+a},getClassName:function(e){return null!=e&&null!=e.actor&&"person"==e.actor.objectType&&"post"==e.verb?"bubble":"feed-container"},getContentClassName:function(e){return null!=e&&null!=e.actor&&"person"==e.actor.objectType&&"post"==e.verb?"post_bubble":"system_bubble"},getCommentsCount:function(e){return 1!=e?e+" "+t.sbo.localization.Helper.get("page/phone/network/cmts_unit"):e+" "+t.sbo.localization.Helper.get("page/phone/network/cmt_unit")},getHotImage:function(e){return 1==e?"image/feed/goldenstar32.png":""},getHotStatus:function(e){return 1==e?"hot":"hide"},getTargetClassName:function(e){return null!=e&&null!=e.id?"showTarget":"hideTarget"}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Options:{feedID:{type:"integer",defaultValue:-1}},Public:{init:function(){t.sbo.ui.FrameViewController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{__oFeedService:new t.sbo.services.FeedService,__oModel:new t.core.JsonModel({}),__oIScroll:null,__fnActionClickProxy:$.proxy(this.__fActionButtonClicked,this)})},destroy:function(){this.__oModel.destroy(),this.__oModel=null},initView:function(){return window.SboShell.addTopButtons([{text:t.sbo.localization.Helper.get("post/feed/markAsIpt"),key:"Important"},{text:t.sbo.localization.Helper.get("btn/back"),key:"Cancel"},{text:t.sbo.localization.Helper.get("btn/send"),key:"Save"}]),window.SboShell.attachEvent("actionButtonClick",this.__fnActionClickProxy),this.__initData()},destroyView:function(){window.SboShell.removeTopButtons(["Save","Cancel","Important"]),window.SboShell.detachEvent("actionButtonClick",this.__fnActionClickProxy),this.__oFeedService=null,this.$(".clickLink").off("click"),this.$().unprocess()},update:function(){}},Protected:{__fActionButtonClicked:function(e){var o=this;switch(e){case"Save":var a=o.$("#comment-txt").val();null!=a&&a.length>0&&$.when(o.__oFeedService.postComment(a,parseInt(o.getOption("feedID")))).done(function(){o.$("#comment-txt").val(""),o.closeFrame()}).fail(function(){window.SboShell.raiseMessage(t.sbo.localization.Helper.get("pad/comment/error/postCmt"),"error")});break;case"Cancel":o.closeFrame();break;case"Important":this.__setImportrant()}},__setImportrant:function(){var e=this,o=this.__oModel.getValue("");t.util.showLoading(),$.when(e.__oFeedService.setFeedStatus(o.id,!o.hot)).done(function(a){1==a?e.__oModel.setValue("hot",!o.hot):window.SboShell.raiseMessage(t.sbo.localization.Helper.get("feed/comment/setIpt/failed"),"error")}).fail(function(){}).always(function(){t.util.hideLoading()})},__refreshData:function(){var t=this,o=$.Deferred();return $.when(t.__oFeedService.getFeedByID(parseInt(this.getOption("feedID")))).done(function(e){e&&e.comments&&e.comments.items&&0==e.comments.items.lenght&&(e.comments.items.value=[]),t.__oModel.setValue("",t.__convertContent(e)),t.$().setModel(t.__oModel)}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.$().process(e),t.__initNavigationLink()}),o.promise()},__initNavigationLink:function(){this.$("").find(".navigation_link").each(function(e,t){$(t).click(function(){window.SboShell.gotoView($(this).data("view"),$(this).data("store"))})})},__initData:function(){var t=this,o=$.Deferred();return $.when(t.__oFeedService.getFeedByID(parseInt(this.getOption("feedID")))).done(function(a){a&&a.comments&&void 0===a.comments.items&&(a.comments.items=[]),t.__oModel.setValue("",t.__convertContent(a)),t.$().setModel(t.__oModel),t.$().process(e),t.$().control({".rpt":{listener:{afterUpdate:function(){t.__initNavigationLink(),t.__oIScroll=t.autoDestroy(new iScroll(t.$()[0],{vScroll:!0,hScroll:!1,hideScrollbar:!0,fadeScrollbar:!0,onScrollMove:function(){},onScrollEnd:function(){},onBeforeScrollStart:function(e){return $(e.target).is("textarea")?!0:void 0}})),t.__oIScroll.refresh(),t.__bindAttachmentPreview()}}}}),o.resolve()}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){}),o.promise()},__bindAttachmentPreview:function(){this.$(".clickLink").off("click").on("click",function(){var e=$(this).data("type"),t=$(this).data("url");null!=t&&null!=e&&window.SboShell.bridge.docview(t,e)})},__convertContent:function(e){return t.sbo.util.formatter.convertAttachedFiles(e)}}})}),define("sap.sbo.page.phone.network.Feed",["sap.ui.Controller","sap.sbo.ui.PageController","sap.ui.widget.Icon","sap.ui.widget.Photo","sap.ui.View","sap.core.JsonModel","sap.sbo.services.FeedService","sap.sbo.util.formatter","sap.ui.Repeat","sap.sbo.localization.Helper","sap.sbo.ui.widget.BoLink","css!sap.sbo.page.phone.network.Feed"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={commentsUnit:function(e){return 1!=e?t.sbo.localization.Helper.get("page/phone/network/cmts_unit"):t.sbo.localization.Helper.get("page/phone/network/cmt_unit")},getFirstCommentAuthor:function(e){return null!=e&&null!=e.items&&e.items.length>0?t.sbo.util.formatter.getCommentPortrait(e.items[0].item.actor):""},getFirstCommentAuthorName:function(e){return null!=e&&null!=e.items&&e.items.length>0?e.items[0].item.actor.displayName:""},getFirstCommentContent:function(e){return null!=e&&null!=e.items&&e.items.length>0?e.items[0].item.object.content:""},getFirstCommentStatus:function(e){return null!=e&&null!=e.items&&e.items.length>0?"block":"none"},getHotImage:function(e){return 1==e?"image/feed/goldenstar32.png":""},getHotStatus:function(e){return 1==e?"hot":"hide"},getActionTitle:function(e){var o="",a="";return null!=e&&null!=e.actor&&"person"==e.actor.objectType?o=e.actor.displayName:null!=e&&null!=e.actor&&(o=e.actor.objectType),"update"==e.verb?a=t.sbo.localization.Helper.get("app/feed/tile/action_updated"):"add"==e.verb?a=t.sbo.localization.Helper.get("app/feed/tile/action_created"):"post"==e.verb&&(a=t.sbo.localization.Helper.get("app/feed/tile/action_posted")),o+" "+a},getClassName:function(e){return null!=e&&null!=e.actor&&"person"==e.actor.objectType&&"post"==e.verb?"post_bubble":"system_bubble"},getFeedAuthor:function(e){return null!=e&&null!=e.actor&&"post"==e.verb&&null!=e.actor&&"person"==e.actor.objectType?e.actor.displayName:""},getCommentsCount:function(e){return 1!=e?e+" "+t.sbo.localization.Helper.get("page/phone/network/cmts_unit"):e+" "+t.sbo.localization.Helper.get("page/phone/network/cmt_unit")},getTargetClassName:function(e){return null!=e&&null!=e.id?"showTarget":"hideTarget"}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.PageController,Options:{data:{type:"any"}},Public:{init:function(){t.sbo.ui.PageController.prototype.init.apply(this,arguments),this.declareMember({__oModel:new t.core.JsonModel({}),__commentInputOnKeyUpProxy:$.proxy(this.__commentInputOnKeyUp,this),__likeIconOnClickProxy:$.proxy(this.__likeIconOnClick,this),__oFeedService:new t.sbo.services.FeedService,__skipClickProxy:$.proxy(this.__skipClick,this),__commentsClickProxy:$.proxy(this.__commentsClick,this),__latestCommentClickProxy:$.proxy(this.__latestCommentClick,this),__dtd:$.Deferred()})},destroy:function(){this.__oFeedService=null,this.__oModel.destroy(),this.__oModel=null},initView:function(){var e=this;return e.setTitle(t.sbo.localization.Helper.get("app/feed/tile/title")),this.$().setModel(this.__oModel),this.__dtd.promise()},destroyView:function(){this.__oFeedService.destroy(),this.__oFeedService=null,this.$(".post_bubble").off("vclick",this.__commentsClickProxy),this.$(".system_bubble").off("vclick",this.__commentsClickProxy),this.$().unprocess(e)},update:function(t){t.data&&(this.__oModel.setValue("",this.getOption("data")),this.$().process(e),this.__dtd.resolve(),this.$(".post_bubble").length>0?this.$(".post_bubble").on("vclick",this.__commentsClickProxy):this.$(".system_bubble").length>0&&this.$(".system_bubble").on("vclick",this.__commentsClickProxy))}},Protected:{__commentsClick:function(){var o=this,a=this.__oModel,i=$("#sbo-shell").getControl();i.openFrame({view:"sap.sbo.page.phone.network.CommentsDetail",type:"center",width:640,height:540,options:{feedID:a.__oJson.id},callback:function(){$.when(o.__oFeedService.getFeedByID(a.__oJson.id)).done(function(a){o.$(".content").unprocess(),o.$(".pt").children().unprocess(),o.__oModel.setValue("",t.sbo.util.formatter.convertAttachedFiles(a)),o.$(".content").process(e),o.$(".pt").children().process(e)}).fail(function(){})}})},__likeIconOnClick:function(){var e=this,t=this.$(".like-icon"),o="true"===t.attr("data-sfa-liked");$.when(this.__oFeedService.likeStatus(!o,this.$().attr("data-sfa-status-id"))).done(function(a){a&&a.likes&&(t.getControl().setOption("tooltip",formatter.convertLikedTooltip(o)),t.attr("data-sfa-liked",!o),e.$().getModel().set("likes",a.likes))}).fail(function(e){window.SboShell.raiseException(e)})},__actionEnterDetail:function(){var e=this.getOption("data").click;"function"==typeof e&&e()}}})}),define("sap.sbo.page.phone.network.Feeds",["sap.ui.Controller","sap.sbo.layout.phone.TimeLineLayout","sap.core.JsonModel","sap.core.klass","sap.sbo.services.FeedService","sap.ui.View","sap.ui.MessageBox","sap.util","css!sap.sbo.page.phone.network.Feeds"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,Options:{thingID:{type:"integer",optional:!0}},Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{__oService:new t.sbo.services.FeedService})},destroy:function(){this.__oService.destroy(),this.__oService=null},initView:function(){var e=$.Deferred(),t=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo");return this.__loadTimeline(t.storeParam.thingID),e.resolve(),e.promise()},destroyView:function(){this.$().unprocess(),$(document).off("scroll")},update:function(){}},Protected:{__loadTimeline:function(t){var o=this,a=o.__oService.loadPagingTimeline(t);this.$().process(e),this.$(".layout").getControl().setOption("source",a),this.$(".layout").getControl().setOption("thingID",t)}}})}),define("sap.sbo.page.phone.network.PostFeedDialog",["sap.sbo.ui.FrameViewController","sap.ui.Controller","sap.core.klass","sap.ui.widget.TextField","sap.ui.widget.Icon","sap.sbo.ui.widget.PhotoPicker","sap.sbo.ui.widget.PressToTalk","sap.sbo.services.NotePageService","sap.sbo.services.FeedService","sap.sbo.ui.widget.AutoCompletableTextArea","sap.sbo.services.BaseService","sap.core.JsonModel","sap.util","sap.sbo.ui.widget.PhoneMediaBar","sap.sbo.localization.Helper","css!sap.sbo.page.phone.network.PostFeedDialog"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={getUrl:function(){return".."+t.sbo.services.BaseService.documentbase+"social/file"}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Public:{init:function(){t.sbo.ui.FrameViewController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{__oFeedService:new t.sbo.services.FeedService,oPostFeedsDialogModel:new t.core.JsonModel({}),__dialog:null,__oPageService:new t.sbo.services.NotePageService,__boEntityKey:{},upload_hasFile:!1,talk_hasFile:!1,camera_hasFile:!1,__thingID:null,album_hasFile:null,__file_count:0,__fnActionClickProxy:$.proxy(this.__fActionButtonClicked,this),__onPhotoPickProxy:$.proxy(this.__photoPickProxy,this),__onRecordFinishProxy:$.proxy(this.__recordFinish,this),__onUploadCompleteProxy:$.proxy(this.__uploadComplete,this)}),this.__createFeedsPostDialog()},destroy:function(){this.__oFeedService=null,this.__oPageService=null,this.oPostFeedsDialogModel=null},initView:function(){var o=$.Deferred(),a=this;a.setTitle(""),this.$().setModel(this.oPostFeedsDialogModel),this.$().process(e),o.resolve();var i=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo");return this.__thingID=i.storeParam.thingID,this.$().find("#mediaBar").getControl().attachEvent("onRecordFinish",this.__onRecordFinishProxy),this.$().find("#mediaBar").getControl().attachEvent("afterPick",this.__onPhotoPickProxy),this.$().find("#mediaBar").getControl().attachEvent("uploadComplete",this.__onUploadCompleteProxy),window.SboShell.addTopButtons([{text:t.sbo.localization.Helper.get("app/network/btnCancel"),key:"Cancel"},{text:t.sbo.localization.Helper.get("page/button/save"),key:"Save"}]),window.SboShell.attachEvent("actionButtonClick",this.__fnActionClickProxy),o.promise()},destroyView:function(){window.SboShell.removeTopButtons(["Save","Cancel"]),this.__oFeedService.destroy(),this.__oPageService.destroy(),this.__oFeedService=null,this.__oPageService=null,this.__obEntityKey=null,this.oPostFeedsDialogModel=null,this.$().find("#mediaBar").getControl().detachEvent("onRecordFinish",this.__onRecordFinishProxy),this.$().find("#mediaBar").getControl().detachEvent("afterPick",this.__onRecordFinishProxy),this.$().find("#mediaBar").getControl().detachEvent("uploadComplete",this.__onRecordFinishProxy),window.SboShell.detachEvent("actionButtonClick",this.__fnActionClickProxy),this.$().find("#post").on("vclick"),this.$().find("#saveAsMemo").on("vclick")},update:function(e){e.data},resize:function(){}},Protected:{__fActionButtonClicked:function(e){var t=this;switch(e){case"Save":this.__SubmitFeed.apply(t,[]);break;case"Cancel":window.SboShell.backwardView()}},__SubmitFeed:function(){var e=this,o=this.$("#mediaBar").getControl().post();if(1!=o){var a=e.$().find("textarea").val();null!=a&&a.length>0&&(t.util.showLoading(),$.when(e.__oFeedService.postFeed(a,null,e.__thingID)).done(function(){window.SboShell.backwardView()}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()}))}},__photoPickProxy:function(e){this.camera_hasFile=!0,this.$(".preview").show(),this.__file_count++,this.$(".preview").html($("<div>").attr("class","attach1").append($("<img>").attr("src",e)))},__uploadComplete:function(e){this.__file_count=0;var o=this.oPostFeedsDialogModel.get("files");o.push(e),this.oPostFeedsDialogModel.set("files",o);var a=this.$().find("textarea").val();if(a){t.util.showLoading();var o=this.oPostFeedsDialogModel.get("files");$.when(this.__oFeedService.postFeed(a,o,this.__thingID)).done(function(){window.SboShell.backwardView()}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()})}},__recordFinish:function(){this.talk_hasFile=!0,this.__file_count++},__createFeedsPostDialog:function(){var e=this;this.__oFeedService=new t.sbo.services.FeedService,e.oPostFeedsDialogModel=new t.core.JsonModel({follow:!0,action:"",textArea:{cols:60,rows:5,wrap:"soft",value:""},files:[],isPhone:function(){return"phone"==SboShell.__deviceType||"simulator"==SboShell.__deviceType?"inline":"none"}()})}},Static:{}})}),define("sap.sbo.page.phone.network.Reason",["sap.ui.Controller","sap.sbo.app.network.Reason","css!sap.sbo.page.phone.network.Reason"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.app.network.Reason,Public:{init:function(){t.sbo.app.network.Reason.prototype.init.apply(this,arguments)},initView:function(){return t.sbo.app.network.Reason.prototype.initView.apply(this,arguments)},destroyView:function(){t.sbo.app.network.Reason.prototype.destroyView.apply(this,arguments)}}})}),define("sap.sbo.page.phone.network.RelatedBOList",["sap.core.klass","sap.core.JsonModel","sap.ui.Controller","sap.sbo.localization.Helper","sap.sbo.ui.FrameViewController","sap.sbo.app.network.RelatedTile","css!sap.sbo.page.phone.network.RelatedBOList"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Options:{thingID:{type:"integer",defaultValue:-1},isFromTile:{type:"boolean",defaultValue:!1},isCustomer:{type:"boolean",defaultValue:!1}},Public:{init:function(){t.sbo.ui.FrameViewController.prototype.init.apply(this,arguments),this.declareMember({__thingID:null,__isFromTile:!1,__isCustomer:!1})},initView:function(){var t=this,o=$.Deferred();return this.__thingID=this.getOption("thingID"),this.__isFromTile=this.getOption("isFromTile"),this.__isFromTile&&(this.__isCustomer=this.getOption("isCustomer")),$(".BOItem",this.$()).on("vclick",function(){var e=$(this).attr("data-sap-BOKey");t.__isFromTile?"2"==e?t.__openChooseList(e,"sap.sbo.chooseList.phone.ChooseListCustomer"):"4"==e?t.__openChooseList(e,"sap.sbo.chooseList.phone.ChooseListProduct"):"11"==e?t.__openChooseList(e,"sap.sbo.chooseList.phone.ChooseListContact"):"97"==e?t.__openChooseList(e,"sap.sbo.chooseList.phone.ChooseListOpportunity"):"17"==e?t.__openChooseList(e,"sap.sbo.chooseList.phone.ChooseListOrder"):"23"==e?t.__openChooseList(e,"sap.sbo.chooseList.phone.ChooseListQuotation"):"J0001"==e&&t.__openChooseList(e,"sap.sbo.chooseList.phone.ChooseListLead"):(t.callShell({boType:e}),t.closeFrame())}),$(".BOItem",this.$()).on("state-active",function(){$(this).attr({"data-sap-color":!0})}),$(".arrow",t.$()).on("vclick",function(){t.closeFrame()}),$.when(this.$().process(e)).done(function(){var e=$(".BOItem",t.$()).height();$(".BOItem",t.$()).css({"line-height":e+"px"}),o.resolve()}),o.promise()},destroyView:function(){$(".BOItem").off("vclick"),$(".BOItem").off("state-active"),$(".arrow").off("vclick")}},Protected:{__openChooseList:function(e,o){var a=this;window.SboShell.openFrame({view:o,type:"right",callback:function(o,i){if("select"===o&&i){var s=t.sbo.app.network.RelatedTile.getBoEntity(e);s.keyElements[0].keyValue=i[s.keyElements[0].keyName],window.SboShell.openFrame({view:"sap.sbo.page.phone.network.Reason",type:"right",options:{thingID:a.__thingID,entity:s},callback:function(e){"s"==e.name&&window.SboShell.gotoView("sap.sbo.page.phone.network.RelatedList",{thingID:a.__thingID,isCustomer:a.__isCustomer})}})}}})}}})}),define("sap.sbo.page.phone.network.RelatedList",["sap.core.klass","sap.core.JsonModel","sap.ui.Controller","sap.sbo.layout.phone.ListLayout","sap.core.ArrayListSource","sap.ui.MessageBox","sap.sbo.localization.Helper","sap.sbo.app.network.RelatedTile","sap.sbo.page.BaseBoListViewController","sap.sbo.ui.widget.ListManipulator","sap.sbo.ui.widget.DecimalLabel","sap.sbo.services.FeedService","sap.formatter","sap.core.ListSourceFilter","css!sap.sbo.page.phone.boListView","css!sap.sbo.page.phone.network.RelatedList"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.BaseBoListViewController,Options:{isCustomer:{type:"boolean",defaultValue:!1}},Public:{init:function(){t.sbo.page.BaseBoListViewController.prototype.init.apply(this,arguments),this.declareMember({__oFeedService:this.autoDestroy(new t.sbo.services.FeedService),__thingID:null,__buttonClickProxy:$.proxy(this.__buttonClicked,this),__ocreateBizProxy:$.proxy(this.__createBiz,this),__currentMode:null,__isCustomer:!1,__relatedDocs:null})},destroy:function(){},initView:function(){var e=this,o=$.Deferred();if(window.SboShell.isFeatureAvailable("shell.getCurrentViewInfo")){var a=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo");return e.__thingID=a.storeParam.thingID,e.__isCustomer=a.storeParam.isCustomer,e.setTitle(t.sbo.localization.Helper.get("app/network/related/title")),window.SboShell.addActionButtons([{text:t.sbo.localization.Helper.get("common/EDIT"),key:"edit"},{text:t.sbo.localization.Helper.get("app/network/related/linkto"),key:"link"}],e),this.__currentMode="r",window.SboShell.attachEvent("actionButtonClick",e.__buttonClickProxy),$.when(this.__reload(o)).done(function(){$(".sbo-list-layout-add-icon",e.$()).on("vclick",e.__ocreateBizProxy)}),o.promise()}},destroyView:function(){this.$().unprocess(),window.SboShell.detachEvent("actionButtonClick",this.__buttonClickProxy),$("#related-listView .related-tail",this.$()).off("vclick"),$(".sbo-list-layout-add-icon",this.$()).off("vclick")},update:function(){},getProcessContext:function(){return e}},Protected:{__buttonClicked:function(e){var o=this;if("edit"==e)this.__currentMode="e",window.SboShell.removeActionButtons(["edit"]),window.SboShell.addActionButtons([{text:t.sbo.localization.Helper.get("common/SAVE"),key:"done"}],this),this.__refreshTail(!0);else if("done"==e)this.__currentMode="r",window.SboShell.removeActionButtons(["done"]),window.SboShell.addActionButtons([{text:t.sbo.localization.Helper.get("common/EDIT"),key:"edit"}],this),this.__refreshTail(!1);else if("2"==e){var a=[];if(o.__relatedDocs)for(var i=0,s=o.__relatedDocs.length;s>i;i++)o.__relatedDocs[i].boType==e&&a.push(o.__relatedDocs[i].id);o.__buildFilter("id",a),o.__openChooseList(e,"sap.sbo.chooseList.phone.ChooseListCustomer")}else"4"==e?o.__openChooseList(e,"sap.sbo.chooseList.phone.ChooseListProduct"):"11"==e?o.__openChooseList(e,"sap.sbo.chooseList.phone.ChooseListContact"):"97"==e?o.__openChooseList(e,"sap.sbo.chooseList.phone.ChooseListOpportunity"):"17"==e?o.__openChooseList(e,"sap.sbo.chooseList.phone.ChooseListOrder"):"23"==e?o.__openChooseList(e,"sap.sbo.chooseList.phone.ChooseListQuotation"):"J0001"==e?o.__openChooseList(e,"sap.sbo.chooseList.phone.ChooseListLead"):"link"==e&&o.__createBiz()},__createBiz:function(){var e=this;window.SboShell.openFrame({view:"sap.sbo.page.phone.network.RelatedBOList",type:"right",options:{thingID:e.__thingID,isFromTile:!1},callback:function(t){var o=t.boType;"2"==o?e.__openChooseList(o,"sap.sbo.chooseList.phone.ChooseListCustomer"):"4"==o?e.__openChooseList(o,"sap.sbo.chooseList.phone.ChooseListProduct"):"11"==o?e.__openChooseList(o,"sap.sbo.chooseList.phone.ChooseListContact"):"97"==o?e.__openChooseList(o,"sap.sbo.chooseList.phone.ChooseListOpportunity"):"17"==o?e.__openChooseList(o,"sap.sbo.chooseList.phone.ChooseListOrder"):"23"==o?e.__openChooseList(o,"sap.sbo.chooseList.phone.ChooseListQuotation"):"J0001"==o&&e.__openChooseList(o,"sap.sbo.chooseList.phone.ChooseListLead")}})},__openChooseList:function(e,o){var a=this;window.SboShell.openFrame({view:o,type:"right",callback:function(o,i){if("select"===o&&i){var s=t.sbo.app.network.RelatedTile.getBoEntity(e);s.keyElements[0].keyValue=i[s.keyElements[0].keyName],window.SboShell.openFrame({view:"sap.sbo.page.phone.network.Reason",type:"center",width:300,height:200,options:{thingID:a.__thingID,entity:s,isFromTile:!1},callback:function(e){"s"==e.name&&a.__reload()}})}}})},__refreshTail:function(){var e=this;$("#related-listView .related-tail").each(function(){var t=$(this).attr("data-sap-type");e.__isRemoveAble(t)&&"r"!=e.__currentMode?$("#related-listView .item").addClass("editMode"):$("#related-listView .item").removeClass("editMode")})},__isRemoveAble:function(e){return"FromNode"==e||"ToNode"==e||"Creator"==e||"ReferNode"==e||"Manager"==e||"Owner"==e?!1:!0},__buildFilter:function(e,t){for(var o="",a=0,i=t.length;i>a;a++)o=0===o.length?"(["+e+"] != '"+t[a]+"')":"("+o+"&"+"(["+e+"] != '"+t[a]+"'))";return o},__reload:function(e){var t=this;return t.__isCustomer?$.when(t.__oFeedService.loadRelated(t.__thingID,!0)).done(function(o){$.when(t.__renderList(o)).done(function(){e&&e.resolve()})}).fail(function(){e.reject()}):$.when(t.__oFeedService.loadFollowees(t.__thingID,!0)).done(function(o){$.when(t.__renderList(o)).done(function(){e&&e.resolve()})}).fail(function(){e.reject()}),e},__renderList:function(o){var a=this,i=$.Deferred();if($.when(a.$().process(e)).done(function(){i.resolve()}),o){a.__relatedDocs=[];for(var s=0,n=o.length;n>s;s++)o[s].boName=t.sbo.app.network.RelatedTile.translateBOCode(o[s].boType),a.__relatedDocs.push(o[s]);var r=$("#related-listView").getControl();if(r.setOption("source",new t.core.ArrayListSource(a.__relatedDocs)),0===o.length)return r.setOption("showEmptyContent",!0),r.setOption("emptyTexts",[t.sbo.localization.Helper.get("app/relatedlist/reminder")]),i
}return r.attachEvent("afterUpdate",function(){$("#related-listView .related-tail").off("vclick"),$(".item",a.$()).off("vclick"),$(".item",a.$()).on("vclick",function(){var e=$(this).attr("data-sap-bo-type"),o=$(this).attr("data-sap-bo-code");t.sbo.app.network.RelatedTile.relatedBusinessNavigation(e,o)}),$("#related-listView .related-tail").on("vclick",function(e){var o=$(this).parent(),i=o.attr("data-sap-bo-code"),s=o.attr("data-sap-bo-type"),n=t.sbo.app.network.RelatedTile.getBoEntity(s);n.keyElements[0].keyValue=i,e.stopPropagation(),e.preventDefault(),$.when(t.ui.MessageBox.show({message:t.sbo.localization.Helper.get("app/network/related/reminder"),title:t.sbo.localization.Helper.get("app/network/related/confirm"),icon:"warning",buttons:[{key:"yes",text:t.sbo.localization.Helper.get("common/OK")},{key:"no",text:t.sbo.localization.Helper.get("common/CANCEL")}]})).done(function(e){"yes"==e&&$.when(a.__oFeedService.unrelate(a.__thingID,n)).done(function(){a.__reload()})})}),a.__refreshTail(),$("#related-listView .related-icon").each(function(){var e=$(this).attr("data-sap-type");a.__isRemoveAble(e)?$(this).addClass("hide-icon"):$(this).removeClass("hide-icon")})}),i}}})}),define("sap.sbo.page.phone.notepage.NotePageDialog",["sap.ui.Controller","sap.core.klass","sap.util","sap.core.GuardedTimer","sap.core.JsonModel","sap.sbo.ui.FrameViewController","sap.ui.widget.Button","sap.ui.widget.TextArea","sap.ui.widget.Icon","sap.ui.MessageBox","sap.sbo.ui.widget.PopupContainer","sap.sbo.ui.widget.PopupMenu","sap.sbo.ui.widget.UploadButton","sap.sbo.ui.widget.PressToTalk","sap.sbo.ui.widget.PhotoPicker","sap.log","sap.sbo.services.NotePageService","sap.sbo.layout.phone.ListLayout","sap.sbo.shell.IFeaturable","sap.sbo.util.AjaxListSource","sap.ui.Dialog","sap.ui.Repeat","sap.sbo.page.common.notepage.NotePageUtil","sap.core.ListSourceFilter","sap.sbo.localization.Helper","sap.sbo.ui.widget.AutoCompletableTextAreaGrp","sap.sbo.ui.widget.BoLink","sap.sbo.services.BaseService","sap.ui.widget.Checkbox","sap.ui.common","sap.sbo.ui.widget.PhoneMediaBar","css!sap.sbo.page.phone.notepage.NotePageDialog"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Options:{noteID:{type:"integer",defaultValue:-1},mode:{type:"string",defaultValue:""},bo:{}},Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments);var e=this;t.core.klass.declareMember(this,{__oModel:new t.core.JsonModel({page:{pageAttachments:[],text:"",copyFlag:!1},richMediaText:"",richTextTargets:{},list:[],isIOSDevice:function(){return"desktop"!=window.SboShell.__deviceType?"inline":"none"}()}),__oService:new t.sbo.services.NotePageService,__bToAdd:!1,__$addButton:null,__boEntityKey:{},__oConvertDialogModel:null,__oCurrentTileModel:null,__uploadFileSize:"",__uploadFileName:"",__noteID:0,__mode:"",__boCode:"",__oIScroll:null,__boKey:"",__page:{text:"",pageAttachments:[],copyFlag:!1},__fNotePageRendered:function(){"view"==e.__mode&&e.$("img[data-sfa-class='removeBtn']").hide()},__textAreaChange:function(e){var o=e.target,a=o.value;return a.length>t.sbo.page.common.notepage.NotePageUtil.MaxTextLength&&(o.value=a.substring(0,t.sbo.page.common.notepage.NotePageUtil.MaxTextLength),window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/memo/TEXTEXCEEDERR",t.sbo.page.common.notepage.NotePageUtil.MaxTextLength))),!1},__validateMemo:function(){var o=e.__oModel.getValue("page");return 0==o.pageAttachments.length&&""==o.text?(window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/memo/EMPTYERR")),!1):o.text.length>t.sbo.page.common.notepage.NotePageUtil.MaxTextLength?(window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/memo/TEXTEXCEEDERR",t.sbo.page.common.notepage.NotePageUtil.MaxTextLength)),!1):!0},__remove:function(e,t,o){return $.grep(e,function(e){return e[t]!=o})},__fActionButtonClicked:function(o){var a=e.$("#textarea").val();switch(e.__oModel.getValue("page").text=a,o){case"key_edit_notepage":e.__setViewMode("edit");break;case"key_save_notepage":if(!e.__validateMemo())return;"create"==e.__mode?(t.util.showLoading(),$.when(e.__oService.createNotePage(e.__oModel.getValue("page"))).done(function(o){o&&(e.__noteID=o.id,e.__oModel.getValue("page").id=e.__noteID),t.sbo.page.common.notepage.NotePageUtil.handleSuccess("create")}).fail(function(e){e&&window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/memo/CREATEFAIL"))}).always(function(){t.util.hideLoading(),window.SboShell.backwardView()})):(t.util.showLoading(),$.when(e.__oService.updateNotePage(e.__oModel.getValue("page"))).done(function(o){if(o){var a=o.pageAttachments;e.__oModel.setValue("list",a),e.__oModel.setValue("page",o),e.refreshScroll()}t.sbo.page.common.notepage.NotePageUtil.handleSuccess("edit")}).fail(function(e){e&&window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/memo/UPDATEFAIL"))}).always(function(){t.util.hideLoading(),window.SboShell.backwardView()}));break;case"key_cancel_notepage":window.SboShell.backwardView();break;case"key_delete_notepage":t.util.showLoading(),$.when(window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/memo/DELETECONFIRM"),"question",[{key:"no",text:t.sbo.localization.Helper.get("common/CANCEL")},{key:"yes",text:t.sbo.localization.Helper.get("common/DELETE")}])).done(function(o){"yes"===o&&($.when(e.__oService.deleteNotePage(e.__oModel.getValue("page").id)).done(function(){}).fail(function(e){e&&window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/memo/DELETEFAIL"))}).always(function(){t.util.hideLoading()}),window.SboShell.backwardView())});break;case"key_convert_notepage":break;case"key_convert_contact":e.__convertToContact();break;case"key_convert_opportunity":e.__convertToOpportunity();break;case"key_convert_task":e.__convertToTask();break;case"key_convert_lead":e.__convertToLead();break;default:}},__hideAllShellButtons:function(){window.SboShell.hideActionButtons(["key_edit_notepage","key_delete_notepage","key_convert_notepage"]),window.SboShell.removeTopButtons(["key_save_notepage","key_cancel_notepage"])},__setViewMode:function(o){switch(e.__mode=o,e.__mode){case"view":e.$("[modetype='view']").show(),e.$("[modetype='edit']").hide(),(e.__boCode="User")?(e.__hideAllShellButtons(),window.SboShell.showActionButtons(["key_edit_notepage","key_delete_notepage","key_convert_notepage"])):(e.__hideAllShellButtons(),window.SboShell.showActionButtons(["key_edit_notepage","key_delete_notepage"])),e.$("[data-sap-class='copyflagview']").hide(),e.setTitle({title:t.sbo.localization.Helper.get("app/memo/MEMO")});break;case"edit":e.$("[modetype='edit']").show(),e.$("[modetype='view']").hide(),e.__hideAllShellButtons(),window.SboShell.addTopButtons([{text:t.sbo.localization.Helper.get("common/CANCEL"),key:"key_cancel_notepage"},{text:t.sbo.localization.Helper.get("common/SAVE"),key:"key_save_notepage"}]),e.setTitle({title:""});break;case"create":e.$("[modetype='edit']").show(),e.$("[modetype='view']").hide(),e.__hideAllShellButtons(),window.SboShell.addTopButtons([{text:t.sbo.localization.Helper.get("common/CANCEL"),key:"key_cancel_notepage"},{text:t.sbo.localization.Helper.get("common/SAVE"),key:"key_save_notepage"}]),e.setTitle({title:""});break;default:e.$("[modetype='view']").show(),e.$("[modetype='edit']").hide(),e.__hideAllShellButtons(),window.SboShell.showActionButtons(["key_edit_notepage","key_delete_notepage"]),e.setTitle({title:t.sbo.localization.Helper.get("app/memo/MEMO")})}console.log("setViewMode"),e.refreshScroll()},__fBeforeDialogClose:function(){},__fileSelected:function(t){e.__uploadFileName="",e.__uploadFileSize="",t&&(e.__uploadFileName=t.name,e.__uploadFileSize=t.size)},__fTileOnClick:function(){e.__oCurrentTileModel=null,e.__oCurrentTileModel=$(this).getModel();var o=e.__oCurrentTileModel.getValue("attachmentId"),a=e.__oModel.getValue("page");if("view"===e.__mode){if(o){var i=e.__oCurrentTileModel.getValue("attachmentMimeType");window.SboShell.bridge.docview(e.getAttachmentOpenUrl(o),i)}}else $.when(window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/memo/REMOVEQUE"),"question",[{key:"yes",text:t.sbo.localization.Helper.get("common/YES")},{key:"no",text:t.sbo.localization.Helper.get("common/NO")}])).done(function(t){if("yes"===t){a.pageAttachments=e.__remove(e.__oModel.getValue("page").pageAttachments,"attachmentId",e.__oCurrentTileModel.getValue("attachmentId"));var o=a.pageAttachments;e.__oModel.setValue("list",o),e.__oModel.setValue("page",a),e.refreshScroll()}});return!1},__convertSelected:function(t){var o=$(t.currentTarget).attr("key").trim();switch(o){case"1":e.__convertToTask();break;case"2":e.__convertToOpportunity();break;case"3":e.__convertToContact();break;default:}},__convertToLead:function(){var e=this;SboShell.openFrame({view:"sap.sbo.page.phone.Leads.LeadsCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,options:{data:{cardCode:"",cardName:"",page:e.__page}},callback:function(o,a){switch(o){case"save":a&&$.when(e.__oService.moveToBO(e.__noteID,a)).done(function(){}).fail(function(e){e&&window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/memo/CONVERTFAIL"))}).always(function(){e.closeFrame({result:!1})});break;default:}}})},__convertToContact:function(){var e=this;SboShell.openFrame({view:"sap.sbo.page.phone.Contact.ContactCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,options:{data:{BPcardCode:"",BPcardName:"",page:e.__page}},callback:function(o,a){switch(o){case"save":a&&$.when(e.__oService.moveToBO(e.__noteID,a)).done(function(){}).fail(function(e){e&&window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/memo/CONVERTFAIL"))}).always(function(){});break;default:}}})},__convertToOpportunity:function(){var e=this;SboShell.openFrame({view:"sap.sbo.page.phone.SalesOpportunity.CreationFrame2",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,options:{data:{cardCode:"",cardName:"",page:e.__page}},callback:function(o,a){switch(o){case"save":a&&$.when(e.__oService.moveToBO(e.__noteID,a)).done(function(){}).fail(function(e){e&&window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/memo/CONVERTFAIL"))}).always(function(){});break;default:}}})},__convertToTask:function(){var e=this;window.SboShell.gotoView("sap.sbo.page.phone.task.taskDialog",{taskID:"",page:e.__page})},__uploadFailed:function(){e.__uploadFileName="",e.__uploadFileSize="",window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/memo/UPLOADFAIL"))},enableScroll:function(){e.__oIScroll?e.__oIScroll.enable():(e.__oIScroll=new iScroll(this.$("div[data-sfa-class = 'memoIScroll']")[0],{hScroll:!1,bounce:!1,hideScrollbar:!0,fadeScrollbar:!0}),e.__oIScroll.refresh())},disableScroll:function(){e.__oIScroll&&e.__oIScroll.disable()},refreshScroll:function(){e.__oIScroll&&e.__oIScroll.refresh()},__uploadCompleted:function(t){var o;o=isNaN(t)?t.hash:t;var a=e.__oModel.getValue("page").pageAttachments,i=e.__oModel.getValue("page"),s=e.getAttachmentPreviewUrl(o,-1);a.unshift({attachmentId:o,attachmentFileName:e.__uploadFileName,attachmentFileSize:e.__uploadFileSize,previewUrl:s}),i.pageAttachments=a;var n=i.pageAttachments;i.text=e.$("#textarea").val(),e.__oModel.setValue("list",n),e.__oModel.setValue("page",i),e.refreshScroll()}})},destroy:function(){},initView:function(){var o=$.Deferred(),a=this;return a.enableScroll(),this.__noteID=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo").storeParam.noteID,this.__mode=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo").storeParam.mode,this.__boEntityKey=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo").storeParam.bo,this.__oService.setBoEntityKey(this.__boEntityKey),window.SboShell.addActionButtons([{text:t.sbo.localization.Helper.get("common/EDIT"),key:"key_edit_notepage"},{text:t.sbo.localization.Helper.get("common/DELETE"),key:"key_delete_notepage"},{text:t.sbo.localization.Helper.get("app/memo/CONVERT"),key:"key_convert_notepage",menu:[{text:t.sbo.localization.Helper.get("app/memo/TASK"),key:"key_convert_task"},{text:t.sbo.localization.Helper.get("app/memo/CONTACT"),key:"key_convert_contact"},{text:t.sbo.localization.Helper.get("app/lead/LEAD"),key:"key_convert_lead"},{text:t.sbo.localization.Helper.get("app/memo/OPPORTUNITY"),key:"key_convert_opportunity"}]}],this),"User"!=this.__boEntityKey.boName&&window.SboShell.removeActionButtons(["key_convert_notepage"]),this.$().on("vclick",'div[data-sfa-class="tile"]',this.__fTileOnClick),this.$().on("vclick","img[data-sfa-class='copyflagicon']",function(){var e=(t.sbo.localization.Helper.get("app/memo/COPYFLAG"),t.sbo.localization.Helper.get("app/memo/COPYFLAGINFO")),o=t.ui.common.getStaticContainer(),a=$("<div>").css({position:"absolute",top:0,left:0,right:0,bottom:0,"z-index":2e3}),i=$(this).position().top+$(this).outerHeight()+8,s=$(this).position().left-169,n=$("<div>").text(e).addClass("sbo-metadata-list-property-descrition").css({position:"absolute",top:i,left:s,"line-height":"20px",width:"200px","z-index":2001,display:"none"});o.append(a),$(this).parent().append(n),n.fadeIn(400),a.on("vclick",function(){n.fadeOut(400,function(){n.remove(),a.remove()})})}),this.$().setModel(this.__oModel),this.$().process(e).done(function(){a.$("#textarea").on("input",a.__textAreaChange),a.$('div[data-sfa-class="container"]').getControl().attachEvent("afterUpdate",a.__fNotePageRendered),a.$().find("#mediaBar").getControl().attachEvent("uploadComplete",a.__uploadCompleted),a.$().find("#mediaBar").getControl().attachEvent("uploadFailed",a.__uploadFailed),a.$().find("#mediaBar").getControl().attachEvent("afterPick",a.__fileSelected),a.$('div[data-sfa-class="container"]').getControl().attachEvent("afterUpdate",a.refreshScroll),window.SboShell.attachEvent("actionButtonClick",a.__fActionButtonClicked),a.__setViewMode(a.__mode),"BusinessPartner"!=a.__boEntityKey.boName&&a.$("div[data-sfa-class='copyflag']").remove()}),a.refreshScroll(),console.log("initview"),o.resolve(),o.promise()},destroyView:function(){var e=this;this.$("#textarea").off("input",this.__textAreaChange);var t=this.$('div[data-sfa-class="container"]');t&&t.length>0&&t.getControl().detachEvent("afterUpdate",this.__fNotePageRendered),e.$('div[data-sfa-class="container"]').getControl().attachEvent("afterUpdate",e.refreshScroll),window.SboShell.detachEvent("actionButtonClick",this.__fActionButtonClicked),this.$().find("#mediaBar").getControl().detachEvent("uploadComplete",this.__uploadCompleted),this.$().find("#mediaBar").getControl().detachEvent("uploadFailed",this.__uploadFailed),this.$().find("#mediaBar").getControl().detachEvent("afterPick",this.__fileSelected),this.$().off("vclick",'div[data-sfa-class="tile"]',this.__fTileOnClick),this.$().unprocess(),this.__oCurrentTileModel&&(this.__oCurrentTileModel=null),this.__oConvertDialogModel&&this.__oConvertDialogModel.destroy(),this.__oModel.destroy(),this.__oModel=null},update:function(e){e.noteID&&this.__refreshNotePage()}},Protected:{__destroyDialog:function(){},getAttachmentPreviewUrl:function(e,o){if("-1"==e+"")return"";var a=window.SboShell.getData("tenantID");return o>0?t.sbo.services.BaseService.documentbase+"file/fingernail?id="+e+"&boEntityKey="+JSON.stringify(this.__boEntityKey)+"&targetType=Page&targetId="+o+"&tenantID="+a:t.sbo.services.BaseService.documentbase+"file/previewFingernail/"+e+"?tenantID="+a},getAttachmentOpenUrl:function(e){if("-1"==e+"")return"";var o=window.SboShell.getData("tenantID");return t.sbo.services.BaseService.documentbase+"file/open?id="+e+"&boEntityKey="+JSON.stringify(this.__boEntityKey)+"&targetType=Page&targetId="+this.__noteID+"&tenantID="+o},__refreshNotePage:function(){window.SboShell;var o=this;if(t.util.showLoading(),"create"!==this.__mode)$.when(this.__oService.retrieveNotePage(o.__noteID)).done(function(a){if(a){o.__noteID=a.id,o.__page=a;var i=a.pageAttachments;$.each(i,function(e,t){t.previewUrl=o.getAttachmentPreviewUrl(t.attachmentId,o.__noteID)}),o.__oModel.setValue("list",i),o.__oModel.setValue("page",a),o.__oModel.getValue("page").copyFlag&&"view"==o.__mode&&o.$("div[data-sap-class='copyflagview']").show();var s=t.sbo.page.common.notepage.NotePageUtil.convertAtContent(a.toAnalyzeFunction,o.__page.text);o.__oModel.setValue("richMediaText",s.text),o.__oModel.setValue("richTextTargets",s.richTextTargets),o.$().process(e).done(function(){console.log("freshPage"),o.refreshScroll()})}}).fail(function(e){e&&window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/memo/LOADFAIL"))}).always(function(){t.util.hideLoading(),console.log("freshPage"),o.refreshScroll()});else{var a=o.__page.pageAttachments;o.__oModel.setValue("list",a),o.__oModel.setValue("page",o.__page),t.util.hideLoading()}}},Static:{}})}),define("sap.sbo.page.phone.notepage.NotePageList",["sap.core.klass","sap.ui.Controller","sap.sbo.ui.PageController","sap.log","sap.util","sap.core.ArrayListSource","sap.core.GuardedTimer","sap.core.JsonModel","sap.sbo.layout.phone.ListLayout","sap.core.ArrayListSource","sap.sbo.services.NotePageService","sap.sbo.util.AjaxListSource","sap.sbo.page.common.notepage.NotePageListSource","sap.sbo.page.common.notepage.NotePageUtil","sap.ui.widget.Icon","sap.sbo.localization.Helper","sap.sbo.app.task.taskUtil","css!sap.sbo.page.phone.notepage.NotePageList"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.PageController,Options:{bo:{}},Public:{init:function(){t.sbo.ui.PageController.prototype.init.apply(this,arguments);var e=this;t.core.klass.declareMember(this,{__oModel:new t.core.JsonModel({direction:"",notepages:{value:[]}}),__oService:new t.sbo.services.NotePageService,__boEntityKey:null,__bToAdd:!1,__$dialog:null,__$addButton:null,__oCurrentTileModel:null,__iNotePageCount:0,__detailViewInfo:"sap.sbo.page.phone.notepage.NotePageDialog",_oArraySource:[],__fTileOnClick:function(){e.__oCurrentTileModel=null,e.__oCurrentTileModel=$(this).getModel();var t=e.__oCurrentTileModel.getValue("id");window.SboShell.gotoView("sap.sbo.page.phone.notepage.NotePageDialog",{noteID:t,mode:"view",bo:e.__boEntityKey})},__fActionButtonClicked:function(t){switch(t){case"key_add_notepage":window.SboShell.gotoView("sap.sbo.page.phone.notepage.NotePageDialog",{noteID:"",mode:"create",bo:e.__boEntityKey});break;default:}},__createNotePageDialog:function(){window.SboShell.gotoView("sap.sbo.page.phone.notepage.NotePageDialog",{noteID:"",mode:"create",bo:e.__boEntityKey})}})},destroy:function(){},initView:function(){var o=$.Deferred();window.SboShell;var a=this;this.__boEntityKey=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo").storeParam.bo,window.SboShell.storeData("notePageList.boEntityKey",JSON.stringify(this.__boEntityKey)),this.$().on("vclick",'div[data-sfa-class="tile"]',this.__fTileOnClick),a.setTitle({title:t.sbo.localization.Helper.get("app/memo/MEMO")});var i=t.sbo.page.common.notepage.NotePageUtil.getEmptyInfo(this.__boEntityKey.boName);return this.$().setModel(this.__oModel),this.__oModel.setValue("emptyInfo",i),this.__refreshNotePages(),this.$().process(e),o.resolve(),window.SboShell.attachEvent("actionButtonClick",this.__fActionButtonClicked),window.SboShell.addActionButtons([{text:t.sbo.localization.Helper.get("app/memo/CREATE"),key:"key_add_notepage"}],this),this.$('div[data-sfa-class="container"]').getControl().attachEvent("create",a.__createNotePageDialog),o.promise()},destroyView:function(){window.SboShell.detachEvent("actionButtonClick",this.__fActionButtonClicked),window.SboShell.removeData("notePageList.boEntityKey"),this.__destroyDialog(),this.$().off("click",'div[data-sfa-class="tile"]',this.__fTileOnClick),this.$().unprocess(),this.__oCurrentTileModel&&(this.__oCurrentTileModel=null),this.__oService.resetBoEntityKey(),this.__oModel.destroy(),this.__oModel=null},update:function(e){e.data&&this.__refreshNotePages()}},Protected:{__destroyDialog:function(){this.__$dialog&&(this.__$dialog=null)},__refreshNotePages:function(){this.__boEntityKey=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo").storeParam.bo;var e=new t.sbo.page.common.notepage.NotePageListSource(this.__boEntityKey);this.__oModel.setValue("list",e)}},Static:{}})}),define("sap.sbo.page.phone.Product.PriceListEdit",["sap.sbo.page.phone.SubBoMetadataView","sap.ui.widget.TextField","sap.ui.Controller","sap.sbo.services.ItemsService","sap.sbo.util.formatter","sap.sbo.localization.Helper","css!sap.sbo.page.phone.Product.PriceListEdit"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.phone.SubBoMetadataView,Options:{},Public:{init:function(){t.sbo.page.phone.SubBoMetadataView.prototype.init.apply(this,arguments),this.declareMember({__mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo")}),this.__oService=this.autoDestroy(new t.sbo.services.ItemsService)},destroy:function(){},initView:function(){var o=$.Deferred();return $.when(t.sbo.page.phone.SubBoMetadataView.prototype.initView.call(this,e)).done(function(){o.resolve()}),o.promise()},destroyView:function(){t.sbo.page.phone.SubBoMetadataView.prototype.destroyView.call(this)},update:function(){t.sbo.page.phone.SubBoMetadataView.prototype.update.apply(this,arguments)},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"Item",keyElements:this.__mViewInfo.storeParam}},getSubNodeName:function(){return"ItemPrice"},getSubNodeBindPath:function(){return"itemPrices"},getIgnoredProperty:function(){return["priceList","itemCode","additionalPrice1","additionalCurrency1","additionalPrice2","additionalCurrency2"]},getEditFrameModuleName:function(){return"sap.sbo.page.phone.Product.PriceListEditFrame"},getTitle:function(e,o){return t.sbo.localization.Helper.get("app/pricelist/TITLE",o)},isNewCreateEnabled:function(){return!1}},Protected:{}})}),define("sap.sbo.page.phone.Product.PriceListEditFrame",["sap.ui.Controller","sap.sbo.page.phone.SubBoMetadataViewEditFrame","sap.core.JsonModel","css!sap.sbo.page.phone.Product.PriceListEditFrame"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.phone.SubBoMetadataViewEditFrame,Options:{},Public:{init:function(){t.sbo.page.phone.SubBoMetadataViewEditFrame.prototype.init.apply(this,arguments),this.declareMember({__oListModel:this.autoDestroy(new t.core.JsonModel({}))})},destroy:function(){},initView:function(){var e=this;e.$().setModel(e.__oListModel,"list"),$.when(t.sbo.page.phone.SubBoMetadataViewEditFrame.prototype.initView.apply(this,arguments)).done(function(){})},destroyView:function(){t.sbo.page.phone.SubBoMetadataViewEditFrame.prototype.destroyView.apply(this,arguments)},update:function(){t.sbo.page.phone.SubBoMetadataViewEditFrame.prototype.update.apply(this,arguments)},getIgnoredProperty:function(){return["currency","itemCode","additionalPrice1","additionalCurrency1","additionalPrice2","additionalCurrency2"]}},Protected:{}})}),define("sap.sbo.page.phone.Product.PriceListTile",["sap.ui.Controller","sap.sbo.localization.Helper","sap.core.JsonModel","sap.sbo.page.phone.ContentTileViewController","css!sap.sbo.page.phone.Product.PriceListTile"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={goldenImage:function(e){return e?"<img src='./image/Customer/goldenStar.png'>":void 0}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.phone.ContentTileViewController,Public:{init:function(){t.sbo.page.phone.ContentTileViewController.prototype.init.apply(this,arguments),this.declareMember({})},destroy:function(){},initView:function(){var o=$.Deferred();return $.when(t.sbo.page.phone.ContentTileViewController.prototype.initView.apply(this,arguments)).done(function(){this.$().process(e),o.resolve()}.bind(this)),o.promise()},destroyView:function(){t.sbo.page.phone.ContentTileViewController.prototype.destroyView.apply(this,arguments)},getTileTitle:function(){return t.sbo.localization.Helper.get("app/product/PRICES")},getNumberBindingPath:function(){return"Item/itemPrices/length"},on_basic:function(){var e=$(event.target).findModel();window.SboShell.gotoView("sap.sbo.page.phone.Product.PriceListEdit",[{keyName:"itemCode",keyValue:e.getValue("Item/itemCode")}])}},Protected:{}})}),define("sap.sbo.page.phone.Product.ProductBasicTile",["sap.ui.Controller","sap.sbo.localization.Helper","sap.sbo.page.phone.ContentTileViewController","sap.ui.widget.Photo","json!sap.sbo.util.enums","css!sap.sbo.page.phone.Product.ProductBasicTile"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={convertStatusImage:function(t){return t===e.json.sap.sbo.util.enums.bool.Yes?"<img src='./image/SalesOrder/lights_done.png'>":"<img src='./image/SalesOrder/lights_cancelled.png'>"}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.phone.ContentTileViewController,Public:{init:function(){t.sbo.page.phone.ContentTileViewController.prototype.init.apply(this,arguments),this.declareMember({})},destroy:function(){},initView:function(){var o=$.Deferred();return $.when(t.sbo.page.phone.ContentTileViewController.prototype.initView.apply(this,arguments)).done(function(){this.$().process(e),o.resolve()}.bind(this)),o.promise()},destroyView:function(){t.sbo.page.phone.ContentTileViewController.prototype.destroyView.apply(this,arguments)},getTileTitle:function(){return t.sbo.localization.Helper.get("app/BASIC")},on_basic:function(){var e=$(event.target).findModel();window.SboShell.openFrame({view:"sap.sbo.app.BOProfile.ProfileDetails",type:"center",width:640,height:480,options:{userID:e.getValue("Item/itemCode"),boName:"Item"},callback:function(t,o){"refreshAvatar"==t&&o&&e.setValue("Image/url",o)}}),event.stopPropagation()},on_navigate:function(){var e=$(event.target).findModel();window.SboShell.gotoView("sap.sbo.page.phone.Product.ProductEdit",[{keyName:"itemCode",keyValue:e.getValue("Item/itemCode")}])}},Protected:{}})}),define("sap.sbo.page.phone.Product.ProductCardView",["sap.core.JsonModel","sap.log","sap.util","sap.ui.MessageBox","sap.ui.Controller","sap.sbo.services.BaseService","sap.sbo.services.ItemsService","sap.sbo.util.AjaxListSource","sap.sbo.layout.phone.ListLayout","sap.sbo.localization.Helper","sap.sbo.ui.widget.MultipleValueHelp","sap.sbo.page.BaseBoListViewController","sap.sbo.ui.widget.ListManipulator","sap.sbo.util.formatter","sap.sbo.page.common.oppUtil","sap.ui.widget.Photo","json!sap.sbo.page.common.listFilters.Product","json!sap.sbo.util.enums","css!sap.sbo.page.phone.boListView"],function(){"use strict";var e=this.getNS(),t=e.sap,o=e.json.sap.sbo.util.enums.bool;return e.formatter={bool_string:function(e){return e===o.Yes?"YES":"NO"}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.BaseBoListViewController,Public:{init:function(){t.sbo.page.BaseBoListViewController.prototype.init.apply(this,arguments),this.declareMember({__oService:this.autoDestroy(new t.sbo.services.ItemsService),__oListSource:null,_onActionButtonClickProxy:$.proxy(this._onActionButtonClickHandler,this)}),this.__oListSource=this.autoDestroy(new t.sbo.util.AjaxListSource(this.__oService)),window.SboShell.attachEvent("actionButtonClick",this._onActionButtonClickProxy)},destroy:function(){window.SboShell.detachEvent("actionButtonClick",this._onActionButtonClickProxy)},initView:function(){var o=this,a=$.Deferred();return $.when(t.sbo.page.BaseBoListViewController.prototype.initView.call(this)).done(function(){o.$().process(e),o.$().control({'[data-id="listView"]':{emptyTexts:[t.sbo.localization.Helper.get("app/product/PURPOSE"),t.sbo.localization.Helper.get("app/product/USAGE"),t.sbo.localization.Helper.get("app/product/TO_CREATE")],source:o.__oListSource,listener:{create:function(){SboShell.openFrame({view:"sap.sbo.page.phone.Product.ProductCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,callback:function(){}})},requestDone:function(e){SboShell.setOption({title:t.sbo.localization.Helper.get("common/PRODUCT_NAME")}),SboShell.setHeaderCount(e.count)},modelCreated:function(e){e.setValue("Image",{url:"./image/common/no-pic.png"}),e.setValue("Image",{showImg:"NO"});var o=e.getValue("productImageId"),a=e.getValue("itemCode");if(o>0){e.setValue("Image",{showImg:"YES"});var i=t.sbo.util.formatter.getURL("Item","itemCode",a,o);e.setValue("Image",{url:i})}}}}}),window.SboShell.addActionButtons([{key:"create",text:t.sbo.localization.Helper.get("app/product/CREATE")}],o),o.$().on("vclick",".item",function(e){var t=$(e.target).findModel();window.SboShell.gotoView("sap.sbo.page.phone.Product.ProductHome",[{keyName:"itemCode",keyValue:t.getValue("itemCode")}])}),a.resolve()}).fail(function(e){window.SboShell.raiseException(e),a.reject(e)}),a.promise()},destroyView:function(){t.sbo.page.BaseBoListViewController.prototype.destroyView.call(this),this.$().unprocess()},update:function(){},getBoNameEntity:function(){return{boNamespace:"com.sap.sbo",boName:"Item"}},getProcessContext:function(){return e},getListSource:function(){return this.__oListSource},getService:function(){return this.__oService},getQuickFilters:function(){if(e&&e.json&&e.json.sap&&e.json.sap.sbo&&e.json.sap.sbo.page&&e.json.sap.sbo.page.common&&e.json.sap.sbo.page.common.listFilters&&e.json.sap.sbo.page.common.listFilters.Product){var o=e.json.sap.sbo.page.common.listFilters.Product,a={};for(var i in o)a[i]={},a[i].expr=o[i],a[i].label=t.sbo.localization.Helper.get("app/product/"+i),a[i].description=a[i].label;return a}return{}},getMainControl:function(){return this.$(".sbo-list-layout")}},Protected:{_onActionButtonClickHandler:function(e){switch(e){case"create":SboShell.openFrame({view:"sap.sbo.page.phone.Product.ProductCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,callback:function(){}})}}}})}),define("sap.sbo.page.phone.Product.ProductCreation",["sap.ui.Controller","sap.sbo.page.phone.BoMetadataCreationFrameController","sap.sbo.layout.phone.MetadataList","sap.sbo.services.ItemsService","sap.sbo.services.ItemGroupsService","sap.sbo.services.ManufacturersService","sap.sbo.ui.widget.BoStatus","sap.ui.widget.TextField","sap.ui.widget.TextArea","sap.sbo.ui.widget.DateTimeField","sap.sbo.util.formatter","sap.ui.widget.Button","sap.util","sap.core.JsonModel","sap.ui.widget.ValueHelpField","sap.ui.widget.DropDownBox","sap.sbo.localization.Helper","css!sap.sbo.app.template.EditProperty","css!sap.sbo.app.template.DynamicProperty"],function(){"use strict";var e=this.getNS(),t=e.sap,o=t.sbo.page.phone.BoMetadataCreationFrameController;return e.formatter={convertEmtpyNull:function(e,t){return"<<"===t?null===e?"":e:">>"===t?""===e?null:e:void 0}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:o,Public:{init:function(){o.prototype.init.apply(this,arguments);var e=this;this.declareMember({_oService:new t.sbo.services.ItemsService,__oListModel:this.autoDestroy(new t.core.JsonModel({itemgroups:[],manufacturers:[]})),__oItemGroupListService:this.autoDestroy(new t.sbo.services.ItemGroupsService),__oManufacturersListService:this.autoDestroy(new t.sbo.services.ManufacturersService),_fActionButtonClicked:function(o){switch(o){case"save":t.util.showLoading(),$.when(e.boCreate()).done(function(e){window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/PRODUCT_CREATE_SUCCESSFUL"),"success"),window.SboShell.gotoView("sap.sbo.page.phone.Product.ProductHome",[{keyName:"itemCode",keyValue:e.itemCode}])}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()});break;case"cancel":e.callShell("close")}}})},destroy:function(){this._oService.destroy()},initView:function(){var e=$.Deferred(),a=this;
return a.$().setModel(a.__oListModel,"list"),$.when(o.prototype.initView.call(this)).done(function(){$.when(this.__oItemGroupListService.query(),this.__oManufacturersListService.query()).done(function(t,o){a.__oListModel.setValue("itemgroups",t.value),a.__oListModel.setValue("manufacturers",o.value),null!=t.value[0]&&a._oMetadataValueModel.setValue("itemsGroupCode",t.value[0].number),null!=o.value[0]&&a._oMetadataValueModel.setValue("manufacturer",o.value[0].code),e.resolve()}).fail(function(t){e.reject(t)}),window.SboShell.addTopButtons([{key:"cancel",text:t.sbo.localization.Helper.get("common/CANCEL")},{key:"save",text:t.sbo.localization.Helper.get("app/SAVE_VIEW")}]),window.SboShell.attachEvent("actionButtonClick",this._fActionButtonClicked)}.bind(this)),e.promise()},destroyView:function(){window.SboShell.detachEvent("actionButtonClick",this._fActionButtonClicked),o.prototype.destroyView.call(this)},update:function(){o.prototype.update.apply(this,arguments)},getMainControl:function(){return this.$("[ctrl='main']").getControl()},getBoType:function(){return{boNamespace:"com.sap.sbo",boName:"Item"}},getService:function(){return this._oService},process:function(){this.$().process(e)},boValidate:function(){},getInitBo:function(){var e=$.Deferred();return $.when(this.getService().getInit()).done(function(t){t.itemCode="",e.resolve(t)}).fail(function(){e.reject(ex)}),e.promise()}},Protected:{}})}),define("sap.sbo.page.phone.Product.ProductEdit",["css!sap.sbo.app.template.EditProperty","sap.core.klass","sap.ui.Controller","sap.sbo.layout.phone.MetadataLayout","sap.core.JsonModel","sap.ui.widget.TextField","sap.sbo.services.ItemsService","sap.sbo.services.ItemGroupsService","sap.sbo.services.ManufacturersService","sap.sbo.services.ShippingTypesService","sap.sbo.services.VatGroupsService","sap.sbo.page.phone.BoMetadataEditController","sap.ui.widget.TextArea","sap.sbo.ui.widget.DateTimeField","sap.sbo.util.formatter","sap.util","sap.sbo.ui.widget.BoStatus","sap.ui.widget.Photo","sap.ui.widget.Checkbox","sap.ui.widget.DropDownBox","sap.sbo.util.formatter","sap.sbo.localization.Helper","json!sap.sbo.util.enums","css!sap.sbo.page.phone.boEdit"],function(){"use strict";var e=this.getNS(),t=e.sap,o=e.json.sap.sbo.util.enums.bool;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.phone.BoMetadataEditController,Public:{init:function(){t.sbo.page.phone.BoMetadataEditController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{_oService:new t.sbo.services.ItemsService,_mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),__oListModel:this.autoDestroy(new t.core.JsonModel({itemgroups:[],manufacturers:[],shipType:[],vatGroup:[]})),__oItemGroupListService:this.autoDestroy(new t.sbo.services.ItemGroupsService),__oManufacturersListService:this.autoDestroy(new t.sbo.services.ManufacturersService),__oShippingTypesService:this.autoDestroy(new t.sbo.services.ShippingTypesService),__oListVatService:this.autoDestroy(new t.sbo.services.VatGroupsService)})},destroy:function(){this._oService.destroy()},initView:function(){var e=$.Deferred(),a=this;return a.$().setModel(a.__oListModel,"list"),$.when(t.sbo.page.phone.BoMetadataEditController.prototype.initView.call(this),this.__oItemGroupListService.query(),this.__oManufacturersListService.query(),this.__oShippingTypesService.query(),this.__oListVatService.query()).done(function(e,t,i,s,n){a.setTitle("Basic Information"),a.__oListModel.setValue("itemgroups",t.value),a.__oListModel.setValue("manufacturers",i.value),a.__oListModel.setValue("shipType",s.value),a.__oListModel.setValue("vatGroup",n.value),a.$().on("vclick",".changeStatus",function(){var e=a._oMetadataValueModel.getValue("isActive");e===o.Yes?a._oMetadataValueModel.setValue("isActive",o.No):a._oMetadataValueModel.setValue("isActive",o.Yes)})}).fail(function(){}).always(function(){e.resolve()}),e.promise()},destroyView:function(){window.SboShell.detachEvent("actionButtonClick",this._fnButtonProxy),this.$().unprocess(),t.sbo.page.phone.BoMetadataEditController.prototype.destroyView.call(this)},update:function(){},getMainControl:function(){return this.$("[ctrl='main']").getControl()},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"Item",keyElements:this._mViewInfo.storeParam}},getService:function(){return this._oService},process:function(){this.$().process(e)}},Protected:{}})}),define("sap.sbo.page.phone.Product.ProductHome",["sap.core.JsonModel","sap.ui.Controller","sap.log","sap.ui.widget.TextField","sap.sbo.layout.phone.AdvancedTilesLayout","sap.sbo.layout.TileView","sap.sbo.ui.widget.UploadButton","sap.ui.widget.Button","sap.sbo.services.BaseService","sap.sbo.services.ItemsService","sap.sbo.page.phone.BoHomeController","sap.sbo.app.network.RelatedTile","json!sap.sbo.util.enums","sap.sbo.util.formatter","css!sap.sbo.page.phone.Document.DocumentHome"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={convertItemType:function(e){return"itLabor"===e?"Service":"Material"},convertItemGroup:function(e){return 100===e?"Adventure Travel":e},convertManufacture:function(e){return-1===e?"FlighHigh":e},convertItemStatus:function(t){return t==e.json.sap.sbo.util.enums.bool.Yes?"Active":"Inactive"}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.phone.BoHomeController,Public:{init:function(){t.sbo.page.phone.BoHomeController.prototype.init.apply(this,arguments),this.declareMember({__oItemService:this.autoDestroy(new t.sbo.services.ItemsService),__oModel:this.autoDestroy(new t.core.JsonModel({Image:{url:"./image/common/no-pic.png"}})),__mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),__ItemCode:null}),this.__ItemCode=this.convertBoKey(window.SboShell.callFeatureMethod("shell.getCurrentViewInfo").storeParam).itemCode},destroy:function(){},getService:function(){return this.__oItemService},initView:function(){var o=$.Deferred(),a=this;return $.when(t.sbo.page.phone.BoHomeController.prototype.initView.apply(this,arguments)).done(function(){var i={};i.itemCode=a.__ItemCode,$.when(a.__oItemService.get(i)).done(function(i){if(a.__oModel.setValue("Item",i),i.productImageId>0){var s=t.sbo.util.formatter.getURL("Item","itemCode",a.__ItemCode,i.productImageId);a.__oModel.setValue("Image",{url:s})}a.$().setModel(a.__oModel),window.SboShell.addFeature(a,"relatedFilter.BOkey","method"),a.autoDestroy("remove the realted filter",window.SboShell.removeFeature.bind(window.SboShell,"relatedFilter.BOkey")),a.$().process(e),a.setTitle({subTitle:"ItemCode: "+a.__oModel.getValue("Item/itemCode"),title:a.__oModel.getValue("Item/itemName")}),o.resolve()}).fail(function(e){o.reject(e)}),a.$().on("vclick",'[field="general"]',function(e){var t=$(e.target).findModel(),o=t.getValue("Item");window.SboShell.gotoView("sap.sbo.page.phone.Product.ProductEdit",[{keyName:"itemCode",keyValue:o.itemCode}])}),a.$().on("vclick",".logo",function(e){window.SboShell.openFrame({view:"sap.sbo.app.BOProfile.ProfileDetails",type:"center",width:640,height:480,options:{userID:a.__ItemCode,boName:a.getBoKeyEntity().boName},callback:function(e,t){"refreshAvatar"==e&&t&&a.__oModel.setValue("Image/url",t)}}),e.stopPropagation()}),a.$().on("vclick","[uuid='pricelist']",function(){window.SboShell.gotoView("sap.sbo.page.phone.Product.PriceListEdit",a.__mViewInfo.storeParam)})}),o.promise()},destroyView:function(){t.sbo.page.phone.BoHomeController.prototype.destroyView.apply(this,arguments),this.$().unprocess()},update:function(){},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"Item",keyElements:[{keyName:"itemCode",keyValue:this.__ItemCode}]}},doFeature:function(e){if("relatedFilter.BOkey"===e){var o=this.__oModel.getValue("");return{key:"itemCode",value:o.itemCode}}return t.sbo.page.phone.BoHomeController.prototype.doFeature.apply(this,arguments)}}})}),define("sap.sbo.page.phone.report.queryChartView",["sap.ui.Controller","sap.sbo.compoundservices.AnalyticService","sap.ui.View","sap.sbo.ui.widget.ReportWidget","sap.sbo.app.queryDesigner.ChartHelper","sap.sbo.app.report.TableList","sap.core.JsonModel","sap.util","sap.sbo.ui.PageController","sap.sbo.localization.Helper","sap.sbo.compoundservices.QueryResultService","sap.sbo.services.BaseService","css!sap.sbo.page.pad.report.queryChartView"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.PageController,Options:{reportId:{type:"integer",defaultValue:-1},reportName:{type:"string",defaultValue:""},filter:{type:"array",defaultValue:[]}},Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments),this.declareMember({__oModel:new t.core.JsonModel({queryid:0,filter:[]}),__oService:this.autoDestroy(new t.sbo.compoundservices.AnalyticService),__oDownLoadService:this.autoDestroy(new t.sbo.compoundservices.QueryResultService),__fActionButtonClicked:function(e){switch(e){case"key_edit":break;default:}}})},destroy:function(){},initView:function(){var o=$.Deferred(),a=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo").storeParam.reportId,i=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo").storeParam.reportName,s=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo").storeParam.filter;this.__oModel.setValue("queryid",a+""),s&&this.__oModel.setValue("filter",s);var n=this;return n.$().setModel(n.__oModel),n.$().process(e).done(function(){}),o.resolve(),window.SboShell.setOption({title:i}),window.SboShell.addActionButtons([{text:t.sbo.localization.Helper.get("app/report/EDIT"),key:"key_edit"}],this),window.SboShell.attachEvent("actionButtonClick",this.__fActionButtonClicked),o.promise()},destroyView:function(){this.__oModel=null,this.__oService=null,this.__oDownLoadService=null,window.SboShell.detachEvent("actionButtonClick",this.__fActionButtonClicked),window.SboShell.removeData("queryChartView.query"),this.$().unprocess()},update:function(e){e&&console.log(e)}},Protected:{},Static:{}})}),define("sap.sbo.page.phone.report.queryListView",["sap.ui.Controller","sap.core.DestroyPool","sap.sbo.ui.Loop","sap.core.JsonModel","sap.core.event.DomCommand","sap.sbo.layout.phone.ListLayout","sap.sbo.services.QueriesService","sap.sbo.services.QueryGroupsService","sap.sbo.ui.PageController","sap.sbo.page.BaseBoListViewController","sap.sbo.util.AjaxListSource","sap.sbo.ui.widget.ListManipulator","sap.sbo.localization.Helper","css!sap.sbo.page.phone.boListView","sap.core.IViewRegionControlable","sap.core.viewRegionManager","sap.sbo.util.notification","css!sap.sbo.page.phone.report.queryListView","sap.util"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.PageController,Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments);var e=this;this.declareMember({queriesService:new t.sbo.services.QueriesService,queryGroupsService:new t.sbo.services.QueryGroupsService,dataContext:new t.core.JsonModel({selectReport:new t.core.event.DomCommand(this,this.__selectReport)}),queriesListSource:null,queryGroupsListSource:null,__mode:"view",__itemOnClick:function(){var o=$(this).data("query"),a=this;if("view"==e.__mode)0==o.dashboard?window.SboShell.gotoView("sap.sbo.page.phone.report.queryTableView",{reportId:o.id,reportName:o.name}):window.SboShell.gotoView("sap.sbo.page.phone.report.queryChartView",{reportId:o.id,reportName:o.name});else if("edit"==e.__mode){if(1==o.system)return window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/report/CANTDELETESYSTEM"),[{key:"ok",text:t.sbo.localization.Helper.get("common/OK")}]),void 0;$.when(window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/report/DELETECONFIRM"),"question",[{key:"no",text:t.sbo.localization.Helper.get("common/CANCEL")},{key:"yes",text:t.sbo.localization.Helper.get("common/DELETE")}])).done(function(i){"yes"===i&&e.queriesService["delete"](o).done(function(){0==$(a).nextAll('div[class = "Query"]').length&&0==$(a).prevAll('div[class = "Query"]').length?$(a).parent().parent().remove():$(a).remove()}).fail(function(e){e&&window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/report/DELETEFAIL"))})})}},__setViewMode:function(o){switch(e.__mode=o,e.__mode){case"view":e.$("[modetype='edit']").hide(),e.$("[modetype='view']").show(),window.SboShell.removeActionButtons(["key_done","key_remove","key_add_query","key_add_dashboard"],this),window.SboShell.addActionButtons([{text:t.sbo.localization.Helper.get("app/report/CREATEDASHBOARD"),key:"key_add_dashboard"},{text:t.sbo.localization.Helper.get("app/report/CREATEQUERY"),key:"key_add_query"},{text:t.sbo.localization.Helper.get("app/report/REMOVE"),key:"key_remove"}],this);break;case"edit":e.$("[modetype='view']").hide(),e.$("[modetype='edit']").show(),window.SboShell.removeActionButtons(["key_done","key_remove","key_add_query","key_add_dashboard"],this),window.SboShell.addActionButtons([{text:t.sbo.localization.Helper.get("app/report/DONE"),key:"key_done"}],this);break;default:e.$("[modetype='edit']").hide(),e.$("[modetype='view']").show()}},__fActionButtonClicked:function(t){switch(t){case"key_remove":e.__setViewMode("edit");break;case"key_add_query":break;case"key_add_dashboard":break;case"key_done":e.__setViewMode("view");break;default:}}}),this.queriesListSource=new t.sbo.util.AjaxListSource(this.queriesService),this.queryGroupsListSource=new t.sbo.util.AjaxListSource(this.queryGroupsService)},destroy:function(){},initView:function(){var o=this;this.$().setModel(this.dataContext,"reportListViewHome");var a=$.Deferred(),i={};i.size=999999,i.top=999999,i.begin=0;var s=this.$('div[data-sfa-class="container"]');return s.empty(),o.queryGroupsListSource.read(i,null,null,null,null).done(function(n){var r;r=n?n.data:[],o.queriesListSource.read(i,null,null,null,null).done(function(i){var n;if(!i)return window.SboShell.setOption({title:l+" "+t.sbo.localization.Helper.get("app/report/REPORT")}),o.$().process(e),a.resolve(),void 0;n=i.data;var l=n.length;1!=l?window.SboShell.setOption({title:l+" "+t.sbo.localization.Helper.get("app/report/REPORTS")}):window.SboShell.setOption({title:l+" "+t.sbo.localization.Helper.get("app/report/REPORT")});for(var d=0;r.length>d;d++){var p=$.grep(n,function(e){return e.groupId==r[d].id});if(p.length>0){var c=$("<div>").addClass("Group"),u=$("<img>").attr("src","image/report/light.png");c.append(u);var h=$("<div>").text(r[d].name).addClass("GroupTitle"),b=$("<div>").addClass("QueryList");c.append(h),c.append(b),$.each(p,function(e,t){var o=$("<div>").addClass("Query");if(t.dashboard){var a=$("<img>").attr("src","image/report/icon_chart.png").addClass("type");o.append(a)}else{var a=$("<img>").attr("src","image/report/icon_table.png").addClass("type");o.append(a)}o.append($("<div>").text(t.name).addClass("QueryName"));var i=$("<img>").attr("src","image/settings/choose.png").attr("modetype","view").addClass("mode"),s=$("<img>").attr("src","image/report/trash.png").attr("modetype","edit").addClass("mode");o.append(i),o.data("query",t),o.append(s),b.append(o)}),s.append(c)}n=$.grep(n,function(e){return e.groupId!=r[d].id})}if(n.length>0){var c=$("<div>").addClass("Group"),u=$("<img>").attr("src","image/report/light.png");c.append(u);var h=$("<div>").text(t.sbo.localization.Helper.get("app/report/OTHERS")).addClass("GroupTitle"),b=$("<div>").addClass("QueryList");c.append(h),c.append(b),$.each(n,function(e,t){var o=$("<div>").addClass("Query");if(t.dashboard){var a=$("<img>").attr("src","image/report/icon_chart.png").addClass("type");o.append(a)}else{var a=$("<img>").attr("src","image/report/icon_table.png").addClass("type");o.append(a)}o.append($("<div>").text(t.name).addClass("QueryName"));var i=$("<img>").attr("src","image/settings/choose.png").attr("modetype","view").addClass("mode"),s=$("<img>").attr("src","image/report/trash.png").attr("modetype","edit").addClass("mode");o.append(i),o.append(s),o.data("query",t),b.append(o)}),s.append(c)}o.__setViewMode("view"),o.$().process(e),a.resolve()}).fail(function(){a.reject("get data failed.")})}).fail(function(){a.reject("get data failed.")}),window.SboShell.setOption({title:t.sbo.localization.Helper.get("app/report/REPORT")}),o.$().process(e),window.SboShell.attachEvent("actionButtonClick",this.__fActionButtonClicked),this.$().on("vclick",'div[class="Query"]',this.__itemOnClick),a.promise()},setTitle:function(e){window.SboShell.setOption({title:0===e.count?t.sbo.localization.Helper.get("report/title"):t.sbo.localization.Helper.get("report/titles"),subTitle:""}),window.SboShell.setHeaderCount(e.count)},destroyView:function(){this.queriesListSource=null,this.queryGroupsListSource=null,window.SboShell.detachEvent("actionButtonClick",this.__fActionButtonClicked),this.$().off("vclick",'div[class="Query"]',this.__itemOnClick),this.$().unprocess()},update:function(){}},Protected:{__selectReport:function(){}},Static:{}})}),define("sap.sbo.page.phone.report.queryTableView",["sap.ui.Controller","sap.sbo.compoundservices.AnalyticService","sap.ui.View","sap.core.DataList","sap.sbo.app.queryDesigner.ChartHelper","sap.sbo.app.report.TableList","sap.core.JsonModel","sap.util","sap.sbo.ui.PageController","sap.sbo.localization.Helper","sap.sbo.compoundservices.QueryResultService","sap.sbo.services.BaseService","css!sap.sbo.page.phone.report.queryTableView"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.PageController,Options:{reportId:{type:"integer",defaultValue:-1},reportName:{type:"string",defaultValue:""}},Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments);var e=this;this.declareMember({__oModel:new t.core.JsonModel({queryId:{},header:[],previewDatas:[]}),__oService:this.autoDestroy(new t.sbo.compoundservices.AnalyticService),__oDownLoadService:this.autoDestroy(new t.sbo.compoundservices.QueryResultService),__fActionButtonClicked:function(t){switch(t){case"key_download":e.__download();break;case"key_edit":break;default:}},__download:function(){var e=this.__oModel.getValue("queryId"),o=window.SboShell.getData("tenantID");t.util.showLoading(),$.when(this.__oDownLoadService.downloadQueryResult(e)).done(function(e){if(e.value){var a={},i={};i.keyName="employeeID",i.keyValue=1;var s=[];s.push(i),a.boNamespace="com.sap.sbo",a.boName="UserEmployee",a.keyElements=s;var n=t.sbo.services.BaseService.documentbase+"file/open?id="+e.value+"&boEntityKey="+JSON.stringify(a)+"&tenantID="+o;window.SboShell.previewAttachment(n,"text/csv")}}).fail(function(e){e&&window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/report/LOADFAIL"))}).always(function(){t.util.hideLoading()})}})},destroy:function(){},initView:function(){var o=$.Deferred(),a=this,i=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo").storeParam.reportId,s=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo").storeParam.reportName;this.__oModel.setValue("queryId",i);var n=[];return t.util.showLoading(),$.when(this.__oService.queryById(i)).done(function(i){i.header&&(a.__oModel.setValue("previewDatas",i.data.value),$.each(i.header.value,function(e,t){var o={};o.displayLabel=t,n.push(o)}),a.__oModel.setValue("header",n)),a.$().setModel(a.__oModel),a.$().process(e).done(function(){if(i.total>30){a.$("div[data-sfa-class='resulttable']").height("90%"),a.$("div[data-sfa-class='resulttable']").getControl()._iscroll.refresh();var e=$("<div>").text(t.sbo.localization.Helper.get("app/report/MOREINFO",30,i.total));a.$("div[data-sfa-class='moreinfo']").append(e)}if(n&&n.length>0){var s=a.$('div[ data-sfa-class="tablecontent"]').width(),r=s/n.length;r>200&&(a.$("tr").width(s),a.$("th").width(r),a.$("table").width(s))}o.resolve()})}).fail(function(e){e&&window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/report/LOADFAIL"))}).always(function(){t.util.hideLoading()}),window.SboShell.setOption({title:s}),window.SboShell.addActionButtons([{text:t.sbo.localization.Helper.get("app/report/EDIT"),key:"key_edit"},{text:t.sbo.localization.Helper.get("app/report/DOWNLOAD"),key:"key_download"}],this),window.SboShell.attachEvent("actionButtonClick",this.__fActionButtonClicked),o.promise()},destroyView:function(){this.__oModel=null,this.__oService=null,this.__oDownLoadService=null,window.SboShell.detachEvent("actionButtonClick",this.__fActionButtonClicked),window.SboShell.removeData("queryTableView.query"),this.$().unprocess()},update:function(e){e&&console.log(e)}},Protected:{},Static:{}})}),define("sap.sbo.page.phone.SalesOpportunity.BasicInfoEdit",["css!sap.sbo.app.template.EditProperty","sap.core.klass","sap.ui.Controller","sap.sbo.layout.phone.MetadataLayout","sap.core.JsonModel","sap.ui.widget.TextField","sap.ui.widget.Photo","sap.ui.widget.Currency","sap.sbo.services.SalesOpportunitiesService","sap.sbo.page.phone.BoMetadataEditController","sap.ui.widget.TextArea","sap.sbo.ui.widget.DateTimeField","sap.sbo.localization.Helper","sap.sbo.util.formatter","sap.util","sap.sbo.services.SalesStagesService","sap.sbo.compoundservices.AttachmentService","sap.sbo.app.task.taskUtil","sap.sbo.ui.widget.RelatedValueDropDownBox","sap.sbo.ui.BoNavigationObject","sap.sbo.ui.widget.BoLabel","sap.sbo.app.SalesOpportunity.Stage","sap.sbo.ui.widget.RelatedValueLabel","css!sap.sbo.page.phone.boEdit"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={statusText:function(e){switch(e){case"sos_Open":return t.sbo.localization.Helper.get("app/OPEN");case"sos_Missed":return t.sbo.localization.Helper.get("app/LOST");case"sos_Sold":return t.sbo.localization.Helper.get("app/WON")}},convertStatusImage:function(e){switch(e){case"sos_Open":return"./image/BO/Open.png";case"sos_Missed":return"./image/BO/Reject.png";case"sos_Sold":return"./image/BO/Won_Complete.png";default:return""}}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.phone.BoMetadataEditController,Public:{init:function(){t.sbo.page.phone.BoMetadataEditController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{_oService:new t.sbo.services.SalesOpportunitiesService,_mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),_modelOwner:this.autoDestroy(new t.core.JsonModel({ownerName:"",OwnerImage:{url:"./image/common/no-pic-avatar.jpg"}})),_oStageService:new t.sbo.services.SalesStagesService,oAttachementService:this.autoDestroy(new t.sbo.compoundservices.AttachmentService),_oStageModel:new t.core.JsonModel({metadata:[]})})},destroy:function(){this._oStageService.destroy(),this._oService.destroy(),this._oStageModel.destroy()},initView:function(){var e=$.Deferred(),o=this;return this.$().setModel(this._modelOwner,"owner"),o.$().setModel(this._oStageModel,"stage"),o.setTitle(t.sbo.localization.Helper.get("app/BASIC")),$.when(this._oStageService.query()).done(function(a){o._oStageModel.setValue("metadata",a.value),$.when(t.sbo.page.phone.BoMetadataEditController.prototype.initView.call(o)).done(function(){var a=o._oMetadataValueModel.getValue("dataOwnershipfield");null!=a&&$.when(o.oAttachementService.getPortraitId(a)).done(function(e){if(-1!==e.value){var i={};i.attachmentId=e.value,i.ownerCode=a;var s=t.sbo.app.task.taskUtil.PreviewUrl(i);o._modelOwner.setValue("OwnerImage",{url:s})}}),o.getMainControl().getOption("dynamicMeta").closingDate.readOnly=!0,o.getMainControl().getOption("dynamicMeta").totalAmt.readOnly=!0,o._oMetadataValueModel.attachEvent("valueChanged",function(){o.getMainControl().getOption("dynamicMeta").closingDate.readOnly=!0,o.getMainControl().getOption("dynamicMeta").totalAmt.readOnly=!0}.bind(o)),e.resolve()}).fail(function(t){window.SboShell.raiseException(t),e.reject(t)}),o.$().control({"[ctrl='main']":{listener:{afterProcess:function(){o.$("[property='salesOpportunitiesLines']").getControl().setOption("getBO",function(){return o.boGetValue()}),o.$("[property='salesOpportunitiesLines']").getControl().setOption("setBO",function(e){o._oMetadataValueModel.setValue("",e)})}}}})}).fail(function(t){e.reject(t)}),this.$().on("vclick",".choose.open",function(){o._oMetadataValueModel.setValue("status","sos_Open")}),this.$().on("vclick",".choose.win",function(){o._oMetadataValueModel.setValue("status","sos_Sold")}),this.$().on("vclick",".choose.lose",function(){o._oMetadataValueModel.setValue("status","sos_Missed")}),this.$().on("GuilinControlEvent.navigate GuilinControlEvent.choose",".sbo-metadata-list-property",function(e){switch($(e.currentTarget).attr("gl-property")){case"dataOwnershipfield":if("navigate"===e.namespace){var a=o._oMetadataValueModel.getValue("dataOwnershipfield");null!==a&&window.SboShell.gotoView("sap.sbo.page.phone.user.BasicInfo",[{keyName:"employeeID",keyValue:a}])}else window.SboShell.openFrame({view:"sap.sbo.chooseList.phone.ChooseListEmployee",options:{},type:"right",callback:function(e,a){"close"===e||"select"===e&&(o._oMetadataValueModel.setValue("dataOwnershipfield",a.employeeID),o._oMetadataValueModel.setValue("ownerEmployeeDisplayName",a.displayName),$.when(o.oAttachementService.getPortraitId(a.employeeID)).done(function(e){if(-1!==e.value){var i={};i.attachmentId=e.value,i.ownerCode=a.employeeID;var s=t.sbo.app.task.taskUtil.PreviewUrl(i);o._modelOwner.setValue("OwnerImage",{url:s})}}))}});break;case"source":window.SboShell.openFrame({view:"sap.sbo.chooseList.phone.ChooseListSource",options:{},type:"right",callback:function(e,t){"close"===e||"select"===e&&(o._oMetadataValueModel.setValue("source",t.sequenceNo),o._oMetadataValueModel.setValue("sourceDescription",t.description))}});break;case"reasonForClosing":window.SboShell.openFrame({view:"sap.sbo.chooseList.phone.ChooseListReason",options:{},type:"right",callback:function(e,t){"close"===e||"select"===e&&(o._oMetadataValueModel.setValue("reasonForClosing",t.sequenceNo),o._oMetadataValueModel.setValue("reasonDescription",t.description))}});break;case"cardCode":window.SboShell.gotoView("sap.sbo.page.phone.Customer.CustomerHome",[{keyName:"cardCode",keyValue:o._oMetadataValueModel.getValue("cardCode")}])}}),e.promise()},destroyView:function(){this.$().unprocess(),this.$().off("GuilinControlEvent.navigate GuilinControlEvent.choose"),t.sbo.page.phone.BoMetadataEditController.prototype.destroyView.call(this)},update:function(){},getMainControl:function(){return this.$("[ctrl='main']").getControl()},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"SalesOpportunity",keyElements:this._mViewInfo.storeParam}},getService:function(){return this._oService},process:function(){this.$().process(e)}},Protected:{}})}),define("sap.sbo.page.phone.SalesOpportunity.BasicTile",["sap.ui.Controller","sap.sbo.localization.Helper","sap.sbo.page.phone.ContentTileViewController","json!sap.sbo.util.enums","sap.core.JsonModel","sap.sbo.compoundservices.AttachmentService","sap.sbo.app.task.taskUtil","sap.ui.widget.Photo","css!sap.sbo.page.phone.Document.BasicTile"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.phone.ContentTileViewController,Public:{init:function(){t.sbo.page.phone.ContentTileViewController.prototype.init.apply(this,arguments),this.declareMember({__modelOwner:this.autoDestroy(new t.core.JsonModel({OwnerImage:{url:"./image/common/no-pic-avatar.jpg"}})),oAttachementService:this.autoDestroy(new t.sbo.compoundservices.AttachmentService)})},destroy:function(){},initView:function(){var o=$.Deferred(),a=this;return this.$().setModel(this.__modelOwner,"owner"),$.when(t.sbo.page.phone.ContentTileViewController.prototype.initView.apply(this,arguments)).done(function(){var i=this.$().findModel(),s=i.getValue("dataOwnershipfield");null!=s&&$.when(a.oAttachementService.getPortraitId(s)).done(function(e){if(-1!==e.value){var o={};o.attachmentId=e.value,o.ownerCode=s;var i=t.sbo.app.task.taskUtil.PreviewUrl(o);a.__modelOwner.setValue("OwnerImage",{url:i})}}),this.$().process(e),o.resolve()}.bind(this)),o.promise()},destroyView:function(){t.sbo.page.phone.ContentTileViewController.prototype.destroyView.apply(this,arguments)},getTileTitle:function(){return t.sbo.localization.Helper.get("app/BASIC")},on_basic:function(){var e=$(event.target).findModel();window.SboShell.gotoView("sap.sbo.page.phone.SalesOpportunity.BasicInfoEdit",[{keyName:"sequentialNo",keyValue:e.getValue("sequentialNo")}]),event.stopPropagation()},on_navigate:function(){var e=$(event.target).findModel();window.SboShell.gotoView("sap.sbo.page.phone.SalesOpportunity.BasicInfoEdit",[{keyName:"sequentialNo",keyValue:e.getValue("sequentialNo")}]),event.stopPropagation()}},Protected:{}})}),define("sap.sbo.page.phone.SalesOpportunity.contactTile",["sap.ui.Controller","sap.sbo.localization.Helper","sap.sbo.page.phone.ContentTileViewController","sap.ui.widget.Photo","css!sap.sbo.page.phone.Document.contactTile"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={goldenImage:function(e){return e>=0?"./image/Customer/goldenStar.png":""}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.phone.ContentTileViewController,Public:{init:function(){t.sbo.page.phone.ContentTileViewController.prototype.init.apply(this,arguments),this.declareMember({})},destroy:function(){},initView:function(){var o=$.Deferred();return $.when(t.sbo.page.phone.ContentTileViewController.prototype.initView.apply(this,arguments)).done(function(){o.resolve(),this.$().process(e)}.bind(this)),o.promise()},destroyView:function(){t.sbo.page.phone.ContentTileViewController.prototype.destroyView.apply(this,arguments)},getTileTitle:function(){return t.sbo.localization.Helper.get("app/customer/CONTACTS")},getCreateDesc:function(){return t.sbo.localization.Helper.get("app/document/CREATE_CNT")},getNumberBindingPath:function(){return"Related@contact/number"},on_basic:function(){var e=$(event.target).findModel();window.SboShell.gotoView("sap.sbo.page.phone.Contact.ContactListView",{boName:"SalesOpportunity",keyParam:[{keyName:"sequentialNo",keyValue:e.getValue("sequentialNo")}],BPcardCode:e.getValue("cardCode"),BPcardName:e.getValue("customerName")},{MainContact:e.getValue("contactPerson")})},on_create:function(){var e=$(event.target).findModel("");SboShell.openFrame({view:"sap.sbo.page.phone.Contact.ContactCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,options:{data:{BPcardCode:e.getValue("cardCode"),BPcardName:e.getValue("customerName"),boName:"SalesOpportunity",keyParam:[{keyName:"sequentialNo",keyValue:e.getValue("sequentialNo")}]}}})},on_navigate:function(){var e=$(event.target).findModel("Related");SboShell.gotoView("sap.sbo.page.phone.Contact.ContactHome",[{keyName:"contactPersonID",keyValue:e.getValue("contact/contactPersonID")}])}},Protected:{}})}),define("sap.sbo.page.phone.SalesOpportunity.CreationFrame",["sap.ui.Controller","sap.sbo.services.SalesOpportunitiesService","sap.ui.widget.Checkbox","sap.sbo.page.phone.boCreation","sap.ui.widget.TextField","sap.ui.widget.Button","sap.ui.widget.Currency","sap.ui.widget.DropDownBox","sap.ui.widget.TextArea","sap.sbo.ui.widget.DateTimeField","sap.ui.widget.ValueHelpField","sap.core.JsonModel","sap.util","sap.sbo.util.formatter","sap.core.ListSourceFilter","json!sap.sbo.util.enums","css!sap.sbo.page.phone.boCreation"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={bool_string:function(t,o){return"<<"===o?t===e.json.sap.sbo.util.enums.bool.Yes:t?e.json.sap.sbo.util.enums.bool.Yes:e.json.sap.sbo.util.enums.bool.No},convertEmtpyNull:function(e,t){return"<<"===t?null===e?"":e:">>"===t?""===e?null:e:void 0}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.phone.boCreation,Public:{init:function(){t.sbo.page.phone.boCreation.prototype.init.apply(this,arguments),this.__oService=this.autoDestroy(new t.sbo.services.SalesOpportunitiesService),this.declareMember({__oModel:new t.core.JsonModel({}),__oInitialBO:{}});
var o=this;o.__oModel.attachEvent("databinded",function(e,t){o.__handleAfterModify(e,t)}),$.extend(this.__ns,e)},destroy:function(){},initView:function(){var o=this;this.$().setModel(this.__oModel),t.util.showLoading(),$.when(this.__oService.getInit()).done(function(a){$.when(o.__oService.getInitBoNode(a,"Root/salesOpportunitiesLines")).done(function(i){i.salesOpportunitiesLines[0].stageKey=1,i.salesOpportunitiesLines[0].startDate="/Date("+Date.now()+")/",i.startDate=i.salesOpportunitiesLines[0].startDate,o.__oInitialBO=t.util.copyObject(i),delete i.sequentialNo,delete i.salesOpportunitiesLines[0].lineNum,delete i.salesOpportunitiesLines[0].sequenceNo;var s=o.$().findModel("Note");s&&(a.remarks=s.getValue("content")),o.__oModel.setValue("",i),o.$().process(e),o.$().control({"#btnCancel":{listener:{click:function(){o.callShell("close")}}},"#btnSaveOpen":{listener:{click:function(){o.__saveNewOpportunity(!0)}}},"[index='cardCode']":{listener:{click:function(){var a=o;window.SboShell.openFrame({view:"sap.sbo.chooseList.phone.ChooseListCustomer",type:"right",options:{filter:new t.core.ListSourceFilter("(`isActive` = '"+e.json.sap.sbo.util.enums.bool.Yes+"')")},callback:function(e,t){"select"===e&&(a.__oModel.setValue("cardCode",t.cardCode),a.__oModel.setValue("customerName",t.cardName))}})}}}})}).fail(function(e){window.SboShell.raiseException(e),o.callShell("close")}).always(function(){t.util.hideLoading()}),SboShell.attachEvent("shellEvent",function(e,t){"select"===e&&this.$().control({"[index='cardCode']":{value:t.cardCode},"[index='cardName']":{value:t.cardName}})})}).fail(function(e){window.SboShell.raiseException(e),o.callShell("close")}).always(function(){})},destroyView:function(){t.sbo.page.phone.boCreation.prototype.destroyView.call(this)},update:function(){this.__oModel.getValue("")}},Protected:{__handleAfterModify:function(e,o){console.log(e,o);var a=this.__oModel.getValue(""),i=this;t.util.showLoading(),$.when(this.__oService.onPropertyChange(a,"Root/maxLocalTotal","PropertyUpdate")).done(function(e){delete e.sequentialNo,delete e.salesOpportunitiesLines[0].lineNum,delete e.salesOpportunitiesLines[0].sequenceNo,i.__removeNullProperty(e);var t=$.extend({},i.__oInitialBO,e);i.__oModel.setValue("",t)}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()})},__removeNullProperty:function(e){for(var t in e)e.hasOwnProperty(t)&&null===e[t]&&delete e[t]},__saveNewOpportunity:function(e){var t=this,o=t.__oModel.getValue("");o.salesPerson=1,o.cardCode?$.when(this.__oService.create(o)).done(function(o){var a={boNamespace:"com.sap.sbo",boName:"SalesOpportunity",keyElements:[{keyName:"sequentialNo",keyValue:o.sequentialNo}]};t.callShell("save",a),e&&window.SboShell.gotoView("sap.sbo.page.phone.SalesOpportunity.Home",[{keyName:"sequentialNo",keyValue:o.sequentialNo}]),t.callShell("close")}).fail(function(e){window.SboShell.raiseException(e)}):alert("Please choose business parnter")}}})}),define("sap.sbo.page.phone.SalesOpportunity.CreationFrame2",["sap.ui.Controller","sap.sbo.page.phone.BoMetadataCreationFrameController","sap.sbo.layout.phone.MetadataList","sap.sbo.services.SalesOpportunitiesService","sap.sbo.ui.widget.BoStatus","sap.ui.widget.TextField","sap.ui.widget.TextArea","sap.ui.widget.Button","sap.sbo.ui.widget.DateTimeField","sap.sbo.util.formatter","sap.util","sap.ui.widget.ValueHelpField","sap.sbo.localization.Helper","sap.sbo.services.SalesStagesService","sap.sbo.app.SalesOpportunity.Stage","sap.core.JsonModel","sap.sbo.ui.widget.RelatedValueDropDownBox","sap.core.ListSourceFilter","sap.sbo.ui.widget.BoLabel","json!sap.sbo.util.enums","css!sap.sbo.page.phone.Document.DocumentCreation","css!sap.sbo.app.template.EditProperty","css!sap.sbo.app.template.DynamicProperty"],function(){"use strict";var e=this.getNS(),t=e.sap,o=t.sbo.page.phone.BoMetadataCreationFrameController;return e.formatter={convertEmtpyNull:function(e,t){return"<<"===t?null===e?"":e:">>"===t?""===e?null:e:void 0},null_bool:function(e){return e?!0:!1}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:o,Options:{cardCode:{type:"any",defaultValue:void 0},cardName:{type:"any",defaultValue:void 0}},Public:{init:function(){o.prototype.init.apply(this,arguments);var e=this;this.declareMember({_oService:new t.sbo.services.SalesOpportunitiesService,_oStageService:new t.sbo.services.SalesStagesService,_cardCodeModel:this.autoDestroy(new t.core.JsonModel({readonly:!1})),_oStageModel:new t.core.JsonModel({metadata:[]}),_fActionButtonClicked:function(o){switch(o){case"save":t.util.showLoading(),$.when(e.boCreate()).done(function(o){var a={boNamespace:"com.sap.sbo",boName:"SalesOpportunity",keyElements:[{keyName:"sequentialNo",keyValue:o.sequentialNo}]};e.callShell("save",a),window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/oppo/SAVED_SUCCESS"),"success"),window.SboShell.gotoView("sap.sbo.page.phone.SalesOpportunity.Home",[{keyName:"sequentialNo",keyValue:o.sequentialNo}])}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()});break;case"cancel":e.callShell("close")}}})},destroy:function(){this._oService.destroy()},initView:function(){var a=$.Deferred(),i=this;return this.$().setModel(i._cardCodeModel,"cardCodeModel"),i.$().setModel(this._oStageModel,"stage"),$.when(this._oStageService.query()).done(function(s){i._oStageModel.setValue("metadata",s.value),$.when(o.prototype.initView.call(i)).done(function(e,t){i.getOption("cardCode")&&(t.cardCode=i.getOption("cardCode"),t.customerName=i.getOption("cardName")||"",i._cardCodeModel.setValue("readonly",!0),i._oMetadataValueModel.setValue("",t)),a.resolve()}).fail(function(e){a.reject(e)}),i.$().control({"[ctrl='main']":{listener:{afterProcess:function(){i.$('[index="cardCode"]').getControl()&&i.$('[index="cardCode"]').getControl().attachEvent("click",function(){window.SboShell.openFrame({view:"sap.sbo.chooseList.phone.ChooseListCustomer",type:"right",options:{filter:new t.core.ListSourceFilter("(`isActive` = '"+e.json.sap.sbo.util.enums.bool.Yes+"')")},callback:function(e,t){"select"===e&&i.getModel().setValue("cardCode",t.cardCode)}})})}}}}),i.$().on("vclick",".salesOrderItems.field",function(){window.SboShell.openFrame({view:"sap.sbo.page.phone.SalesOpportunity.ItemList",type:"full",options:{boData:i._oMetadataValueModel.getValue("")},callback:function(e,t){t&&i._oMetadataValueModel.setValue("",t)}})}),window.SboShell.addTopButtons([{key:"save",text:t.sbo.localization.Helper.get("app/SAVE_VIEW")},{key:"cancel",text:t.sbo.localization.Helper.get("common/CANCEL")}]),window.SboShell.attachEvent("actionButtonClick",i._fActionButtonClicked)}).fail(function(e){a.reject(e)}),this.$().on("GuilinControlEvent.navigate GuilinControlEvent.choose",".sbo-metadata-list-property",function(o){switch($(o.currentTarget).attr("gl-property")){case"cardCode":window.SboShell.openFrame({view:"sap.sbo.chooseList.phone.ChooseListCustomer",options:{filter:new t.core.ListSourceFilter("(`isActive` = '"+e.json.sap.sbo.util.enums.bool.Yes+"')")},type:"right",callback:function(e,t){"close"===e||"select"===e&&(i._oMetadataValueModel.setValue("cardCode",t.cardCode),i._oMetadataValueModel.setValue("customerName",t.cardName))}})}}),a.promise()},destroyView:function(){window.SboShell.detachEvent("actionButtonClick",this._fActionButtonClicked),o.prototype.destroyView.call(this)},update:function(){o.prototype.update.apply(this,arguments)},getMainControl:function(){return this.$("[ctrl='main']").getControl()},getBoType:function(){return{boNamespace:"com.sap.sbo",boName:"SalesOpportunity"}},getService:function(){return this._oService},process:function(){this.$().process(e)},boValidate:function(){},getInitBo:function(){var e=this,t=$.Deferred();return $.when(this.getService().getInit()).done(function(o){$.when(e.getService().getInitBoNode(o,"Root/salesOpportunitiesLines")).done(function(e){e.salesOpportunitiesLines[0].stageKey=1,e.salesOpportunitiesLines[0].startDate="/Date("+Date.now()+")/",e.startDate=e.salesOpportunitiesLines[0].startDate,t.resolve(e)}).fail(function(e){t.reject(e)})}).fail(function(){t.reject(ex)}),t.promise()}},Protected:{}})}),define("sap.sbo.page.phone.SalesOpportunity.Home",["sap.core.klass","sap.core.JsonModel","sap.ui.View","sap.sbo.layout.TileView","sap.ui.common","sap.util","sap.log","sap.ui.Controller","sap.ui.widget.TextField","sap.ui.widget.TextArea","sap.sbo.ui.widget.DateLabel","sap.ui.widget.Currency","sap.ui.Repeat","sap.ui.widget.Button","sap.sbo.layout.phone.AdvancedTilesLayout","sap.sbo.shell.IFeaturable","sap.ui.widget.Button","sap.sbo.app.network.FeedTile","sap.sbo.services.SalesOpportunitiesService","sap.sbo.services.BaseService","sap.sbo.services.ContactPersonsService","sap.sbo.services.SalesStagesService","sap.sbo.services.ItemsService","sap.sbo.util.formatter","sap.sbo.ui.widget.Stage","sap.sbo.app.network.RelatedTile","sap.ui.Repeat","sap.sbo.util.formatter","sap.sbo.localization.Helper","sap.sbo.page.phone.BoHomeController","css!sap.sbo.page.phone.Document.DocumentHome"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={goldenImage:function(e){return e?"<img src='image/Customer/star.png'>":void 0}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.phone.BoHomeController,Options:{},Public:{init:function(){t.sbo.page.phone.BoHomeController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{_oModel:new t.core.JsonModel({}),_mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),_oService:new t.sbo.services.SalesOpportunitiesService,_oContactService:this.autoDestroy(new t.sbo.services.ContactPersonsService),_onActionButtonClickProxy:$.proxy(this._onActionButtonClickHandler,this),__modelRelated:this.autoDestroy(new t.core.JsonModel({contact:{contactPersonName:null,position:null,number:0,Image:{url:"./image/common/no-pic-avatar.jpg"}}}))}),window.SboShell.attachEvent("actionButtonClick",this._onActionButtonClickProxy)},destroy:function(){window.SboShell.detachEvent("actionButtonClick",this._onActionButtonClickProxy),this._oService.destroy()},getService:function(){return this._oService},initView:function(){var o=$.Deferred(),a=this;return a.setTitle({title:t.sbo.localization.Helper.get("app/oppo/OPPORTUNITY"),subTitle:t.sbo.localization.Helper.get("app/oppo/OPPORTUNITY_N",this.convertBoKey(this._mViewInfo.storeParam).sequentialNo)}),$.when(t.sbo.page.phone.BoHomeController.prototype.initView.apply(this,arguments)).done(function(){a.$().setModel(a._oModel),a.$().setModel(a.__modelRelated,"Related"),t.util.showLoading(),$.when(a._oService.get(a.convertBoKey(a._mViewInfo.storeParam))).done(function(i){a._oModel.setValue("",i);var s={};s.filter="cardCode eq '"+i.cardCode+"'",s.select="contactPersonID, displayName, position, portraitId",a._oContactService.query(s).done(function(e){a.__modelRelated.setValue("contact/number",e.value.length);for(var o=0;e.value.length>o;++o)if(i.contactPerson===e.value[o].contactPersonID){a.__modelRelated.setValue("contact/contactPersonID",e.value[o].contactPersonID),a.__modelRelated.setValue("contact/contactPersonName",e.value[o].displayName),a.__modelRelated.setValue("contact/position",e.value[o].position);var s=e.value[o].portraitId,n=e.value[o].contactPersonID;if(s>0){var r=t.sbo.util.formatter.getURL("ContactPerson","contactPersonID",n,s);a.__modelRelated.setValue("contact/Image/url",r)}break}}),a.setTitle(i.opportunityName||t.sbo.localization.Helper.get("app/oppo/NO_NAME")),window.SboShell.addFeature(a,"relatedFilter.BOkey","method"),a.autoDestroy("remove the realted filter",window.SboShell.removeFeature.bind(window.SboShell,"relatedFilter.BOkey")),a.$().process(e),a.$().on("vclick","[field='general']",function(){window.SboShell.gotoView("sap.sbo.page.phone.SalesOpportunity.BasicInfoEdit",a._mViewInfo.storeParam)}),a.$().on("vclick","[field='product']",function(){window.SboShell.gotoView("sap.sbo.page.phone.SalesOpportunity.ItemList",a._mViewInfo.storeParam)}),a.$().on("vclick","[field='contact']",function(){window.SboShell.gotoView("sap.sbo.page.phone.Contact.ContactListView",{boName:a.getBoKeyEntity().boName,keyParam:a._mViewInfo.storeParam,BPcardCode:a._oModel.getValue("cardCode"),BPcardName:a._oModel.getValue("customerName")},{MainContact:a._oModel.getValue("contactPerson")})}),window.SboShell.addActionButtons([{key:"copyto",text:t.sbo.localization.Helper.get("common/COPYTO"),menu:[{key:"copyto_quote",text:t.sbo.localization.Helper.get("common/QUOTATION_NAME")},{key:"copyto_order",text:t.sbo.localization.Helper.get("common/ORDER_NAME")}]}],a),o.resolve()}).fail(function(e){o.reject(e)}).always(function(){t.util.hideLoading()})}),o.promise()},destroyView:function(){t.sbo.page.phone.BoHomeController.prototype.destroyView.apply(this,arguments),this.$().unprocess()},update:function(){},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"SalesOpportunity",keyElements:this._mViewInfo.storeParam}},doFeature:function(e){if("relatedFilter.BOkey"===e){var o=this._oModel.getValue("");return{key:"sequentialNo",value:o.sequentialNo}}return t.sbo.page.phone.BoHomeController.prototype.doFeature.apply(this,arguments)}},Protected:{_onActionButtonClickHandler:function(e){var o=this;switch(e){case"copyto_quote":t.util.showLoading(),$.when(o._oService.action_copyToQuotation(o._oModel.getValue(""))).done(function(e){SboShell.openFrame({view:"sap.sbo.page.phone.SalesQuotation.QuotationCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,callback:function(){},options:{boData:e}})}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()});break;case"copyto_order":t.util.showLoading(),$.when(o._oService.action_copyToOrder(o._oModel.getValue(""))).done(function(e){SboShell.openFrame({view:"sap.sbo.page.phone.SalesOrder.OrderCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,callback:function(){},options:{boData:e}})}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()})}}}})}),define("sap.sbo.page.phone.SalesOpportunity.ItemEditFrame",["sap.ui.Controller","sap.sbo.page.phone.SubBoMetadataViewEditFrame","sap.core.ListSourceFilter","json!sap.sbo.util.enums","css!sap.sbo.page.phone.Document.ItemEditFrame"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.phone.SubBoMetadataViewEditFrame,Options:{},Public:{init:function(){t.sbo.page.phone.SubBoMetadataViewEditFrame.prototype.init.apply(this,arguments),this.declareMember({})},destroy:function(){},initView:function(){var o=this,a=$.when(t.sbo.page.phone.SubBoMetadataViewEditFrame.prototype.initView.apply(this,arguments)).done(function(){o.$().on("vclick",".itemCode",function(){window.SboShell.openFrame({view:"sap.sbo.chooseList.phone.ChooseListProduct",type:"right",options:{filter:new t.core.ListSourceFilter("(`isActive` = '"+e.json.sap.sbo.util.enums.bool.Yes+"')")},callback:function(e,t){"select"===e&&o.setModelValue("itemCode",t.itemCode)}})})});return a},destroyView:function(){t.sbo.page.phone.SubBoMetadataViewEditFrame.prototype.destroyView.apply(this,arguments)},update:function(){t.sbo.page.phone.SubBoMetadataViewEditFrame.prototype.update.apply(this,arguments)},getIgnoredProperty:function(){return["rowNo","sequenceNo"]}},Protected:{}})}),define("sap.sbo.page.phone.SalesOpportunity.ItemList",["sap.sbo.page.phone.SubBoMetadataView","sap.ui.Controller","sap.sbo.services.SalesOpportunitiesService","sap.sbo.util.formatter","sap.sbo.localization.Helper","sap.sbo.ui.widget.DecimalLabel","sap.formatter","css!sap.sbo.page.phone.Document.ItemsEdit"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.phone.SubBoMetadataView,Options:{},Public:{init:function(){t.sbo.page.phone.SubBoMetadataView.prototype.init.apply(this,arguments),this.declareMember({__mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo")}),this.__oService=this.autoDestroy(new t.sbo.services.SalesOpportunitiesService)},destroy:function(){},initView:function(){var o=this,a=$.Deferred();return $.when(t.sbo.page.phone.SubBoMetadataView.prototype.initView.call(this,e)).done(function(){o.$().on("vclick",".header",function(e){var t=$.extend(!0,{},o.__oModel.getValue(""));window.SboShell.openFrame({view:"sap.sbo.page.phone.SalesOpportunity.ItemsHeadEdit",type:"center",width:640,height:480,callback:function(e,a){"cancel"===a&&o.__oModel.setValue("",t)},linkTo:o.$()[0]}),e.stopPropagation()}),a.resolve()}.bind(this)),a.promise()},destroyView:function(){t.sbo.page.phone.SubBoMetadataView.prototype.destroyView.call(this)},update:function(){t.sbo.page.phone.SubBoMetadataView.prototype.update.apply(this,arguments)},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"SalesOpportunity",keyElements:this.__mViewInfo.storeParam}},getSubNodeName:function(){return"SalesOpportunitiesItem"},getSubNodeBindPath:function(){return"salesOpportunitiesItems"},getIgnoredProperty:function(){return["rowNo","sequenceNo"]},getEditFrameModuleName:function(){return"sap.sbo.page.phone.SalesOpportunity.ItemEditFrame"},getTitle:function(e,o){return o+" "+t.sbo.localization.Helper.get("common/PRODUCT_NAME")},getSubTitle:function(e){return e.opportunityName||t.sbo.localization.Helper.get("app/oppo/NO_NAME")},isNewCreateEnabled:function(){return!0}},Protected:{}})}),define("sap.sbo.page.phone.SalesOpportunity.ItemsHeadEdit",["sap.ui.widget.TextField","sap.ui.Controller","sap.sbo.localization.Helper","sap.sbo.ui.FrameViewController","sap.sbo.util.formatter","sap.sbo.ui.widget.DecimalInputField","sap.sbo.ui.widget.DecimalLabel","sap.formatter","css!sap.sbo.page.phone.Document.ItemsHeadEdit"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={readOnly_bool:function(e){return!e}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Options:{data:{type:"object"}},Public:{init:function(){t.sbo.ui.FrameViewController.prototype.init.apply(this,arguments),this.declareMember({_fActionButtonClicked:$.proxy(this._onActionButtonClickHandler,this)})},destroy:function(){window.SboShell.detachEvent("actionButtonClick",this._fActionButtonClicked)},initView:function(){var o=this,a=$.Deferred();return o.$().process(e),window.SboShell.addTopButtons([{key:"ok",text:t.sbo.localization.Helper.get("common/OK")},{key:"cancel",text:t.sbo.localization.Helper.get("common/CANCEL")}]),window.SboShell.attachEvent("actionButtonClick",o._fActionButtonClicked),a.resolve(),a.promise()},destroyView:function(){},update:function(){}},Protected:{_onActionButtonClickHandler:function(e){var t=this;switch(e){case"ok":t.closeFrame();break;case"cancel":t.closeFrame("cancel")}}}})}),define("sap.sbo.page.phone.SalesOpportunity.ListView",["sap.core.klass","sap.ui.Controller","sap.core.JsonModel","sap.sbo.layout.phone.ListLayout","sap.sbo.util.AjaxListSource","sap.sbo.services.SalesOpportunitiesService","sap.core.DestroyPool","sap.sbo.localization.Helper","sap.sbo.page.BaseBoListViewController","sap.sbo.ui.widget.ListManipulator","sap.sbo.page.common.oppUtil","sap.sbo.services.SalesStagesService","sap.sbo.ui.widget.MultipleValueHelp","json!sap.sbo.page.common.listFilters.SalesOpportunity","css!sap.sbo.page.phone.boListView"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.BaseBoListViewController,Public:{init:function(){t.sbo.page.BaseBoListViewController.prototype.init.apply(this,arguments),this.declareMember({__oService:this.autoDestroy(new t.sbo.services.SalesOpportunitiesService),__oAjaxListSource:null});var e=this;this.__oAjaxListSource=this.autoDestroy(new t.sbo.util.AjaxListSource(this.__oService));var o=function(t){("new"===t||"Create"===t)&&e.onKeynew()};SboShell.attachEvent("actionButtonClick",o),this.autoDestroy("detach actionButtonClick",function(){SboShell.detachEvent("actionButtonClick",o)})},destroy:function(){},initView:function(){var o=this,a=$.Deferred();return $.when(t.sbo.page.BaseBoListViewController.prototype.initView.call(this)).done(function(){o.$().process(e),t.sbo.page.common.oppUtil.constructStageEnum(o._oManipulatorModel),o.$().control({'div[data-id="listView"]':{emptyTexts:[t.sbo.localization.Helper.get("app/oppo/PURPOSE"),t.sbo.localization.Helper.get("app/oppo/USAGE"),t.sbo.localization.Helper.get("app/oppo/TO_CREATE")],source:o.__oAjaxListSource,sort:{field:"sequentialNo"},listener:{itemClick:function(e){window.SboShell.gotoView("sap.sbo.page.phone.SalesOpportunity.Home",[{keyName:"sequentialNo",keyValue:e.sequentialNo}])},create:function(){o.onKeynew()},requestDone:function(e){o.setTitle({title:t.sbo.localization.Helper.get("app/oppo/OPPORTUNITIES"),subTitle:""}),window.SboShell.setHeaderCount(e.count)}}}}),t.core.klass.declareMember(o,{__buttonClicked:function(e){switch(e){case"Create":o.onKeynew();break;default:}}});var i=[];i.push({text:t.sbo.localization.Helper.get("app/oppo/CREATE"),key:"Create"}),window.SboShell.addActionButtons(i,o),window.SboShell.attachEvent("actionButtonClick",o.__buttonClicked),a.resolve()}).fail(function(){a.reject()}),a.promise()},destroyView:function(){t.sbo.page.BaseBoListViewController.prototype.destroyView.call(this),this.$().unprocess()},update:function(){},getMainControl:function(){return this.$('div[data-id="listView"]')},getService:function(){return this.__oService},getBoNameEntity:function(){return{boNamespace:"com.sap.sbo",boName:"SalesOpportunity"}},getListSource:function(){return this.__oAjaxListSource},getProcessContext:function(){return e},getQuickFilters:function(){if(e&&e.json&&e.json.sap&&e.json.sap.sbo&&e.json.sap.sbo.page&&e.json.sap.sbo.page.common&&e.json.sap.sbo.page.common.listFilters&&e.json.sap.sbo.page.common.listFilters.SalesOpportunity){var o=e.json.sap.sbo.page.common.listFilters.SalesOpportunity,a={};for(var i in o)a[i]={},a[i].expr=o[i],a[i].label=t.sbo.localization.Helper.get("app/oppo/"+i),a[i].description=a[i].label;return a}return{}},onKeynew:function(){SboShell.openFrame({view:"sap.sbo.page.phone.SalesOpportunity.CreationFrame2",type:"center-column",editable:!0})}},Protected:{}})}),define("sap.sbo.page.phone.SalesOpportunity.productTile",["sap.ui.Controller","sap.sbo.localization.Helper","sap.sbo.ui.widget.DecimalLabel","sap.formatter","sap.sbo.page.phone.ContentTileViewController","css!sap.sbo.page.phone.Document.productTile"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.phone.ContentTileViewController,Public:{init:function(){t.sbo.page.phone.ContentTileViewController.prototype.init.apply(this,arguments),this.declareMember({})},destroy:function(){},initView:function(){var o=$.Deferred();return $.when(t.sbo.page.phone.ContentTileViewController.prototype.initView.apply(this,arguments)).done(function(){this.$().process(e),o.resolve()}.bind(this)),o.promise()},destroyView:function(){t.sbo.page.phone.ContentTileViewController.prototype.destroyView.apply(this,arguments)},getTileTitle:function(){return t.sbo.localization.Helper.get("app/document/PRODUCTS")},getCreateDesc:function(){return t.sbo.localization.Helper.get("app/oppor/CREATE_PDT")},getNumberBindingPath:function(){return"salesOpportunitiesItems/length"},on_basic:function(){var e=$(event.target).findModel();window.SboShell.gotoView("sap.sbo.page.phone.SalesOpportunity.ItemList",[{keyName:"sequentialNo",keyValue:e.getValue("sequentialNo")}])}},Protected:{}})}),define("sap.sbo.page.phone.SalesOrder.BasicTile",["sap.ui.Controller","sap.sbo.localization.Helper","sap.sbo.page.phone.ContentTileViewController","json!sap.sbo.util.enums","sap.core.JsonModel","sap.sbo.compoundservices.AttachmentService","sap.sbo.app.task.taskUtil","sap.ui.widget.Photo","css!sap.sbo.page.phone.Document.BasicTile"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.phone.ContentTileViewController,Public:{init:function(){t.sbo.page.phone.ContentTileViewController.prototype.init.apply(this,arguments),this.declareMember({__modelOwner:this.autoDestroy(new t.core.JsonModel({OwnerImage:{url:"./image/common/no-pic-avatar.jpg"}})),oAttachementService:this.autoDestroy(new t.sbo.compoundservices.AttachmentService)})},destroy:function(){},initView:function(){var o=$.Deferred(),a=this;return this.$().setModel(this.__modelOwner,"owner"),$.when(t.sbo.page.phone.ContentTileViewController.prototype.initView.apply(this,arguments)).done(function(){var i=this.$().findModel(),s=i.getValue("documentsOwner");null!=s&&$.when(a.oAttachementService.getPortraitId(s)).done(function(e){if(-1!==e.value){var o={};o.attachmentId=e.value,o.ownerCode=s;var i=t.sbo.app.task.taskUtil.PreviewUrl(o);a.__modelOwner.setValue("OwnerImage",{url:i})}}),this.$().process(e),o.resolve()}.bind(this)),o.promise()},destroyView:function(){t.sbo.page.phone.ContentTileViewController.prototype.destroyView.apply(this,arguments)},getTileTitle:function(){return t.sbo.localization.Helper.get("app/BASIC")},on_basic:function(){var e=$(event.target).findModel();window.SboShell.gotoView("sap.sbo.page.phone.SalesOrder.SalesOrderEdit",[{keyName:"docEntry",keyValue:e.getValue("docEntry")}]),event.stopPropagation()},on_navigate:function(){var e=$(event.target).findModel();window.SboShell.gotoView("sap.sbo.page.phone.SalesOrder.SalesOrderEdit",[{keyName:"docEntry",keyValue:e.getValue("docEntry")}]),event.stopPropagation()}},Protected:{}})}),define("sap.sbo.page.phone.SalesOrder.contactTile",["sap.ui.Controller","sap.sbo.localization.Helper","sap.sbo.page.phone.ContentTileViewController","sap.ui.widget.Photo","css!sap.sbo.page.phone.Document.contactTile"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={goldenImage:function(e){return e>=0?"./image/Customer/goldenStar.png":""}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.phone.ContentTileViewController,Public:{init:function(){t.sbo.page.phone.ContentTileViewController.prototype.init.apply(this,arguments),this.declareMember({})},destroy:function(){},initView:function(){var o=$.Deferred();return $.when(t.sbo.page.phone.ContentTileViewController.prototype.initView.apply(this,arguments)).done(function(){o.resolve(),this.$().process(e)}.bind(this)),o.promise()},destroyView:function(){t.sbo.page.phone.ContentTileViewController.prototype.destroyView.apply(this,arguments)},getTileTitle:function(){return t.sbo.localization.Helper.get("app/customer/CONTACTS")},getCreateDesc:function(){return t.sbo.localization.Helper.get("app/document/CREATE_CNT")},getNumberBindingPath:function(){return"Related@contact/number"},on_basic:function(){var e=$(event.target).findModel();window.SboShell.gotoView("sap.sbo.page.phone.Contact.ContactListView",{boName:"Order",keyParam:[{keyName:"docEntry",keyValue:e.getValue("docEntry")}],BPcardCode:e.getValue("cardCode"),BPcardName:e.getValue("cardName")},{MainContact:e.getValue("contactPersonCode")})},on_create:function(){var e=$(event.target).findModel("");SboShell.openFrame({view:"sap.sbo.page.phone.Contact.ContactCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,options:{data:{BPcardCode:e.getValue("cardCode"),BPcardName:e.getValue("cardName"),boName:"Order",keyParam:[{keyName:"docEntry",keyValue:e.getValue("docEntry")}]}}})},on_navigate:function(){var e=$(event.target).findModel("Related");SboShell.gotoView("sap.sbo.page.phone.Contact.ContactHome",[{keyName:"contactPersonID",keyValue:e.getValue("contact/contactPersonID")}])}},Protected:{}})}),define("sap.sbo.page.phone.SalesOrder.ItemEditFrame",["sap.ui.Controller","sap.sbo.page.phone.SubBoMetadataViewEditFrame","sap.core.JsonModel","sap.sbo.services.SalesTaxCodesService","sap.sbo.services.VatGroupsService","sap.sbo.compoundservices.CompanyService","sap.core.ListSourceFilter","json!sap.sbo.util.enums","css!sap.sbo.page.phone.Document.ItemEditFrame"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.phone.SubBoMetadataViewEditFrame,Options:{},Public:{init:function(){t.sbo.page.phone.SubBoMetadataViewEditFrame.prototype.init.apply(this,arguments),this.declareMember({__oListTaxService:this.autoDestroy(new t.sbo.services.SalesTaxCodesService),__oListVatService:this.autoDestroy(new t.sbo.services.VatGroupsService),__oCompanyService:this.autoDestroy(new t.sbo.compoundservices.CompanyService),__oListModel:this.autoDestroy(new t.core.JsonModel({tax:[],vatGroup:[]}))})},destroy:function(){},initView:function(){var o=this;o.$().setModel(o.__oListModel,"list"),$.when(o.__oListTaxService.query(),o.__oListVatService.query(),o.__oCompanyService.getAdminInfo()).done(function(e,t,a){"US"===a.country?o.__oListModel.setValue("tax",e.value):"CN"===a.country&&o.__oListModel.setValue("vatGroup",t.value)}),$.when(t.sbo.page.phone.SubBoMetadataViewEditFrame.prototype.initView.apply(this,arguments)).done(function(){o.$().on("vclick",".itemCode",function(){window.SboShell.openFrame({view:"sap.sbo.chooseList.phone.ChooseListProduct",type:"right",options:{filter:new t.core.ListSourceFilter("(`isActive` = '"+e.json.sap.sbo.util.enums.bool.Yes+"')")},callback:function(e,t){"select"===e&&o.setModelValue("itemCode",t.itemCode)}})})})},destroyView:function(){t.sbo.page.phone.SubBoMetadataViewEditFrame.prototype.destroyView.apply(this,arguments)},update:function(){t.sbo.page.phone.SubBoMetadataViewEditFrame.prototype.update.apply(this,arguments)},getIgnoredProperty:function(){return["ShipToCountryName","BillToCountryName","shiptypeName"]}},Protected:{}})}),define("sap.sbo.page.phone.SalesOrder.ItemsEdit",["sap.sbo.page.phone.SubBoMetadataView","sap.ui.widget.TextField","sap.ui.Controller","sap.sbo.services.OrdersService","sap.sbo.util.formatter","sap.sbo.localization.Helper","sap.sbo.ui.widget.DecimalLabel","sap.formatter","css!sap.sbo.page.phone.Document.ItemsEdit"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.phone.SubBoMetadataView,Options:{},Public:{init:function(){t.sbo.page.phone.SubBoMetadataView.prototype.init.apply(this,arguments),this.declareMember({__mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo")}),this.__oService=this.autoDestroy(new t.sbo.services.OrdersService)},destroy:function(){},initView:function(){var o=this,a=$.Deferred();return $.when(t.sbo.page.phone.SubBoMetadataView.prototype.initView.call(this,e)).done(function(){o.$().on("vclick",".header",function(e){var t=$.extend(!0,{},o.__oModel.getValue(""));window.SboShell.openFrame({view:"sap.sbo.page.phone.SalesOrder.ItemsHeadEdit",type:"center",width:640,height:480,callback:function(e,a){"cancel"===a&&o.__oModel.setValue("",t)},linkTo:o.$()[0]}),e.stopPropagation()}),a.resolve()}),a.promise()},destroyView:function(){t.sbo.page.phone.SubBoMetadataView.prototype.destroyView.call(this)},update:function(){t.sbo.page.phone.SubBoMetadataView.prototype.update.apply(this,arguments)},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"Order",keyElements:this.__mViewInfo.storeParam}},getSubNodeName:function(){return"DocumentLine"},getSubNodeBindPath:function(){return"documentLines"},getIgnoredProperty:function(){return["ShipToCountryName","BillToCountryName","shiptypeName"]},getTitle:function(e,o){return t.sbo.localization.Helper.get("app/document/PRODUCTS")+" "+o},getEditFrameModuleName:function(){return"sap.sbo.page.phone.SalesOrder.ItemEditFrame"}},Protected:{}})}),define("sap.sbo.page.phone.SalesOrder.ItemsHeadEdit",["sap.ui.widget.TextField","sap.ui.Controller","sap.sbo.localization.Helper","sap.sbo.ui.FrameViewController","sap.sbo.util.formatter","sap.sbo.ui.widget.DecimalInputField","sap.sbo.ui.widget.DecimalLabel","sap.formatter","css!sap.sbo.page.phone.Document.ItemsHeadEdit"],function(){"use strict";
var e=this.getNS(),t=e.sap;return e.formatter={readOnly_bool:function(e){return!e}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Options:{data:{type:"object"}},Public:{init:function(){t.sbo.ui.FrameViewController.prototype.init.apply(this,arguments),this.declareMember({_fActionButtonClicked:$.proxy(this._onActionButtonClickHandler,this)})},destroy:function(){window.SboShell.detachEvent("actionButtonClick",this._fActionButtonClicked)},initView:function(){var o=this,a=$.Deferred();return o.$().process(e),window.SboShell.addTopButtons([{key:"ok",text:t.sbo.localization.Helper.get("common/OK")},{key:"cancel",text:t.sbo.localization.Helper.get("common/CANCEL")}]),window.SboShell.attachEvent("actionButtonClick",o._fActionButtonClicked),a.resolve(),a.promise()},destroyView:function(){},update:function(){}},Protected:{_onActionButtonClickHandler:function(e){var t=this;switch(e){case"ok":t.closeFrame();break;case"cancel":t.closeFrame("cancel")}}}})}),define("sap.sbo.page.phone.SalesOrder.OrderCreation",["sap.ui.Controller","sap.sbo.page.phone.BoMetadataCreationFrameController","sap.sbo.layout.phone.MetadataList","sap.sbo.services.OrdersService","sap.sbo.ui.widget.BoStatus","sap.ui.widget.TextField","sap.ui.widget.TextArea","sap.sbo.ui.widget.DateTimeField","sap.sbo.util.formatter","sap.ui.widget.Button","sap.util","sap.sbo.ui.widget.BoLabel","sap.sbo.localization.Helper","sap.sbo.core.BoException","sap.core.JsonModel","sap.core.ListSourceFilter","sap.sbo.ui.widget.DecimalLabel","sap.formatter","json!sap.sbo.util.enums","css!sap.sbo.page.phone.Document.DocumentCreation","css!sap.sbo.app.template.EditProperty","css!sap.sbo.app.template.DynamicProperty"],function(){"use strict";var e=this.getNS(),t=e.sap,o=t.sbo.page.phone.BoMetadataCreationFrameController;return e.formatter={string_null:function(e,t){return"<<"===t?e||"":e},null_bool:function(e){return e?!0:!1}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:o,Options:{cardCode:{type:"any",defaultValue:void 0},cardName:{type:"any",defaultValue:void 0}},Public:{init:function(){o.prototype.init.apply(this,arguments);var e=this;this._oService=this.autoDestroy(new t.sbo.services.OrdersService),this.declareMember({_fActionButtonClicked:function(o){switch(o){case"save":t.util.showLoading(),$.when(e.boCreate()).done(function(e){window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/ORDER_CREATE_SUCCESSFUL"),"success"),window.SboShell.gotoView("sap.sbo.page.phone.SalesOrder.SalesOrderHome",[{keyName:"docEntry",keyValue:e.docEntry}])}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()});break;case"cancel":e.callShell("close")}},__CardCodemodel:this.autoDestroy(new t.core.JsonModel({readonly:!1}))})},destroy:function(){},initView:function(){var a=this,i=$.Deferred();return this.$().setModel(a.__CardCodemodel,"cardCodeModel"),$.when(o.prototype.initView.call(this)).done(function(){var e=a.getOption("cardCode");e&&(a.__CardCodemodel.setValue("readonly",!0),a._oMetadataValueModel.setValue("cardCode",e),a._oMetadataValueModel.setValue("cardName",a.getOption("cardName"))),a.$().on("vclick",".salesOrderItems.field",function(){window.SboShell.openFrame({view:"sap.sbo.page.phone.SalesOrder.ItemsEdit",type:"full",options:{boData:a._oMetadataValueModel.getValue("")},callback:function(e,t){t&&a._oMetadataValueModel.setValue("",t)}})}),window.SboShell.addTopButtons([{key:"cancel",text:t.sbo.localization.Helper.get("common/CANCEL")},{key:"save",text:t.sbo.localization.Helper.get("app/SAVE_VIEW")}]),window.SboShell.attachEvent("actionButtonClick",a._fActionButtonClicked),i.resolve()}).fail(function(e){window.SboShell.raiseException(e),i.reject(e)}),this.$().on("GuilinControlEvent.navigate GuilinControlEvent.choose",".sbo-metadata-list-property",function(o){switch($(o.currentTarget).attr("gl-property")){case"cardCode":window.SboShell.openFrame({view:"sap.sbo.chooseList.phone.ChooseListCustomer",options:{filter:new t.core.ListSourceFilter("(`isActive` = '"+e.json.sap.sbo.util.enums.bool.Yes+"')")},type:"right",callback:function(e,t){"close"===e||"select"===e&&(a._oMetadataValueModel.setValue("cardCode",t.cardCode),a._oMetadataValueModel.setValue("cardName",t.cardName))}})}}),i.promise()},destroyView:function(){window.SboShell.detachEvent("actionButtonClick",this._fActionButtonClicked),this.$().off("GuilinControlEvent.navigate GuilinControlEvent.choose"),o.prototype.destroyView.call(this)},update:function(){o.prototype.update.apply(this,arguments)},getMainControl:function(){return this.$("[ctrl='main']").getControl()},getBoType:function(){return{boNamespace:"com.sap.sbo",boName:"Order"}},getService:function(){return this._oService},process:function(){this.$().process(e)},boValidate:function(e){if(!e.cardCode){var o=new t.sbo.core.BoException(t.sbo.localization.Helper.get("app/document/INPUT_CARD_CODE"),"error");throw o}if(!e.docDate){var o=new t.sbo.core.BoException(t.sbo.localization.Helper.get("app/document/INPUT_POST_DATE"),"error");throw o}if(!e.docDueDate){var o=new t.sbo.core.BoException(t.sbo.localization.Helper.get("app/document/INPUT_DEL_DATE"),"error");throw o}if(!e.documentLines.length){var o=new t.sbo.core.BoException(t.sbo.localization.Helper.get("app/document/ADD_LINE"),"error");throw o}if(e.discountPercent>100){var o=new t.sbo.core.BoException(t.sbo.localization.Helper.get("app/document/DISCNTTOOLAGER"),"error");throw o}}},Protected:{}})}),define("sap.sbo.page.phone.SalesOrder.OrderPrint",["sap.sbo.ui.FrameViewController","sap.ui.Controller","sap.core.klass","sap.sbo.compoundservices.PreviewService","sap.sbo.services.BaseService","css!sap.sbo.page.phone.SalesOrder.OrderPrint"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Options:{orderID:{type:"integer",defaultValue:-1}},Public:{init:function(){t.sbo.ui.FrameViewController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{__oService:new t.sbo.compoundservices.PreviewService,__orderID:null})},destroy:function(){this.__oService=null},initView:function(){var t=$.Deferred(),o=this;return this.__orderID=this.getOption("orderID"),this.$().find("#cancel").on("vclick",function(){o.closeFrame()}),$.when(this.__oService.previewOrder(this.__orderID)).done(function(a){$("#order").contents().find("body").html(a.value),o.$().process(e),t.resolve()}).fail(function(e){window.SboShell.raiseException(e),t.reject(e)}),t.promise()},destroyView:function(){this.__oService.destroy(),this.__oService=null,this.$().unprocess(),this.$().find("#cancel").off("vclick")},update:function(){},resize:function(){}},Protected:{},Static:{}})}),define("sap.sbo.page.phone.SalesOrder.productTile",["sap.ui.Controller","sap.sbo.localization.Helper","sap.sbo.ui.widget.DecimalLabel","sap.formatter","sap.sbo.page.phone.ContentTileViewController","css!sap.sbo.page.phone.Document.productTile"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.phone.ContentTileViewController,Public:{init:function(){t.sbo.page.phone.ContentTileViewController.prototype.init.apply(this,arguments),this.declareMember({})},destroy:function(){},initView:function(){var o=$.Deferred();return $.when(t.sbo.page.phone.ContentTileViewController.prototype.initView.apply(this,arguments)).done(function(){this.$().process(e),o.resolve()}.bind(this)),o.promise()},destroyView:function(){t.sbo.page.phone.ContentTileViewController.prototype.destroyView.apply(this,arguments)},getTileTitle:function(){return t.sbo.localization.Helper.get("app/document/PRODUCTS")},getNumberBindingPath:function(){return"documentLines/length"},on_basic:function(){var e=$(event.target).findModel();window.SboShell.gotoView("sap.sbo.page.phone.SalesOrder.ItemsEdit",[{keyName:"docEntry",keyValue:e.getValue("docEntry")}])}},Protected:{}})}),define("sap.sbo.page.phone.SalesOrder.SalesOrderEdit",["css!sap.sbo.app.template.EditProperty","sap.core.klass","sap.ui.Controller","sap.sbo.layout.phone.MetadataLayout","sap.core.JsonModel","sap.ui.widget.TextField","sap.sbo.services.OrdersService","sap.sbo.services.CountriesService","sap.sbo.services.StatesService","sap.sbo.services.BusinessPartnersService","sap.sbo.services.ShippingTypesService","sap.sbo.page.phone.BoMetadataEditController","sap.ui.widget.TextArea","sap.sbo.ui.widget.DateTimeField","sap.sbo.util.formatter","sap.util","sap.sbo.ui.widget.BoStatus","sap.ui.widget.Checkbox","sap.sbo.util.formatter","sap.sbo.ui.widget.BoLabel","sap.ui.widget.Photo","sap.core.JsonModel","sap.ui.widget.DropDownBox","sap.sbo.localization.Helper","sap.sbo.core.BoException","sap.sbo.compoundservices.AttachmentService","sap.sbo.app.task.taskUtil","sap.sbo.ui.widget.Address","css!sap.sbo.app.template.EditProperty","css!sap.sbo.page.phone.boEdit","css!sap.sbo.page.phone.boAddress"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={isZero:function(e){return 0===e},string_null:function(e,t){return"<<"===t?e||"":e}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.phone.BoMetadataEditController,Public:{init:function(){t.sbo.page.phone.BoMetadataEditController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{_oService:new t.sbo.services.OrdersService,_mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),__modelOwner:this.autoDestroy(new t.core.JsonModel({ownerName:"",OwnerImage:{url:"./image/common/no-pic-avatar.jpg"}})),__modelAddressMeta:this.autoDestroy(new t.core.JsonModel({})),__oListCRYService:this.autoDestroy(new t.sbo.services.CountriesService),__oListCSTService:this.autoDestroy(new t.sbo.services.StatesService),__oShippingTypesService:this.autoDestroy(new t.sbo.services.ShippingTypesService),__oListModel:this.autoDestroy(new t.core.JsonModel({countryS:[],stateS:[],countryB:[],stateB:[],shipType:[]})),__BPService:this.autoDestroy(new t.sbo.services.BusinessPartnersService),oAttachementService:this.autoDestroy(new t.sbo.compoundservices.AttachmentService),__fActionButtonClickedProxy:$.proxy(this.__actionBtnClick,this),__orderID:null});var e=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo");this.__orderID=e.storeParam[0].keyValue,window.SboShell.addActionButtons([{key:"preview",text:t.sbo.localization.Helper.get("page/button/preview")}],this),window.SboShell.attachEvent("actionButtonClick",this.__fActionButtonClickedProxy)},destroy:function(){this._oService.destroy()},initView:function(){var e=$.Deferred(),o=this;return this.$().setModel(this.__modelOwner,"owner"),o.$().setModel(o.__oListModel,"list"),this.$().setModel(this.__modelAddressMeta,"addressMeta"),$.when(t.sbo.page.phone.BoMetadataEditController.prototype.initView.call(this),this.__oListCRYService.query(),this.__oListCSTService.query(),this.__oShippingTypesService.query()).done(function(e,a,i,s){var n=e[1];o.__modelAddressMeta.setValue("",n.nodes.AddressExtension.reduce(function(e,t){return e[t.property]=t.option,e},{})),o.__oListModel.setValue("countryS",a.value),o.__oListModel.setValue("countryB",a.value);var r=o._oMetadataValueModel.getValue("addressExtension/0/shipToCountry"),l={filter:"country eq '"+r+"'"};$.when(o.__oListCSTService.query(l)).done(function(e){o.__oListModel.setValue("stateS",e.value)});var d=o._oMetadataValueModel.getValue("addressExtension/0/billToCountry"),l={filter:"country eq '"+d+"'"};$.when(o.__oListCSTService.query(l)).done(function(e){o.__oListModel.setValue("stateB",e.value)}),o.__oListModel.setValue("shipType",s.value),o.setTitle(t.sbo.localization.Helper.get("app/BASIC")),o.$().on("vclick",'[data-id="billto"]',function(){var e=o._oMetadataValueModel.getValue("cardCode");$.when(o.__BPService.get({cardCode:e})).done(function(e){for(var t=e.bPAddresses,a=t.length-1;a>=0;--a)"bo_BillTo"!==t[a].addressType&&t.splice(a,1);window.SboShell.openFrame({view:"sap.sbo.chooseList.phone.ChooseListAddress",type:"right",options:{array:t},callback:function(e,t){"select"===e&&(o._oMetadataValueModel.setValue("addressExtension/0/billToStreet",t.street),o._oMetadataValueModel.setValue("addressExtension/0/billToBlock",t.block),o._oMetadataValueModel.setValue("addressExtension/0/billToCity",t.city),o._oMetadataValueModel.setValue("addressExtension/0/billToZipCode",t.zipCode),o._oMetadataValueModel.setValue("addressExtension/0/billToState",t.state),o._oMetadataValueModel.setValue("addressExtension/0/billToCountry",t.country))}})}).fail(function(){})}),o.$('[data-id="shipto"]').on("vclick",function(){var e=o._oMetadataValueModel.getValue("cardCode");$.when(o.__BPService.get({cardCode:e})).done(function(e){for(var t=e.bPAddresses,a=t.length-1;a>=0;--a)"bo_ShipTo"!==t[a].addressType&&t.splice(a,1);window.SboShell.openFrame({view:"sap.sbo.chooseList.phone.ChooseListAddress",type:"right",options:{array:t},callback:function(e,t){"select"===e&&(o._oMetadataValueModel.setValue("addressExtension/0/shipToStreet",t.street),o._oMetadataValueModel.setValue("addressExtension/0/shipToBlock",t.block),o._oMetadataValueModel.setValue("addressExtension/0/shipToCity",t.city),o._oMetadataValueModel.setValue("addressExtension/0/shipToZipCode",t.zipCode),o._oMetadataValueModel.setValue("addressExtension/0/shipToState",t.state),o._oMetadataValueModel.setValue("addressExtension/0/shipToCountry",t.country))}})}).fail(function(){})});var p=o._oMetadataValueModel.getValue("documentsOwner");if(null!=p&&$.when(o.oAttachementService.getPortraitId(p)).done(function(e){if(-1!==e.value){var a={};a.attachmentId=e.value,a.ownerCode=p;var i=t.sbo.app.task.taskUtil.PreviewUrl(a);o.__modelOwner.setValue("OwnerImage",{url:i})}}),o.$().onControlEvent("change",'[data-id="dropdownlistforshiptocountry"]',function(){var e=o._oMetadataValueModel.getValue("addressExtension/0/shipToCountry"),t={filter:"country eq '"+e+"'"};$.when(o.__oListCSTService.query(t)).done(function(e){o.__oListModel.setValue("stateS",e.value),o._oMetadataValueModel.setValue("addressExtension/0/shipToState","")})}),o.$().onControlEvent("change",'[data-id="dropdownlistforbilltocountry"]',function(){var e=o._oMetadataValueModel.getValue("addressExtension/0/billToCountry"),t={filter:"country eq '"+e+"'"};$.when(o.__oListCSTService.query(t)).done(function(e){o.__oListModel.setValue("stateB",e.value),o._oMetadataValueModel.setValue("addressExtension/0/billToState","")})}),0===o._oMetadataValueModel.getValue("addressExtension").length){var c=o._oMetadataValueModel.getValue("");$.when(o._oService.getInitBoNode(c,"Root/addressExtension")).done(function(e){o._oMetadataValueModel.setValue("addressExtension",e.addressExtension)}).fail(function(e){e instanceof t.sbo.core.BoException&&o.showErrorByExpr(e.getField(),e.getMessage())})}}).fail(function(){}).always(function(){e.resolve()}),this.$().on("GuilinControlEvent.navigate GuilinControlEvent.choose",".sbo-metadata-list-property",function(e){switch($(e.currentTarget).attr("gl-property")){case"documentsOwner":if("navigate"===e.namespace){var a=o._oMetadataValueModel.getValue("documentsOwner");null!==a&&window.SboShell.gotoView("sap.sbo.page.phone.user.BasicInfo",[{keyName:"employeeID",keyValue:a}])}else window.SboShell.openFrame({view:"sap.sbo.chooseList.phone.ChooseListEmployee",options:{},type:"right",callback:function(e,a){"close"===e||"select"===e&&(o._oMetadataValueModel.setValue("documentsOwner",a.employeeID),o._oMetadataValueModel.setValue("OwnerEmployeeDisplayName",a.displayName),$.when(o.oAttachementService.getPortraitId(a.employeeID)).done(function(e){if(-1!==e.value){var i={};i.attachmentId=e.value,i.ownerCode=a.employeeID;var s=t.sbo.app.task.taskUtil.PreviewUrl(i);o.__modelOwner.setValue("OwnerImage",{url:s})}}))}});break;case"cardCode":window.SboShell.gotoView("sap.sbo.page.phone.Customer.CustomerHome",[{keyName:"cardCode",keyValue:o._oMetadataValueModel.getValue("cardCode")}])}}),e.promise()},destroyView:function(){window.SboShell.detachEvent("actionButtonClick",this.__fActionButtonClickedProxy),this.$().off("GuilinControlEvent.navigate GuilinControlEvent.choose"),this.$().unprocess(),t.sbo.page.phone.BoMetadataEditController.prototype.destroyView.call(this)},update:function(){},getMainControl:function(){return this.$("[ctrl='main']").getControl()},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"Order",keyElements:this._mViewInfo.storeParam}},getService:function(){return this._oService},process:function(){this.$().process(e)}},Protected:{__actionBtnClick:function(e){switch(e){case"preview":window.SboShell.openFrame({view:"sap.sbo.page.phone.SalesOrder.OrderPrint",type:"full",options:{orderID:this.__orderID},callback:function(){}})}}}})}),define("sap.sbo.page.phone.SalesOrder.SalesOrderHome",["sap.core.klass","sap.core.JsonModel","sap.ui.View","sap.sbo.layout.TileView","sap.ui.common","sap.util","sap.log","sap.ui.Controller","sap.ui.widget.TextField","sap.ui.widget.TextArea","sap.sbo.ui.widget.DateLabel","sap.ui.widget.Currency","sap.ui.Repeat","sap.ui.widget.Button","sap.sbo.layout.phone.AdvancedTilesLayout","sap.sbo.shell.IFeaturable","sap.sbo.app.network.FeedTile","sap.sbo.services.OrdersService","sap.sbo.services.ContactPersonsService","sap.sbo.services.BaseService","sap.sbo.util.formatter","sap.sbo.ui.widget.Stage","sap.sbo.app.network.RelatedTile","sap.ui.Repeat","sap.sbo.ui.widget.DecimalLabel","sap.formatter","sap.sbo.util.formatter","sap.sbo.page.phone.BoHomeController","sap.sbo.localization.Helper","sap.sbo.util.metadataHelper","css!sap.sbo.page.phone.Document.DocumentHome"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.phone.BoHomeController,Options:{},Public:{init:function(){t.sbo.page.phone.BoHomeController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{_oModel:new t.core.JsonModel({}),_mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),_oService:this.autoDestroy(new t.sbo.services.OrdersService),_oContactService:this.autoDestroy(new t.sbo.services.ContactPersonsService),__modelRelated:this.autoDestroy(new t.core.JsonModel({contact:{Image:{url:"./image/common/no-pic-avatar.jpg"},contactPersonID:0,displayName:null,position:null,number:0},status:"open"})),_onActionButtonClickProxy:$.proxy(this._onActionButtonClickHandler,this)}),window.SboShell.attachEvent("actionButtonClick",this._onActionButtonClickProxy)},destroy:function(){window.SboShell.detachEvent("actionButtonClick",this._onActionButtonClickProxy)},getService:function(){return this._oService},initView:function(){var o=$.Deferred(),a=this;return $.when(t.sbo.page.phone.BoHomeController.prototype.initView.apply(this,arguments)).done(function(){a.$().setModel(a._oModel),a.$().setModel(a.__modelRelated,"Related"),a.setTitle({title:t.sbo.localization.Helper.get("common/ORDER_NAME")+" "+a.convertBoKey(a._mViewInfo.storeParam).docEntry}),t.util.showLoading(),$.when(a._oService.get(a.convertBoKey(a._mViewInfo.storeParam))).done(function(i){a._oModel.setValue("",i);var s={};s.filter="cardCode eq '"+i.cardCode+"'",s.select="contactPersonID, displayName, position, portraitId",a._oContactService.query(s).done(function(e){a.__modelRelated.setValue("contact/number",e.value.length);for(var o=0;e.value.length>o;++o)if(i.contactPersonCode===e.value[o].contactPersonID){a.__modelRelated.setValue("contact/contactPersonID",e.value[o].contactPersonID),a.__modelRelated.setValue("contact/displayName",e.value[o].displayName),a.__modelRelated.setValue("contact/position",e.value[o].position);var s=e.value[o].portraitId,n=e.value[o].contactPersonID;if(s>0){var r=t.sbo.util.formatter.getURL("ContactPerson","contactPersonID",n,s);a.__modelRelated.setValue("contact/Image/url",r)}break}}),a.setTitle({title:t.sbo.localization.Helper.get("common/ORDER_NAME")+" "+i.docNum}),a.$().process(e),a.$().on("vclick","[uuid='general']",function(){window.SboShell.gotoView("sap.sbo.page.phone.SalesOrder.SalesOrderEdit",a._mViewInfo.storeParam)}),a.$().on("vclick","[uuid='product']",function(){window.SboShell.gotoView("sap.sbo.page.phone.SalesOrder.ItemsEdit",a._mViewInfo.storeParam)}),a.$().on("vclick","[uuid='contact']",function(){window.SboShell.gotoView("sap.sbo.page.phone.Contact.ContactListView",{boName:a.getBoKeyEntity().boName,keyParam:a._mViewInfo.storeParam,BPcardCode:a._oModel.getValue("cardCode"),BPcardName:a._oModel.getValue("cardName")},{MainContact:a._oModel.getValue("contactPersonCode")})});var n=t.sbo.util.metadataHelper.convertDynamicMeta(i["sbo.dynamicmeta"]);n.actions.close&&n.actions.close.enabled&&window.SboShell.addActionButtons([{key:"close",text:t.sbo.localization.Helper.get("common/CLOSE")}],a),n.actions.cancel&&n.actions.cancel.enabled&&window.SboShell.addActionButtons([{key:"cancel",text:t.sbo.localization.Helper.get("common/CANCEL")}],a),o.resolve()}).fail(function(e){o.reject(e)}).always(function(){t.util.hideLoading()})}),o.promise()},destroyView:function(){t.sbo.page.phone.BoHomeController.prototype.destroyView.apply(this,arguments),this.$().unprocess()},update:function(){},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"Order",keyElements:this._mViewInfo.storeParam}}},Protected:{_onActionButtonClickHandler:function(e){var o=this;switch(e){case"close":t.util.showLoading(),$.when(o._oService.action_close(o._oModel.getValue(""))).done(function(){window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/ORDER_CLOSED"),"success"),window.SboShell.gotoView("sap.sbo.page.phone.SalesOrder.SalesOrderHome",[{keyName:"docEntry",keyValue:o.getBoKeyEntity().keyElements[0].keyValue}])}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()});break;case"cancel":t.util.showLoading(),$.when(o._oService.action_cancel(o._oModel.getValue(""))).done(function(){window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/ORDER_CANCELED"),"success"),window.SboShell.gotoView("sap.sbo.page.phone.SalesOrder.SalesOrderHome",[{keyName:"docEntry",keyValue:o.getBoKeyEntity().keyElements[0].keyValue}])}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()})}}}})}),define("sap.sbo.page.phone.SalesOrder.SalesOrderListView",["sap.ui.Controller","sap.core.JsonModel","sap.sbo.layout.phone.ListLayout","sap.sbo.util.AjaxListSource","sap.sbo.services.OrdersService","sap.sbo.util.formatter","sap.sbo.ui.widget.DateTimeField","sap.ui.widget.Photo","sap.sbo.localization.Helper","sap.sbo.page.BaseBoListViewController","sap.sbo.ui.widget.ListManipulator","sap.sbo.ui.widget.MultipleValueHelp","sap.sbo.ui.widget.DecimalLabel","sap.sbo.ui.widget.DateLabel","sap.formatter","json!sap.sbo.page.common.listFilters.SalesOrder","css!sap.sbo.page.phone.boListView"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.BaseBoListViewController,Public:{init:function(){t.sbo.page.BaseBoListViewController.prototype.init.apply(this,arguments),this.declareMember({oSalesOrderService:this.autoDestroy(new t.sbo.services.OrdersService),_oAjaxListSource:null,_onActionButtonClickProxy:$.proxy(this._onActionButtonClickHandler,this)}),this._oAjaxListSource=this.autoDestroy(new t.sbo.util.AjaxListSource(this.oSalesOrderService)),window.SboShell.attachEvent("actionButtonClick",this._onActionButtonClickProxy)},destroy:function(){window.SboShell.detachEvent("actionButtonClick",this._onActionButtonClickProxy)},initView:function(){var o=this,a=$.Deferred();return $.when(t.sbo.page.BaseBoListViewController.prototype.initView.call(this)).done(function(){o.$().process(e),o.$().control({'[data-id="listView"]':{emptyTexts:[t.sbo.localization.Helper.get("app/order/PURPOSE"),t.sbo.localization.Helper.get("app/order/USAGE"),t.sbo.localization.Helper.get("app/order/TO_CREATE")],source:o._oAjaxListSource,sort:{field:"docEntry"},listener:{create:function(){SboShell.openFrame({view:"sap.sbo.page.phone.SalesOrder.OrderCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,callback:function(){}})},requestDone:function(e){SboShell.setOption({title:t.sbo.localization.Helper.get("common/ORDER_NAME")}),SboShell.setHeaderCount(e.count)}}}}),o.$().on("vclick",".item",function(e){window.SboShell.gotoView("sap.sbo.page.phone.SalesOrder.SalesOrderHome",[{keyName:"docEntry",keyValue:$(e.target).findModel().getValue("docEntry")}])}),window.SboShell.addActionButtons([{key:"create",text:t.sbo.localization.Helper.get("app/document/CREATE_ORDER")}],o),a.resolve()}).fail(function(e){window.SboShell.raiseException(e),a.reject(e)}),a.promise()},destroyView:function(){t.sbo.page.BaseBoListViewController.prototype.destroyView.call(this),this.$().unprocess()},update:function(){},getBoNameEntity:function(){return{boNamespace:"com.sap.sbo",boName:"Order"}},getProcessContext:function(){return e},getListSource:function(){return this._oAjaxListSource},getService:function(){return this.oSalesOrderService},getMainControl:function(){return this.$(".sbo-list-layout")},getQuickFilters:function(){if(e&&e.json&&e.json.sap&&e.json.sap.sbo&&e.json.sap.sbo.page&&e.json.sap.sbo.page.common&&e.json.sap.sbo.page.common.listFilters&&e.json.sap.sbo.page.common.listFilters.SalesOrder){var o=e.json.sap.sbo.page.common.listFilters.SalesOrder,a={};for(var i in o)a[i]={},a[i].expr=o[i],a[i].label=t.sbo.localization.Helper.get("app/order/"+i),a[i].description=a[i].label;return a}return{}}},Protected:{_onActionButtonClickHandler:function(e){switch(e){case"create":SboShell.openFrame({view:"sap.sbo.page.phone.SalesOrder.OrderCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,callback:function(){}})}}}})}),define("sap.sbo.page.phone.SalesQuotation.BasicTile",["sap.ui.Controller","sap.sbo.localization.Helper","sap.sbo.page.phone.ContentTileViewController","json!sap.sbo.util.enums","sap.core.JsonModel","sap.sbo.compoundservices.AttachmentService","sap.sbo.app.task.taskUtil","sap.ui.widget.Photo","css!sap.sbo.page.phone.Document.BasicTile"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.phone.ContentTileViewController,Public:{init:function(){t.sbo.page.phone.ContentTileViewController.prototype.init.apply(this,arguments),this.declareMember({__modelOwner:this.autoDestroy(new t.core.JsonModel({OwnerImage:{url:"./image/common/no-pic-avatar.jpg"}})),oAttachementService:this.autoDestroy(new t.sbo.compoundservices.AttachmentService)})},destroy:function(){},initView:function(){var o=$.Deferred(),a=this;return this.$().setModel(this.__modelOwner,"owner"),$.when(t.sbo.page.phone.ContentTileViewController.prototype.initView.apply(this,arguments)).done(function(){var i=this.$().findModel(),s=i.getValue("documentsOwner");null!=s&&$.when(a.oAttachementService.getPortraitId(s)).done(function(e){if(-1!==e.value){var o={};o.attachmentId=e.value,o.ownerCode=s;var i=t.sbo.app.task.taskUtil.PreviewUrl(o);a.__modelOwner.setValue("OwnerImage",{url:i})}}),this.$().process(e),o.resolve()}.bind(this)),o.promise()},destroyView:function(){t.sbo.page.phone.ContentTileViewController.prototype.destroyView.apply(this,arguments)},getTileTitle:function(){return t.sbo.localization.Helper.get("app/BASIC")},on_basic:function(){var e=$(event.target).findModel();window.SboShell.gotoView("sap.sbo.page.phone.SalesQuotation.SalesQuotationEdit",[{keyName:"docEntry",keyValue:e.getValue("docEntry")}]),event.stopPropagation()},on_navigate:function(){var e=$(event.target).findModel();window.SboShell.gotoView("sap.sbo.page.phone.SalesQuotation.SalesQuotationEdit",[{keyName:"docEntry",keyValue:e.getValue("docEntry")}]),event.stopPropagation()}},Protected:{}})}),define("sap.sbo.page.phone.SalesQuotation.contactTile",["sap.ui.Controller","sap.sbo.localization.Helper","sap.sbo.page.phone.ContentTileViewController","sap.ui.widget.Photo","css!sap.sbo.page.phone.Document.contactTile"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={goldenImage:function(e){return e>=0?"./image/Customer/goldenStar.png":""}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.phone.ContentTileViewController,Public:{init:function(){t.sbo.page.phone.ContentTileViewController.prototype.init.apply(this,arguments),this.declareMember({})},destroy:function(){},initView:function(){var o=$.Deferred();return $.when(t.sbo.page.phone.ContentTileViewController.prototype.initView.apply(this,arguments)).done(function(){o.resolve(),this.$().process(e)}.bind(this)),o.promise()},destroyView:function(){t.sbo.page.phone.ContentTileViewController.prototype.destroyView.apply(this,arguments)},getTileTitle:function(){return t.sbo.localization.Helper.get("app/customer/CONTACTS")},getCreateDesc:function(){return t.sbo.localization.Helper.get("app/document/CREATE_CNT")},getNumberBindingPath:function(){return"Related@contact/number"},on_basic:function(){var e=$(event.target).findModel();window.SboShell.gotoView("sap.sbo.page.phone.Contact.ContactListView",{boName:"Quotation",keyParam:[{keyName:"docEntry",keyValue:e.getValue("docEntry")}],BPcardCode:e.getValue("cardCode"),BPcardName:e.getValue("cardName")},{MainContact:e.getValue("contactPersonCode")})},on_create:function(){var e=$(event.target).findModel("");SboShell.openFrame({view:"sap.sbo.page.phone.Contact.ContactCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,options:{data:{BPcardCode:e.getValue("cardCode"),BPcardName:e.getValue("cardName"),boName:"Quotation",keyParam:[{keyName:"docEntry",keyValue:e.getValue("docEntry")}]}}})},on_navigate:function(){var e=$(event.target).findModel("Related");SboShell.gotoView("sap.sbo.page.phone.Contact.ContactHome",[{keyName:"contactPersonID",keyValue:e.getValue("contact/contactPersonID")}])}},Protected:{}})}),define("sap.sbo.page.phone.SalesQuotation.ItemEditFrame",["sap.ui.Controller","sap.sbo.page.phone.SubBoMetadataViewEditFrame","sap.core.JsonModel","sap.sbo.services.SalesTaxCodesService","sap.sbo.services.VatGroupsService","sap.sbo.compoundservices.CompanyService","sap.core.ListSourceFilter","json!sap.sbo.util.enums","css!sap.sbo.page.phone.Document.ItemEditFrame"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.phone.SubBoMetadataViewEditFrame,Options:{},Public:{init:function(){t.sbo.page.phone.SubBoMetadataViewEditFrame.prototype.init.apply(this,arguments),this.declareMember({__oListTaxService:this.autoDestroy(new t.sbo.services.SalesTaxCodesService),__oListVatService:this.autoDestroy(new t.sbo.services.VatGroupsService),__oCompanyService:this.autoDestroy(new t.sbo.compoundservices.CompanyService),__oListModel:this.autoDestroy(new t.core.JsonModel({tax:[],vatGroup:[]}))})},destroy:function(){},initView:function(){var o=this;o.$().setModel(o.__oListModel,"list"),$.when(o.__oListTaxService.query(),o.__oListVatService.query(),o.__oCompanyService.getAdminInfo()).done(function(e,t,a){"US"===a.country?o.__oListModel.setValue("tax",e.value):"CN"===a.country&&o.__oListModel.setValue("vatGroup",t.value)}),$.when(t.sbo.page.phone.SubBoMetadataViewEditFrame.prototype.initView.apply(this,arguments)).done(function(){o.$().on("vclick",".itemCode",function(){window.SboShell.openFrame({view:"sap.sbo.chooseList.phone.ChooseListProduct",type:"right",options:{filter:new t.core.ListSourceFilter("(`isActive` = '"+e.json.sap.sbo.util.enums.bool.Yes+"')")},callback:function(e,t){"select"===e&&o.setModelValue("itemCode",t.itemCode)}})})})},destroyView:function(){t.sbo.page.phone.SubBoMetadataViewEditFrame.prototype.destroyView.apply(this,arguments)},update:function(){t.sbo.page.phone.SubBoMetadataViewEditFrame.prototype.update.apply(this,arguments)
},getIgnoredProperty:function(){return["ShipToCountryName","BillToCountryName","shiptypeName"]}},Protected:{}})}),define("sap.sbo.page.phone.SalesQuotation.ItemsEdit",["sap.sbo.page.phone.SubBoMetadataView","sap.ui.widget.TextField","sap.ui.Controller","sap.sbo.services.QuotationsService","sap.sbo.util.formatter","sap.sbo.localization.Helper","sap.sbo.ui.widget.DecimalLabel","sap.formatter","css!sap.sbo.page.phone.Document.ItemsEdit"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.phone.SubBoMetadataView,Options:{},Public:{init:function(){t.sbo.page.phone.SubBoMetadataView.prototype.init.apply(this,arguments),this.declareMember({__mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo")}),this.__oService=this.autoDestroy(new t.sbo.services.QuotationsService)},destroy:function(){},initView:function(){var o=this,a=$.Deferred();return $.when(t.sbo.page.phone.SubBoMetadataView.prototype.initView.call(this,e)).done(function(){o.$().on("vclick",".header",function(e){var t=$.extend(!0,{},o.__oModel.getValue(""));window.SboShell.openFrame({view:"sap.sbo.page.phone.SalesQuotation.ItemsHeadEdit",type:"center",width:640,height:480,callback:function(e,a){"cancel"===a&&o.__oModel.setValue("",t)},linkTo:o.$()[0]}),e.stopPropagation()}),a.resolve()}),a.promise()},destroyView:function(){t.sbo.page.phone.SubBoMetadataView.prototype.destroyView.call(this)},update:function(){t.sbo.page.phone.SubBoMetadataView.prototype.update.apply(this,arguments)},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"Quotation",keyElements:this.__mViewInfo.storeParam}},getSubNodeName:function(){return"DocumentLine"},getSubNodeBindPath:function(){return"documentLines"},getIgnoredProperty:function(){return["ShipToCountryName","BillToCountryName","shiptypeName"]},getTitle:function(e,o){return t.sbo.localization.Helper.get("app/document/PRODUCTS")+" "+o},getEditFrameModuleName:function(){return"sap.sbo.page.phone.SalesQuotation.ItemEditFrame"}},Protected:{}})}),define("sap.sbo.page.phone.SalesQuotation.ItemsHeadEdit",["sap.ui.widget.TextField","sap.ui.Controller","sap.sbo.localization.Helper","sap.sbo.ui.FrameViewController","sap.sbo.util.formatter","sap.sbo.ui.widget.DecimalInputField","sap.sbo.ui.widget.DecimalLabel","sap.formatter","css!sap.sbo.page.phone.Document.ItemsHeadEdit"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={readOnly_bool:function(e){return!e}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Options:{data:{type:"object"}},Public:{init:function(){t.sbo.ui.FrameViewController.prototype.init.apply(this,arguments),this.declareMember({_fActionButtonClicked:$.proxy(this._onActionButtonClickHandler,this)})},destroy:function(){window.SboShell.detachEvent("actionButtonClick",this._fActionButtonClicked)},initView:function(){var o=this,a=$.Deferred();return o.$().process(e),window.SboShell.addTopButtons([{key:"ok",text:t.sbo.localization.Helper.get("common/OK")},{key:"cancel",text:t.sbo.localization.Helper.get("common/CANCEL")}]),window.SboShell.attachEvent("actionButtonClick",o._fActionButtonClicked),a.resolve(),a.promise()},destroyView:function(){},update:function(){}},Protected:{_onActionButtonClickHandler:function(e){var t=this;switch(e){case"ok":t.closeFrame();break;case"cancel":t.closeFrame("cancel")}}}})}),define("sap.sbo.page.phone.SalesQuotation.productTile",["sap.ui.Controller","sap.sbo.localization.Helper","sap.sbo.ui.widget.DecimalLabel","sap.formatter","sap.sbo.page.phone.ContentTileViewController","css!sap.sbo.page.phone.Document.productTile"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.phone.ContentTileViewController,Public:{init:function(){t.sbo.page.phone.ContentTileViewController.prototype.init.apply(this,arguments),this.declareMember({})},destroy:function(){},initView:function(){var o=$.Deferred();return $.when(t.sbo.page.phone.ContentTileViewController.prototype.initView.apply(this,arguments)).done(function(){this.$().process(e),o.resolve()}.bind(this)),o.promise()},destroyView:function(){t.sbo.page.phone.ContentTileViewController.prototype.destroyView.apply(this,arguments)},getTileTitle:function(){return t.sbo.localization.Helper.get("app/document/PRODUCTS")},getNumberBindingPath:function(){return"documentLines/length"},on_basic:function(){var e=$(event.target).findModel();window.SboShell.gotoView("sap.sbo.page.phone.SalesQuotation.ItemsEdit",[{keyName:"docEntry",keyValue:e.getValue("docEntry")}])}},Protected:{}})}),define("sap.sbo.page.phone.SalesQuotation.QuotationCreation",["sap.ui.Controller","sap.sbo.page.phone.BoMetadataCreationFrameController","sap.sbo.layout.phone.MetadataList","sap.sbo.services.QuotationsService","sap.sbo.ui.widget.BoStatus","sap.ui.widget.TextField","sap.ui.widget.TextArea","sap.sbo.ui.widget.DateTimeField","sap.sbo.util.formatter","sap.ui.widget.Button","sap.util","sap.sbo.ui.widget.BoLabel","sap.sbo.localization.Helper","sap.sbo.core.BoException","sap.core.JsonModel","sap.core.ListSourceFilter","sap.sbo.ui.widget.DecimalLabel","sap.formatter","json!sap.sbo.util.enums","css!sap.sbo.page.phone.Document.DocumentCreation","css!sap.sbo.app.template.EditProperty","css!sap.sbo.app.template.DynamicProperty"],function(){"use strict";var e=this.getNS(),t=e.sap,o=t.sbo.page.phone.BoMetadataCreationFrameController;return e.formatter={string_null:function(e,t){return"<<"===t?e||"":e},null_bool:function(e){return e?!0:!1}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:o,Options:{cardCode:{type:"any",defaultValue:void 0},cardName:{type:"any",defaultValue:void 0}},Public:{init:function(){o.prototype.init.apply(this,arguments);var e=this;this._oService=this.autoDestroy(new t.sbo.services.QuotationsService),this.declareMember({_fActionButtonClicked:function(o){switch(o){case"save":t.util.showLoading(),$.when(e.boCreate()).done(function(e){window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/QUOTATION_CREATE_SUCCESSFUL"),"success"),window.SboShell.gotoView("sap.sbo.page.phone.SalesQuotation.SalesQuotationHome",[{keyName:"docEntry",keyValue:e.docEntry}])}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()});break;case"cancel":e.callShell("close")}},__CardCodemodel:this.autoDestroy(new t.core.JsonModel({readonly:!1}))})},destroy:function(){},initView:function(){var a=this,i=$.Deferred();return this.$().setModel(a.__CardCodemodel,"cardCodeModel"),$.when(o.prototype.initView.call(this)).done(function(){var e=a.getOption("cardCode");e&&(a.__CardCodemodel.setValue("readonly",!0),a._oMetadataValueModel.setValue("cardCode",e),a._oMetadataValueModel.setValue("cardName",a.getOption("cardName"))),a.$().on("vclick",".salesQuationItems.field",function(){window.SboShell.openFrame({view:"sap.sbo.page.phone.SalesQuotation.ItemsEdit",type:"full",options:{boData:a._oMetadataValueModel.getValue("")},callback:function(e,t){t&&a._oMetadataValueModel.setValue("",t)}})}),window.SboShell.addTopButtons([{key:"cancel",text:t.sbo.localization.Helper.get("common/CANCEL")},{key:"save",text:t.sbo.localization.Helper.get("app/SAVE_VIEW")}]),window.SboShell.attachEvent("actionButtonClick",a._fActionButtonClicked),i.resolve()}).fail(function(e){window.SboShell.raiseException(e),i.reject(e)}),this.$().on("GuilinControlEvent.navigate GuilinControlEvent.choose",".sbo-metadata-list-property",function(o){switch($(o.currentTarget).attr("gl-property")){case"cardCode":window.SboShell.openFrame({view:"sap.sbo.chooseList.phone.ChooseListCustomer",options:{filter:new t.core.ListSourceFilter("(`isActive` = '"+e.json.sap.sbo.util.enums.bool.Yes+"')")},type:"right",callback:function(e,t){"close"===e||"select"===e&&(a._oMetadataValueModel.setValue("cardCode",t.cardCode),a._oMetadataValueModel.setValue("cardName",t.cardName))}})}}),i.promise()},destroyView:function(){window.SboShell.detachEvent("actionButtonClick",this._fActionButtonClicked),this.$().off("GuilinControlEvent.navigate GuilinControlEvent.choose"),o.prototype.destroyView.call(this)},update:function(){o.prototype.update.apply(this,arguments)},getMainControl:function(){return this.$("[ctrl='main']").getControl()},getBoType:function(){return{boNamespace:"com.sap.sbo",boName:"Quotation"}},getService:function(){return this._oService},process:function(){this.$().process(e)},boValidate:function(e){if(!e.cardCode){var o=new t.sbo.core.BoException(t.sbo.localization.Helper.get("app/document/INPUT_CARD_CODE"),"error");throw o}if(!e.docDate){var o=new t.sbo.core.BoException(t.sbo.localization.Helper.get("app/document/INPUT_POST_DATE"),"error");throw o}if(!e.docDueDate){var o=new t.sbo.core.BoException(t.sbo.localization.Helper.get("app/document/INPUT_DEL_DATE"),"error");throw o}if(!e.documentLines.length){var o=new t.sbo.core.BoException(t.sbo.localization.Helper.get("app/document/ADD_LINE"),"error");throw o}if(e.discountPercent>100){var o=new t.sbo.core.BoException(t.sbo.localization.Helper.get("app/document/DISCNTTOOLAGER"),"error");throw o}}},Protected:{}})}),define("sap.sbo.page.phone.SalesQuotation.QuotationPrint",["sap.sbo.ui.FrameViewController","sap.ui.Controller","sap.core.klass","sap.sbo.compoundservices.PreviewService","sap.sbo.services.BaseService","css!sap.sbo.page.phone.SalesQuotation.QuotationPrint"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Options:{quotationID:{type:"integer",defaultValue:-1}},Public:{init:function(){t.sbo.ui.FrameViewController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{__oService:new t.sbo.compoundservices.PreviewService,__quotationID:null})},destroy:function(){this.__oService=null},initView:function(){var t=$.Deferred(),o=this;return this.__quotationID=this.getOption("quotationID"),this.$().find("#cancel").on("vclick",function(){o.closeFrame()}),$.when(this.__oService.previewQuotation(this.__quotationID)).done(function(a){$("#quotation").contents().find("body").html(a.value),o.$().process(e),t.resolve()}).fail(function(e){window.SboShell.raiseException(e),t.reject(e)}),t.promise()},destroyView:function(){this.__oService.destroy(),this.__oService=null,this.$().unprocess(),this.$().find("#cancel").off("vclick")},update:function(){},resize:function(){}},Protected:{},Static:{}})}),define("sap.sbo.page.phone.SalesQuotation.SalesQuotationEdit",["css!sap.sbo.app.template.EditProperty","sap.core.klass","sap.ui.Controller","sap.sbo.layout.phone.MetadataLayout","sap.core.JsonModel","sap.ui.widget.TextField","sap.sbo.services.QuotationsService","sap.sbo.services.CountriesService","sap.sbo.services.StatesService","sap.sbo.services.BusinessPartnersService","sap.sbo.services.ShippingTypesService","sap.sbo.page.phone.BoMetadataEditController","sap.ui.widget.TextArea","sap.sbo.ui.widget.DateTimeField","sap.sbo.util.formatter","sap.util","sap.sbo.ui.widget.BoStatus","sap.ui.widget.Checkbox","sap.sbo.util.formatter","sap.sbo.ui.widget.BoLabel","sap.ui.widget.Photo","sap.core.JsonModel","sap.ui.widget.DropDownBox","sap.sbo.localization.Helper","sap.sbo.core.BoException","sap.sbo.compoundservices.AttachmentService","sap.sbo.app.task.taskUtil","sap.sbo.ui.widget.Address","css!sap.sbo.app.template.EditProperty","css!sap.sbo.page.phone.boEdit","css!sap.sbo.page.phone.boAddress"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={isZero:function(e){return 0===e},string_null:function(e,t){return"<<"===t?e||"":e}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.phone.BoMetadataEditController,Public:{init:function(){t.sbo.page.phone.BoMetadataEditController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{_oService:new t.sbo.services.QuotationsService,_mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),__modelOwner:this.autoDestroy(new t.core.JsonModel({ownerName:"",OwnerImage:{url:"./image/common/no-pic-avatar.jpg"}})),__modelAddressMeta:this.autoDestroy(new t.core.JsonModel({})),__oListCRYService:this.autoDestroy(new t.sbo.services.CountriesService),__oListCSTService:this.autoDestroy(new t.sbo.services.StatesService),__oShippingTypesService:this.autoDestroy(new t.sbo.services.ShippingTypesService),__oListModel:this.autoDestroy(new t.core.JsonModel({countryS:[],stateS:[],countryB:[],stateB:[],shipType:[]})),__BPService:this.autoDestroy(new t.sbo.services.BusinessPartnersService),oAttachementService:this.autoDestroy(new t.sbo.compoundservices.AttachmentService),__fActionButtonClickedProxy:$.proxy(this.__actionBtnClick,this),__quotationID:null});var e=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo");this.__quotationID=e.storeParam[0].keyValue,window.SboShell.addActionButtons([{key:"preview",text:t.sbo.localization.Helper.get("page/button/preview")}],this),window.SboShell.attachEvent("actionButtonClick",this.__fActionButtonClickedProxy)},destroy:function(){this._oService.destroy()},initView:function(){var e=$.Deferred(),o=this;return this.$().setModel(this.__modelOwner,"owner"),o.$().setModel(o.__oListModel,"list"),this.$().setModel(this.__modelAddressMeta,"addressMeta"),$.when(t.sbo.page.phone.BoMetadataEditController.prototype.initView.call(this),this.__oListCRYService.query(),this.__oListCSTService.query(),this.__oShippingTypesService.query()).done(function(e,a,i,s){var n=e[1];o.__modelAddressMeta.setValue("",n.nodes.AddressExtension.reduce(function(e,t){return e[t.property]=t.option,e},{})),o.__oListModel.setValue("countryS",a.value),o.__oListModel.setValue("countryB",a.value);var r=o._oMetadataValueModel.getValue("addressExtension/0/shipToCountry"),l={filter:"country eq '"+r+"'"};$.when(o.__oListCSTService.query(l)).done(function(e){o.__oListModel.setValue("stateS",e.value)});var d=o._oMetadataValueModel.getValue("addressExtension/0/billToCountry"),l={filter:"country eq '"+d+"'"};$.when(o.__oListCSTService.query(l)).done(function(e){o.__oListModel.setValue("stateB",e.value)}),o.__oListModel.setValue("shipType",s.value),o.setTitle(t.sbo.localization.Helper.get("app/BASIC")),o.$().on("vclick",'[data-id="billto"]',function(){var e=o._oMetadataValueModel.getValue("cardCode");$.when(o.__BPService.get({cardCode:e})).done(function(e){for(var t=e.bPAddresses,a=t.length-1;a>=0;--a)"bo_BillTo"!==t[a].addressType&&t.splice(a,1);window.SboShell.openFrame({view:"sap.sbo.chooseList.phone.ChooseListAddress",type:"right",options:{array:t},callback:function(e,t){"select"===e&&(o._oMetadataValueModel.setValue("addressExtension/0/billToStreet",t.street),o._oMetadataValueModel.setValue("addressExtension/0/billToBlock",t.block),o._oMetadataValueModel.setValue("addressExtension/0/billToCity",t.city),o._oMetadataValueModel.setValue("addressExtension/0/billToZipCode",t.zipCode),o._oMetadataValueModel.setValue("addressExtension/0/billToState",t.state),o._oMetadataValueModel.setValue("addressExtension/0/billToCountry",t.country))}})}).fail(function(){})}),o.$('[data-id="shipto"]').on("vclick",function(){var e=o._oMetadataValueModel.getValue("cardCode");$.when(o.__BPService.get({cardCode:e})).done(function(e){for(var t=e.bPAddresses,a=t.length-1;a>=0;--a)"bo_ShipTo"!==t[a].addressType&&t.splice(a,1);window.SboShell.openFrame({view:"sap.sbo.chooseList.phone.ChooseListAddress",type:"right",options:{array:t},callback:function(e,t){"select"===e&&(o._oMetadataValueModel.setValue("addressExtension/0/shipToStreet",t.street),o._oMetadataValueModel.setValue("addressExtension/0/shipToBlock",t.block),o._oMetadataValueModel.setValue("addressExtension/0/shipToCity",t.city),o._oMetadataValueModel.setValue("addressExtension/0/shipToZipCode",t.zipCode),o._oMetadataValueModel.setValue("addressExtension/0/shipToState",t.state),o._oMetadataValueModel.setValue("addressExtension/0/shipToCountry",t.country))}})}).fail(function(){})});var p=o._oMetadataValueModel.getValue("documentsOwner");if(null!=p&&$.when(o.oAttachementService.getPortraitId(p)).done(function(e){if(-1!==e.value){var a={};a.attachmentId=e.value,a.ownerCode=p;var i=t.sbo.app.task.taskUtil.PreviewUrl(a);o.__modelOwner.setValue("OwnerImage",{url:i})}}),o.$().onControlEvent("change",'[data-id="dropdownlistforshiptocountry"]',function(){var e=o._oMetadataValueModel.getValue("addressExtension/0/shipToCountry"),t={filter:"country eq '"+e+"'"};$.when(o.__oListCSTService.query(t)).done(function(e){o.__oListModel.setValue("stateS",e.value),o._oMetadataValueModel.setValue("addressExtension/0/shipToState","")})}),o.$().onControlEvent("change",'[data-id="dropdownlistforbilltocountry"]',function(){var e=o._oMetadataValueModel.getValue("addressExtension/0/billToCountry"),t={filter:"country eq '"+e+"'"};$.when(o.__oListCSTService.query(t)).done(function(e){o.__oListModel.setValue("stateB",e.value),o._oMetadataValueModel.setValue("addressExtension/0/billToState","")})}),0===o._oMetadataValueModel.getValue("addressExtension").length){var c=o._oMetadataValueModel.getValue("");$.when(o._oService.getInitBoNode(c,"Root/addressExtension")).done(function(e){o._oMetadataValueModel.setValue("addressExtension",e.addressExtension)}).fail(function(e){e instanceof t.sbo.core.BoException&&o.showErrorByExpr(e.getField(),e.getMessage())})}}).fail(function(){}).always(function(){e.resolve()}),this.$().on("GuilinControlEvent.navigate GuilinControlEvent.choose",".sbo-metadata-list-property",function(e){switch($(e.currentTarget).attr("gl-property")){case"documentsOwner":if("navigate"===e.namespace){var a=o._oMetadataValueModel.getValue("documentsOwner");null!==a&&window.SboShell.gotoView("sap.sbo.page.phone.user.BasicInfo",[{keyName:"employeeID",keyValue:a}])}else window.SboShell.openFrame({view:"sap.sbo.chooseList.phone.ChooseListEmployee",options:{},type:"right",callback:function(e,a){"close"===e||"select"===e&&(o._oMetadataValueModel.setValue("documentsOwner",a.employeeID),o._oMetadataValueModel.setValue("OwnerEmployeeDisplayName",a.displayName),$.when(o.oAttachementService.getPortraitId(a.employeeID)).done(function(e){if(-1!==e.value){var i={};i.attachmentId=e.value,i.ownerCode=a.employeeID;var s=t.sbo.app.task.taskUtil.PreviewUrl(i);o.__modelOwner.setValue("OwnerImage",{url:s})}}))}});break;case"cardCode":window.SboShell.gotoView("sap.sbo.page.phone.Customer.CustomerHome",[{keyName:"cardCode",keyValue:o._oMetadataValueModel.getValue("cardCode")}])}}),e.promise()},destroyView:function(){window.SboShell.detachEvent("actionButtonClick",this.__fActionButtonClickedProxy),this.$().off("GuilinControlEvent.navigate GuilinControlEvent.choose"),this.$().unprocess(),t.sbo.page.phone.BoMetadataEditController.prototype.destroyView.call(this)},update:function(){},getMainControl:function(){return this.$("[ctrl='main']").getControl()},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"Quotation",keyElements:this._mViewInfo.storeParam}},getService:function(){return this._oService},process:function(){this.$().process(e)}},Protected:{__actionBtnClick:function(e){switch(e){case"preview":window.SboShell.openFrame({view:"sap.sbo.page.phone.SalesQuotation.QuotationPrint",type:"full",options:{quotationID:this.__quotationID},callback:function(){}})}}}})}),define("sap.sbo.page.phone.SalesQuotation.SalesQuotationHome",["sap.core.klass","sap.core.JsonModel","sap.ui.View","sap.sbo.layout.TileView","sap.ui.common","sap.util","sap.log","sap.ui.Controller","sap.ui.widget.TextField","sap.ui.widget.TextArea","sap.sbo.ui.widget.DateLabel","sap.ui.widget.Currency","sap.ui.Repeat","sap.ui.widget.Button","sap.sbo.layout.phone.AdvancedTilesLayout","sap.sbo.shell.IFeaturable","sap.sbo.app.network.FeedTile","sap.sbo.services.QuotationsService","sap.sbo.services.BaseService","sap.sbo.services.ContactPersonsService","sap.sbo.util.formatter","sap.sbo.ui.widget.Stage","sap.sbo.app.network.RelatedTile","sap.ui.Repeat","sap.sbo.ui.widget.DecimalLabel","sap.formatter","sap.sbo.util.metadataHelper","sap.sbo.page.phone.BoHomeController","sap.sbo.localization.Helper","css!sap.sbo.page.phone.Document.DocumentHome"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.phone.BoHomeController,Options:{},Public:{init:function(){t.sbo.page.phone.BoHomeController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{_oModel:new t.core.JsonModel({}),_mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),_oContactService:this.autoDestroy(new t.sbo.services.ContactPersonsService),_oService:this.autoDestroy(new t.sbo.services.QuotationsService),__modelRelated:this.autoDestroy(new t.core.JsonModel({contact:{Image:{url:"./image/common/no-pic-avatar.jpg"},contactPersonID:0,displayName:null,position:null,number:0},status:"open"})),_onActionButtonClickProxy:$.proxy(this._onActionButtonClickHandler,this)}),window.SboShell.attachEvent("actionButtonClick",this._onActionButtonClickProxy)},destroy:function(){window.SboShell.detachEvent("actionButtonClick",this._onActionButtonClickProxy)},getService:function(){return this._oService},initView:function(){var o=$.Deferred(),a=this;return $.when(t.sbo.page.phone.BoHomeController.prototype.initView.apply(this,arguments)).done(function(){a.$().setModel(a._oModel),a.$().setModel(a.__modelRelated,"Related"),a.setTitle({title:t.sbo.localization.Helper.get("common/QUOTATION_NAME")+" "+a.convertBoKey(a._mViewInfo.storeParam).docEntry}),t.util.showLoading(),$.when(a._oService.get(a.convertBoKey(a._mViewInfo.storeParam))).done(function(i){a._oModel.setValue("",i);var s={};s.filter="cardCode eq '"+i.cardCode+"'",s.select="contactPersonID, displayName, position, portraitId",a._oContactService.query(s).done(function(e){a.__modelRelated.setValue("contact/number",e.value.length);for(var o=0;e.value.length>o;++o)if(i.contactPersonCode===e.value[o].contactPersonID){a.__modelRelated.setValue("contact/contactPersonID",e.value[o].contactPersonID),a.__modelRelated.setValue("contact/displayName",e.value[o].displayName),a.__modelRelated.setValue("contact/position",e.value[o].position);var s=e.value[o].portraitId,n=e.value[o].contactPersonID;if(s>0){var r=t.sbo.util.formatter.getURL("ContactPerson","contactPersonID",n,s);a.__modelRelated.setValue("contact/Image/url",r)}break}}),a.setTitle({title:t.sbo.localization.Helper.get("common/QUOTATION_NAME")+" "+i.docNum}),a.$().process(e),a.$().on("vclick","[uuid='general']",function(){window.SboShell.gotoView("sap.sbo.page.phone.SalesQuotation.SalesQuotationEdit",a._mViewInfo.storeParam)}),a.$().on("vclick","[uuid='product']",function(){window.SboShell.gotoView("sap.sbo.page.phone.SalesQuotation.ItemsEdit",a._mViewInfo.storeParam)}),a.$().on("vclick","[uuid='contact']",function(){window.SboShell.gotoView("sap.sbo.page.phone.Contact.ContactListView",{boName:a.getBoKeyEntity().boName,keyParam:a._mViewInfo.storeParam,BPcardCode:a._oModel.getValue("cardCode"),BPcardName:a._oModel.getValue("cardName")},{MainContact:a._oModel.getValue("contactPersonCode")})});var n=t.sbo.util.metadataHelper.convertDynamicMeta(i["sbo.dynamicmeta"]);n.actions.copyToOrder&&n.actions.copyToOrder.enabled&&window.SboShell.addActionButtons([{key:"copy",text:t.sbo.localization.Helper.get("app/document/COPY_TO_ORDER")}],a),n.actions.close&&n.actions.close.enabled&&window.SboShell.addActionButtons([{key:"close",text:t.sbo.localization.Helper.get("common/CLOSE")}],a),n.actions.cancel&&n.actions.cancel.enabled&&window.SboShell.addActionButtons([{key:"cancel",text:t.sbo.localization.Helper.get("common/CANCEL")}],a),o.resolve()}).fail(function(e){o.reject(e)}).always(function(){t.util.hideLoading()})}),o.promise()},destroyView:function(){t.sbo.page.phone.BoHomeController.prototype.destroyView.apply(this,arguments),this.$().unprocess()},update:function(){},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"Quotation",keyElements:this._mViewInfo.storeParam}}},Protected:{_onActionButtonClickHandler:function(e){var o=this;switch(e){case"close":t.util.showLoading(),$.when(o._oService.action_close(o._oModel.getValue(""))).done(function(){window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/QUOTATION_CLOSED"),"success"),window.SboShell.gotoView("sap.sbo.page.phone.SalesQuotation.SalesQuotationHome",[{keyName:"docEntry",keyValue:o.getBoKeyEntity().keyElements[0].keyValue}])}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()});break;case"cancel":t.util.showLoading(),$.when(o._oService.action_cancel(o._oModel.getValue(""))).done(function(){window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/QUOTATION_CANCELED"),"success"),window.SboShell.gotoView("sap.sbo.page.phone.SalesQuotation.SalesQuotationHome",[{keyName:"docEntry",keyValue:o.getBoKeyEntity().keyElements[0].keyValue}])}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()});break;case"copy":t.util.showLoading(),$.when(o._oService.action_copyToOrder(o._oModel.getValue(""))).done(function(e){SboShell.openFrame({view:"sap.sbo.page.pad.SalesOrder.OrderCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},options:{boData:e},zindex:2e3,callback:function(){}})}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()})}}}})}),define("sap.sbo.page.phone.SalesQuotation.SalesQuotationListView",["sap.ui.Controller","sap.core.JsonModel","sap.sbo.layout.phone.ListLayout","sap.sbo.util.AjaxListSource","sap.sbo.services.QuotationsService","sap.sbo.util.formatter","sap.sbo.ui.widget.DateTimeField","sap.sbo.localization.Helper","sap.sbo.page.BaseBoListViewController","sap.sbo.ui.widget.ListManipulator","sap.sbo.ui.widget.DecimalLabel","sap.formatter","sap.sbo.ui.widget.MultipleValueHelp","sap.ui.widget.Photo","sap.sbo.ui.widget.DateLabel","json!sap.sbo.page.common.listFilters.SalesQuotation","css!sap.sbo.page.phone.boListView"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.BaseBoListViewController,Public:{init:function(){t.sbo.page.BaseBoListViewController.prototype.init.apply(this,arguments),this.declareMember({oSalesQuotationService:this.autoDestroy(new t.sbo.services.QuotationsService),_oAjaxListSource:null,_onActionButtonClickProxy:$.proxy(this._onActionButtonClickHandler,this)}),this._oAjaxListSource=this.autoDestroy(new t.sbo.util.AjaxListSource(this.oSalesQuotationService)),window.SboShell.attachEvent("actionButtonClick",this._onActionButtonClickProxy)},destroy:function(){window.SboShell.detachEvent("actionButtonClick",this._onActionButtonClickProxy)},initView:function(){var o=this,a=$.Deferred();return $.when(t.sbo.page.BaseBoListViewController.prototype.initView.call(this)).done(function(){o.$().process(e),o.$().control({'[data-id="listView"]':{emptyTexts:[t.sbo.localization.Helper.get("app/quotation/PURPOSE"),t.sbo.localization.Helper.get("app/quotation/USAGE"),t.sbo.localization.Helper.get("app/quotation/TO_CREATE")],source:o._oAjaxListSource,sort:{field:"docEntry"},listener:{create:function(){SboShell.openFrame({view:"sap.sbo.page.phone.SalesQuotation.QuotationCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,callback:function(){}})},requestDone:function(e){SboShell.setOption({title:t.sbo.localization.Helper.get("common/QUOTATION_NAME")}),SboShell.setHeaderCount(e.count)}}}}),o.$().on("vclick",".item",function(e){window.SboShell.gotoView("sap.sbo.page.phone.SalesQuotation.SalesQuotationHome",[{keyName:"docEntry",keyValue:$(e.target).findModel().getValue("docEntry")}])}),window.SboShell.addActionButtons([{key:"create",text:t.sbo.localization.Helper.get("app/document/CREATE_QUO")}],o),a.resolve()}).fail(function(e){window.SboShell.raiseException(e),a.reject(e)}),a.promise()},destroyView:function(){t.sbo.page.BaseBoListViewController.prototype.destroyView.call(this),this.$().unprocess()},update:function(){},getBoNameEntity:function(){return{boNamespace:"com.sap.sbo",boName:"Quotation"}},getProcessContext:function(){return e},getListSource:function(){return this._oAjaxListSource},getService:function(){return this.oSalesQuotationService},getMainControl:function(){return this.$(".sbo-list-layout")},getQuickFilters:function(){if(e&&e.json&&e.json.sap&&e.json.sap.sbo&&e.json.sap.sbo.page&&e.json.sap.sbo.page.common&&e.json.sap.sbo.page.common.listFilters&&e.json.sap.sbo.page.common.listFilters.SalesQuotation){var o=e.json.sap.sbo.page.common.listFilters.SalesQuotation,a={};for(var i in o)a[i]={},a[i].expr=o[i],a[i].label=t.sbo.localization.Helper.get("app/quotation/"+i),a[i].description=a[i].label;return a}return{}}},Protected:{_onActionButtonClickHandler:function(e){switch(e){case"create":SboShell.openFrame({view:"sap.sbo.page.phone.SalesQuotation.QuotationCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,callback:function(){}})}}}})}),define("sap.sbo.page.phone.sample.AttachmentTile",["sap.ui.Controller","sap.core.JsonModel","sap.sbo.layout.TileViewController","sap.sbo.services.BusinessPartnersService","sap.sbo.util.formatter","css!sap.sbo.page.pad.boTile"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.layout.TileViewController,Options:{},Public:{init:function(){t.sbo.layout.TileViewController.prototype.init.apply(this,arguments),this.declareMember({_oModel:new t.core.JsonModel({count:0})})},destroy:function(){},initView:function(){this.$().setModel(this._oModel),this.$().process(e),this.$().on("vclick",this.__gotoAttachmentView)},destroyView:function(){this.$().unprocess(),this.$().off("vclick",this.__gotoAttachmentView)},update:function(){},getSupportedModes:function(){return["1x1"]}},Protected:{__gotoAttachmentView:function(){window.SboShell.gotoView("sap.sbo.page.phone.sample.AttachmentView")}}})}),define("sap.sbo.page.phone.sample.AttachmentView",["sap.core.klass","sap.core.JsonModel","sap.log","sap.ui.widget.Button","sap.sbo.layout.phone.AdvancedTilesLayout","sap.ui.Controller","sap.sbo.layout.pad.MetadataLayout","sap.ui.widget.TextField","sap.sbo.ui.widget.UploadButton","sap.sbo.ui.widget.PressToTalk","sap.sbo.ui.widget.PhotoPicker"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{_oModel:new t.core.JsonModel({imageurl:"",audiourl:"",photourl:"",picurl:"",website:""})})},destroy:function(){this._oModel.destroy()},initView:function(){var t=this;this._oModel.setValue("",{}),this.$().setModel(this._oModel),this.$().process(e),t.$().control({"#btnDate":{listener:{click:function(){$.when(SboShell.bridge.pickDate()).done(function(e){alert(e)})}}}})},destroyView:function(){this.$().unprocess()},update:function(){}},Protected:{}})}),define("sap.sbo.page.phone.sample.ListView",["sap.core.klass","sap.core.JsonModel","sap.sbo.phoneStartup","sap.ui.Controller","sap.sbo.layout.phone.ListLayout","sap.sbo.layout.phone.CarouselLayout","sap.core.ArrayListSource","sap.ui.Repeat","sap.ui.widget.Button","css!sap.sbo.page.phone.sample.ListView"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments);var e=this;t.core.klass.declareMember(this,{_oModel:new t.core.JsonModel({}),_oArraySource:new t.core.ArrayListSource(function(e){for(var t=[];e>0;--e)t.unshift({name:"name "+e});return t}(100)),__fRepeatRendered:function(){e.$('div[ctrl="carouselView2"]').getControl().renderItems()}})},destroy:function(){},initView:function(){this._oModel.setValue("",{repeatData:[{value:5,text:"button 1"},{value:4,text:"button 2"},{value:3,text:"button 3"}],buttonText:"hello world!",loadByGesture:!0}),this.$().setModel(this._oModel),this.$().process(e),this.$('div[ctrl="listView"]').getControl().setOption("source",this._oArraySource),this.$(".sap-sfa-carousel-repeat").getControl().attachEvent("afterUpdate",this.__fRepeatRendered),this.$("#test-button").getControl().attachEvent("click",function(){alert("good")
})},destroyView:function(){this.$(".sap-sfa-carousel-repeat").getControl().detachEvent("afterUpdate",this.__fRepeatRendered),this.$().unprocess()},update:function(){}},Protected:{}})}),define("sap.sbo.page.phone.task.taskDialog",["sap.ui.Controller","sap.sbo.ui.PageController","sap.ui.widget.TextField","sap.core.JsonModel","sap.ui.widget.Button","sap.core.klass","sap.sbo.shell.IFeaturable","sap.ui.Repeat","sap.ui.widget.Icon","sap.ui.widget.TextArea","sap.sbo.ui.widget.UploadButton","sap.sbo.ui.widget.PopupMenu","sap.sbo.chooseList.phone.ChooseListEmployee","sap.sbo.compoundservices.TasksService","sap.sbo.app.task.taskUtil","sap.sbo.services.TasksService","sap.sbo.services.UserEmployeesService","sap.sbo.localization.Helper","sap.sbo.ui.widget.PhotoPicker","sap.sbo.ui.widget.PressToTalk","sap.sbo.compoundservices.AttachmentService","sap.sbo.ui.widget.BoLink","sap.util","sap.sbo.ui.widget.DateTimeField","sap.sbo.ui.widget.PhoneMediaBar","sap.sbo.ui.widget.AutoCompletableTextAreaGrp","sap.sbo.page.common.notepage.NotePageUtil","css!sap.sbo.page.phone.task.taskDialog"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.PageController,Options:{taskID:{type:"string",defaultValue:""},page:{type:"any",defaultValue:void 0},boEntityKey:{type:"any",defaultValue:""},filter:{type:"string",defaultValue:""},attachImgLength:{type:"integer",defaultValue:160},originalBoEntityKey:{type:"any",defaultValue:void 0},data:{},taskEntity:{type:"any",defaultValue:{}},richMediaText:{type:"any",defaultValue:""},DataOwnershipRequest:{type:"any",defaultValue:""},richTextTargets:{}},Public:{init:function(){t.sbo.ui.PageController.prototype.init.apply(this,arguments);var e=this;e.setOption("taskID",t.sbo.app.task.taskUtil.GettaskParam("taskID")),e.setOption("boEntityKey",t.sbo.app.task.taskUtil.GettaskParam("boEntityKey")),window.SboShell.getCurrentViewInfo().otherParam&&e.setOption("originalBoEntityKey",window.SboShell.getCurrentViewInfo().otherParam.originalBoEntityKey),t.core.klass.declareMember(this,{__btaskUpdated:!1,__bToAdd:!1,__oModel:new t.core.JsonModel({count:0,details:{}}),__oService:new t.sbo.compoundservices.TasksService,__dService:new t.sbo.services.TasksService,__aService:new t.sbo.compoundservices.AttachmentService,__$dialog:null,__oIScroll:null,__uploadFileName:"",__taskTypeArray:[],__TypeImageId:""+Math.round(100*Math.random()),__ChooseListID:""+Math.round(1e3*Math.random()),__taskEntityDefaultValue:{details:{value:{id:"",type:"Not_Defined",description:"",assignee:"",status:"",creationDate:"",endDate:"",creator:"",assigneeDisplayName:"","assigneeUserEmployee.internalKey":"","assigneeUserEmployee.PortraitId":t.sbo.app.task.taskUtil.PortraitId,creatorDisplayName:"",relatedBusinessObject:void 0,relatedBOInfo:void 0,taskAttachments:[]},Mode:""}},enableScroll:function(){e.__oIScroll?e.__oIScroll.enable():(e.__oIScroll=new iScroll(this.$("div[data-sfa-class = 'taskAttachmentWraper']")[0],{hScroll:!1,bounce:!1,hideScrollbar:!0,fadeScrollbar:!0}),e.__oIScroll.refresh())},disableScroll:function(){e.__oIScroll&&e.__oIScroll.disable()},refreshScroll:function(){e.__oIScroll&&e.__oIScroll.refresh()},editCss:function(){e.__oModel.setValue("details/Mode",t.sbo.app.task.taskUtil.editMode),e.SetTargetId(e.__oModel.getValue("details/Mode")),""==e.$("#BoDesc").text()&&e.$("img[data-sfa-class = 'removeImg']").hide(),e.$(".taskAttachmentRemoveImage").show(),e.setTextAreaPointer();var o=e.$(".myTextDiv").height()+10,a=150;a>o&&(o=a),e.$(".myTextArea").height(o),e.AddActionButton(!0,!1),window.SboShell.hideActionButtons("Edit"),e.$("div[data-sfa-class = 'taskAttachmentWraper']").css("bottom",39),e.refreshScroll()},__fFileOnClick:function(o){e.__oCurrentFileModel=$(this).getModel();var a=e.__oCurrentFileModel.getValue("attachmentId"),i=e.__oModel.getValue("details/Mode"),s=e.__oCurrentFileModel.getValue("attachmentMimeType");i==t.sbo.app.task.taskUtil.viewMode?t.sbo.app.task.taskUtil.DownLoad(t.sbo.app.task.taskUtil.DownLoadUrl(a,e.__oModel.getValue("details/value"),e.getOption("originalBoEntityKey"),e.getOption("originalBoEntityKey")),s):$.when(window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/task/REMOVEATTACHMENT"),"question",[{key:"yes",text:t.sbo.localization.Helper.get("common/DELETE")},{key:"no",text:t.sbo.localization.Helper.get("common/CANCEL")}])).done(function(t){if("yes"==t){var a=parseInt($(o.currentTarget).attr("index")),i=e.__oModel.getValue("details/value/taskAttachments");i.splice(a,1),e.__oModel.setValue("details/value/taskAttachments",i)}})},fileSelected:function(){e.__uploadFileName="",file&&(e.__uploadFileName=file.name)},uploadFailed:function(t){e.__uploadFileName="",window.SboShell.raiseMessage(t)},closetaskDialog:function(){window.SboShell.backwardView()},cancelCss:function(){e.closetaskDialog()},removeBoDesc:function(){e.$("#BoDesc").text(""),e.$("#removeImg").hide(),e.__oModel.setValue("details/value/relatedBusinessObject",void 0)},asDone:function(o){var a=e.getOption("taskID"),i=e.__oModel.getValue("details/value/type"),s=e.__oModel.getValue("details/value/status");s=s==t.sbo.app.task.taskUtil.CompleteStatus?t.sbo.app.task.taskUtil.NotCompleteStatus:t.sbo.app.task.taskUtil.CompleteStatus,"Reject"==o?s=t.sbo.app.task.taskUtil.RejectStatus:"GREAD"==o&&(s=t.sbo.app.task.taskUtil.GrantReadStatus),t.util.showLoading(),$.when(t.sbo.app.task.taskUtil.SettaskStatus(a,s,i)).done(function(){t.sbo.app.task.taskUtil.handleSuccess("edit"),e.closetaskDialog()}).fail(function(e){t.sbo.app.task.taskUtil.handleError(e)}).done(function(){t.sbo.app.task.taskUtil.handleSuccess("edit")}).always(function(){t.util.hideLoading()})},linktoBo:function(){var o=e.__oModel.getValue("details/value/relatedBusinessObject");return t.sbo.app.task.taskUtil.linktoBo(o),!1},SetUserImage:function(o,a){var i;i=a?e.__aService.getMyPortraitId():e.__aService.getPortraitId(o),$.when(i).done(function(t){t&&t.value&&e.__oModel.setValue("details/value/assigneeUserEmployee.PortraitId",t.value)}).fail(function(e){t.sbo.app.task.taskUtil.handleError(e)}).always(function(){})},chooseListSelected:function(o){var a=t.sbo.app.task.taskUtil.SettaskTypeForPersistence($(o.currentTarget).attr("key").trim());e.__oModel.setValue("details/value/type",a)},textAreaChange:function(e){var o=e.target,a=o.value;return a.length>t.sbo.app.task.taskUtil.MaxTextLength&&(o.value=a.substring(0,t.sbo.app.task.taskUtil.MaxTextLength),window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/task/TEXT_EXCEED",t.sbo.app.task.taskUtil.MaxTextLength))),!1},SetTextAreaHeight:function(){var t=e.$(".myTextArea");t.height(0);var o=t.get(0).scrollHeight;t.attr("_height")!=o?t.height(o).attr("_height",o):t.height(t.attr("_height"))},PlayVideo:function(e){var t=document.createElement("audio");null!==t&&t.canPlayType&&t.canPlayType("audio/mpeg")&&(t.src=e,t.play())},save:function(){var o=e.__oModel.getValue("details/Mode"),a=e.$("#dt").getControl().getOption("value"),i=a.getTimezoneOffset();a.setTime(a.getTime()+6e4*i),a="/Date("+a.getTime()+")/";var s=e.$(".myTextArea").val(),n=e.__oModel.getValue("details/value"),r={};r.endDate=a,r.description=s,r.status=n.status,r.type=t.sbo.app.task.taskUtil.SettaskTypeForPersistence(n.type),n.assignee&&(r.assignee=n.assignee),o!=t.sbo.app.task.taskUtil.editMode&&(r.status=t.sbo.app.task.taskUtil.NotCompleteStatus),e.getOption("taskID")&&""!=e.getOption("taskID")&&(r.id=e.getOption("taskID"));for(var l=[],d=e.__oModel.getValue("details/value/taskAttachments"),p=0;d.length>p;p++){var c={},u={};u.uri="Attachments("+d[p].attachmentId+")",c.__metadata=u;var h={};d[p].id&&(h.id=d[p].id),h.attachment=c,l.push(h)}if(r.taskAttachments=l,!r.description||""==r.description.trim())return window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/task/TEXT_MANADATORY")),void 0;var b;if(r.id&&""!=r.id){var g=e.__oModel.getValue("details/value/relatedBusinessObject");b=g?e.__oService.updateOnBO(r,g):e.__dService.update(r,r)}else if(t.sbo.app.task.taskUtil.GettaskParam("page")&&t.sbo.app.task.taskUtil.GettaskParam("page").id)b=e.__oService.convertTaskFromPage(r,t.sbo.app.task.taskUtil.GettaskParam("page").id);else{delete r.id;var g=e.__oModel.getValue("details/value/relatedBusinessObject");g||(g=null),b=r.type==t.sbo.app.task.taskUtil.AuthorizedApprovalType?e.__oService.createAuthorizedApproval(r,g):e.__oService.createOnBO(r,g)}return t.util.showLoading(),$.when(b).done(function(){r.id&&""!=r.id?t.sbo.app.task.taskUtil.handleSuccess("edit"):t.sbo.app.task.taskUtil.handleSuccess("add"),t.sbo.app.task.taskUtil.GettaskParam("page")&&window.SboShell.backwardView(),e.closetaskDialog()}).fail(function(e){t.sbo.app.task.taskUtil.handleError(e)}).always(function(){t.util.hideLoading()}),!1},chooseAssignee:function(){if(e.__oModel.getValue("details/Mode")==t.sbo.app.task.taskUtil.viewMode){var o=e.__oModel.getValue("details/value/assignee"),a="phone"==window.SboShell.callFeatureMethod("shell.getDeviceType")?"phone":"pad";o==window.SboShell.getData("user.employeeID")?window.SboShell.gotoView(t.sbo.app.task.taskUtil.Stringformat("sap.sbo.page.{0}.Home",[a])):window.SboShell.gotoView(t.sbo.app.task.taskUtil.Stringformat("sap.sbo.page.{0}.colleague.ColleagueHome",[a]),[{keyName:"employeeID",keyValue:o}])}else window.SboShell.openFrame({view:"sap.sbo.chooseList.phone.ChooseListEmployee",type:"right",width:400,height:600,callback:function(t,o){"select"===t&&(e.__oModel.setValue("details/value/assignee",o.employeeID),e.__oModel.setValue("details/value/assigneeDisplayName",o.displayName),e.SetUserImage(o.employeeID))}})},__fActionButtonClicked:function(o){var a=e.__oModel.getValue("details/value/type");switch(o){case"Save":e.save();break;case"Cancel":e.cancelCss();break;case"Edit":e.editCss();break;case"Mark As Done":case"Reopen":e.asDone(o);break;case"Approve":a==t.sbo.app.task.taskUtil.ApprovalType?$.when(window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/task/APPROVEREQUEST"),"question",[{key:"yes",text:t.sbo.localization.Helper.get("common/YES")},{key:"no",text:t.sbo.localization.Helper.get("common/CANCEL")}])).done(function(t){"yes"===t&&e.asDone(t)}):e.asDone(o);break;case"Reject":a==t.sbo.app.task.taskUtil.ApprovalType?$.when(window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/task/REJECTREQUEST"),"question",[{key:"yes",text:t.sbo.localization.Helper.get("common/YES")},{key:"no",text:t.sbo.localization.Helper.get("common/CANCEL")}])).done(function(t){"yes"===t&&e.asDone(t)}):e.asDone(o);break;case"GREAD":e.asDone(o);break;case"Delete":e.deletetask();break;default:}},uploadCompleted:function(o){var a=e.__oModel.getValue("details/value/taskAttachments");a||(a=[]);var i=a.length,s=e.__oModel.getValue("details/value");a.splice(i,0,{attachmentId:o,attachmentFileName:e.__uploadFileName,previewUrl:t.sbo.app.task.taskUtil.previewUrlBytaskInfo(void 0,o,s.relatedBusinessObject)}),e.__oModel.setValue("details/value/taskAttachments",a),e.__uploadFileName=""},SetTargetId:function(o){var a=$("#"+e.__ChooseListID);o==t.sbo.app.task.taskUtil.viewMode||void 0==o?a.getControl().setOption("targetid",""):a.getControl().setOption("targetid",this.__TypeImageId)},setTextAreaPointer:function(){try{var t=e.$(".myTextArea")[0];if(t){t.focus();var o=t.value.length;t.selectionStart=o,t.selectionEnd=o}}finally{}},RepeatCss:function(){if(!this.getOption("data"))return e.refreshScroll(),void 0;var o=this.getOption("data");e.$("#AttachText").height(),e.$("div[data-sfa-class = 'attachPreviewIcon']").height();var a=0;o&&(a=Math.ceil(o.length/2)),e.__oModel.getValue("details/Mode")==t.sbo.app.task.taskUtil.viewMode?e.$(".taskAttachmentRemoveImage").hide():e.$(".taskAttachmentRemoveImage").show();var i=e.$("div[data-sfa-class='taskAttach']");i.each(function(){var e=parseInt($(this).attr("index")),t=o.length;1==e%2?$(this).addClass("NoBorderRight"):$(this).removeClass("NoBorderRight"),e==t-1||e==t-2&&0==t%2?$(this).addClass("NoBorderBottom"):$(this).removeClass("NoBorderBottom")}),e.refreshScroll()},deletetask:function(){$.when(window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/task/REMOVEQUE"),"question",[{key:"yes",text:t.sbo.localization.Helper.get("common/DELETE")},{key:"no",text:t.sbo.localization.Helper.get("common/CANCEL")}])).done(function(o){if("yes"===o){t.util.showLoading();var a=e.getOption("taskID");$.when(e.__dService["delete"]({id:a})).done(function(){e.closetaskDialog()}).fail(function(e){t.sbo.app.task.taskUtil.handleError(e)}).always(function(){t.util.hideLoading()})}})},__fActivitiesDialogRendered:function(){}})},destroy:function(){},initForAuthorizedApprovalStyle:function(){this.$("div[data-sfa-class = 'taskSetting']").hide(),this.$("div[data-sfa-class = 'taskAttachment']").css("top",0),this.$(".sap-sbo-app-task-mediaBar").hide()},settaskEntityDefaultValue:function(){var e=this.__taskEntityDefaultValue;if(void 0==this.getOption("taskID")||""==this.getOption("taskID")){e.details.Mode=t.sbo.app.task.taskUtil.addMode,e.details.value.id="";var o=new Date,a=o.getTimezoneOffset();if(o.setTime(o.getTime()+6e4*a+6e4*t.sbo.app.task.taskUtil.taskDateAddMinutes),o="/Date("+o.getTime()+")/",e.details.value.endDate=o,e.details.value.assigneeDisplayName=window.SboShell.getData("user.name"),e.details.value.creatorDisplayName=window.SboShell.getData("user.name"),e.details.value.relatedBusinessObject=this.getOption("boEntityKey"),this.getOption("boEntityKey")&&this.getOption("boEntityKey").boEntityKey&&(e.details.value.relatedBusinessObject=this.getOption("boEntityKey").boEntityKey),e.details.value.relatedBOInfo=this.getOption("boEntityKey"),e.details.value.assignee=window.SboShell.getData("user.employeeID"),t.sbo.app.task.taskUtil.GettaskParam("page")){t.sbo.app.task.taskUtil.GettaskParam("page").text&&(e.details.value.description=t.sbo.app.task.taskUtil.GettaskParam("page").text);var i=t.sbo.app.task.taskUtil.GettaskParam("page").pageAttachments;if(i){for(var s=[],n=0;i.length>n;n++){var r={};r.attachmentId=i[n].attachmentId,r.attachmentFileName=i[n].attachmentFileName,r.attachmentFileSize=i[n].attachmentFileSize,r.attachmentMimeType=i[n].attachmentMimeType,r.previewUrl=i[n].previewUrl,s.push(r)}e.details.value.taskAttachments=s}}}else e.details.value.id=this.getOption("taskID"),e.details.value.relatedBusinessObject=this.getOption("boEntityKey"),this.getOption("boEntityKey")&&this.getOption("boEntityKey").boEntityKey&&(e.details.value.relatedBusinessObject=this.getOption("boEntityKey").boEntityKey),e.details.Mode=t.sbo.app.task.taskUtil.viewMode;e.direction=void 0!==window.isPhone?"vertical":"horizontal";var l=t.sbo.app.task.taskUtil.GettaskParam("DataOwnershipRequest");l&&(e.details.value.type=t.sbo.app.task.taskUtil.AuthorizedApprovalType,e.details.value.id=void 0,e.details.value.relatedBusinessObject=this.getOption("boEntityKey")),this.setOption("taskEntity",e)},initView:function(){var o=$.Deferred(),a=this;a.setTitle({title:t.sbo.localization.Helper.get("app/task/TASK")}),a.settaskEntityDefaultValue();var i=a.getOption("taskEntity");this.$(".TypeImage").attr("id",this.__TypeImageId),this.$(".chooseList").attr("id",this.__ChooseListID),this.__oModel=new t.core.JsonModel({}),this.$().setModel(this.__oModel),this.__oModel.setValue("",i),window.SboShell.attachEvent("actionButtonClick",this.__fActionButtonClicked),this.$().process(e),o.resolve(),this.$().find(".sap-sbo-app-task-mediaBar").getControl().attachEvent("uploadFailed",this.uploadFailed),this.$().find(".sap-sbo-app-task-mediaBar").getControl().attachEvent("afterPick",this.fileSelected),this.$().find(".sap-sbo-app-task-mediaBar").getControl().attachEvent("uploadComplete",this.uploadCompleted),a.$('A[data-sfa-class = "taskDelete"]').on("vclick",a.deletetask),a.$('img[data-sfa-class = "removeImg"]').on("vclick",a.removeBoDesc),a.$(".myTextArea").on("input",a.textAreaChange),a.$(".sap-sbo-link-bo").on("vclick",a.linktoBo),this.$().on("vclick",'div[data-sfa-class="taskAttach"]',this.__fFileOnClick),this.$().on("vclick",'div[data-sfa-class = "AssigneeCode"]',this.chooseAssignee),a.$(".taskContainer").getControl().attachEvent("afterUpdate",this.RepeatCss),$("#"+this.__ChooseListID).getControl().attachEvent("onSelected",this.chooseListSelected);var s=this.__oModel.getValue("details/Mode");return s==t.sbo.app.task.taskUtil.addMode&&(this.setTextAreaPointer(),this.AddActionButton(!0,!1),this.SetUserImage({},!0)),a.SetTargetId(a.__oModel.getValue("details/Mode")),i.details.value.type!=t.sbo.app.task.taskUtil.AuthorizedApprovalType||i.details.value.id||this.initForAuthorizedApprovalStyle(),$(".sap-sbo-phone-native-shell-content").addClass("sap-sbo-app-task-shell"),this.enableScroll(),o.promise()},AddUploadIcon:function(){var e={};e.Id=t.sbo.app.task.taskUtil.__SystemImageId,e.attachmentId=t.sbo.app.task.taskUtil.__SystemImageId;var o=this.__oModel.getValue("details/value/taskAttachments");o instanceof Array||(o=[]),o.push(e),this.__oModel.setValue("details/value/taskAttachments",o)},AddActionButton:function(e,o){if(e&&(window.SboShell.addTopButtons([{text:t.sbo.localization.Helper.get("common/CANCEL"),key:"Cancel"},{text:t.sbo.app.task.taskUtil.SavedText(this.getOption("taskEntity").details.value.type),key:"Save"}]),this.$().find(".sap-sbo-app-task-mediaBar").show(),this.setTitle({title:""})),o){var a=this.__oModel.getValue("details/value/type"),i=this.__oModel.getValue("details/value/assignee"),s=this.__oModel.getValue("details/value/creationUserID"),n=t.sbo.app.task.taskUtil.IsDifferentUserExceptKeyUser(i,"assignee")&&t.sbo.app.task.taskUtil.IsDifferentUserExceptKeyUser(s,"creationUserId"),r=this.__oModel.getValue("details/value/status");a==t.sbo.app.task.taskUtil.ApprovalType?t.sbo.app.task.taskUtil.IsDifferentAssignee(i)||r!=t.sbo.app.task.taskUtil.NotCompleteStatus||window.SboShell.addActionButtons([{text:t.sbo.localization.Helper.get("app/task/APPROVE"),key:"Approve"},{text:t.sbo.localization.Helper.get("app/task/REJECT"),key:"Reject"}],this):a==t.sbo.app.task.taskUtil.AuthorizedApprovalType?t.sbo.app.task.taskUtil.IsDifferentAssignee(i)||r!=t.sbo.app.task.taskUtil.NotCompleteStatus||window.SboShell.addActionButtons([{text:t.sbo.localization.Helper.get("app/task/GFULLACCESS"),key:"Approve"},{text:t.sbo.localization.Helper.get("app/task/GREADACCESS"),key:"GREAD"},{text:t.sbo.localization.Helper.get("app/task/REJECTREQUESTACCESS"),key:"Reject"}],this):r==t.sbo.app.task.taskUtil.CompleteStatus?n||window.SboShell.addActionButtons([{text:t.sbo.localization.Helper.get("app/task/REOPEN"),key:"Reopen"}],this):n?window.SboShell.addActionButtons([{text:t.sbo.localization.Helper.get("common/EDIT"),key:"Edit"},{text:t.sbo.localization.Helper.get("common/DELETE"),key:"Delete"}],this):window.SboShell.addActionButtons([{text:t.sbo.localization.Helper.get("app/task/TODONE"),key:"Mark As Done"},{text:t.sbo.localization.Helper.get("common/EDIT"),key:"Edit"},{text:t.sbo.localization.Helper.get("common/DELETE"),key:"Delete"}],this)}},destroyView:function(){this.__oService=null,this.__dService=null,this.__aService=null,window.SboShell.detachEvent("actionButtonClick",this.__fActionButtonClicked),this.$().find(".sap-sbo-app-task-mediaBar").getControl().detachEvent("uploadFailed",this.uploadFailed),this.$().find(".sap-sbo-app-task-mediaBar").getControl().detachEvent("afterPick",this.fileSelected),this.$().find(".sap-sbo-app-task-mediaBar").getControl().detachEvent("uploadComplete",this.uploadCompleted),this.$('A[data-sfa-class = "taskDelete"]').off("vclick",this.deletetask),this.$(".sap-sbo-link-bo").off("vclick",this.linktoBo),this.$('img[data-sfa-class = "removeImg"]').off("vclick",this.removeBoDesc),this.$(".myTextArea").off("input",this.textAreaChange),$("#"+this.__ChooseListID).getControl().detachEvent("onSelected",this.chooseListSelected),$("#"+this.__ChooseListID).empty(),this.$().off("vclick",'div[data-sfa-class="taskAttach"]',this.__fFileOnClick),this.$().off("vclick",'div[data-sfa-class = "AssigneeCode"]',this.chooseAssignee),this.$(".taskContainer").getControl().detachEvent("afterUpdate",this.RepeatCss),this.setOption("page",void 0),this.__destroyDialog(),$(".sap-sbo-phone-native-shell-content").removeClass("sap-sbo-app-task-shell"),this.$().unprocess()},update:function(e){e.taskID&&this.__RefreshCurrenttask(),this.setTextAreaPointer()},resize:function(){}},Protected:{__destroyDialog:function(){},__RefreshCurrenttask:function(){var e=this.getOption("taskID");e&&this.__load(e)},__load:function(o){var a=this,i=void 0;t.util.showLoading();var s=a.__oModel.getValue("details/value/relatedBusinessObject"),n=a.getOption("originalBoEntityKey");i=s&&n?this.__oService.getTaskUnderBO(o,s):this.__dService.get({id:o}),$.when(i).done(function(o){if(o){t.sbo.app.task.taskUtil.formattask(o,a.getOption("originalBoEntityKey")),t.sbo.app.task.taskUtil.processAttahcmentUrl(o),a.__oModel.setValue("details/value",o);var i=t.sbo.page.common.notepage.NotePageUtil.convertAtContent(o.toAnalyzeFunction,o.description);a.__oModel.setValue("richMediaText",i.text),a.__oModel.setValue("richTextTargets",i.richTextTargets),a.$('div[data-sfa-class="textDivLabel"]').process(e),a.AddActionButton(!1,!0),a.SetUserImage(o.assignee)}}).fail(function(e){t.sbo.app.task.taskUtil.handleError(e)}).always(function(){t.util.hideLoading()})}},Static:{}})}),define("sap.sbo.page.phone.task.taskList",["sap.ui.Controller","sap.sbo.ui.PageController","sap.ui.widget.TextField","sap.sbo.layout.TileViewController","sap.log","sap.util","sap.core.JsonModel","sap.ui.widget.Button","sap.ui.widget.Checkbox","sap.core.klass","sap.sbo.shell.IFeaturable","sap.ui.Repeat","sap.ui.widget.Icon","sap.core.ArrayListSource","sap.sbo.app.task.taskListSource","sap.sbo.compoundservices.TasksService","sap.sbo.services.TasksService","sap.sbo.app.task.taskUtil","sap.util","sap.ui.common","sap.sbo.localization.Helper","sap.core.ListSourceFilter","sap.sbo.layout.phone.ListLayout","css!sap.sbo.page.phone.task.taskList"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.PageController,Options:{taskID:{type:"string",defaultValue:""},page:{type:"any",defaultValue:void 0},filterKey:{type:"string",defaultValue:"opened"},__FilterType:{type:"string",defaultValue:"assignee"},UserAggregation:{type:"string",defaultValue:"false"},data:{}},Public:{init:function(){t.sbo.ui.PageController.prototype.init.apply(this,arguments);var e=this;t.core.klass.declareMember(this,{__oModel:new t.core.JsonModel({activities:{value:[]}}),__oService:new t.sbo.compoundservices.TasksService,__dService:new t.sbo.services.TasksService,__uService:t.sbo.app.task.taskUtil,__bToAdd:!1,__$dialog:null,__$addButton:null,__btaskUpdated:!1,__oCurrentTileModel:null,__itaskCount:0,__AppendFilterDiv:void 0,__boEntityKey:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo").storeParam.boEntityKey,__detailViewInfo:"sap.sbo.page.phone.task.taskDialog",__fBeforeDialogClose:function(){e.__GetFiltertask()},__fTileOnClick:function(t){e.__opentaskDialog(t)},__GetFiltertask:function(){e.setEmptyText(),e.executeFilter()},__opentaskDialog:function(t){var o=t.id,a=t.relatedBusinessObject;a||(a=e.__boEntityKey),window.SboShell.gotoView(e.__detailViewInfo,{boEntityKey:a,taskID:o},{originalBoEntityKey:e.__boEntityKey})},__fCompleteOnClick:function(o){var a=$(o.currentTarget).attr("id"),i="",s="";switch(a){case"taskCK":s=$(this).parent().parent().parent().getModel().getValue("type"),i=$(this).parent().parent().parent().getModel().getValue("status"),i=i==t.sbo.app.task.taskUtil.NotCompleteStatus?t.sbo.app.task.taskUtil.CompleteStatus:t.sbo.app.task.taskUtil.NotCompleteStatus;break;case"Approve":i=t.sbo.app.task.taskUtil.CompleteStatus;break;case"Reject":i=t.sbo.app.task.taskUtil.RejectStatus;break;case"ApproveReadOnly":i=t.sbo.app.task.taskUtil.GrantReadStatus}return e.__Completedtask($(this).parent().parent().parent().getModel().getValue("id"),$(this).parent().parent().parent().getModel(),i),!1},__OpentaskDialog:function(){e.__opentaskDialog({})},__fActionButtonClicked:function(t){switch(t){case"add":e.__OpentaskDialog({});break;default:}},__Filtertask:function(o){var a=t.ui.common.getStaticContainer(),i=$(".filtertaskDIV");(1>=i.length||!e.__AppendFilterDiv)&&(e.__AppendFilterDiv=$(i[0]).clone().appendTo(a));var s=$(o.currentTarget);s.offset(),e.__AppendFilterDiv.css("position","absolute");var n=$(window.SboShell.__subClassSelector("head"));return e.__AppendFilterDiv.css("top",n.offset().top+n.height()+20),e.__AppendFilterDiv.css("left",20),e.__AppendFilterDiv.addClass("sap-sbo-task-list-filter"),e.__boEntityKey?"BusinessPartner"===e.__boEntityKey.boName?($(".filtertaskDIV").height(290),$(".myFilter").hide(),$(".boFilter").hide(),$(".customerFilter").show()):($(".filtertaskDIV").height(220),$(".myFilter").hide(),$(".customerFilter").hide(),$(".boFilter").show()):($(".filtertaskDIV").height(290),$(".myFilter").show(),$(".boFilter").hide(),$(".customerFilter").hide()),e.__AppendFilterDiv.show(),$(".filterText").on("vclick",e.SetExecuteFilterOption),!1},__HideFiltertask:function(t){t&&"resize"===t.type&&e.__AppendFilterDiv&&e.__AppendFilterDiv.hide(),e.__AppendFilterDiv&&e.__AppendFilterDiv.fadeOut("normal")},executeFilter:function(){var t=e.getOption("filterKey");switch(t){case"all":e.__getAllActivities();break;case"opened":e.__getOpentask();break;case"finished":e.__getFinishedtask();break;default:}},SetExecuteFilterOption:function(t){var o=$(t.currentTarget),a=o.attr("data-filter");switch(a){case"bo_all":e.setOption("filterKey","all"),e.setOption("UserAggregation","false");break;case"toMe_all":e.setOption("__FilterType","assignee"),e.setOption("filterKey","all"),e.setOption("UserAggregation","false");break;case"fromMe_all":e.setOption("__FilterType","creationUserID"),e.setOption("filterKey","all"),e.setOption("UserAggregation","false");break;case"bo_opened":e.setOption("filterKey","opened"),e.setOption("UserAggregation","false");break;case"toMe_opened":e.setOption("__FilterType","assignee"),e.setOption("filterKey","opened"),e.setOption("UserAggregation","false");break;case"fromMe_opened":e.setOption("__FilterType","creationUserID"),e.setOption("filterKey","opened"),e.setOption("UserAggregation","false");break;case"bo_done":e.setOption("filterKey","finished"),e.setOption("UserAggregation","false");break;case"toMe_done":e.setOption("__FilterType","assignee"),e.setOption("filterKey","finished"),e.setOption("UserAggregation","false");break;case"fromMe_done":e.setOption("__FilterType","creationUserID"),e.setOption("filterKey","finished"),e.setOption("UserAggregation","false");break;case"all_aggregation":e.setOption("UserAggregation","true"),e.setOption("filterKey","all");break;default:}return e.SetTouchFilterCss(a),e.__GetFiltertask(),e.__HideFiltertask(),$(".filterText").off("vclick",e.SetExecuteFilterOption),!1}})},SetTouchFilterCss:function(e){var t=$(".filtertaskDIV");t&&(t.find("div[data-filter]").removeClass("sap-sbo-app-task-list-focus"),t.find("div[data-filter = '"+e+"']").addClass("sap-sbo-app-task-list-focus"))},destroy:function(){},initView:function(){var o=$.Deferred(),a=void 0!==window.isPhone?"vertical":"horizontal";return this.__oModel.setValue("",{direction:a}),this.$().setModel(this.__oModel),this.__GetFiltertask(),this.$().process(e),$(".filtertaskDIV").find("div[data-filter $=opened]").addClass("sap-sbo-app-task-list-focus"),this.setEmptyText(),o.resolve(),this.adaptTitleForListView(this.__Filtertask),window.SboShell.attachEvent("headerFilterClicked",this.__fActionButtonClicked),window.SboShell.attachEvent("actionButtonClick",this.__fActionButtonClicked),window.SboShell.addActionButtons([{text:t.sbo.localization.Helper.get("app/task/ADD"),key:"add"}],this),this.$(".sbo-list-layout-content").on("vclick",'div[id = "taskCK"]',this.__fCompleteOnClick),this.$(".sbo-list-layout-content").on("vclick",'div[data-sfa-class = "Approve"]',this.__fCompleteOnClick),this.$(".sbo-list-layout-content").on("vclick",'div[data-sfa-class = "Reject"]',this.__fCompleteOnClick),this.$(".sbo-list-layout-content").on("vclick",'div[data-sfa-class = "ApproveReadOnlyInList"]',this.__fCompleteOnClick),this.$("#taskListLayout").getControl().attachEvent("itemClick",this.__fTileOnClick),this.$("#taskListLayout").getControl().attachEvent("create",this.__OpentaskDialog),this.addBodyEventListener(),o.promise()},addBodyEventListener:function(){var e=window.SboShell.callFeatureMethod("shell.getDeviceType"),t=navigator.userAgent,o=null!==t.match(/iPad/i);o||"phone"==e?window.document.addEventListener("touchstart",this.__HideFiltertask,!1):(window.document.addEventListener("mousedown",this.__HideFiltertask,!1),window.document.addEventListener("mousewheel",this.__HideFiltertask,!1),window.document.addEventListener("DOMMouseScroll",this.__HideFiltertask,!1))},setEmptyText:function(){var e=this.$(".sap-sbo-app-task-list-view").getControl();if(e){var o=this.getOption("filterKey"),a=this.getOption("__FilterType"),i=this.getOption("UserAggregation");if("true"==i)return e.setOption("emptyTexts",[t.sbo.localization.Helper.get("app/task/NOTRELATEDTASKS")]),void 0;if("creationUserID"==a)return e.setOption("emptyTexts",[t.sbo.localization.Helper.get("app/task/NOTSENTTASKS")]),void 0;switch(o){case"all":return e.setOption("emptyTexts",[t.sbo.localization.Helper.get("app/task/TASKEMPTYINFO"),t.sbo.localization.Helper.get("app/task/TASKEMPTYCREATEINFO")]),void 0;case"opened":return e.setOption("emptyTexts",[t.sbo.localization.Helper.get("app/task/NOTOPENTASKS")]),void 0;case"finished":return e.setOption("emptyTexts",[t.sbo.localization.Helper.get("app/task/NOTCOMPLETETASKS")]),void 0;default:return}}},removeBodyEventListener:function(){var e="pad"===window.SboShell.callFeatureMethod("shell.getDeviceType"),t=window.SboShell.callFeatureMethod("shell.getDeviceType");e||"phone"==t?window.document.removeEventListener("touchstart",this.__HideFiltertask,!1):(window.document.removeEventListener("mousedown",this.__HideFiltertask,!1),window.document.removeEventListener("mousewheel",this.__HideFiltertask,!1),window.document.removeEventListener("DOMMouseScroll",this.__HideFiltertask,!1),window.removeEventListener("resize",this.__HideFiltertask,!1))},destroyView:function(){window.SboShell.detachEvent("actionButtonClick",this.__fActionButtonClicked),window.SboShell.detachEvent("headerFilterClicked",this.__fActionButtonClicked),this.removeBodyEventListener(),window.SboShell.resetTitle(),window.SboShell.setHeaderFilters([]),this.__AppendFilterDiv&&this.__AppendFilterDiv.remove(),this.$(".sbo-list-layout-content").off("vclick",'div[id = "taskCK"]',this.__fCompleteOnClick),this.$(".sbo-list-layout-content").off("vclick",'button[data-sfa-class = "Approve"]',this.__fCompleteOnClick),this.$(".sbo-list-layout-content").off("vclick",'button[data-sfa-class = "Reject"]',this.__fCompleteOnClick),this.$(".sbo-list-layout-content").off("vclick",'div[data-sfa-class = "ApproveReadOnlyInList"]',this.__fCompleteOnClick),this.setOption("filterKey","opened"),this.setOption("__FilterType","assignee"),this.setOption("UserAggregation","fasle"),this.$("#taskListLayout").getControl().detachEvent("itemClick",this.__fTileOnClick),this.$("#taskListLayout").getControl().detachEvent("create",this.__OpentaskDialog),this.$().unprocess(),this.__oCurrentTileModel&&(this.__oCurrentTileModel=null),this.__oModel.destroy(),this.__oModel=null},update:function(){}},Protected:{__Completedtask:function(e,o,a){var i=this;t.util.showLoading(),$.when(i.__uService.SettaskStatus(e,a,o.getValue("type"))).done(function(){o.setValue("status",a),t.sbo.app.task.taskUtil.handleSuccess("edit")}).fail(function(e){t.sbo.app.task.taskUtil.handleError(e)}).always(function(){t.util.hideLoading()})},__GettaskByStatus:function(e){this.__oModel.setValue("filter",new t.core.ListSourceFilter("(`status`= '"+e+"')"));var o=new t.sbo.app.task.taskListSource({boEntity:this.__boEntityKey,filterType:this.getOption("__FilterType"),UserAggregation:this.getOption("UserAggregation")});
this.__oModel.setValue("list",o)},__getFinishedtask:function(){this.__GettaskByStatus(t.sbo.app.task.taskUtil.CompleteStatus)},__getOpentask:function(){this.__GettaskByStatus(t.sbo.app.task.taskUtil.NotCompleteStatus)},__getAllActivities:function(){this.__GettaskByStatus(t.sbo.app.task.taskUtil.AllStatus)}},Static:{}})}),define("sap.sbo.page.phone.user.BasicInfo",["sap.sbo.ui.FrameViewController","sap.ui.Controller","sap.core.JsonModel","sap.core.klass","sap.sbo.services.UserEmployeesService","sap.ui.View","sap.util","sap.sbo.util.formatter","sap.sbo.localization.Helper","json!sap.sbo.util.enums","sap.ui.widget.Photo","css!sap.sbo.page.phone.user.BasicInfo"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={__convertCheckboxStatus:function(t){return t==e.json.sap.sbo.util.enums.bool.Yes?!0:!1}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Public:{init:function(){t.sbo.ui.FrameViewController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{__oService:new t.sbo.services.UserEmployeesService,_mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),__oModel:new t.core.JsonModel({}),__fActionButtonClickedProxy:$.proxy(this.__actionBtnClick,this),__oIScroll:null})},destroy:function(){this.__oService.destroy(),this.__oService=null,this._mViewInfo=null,this.__oModel=null},initView:function(){t.util.showLoading();var o=this;if(null!=this._mViewInfo&&null!=this._mViewInfo.storeParam&&this._mViewInfo.storeParam.length>0){var a=$.Deferred();return $.when(o.__oService.query({filter:"employeeID eq '"+this._mViewInfo.storeParam[0].keyValue+"'"})).done(function(i){null!=i&&null!=i.value&&i.value.length>0&&(i=i.value[0]),o._mViewInfo.storeParam[0]={keyName:"employeeID",keyValue:i.employeeID},o.__oModel.setValue("",i),o.$().setModel(o.__oModel),o.setTitle({title:i.displayName}),$.when(o.$().process(e)).done(function(){o.__oIScroll=o.autoDestroy(new iScroll(o.$(".user_employee")[0],{vScroll:!0,hScroll:!1,hideScrollbar:!0,fadeScrollbar:!0,onScrollMove:function(){},onScrollEnd:function(){}})),o.__oIScroll.refresh()});var s=Number(o._mViewInfo.storeParam[0].keyValue)==Number(window.SboShell.getData("user.employeeID"));s&&(window.SboShell.addActionButtons([{key:"edit",text:t.sbo.localization.Helper.get("page/button/edit")},{key:"cgPsw",text:t.sbo.localization.Helper.get("page/user/btnCgPsw")},{key:"logout",text:t.sbo.localization.Helper.get("common/LOGOUT")}],o),window.SboShell.attachEvent("actionButtonClick",o.__fActionButtonClickedProxy)),a.resolve()}).fail(function(e){a.reject(e)}).always(function(){t.util.hideLoading()}),a.promise()}},destroyView:function(){var e=Number(this._mViewInfo.storeParam[0].keyValue)==Number(window.SboShell.getData("user.employeeID"));e&&(window.SboShell.removeActionButtons(["edit","cgPsw","logout"]),window.SboShell.detachEvent("actionButtonClick",this.__fActionButtonClickedProxy)),this.$().unprocess()},update:function(){},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"UserEmployee",keyElements:this._mViewInfo.storeParam}},getService:function(){return this._oService},getPropertyTemplate:function(){return generalPropertyHtml}},Protected:{__cgPsdBtnClick:function(){var e=this;window.SboShell.openFrame({view:"sap.sbo.app.user.phone.ChangeMyPassword",type:"center",width:640,height:540,options:{employeeID:e._mViewInfo.storeParam[0].keyValue},callback:function(){}})},__actionBtnClick:function(e){var t=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo");switch(e){case"edit":window.SboShell.gotoView("sap.sbo.page.phone.user.Edit",t.storeParam);break;case"cgPsw":this.__cgPsdBtnClick()}}}})}),define("sap.sbo.page.phone.user.Edit",["sap.sbo.ui.FrameViewController","sap.sbo.services.BaseService","sap.ui.Controller","sap.core.JsonModel","sap.core.klass","sap.sbo.services.UserEmployeesService","sap.sbo.compoundservices.AttachmentService","sap.ui.View","sap.util","sap.sbo.util.formatter","sap.sbo.ui.widget.PhotoPicker","sap.core.ListSourceFilter","sap.sbo.ui.widget.UploadButton","sap.sbo.localization.Helper","json!sap.sbo.util.enums","sap.ui.widget.Photo","css!sap.sbo.page.phone.user.Edit"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={__convertCheckboxStatus:function(t){return t==e.json.sap.sbo.util.enums.bool.Yes?!0:!1}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{__oService:new t.sbo.services.UserEmployeesService,_mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),__oModel:new t.core.JsonModel({}),__onUploadedProxy:$.proxy(this.__onUploaded,this),__onPortraitClickProxy:$.proxy(this.__onPortraitClick,this),__fActionButtonClickedProxy:$.proxy(this.__actionBtnClick,this),__oAttachmentService:this.autoDestroy(new t.sbo.compoundservices.AttachmentService),__updateData:null,__oIScroll:null})},destroy:function(){this.__oService.destroy(),this.__oService=null,this._mViewInfo=null,this.__oModel=null},initView:function(){t.util.showLoading();var o=this;if(o.setTitle(""),this.$(".btnPanel").append($("<div>",{"data-sbo-class":"camera-picker","data-sap-widget":"sap.sbo.ui.widget.PhotoPicker","data-sap-option":"resourcetype: 'camera', text: '"+t.sbo.localization.Helper.get("page/pad/postFeed/btnCamera")+"'"})).append($("<div>",{"data-sbo-class":"photo-picker","data-sap-widget":"sap.sbo.ui.widget.PhotoPicker","data-sap-option":"resourcetype: 'album', text: '"+t.sbo.localization.Helper.get("page/pad/postFeed/btnAlbum")+"'"})),null!=this._mViewInfo&&null!=this._mViewInfo.storeParam&&this._mViewInfo.storeParam.length>0){var a=$.Deferred();return $.when(o.__oService.get({employeeID:this._mViewInfo.storeParam[0].keyValue})).done(function(i){o.__oModel.setValue("",i),o.$().setModel(o.__oModel),$.when(o.$().process(e)).done(function(){o.__oIScroll=o.autoDestroy(new iScroll(o.$(".user_employee")[0],{vScroll:!0,hScroll:!1,hideScrollbar:!0,fadeScrollbar:!0,onScrollMove:function(){},onScrollEnd:function(){},onBeforeScrollStart:function(e){return $(e.target).is("input")?!0:void 0}})),o.__oIScroll.refresh(),o.$("#portrait_img").on("vclick",o.__onPortraitClickProxy)}),o.$('div[data-sbo-class="camera-picker"]').getControl().attachEvent("uploadComplete",o.__onUploadedProxy),o.$('div[data-sbo-class="photo-picker"]').getControl().attachEvent("uploadComplete",o.__onUploadedProxy),window.SboShell.addTopButtons([{key:"cancel",text:t.sbo.localization.Helper.get("app/network/btnCancel")},{key:"save",text:t.sbo.localization.Helper.get("page/button/save")}],o),window.SboShell.attachEvent("actionButtonClick",o.__fActionButtonClickedProxy),o.$("#manager_txt").on("vclick",function(){window.SboShell.openFrame({view:"sap.sbo.chooseList.phone.ChooseListEmployee",options:{filter:new t.core.ListSourceFilter("([employeeID] != "+o._mViewInfo.storeParam[0].keyValue+")")},type:"right",callback:function(e,t){"select"===e&&(o.$("#manager_hidden").val(t.employeeID),o.$("#manager_txt").val(t.displayName))}})}),a.resolve()}).fail(function(e){a.reject(e)}).always(function(){t.util.hideLoading()}),a.promise()}},destroyView:function(){window.SboShell.removeTopButtons(["cancel","save"]),window.SboShell.detachEvent("actionButtonClick",this.__fActionButtonClickedProxy),this.$("#portrait_img").off("vclick",this.__onPortraitClickProxy),this.$("#manager_txt").off("vclick"),this.$().unprocess()},update:function(){},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"UserEmployee",keyElements:this._mViewInfo.storeParam}},getService:function(){return this._oService},getPropertyTemplate:function(){return generalPropertyHtml}},Protected:{__onUploaded:function(e){e&&this._mViewInfo.storeParam[0].keyValue>0&&(this.__oAttachmentService.uploadEmployeePortrait(this._mViewInfo.storeParam[0].keyValue,e),t.sbo.services.BaseService.documentbase+"file/open/"+e,this.__oModel.setValue("portraitId",e))},__inputValidation:function(){return this.__updateData={firstName:this.$().find("#firstName").val(),jobTitle:this.$().find("#jobTitle").val(),lastName:this.$().find("#lastName").val(),mobilePhone:this.$().find("#mobilePhone").val(),officeExtension:this.$().find("#officeExtension").val(),officePhone:this.$().find("#officePhone").val(),manager:this.$("#manager_hidden").val()},!0},__onPortraitClick:function(){this.$(".btnPanel").toggle()},__actionBtnClick:function(e){var o=this;switch(e){case"save":if(t.util.showLoading(),0==o.__inputValidation())return;$.when(o.__oService.action_updateUserEmployee({employeeID:o._mViewInfo.storeParam[0].keyValue},o.__updateData)).done(function(){window.SboShell.backwardView()}).fail(function(){}).always(function(){t.util.hideLoading()});break;case"cancel":var a=o.__oModel.getValue("");window.SboShell.gotoView("sap.sbo.page.phone.user.BasicInfo",[{keyName:"userCode",keyValue:a.employeeID}])}}}})}),define("sap.sbo.page.phone.Customer.AddressTile",["sap.ui.Controller","sap.sbo.localization.Helper","sap.core.JsonModel","sap.sbo.page.phone.ContentTileViewController","sap.sbo.services.BusinessPartnersService","css!sap.sbo.page.phone.Customer.AddressTile"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={goldenImage:function(e){return e?"<img src='./image/Customer/goldenStar.png'>":void 0}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.phone.ContentTileViewController,Public:{init:function(){t.sbo.page.phone.ContentTileViewController.prototype.init.apply(this,arguments),this.declareMember({__oService:this.autoDestroy(new t.sbo.services.BusinessPartnersService),__modelAddress:this.autoDestroy(new t.core.JsonModel({street:"",block:"",city:"",state:"",country:"",zipCode:"",addressType:"bo_ShipTo",addressName:""}))})},destroy:function(){},initView:function(){var o=$.Deferred(),a=this;return this.$().setModel(this.__modelAddress,"Address"),$.when(t.sbo.page.phone.ContentTileViewController.prototype.initView.apply(this,arguments)).done(function(){for(var t=this.$().findModel(),i=t.getValue("customer"),s=0;i.bPAddresses[s];s++)i.bPAddresses[s].addressName===i.shipToDefault&&"bo_ShipTo"===i.bPAddresses[s].addressType&&(a.__modelAddress.setValue("addressType",i.bPAddresses[s].addressType),a.__modelAddress.setValue("addressName",i.bPAddresses[s].addressName));this.$().process(e),o.resolve()}.bind(this)),o.promise()},destroyView:function(){t.sbo.page.phone.ContentTileViewController.prototype.destroyView.apply(this,arguments)},getTileTitle:function(){return t.sbo.localization.Helper.get("app/contact/ADDRESSES")},getNumberBindingPath:function(){return"customer/bPAddresses/length"},getCreateDesc:function(){return t.sbo.localization.Helper.get("app/customer/ADD_TILE")},on_basic:function(){var e=$(event.target).findModel();window.SboShell.gotoView("sap.sbo.page.phone.Customer.Address.AddressList",{bpCode:e.getValue("customer/cardCode")},{bPAddresses:e.getValue("customer/bPAddresses"),BillToAddressName:e.getValue("customer/billtoDefault"),ShipToAddressName:e.getValue("customer/shipToDefault")})},on_navigate:function(){this.on_basic()},on_create:function(){var e=this,t=$(event.target).findModel(),o={cardCode:t.getValue("customer/cardCode")};e.__oService.get(o).done(function(o){e.__oService.getInitBoNode(o,"Root/bPAddresses").done(function(a){for(var i=a.bPAddresses.length-1;a.bPAddresses[i];i--)null===a.bPAddresses[i].addressName&&(e.__modelAddress.setValue("addressName",a.bPAddresses[i].addressName),e.__modelAddress.setValue("street",a.bPAddresses[i].street),e.__modelAddress.setValue("block",a.bPAddresses[i].block),e.__modelAddress.setValue("city",a.bPAddresses[i].city),e.__modelAddress.setValue("state",a.bPAddresses[i].state),e.__modelAddress.setValue("country",a.bPAddresses[i].country),e.__modelAddress.setValue("zipCode",a.bPAddresses[i].zipCode),e.__modelAddress.setValue("addressType",a.bPAddresses[i].addressType));SboShell.openFrame({view:"sap.sbo.page.phone.Customer.Address.AddressEdit",type:"center",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},height:768,width:480,zindex:2e3,options:{data:e.__modelAddress.getValue(""),shipToDefault:o.shipToDefault,billtoDefault:o.billtoDefault,isNew:!0},callback:function(o,a){if("save"===o){t.getValue("customer/bPAddresses").push(a.data);var i={cardCode:t.getValue("customer/cardCode")},s={};s.bPAddresses=t.getValue("customer/bPAddresses"),e.__oService.update(s,i).done(function(){e.__oService.get(i).done(function(e){window.SboShell.gotoView("sap.sbo.page.phone.Customer.Address.AddressList",{bpCode:e.cardCode},{bPAddresses:e.bPAddresses,BillToAddressName:e.billtoDefault,ShipToAddressName:e.shipToDefault})})})}}})}).fail(function(e){window.SboShell.raiseException(e)})}).fail(function(e){window.SboShell.raiseException(e)})}},Protected:{}})}),define("sap.sbo.page.phone.Customer.BasicTile",["sap.ui.Controller","sap.sbo.localization.Helper","sap.sbo.page.phone.ContentTileViewController","sap.ui.widget.Photo","json!sap.sbo.util.enums","css!sap.sbo.page.phone.Customer.BasicTile"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={string_active:function(o){return o===e.json.sap.sbo.util.enums.bool.Yes?t.sbo.localization.Helper.get("app/appr/ACTIVE"):t.sbo.localization.Helper.get("app/appr/INACTIVE")},string_prospect:function(o){return o===e.json.sap.sbo.util.enums.bool.Yes?t.sbo.localization.Helper.get("app/customer/PROSPECT"):t.sbo.localization.Helper.get("app/customer/CUSTOMER")}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.phone.ContentTileViewController,Public:{init:function(){t.sbo.page.phone.ContentTileViewController.prototype.init.apply(this,arguments),this.declareMember({})},destroy:function(){},initView:function(){var o=$.Deferred();return $.when(t.sbo.page.phone.ContentTileViewController.prototype.initView.apply(this,arguments)).done(function(){this.$().process(e),o.resolve()}.bind(this)),o.promise()},destroyView:function(){t.sbo.page.phone.ContentTileViewController.prototype.destroyView.apply(this,arguments)},getTileTitle:function(){return t.sbo.localization.Helper.get("app/BASIC")},on_basic:function(){var e=$(event.target).findModel();window.SboShell.openFrame({view:"sap.sbo.app.BOProfile.ProfileDetails",type:"center",width:640,height:480,options:{userID:e.getValue("customer/cardCode"),boName:"BusinessPartner"},callback:function(t,o){"refreshAvatar"==t&&o&&e.setValue("Image/url",o)}}),event.stopPropagation()},on_navigate:function(){var e=$(event.target).findModel();window.SboShell.gotoView("sap.sbo.page.phone.Customer.CustomerEdit",[{keyName:"cardCode",keyValue:e.getValue("customer/cardCode")}])}},Protected:{}})}),define("sap.sbo.page.phone.Customer.CustomerCreation",["sap.ui.Controller","sap.core.JsonModel","sap.sbo.page.phone.BoMetadataCreationFrameController","sap.sbo.layout.phone.MetadataList","sap.sbo.services.BusinessPartnersService","sap.sbo.services.BusinessPartnerGroupsService","sap.sbo.services.PriceListsService","sap.sbo.ui.widget.BoStatus","sap.ui.widget.TextField","sap.ui.widget.TextArea","sap.sbo.ui.widget.DateTimeField","sap.sbo.util.formatter","sap.ui.widget.Button","sap.util","sap.ui.widget.ValueHelpField","sap.ui.widget.DropDownBox","sap.sbo.localization.Helper","json!sap.sbo.util.enums","css!sap.sbo.app.template.EditProperty","css!sap.sbo.app.template.DynamicProperty","css!sap.sbo.page.phone.Customer.CustomerCreation"],function(){"use strict";var e=this.getNS(),t=e.sap,o=t.sbo.page.phone.BoMetadataCreationFrameController,a=e.json.sap.sbo.util.enums.bool;return e.formatter={string_null:function(e,t){return"<<"===t?e||"":e},prospect_prospect:function(e){return e===a.Yes?"YES":"NO"},prospect_customer:function(e){return e===a.Yes?"NO":"YES"}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:o,Public:{init:function(){o.prototype.init.apply(this,arguments);var e=this;this.declareMember({_oService:new t.sbo.services.BusinessPartnersService,_cardCodeModel:this.autoDestroy(new t.core.JsonModel({cardCode:""})),__oListModel:this.autoDestroy(new t.core.JsonModel({bpgroups:[],pricelist:[]})),__oListService:this.autoDestroy(new t.sbo.services.BusinessPartnerGroupsService),__oListPLService:this.autoDestroy(new t.sbo.services.PriceListsService),_fActionButtonClicked:function(o){switch(o){case"save":t.util.showLoading(),$.when(e.boCreate()).done(function(e){window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/CUSTOMER_CREATE_SUCCESSFUL"),"success"),window.SboShell.gotoView("sap.sbo.page.phone.Customer.CustomerHome",[{keyName:"cardCode",keyValue:e.cardCode}])}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()});break;case"cancel":e.callShell("close")}}})},destroy:function(){this._oService.destroy()},initView:function(){var a=this;a.$().setModel(a.__oListModel,"list");var i=$.Deferred();return $.when(o.prototype.initView.call(this)).done(function(){$.when(a.__oListService.query(),a.__oListPLService.queryJustActive({filter:"active eq '"+e.json.sap.sbo.util.enums.bool.Yes+"'"})).done(function(e,t){a.__oListModel.setValue("bpgroups",e.value),null!=e.value[0]&&a._oMetadataValueModel.setValue("groupCode",e.value[0].code),t.length>0&&a.__oListModel.setValue("pricelist",t)}),window.SboShell.addTopButtons([{key:"cancel",text:t.sbo.localization.Helper.get("common/CANCEL")},{key:"save",text:t.sbo.localization.Helper.get("app/SAVE_VIEW")}]),window.SboShell.attachEvent("actionButtonClick",a._fActionButtonClicked),a.$().on("vclick",'[data-id="RELATIONSHIP"]',function(){"tNO"===a._oMetadataValueModel.getValue("prospect")?a._oMetadataValueModel.setValue("prospect","tYES"):a._oMetadataValueModel.setValue("prospect","tNO")}),i.resolve()}).fail(function(e){window.SboShell.raiseException(e),i.reject(e)}),i.promise()},destroyView:function(){window.SboShell.detachEvent("actionButtonClick",this._fActionButtonClicked),o.prototype.destroyView.call(this)},update:function(){o.prototype.update.apply(this,arguments)},getMainControl:function(){return this.$("[ctrl='main']").getControl()},getBoType:function(){return{boNamespace:"com.sap.sbo",boName:"BusinessPartner"}},getService:function(){return this._oService},process:function(){this.$().process(e)},boValidate:function(){}},Protected:{}})}),define("sap.sbo.page.phone.Customer.ContactsTile",["sap.ui.Controller","sap.sbo.localization.Helper","sap.sbo.services.BaseService","sap.core.JsonModel","sap.sbo.util.formatter","sap.sbo.services.ContactPersonsService","sap.sbo.page.phone.ContentTileViewController","css!sap.sbo.page.phone.Customer.ContactsTile"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={goldenImage:function(e){return e>=0?"<img src='./image/Customer/goldenStar.png'>":void 0}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.phone.ContentTileViewController,Public:{init:function(){t.sbo.page.phone.ContentTileViewController.prototype.init.apply(this,arguments),this.declareMember({oContactService:this.autoDestroy(new t.sbo.services.ContactPersonsService),__modelRelated:this.autoDestroy(new t.core.JsonModel({contact:{contactPersonName:"",Info2:"",Info1:""}}))})},destroy:function(){},initView:function(){var o=$.Deferred(),a=this;return this.$().setModel(this.__modelRelated,"Related"),$.when(t.sbo.page.phone.ContentTileViewController.prototype.initView.apply(this,arguments)).done(function(){for(var i=this.$().findModel(),s=i.getValue("customer"),n=0;s.contactEmployees[n];n++)if(s.contactEmployees[n].name===s.contactPerson){a.__modelRelated.setValue("contactPersonID",s.contactEmployees[n].contactPersonID),a.__modelRelated.setValue("displayName",s.contactEmployees[n].displayName),a.__modelRelated.setValue("position",s.contactEmployees[n].position),a.__modelRelated.setValue("Image",{url:"./image/common/no-pic-avatar.jpg"});var r={};r.contactPersonID=s.contactEmployees[n].contactPersonID,$.when(a.oContactService.get(r)).done(function(e){var o=e.portraitId,i=e.contactPersonID;if(o>0){var s=t.sbo.util.formatter.getURL("ContactPerson","contactPersonID",i,o);a.__modelRelated.setValue("Image",{url:s})}})}this.$().process(e),o.resolve()}.bind(this)),o.promise()},destroyView:function(){t.sbo.page.phone.ContentTileViewController.prototype.destroyView.apply(this,arguments)},getTileTitle:function(){return t.sbo.localization.Helper.get("app/customer/CONTACTS")},getCreateDesc:function(){return t.sbo.localization.Helper.get("app/customer/CREATE_CNT")},getNumberBindingPath:function(){return"customer/contactEmployees/length"},on_basic:function(){var e=$(event.target).findModel();window.SboShell.gotoView("sap.sbo.page.phone.Contact.ContactListView",{boName:"BusinessPartner",keyParam:[{keyName:"cardCode",keyValue:e.getValue("customer/cardCode")}],BPcardCode:e.getValue("customer/cardCode"),BPcardName:e.getValue("customer/cardName")},{MainContact:e.getValue("customer/contactPerson")})},on_create:function(){var e=$(event.target).findModel();SboShell.openFrame({view:"sap.sbo.page.phone.Contact.ContactCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,options:{data:{BPcardCode:e.getValue("customer/cardCode"),BPcardName:e.getValue("customer/cardName"),boName:"BusinessPartner",keyParam:[{keyName:"cardCode",keyValue:e.getValue("customer/cardCode")}]}}})},on_navigate:function(){SboShell.gotoView("sap.sbo.page.phone.Contact.ContactHome",[{keyName:"contactPersonID",keyValue:this.__modelRelated.getValue("contactPersonID")}])}},Protected:{}})}),define("sap.sbo.page.phone.Customer.CustomerEdit",["css!sap.sbo.app.template.EditProperty","sap.core.klass","sap.ui.Controller","sap.sbo.layout.phone.MetadataLayout","sap.core.JsonModel","sap.ui.widget.TextField","sap.sbo.services.BusinessPartnersService","sap.sbo.services.BusinessPartnerGroupsService","sap.sbo.services.IndustriesService","sap.sbo.services.CurreniesService","sap.sbo.services.PriceListsService","sap.sbo.services.ShippingTypesService","sap.sbo.services.VatGroupsService","sap.sbo.page.phone.BoMetadataEditController","sap.ui.widget.TextArea","sap.sbo.ui.widget.DateTimeField","sap.sbo.util.formatter","sap.util","sap.sbo.ui.widget.BoStatus","sap.ui.widget.Checkbox","sap.sbo.util.formatter","sap.ui.widget.DropDownBox","sap.sbo.ui.widget.BoLabel","sap.ui.widget.Photo","sap.core.JsonModel","sap.sbo.localization.Helper","sap.sbo.compoundservices.AttachmentService","sap.sbo.app.task.taskUtil","json!sap.sbo.util.enums","sap.sbo.util.formatter","css!sap.sbo.page.phone.boEdit"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={string_null:function(e,t){return"<<"===t?e||"":e},prospect:function(o){return o===e.json.sap.sbo.util.enums.bool.Yes?t.sbo.localization.Helper.get("app/customer/PROSPECT"):t.sbo.localization.Helper.get("app/customer/CUSTOMER")},prospect_prospect:function(t){return t===e.json.sap.sbo.util.enums.bool.Yes?"YES":"NO"},prospect_customer:function(t){return t===e.json.sap.sbo.util.enums.bool.Yes?"NO":"YES"},vatStatusDesc:function(e){return"vExempted"==e?"Exempted":"Liable"}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.phone.BoMetadataEditController,Public:{init:function(){t.sbo.page.phone.BoMetadataEditController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{_oService:new t.sbo.services.BusinessPartnersService,_mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),__oListModel:this.autoDestroy(new t.core.JsonModel({industry:[],currency:[],bpgroups:[],pricelist:[],shipType:[],vatGroup:[],vatStatusList:[{code:"vExempted",name:t.sbo.localization.Helper.get("app/customer/EXEMPTED")},{code:"vLiable",name:t.sbo.localization.Helper.get("app/customer/LIABLE")}]})),__vatGroups:{},__modelOwner:this.autoDestroy(new t.core.JsonModel({ownerName:"",OwnerImage:{url:"./image/common/no-pic-avatar.jpg"}})),__oListIndService:this.autoDestroy(new t.sbo.services.IndustriesService),__oListCurService:this.autoDestroy(new t.sbo.services.CurreniesService),__oListBPGService:this.autoDestroy(new t.sbo.services.BusinessPartnerGroupsService),__oListPLService:this.autoDestroy(new t.sbo.services.PriceListsService),__oShippingTypesService:this.autoDestroy(new t.sbo.services.ShippingTypesService),__oListVatService:this.autoDestroy(new t.sbo.services.VatGroupsService),oAttachementService:this.autoDestroy(new t.sbo.compoundservices.AttachmentService)})},destroy:function(){this._oService.destroy()},initView:function(){var o=$.Deferred(),a=this;return a.$().setModel(a.__oListModel,"list"),a.$().setModel(a.__modelOwner,"owner"),$.when(t.sbo.page.phone.BoMetadataEditController.prototype.initView.call(this),this.__oListIndService.query(),this.__oListBPGService.query(),this.__oListPLService.queryJustActive({filter:"active eq '"+e.json.sap.sbo.util.enums.bool.Yes+"'"}),this.__oShippingTypesService.query(),this.__oListVatService.query()).done(function(o,i,s,n,r,l){var d={industryCode:null,industryDescription:"",industryName:""};i.value.push(d),a.setTitle(t.sbo.localization.Helper.get("app/BASIC")),a.__oListModel.setValue("industry",i.value),a.__oListModel.setValue("bpgroups",s.value),a.__oListModel.setValue("shipType",r.value),a.__vatGroups=l.value,a.__oListModel.setValue("vatGroup","vExempted"===a._oMetadataValueModel.getValue("vatLiable")?[]:a.__vatGroups),n.length>0&&a.__oListModel.setValue("pricelist",n);var p=a._oMetadataValueModel.getValue("ownerCode");null!=p&&$.when(a.oAttachementService.getPortraitId(p)).done(function(e){if(-1!==e.value){var o={};o.attachmentId=e.value,o.ownerCode=p;var i=t.sbo.app.task.taskUtil.PreviewUrl(o);a.__modelOwner.setValue("OwnerImage",{url:i})}}),a.$().on("vclick",'[data-id="RELATIONSHIP"]',function(){a._oMetadataValueModel.getValue("prospect")===e.json.sap.sbo.util.enums.bool.No?a._oMetadataValueModel.setValue("prospect",e.json.sap.sbo.util.enums.bool.Yes):a._oMetadataValueModel.setValue("prospect",e.json.sap.sbo.util.enums.bool.No)}),a.$().on("vclick",".changeStatus",function(){var t=a._oMetadataValueModel.getValue("isActive");t===e.json.sap.sbo.util.enums.bool.Yes?a._oMetadataValueModel.setValue("isActive",e.json.sap.sbo.util.enums.bool.No):a._oMetadataValueModel.setValue("isActive",e.json.sap.sbo.util.enums.bool.Yes)}),a._oMetadataValueModel.attachEvent("valueChanged",function(e,t){"vatLiable"===e&&"@UPDATE"===t&&("vExempted"===this.getValue("vatLiable")?(this.setValue("vatGroup",null),a.__oListModel.setValue("vatGroup",[])):a.__oListModel.setValue("vatGroup",a.__vatGroups))})}).fail(function(e){window.SboShell.raiseException(e),o.reject(e)}).always(function(){o.resolve()}),this.$().on("GuilinControlEvent.navigate GuilinControlEvent.choose",".sbo-metadata-list-property",function(e){switch($(e.currentTarget).attr("gl-property")){case"ownerCode":if("navigate"===e.namespace){var o=a._oMetadataValueModel.getValue("ownerCode");null!==o&&window.SboShell.gotoView("sap.sbo.page.phone.user.BasicInfo",[{keyName:"employeeID",keyValue:o}])}else window.SboShell.openFrame({view:"sap.sbo.chooseList.phone.ChooseListEmployee",options:{},type:"right",callback:function(e,o){"close"===e||"select"===e&&(a._oMetadataValueModel.setValue("ownerCode",o.employeeID),a._oMetadataValueModel.setValue("OwnerEmployeeDisplayName",o.displayName),$.when(a.oAttachementService.getPortraitId(o.employeeID)).done(function(e){if(-1!==e.value){var i={};i.attachmentId=e.value,i.ownerCode=o.employeeID;var s=t.sbo.app.task.taskUtil.PreviewUrl(i);a.__modelOwner.setValue("OwnerImage",{url:s})}}))}})}}),o.promise()},destroyView:function(){window.SboShell.detachEvent("actionButtonClick",this._fnButtonProxy),this.$().off("GuilinControlEvent.navigate GuilinControlEvent.choose"),this.$().unprocess(),t.sbo.page.phone.BoMetadataEditController.prototype.destroyView.call(this)},update:function(){},getMainControl:function(){return this.$("[ctrl='main']").getControl()},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"BusinessPartner",keyElements:this._mViewInfo.storeParam}},getService:function(){return this._oService},process:function(){this.$().process(e)}},Protected:{}})}),define("sap.sbo.page.phone.Customer.CustomerHome",["sap.core.JsonModel","sap.ui.Controller","sap.log","sap.ui.widget.TextField","sap.sbo.layout.phone.AdvancedTilesLayout","sap.sbo.layout.TileView","sap.sbo.ui.widget.UploadButton","sap.ui.widget.Button","sap.sbo.services.BaseService","sap.sbo.services.BusinessPartnersService","sap.sbo.page.phone.BoHomeController","sap.sbo.app.network.RelatedTile","sap.sbo.localization.Helper","sap.sbo.ui.widget.Address","sap.sbo.util.formatter","json!sap.sbo.util.enums","css!sap.sbo.page.phone.Document.DocumentHome"],function(){"use strict";var e=this.getNS(),t=e.sap,o=e.json.sap.sbo.util.enums.bool;return e.formatter={string_null:function(e,t){return"<<"===t?e||"":e},string_active:function(o){return o===e.json.sap.sbo.util.enums.bool.Yes?t.sbo.localization.Helper.get("app/appr/ACTIVE"):t.sbo.localization.Helper.get("app/appr/INACTIVE")},string_prospect:function(o){return o===e.json.sap.sbo.util.enums.bool.Yes?t.sbo.localization.Helper.get("app/customer/PROSPECT"):t.sbo.localization.Helper.get("app/customer/CUSTOMER")}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.phone.BoHomeController,Public:{init:function(){t.sbo.page.phone.BoHomeController.prototype.init.apply(this,arguments),this.declareMember({__model:this.autoDestroy(new t.core.JsonModel({Image:{url:"./image/common/no-pic.png"}})),oCustomerService:this.autoDestroy(new t.sbo.services.BusinessPartnersService),__ParamInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),__cardCode:"",_onActionButtonClickProxy:$.proxy(this._onActionButtonClickHandler,this)}),this.__cardCode=this.__ParamInfo.storeParam[0].keyValue,SboShell.attachEvent("actionButtonClick",this._onActionButtonClickProxy),this.autoDestroy("detach actionButtonClick",function(){SboShell.detachEvent("actionButtonClick",this._onActionButtonClickProxy)}.bind(this))},destroy:function(){},initView:function(){var a=$.Deferred(),i=this;return $.when(t.sbo.page.phone.BoHomeController.prototype.initView.apply(this,arguments)).done(function(){$.when(i.oCustomerService.get({cardCode:i.__cardCode})).done(function(s){if(i.$().setModel(i.__model),s.portraitId>0){var n=t.sbo.util.formatter.getURL("BusinessPartner","cardCode",i.__cardCode,s.portraitId);i.__model.setValue("Image",{url:n})}i.__model.setValue("customer",s),i.setTitle({subTitle:i.__model.getValue("customer/cardCode"),title:i.__model.getValue("customer/cardName")||""}),i.$().process(e);var r=i.__model.getValue("customer/isActive");r===o.Yes&&(window.SboShell.addActionButtons([{key:"createLead",text:t.sbo.localization.Helper.get("app/customer/CREATE_LEAD")}],i),window.SboShell.addActionButtons([{key:"createOppo",text:t.sbo.localization.Helper.get("app/customer/CREATE_OPPO")}],i),window.SboShell.addActionButtons([{key:"createQuotation",text:t.sbo.localization.Helper.get("app/customer/CREATE_QUOTATION")}],i),window.SboShell.addActionButtons([{key:"createOrder",text:t.sbo.localization.Helper.get("app/customer/CREATE_ORDER")}],i)),window.SboShell.addFeature(i,"relatedFilter.BOkey","method"),i.autoDestroy("remove the realted filter",window.SboShell.removeFeature.bind(window.SboShell,"relatedFilter.BOkey")),a.resolve()}).fail(function(){a.reject()})}),a.promise()},destroyView:function(){t.sbo.page.phone.BoHomeController.prototype.destroyView.apply(this,arguments),this.$().unprocess()},update:function(){},getService:function(){return this.oCustomerService},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"BusinessPartner",keyElements:[{keyName:"cardCode",keyValue:this.__ParamInfo.storeParam[0].keyValue}]}},doFeature:function(e){if("relatedFilter.BOkey"===e){var o=this.__model.getValue("customer");return{key:"cardCode",value:o.cardCode}}return t.sbo.page.phone.BoHomeController.prototype.doFeature.apply(this,arguments)
}},Static:{},Protected:{_onActionButtonClickHandler:function(e){var t=this;switch(e){case"createOrder":SboShell.openFrame({view:"sap.sbo.page.phone.SalesOrder.OrderCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,options:{cardCode:t.__model.getValue("customer/cardCode"),cardName:t.__model.getValue("customer/cardName")},callback:function(){}});break;case"createQuotation":SboShell.openFrame({view:"sap.sbo.page.phone.SalesQuotation.QuotationCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,options:{cardCode:t.__model.getValue("customer/cardCode"),cardName:t.__model.getValue("customer/cardName")},callback:function(){}});break;case"createLead":SboShell.openFrame({view:"sap.sbo.page.phone.Leads.LeadsCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,options:{cardCode:t.__model.getValue("customer/cardCode"),cardName:t.__model.getValue("customer/cardName")},callback:function(){}});break;case"createOppo":SboShell.openFrame({view:"sap.sbo.page.phone.SalesOpportunity.CreationFrame2",type:"center-column",options:{cardCode:t.__model.getValue("customer/cardCode"),cardName:t.__model.getValue("customer/cardName")}})}}}})}),define("sap.sbo.page.phone.Customer.CustomerList",["sap.ui.Controller","sap.sbo.layout.phone.ListLayout","sap.sbo.util.AjaxListSource","sap.sbo.services.BusinessPartnersService","sap.sbo.localization.Helper","sap.sbo.page.BaseBoListViewController","sap.sbo.ui.widget.ListManipulator","sap.sbo.ui.widget.MultipleValueHelp","sap.sbo.services.BaseService","sap.sbo.page.common.customerUtil","sap.sbo.util.formatter","sap.sbo.page.common.oppUtil","sap.ui.widget.Photo","json!sap.sbo.page.common.listFilters.Customer","json!sap.sbo.util.enums","css!sap.sbo.page.phone.boListView"],function(){"use strict";var e=this.getNS(),t=e.sap,o=e.json.sap.sbo.util.enums.bool;return e.formatter={bool_string:function(e){return e===o.Yes?"YES":"NO"}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.BaseBoListViewController,Public:{init:function(){t.sbo.page.BaseBoListViewController.prototype.init.apply(this,arguments),this.declareMember({oCustomerService:this.autoDestroy(new t.sbo.services.BusinessPartnersService),_oAjaxListSource:null,_onActionButtonClickProxy:$.proxy(this._onActionButtonClickHandler,this)}),this._oAjaxListSource=this.autoDestroy(new t.sbo.util.AjaxListSource(this.oCustomerService)),SboShell.attachEvent("actionButtonClick",this._onActionButtonClickProxy)},destroy:function(){SboShell.detachEvent("actionButtonClick",this._onActionButtonClickProxy)},initView:function(){var o=this,a=$.Deferred();return $.when(t.sbo.page.BaseBoListViewController.prototype.initView.call(this)).done(function(){o.$().process(e),a.resolve(),o.$().control({'[data-id="listView"]':{emptyTexts:[t.sbo.localization.Helper.get("app/customer/PURPOSE"),t.sbo.localization.Helper.get("app/customer/USAGE"),t.sbo.localization.Helper.get("app/customer/TO_CREATE")],source:o._oAjaxListSource,listener:{create:function(){SboShell.openFrame({view:"sap.sbo.page.phone.Customer.CustomerCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,callback:function(){}})},requestDone:function(e){SboShell.setOption({title:t.sbo.localization.Helper.get("common/CUSTOMER_NAME")}),SboShell.setHeaderCount(e.count)},modelCreated:function(e){e.setValue("Line1",""),e.setValue("Image",{url:"./image/common/no-pic-avatar.jpg"}),e.setValue("Image",{showImg:"NO"});var o=e.getValue("portraitId"),a=e.getValue("cardCode");if(o>0){e.setValue("Image",{showImg:"YES"});var i=t.sbo.util.formatter.getURL("BusinessPartner","cardCode",a,o);e.setValue("Image",{url:i})}}}}}),o.$().on("vclick",".item",function(e){var t=$(e.target).findModel();window.SboShell.gotoView("sap.sbo.page.phone.Customer.CustomerHome",[{keyName:"cardCode",keyValue:t.getValue("cardCode")}])}),window.SboShell.addActionButtons({key:"create",text:t.sbo.localization.Helper.get("app/customer/CREATE")},o)}),a.promise()},destroyView:function(){t.sbo.page.BaseBoListViewController.prototype.destroyView.call(this),this.$().unprocess()},update:function(){},getService:function(){return this.oCustomerService},getBoNameEntity:function(){return{boNamespace:"com.sap.sbo",boName:"BusinessPartner"}},getListSource:function(){return this._oAjaxListSource},getProcessContext:function(){return e},getQuickFilters:function(){if(e&&e.json&&e.json.sap&&e.json.sap.sbo&&e.json.sap.sbo.page&&e.json.sap.sbo.page.common&&e.json.sap.sbo.page.common.listFilters&&e.json.sap.sbo.page.common.listFilters.Customer){var o=e.json.sap.sbo.page.common.listFilters.Customer,a={};for(var i in o)a[i]={},a[i].expr=o[i],a[i].label=t.sbo.localization.Helper.get("app/customer/"+i),a[i].description=a[i].label;return a}return{}},getMainControl:function(){return this.$('div[data-id="listView"]')}},Protected:{_onActionButtonClickHandler:function(e){switch(e){case"create":SboShell.openFrame({view:"sap.sbo.page.phone.Customer.CustomerCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,callback:function(){}})}}}})}),define("sap.sbo.page.phone.Customer.Address.AddressEdit",["sap.ui.Controller","sap.core.JsonModel","sap.ui.widget.TextField","sap.ui.widget.Button","sap.sbo.ui.FrameViewController","sap.ui.widget.DropDownBox","sap.sbo.services.CountriesService","sap.sbo.services.StatesService","sap.sbo.localization.Helper","css!sap.sbo.page.phone.boCreation","css!sap.sbo.page.phone.Customer.Address.AddressEdit"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={isZero:function(e){return 0===e},addressType_shipto:function(e){return"bo_ShipTo"===e?"YES":"NO"},addressType_billto:function(e){return"bo_ShipTo"===e?"NO":"YES"}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Options:{data:{type:"object"},shipToDefault:{type:"string"},billtoDefault:{type:"string"},isNew:{type:"Boolean"}},Public:{init:function(){t.sbo.ui.FrameViewController.prototype.init.apply(this,arguments),this.declareMember({__oListCRYService:this.autoDestroy(new t.sbo.services.CountriesService),__oListCSTService:this.autoDestroy(new t.sbo.services.StatesService),__oModel:this.autoDestroy(new t.core.JsonModel({})),__oAddressModel:this.autoDestroy(new t.core.JsonModel({countrylist:"",statelist:""})),__oModelFlag:this.autoDestroy(new t.core.JsonModel({bMainFlag:"NO",addressType:null,addressName:null})),_fActionButtonClicked:$.proxy(this._onActionButtonClickHandler,this),__oStates:{},_oIScroll:null})},destroy:function(){},initView:function(){var o=this,a=$.Deferred();return o.__oModel.attachEvent("valueChanged",function(e,t){if(("country"===e||""===e)&&"@UPDATE"===t){"country"===e&&this.setValue("state","");var a=this.getValue("country"),i=o.__oStates[a];if(i)o.__oAddressModel.setValue("statelist",i);else{o.__oAddressModel.setValue("statelist",[]);var s={filter:"country eq '"+a+"'"};$.when(o.__oListCSTService.query(s)).done(function(e){o.__oStates[a]=e.value,o.__oAddressModel.setValue("statelist",e.value)})}}}),this.__oModel.setValue("",this.getOption("data")),"bo_BillTo"===this.getOption("data").addressType&&this.getOption("data").addressName===this.getOption("billtoDefault")&&this.__oModelFlag.setValue("bMainFlag","YES"),"bo_ShipTo"===this.getOption("data").addressType&&this.getOption("data").addressName===this.getOption("shipToDefault")&&this.__oModelFlag.setValue("bMainFlag","YES"),$.when(o.__oListCRYService.query()).done(function(i){o.__oAddressModel.setValue("countrylist",i.value),o.$().setModel(o.__oAddressModel,"AddressModel"),o.$().setModel(o.__oModelFlag,"FlagModel"),o.$().setModel(o.__oModel,"addressEditModel").process(e).done(function(){a.resolve(),o._oIScroll=new iScroll(o.$(".scroll")[0],{hScroll:!1,bounce:!1})}),window.SboShell.addTopButtons([{key:"cancel",text:t.sbo.localization.Helper.get("common/CANCEL")}]),o.getOption("isNew")||window.SboShell.addTopButtons([{key:"delete",text:t.sbo.localization.Helper.get("common/DELETE")}]),window.SboShell.addTopButtons([{key:"ok",text:t.sbo.localization.Helper.get("app/SAVE_VIEW")}]),window.SboShell.attachEvent("actionButtonClick",o._fActionButtonClicked),o.$().on("vclick",'[data-id="addressType"]',function(){"bo_ShipTo"===o.__oModel.getValue("addressType")?o.__oModel.setValue("addressType","bo_BillTo"):o.__oModel.setValue("addressType","bo_ShipTo")})}).fail(function(e){a.reject(e)}),o.$().on("vclick",'[ctrl="btnSetMain"]',function(e){if("NO"===$(e.target).findModel("FlagModel").getValue("bMainFlag")){var t=$(e.target).findModel("addressEditModel").getValue("addressType"),o=$(e.target).findModel("addressEditModel").getValue("addressName");$(e.target).findModel("FlagModel").setValue("addressType",t),$(e.target).findModel("FlagModel").setValue("addressName",o),$(e.target).findModel("FlagModel").setValue("bMainFlag","YES")}}),a.promise()},destroyView:function(){window.SboShell.detachEvent("actionButtonClick",this._fActionButtonClicked),this._oIScroll&&(this._oIScroll.destroy(),this._oIScroll=null)},update:function(){}},Protected:{_onActionButtonClickHandler:function(e){var o=this;switch(e){case"ok":o.callShell("save",{data:o.__oModel.getValue(""),addressType:o.__oModelFlag.getValue("addressType"),addressName:o.__oModelFlag.getValue("addressName")}),o.closeFrame();break;case"delete":$.when(window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/customer/REMOVE_ADD_CONFIRM"),"question",[{key:"C",text:t.sbo.localization.Helper.get("common/CANCEL")},{key:"R",text:t.sbo.localization.Helper.get("common/DELETE")}])).done(function(e){"R"==e&&(o.callShell("delete",{addressType:o.__oModel.getValue("").addressType,addressName:o.__oModel.getValue("").addressName}),o.closeFrame())});break;case"cancel":o.closeFrame()}}}})}),define("sap.sbo.page.phone.Customer.Address.AddressList",["sap.core.JsonModel","sap.ui.Controller","sap.sbo.ui.PageController","sap.log","sap.util","sap.core.ArrayListSource","sap.sbo.layout.phone.ListLayout","sap.sbo.services.BusinessPartnersService","sap.core.DestroyPool","sap.sbo.localization.Helper","sap.sbo.ui.widget.Address","css!sap.sbo.page.phone.boListView","css!sap.sbo.page.phone.Customer.Address.AddressList"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={string_null:function(e,t){return"<<"===t?e||"":e},address_readable:function(e){return"bo_BillTo"===e?"Bill To":"Ship To"}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.PageController,Public:{init:function(){t.sbo.ui.PageController.prototype.init.apply(this,arguments),this.declareMember({__oBPService:this.autoDestroy(new t.sbo.services.BusinessPartnersService),_oListView:null,_oDestroyPool:null,__Param:{},__AddressModel:this.autoDestroy(new t.core.JsonModel({addressName:"",street:"",block:"",city:"",state:"",country:"",zipCode:"",addressType:"bo_ShipTo"})),_onActionButtonClickProxy:$.proxy(this._onActionButtonClickHandler,this)}),window.SboShell.attachEvent("actionButtonClick",this._onActionButtonClickProxy)},destroy:function(){window.SboShell.detachEvent("actionButtonClick",this._onActionButtonClickProxy)},loadParams:function(e){var t=this;if(this.__info=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),this.__info.otherParam)e.resolve(this.__info.otherParam);else{var o={cardCode:t.__info.storeParam.bpCode};t.__oBPService.get(o).done(function(t){e.resolve({bPAddresses:t.bPAddresses,BillToAddressName:t.billtoDefault,ShipToAddressName:t.shipToDefault})}).fail(function(t){window.SboShell.raiseException(t),e.reject(t)})}},initView:function(){var o=this;this._oDestroyPool=new t.core.DestroyPool;var a=$.Deferred();return $.when(t.sbo.ui.PageController.prototype.initView.call(this)).done(function(i){o.setTitle({title:i.bPAddresses.length+" "+t.sbo.localization.Helper.get("app/contact/ADDRESSES")}),o.__Param=i,o.$().process(e),window.SboShell.addActionButtons([{key:"add",text:t.sbo.localization.Helper.get("common/ADD")}],o),o._oListView=o.$('[data-id="listView"]').getControl(),o.$().control({'[data-id="listView"]':{emptyTexts:[t.sbo.localization.Helper.get("app/customer/ADD_PURPOSE"),t.sbo.localization.Helper.get("app/customer/ADD_CREATE")],source:new t.core.ArrayListSource(o.__Param.bPAddresses),listener:{processDone:function(){a.resolve()},create:function(){o._createAddress()},modelCreated:function(e,a,i){var s=o._oDestroyPool.add(new t.core.JsonModel({bMainFlag:"NO"}));i.setModel(s,"AddressInfo"),(o.__Param.BillToAddressName===e.getValue("addressName")&&"bo_BillTo"===e.getValue("addressType")||o.__Param.ShipToAddressName===e.getValue("addressName")&&"bo_ShipTo"===e.getValue("addressType"))&&s.setValue("bMainFlag","YES")}}}}),o.$().on("vclick",".edit",function(e){var t=$(e.target).findModel();SboShell.openFrame({view:"sap.sbo.page.phone.Customer.Address.AddressEdit",type:"center",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},height:768,width:480,zindex:2e3,options:{data:t.getValue(""),shipToDefault:i.ShipToAddressName,billtoDefault:i.BillToAddressName,isNew:!1},callback:function(e,a){"save"===e&&$.when(t.setValue("",a.data)).done(function(){o.__update(a.addressType,a.addressName)}),"delete"===e&&o.__delete(a.addressType,a.addressName)}})})}).fail(function(e){window.SboShell.raiseException(e),a.reject(e)}),a.promise()},destroyView:function(){this._oDestroyPool.destroy(),this._oDestroyPool=null,this.$().unprocess()},update:function(){}},Protected:{__refresh:function(e){var o=this;o.__Param.BillToAddressName=e.billtoDefault,o.__Param.ShipToAddressName=e.shipToDefault,o.__Param.bPAddresses=e.bPAddresses,o.$('div[data-id="listView"]').getControl().getOption("source").setArray(e.bPAddresses),o._oListView.__sRequestStatus="ready",o._oListView.refresh(),o.setTitle({title:t.sbo.localization.Helper.get("app/contact/ADDRESSES")+" "+o.__Param.bPAddresses.length})},__update:function(e,t){var o=this,a={};if(a.bPAddresses=o.$('div[data-id="listView"]').getControl().getOption("source").getArray(),null!==e&&null!==t)switch(e){case"bo_BillTo":a.billtoDefault=t;break;case"bo_ShipTo":a.shipToDefault=t}var i={cardCode:o.__info.storeParam.bpCode};o.__oBPService.update(a,i).done(function(e){o.__refresh(e)}).fail(function(e){window.SboShell.raiseException(e)})},__delete:function(e,o){var a=this,i={cardCode:a.__info.storeParam.bpCode},s={};a.__oBPService.get(i).done(function(n){s.bPAddresses=n.bPAddresses;for(var r=s.bPAddresses.length-1;r>=0;--r)s.bPAddresses[r].addressType===e&&s.bPAddresses[r].addressName===o&&s.bPAddresses.splice(r,1);t.util.showLoading(),a.__oBPService.update(s,i).done(function(e){a.__refresh(e)}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()})})},_createAddress:function(){var e=this,t={cardCode:e.__info.storeParam.bpCode};e.__oBPService.get(t).done(function(t){e.__oBPService.getInitBoNode(t,"Root/bPAddresses").done(function(o){for(var a=o.bPAddresses.length-1;o.bPAddresses[a];a--)null===o.bPAddresses[a].addressName&&(e.__AddressModel.setValue("addressName",o.bPAddresses[a].addressName),e.__AddressModel.setValue("street",o.bPAddresses[a].street),e.__AddressModel.setValue("block",o.bPAddresses[a].block),e.__AddressModel.setValue("city",o.bPAddresses[a].city),e.__AddressModel.setValue("state",o.bPAddresses[a].state),e.__AddressModel.setValue("country",o.bPAddresses[a].country),e.__AddressModel.setValue("zipCode",o.bPAddresses[a].zipCode),e.__AddressModel.setValue("addressType",o.bPAddresses[a].addressType));SboShell.openFrame({view:"sap.sbo.page.phone.Customer.Address.AddressEdit",type:"center",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},height:768,width:480,zindex:2e3,options:{data:e.__AddressModel.getValue(""),shipToDefault:t.shipToDefault,billtoDefault:t.billtoDefault,isNew:!0},callback:function(t,o){"save"===t&&(e.$('div[data-id="listView"]').getControl().getOption("source").insertAtEnd(o.data),e.__update(o.addressType,o.addressName))}})}).fail(function(e){window.SboShell.raiseException(e)})}).fail(function(e){window.SboShell.raiseException(e)})},_onActionButtonClickHandler:function(e){var t=this;switch(e){case"add":t._createAddress()}}}})}),define("sap.sbo.page.pad.boCreation",["sap.ui.Controller","sap.core.JsonModel","sap.sbo.ui.FrameViewController","css!sap.sbo.page.pad.boCreation"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Options:{x:{type:"integer",defaultValue:-1},y:{type:"integer",defaultValue:-1}},Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments),this.declareMember({__oService:null,__model:this.autoDestroy(new t.core.JsonModel({})),__ns:e})},destroy:function(){},initView:function(){var e=$.Deferred(),t=this;return $.when(t.__oService.getInit()).done(function(o){t.__model.setValue("",o),t.$().setModel(t.__model),t.$().process(t.__ns),t.$().control({"#btnCancel":{listener:{click:function(){t.callShell("close")}}},"#btnSaveOpen":{listener:{click:function(){t.__savebo()}}}}),e.resolve()}).fail(function(){t.callShell("close"),e.reject()}),e.promise()},destroyView:function(){this.$().unprocess()},update:function(){},__savebo:function(){throw"PLEASE IMPLEMENTE THIS METHOD!"}}})}),define("sap.sbo.page.pad.BoHomeController",["sap.ui.Controller","sap.sbo.page.pad.dataOwnership.DataOwnershipPadObserver","sap.sbo.page.BaseBoHomeController","css!sap.sbo.page.pad.boHome"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.BaseBoHomeController,Public:{init:function(){t.sbo.page.BaseBoHomeController.prototype.init.apply(this,arguments)},destroy:function(){},initView:function(){var e=this.autoDestroy(new t.sbo.page.pad.dataOwnership.DataOwnershipPadObserver);return this.setObserver(e),t.sbo.page.BaseBoHomeController.prototype.initView.apply(this,arguments)},destroyView:function(){t.sbo.page.BaseBoHomeController.prototype.destroyView.apply(this,arguments)},update:function(){t.sbo.page.BaseBoHomeController.prototype.update.apply(this,arguments)}},Protected:{}})}),define("sap.sbo.page.pad.BoMetadataCreationFrameController",["sap.core.klass","sap.ui.Controller","sap.sbo.page.BaseBoMetadataCreationFrameController","css!sap.sbo.page.pad.BoMetadataCreationFrameController"],function(){"use strict";var e=this.getNS(),t=e.sap,o=t.sbo.page.BaseBoMetadataCreationFrameController;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:o,Public:{init:function(){o.prototype.init.apply(this,arguments),this.declareMember({___buttonDisableState:[]})},destroy:function(){},initView:function(){return o.prototype.initView.apply(this,arguments)},destroyView:function(){return o.prototype.destroyView.apply(this,arguments)},update:function(){o.prototype.update.apply(this,arguments)},disableActionButtons:function(){if(0===this.___buttonDisableState.length){var e=this.$('button, input[type="button"]');this.___buttonDisableState=[],e.each(function(e,t){var o=$(t).getControl();o&&(this.___buttonDisableState.push({control:o,disabled:o.getOption("disabled")}),o.setOption("disabled",!0))}.bind(this))}},enableActionButtons:function(){this.___buttonDisableState.forEach(function(e){e.control.setOption("disabled",e.disabled)}),this.___buttonDisableState=[]}},Protected:{}})}),define("sap.sbo.page.pad.BoMetadataEditController",["sap.core.klass","sap.ui.Controller","sap.sbo.page.BaseBoMetadataEditController"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.BaseBoMetadataEditController,Public:{init:function(){t.sbo.page.BaseBoMetadataEditController.prototype.init.apply(this,arguments)},destroy:function(){},initView:function(){return t.sbo.page.BaseBoMetadataEditController.prototype.initView.apply(this,arguments)},destroyView:function(){this.$().unprocess(),t.sbo.page.BaseBoMetadataEditController.prototype.destroyView.apply(this,arguments)},update:function(){t.sbo.page.BaseBoMetadataEditController.prototype.update.apply(this,arguments)}},Protected:{}})}),define("sap.sbo.page.pad.DataMigrationMenuButtonUtil",["sap.sbo.localization.Helper","sap.core.klass","sap.core.EventProvider","sap.sbo.compoundservices.MassDataTransportService","json!sap.sbo.util.enums"],function(){"use strict";var e=this.getNS(),t=e.sap,o="NoTask";return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Base:t.core.EventProvider,Public:{init:function(o){t.core.EventProvider.prototype.init.call(this),t.core.klass.declareMember(this,{_layoutMenuButtons:null,_actionButtons:null,_actionButtonKeys:null,_isKeyUser:!1,_onActionBtnClickProxy:$.proxy(this._onActionBtnClick,this),_dataType:o.datatype,_viewName:o.view,_count:o.count,__oServer:this.autoDestroy(new t.sbo.compoundservices.MassDataTransportService)}),this._isKeyUser=window.SboShell.getData("user.keyUser")===e.json.sap.sbo.util.enums.bool.Yes,this.__addButton(),window.SboShell.attachEvent("actionButtonClick",this._onActionBtnClickProxy)},destroy:function(){window.SboShell.detachEvent("actionButtonClick",this._onActionBtnClickProxy),this._actionButtonKeys&&window.SboShell.removeActionButtons(this._actionButtonKeys)}},Protected:{_onActionBtnClick:function(e){var a=this,i=a._dataType;if(-1!=e.indexOf("Price")&&(i="SFAPriceList"),-1!=e.indexOf("ImportData"))SboShell.gotoView("sap.sbo.page.pad.extention.MassDataImport");else if(-1!=e.indexOf("ExportData")){var s={taskType:"ExportData",dataType:i};$.when(a.__oServer.getTaskInfo(s)).done(function(e){e.taskStatus!==o?SboShell.gotoView("sap.sbo.page.pad.extention.MassDataImportProgress",{taskType:"ExportData",dataType:i,view:a._viewName}):$.when(a.__oServer.startTask(s)).done(function(){SboShell.gotoView("sap.sbo.page.pad.extention.MassDataImportProgress",{taskType:"ExportData",dataType:i,view:a._viewName})})}).fail(function(){window.SboShell.raiseMessage(t.sbo.localization.Helper.get("dm/DATA_EXPORT_FAILED"))})}},__addButton:function(){this._actionButtonKeys=this.__getButtonKeys(),this._actionButtons=this.__getButtons(),window.SboShell.addActionButtons(this._actionButtons)},__getButtonKeys:function(){return"SFAItem"===this._dataType?this._isKeyUser?this._count>0?["ExportDataItem","ExportDataPrice","ImportDataItem","ImportDataPrice"]:["ImportDataItem","ImportDataPrice"]:this._count>0?["ExportDataItem","ExportDataPrice"]:[]:this._isKeyUser?this._count>0?["ExportData","ImportData"]:["ImportData"]:this._count>0?["ExportData"]:[]},__getButtons:function(){return"SFABusinessPartner"===this._dataType?this.__getCustomerButtons():"SFAContactPerson"===this._dataType?this.__getContactButtons():"SFAItem"===this._dataType?this.__getProductButtons():void 0},__getCustomerButtons:function(){return this._isKeyUser?this._count>0?[{key:"ExportData",text:t.sbo.localization.Helper.get("dm/CUSTOMER_EXPORT")},{key:"ImportData",text:t.sbo.localization.Helper.get("dm/CUSMOTER_IMPORT")}]:[{key:"ImportData",text:t.sbo.localization.Helper.get("dm/CUSMOTER_IMPORT")}]:this._count>0?[{key:"ExportData",text:t.sbo.localization.Helper.get("dm/CUSTOMER_EXPORT")}]:[]},__getContactButtons:function(){return this._isKeyUser?this._count>0?[{key:"ExportData",text:t.sbo.localization.Helper.get("dm/CONTACT_EXPORT")},{key:"ImportData",text:t.sbo.localization.Helper.get("dm/CONTACT_IMPORT")}]:[{key:"ImportData",text:t.sbo.localization.Helper.get("dm/CONTACT_IMPORT")}]:this._count>0?[{key:"ExportData",text:t.sbo.localization.Helper.get("dm/CONTACT_EXPORT")}]:[]},__getProductButtons:function(){return this._isKeyUser?this._count>0?[{key:"ExportDataItem",text:t.sbo.localization.Helper.get("dm/PRODUCT_EXPORT")},{key:"ExportDataPrice",text:t.sbo.localization.Helper.get("dm/PRICE_LIST_EXPORT")},{key:"ImportDataItem",text:t.sbo.localization.Helper.get("dm/PRODUCT_IMPORT")},{key:"ImportDataPrice",text:t.sbo.localization.Helper.get("dm/PRICE_LIST_IMPORT")}]:[{key:"ImportDataItem",text:t.sbo.localization.Helper.get("dm/PRODUCT_IMPORT")},{key:"ImportDataPrice",text:t.sbo.localization.Helper.get("dm/PRICE_LIST_IMPORT")}]:this._count>0?[{key:"ExportDataItem",text:t.sbo.localization.Helper.get("dm/PRODUCT_EXPORT")},{key:"ExportDataPrice",text:t.sbo.localization.Helper.get("dm/PRICE_LIST_EXPORT")}]:[]}}})}),define("sap.sbo.page.pad.EditMetaDataField",["sap.ui.Controller","sap.core.JsonModel","sap.sbo.ui.FrameViewController","sap.ui.widget.TextField","sap.ui.widget.TextArea","sap.ui.widget.Checkbox","sap.core.klass","sap.ui.widget.DropDownBox","sap.ui.widget.RadioButton","sap.ui.widget.Button","sap.ui.Repeat","sap.ui.MessageBox","sap.ui.widget.ValueHelpField","sap.sbo.ui.widget.DateTimeField","sap.sbo.ui.widget.DecimalInputField","sap.sbo.util.formatter","sap.formatter","sap.sbo.services.SystemPropertyExtensionsService","sap.sbo.services.UserPropertiesService","sap.sbo.page.pad.settings.BoTypeHelper","sap.sbo.services.BaseService","sap.sbo.localization.Helper","css!sap.sbo.page.pad.EditMetaDataField"],function(){"use strict";var e=this.getNS(),t=e.sap,o=t.sbo.localization.Helper,a=[{key:"none",text:o.get("app/settings/RULE_NONE")},{key:"eq",text:o.get("app/settings/RULE_EQUAL")},{key:"ne",text:o.get("app/settings/RULE_NOT_EQUAL")},{key:"lt",text:o.get("app/settings/RULE_LESS")},{key:"le",text:o.get("app/settings/RULE_LESS_EQUAL")},{key:"gt",text:o.get("app/settings/RULE_GREATER")},{key:"ge",text:o.get("app/settings/RULE_GREATER_EQUAL")},{key:"bt",text:o.get("app/settings/RULE_BETWEEN")},{key:"nb",text:o.get("app/settings/RULE_NOT_BETWEEN")},{key:"pattern",text:o.get("app/settings/RULE_EXPRESSION")}],i=[{key:"none",text:o.get("app/settings/RULE_NONE")},{key:"sw",text:o.get("app/settings/RULE_STARTS_WITH")},{key:"ew",text:o.get("app/settings/RULE_ENDS_WITH")},{key:"con",text:o.get("app/settings/RULE_CONTAINS")},{key:"ncon",text:o.get("app/settings/RULE_NOT_CONTAINS")},{key:"len",text:o.get("app/settings/RULE_LENGTH")},{key:"minl",text:o.get("app/settings/RULE_MIN_LENGTH")},{key:"maxl",text:o.get("app/settings/RULE_MAX_LENGTH")},{key:"pattern",text:o.get("app/settings/RULE_EXPRESSION")}],s=[{key:"Yes",text:"Yes"},{key:"No",text:"No"}];return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Options:{property:{type:"any"},boName:{type:"string"},boNamespace:{type:"string"},boNodeTypeName:{type:"string"},operationType:{type:"string"}},Public:{init:function(){t.sbo.ui.FrameViewController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{_oService:new t.sbo.services.BaseService,_oSfeService:new t.sbo.services.SystemPropertyExtensionsService,_oUdfService:new t.sbo.services.UserPropertiesService,_oModel:void 0})},destory:function(){this._oModel.destroy(),this._oModel=null},initView:function(){var a=$.Deferred(),s=[],n=[this.__getNewValidValueItem(!1)],r={field_Name:o.get("app/settings/ERROR_FIELD_EMPTY","Name"),field_DisplayName:o.get("app/settings/ERROR_FIELD_EMPTY","Display Name"),field_DefaultValue:o.get("app/settings/ERROR_FIELD_EMPTY","Default Value")},l={type:!0,udf_name:!0},d=$.extend({title:o.get("app/settings/UDF_TITLE_ADD"),isNewField:!1,userDefined:!0,name:"",label:"",type_data:t.sbo.page.pad.settings.BoTypeHelper.getTypeByKey("String"),description:"",mandatory:!1,isEnum:!1,defaultValue_Text:"",defaultValue_Date:null,defaultValue_Decimal:"",defaultValue_List:s,selectedDefaultValue:null,enableValidValues:!1,validValues_List:n,enableValidation:!1,rules:i,selectedRule:"none",ruleExpression_Text:"",ruleExpression_Decimal:"",ruleExpression_Date:null,ruleExpression_From_Text:"",ruleExpression_From_Decimal:"",ruleExpression_From_Date:null,ruleExpression_To_Text:"",ruleExpression_To_Decimal:"",ruleExpression_To_Date:null,customErrorMessage:"",errorList:r,disabledlist:l},this.getOption("property")),p=this.getOption("boName"),c=this.getOption("boNamespace"),u=this.getOption("boNodeTypeName"),h=this.getOption("operationType");"add"==h?(d.isNewField=!0,l.type=!1,l.udf_name=!1):d.title=d.userDefined?o.get("app/settings/UDF_TITLE_UPDATE"):o.get("app/settings/SYSTEM_TITLE_UPDATE"),d.enumerationTypeMeta&&(d.isEnum=!0);var b={data:d,boName:p,boNamespace:c,boNodeTypeName:u};if(this._oModel=new t.core.JsonModel(b),this.$().setModel(this._oModel),this.$().process(e),a.resolve(),"add"!=h){var g=this,m=$.Deferred();$.when(t.sbo.page.pad.settings.BoTypeHelper.getTypeByKey(d.type)).done(function(e){d.type_data=e,null!=d.validationRule&&g.__initValidationRule(d),g.__initValidationRule(d),g.__initValidValues(d),g._oModel.setValue("data",d),m.resolve()}),m.promise()}return this.__addEvent(),a.promise()},destoryView:function(){this.$().unprocess()},update:function(){}},Protected:{__addEvent:function(){var e=this;$("#typePicker").getControl().attachEvent("click",function(){var t=e._oModel.getValue("data");window.SboShell.openFrame({view:"sap.sbo.page.pad.settings.ChooseBoType",type:"right",options:{},callback:function(o,n){n&&(t.type_data=n.data,"BoYesNoEnum"==t.type_data.key?t.defaultValue_List=s:t.rules="String"==t.type_data.key||"Text"==t.type_data.key?i:a,e._oModel.setValue("data/type_data",t.type_data),e._oModel.setValue("data/rules",t.rules),e.__updateDefaultValue(t,!1))}})}),$("#defaultValueDropdownList").getControl().attachEvent("change",function(){$("#defaultValueGroup").attr("isvalid","true"),$("#defaultValueDropdownList").removeClass("addError")}),$("#addNewValidValue").on("vclick",function(){var t=e._oModel.getValue("data");t.validValues_List.push(e.__getNewValidValueItem(!1)),e._oModel.setValue("data/validValues_List",t.validValues_List)}),$("#chooseValidValues").on("vclick",function(){var t=e._oModel.getValue("data");window.SboShell.openFrame({view:"sap.sbo.page.pad.settings.ChooseEnumValues",type:"right",options:{enumValues:e.__getEnumValues(t)},callback:function(o,a){void 0!=a&&(e._oModel.setValue("data/validValues_List",a.data),0!=a.data.length?(t.enableValidValues=!0,$("#validValuesGroup .groupContent").slideDown()):(t.enableValidValues=!1,$("#validValuesGroup .groupContent").slideUp()),e.__updateDefaultValue(t,!1))}})}),this.$().on("vclick","#itemsPresenter #removeValidValue",function(){var t=e._oModel.getValue("data"),o=$("#itemsPresenter .row").index($(this).parents(".row")),a=t.validValues_List[o];1==t.validValues_List.length?t.isEnum?(t.enableValidValues=!1,$("#validValuesGroup .groupContent").slideUp()):t.validValues_List.splice(0,1,e.__getNewValidValueItem(!1)):t.validValues_List.splice(o,1),e._oModel.setValue("data/validValues_List",t.validValues_List),e.__isEmptyValidValuesItem(t,a)||e.__updateDefaultValue(t,!1)}),this.$().on("blur","#itemsPresenter .row input",function(){var t=e._oModel.getValue("data"),o=$("#itemsPresenter .row").index($(this).parents(".row")),a=t.validValues_List[o];e.__isEmptyValidValuesItem(t,a)||e.__updateDefaultValue(t,!1)}),this.$().on("blur","#field_Name",function(){var t=e._oModel.getValue("data");if(t.isNewField){if(null==t.name||""==t.name)return $(this).parents(".labelBox").attr("isvalid","false"),$(this).addClass("addError"),void 0;$(this).parents(".labelBox").attr("isvalid","true"),$(this).removeClass("addError");var o={name:t.name,boName:e._oModel.getValue("boName"),boNamespace:e._oModel.getValue("boNamespace")},a=this;$.when(e._oUdfService.onPropertyChange(o,"Root/name","PropertyUpdate")).fail(function(e){$(a).addClass("addError"),window.SboShell.raiseException(e)})}}),this.$().on("blur","#defaultValueTextInput",function(){var t=e._oModel.getValue("data");e.__verifyDefaultValue(t,this,t.defaultValue_Text)}),this.$().on("blur","#defaultValueDecimalInput",function(){var t=e._oModel.getValue("data");e.__verifyDefaultValue(t,this,t.defaultValue_Decimal)}),this.$().on("blur","#field_DisplayName",function(){var t=e._oModel.getValue("data");null==t.label||""==t.label?($(this).parents(".labelBox").attr("isvalid","false"),$(this).addClass("addError")):($(this).parents(".labelBox").attr("isvalid","true"),$(this).removeClass("addError"))
}),this.$().on("vclick",".group .groupHeader span",function(){var t=e._oModel.getValue("data");"validValuesCheckbox"==this.id?t.enableValidValues?($("#validationRuleGroup .groupContent").slideUp(),$("#validValuesGroup .groupContent").slideDown(),t.enableValidation=!1):$("#validValuesGroup .groupContent").slideUp():t.enableValidation?($("#validationRuleGroup .groupContent").slideDown(),$("#validValuesGroup .groupContent").slideUp(),t.enableValidValues=!1):$("#validationRuleGroup .groupContent").slideUp(),e._oModel.setValue("data",t)}),$("#saveButton").getControl().attachEvent("click",function(){var t=e._oModel.getValue("data");e.__verifyUserInput(t)&&(t.userDefined?t.isNewField?e.__addUserDefinedField(e):$.when(e._oUdfService.query(e.__getFilterParam(e._oModel))).done(function(t){if(0!=t.value.length){var o=e.__getFieldMetadata(e._oModel);$.when(e._oUdfService.update(o,t.value[0])).done(function(){var t=o.validValues;o.validValues={value:t},e.closeFrame({operationType:"save",property:o}),window.SboShell.raiseMessage("Update user defined field successfully","success")}).fail(function(e){window.SboShell.raiseException(e)})}else e.closeFrame()}).fail(function(e){window.SboShell.raiseException(e)}):$.when(e._oSfeService.query(e.__getFilterParam(e._oModel))).done(function(t){if(0==t.value.length){if(!e.__addSystemField(e))return}else if(!e.__updateSystemField(e,t))return}).fail(function(e){window.SboShell.raiseException(e)}))}),$("#resetButton").getControl().attachEvent("click",function(){var t=e._oModel.getValue("boName"),o=e._oModel.getValue("boNamespace"),a=e._oModel.getValue("boNodeTypeName"),i=e._oModel.getValue("data").name;$.when(e._oSfeService.query(e.__getFilterParam(e._oModel))).done(function(s){0!=s.value.length?$.when(e._oSfeService["delete"](s.value[0])).done(function(){$.when(e._oService.getPropertyMetadata(o,t,a,i)).done(function(t){t&&(e.closeFrame({operationType:"reset",property:t}),window.SboShell.raiseMessage("Reset system extension field successfully","success"))}).fail(function(e){window.SboShell.raiseException(e)})}).fail(function(e){window.SboShell.raiseException(e)}):e.closeFrame()}).fail(function(e){window.SboShell.raiseException(e)})}),$("#deleteButton").getControl().attachEvent("click",function(){$.when(t.ui.MessageBox.show({message:t.sbo.localization.Helper.get("app/settings/DELETE_UDF_WARNING"),title:t.sbo.localization.Helper.get("common/INFO"),icon:"information",buttons:[{key:"yes",text:t.sbo.localization.Helper.get("common/OK")},{key:"no",text:t.sbo.localization.Helper.get("common/CANCEL")}]})).done(function(t){"yes"==t&&$.when(e._oUdfService.query(e.__getFilterParam(e._oModel))).done(function(t){0!=t.value.length&&$.when(e._oUdfService["delete"](t.value[0])).done(function(){e.closeFrame({operationType:"delete",property:""}),window.SboShell.raiseMessage("Delete user defined field successfully","success")}).fail(function(e){window.SboShell.raiseException(e)})}).fail(function(e){window.SboShell.raiseException(e)})})})},__getValidValues:function(e){var t=[];if(e.enableValidValues){var o=this;$(e.validValues_List).each(function(){o.__isEmptyValidValuesItem(e,this)||("DateTime"==e.type_data.key?t.push({value:this.dateValue,description:this.desc}):e.type_data.isDecimal?t.push({value:this.decimalValue,description:this.desc}):t.push({value:this.textValue,description:this.desc}))})}return t},__initValidationRule:function(e){if("String"!=e.type_data.key&&(e.rules=a),null!=e.validationRule){e.enableValidation=!0,$("#validationRuleGroup .groupContent").slideDown();var t=e.validationRule.indexOf("=");if(e.selectedRule=e.validationRule.substring(0,t),"bt"==e.selectedRule||"nb"==e.selectedRule){var o=e.validationRule.substring(t+2,e.validationRule.length-1),i=o.indexOf(",");"DateTime"==e.type_data.key?(e.ruleExpression_From_Date=o.substring(0,i),e.ruleExpression_To_Date=o.substring(i+1)):e.type_data.isDecimal?(e.ruleExpression_From_Decimal=o.substring(0,i),e.ruleExpression_To_Decimal=o.substring(i+1)):(e.ruleExpression_From_Text=o.substring(0,i),e.ruleExpression_To_Text=o.substring(i+1))}else"DateTime"==e.type_data.key?e.ruleExpression_Date=e.validationRule.substring(t+1):e.type_data.isDecimal?e.ruleExpression_Decimal=e.validationRule.substring(t+1):e.ruleExpression_Text=e.validationRule.substring(t+1);this.__updateDefaultValue(e,!0)}},__getEnumValues:function(e){var t=[];return e.isEnum&&$(e.enumerationTypeMeta.members.value).each(function(){var o=this,a=0!=$(e.validValues_List).filter(function(){return this.textValue==o.name}).length;t.push({key:this.name,text:this.name,desc:this.label,isSelected:a})}),t},__initValidValues:function(e){var t=[];if(0!=e.validValues.value.length){e.enableValidValues=!0,$("#validValuesGroup .groupContent").slideDown();var o=this;$(e.validValues.value).each(function(){var a=o.__getNewValidValueItem(e.isEnum);a.desc=this.description,"DateTime"==e.type_data.key?a.dateValue=this.value:e.type_data.isDecimal?a.decimalValue=this.value:a.textValue=this.value,t.push(a)})}else e.isEnum||t.push(this.__getNewValidValueItem(e.isEnum));e.validValues_List=t,this.__updateDefaultValue(e,!0)},__updateDefaultValue:function(e,t){if("BoYesNoEnum"==e.type_data.key)e.defaultValue_List=s,e.selectedDefaultValue=e.defaultValue;else if(e.defaultValue_List=[],e.isEnum&&0==e.validValues_List.length)e.defaultValue_List=this.__getEnumValues(e);else if(e.enableValidValues){var o=this,a=[];$(e.validValues_List).each(function(){o.__isEmptyValidValuesItem(e,this)||("DateTime"==e.type_data.key?a.push({key:o.__formatDate(this.dateValue),text:o.__formatDate(this.dateValue)+"  -  "+this.desc}):e.type_data.isDecimal?a.push({key:this.decimalValue,text:this.decimalValue+"  -  "+this.desc}):a.push({key:this.textValue,text:this.textValue+"  -  "+this.desc}))}),e.defaultValue_List=a,t&&(e.selectedDefaultValue=e.defaultValue)}else null!=e.defaultValue&&("DateTime"==e.type_data.key?e.defaultValue_Date=e.defaultValue:e.type_data.isDecimal?e.defaultValue_Decimal=e.defaultValue:e.defaultValue_Text=e.defaultValue);this._oModel.setValue("data/defaultValue_List",e.defaultValue_List),this._oModel.setValue("data/selectedDefaultValue",e.selectedDefaultValue),this._oModel.setValue("data/defaultValue_Text",e.defaultValue_Text),this._oModel.setValue("data/defaultValue_Decimal",e.defaultValue_Decimal),this._oModel.setValue("data/defaultValue_Date",e.defaultValue_Date)},__getDefaultValue:function(e){return"BoYesNoEnum"==e.type_data.key?e.selectedDefaultValue:"Email"!=e.type_data.key&&"Phone"!=e.type_data.key&&"Link"!=e.type_data.key&&e.enableValidValues?e.selectedDefaultValue:"DateTime"!=e.type_data.key?e.type_data.isDecimal?e.defaultValue_Decimal:e.defaultValue_Text:null!=e.defaultValue_Date?e.defaultValue_Date:null},__addSystemField:function(e){var t=e.__getFieldMetadata(e._oModel);return $.when(e._oSfeService.create(t)).done(function(){var o=t.validValues;t.validValues={value:o},e.closeFrame({operationType:"save",property:$.extend({userDefined:!1},t)}),window.SboShell.raiseMessage("Add system extension field successfully","success")}).fail(function(e){return window.SboShell.raiseException(e),!1}),!0},__updateSystemField:function(e,t){var o=e._oModel.getValue("data"),a=e.__getFieldMetadata(e._oModel);return $.when(e._oSfeService.update(a,t.value[0])).done(function(){var t=a.validValues;a.validValues={value:t},e.closeFrame({operationType:"save",property:$.extend({userDefined:!1,type:o.type_data.key},a)}),window.SboShell.raiseMessage("Update system extension field successfully","success")}).fail(function(e){return window.SboShell.raiseException(e),!1}),!0},__isEmptyValidValuesItem:function(e,t){if(void 0==t)return!0;if("DateTime"==e.type_data.key){if((null==t.desc||""==$.trim(t.desc))&&null==t.dateValue)return!0}else if(e.type_data.isDecimal){if((null==t.desc||""==$.trim(t.desc))&&null==t.decimalValue)return!0}else if(!(null!=t.desc&&""!=$.trim(t.desc)||null!=t.textValue&&""!=$.trim(t.textValue)))return!0;return!1},__addUserDefinedField:function(e){var t=e.__getFieldMetadata(e._oModel);return $.when(e._oUdfService.create(t)).done(function(){var o=t.validValues;t.validValues={value:o},e.closeFrame({operationType:"save",property:t}),window.SboShell.raiseMessage("Add user defined field successfully","success")}).fail(function(e){return window.SboShell.raiseException(e),!1}),!0},__getFieldMetadata:function(e){var t=e.getValue("data"),o={};return o.boName=e.getValue("boName"),o.boNamespace=e.getValue("boNamespace"),o.boNodeTypeName=e.getValue("boNodeTypeName"),o.name=t.name,o.label=t.label,o.type=t.type_data.key,o.description=t.description,o.defaultValue=this.__getDefaultValue(t),t.userDefined?o.mandatory=t.mandatory:o.requireInput=t.mandatory,"Email"!=o.type&&"Phone"!=o.type&&"Link"!=o.type?(o.validationRule=this.__getValidRulePattern(t),o.validValues=this.__getValidValues(t),t.enableValidation&&(o.customErrorMessage=t.customErrorMessage)):o.validValues=[],o},__getFilterParam:function(e){var t=e.getValue("boNodeTypeName"),o="boName eq '"+e.getValue("boName")+"'",a="boNamespace eq '"+e.getValue("boNamespace")+"'",i="name eq '"+e.getValue("data").name+"'",s="";s=void 0==t?"boNodeTypeName eq null":"boNodeTypeName eq '"+t+"'";var n={filter:a+" and "+o+" and "+s+" and "+i};return n},__verifyUserInput:function(e){return null==e.name||""==e.name?($("#field_Name").parents(".labelBox").attr("isvalid","false"),$("#field_Name").addClass("addError"),!1):null==e.label||""==e.label?($("#field_DisplayName").parents(".labelBox").attr("isvalid","false"),$("#field_DisplayName").addClass("addError"),!1):"Email"==e.type_data.key||"Phone"==e.type_data.key||"Link"==e.type_data.key||"BoYesNoEnum"!=e.type_data.key&&!e.enableValidValues||null!=e.selectedDefaultValue&&""!=e.selectedDefaultValue?!0:(this._oModel.setValue("data/errorList/field_DefaultValue",o.get("app/settings/ERROR_DF_SELECTOR")),$("#defaultValueGroup").attr("isvalid","false"),$("#defaultValueDropdownList").addClass("addError"),!1)},__getValidRulePattern:function(e){if(e.enableValidation){if(""==$.trim(e.selectedRule)||"none"==e.selectedRule)return null;if("bt"==e.selectedRule||"nb"==e.selectedRule)if("DateTime"==e.type_data.key){if(null!=e.ruleExpression_From_Date&&null!=e.ruleExpression_To_Date)return e.selectedRule+"=["+e.ruleExpression_From_Date+","+e.ruleExpression_To_Date+"]"}else{if(!e.type_data.isDecimal)return e.selectedRule+"=["+e.ruleExpression_From_Decimal+","+e.ruleExpression_To_Decimal+"]";if(""!=$.trim(e.ruleExpression_From_Text)&&""!=$.trim(e.ruleExpression_To_Text))return e.selectedRule+"=["+e.ruleExpression_From_Text+","+e.ruleExpression_To_Text+"]"}else if("DateTime"==e.type_data.key){if(null!=e.ruleExpression_Date)return e.selectedRule+"="+e.ruleExpression_Date}else{if(e.type_data.isDecimal)return e.selectedRule+"="+e.ruleExpression_Decimal;if(""!=$.trim(e.ruleExpression_Text))return e.selectedRule+"="+e.ruleExpression_Text}}return null},__verifyDefaultValue:function(e,t,o){var a={defaultValue:o,boName:this._oModel.getValue("boName"),boNamespace:this._oModel.getValue("boNamespace"),type:e.type_data.key,validationRule:this.__getValidRulePattern(e)};$.when(this._oUdfService.onPropertyChange(a,"Root/defaultValue","PropertyUpdate")).done(function(){$(t).removeClass("addError")}).fail(function(e){$(t).addClass("addError"),window.SboShell.raiseException(e)})},__formatDate:function(e){if(null==e)return null;var o=t.sbo.util.formatter.date_JODATime(e,"<<"),a=o.getFullYear(),i=o.getMonth()+1,s=o.getDate();return 1==(""+i).length&&(i="0"+i),1==(""+s).length&&(s="0"+s),a+"-"+i+"-"+s},__getNewValidValueItem:function(e){return{textValue:"",desc:"",dateValue:null,decimalValue:"",isEnum:e}}}})}),define("sap.sbo.page.pad.Home",["sap.core.klass","sap.core.JsonModel","sap.ui.View","sap.sbo.layout.TileView","sap.ui.common","sap.ui.Controller","sap.log","sap.sbo.ui.PageController","sap.ui.widget.Button","sap.sbo.layout.pad.AdvancedTilesLayout","sap.sbo.shell.IFeaturable","sap.ui.widget.Button","sap.sbo.app.network.FeedTile","sap.ui.MessageBox","sap.sbo.localization.Helper","css!sap.sbo.page.pad.Home"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.PageController,Interfaces:[t.sbo.shell.IFeaturable],Public:{init:function(){t.sbo.ui.PageController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{})},destroy:function(){},initView:function(){window.SboShell.groupAllActionButtons(!0);var o=$.Deferred();return this.setTitle(t.sbo.localization.Helper.get("common/PRODUCT_TITLE")),this.$().process(e),o.resolve(),o.promise()},destroyView:function(){this.$().unprocess(),SboShell.groupAllActionButtons(!1)},update:function(){},doFeature:function(){}},Protected:{}})}),define("sap.sbo.page.pad.LightBoMetadataList",["sap.ui.Controller","sap.core.DestroyPool","sap.core.GuardedTimer","sap.core.JsonModel","sap.sbo.ui.PageController","sap.sbo.util.metadataHelper","sap.sbo.ui.Loop","sap.util","sap.sbo.layout.pad.MetadataRaw","sap.sbo.localization.Helper","html!sap.sbo.app.template.DynamicProperty","css!sap.sbo.app.template.DynamicProperty","html!sap.sbo.page.pad.LightBoMetadataList","css!sap.sbo.page.pad.LightBoMetadataList"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.PageController,Interfaces:[],Events:[],Options:{tileWidth:{type:"integer",defaultValue:250},Padding:{type:"integer",defaultValue:15}},Public:{init:function(){t.sbo.ui.PageController.prototype.init.apply(this,arguments),this.declareMember({__oService:null,__oModel:this.autoDestroy(new t.core.JsonModel({})),__oIScroll:null,__oldSize:null,__oLoop:null,__oOnChangePaths:[],__oOldData:null,__dtdRelayout:null,__oTimer:this.autoDestroy(new t.core.GuardedTimer),__confirmationDisabled:!1}),$(window).on("resize",this.autoDestroy(this.__resize.bind(this),function(){$(window).off("resize",this)}))},destroy:function(){},initView:function(o){var a=$.Deferred();this.__oDestroyPool=new t.core.DestroyPool;var i=[].reduce.call(this.$().children().filter("[data-sap-template]"),function(e,t){var o=$(t).remove();return e[o.attr("data-sap-template")]=o.children(),e},{});this.$().html(e.html.sap.sbo.page.pad.LightBoMetadataList),this.$('[data-id="sbo-lightbo-metadata-list"]>.header').append(i.header),this.$('[data-id="sbo-lightbo-metadata-list"]>.list>.container>.items>.item>.header').append(i.itemHeader),this.$('[data-id="sbo-lightbo-metadata-list"]>.list>.container>.items>.item>.fields').append(i.itemFields),this.__oIScroll=this.__oDestroyPool.add(new iScroll(this.$('[data-id="sbo-lightbo-metadata-list"]>.list>.container')[0],{vScroll:!1,onBeforeScrollStart:function(e){var t=$(e.target);if(t.is("input")||t.is("select")||t.is("textarea")||"file"===t.attr("value")){if(!t.prop("disabled")&&!t.prop("readonly"))return!0}else if(this.beforeScrollEnd&&this.beforeScrollEnd(e))return!0;e.preventDefault()}.bind(this)})),this.__oIScroll.disable(),this.$().setModel(this.__oModel);var s=this.getBoKeyEntity();return $.when(this.__oService.getMetadata(s.boNamespace,s.boName),this.__oService.query()).done(function(i,s){this.__dtdRelayout=$.Deferred(),this.__oModel.setValue("",s),this.$().process($.extend(!0,{},e,o)),this.__oDestroyPool.add(this.$(),this.$().unprocess);var n=t.sbo.util.metadataHelper.convert(i);this.__oOnChangePaths=n.onChangePaths;var r=[];this.__oLoop=this.$('[data-id="sbo-lightbo-metadata-list"]>.list>.container>.items').getControl(),this.__oLoop.attachEvent("allProcessed",function(){$.when.apply($,r).done(function(){this.reLayout()}.bind(this))}.bind(this)),this.__oLoop.attachEvent("domCreated",function(t){var o=t.find(".fields").getControl();r.push(o.setOption({ignoredProperty:this.getIgnoredProperty(),metadata:n.properties,enumMeta:n.enumTypes,propertyTemplate:e.html.sap.sbo.app.template.DynamicProperty,readonly:!0})),o.attachEvent("controlRendered",function(){this.reLayout()}.bind(this))}.bind(this)),this.$().on("vclick",".icon",function(e){if(!this.__confirmationDisabled){var t=$(e.target);this["on_"+t.attr("gl-action")](t.findModel("loop"),t.parents(".item:first"))}}.bind(this));var l=[];this.isCreateEnabled()&&l.unshift({text:t.sbo.localization.Helper.get("common/ADD"),key:"create"}),this.isRemoveEnabled()||this.$('div[data-id="sbo-lightbo-metadata-list"]').addClass("hideDeleteIcon"),window.SboShell.addActionButtons(l,this),window.SboShell.attachEvent("actionButtonClick",this.__oDestroyPool.add(function(e){this["on_"+e]()}.bind(this),function(){window.SboShell.detachEvent("actionButtonClick",this)})),a.resolve(n.properties,s.value)}.bind(this)).fail(function(e){window.SboShell.raiseException(e)}),a.promise()},destroyView:function(){this.__oDestroyPool.destroy(),this.__oDestroyPool=null},update:function(){},disableActionButtons:function(){this.__confirmationDisabled=!0,this.$('div[data-id="sbo-lightbo-metadata-list"]').addClass("confirmation-disabled"),window.SboShell.disableActionButtons(["create"])},enableActionButtons:function(){this.__confirmationDisabled=!1,this.$('div[data-id="sbo-lightbo-metadata-list"]').removeClass("confirmation-disabled"),window.SboShell.enableActionButtons(["create"])},isNewEnabled:function(){return!0},isCreateEnabled:function(){return!0},isRemoveEnabled:function(){return!0},on_create:function(){t.util.showLoading(),$.when(this.__oService.getInit()).done(function(e){var t=this.__oModel.getValue("value");t.push(e),this.__dtdRelayout=$.Deferred(),$.when(this.__oModel.setValue("value",t)).done(function(){var e=this.__oLoop.__items.slice(-1)[0];this.on_edit(e.model,e.$,!0)}.bind(this))}.bind(this)).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()})},on_edit:function(e,t,o){this.highlightDom(t),t.addClass("editmode"),t.find(".fields").getControl().setOption("readonly",!1),o?e.setValue("internal/creating",!0):this.__oOldData=$.extend(!0,{},e.getValue("data"))},on_remove:function(e){t.util.showLoading(),$.when(this.__oService["delete"](e.getValue("data"))).done(function(){$.when(this.__oService.query()).done(function(e){this.__dtdRelayout=$.Deferred(),this.__oModel.setValue("",e)}.bind(this))}.bind(this)).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()})},on_yes:function(e,o){this.highlightDom(),o.find(".fields").getControl().setOption("readonly",!0),o.removeClass("editmode");var a=e.getValue("data");t.util.showLoading(),$.when(e.getValue("internal/creating")?this.__oService.create(a):this.__oService.update(a,a)).done(function(t){e.setValue("data",t),e.setValue("internal/creating",!1)}.bind(this)).fail(function(t){window.SboShell.raiseException(t),this.on_no(e,o)}.bind(this)).always(function(){t.util.hideLoading()})},on_no:function(e,t){if(this.highlightDom(),e.getValue("internal/creating")){var o=this.__oModel.getValue("value");o.pop(),this.__dtdRelayout=$.Deferred(),this.__oModel.setValue("value",o)}else t.find(".fields").getControl().setOption("readonly",!0),t.removeClass("editmode"),e.setValue("data",this.__oOldData)},highlightDom:function(e){e?(this.$('[data-id="sbo-lightbo-metadata-list"]').addClass("showmask"),$.when(this.__dtdRelayout).done(function(){this.__oIScroll.scrollToElement(e[0])}.bind(this)),window.SboShell.disableActionButtons(["create"])):(this.$('[data-id="sbo-lightbo-metadata-list"]').removeClass("showmask"),window.SboShell.enableActionButtons(["create"]))},getIgnoredProperty:function(){return[]},beforeScrollEnd:function(){return!1},reLayout:function(){for(var e=$("[data-id='sbo-lightbo-metadata-list']>.list>.container")[0].clientHeight,t=this.getOption("Padding"),o=0;this.__oLoop.__items.length>o;++o)this.__oLoop.__items[o].$.css({"max-height":e});for(var a=0,i=0,o=0;this.__oLoop.__items.length>o;++o){var s=this.__oLoop.__items[o].$.outerHeight(),n=this.__oLoop.__items[o].$.outerWidth();i+s>e&&(i=0,a+=n+t),this.__oLoop.__items[o].$.css({left:a,top:i}),i+=s+t}$("[data-id='sbo-lightbo-metadata-list']>.list>.container>.items").css({width:a+n+t,height:e}),this.__oIScroll.enable(),this.__oIScroll.refresh(),this.__dtdRelayout&&this.__dtdRelayout.resolve()},__resize:function(){this.__oLoop&&this.reLayout()}},Protected:{}})}),define("sap.sbo.page.pad.SubBoMetadataView",["sap.ui.Controller","sap.sbo.page.BaseSubBoMetadataView","sap.sbo.localization.Helper","sap.sbo.util.metadataHelper","sap.sbo.shell.IViewHistoryRecordable","sap.sbo.layout.pad.MetadataList","sap.sbo.layout.pad.MetadataRaw","sap.ui.widget.Button","html!sap.sbo.app.template.DynamicProperty","css!sap.sbo.app.template.DynamicProperty","html!sap.sbo.page.pad.SubBoMetadataView","css!sap.sbo.page.pad.SubBoMetadataView","css!sap.sbo.app.template.EditProperty"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.BaseSubBoMetadataView,Interfaces:[t.sbo.shell.IViewHistoryRecordable],Events:[],Options:{},Public:{init:function(){t.sbo.page.BaseSubBoMetadataView.prototype.init.apply(this,arguments),this.declareMember({__itemWidth:306,__itemPadding:8,__buttons:[],__deleteIconDisabled:!1,__oldVal:null,__bInEditMode:!1})},destroy:function(){},initView:function(o){var a=$.Deferred(),i=$(e.html.sap.sbo.page.pad.SubBoMetadataView),s=[].reduce.call(i.filter("[data-sap-template]"),function(e,t){var o=$(t);return e[o.attr("data-sap-template")]=o.children(),e},{});return $.when(t.sbo.page.BaseSubBoMetadataView.prototype.initView.call(this,s,jQuery.extend(!0,{},e,o))).done(function(o,i,n,r){s.pageHeader.process(e),this.__oLoop.attachEvent("domCreated",function(a){var i=a.findModel("loop").getValue("data"),s=t.sbo.util.metadataHelper.convertDynamicMeta(i["sbo.dynamicmeta"]);a.find(".fields").getControl().setOption({ignoredProperty:this.getIgnoredProperty(),metadata:o,enumMeta:n,dynamicMeta:0!==Object.keys(s).length?s.properties:r.properties,propertyTemplate:e.html.sap.sbo.app.template.DynamicProperty,scrollEventCheck:this.beforeScrollEnd||null})}.bind(this));var l=this;this.__oDestroyPool.add(this.__oLoop.$().on("click",'[data-type="actionicon"]',function(){switch($(this).attr("class")){case"deleteicon":!l.__deleteIconDisabled&&l.on_delete($(this).findModel("loop").getValue("internal/index"));break;case"detailicon":l.__oSettingModel.getValue("customReadonly")?l.on_navigation($(this).findModel("loop")):l.on_chooseFromList($(this).findModel("loop"))}}),function(){this.off("click",".deleteicon")}),this.__oIScroll.options.vScroll=!1,this.__oIScroll.refresh();var d=null;d=r.readOnly?[]:[{text:t.sbo.localization.Helper.get("common/ADD"),key:"create"},{text:t.sbo.localization.Helper.get("common/CANCEL"),key:"cancel"},{text:t.sbo.localization.Helper.get("common/SAVE"),key:"save"},{text:t.sbo.localization.Helper.get("common/EDIT"),key:"edit"}],this.__isInFrame?(this.__buttons=this.$('[data-id="sbo-subbo-metadata-page-header"]>.buttons>button').map(function(e,t){return $(t).getControl()}),this.$('[data-id="sbo-subbo-metadata-page-header"]').on("GuilinControlEvent.click","button",function(e){this["on_"+$(e.target).attr("gl-action")]()}.bind(this))):(window.SboShell.addActionButtons(d,this),this.exitEditMode()),a.resolve(o,i)}.bind(this)),window.SboShell.attachEvent("actionButtonClick",this.__oDestroyPool.add(function(e){this["on_"+e]()}.bind(this),function(){window.SboShell.detachEvent("actionButtonClick",this)})),a.promise()},destroyView:function(){t.sbo.page.BaseSubBoMetadataView.prototype.destroyView.call(this)},update:function(){t.sbo.page.BaseSubBoMetadataView.prototype.update.apply(this,arguments)},exitEditMode:function(){window.SboShell.showActionButtons(["edit"]),window.SboShell.hideActionButtons(["save","cancel"]),window.SboShell.hideActionButtons(["create"]),this.hideRemoveButton(!0),$.when(this.__oSettingModel.setValue("customReadonly",!0)).done(function(){for(var e=0;this.__oLoop.__items.length>e;++e){var t=this.__oLoop.__items[e].$.find(".sbo-metadata-scroll").getControl()._oIScroll;t&&t.refresh()}}.bind(this)),this.__bInEditMode=!1},onEditAndCreate:function(){this.__bInEditMode||this.enterEditMode(),this.on_create()},enterEditMode:function(){window.SboShell.showActionButtons(["save","cancel"]),window.SboShell.hideActionButtons(["edit"]),this.isNewCreateEnabled()&&(window.SboShell.showActionButtons(["create"]),this.hideRemoveButton(!1)),$.when(this.__oSettingModel.setValue("customReadonly",!1)).done(function(){for(var e=0;this.__oLoop.__items.length>e;++e){var t=this.__oLoop.__items[e].$.find(".sbo-metadata-scroll").getControl()._oIScroll;t&&t.refresh()}}.bind(this)),this.__bInEditMode=!0},disableActionButtons:function(){this.__isInFrame?this.__buttons.each(function(e,t){t.setOption("disabled",!0)}):window.SboShell.disableActionButtons(["create","save","cancel"]),this.disableRemoveButton(!0)},enableActionButtons:function(){this.__isInFrame?this.__buttons.each(function(e,t){t.setOption("disabled",!1)}):window.SboShell.enableActionButtons(["create","save","cancel"]),this.disableRemoveButton(!1)},on_cancel:function(){this.__isInFrame?this.closeFrame():(this.__oModel.setValue("",this.__oldVal),this.exitEditMode())},on_save:function(){return this.__isInFrame?(this.closeFrame(this.__oModel.getValue("")),void 0):$.when(t.sbo.page.BaseSubBoMetadataView.prototype.on_save.apply(this,arguments)).done(function(e){this.__oModel.setValue("",e),this.exitEditMode()}.bind(this))},on_edit:function(){this.__oldVal=$.extend(!0,{},this.__oModel.getValue("")),this.enterEditMode()},isNewCreateEnabled:function(){return!0},hideRemoveButton:function(e){this.isNewCreateEnabled()?this.$('div[data-id="sbo-subbo-metadata-view"]')[e?"addClass":"removeClass"]("hideDeleteIcon"):this.$('div[data-id="sbo-subbo-metadata-view"]').addClass("hideDeleteIcon")},disableRemoveButton:function(e){this.$('div[data-id="sbo-subbo-metadata-view"]')[e?"addClass":"removeClass"]("disableDeleteIcon"),this.__deleteIconDisabled=e},beforeScrollEnd:function(e){return $(e.target).hasClass("deleteicon")},itemsPosUpdate:function(e){for(var t=0;e.__items.length>t;++t){var o=e.__items[e.__items.length-t-1].$;o.css({left:t*(this.__itemWidth+this.__itemPadding),width:this.__itemWidth})}e.$().css("width",e.__items.length*(this.__itemWidth+this.__itemPadding)-this.__itemPadding)},on_navigation:function(){},on_chooseFromList:function(){}},Protected:{shouldBeRecorded:function(){return!0}}})}),define("sap.sbo.page.pad.SubBoMetadataView2",["sap.ui.Controller","sap.sbo.page.BaseSubBoMetadataView","sap.sbo.localization.Helper","sap.sbo.util.metadataHelper","sap.sbo.shell.IFeaturable","sap.sbo.shell.IViewHistoryRecordable","sap.log","sap.sbo.layout.pad.MetadataRaw","sap.ui.widget.Button","html!sap.sbo.app.template.DynamicProperty","css!sap.sbo.app.template.DynamicProperty","html!sap.sbo.page.pad.SubBoMetadataView2","css!sap.sbo.page.pad.SubBoMetadataView2","css!sap.sbo.app.template.EditProperty"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.BaseSubBoMetadataView,Interfaces:[t.sbo.shell.IViewHistoryRecordable,t.sbo.shell.IFeaturable],Events:[],Options:{},Public:{init:function(){t.sbo.page.BaseSubBoMetadataView.prototype.init.apply(this,arguments),this.declareMember({__nodeMeta:[],__readonly:!1}),window.SboShell.addFeature(this,"SubBoMetadataView.getModel","method"),window.SboShell.addFeature(this,"SubBoMetadataView.getGlobalDynamicMeta","method"),window.SboShell.addFeature(this,"SubBoMetadataView.hideRemove","event"),window.SboShell.addFeature(this,"SubBoMetadataView.valueUpdated","event"),window.SboShell.addFeature(this,"SubBoMetadataView.showRemove","event"),this.autoDestroy("remove the feature",function(){window.SboShell.removeFeature("SubBoMetadataView.getGlobalDynamicMeta"),window.SboShell.removeFeature("SubBoMetadataView.getModel"),window.SboShell.removeFeature("SubBoMetadataView.hideRemove"),window.SboShell.removeFeature("SubBoMetadataView.valueUpdated"),window.SboShell.removeFeature("SubBoMetadataView.showRemove")})},destroy:function(){},initView:function(o){var a=$.Deferred();this.$().addClass("sbo-subbo-metadata-view2"),this.autoDestroy(this.$(),function(){this.removeClass("sbo-subbo-metadata-view2")}),this.__oSettingModel.setValue("buttonEnabled",!0);var i=$(e.html.sap.sbo.page.pad.SubBoMetadataView2),s=[].reduce.call(i.filter("[data-sap-template]"),function(e,t){var o=$(t);return e[o.attr("data-sap-template")]=o.children(),e},{});return $.when(t.sbo.page.BaseSubBoMetadataView.prototype.initView.call(this,s,jQuery.extend(!0,{},e,o))).done(function(o,i,s,n){this.__nodeMeta=o,this.__oLoop.attachEvent("domCreated",function(a){var i=a.findModel("loop").getValue("data"),r=t.sbo.util.metadataHelper.convertDynamicMeta(i["sbo.dynamicmeta"]);a.find(".fields").getControl().setOption({ignoredProperty:this.getIgnoredProperty(),metadata:o,enumMeta:s,dynamicMeta:0!==Object.keys(r).length?r.properties:n.properties,propertyTemplate:e.html.sap.sbo.app.template.DynamicProperty}).done(function(){var e=a.find('.sbo-metadata-list-property[gl-enabled="true"]');0!==e.length&&e.css("width",100/e.length+"%")})}.bind(this)),this.$(".list>.labels").getControl().setOption({ignoredProperty:this.getIgnoredProperty(),metadata:o,enumMeta:s,dynamicMeta:n.properties,propertyTemplate:e.html.sap.sbo.app.template.DynamicProperty}).done(function(){var e=this.$(".list>.labels").find('.sbo-metadata-list-property[gl-enabled="true"]');0!==e.length&&e.css("width",100/e.length+"%")}.bind(this)),this.__oIScroll.options.hScroll=!1,this.__oIScroll.refresh(),this.__oLoop.$().on("vclick",">.item",function(e){this.__openItemDetail($(e.target).findModel("loop"),e.target,null,!this.isNewCreateEnabled())}.bind(this));var r=null;if(this.__readonly=n.readOnly,n.readOnly)r=[{text:t.sbo.localization.Helper.get("common/OK"),key:"sub*cancel"}];else{var r=[{text:t.sbo.localization.Helper.get("common/SAVE"),key:"sub*save"},{text:t.sbo.localization.Helper.get("common/CANCEL"),key:"sub*cancel"}];this.isNewCreateEnabled()&&r.unshift({text:t.sbo.localization.Helper.get("common/ADD"),key:"sub*create"})}this.__isInFrame?this.$('[data-id="sbo-subbo-metadata-page-header"]').on("GuilinControlEvent.click",'button[data-touchable="true"]',function(e){this["on_"+$(e.target).attr("gl-action")]()}.bind(this)):window.SboShell.addActionButtons(r,this),a.resolve(o,i)}.bind(this)),window.SboShell.attachEvent("actionButtonClick",this.__oDestroyPool.add(function(e){/^sub\*/.test(e)&&this["on_"+e.replace("sub*","")]()}.bind(this),function(){window.SboShell.detachEvent("actionButtonClick",this)})),a.promise()},destroyView:function(){t.sbo.page.BaseSubBoMetadataView.prototype.destroyView.call(this)},update:function(){t.sbo.page.BaseSubBoMetadataView.prototype.update.apply(this,arguments)},disableActionButtons:function(){this.__isInFrame?this.__oSettingModel.setValue("buttonEnabled",!1):window.SboShell.disableActionButtons(["create","save","cancel"]),window.SboShell.fireFeatureEvent("SubBoMetadataView.hideRemove")},enableActionButtons:function(){this.__isInFrame?this.__oSettingModel.setValue("buttonEnabled",!0):window.SboShell.enableActionButtons(["create","save","cancel"]),window.SboShell.fireFeatureEvent("SubBoMetadataView.showRemove")},on_cancel:function(){this.__isInFrame?this.closeFrame():window.SboShell.backwardView()},on_save:function(){this.__isInFrame?this.closeFrame(this.__oModel.getValue("")):$.when(t.sbo.page.BaseSubBoMetadataView.prototype.on_save.apply(this,arguments)).done(function(){window.SboShell.backwardView()})},on_create:function(){var e=$.extend(!0,{},this.__oModel.getValue(""));$.when(t.sbo.page.BaseSubBoMetadataView.prototype.on_create.apply(this,arguments)).done(function(){var t=this.__oLoop.__items.slice(-1)[0];this.__openItemDetail(t.model,t.$[0],e,!0)}.bind(this))},beforeScrollEnd:function(){},itemsPosUpdate:function(){},isNewCreateEnabled:function(){return!0},getEditFrameModuleName:function(){t.log.error("This function must be implemented")},__openItemDetail:function(e,t,o,a){var i=e.getValue("internal/index");
o=o||$.extend(!0,{},this.__oModel.getValue(""));var s=null;$.when(window.SboShell.openFrame({view:this.getEditFrameModuleName(),type:"center-column",options:{metadata:this.__nodeMeta,modelPrefix:this.getSubNodeBindPath()+"/"+i+"/",newItem:!!a,readonly:this.__readonly},callback:function(e,t){return SboShell.closeFrame(s).done(function(){"save"===t||("remove"===t?this.on_delete(i):this.__oModel.setValue("",o))}.bind(this)),!0}.bind(this),linkTo:t})).done(function(e){s=e})},doFeature:function(e){return"SubBoMetadataView.getModel"===e?this.__oModel:"SubBoMetadataView.getGlobalDynamicMeta"===e?this.__globalDynamicMeta.properties:void 0},onValueUpdated:function(e){window.SboShell.fireFeatureEvent("SubBoMetadataView.valueUpdated",e)}},Protected:{shouldBeRecorded:function(){return!1}}})}),define("sap.sbo.page.pad.SubBoMetadataView2EditFrame",["sap.ui.Controller","sap.sbo.util.metadataHelper","sap.sbo.ui.FrameViewController","sap.sbo.layout.pad.MetadataRaw","sap.core.DestroyPool","sap.core.JsonModel","html!sap.sbo.app.template.DynamicProperty","css!sap.sbo.app.template.DynamicProperty","sap.sbo.localization.Helper","html!sap.sbo.page.pad.SubBoMetadataView2EditFrame","css!sap.sbo.page.pad.SubBoMetadataView2EditFrame"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Interfaces:[],Events:[],Options:{metadata:{type:"array",defaultValue:[],arrayType:{type:"any"}},modelPrefix:{type:"string",defaultValue:""},newItem:{type:"boolean",defaultValue:!1},readonly:{type:"boolean",defaultValue:!1}},Public:{init:function(){t.sbo.ui.FrameViewController.prototype.init.apply(this,arguments),this.declareMember({__oIScroll:null,__oDestroyPool:null,__oSettingModel:this.autoDestroy(new t.core.JsonModel({buttonEnabled:!0}))}),window.SboShell.attachFeatureEvent("SubBoMetadataView.showRemove",this.autoDestroy(this.hideButtons.bind(this,!1),function(){window.SboShell.detachFeatureEvent("SubBoMetadataView.showRemove",this)})),window.SboShell.attachFeatureEvent("SubBoMetadataView.hideRemove",this.autoDestroy(this.hideButtons.bind(this,!0),function(){window.SboShell.detachFeatureEvent("SubBoMetadataView.hideRemove",this)})),window.SboShell.attachFeatureEvent("SubBoMetadataView.valueUpdated",this.autoDestroy(this.onValueUpdated.bind(this),function(){window.SboShell.detachFeatureEvent("SubBoMetadataView.valueUpdated",this)}))},destroy:function(){},initView:function(o){var a=$.Deferred();this.$().setModel(this.__oSettingModel,"setting"),this.__oDestroyPool=this.autoDestroy(new t.core.DestroyPool);var i=[].reduce.call(this.$().children().filter("[data-sap-template]"),function(e,t){var o=$(t).remove(),a=$($("<div>").append(o).html().replace(/#MODELPREFIX#/g,this.getOption("modelPrefix")));return e[o.attr("data-sap-template")]=a.children(),e}.bind(this),{});return this.$().html(e.html.sap.sbo.page.pad.SubBoMetadataView2EditFrame.replace(/#MODELPREFIX#/g,this.getOption("modelPrefix"))),this.$('[data-id="sbo-subbo-metadata-view-edit-frame"]>.content>.fields').append(i.itemFields),$.when(this.$().process($.extend(!0,{},e,o))).done(function(){this.__oIScroll=this.__oDestroyPool.add(new iScroll(this.$('[data-id="sbo-subbo-metadata-view-edit-frame"]>.content>.fields')[0],{onBeforeScrollStart:function(e){var t=$(e.target);return t.is("input")||t.is("select")||t.is("textarea")?!0:this.beforeScrollEnd&&this.beforeScrollEnd(e)?!0:(e.preventDefault(),void 0)}.bind(this)}));var e=this.$('[data-id="sbo-subbo-metadata-view-edit-frame"]>.content>.fields').getControl();e.attachEvent("afterProcess",this.__oDestroyPool.add(function(){this.__oIScroll.refresh()}.bind(this),function(){e.detachEvent("afterProcess",this)})),a.resolve()}.bind(this)),this.__oDestroyPool.add(this.$(),this.$().unprocess),this.$('[data-id="sbo-subbo-metadata-view-edit-frame"]>.content>.fields').getControl().setOption({ignoredProperty:this.getIgnoredProperty(),metadata:this.getOption("metadata"),propertyTemplate:e.html.sap.sbo.app.template.DynamicProperty}),this.onValueUpdated(),this.getOption("readonly")||(this.$("[data-id='sbo-subbo-metadata-view-edit-frame']").addClass("writable"),this.getOption("newItem")||this.$("[data-id='sbo-subbo-metadata-view-edit-frame']").addClass("remove-enabled")),this.$().on("vclick",'button[data-touchable="true"][data-action]',function(e){this["on_"+$(e.target).attr("data-action")]()}.bind(this)),this.__oDestroyPool.add(this.$(),function(){this.off("vclick","buton[data-action]")}),a.promise()},onValueUpdated:function(){var e=window.SboShell.callFeatureMethod("SubBoMetadataView.getModel").getValue(this.getOption("modelPrefix")),o=t.sbo.util.metadataHelper.convertDynamicMeta(e["sbo.dynamicmeta"]);this.$(".sbo-metadata-list").getControl().setOption("dynamicMeta",0!==Object.keys(o).length?o:window.SboShell.callFeatureMethod("SubBoMetadataView.getGlobalDynamicMeta"))},hideButtons:function(e){this.__oSettingModel.setValue("buttonEnabled",!e)},on_close:function(){this.closeFrame()},on_cancel:function(){this.on_close()},on_save:function(){this.closeFrame("save")},on_remove:function(){this.closeFrame("remove")},destroyView:function(){t.sbo.ui.FrameViewController.prototype.destroyView.call(this)},update:function(){t.sbo.ui.FrameViewController.prototype.update.apply(this,arguments)},getIgnoredProperty:function(){return[]},setModelValue:function(e,t){window.SboShell.callFeatureMethod("SubBoMetadataView.getModel").setValue(this.getOption("modelPrefix")+e,t)},beforeScrollEnd:function(){}},Protected:{}})}),define("sap.sbo.page.pad.Campaign.BasicInfoEdit",["css!sap.sbo.app.template.EditProperty","sap.core.klass","sap.ui.Controller","sap.sbo.layout.pad.MetadataLayout","sap.core.JsonModel","sap.ui.widget.TextField","sap.sbo.services.CampaignsService","sap.sbo.compoundservices.AttachmentService","sap.sbo.page.pad.BoMetadataEditController","sap.ui.widget.TextArea","sap.sbo.util.formatter","sap.sbo.localization.Helper","sap.util","sap.sbo.ui.widget.BoStatus","sap.sbo.shell.IViewHistoryRecordable","sap.ui.widget.DropDownBox","sap.ui.widget.ValueHelpField","sap.sbo.ui.widget.BoStatus","sap.core.ListSourceFilter","json!sap.sbo.util.enums","sap.sbo.app.task.taskUtil","sap.sbo.ui.widget.BoLabel","sap.sbo.page.pad.Campaign.CampaignCommon","css!sap.sbo.page.pad.Campaign.BasicInfoEdit","css!sap.sbo.page.pad.boEdit"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={convertEmtpyNull:function(e,t){return"<<"===t?null===e?"":e:">>"===t?""===e?null:e:void 0},string_null:function(e,t){return"<<"===t?e||"":e}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.pad.BoMetadataEditController,Interfaces:[t.sbo.shell.IViewHistoryRecordable],Public:{init:function(){t.sbo.page.pad.BoMetadataEditController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{_oService:new t.sbo.services.CampaignsService,_mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),_modelOwner:this.autoDestroy(new t.core.JsonModel({ownerName:"",OwnerImage:{url:"./image/common/no-pic-avatar.jpg"}})),oAttachementService:this.autoDestroy(new t.sbo.compoundservices.AttachmentService)})},destroy:function(){this._oService.destroy()},initView:function(){var e=$.Deferred(),o=this;return this.$().setModel(this._modelOwner,"owner"),$.when(t.sbo.page.pad.BoMetadataEditController.prototype.initView.call(this)).done(function(){o.setTitle({title:o.boGetValue("campaignName")||"(No Name)",subTitle:t.sbo.localization.Helper.get("app/campaign/CAMPAIGNS")+o.boGetValue("campaignNumber")});var e=o._oMetadataValueModel.getValue("owner");null!=e&&$.when(o.oAttachementService.getPortraitId(e)).done(function(a){if(-1!==a.value){var i={};i.attachmentId=a.value,i.ownerCode=e;var s=t.sbo.app.task.taskUtil.PreviewUrl(i);o._modelOwner.setValue("OwnerImage",{url:s})}});var a=o._oMetadataValueModel.getValue("status");"csCanceled"===a&&SboShell.hideActionButtons(["edit"])}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){e.resolve()}),o.$().control({"[ctrl='main']":{listener:{afterProcess:function(){o.$().on("GuilinControlEvent.navigate GuilinControlEvent.choose",".sbo-metadata-list-property",function(e){switch($(e.currentTarget).attr("gl-property")){case"owner":if("navigate"===e.namespace){var a=o._oMetadataValueModel.getValue("owner");null!==a&&window.SboShell.gotoView("sap.sbo.page.pad.user.BasicInfo",[{keyName:"employeeID",keyValue:a}])}else window.SboShell.openFrame({view:"sap.sbo.chooseList.pad.ChooseListEmployee",type:"right",options:{},callback:function(e,a){"select"===e&&(o._oMetadataValueModel.setValue("owner",a.employeeID),o._oMetadataValueModel.setValue("ownerEmployeeDisplayName",a.displayName),$.when(o.oAttachementService.getPortraitId(a.employeeID)).done(function(e){if(-1!==e.value){var i={};i.attachmentId=e.value,i.ownerCode=a.employeeID;var s=t.sbo.app.task.taskUtil.PreviewUrl(i);o.__modelOwner.setValue("OwnerImage",{url:s})}}))}})}})}}}}),o.$().on("vclick",".ownerLink",function(){var e=o._oMetadataValueModel.getValue("owner");null!=e&&window.SboShell.gotoView("sap.sbo.page.pad.user.BasicInfo",[{keyName:"employeeID",keyValue:e}]),event.stopPropagation()}),e.promise()},destroyView:function(){this.$().unprocess(),t.sbo.page.pad.BoMetadataEditController.prototype.destroyView.call(this)},update:function(){},getMainControl:function(){return this.$("[ctrl='main']").getControl()},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"Campaign",keyElements:this._mViewInfo.storeParam}},getService:function(){return this._oService},process:function(){this.$().process(e)},boValidate:function(){},shouldBeRecorded:function(){return!1}},Protected:{}})}),define("sap.sbo.page.pad.Campaign.BusinessPartner",["sap.sbo.page.pad.SubBoMetadataView","sap.sbo.services.BusinessPartnersService","sap.ui.Controller","sap.sbo.services.CampaignsService","sap.sbo.services.ContactPersonsService","sap.sbo.util.formatter","sap.sbo.localization.Helper","sap.ui.widget.ValueHelpField","sap.ui.widget.TextField","sap.core.ListSourceFilter","sap.ui.widget.DropDownBox","sap.sbo.app.task.taskUtil","json!sap.sbo.util.enums","css!sap.sbo.page.pad.Campaign.BusinessPartner"],function(){"use strict";var e=null,t=this.getNS(),o=t.sap,a=t.json.sap.sbo.util.enums.bool;return t.formatter={showContact:function(e){return null==e||""==e?!0:!1},navigateLead:function(e){return null==e||""==e?!1:!0},statusImge:function(e){var t="";switch(e){case"clsBlank":t="./image/Campaign/blank.png";break;case"clsSend":t="./image/Campaign/Sent.png";break;case"clsResponded":t="./image/Campaign/Response.png";break;case"clsUnsubscribed":t="./image/Campaign/unsubscribe.png";break;default:t="./image/Campaign/blank.png"}return t},isBlank:function(e){return"clsBlank"==e?!0:!1},isConvertEnable:function(t){return null!=t.docNumber&&""!=t.docNumber?!0:"csOpen"==e.__oModel.getValue("").status||"csInprocess"==e.__oModel.getValue("").status?!0:!1},isRemoveEnable:function(t){return"clsBlank"==t||"csOpen"==e.__oModel.getValue("").status?!0:!1},isContactDisplay:function(e){return null!=e&&""!=e?!1:!0}},o.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:o.sbo.page.pad.SubBoMetadataView,Options:{},Public:{init:function(){o.sbo.page.pad.SubBoMetadataView.prototype.init.apply(this,arguments),this.declareMember({__mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo")}),this.__buttons=[],this.__toBeRemovedButtons=[],this.__itemWidth=310,this.__oService=this.autoDestroy(new o.sbo.services.CampaignsService),this.__BPService=this.autoDestroy(new o.sbo.services.BusinessPartnersService),this.__contactService=this.autoDestroy(new o.sbo.services.ContactPersonsService),this.__boEntityKey=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo").storeParam.boEntityKey},destroy:function(){},initView:function(){var a=$.Deferred(),i=this,s=null,n={};return n.boName="Campaign",n.boNamespace="com.sap.sbo",$.when(o.sbo.page.pad.SubBoMetadataView.prototype.initView.call(this,t)).done(function(t,r){e=i,s=r,n.keyElements=[{keyName:"campaignNumber",keyValue:r.campaignNumber}],"csCanceled"!=r.status&&("csFinished"==r.status?(i.__buttons=[{text:o.sbo.localization.Helper.get("app/campaign/changeMemberStatus"),key:"changeMemberStatus"},{text:o.sbo.localization.Helper.get("app/campaign/cancelChange"),key:"cancelChangeMemberStatus"}],i.__toBeRemovedButtons=["changeMemberStatus","cancelChangeMemberStatus"],window.SboShell.addActionButtons(i.__buttons),window.SboShell.hideActionButtons(["cancelChangeMemberStatus"]),window.SboShell.removeActionButtons(["edit"])):(i.__buttons=[{text:o.sbo.localization.Helper.get("app/campaign/addCustomer"),key:"addCustomer"},{text:o.sbo.localization.Helper.get("app/campaign/addContact"),key:"addContact"},{text:o.sbo.localization.Helper.get("app/campaign/changeMemberStatus"),key:"changeMemberStatus"},{text:o.sbo.localization.Helper.get("app/campaign/cancelChange"),key:"cancelChangeMemberStatus"}],window.SboShell.addActionButtons(i.__buttons),i.__toBeRemovedButtons=["addCustomer","addContact","changeMemberStatus","cancelChangeMemberStatus"],window.SboShell.hideActionButtons(["addCustomer","addContact","cancelChangeMemberStatus"]))),window.SboShell.removeActionButtons(["create"]),a.resolve()}),i.$().on("vclick",".bPInfo[data-touchable='true']",function(e){var t=$(e.currentTarget).findModel("loop").getValue("").data;window.SboShell.gotoView("sap.sbo.page.pad.Customer.CustomerHome",[{keyName:"cardCode",keyValue:t.bPCode}])}),i.$().on("vclick",".bPContactInfo[data-touchable='true']",function(e){var t=$(e.currentTarget).findModel("loop").getValue("").data;window.SboShell.gotoView("sap.sbo.page.pad.Contact.ContactHome",[{keyName:"contactPersonID",keyValue:t.contactCode}])}),i.$().on("vclick",".contact[data-touchable='true']",function(e){var t=$(e.currentTarget).findModel("loop").getValue("").data;window.SboShell.gotoView("sap.sbo.page.pad.Contact.ContactHome",[{keyName:"contactPersonID",keyValue:t.contactCode}])}),i.$().on("vclick",'[data-id="remove"]',function(e){i.on_delete($(e.currentTarget).findModel("loop").getValue("internal/index"))}),i.$().on("vclick",'[data-id="convert"][data-touchable="true"]',function(e){var t=$(e.currentTarget).findModel("loop").getValue("").data;if(null!=t.docNumber)return window.SboShell.gotoView("sap.sbo.page.pad.Leads.Home",[{keyName:"id",keyValue:t.docNumber}]),void 0;if(null!=t.bPCode&&""!=t.bPCode)SboShell.openFrame({view:"sap.sbo.page.pad.Leads.LeadsCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,callback:function(){},options:{cardCode:t.bPCode,contactPerson:t.contactCode,onSaveCallBack:function(e){return t.docNumber=e.keyElements[0].keyValue,i.on_save()}}});else{var o={};o.contactPersonID=t.contactCode,$.when(i.__contactService.get(o)).done(function(e){null!=e.cardCode&&""!=e.cardCode?SboShell.openFrame({view:"sap.sbo.page.pad.Leads.LeadsCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,callback:function(){},options:{cardCode:e.cardCode,contactPerson:e.contactPersonID,onSaveCallBack:function(e){return t.docNumber=e.keyElements[0].keyValue,i.on_save()}}}):SboShell.openFrame({view:"sap.sbo.page.pad.Leads.LeadsCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,callback:function(){},options:{contactPerson:e.contactPersonID,onSaveCallBack:function(e){return t.docNumber=e.keyElements[0].keyValue,i.on_save()}}})})}}),i.$().on("vclick",'[data-id="task"]',function(e){var t=$(e.currentTarget).findModel("loop").getValue("").data,a="";null!=t.followUpTask&&(a=t.followUpTask),window.SboShell.openFrame({view:"sap.sbo.page.pad.task.taskDialog",type:"center",width:o.sbo.app.task.taskUtil.PadtaskDialogDimension.width,height:o.sbo.app.task.taskUtil.PadtaskDialogDimension.height,options:{taskID:a,boEntityKey:n,page:i.__page},callback:function(e,o){switch(e){case"close":1==o.result&&(t.followUpTask=o.taskId,t.followUpEmployee=o.assignee,i.on_save());break;default:}}})}),i.$().on("vclick",".blank",function(e){var t=$(e.currentTarget).findModel("loop").getValue("").data;t.lineStatus="clsBlank",i.on_save()}),i.$().on("vclick",".sent",function(e){var t=$(e.currentTarget).findModel("loop").getValue("").data;t.lineStatus="clsSend",i.on_save()}),i.$().on("vclick",".responsed",function(e){var t=$(e.currentTarget).findModel("loop").getValue("").data;t.lineStatus="clsResponded",i.on_save()}),i.$().on("vclick",".unsubscribed",function(e){var t=$(e.currentTarget).findModel("loop").getValue("").data;t.lineStatus="clsUnsubscribed",i.on_save()}),a.promise()},destroyView:function(){window.SboShell.removeActionButtons(this.__toBeRemovedButtons),o.sbo.page.pad.SubBoMetadataView.prototype.destroyView.call(this)},update:function(){o.sbo.page.pad.SubBoMetadataView.prototype.update.apply(this,arguments)},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"Campaign",keyElements:this.__mViewInfo.storeParam}},getSubNodeName:function(){return"CampaignBusinessPartner"},getSubNodeBindPath:function(){return"campaignBusinessPartners"},getIgnoredProperty:function(){return["campaignNumber","campaignLineNumber","bPCode","bPName","bPGroupName","bPStatus","city","contactAddress","contactCode","contactEmail","contactMobile","contactPosition","contactTelephone","contactTitle","country","docNumber","docType","lineStatus","state","street","bPGroupDisplayName","contactDisplayName"]},enterEditMode:function(){o.sbo.page.pad.SubBoMetadataView.prototype.enterEditMode.call(this),window.SboShell.showActionButtons(["addCustomer","addContact"]),window.SboShell.hideActionButtons(["changeMemberStatus"])},exitEditMode:function(){this.__oSettingModel.getValue("customReadonly")||(o.sbo.page.pad.SubBoMetadataView.prototype.exitEditMode.call(this),window.SboShell.showActionButtons(["changeMemberStatus"]),window.SboShell.hideActionButtons(["addCustomer","addContact"]))},getTitle:function(e,t){return o.sbo.localization.Helper.get("app/campaign/CUSTOMERMEMBER")+" ("+t+")"},getSubTitle:function(e){return e.campaignName||o.sbo.localization.Helper.get("app/oppo/NO_NAME")},on_addCustomer:function(){var e=$.Deferred(),t=this;return $.when(this.__oService.getInitBoNode(this.__oModel.getValue(""),"Root/"+this.getSubNodeBindPath())).done(function(i){window.SboShell.openFrame({view:"sap.sbo.chooseList.pad.ChooseListCustomer",type:"right",options:{filter:new o.core.ListSourceFilter("(`isActive` = '"+a.Yes+"')")},callback:function(o,a){if("select"===o){for(var s=-1,n=0;i.campaignBusinessPartners.length>n;n++)if(null==i.campaignBusinessPartners[n].bPCode&&null==i.campaignBusinessPartners[n].contactCode){s=n;break}if(-1==s)return;i.campaignBusinessPartners[s].bPCode=a.cardCode,i.campaignBusinessPartners[s].bPName=a.cardName,$.when(t.__BPService.get(a)).done(function(o){for(var a=0;i.campaignBusinessPartners.length>a;a++)if(a!=s&&i.campaignBusinessPartners[a].bPCode==o.cardCode&&i.campaignBusinessPartners[a].contactCode==o.contactPerson)return i.campaignBusinessPartners.splice(s,1),window.SboShell.raiseMessage("The customer has been added already","warning"),void 0;if(i.campaignBusinessPartners[s].bPGroupName=o.groupCode,i.campaignBusinessPartners[s].bPGroupDisplayName=o.BusinessPartnerGroupName,null!=o.contactPerson)for(var n=0;o.contactEmployees.length>n;n++)if(o.contactEmployees[n].contactPersonID==o.contactPerson){i.campaignBusinessPartners[s].contactCode=o.contactEmployees[n].contactPersonID,i.campaignBusinessPartners[s].contactDisplayName=o.contactEmployees[n].displayName,i.campaignBusinessPartners[s].contactPosition=o.contactEmployees[n].position,i.campaignBusinessPartners[s].contactEmail=o.contactEmployees[n].e_Mail,i.campaignBusinessPartners[s].contactMobile=o.contactEmployees[n].mobilePhone,i.campaignBusinessPartners[s].contactTelephone=o.contactEmployees[n].phone1,i.campaignBusinessPartners[s].contactTitle=o.contactEmployees[n].title,t.__oModel.setValue("",i),t.__whenLoopProcessed(function(){e.resolve()});break}})}else if("close"===o){for(var r=-1,n=0;i.campaignBusinessPartners.length>n;n++)if(null==i.campaignBusinessPartners[n].bPCode&&null==i.campaignBusinessPartners[n].contactCode){r=n;break}-1!=r&&i.campaignBusinessPartners.splice(r,1),t.__oModel.setValue("",i),t.__whenLoopProcessed(function(){e.resolve()})}}})}.bind(this)).fail(function(){e.reject()}).always(function(){}),e.resolve(),e.promise()},on_addContact:function(){var e=$.Deferred(),t=this;return $.when(this.__oService.getInitBoNode(this.__oModel.getValue(""),"Root/"+this.getSubNodeBindPath())).done(function(o){window.SboShell.openFrame({view:"sap.sbo.chooseList.pad.ChooseListContact",type:"right",options:{},callback:function(a,i){if("select"===a){for(var s=-1,n=!1,r=0;o.campaignBusinessPartners.length>r;r++)o.campaignBusinessPartners[r].bPCode==i.cardCode&&o.campaignBusinessPartners[r].contactCode==i.contactPersonID&&(n=!0),null==o.campaignBusinessPartners[r].bPCode&&null==o.campaignBusinessPartners[r].contactCode&&(s=r);if(n)return o.campaignBusinessPartners.splice(s,1),window.SboShell.raiseMessage("The customer has been added already","warning"),void 0;o.campaignBusinessPartners[s].bPCode=i.cardCode,o.campaignBusinessPartners[s].contactCode=i.contactPersonID,null!=i.cardCode&&""!=i.cardCode?$.when(t.__BPService.get(i)).done(function(a){o.campaignBusinessPartners[s].contactDisplayName=i.displayName,o.campaignBusinessPartners[s].contactPosition=i.position,o.campaignBusinessPartners[s].contactEmail=i.e_Mail,o.campaignBusinessPartners[s].contactMobile=i.mobilePhone,o.campaignBusinessPartners[s].contactTelephone=i.phone1,o.campaignBusinessPartners[s].contactTitle=i.title,o.campaignBusinessPartners[s].bPName=a.cardName,o.campaignBusinessPartners[s].bPGroupName=a.groupCode,o.campaignBusinessPartners[s].bPGroupDisplayName=a.BusinessPartnerGroupName,t.__oModel.setValue("",o),t.__whenLoopProcessed(function(){e.resolve()})}):(t.__oModel.setValue("",o),t.__whenLoopProcessed(function(){e.resolve()}))}else if("close"===a){for(var l=-1,r=0;o.campaignBusinessPartners.length>r;r++)if(null==o.campaignBusinessPartners[r].bPCode&&null==o.campaignBusinessPartners[r].contactCode){l=r;break}-1!=l&&o.campaignBusinessPartners.splice(l,1),t.__oModel.setValue("",o),t.__whenLoopProcessed(function(){e.resolve()})}}})}.bind(this)).fail(function(){e.reject()}).always(function(){}),e.resolve(),e.promise()},on_changeMemberStatus:function(){var e=$.Deferred(),t=this;return window.SboShell.hideActionButtons(["edit","changeMemberStatus"]),window.SboShell.showActionButtons(["cancelChangeMemberStatus"]),t.$(".changeStatus").show(),e.resolve(),e.promise()},on_cancelChangeMemberStatus:function(){var e=$.Deferred(),t=this;return window.SboShell.showActionButtons(["edit","changeMemberStatus"]),window.SboShell.hideActionButtons(["cancelChangeMemberStatus"]),t.$(".changeStatus").hide(),e.resolve(),e.promise()},itemsPosUpdate:function(e){for(var t=e.$().height(),o=0,a=0,i=200,s=20,n=0;e.__items.length>n;++n){var r=e.__items[e.__items.length-n-1].$;a*(i+s)+i>t&&(a=0,++o),r.css({top:a*(i+s),width:this.__itemWidth,height:i,left:o*(this.__itemWidth+this.__itemPadding)}),++a}e.$().css("width",(o+1)*(this.__itemWidth+this.__itemPadding)-this.__itemPadding)},on_navigation:function(e){null!=e.getValue("data/bPCode")&&null!=e.getValue("data/contactCode")?window.SboShell.gotoView("sap.sbo.page.pad.Customer.CustomerHome",[{keyName:"cardCode",keyValue:e.getValue("data/bPCode")}]):window.SboShell.gotoView("sap.sbo.page.pad.Contact.ContactHome",[{keyName:"contactPersonID",keyValue:e.getValue("data/contactCode")}])}},Protected:{}})}),define("sap.sbo.page.pad.Campaign.CampaignCommon",[],function(){"use strict";var e=this.getNS();return e.sap,{convertStatusImage:function(e){switch(e){case"csOpen":return"image/BO/Open.png";case"csCanceled":return"image/BO/Reject.png";case"csFinished":return"image/BO/Won_Complete.png";case"csInprocess":return"image/BO/Pending.png";default:return""}},campaignTypeFilter:function(e){var t=[e[0],e[3],e[4],e[6],e[7]];return t}}}),define("sap.sbo.page.pad.Campaign.CampaignCreation",["sap.ui.Controller","sap.sbo.page.pad.BoMetadataCreationFrameController","sap.sbo.layout.pad.MetadataList","sap.sbo.services.CampaignsService","sap.ui.widget.TextField","sap.ui.widget.TextArea","sap.sbo.ui.widget.DateTimeField","sap.sbo.util.formatter","sap.ui.widget.Button","sap.util","sap.ui.widget.ValueHelpField","sap.ui.widget.DropDownBox","sap.sbo.page.pad.Campaign.CampaignCommon","json!sap.sbo.util.enums","css!sap.sbo.app.template.EditProperty","css!sap.sbo.app.template.CreationProperty","css!sap.sbo.page.pad.Campaign.CampaignCreation"],function(){"use strict";var e=this.getNS(),t=e.sap,o=t.sbo.page.pad.BoMetadataCreationFrameController,a=e.json.sap.sbo.util.enums.bool;return e.formatter={bool_string:function(e,t){return"<<"===t?e===a.Yes:e?a.Yes:a.No},convertEmtpyNull:function(e,t){return"<<"===t?null===e?"":e:">>"===t?""===e?null:e:void 0},isWebType:function(e){return"ctWeb"==e?!0:!1}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:o,Public:{init:function(){o.prototype.init.apply(this,arguments),this.declareMember({_oService:new t.sbo.services.CampaignsService})},destroy:function(){this._oService.destroy()},initView:function(){var e=$.Deferred(),a=this;return $.when(o.prototype.initView.call(a)).done(function(){a.$(".field-campaignBusinessPartners>.value>.product>.navigation").on("vclick",function(){window.SboShell.openFrame({view:"sap.sbo.page.pad.Campaign.BusinessPartner",type:"full",options:{boData:a._oMetadataValueModel.getValue("")},callback:function(e,t){t&&a._oMetadataValueModel.setValue("",t)}})}),a.$().onControlEvent("click",'[data-id="ownerName"]',function o(){a.$().offControlEvent("click",'[data-id="ownerName"]'),window.SboShell.openFrame({view:"sap.sbo.chooseList.pad.ChooseListEmployee",options:{},type:"right",callback:function(e,t){"close"===e?a.$().onControlEvent("click",'[data-id="ownerName"]',o):"select"===e&&(a._oMetadataValueModel.setValue("owner",t.employeeID),a._oMetadataValueModel.setValue("ownerEmployeeDisplayName",t.displayName))}})}),a.$().control({'[ctrl="btnSaveOpen"]':{listener:{click:function(){t.util.showLoading(),$.when(a.boCreate()).done(function(e){window.SboShell.raiseMessage("Create successfully","success"),window.SboShell.gotoView("sap.sbo.page.pad.Campaign.Home",[{keyName:"campaignNumber",keyValue:e.campaignNumber}])}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()})}}},'[ctrl="btnCancel"]':{listener:{click:function(){a.callShell("close")}}}}),e.resolve()}).fail(function(t){e.reject(t)}),e.promise()},destroyView:function(){o.prototype.destroyView.call(this)},update:function(){o.prototype.update.apply(this,arguments)},getMainControl:function(){return this.$("[ctrl='main']").getControl()},getBoType:function(){return{boNamespace:"com.sap.sbo",boName:"Campaign"}},getService:function(){return this._oService},process:function(){this.$().process(e)},boValidate:function(){}},Protected:{}})}),define("sap.sbo.page.pad.Campaign.CampaignListView",["sap.core.klass","sap.ui.Controller","sap.core.JsonModel","sap.sbo.layout.pad.ListLayout","sap.sbo.util.AjaxListSource","sap.sbo.services.CampaignsService","sap.sbo.page.BaseBoListViewController","sap.sbo.ui.widget.ListManipulator","sap.sbo.localization.Helper","css!sap.sbo.page.pad.boListView","sap.ui.widget.ValueHelpField","css!sap.sbo.page.pad.Campaign.CampaignListView"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={statusDecription:function(e){switch(e){case"csOpen":return t.sbo.localization.Helper.get("app/campaign/STATUS_OPEN");case"csFinished":return t.sbo.localization.Helper.get("app/campaign/STATUS_FINISHED");case"csCanceled":return t.sbo.localization.Helper.get("app/campaign/STATUS_CANCELED")}},typeDescription:function(e){var o;switch(e){case"ctEmail":o=t.sbo.localization.Helper.get("app/campaign/TYPE_EMAIL");break;case"ctFax":o=t.sbo.localization.Helper.get("app/campaign/TYPE_FAX");break;case"ctPhoneCall":o=t.sbo.localization.Helper.get("app/campaign/TYPE_PHONECALL");break;case"ctMeeting":o=t.sbo.localization.Helper.get("app/campaign/TYPE_MEETING");break;case"ctMail":o=t.sbo.localization.Helper.get("app/campaign/TYPE_MAIL");break;case"ctSMS":o=t.sbo.localization.Helper.get("app/campaign/TYPE_SMS");break;case"ctWeb":o=t.sbo.localization.Helper.get("app/campaign/TYPE_WEB");break;case"ctOthers":o=t.sbo.localization.Helper.get("app/campaign/TYPE_OTHERS")}return o},convertStatusImage:function(e){switch(e){case"csOpen":return"<img src='image/BO/Open.png'>";case"csCanceled":return"<img src='image/BO/Reject.png'>";case"csFinished":return"<img src='image/BO/Won_Complete.png'>";case"csInprocess":return"<img src='image/BO/Pending.png'/>";default:return""}}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.BaseBoListViewController,Public:{init:function(){t.sbo.page.BaseBoListViewController.prototype.init.apply(this,arguments),this.declareMember({oBOService:this.autoDestroy(new t.sbo.services.CampaignsService),__model:this.autoDestroy(new t.core.JsonModel({})),_oAjaxListSource:null}),this._oAjaxListSource=this.autoDestroy(new t.sbo.util.AjaxListSource(this.oBOService))},destroy:function(){},initView:function(){var o=this,a=$.Deferred();return $.when(t.sbo.page.BaseBoListViewController.prototype.initView.call(this)).done(function(){if(o.$().process(e),o.canQuery()&&o.$().control({'div[data-id="listView"]':{emptyTexts:[t.sbo.localization.Helper.get("app/campaign/PURPOSE"),t.sbo.localization.Helper.get("app/campaign/USAGE"),t.sbo.localization.Helper.get("app/campaign/TO_CREATE")],source:o._oAjaxListSource,sort:{field:"campaignNumber"},listener:{itemClick:function(e){window.SboShell.gotoView("sap.sbo.page.pad.Campaign.Home",[{keyName:"campaignNumber",keyValue:e.campaignNumber}])},create:function(){o.__create()},requestDone:function(e){o.setTitle({title:e.count+" "+t.sbo.localization.Helper.get("app/campaign/CAMPAIGNS")})}}}}),t.core.klass.declareMember(o,{__buttonClicked:function(e){switch(e){case"Create":SboShell.openFrame({view:"sap.sbo.page.pad.Campaign.CampaignCreation",type:"center-column"});break;default:}}}),o.canCreate()){var i=[];i.push({text:t.sbo.localization.Helper.get("app/campaign/CREATE_CAMPAIGN"),key:"Create"}),window.SboShell.addActionButtons(i,o),window.SboShell.attachEvent("actionButtonClick",o.__buttonClicked)}a.resolve()}).fail(function(){a.reject()}),a.promise()},destroyView:function(){t.sbo.page.BaseBoListViewController.prototype.destroyView.call(this),this.$().unprocess(),this.canCreate()&&SboShell.detachEvent("actionButtonClick",this.__buttonClicked)},update:function(){},getMainControl:function(){return this.$('div[data-id="listView"]')},getService:function(){return this.oBOService},getBoNameEntity:function(){return{boNamespace:"com.sap.sbo",boName:"Campaign"}},getListSource:function(){return this._oAjaxListSource},getProcessContext:function(){return e}},Protected:{__create:function(){SboShell.openFrame({view:"sap.sbo.page.pad.Campaign.CampaignCreation",type:"center-column"})}}})}),define("sap.sbo.page.pad.Campaign.Competitor",["sap.sbo.page.pad.SubBoMetadataView","sap.ui.Controller","sap.sbo.services.CampaignsService","sap.sbo.util.formatter","sap.sbo.localization.Helper","css!sap.sbo.page.pad.SalesOpportunity.ItemsEdit"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.pad.SubBoMetadataView,Options:{},Public:{init:function(){t.sbo.page.pad.SubBoMetadataView.prototype.init.apply(this,arguments),this.declareMember({__mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo")}),this.__oService=this.autoDestroy(new t.sbo.services.CampaignsService)},destroy:function(){},initView:function(){var o=$.Deferred();return $.when(t.sbo.page.pad.SubBoMetadataView.prototype.initView.call(this,e)).done(function(){o.resolve()
}),this.$().on("vclick",".sbo-opps-item-desc",function(){var e=$(this).findModel("loop"),t=$(this).findModel("").getValue(""),o=t.campaignCompetitors;window.SboShell.openFrame({view:"sap.sbo.chooseList.pad.ChooseListCompetitor",type:"right",options:{},callback:function(t,a){if("select"===t){if(a.sequenceNo===e.getValue("data/competitorID"))return;for(var i=0;o.length>i;i++)if(o[i].competitorID===a.sequenceNo)return window.SboShell.raiseMessage("Please don't add one competitor twice into one campaign."),void 0;e.setValue("data/competitorID",a.sequenceNo),e.setValue("data/memo",a.details),e.setValue("data/competitorName",a.name),"tlLow"===a.threatLevel?e.setValue("data/threatLevel",1):"tlMedium"===a.threatLevel?e.setValue("data/threatLevel",2):"tlHigh"===a.threatLevel&&e.setValue("data/threatLevel",3)}}})}),o.promise()},destroyView:function(){t.sbo.page.pad.SubBoMetadataView.prototype.destroyView.call(this)},update:function(){t.sbo.page.pad.SubBoMetadataView.prototype.update.apply(this,arguments)},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"Campaign",keyElements:this.__mViewInfo.storeParam}},getSubNodeName:function(){return"CampaignCompetitor"},getSubNodeBindPath:function(){return"campaignCompetitors"},getIgnoredProperty:function(){return["campaignNumber","campaignLineNumber","competitorID"]},getTitle:function(e,o){return t.sbo.localization.Helper.get("common/COMPETITOR_NAME")+" ("+o+")"},getSubTitle:function(e){return e.campaignName||t.sbo.localization.Helper.get("app/oppo/NO_NAME")},isNewCreateEnabled:function(){return!0}},Protected:{}})}),define("sap.sbo.page.pad.Campaign.CopyToLeads",["sap.ui.Controller","sap.core.JsonModel","sap.sbo.layout.pad.ListLayout","sap.core.ArrayListSource","sap.sbo.services.CampaignsService","css!sap.sbo.page.pad.listView","css!sap.sbo.page.pad.Campaign.CopyToLeads"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={statusDecription:function(e){switch(e){case"csOpen":return"Open";case"csFinished":return"Finished";case"csCanceled":return"Canceled"}},typeDescription:function(e){var t;switch(e){case"ctEmail":t="Email";break;case"ctFax":t="Fax";break;case"ctPhoneCall":t="PhoneCall";break;case"ctMeeting":t="Meeting";break;case"ctSMS":t="SMS";break;case"ctWeb":t="Web";break;case"ctOthers":t="Others"}return t}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments),this.declareMember({oBOService:this.autoDestroy(new t.sbo.services.CampaignsService),_mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),__model:this.autoDestroy(new t.core.JsonModel({})),_arrayListSource:null});var e=this,o=function(t){e["onKey"+t]()};window.SboShell.attachEvent("actionButtonClick",o)},destroy:function(){},onKeyCopy:function(){for(var e=this.__model.getValue(""),t=0;e.campaignBusinessPartners.length>t;t++)"YES"===e.campaignBusinessPartners[t].isSelected},initView:function(){var o=this,a={};a.campaignNumber=this._mViewInfo.storeParam[0].keyValue,$.when(this.oBOService.get(a)).done(function(a){o.__model.setValue("",a);for(var i=0;a.campaignBusinessPartners.length>i;i++)a.campaignBusinessPartners[i].isSelected="NO";o._arrayListSource=o.autoDestroy(new t.core.ArrayListSource(a.campaignBusinessPartners)),o.$().process(e),o.$().setModel(o.__model),o.$().on("vclick",".btn-main",function(e){var t=$(e.target).findModel().getValue("isSelected");"YES"===t?$(e.target).findModel().setValue("isSelected","NO"):$(e.target).findModel().setValue("isSelected","YES"),e.stopPropagation()}),o.$().control({'div[data-id="listView"]':{source:o._arrayListSource}});var s=[];s.push({text:"Copy",key:"Copy"}),window.SboShell.addActionButtons(s,o)})},destroyView:function(){this.$().unprocess(),window.SboShell.detachEvent("actionButtonClick",this.buttonClicked)},update:function(){}},Protected:{}})}),define("sap.sbo.page.pad.Campaign.Home",["sap.core.klass","sap.core.JsonModel","sap.ui.View","sap.sbo.layout.TileView","sap.ui.common","sap.util","sap.log","sap.ui.Controller","sap.ui.widget.TextField","sap.ui.widget.TextArea","sap.sbo.ui.widget.DateTimeField","sap.ui.widget.Currency","sap.ui.widget.Button","sap.sbo.layout.pad.AdvancedTilesLayout","sap.sbo.shell.IFeaturable","sap.ui.widget.Button","sap.sbo.app.network.FeedTile","sap.sbo.services.CampaignsService","sap.formatter","sap.sbo.util.formatter","sap.sbo.layout.pad.MetadataRaw","sap.sbo.app.network.RelatedTile","sap.ui.Repeat","sap.sbo.util.metadataHelper","sap.sbo.localization.Helper","sap.ui.widget.ValueHelpField","sap.ui.widget.Photo","sap.sbo.page.pad.BoHomeController","sap.sbo.page.pad.Campaign.CampaignCommon","css!sap.sbo.app.template.GeneralProperty","html!sap.sbo.app.template.DynamicProperty","css!sap.sbo.app.template.DynamicProperty","css!sap.sbo.app.template.EditProperty","css!sap.sbo.page.pad.SalesOpportunity.Home","css!sap.sbo.app.template.TileProperty","css!sap.sbo.page.pad.Campaign.Home"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={string_null:function(e,t){return"<<"===t?e||"":e}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.pad.BoHomeController,Options:{},Public:{init:function(){t.sbo.page.pad.BoHomeController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{_oModel:new t.core.JsonModel({}),_mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),_oService:new t.sbo.services.CampaignsService})},destroy:function(){this._oService.destroy()},initView:function(){var o=$.Deferred(),a=this;return this.setTitle({title:t.sbo.localization.Helper.get("app/campaign/CAMPAIGNS"),subTitle:t.sbo.localization.Helper.get("app/campaign/CAMPAIGN")}),$.when(t.sbo.page.pad.BoHomeController.prototype.initView.apply(this,arguments)).done(function(i){a.$().setModel(a._oModel),t.util.showLoading(),$.when(a._oService.get(a.convertBoKey(a._mViewInfo.storeParam))).done(function(s){a._oModel.setValue("",s),a.setTitle(s.campaignName||"(No Name)"),a.$().process(e),a.$().control({"[ctrl='layout']":{listener:{startLayout:function(){a.setOption("editable",!0),window.SboShell.showActionButtons(["saveLayout"])},afterProcess:function(){var o=t.sbo.util.metadataHelper.convert(i);a.$("[field='basicInfo']").getControl().setOption({metadata:o.properties,enumMeta:o.enumTypes,dynamicMeta:t.sbo.util.metadataHelper.convertDynamicMeta(s["sbo.dynamicmeta"]).properties,propertyTemplate:e.html.sap.sbo.app.template.DynamicProperty,readonly:!0})}}}}),a.$().on("vclick","[field='basicInfo']",function(){window.SboShell.gotoView("sap.sbo.page.pad.Campaign.BasicInfoEdit",a._mViewInfo.storeParam)}),a.$().on("vclick","[field='businessPartners']",function(){window.SboShell.gotoView("sap.sbo.page.pad.Campaign.BusinessPartner",a._mViewInfo.storeParam)}),a.$().on("vclick","[field='products']",function(){window.SboShell.gotoView("sap.sbo.page.pad.Campaign.Product",a._mViewInfo.storeParam)}),o.resolve()}).fail(function(e){window.SboShell.raiseException(e),o.reject(e)}).always(function(){t.util.hideLoading()})}),o.promise()},getService:function(){return this._oService},destroyView:function(){t.sbo.page.pad.BoHomeController.prototype.destroyView.apply(this,arguments),this.$().unprocess()},update:function(){},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"Campaign",keyElements:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo").storeParam}}},Protected:{}})}),define("sap.sbo.page.pad.Campaign.Product",["sap.sbo.page.pad.SubBoMetadataView","sap.ui.Controller","sap.sbo.services.CampaignsService","sap.sbo.util.formatter","sap.sbo.localization.Helper","sap.core.ListSourceFilter","sap.sbo.ui.widget.BoLabel","json!sap.sbo.util.enums","css!sap.sbo.page.pad.Campaign.ItemsEdit"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={convertProductType:function(e){var t="";switch(e){case"citItems":t="Material";break;case"citLabel":t="Service";break;case"citTravel":t="Travel"}return t}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.pad.SubBoMetadataView,Options:{},Public:{init:function(){t.sbo.page.pad.SubBoMetadataView.prototype.init.apply(this,arguments),this.declareMember({__mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo")}),this.__itemWidth=300,this.__oService=this.autoDestroy(new t.sbo.services.CampaignsService)},destroy:function(){},initView:function(){var o=$.Deferred();return $.when(t.sbo.page.pad.SubBoMetadataView.prototype.initView.call(this,e)).done(function(){o.resolve()}),this.$().on("vclick",".sbo-opps-item-desc",function(){var o=$(this).findModel("loop");window.SboShell.openFrame({view:"sap.sbo.chooseList.pad.ChooseListProduct",type:"right",options:{filter:new t.core.ListSourceFilter("(`isActive` = '"+e.json.sap.sbo.util.enums.bool.Yes+"')")},callback:function(e,t){"select"===e&&(o.setValue("data/itemCode",t.itemCode),o.setValue("data/itemName",t.itemName),"itItems"===t.itemType?o.setValue("data/itemType","citItems"):"itLabor"===t.itemType?o.setValue("data/itemType","citLabel"):"itTravel"===t.itemType&&o.setValue("data/itemType","citTravel"),o.setValue("data/itemGroup",t.itemGroupName))}})}),this.$().on("GuilinControlEvent.navigate GuilinControlEvent.choose",function(o){switch($(o.target).attr("data-boLabel")){case"itemCode":"navigate"===o.namespace?window.SboShell.gotoView("sap.sbo.page.pad.Product.ProductHome",[{keyName:"itemCode",keyValue:$(o.target).findModel("loop").getValue("data/itemCode")}]):window.SboShell.openFrame({view:"sap.sbo.chooseList.pad.ChooseListProduct",type:"right",options:{filter:new t.core.ListSourceFilter("(`isActive` = '"+e.json.sap.sbo.util.enums.bool.Yes+"')")},callback:function(e,t){"select"===e&&($(o.target).findModel("loop").setValue("data/itemCode",t.itemCode),$(o.target).findModel("loop").setValue("data/itemName",t.itemName),$(o.target).findModel("loop").setValue("data/itemGroup",t.itemGroupName))}})}}),o.promise()},destroyView:function(){t.sbo.page.pad.SubBoMetadataView.prototype.destroyView.call(this),this.$().off("GuilinControlEvent.navigate GuilinControlEvent.choose")},update:function(){t.sbo.page.pad.SubBoMetadataView.prototype.update.apply(this,arguments)},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"Campaign",keyElements:this.__mViewInfo.storeParam}},getEmptyTexts:function(){return[t.sbo.localization.Helper.get("app/campaignProduct/USAGE"),t.sbo.localization.Helper.get("app/campaignProduct/TO_CREATE")]},getSubNodeName:function(){return"CampaignItem"},getSubNodeBindPath:function(){return"campaignItems"},getIgnoredProperty:function(){return["campaignNumber","campaignLineNumber","itemCode","itemName","itemType"]},getTitle:function(e,o){return o+" "+t.sbo.localization.Helper.get("common/PRODUCT_NAME")},getSubTitle:function(e){return e.campaignName||t.sbo.localization.Helper.get("app/oppo/NO_NAME")},isNewCreateEnabled:function(){return!0},itemsPosUpdate:function(e){for(var t=e.$().height(),o=0,a=0,i=240,s=20,n=0;e.__items.length>n;++n){var r=e.__items[e.__items.length-n-1].$;a*(i+s)+i>t&&(a=0,++o),r.css({top:a*(i+s),width:this.__itemWidth,height:i,left:o*(this.__itemWidth+this.__itemPadding)}),++a}e.$().css("width",(o+1)*(this.__itemWidth+this.__itemPadding)-this.__itemPadding)}},Protected:{}})}),define("sap.sbo.page.pad.Contact.AddressListView",["sap.sbo.page.pad.SubBoMetadataView","sap.ui.widget.TextField","sap.ui.Controller","sap.core.JsonModel","sap.sbo.services.CountriesService","sap.sbo.services.StatesService","sap.sbo.services.ContactPersonsService","sap.sbo.util.formatter","sap.sbo.localization.Helper","sap.ui.widget.DropDownBox","sap.sbo.ui.widget.Address","css!sap.sbo.page.pad.Customer.Address.AddressList"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={isZero:function(e){return 0===e},string_null:function(e,t){return"<<"===t?e||"":e}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.pad.SubBoMetadataView,Options:{},Public:{init:function(){t.sbo.page.pad.SubBoMetadataView.prototype.init.apply(this,arguments),this.declareMember({__mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),__oListCRYService:this.autoDestroy(new t.sbo.services.CountriesService),__oListCSTService:this.autoDestroy(new t.sbo.services.StatesService),__oListModel:this.autoDestroy(new t.core.JsonModel({countrylist:[]})),__oStates:{}}),this.__oService=this.autoDestroy(new t.sbo.services.ContactPersonsService)},destroy:function(){},initView:function(){var o=$.Deferred(),a=this;return a.$().setModel(a.__oListModel,"list"),$.when(a.__oListCRYService.query()).done(function(e){a.__oListModel.setValue("countrylist",e.value)}),$.when(t.sbo.page.pad.SubBoMetadataView.prototype.initView.call(this,e)).done(function(){this.__oLoop.attachEvent("modelCreated",function(e,t){function o(t){"mainAdd"===t&&(e.setValue("internal/bMainFlag","NO"),a.__oModel.getValue("mainAdd")===e.getValue("data/addressLineNum")&&e.setValue("internal/bMainFlag","YES"))}a.__oModel.attachEvent("valueChanged",o),t.done(function(){a.__oModel.detachEvent("valueChanged",o)}),null!==a.__oModel.getValue("mainAdd")&&a.__oModel.getValue("mainAdd")===e.getValue("data/addressLineNum")&&e.setValue("internal/bMainFlag","YES");var i=e.getValue("data/country"),s=a.__oStates[i];if(s)e.setValue("internal/statelist",s);else{e.setValue("internal/statelist",[]);var n={filter:"country eq '"+i+"'"};$.when(a.__oListCSTService.query(n)).done(function(t){a.__oStates[i]=t.value,e.setValue("internal/statelist",t.value)})}e.attachEvent("valueChanged",function(e,t){if("data/country"===e&&"@UPDATE"===t){this.setValue("data/state","");var o=this,i=this.getValue("data/country"),s=a.__oStates[i];if(s)this.setValue("internal/statelist",s);else{this.setValue("internal/statelist",[]);var n={filter:"country eq '"+i+"'"};$.when(a.__oListCSTService.query(n)).done(function(e){a.__oStates[i]=e.value,o.setValue("internal/statelist",e.value)})}}})}),this.__oLoop.attachEvent("modelChanged",function(e){e.setValue("internal/bMainFlag","NO"),null!==a.__oModel.getValue("mainAdd")&&a.__oModel.getValue("mainAdd")===e.getValue("data/addressLineNum")&&e.setValue("internal/bMainFlag","YES")}),o.resolve()}.bind(this)),this.$().on("vclick",".Main",function(e){var t=$(e.target).findModel("loop");this.__oModel.setValue("mainAdd",t.getValue("data/addressLineNum"))}.bind(this)),o.promise()},destroyView:function(){t.sbo.page.pad.SubBoMetadataView.prototype.destroyView.call(this)},update:function(){t.sbo.page.pad.SubBoMetadataView.prototype.update.apply(this,arguments)},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"ContactPerson",keyElements:[{keyName:"contactPersonID",keyValue:this.__mViewInfo.storeParam.contactPersonID}]}},getSubNodeName:function(){return"ContactAddress"},getSubNodeBindPath:function(){return"contactAddresses"},getTitle:function(e,o){var a=1==o?t.sbo.localization.Helper.get("common/ADDRESS"):t.sbo.localization.Helper.get("app/contact/ADDRESSES");return o+" "+a},getSubTitle:function(e){return e.firstName+" "+e.lastName},getIgnoredProperty:function(){return["contactPersonID","addressLineNum","block","CountryName"]},getEmptyTexts:function(){return[t.sbo.localization.Helper.get("app/contact/ADD_PURPOSE"),"desktop"===window.SboShell.callFeatureMethod("shell.getDeviceType")?t.sbo.localization.Helper.get("app/customer/C_ADD_CREATE"):t.sbo.localization.Helper.get("app/customer/ADD_CREATE")]}},Protected:{}})}),define("sap.sbo.page.pad.Contact.ContactCreation",["sap.ui.Controller","sap.sbo.page.pad.BoMetadataCreationFrameController","sap.sbo.layout.pad.MetadataList","sap.sbo.services.ContactPersonsService","sap.sbo.compoundservices.ContactPersonService","sap.sbo.ui.widget.BoStatus","sap.ui.widget.TextField","sap.ui.widget.TextArea","sap.sbo.ui.widget.DateTimeField","sap.sbo.util.formatter","sap.ui.widget.Button","sap.util","sap.sbo.ui.widget.BoLabel","sap.sbo.core.BoException","sap.core.JsonModel","sap.sbo.localization.Helper","sap.core.ListSourceFilter","json!sap.sbo.util.enums","css!sap.sbo.app.template.EditProperty","css!sap.sbo.app.template.DynamicProperty"],function(){"use strict";var e=this.getNS(),t=e.sap,o=t.sbo.page.pad.BoMetadataCreationFrameController;return e.formatter={convertEmtpyNull:function(e,t){return"<<"===t?null===e?"":e:">>"===t?""===e?null:e:void 0}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:o,Options:{data:{type:"object"}},Public:{init:function(){o.prototype.init.apply(this,arguments),this.declareMember({_oService:new t.sbo.services.ContactPersonsService,_contactPersonService:new t.sbo.compoundservices.ContactPersonService,__modelCustomer:this.autoDestroy(new t.core.JsonModel({readonly:!1}))})},destroy:function(){this._oService.destroy(),this._contactPersonService.destroy()},initView:function(){var a=this;this.$().setModel(this.__modelCustomer,"customer");var i=$.Deferred();return $.when(o.prototype.initView.call(this)).done(function(){i.resolve()}).fail(function(e){window.SboShell.raiseException(e),i.reject(e)}),this.$().control({'[ctrl="btnSaveOpen"]':{listener:{click:function(){t.util.showLoading(),$.when(a.boCreate()).done(function(e){var o={boNamespace:"com.sap.sbo",boName:"ContactPerson",keyElements:[{keyName:"contactPersonID",keyValue:e.contactPersonID}]};a.callShell("save",o),window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/CONTACT_CREATE_SUCCESSFUL"),"success"),window.SboShell.gotoView("sap.sbo.page.pad.Contact.ContactHome",[{keyName:"contactPersonID",keyValue:e.contactPersonID}])}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()})}}},'[ctrl="btnCancel"]':{listener:{click:function(){a.callShell("close")}}},"[ctrl='main']":{listener:{afterProcess:function(){var e=a.getOption("data");e.BPcardCode&&(a.getModel().setValue("cardCode",e.BPcardCode),a.getModel().setValue("BusinessPartnerCardName",e.BPcardName),a.__modelCustomer.setValue("readonly",!0))}}}}),this.$().on("GuilinControlEvent.navigate GuilinControlEvent.choose",".sbo-metadata-list-property",function(o){switch($(o.currentTarget).attr("gl-property")){case"cardCode":window.SboShell.openFrame({view:"sap.sbo.chooseList.pad.ChooseListCustomer",type:"right",options:{filter:new t.core.ListSourceFilter("(`isActive` = '"+e.json.sap.sbo.util.enums.bool.Yes+"')")},callback:function(e,t){"select"===e&&(a.getModel().setValue("cardCode",t.cardCode),a.getModel().setValue("BusinessPartnerCardName",t.cardName))}})}}),i.promise()},destroyView:function(){this.$().off("GuilinControlEvent.navigate GuilinControlEvent.choose"),o.prototype.destroyView.call(this)},update:function(){o.prototype.update.apply(this,arguments)},getMainControl:function(){return this.$("[ctrl='main']").getControl()},getBoType:function(){return{boNamespace:"com.sap.sbo",boName:"ContactPerson"}},getService:function(){return this._oService},process:function(){this.$().process(e)},boValidate:function(e){if(!e.lastName){var o=new t.sbo.core.BoException(t.sbo.localization.Helper.get("app/contact/INPUT_LAST_NAME"),-1,"lastName");throw o}},boCreate:function(){var e=$.Deferred(),o=this,a=this._oMetadataValueModel.getValue(""),i=o.getOption("data");try{$.when(o.boValidate(a)).done(function(){$.when("Order"===i.boName||"Quotation"===i.boName||"SalesOpportunity"===i.boName?o._contactPersonService.createAndSetMain(a,i.boName,i.keyParam[0].keyValue):o.getService().create(a)).done(function(t){e.resolve(t)}).fail(function(a){a instanceof t.sbo.core.BoException&&o.showErrorByExpr(a.getField(),a.getMessage()),e.reject(a)})}).fail(function(a){a instanceof t.sbo.core.BoException&&o.showErrorByExpr(a.getField(),a.getMessage()),e.reject(a)})}catch(s){e.reject(s)}return e.promise()}},Protected:{}})}),define("sap.sbo.page.pad.Contact.ContactEdit",["css!sap.sbo.app.template.EditProperty","sap.core.klass","sap.ui.Controller","sap.sbo.layout.pad.MetadataLayout","sap.ui.widget.TextField","sap.sbo.services.BaseService","sap.sbo.services.ContactPersonsService","sap.sbo.page.pad.BoMetadataEditController","sap.ui.widget.TextArea","sap.sbo.ui.widget.DateTimeField","sap.sbo.util.formatter","sap.util","sap.sbo.ui.widget.BoStatus","sap.ui.widget.Checkbox","sap.sbo.ui.widget.BoLabel","sap.ui.widget.Photo","sap.sbo.core.BoException","sap.core.JsonModel","sap.core.ListSourceFilter","sap.sbo.localization.Helper","sap.sbo.compoundservices.AttachmentService","sap.sbo.app.task.taskUtil","json!sap.sbo.util.enums","css!sap.sbo.page.pad.boEdit"],function(){"use strict";var e=this.getNS(),t=e.sap,o=e.json.sap.sbo.util.enums.bool;return e.formatter={string_null:function(e,t){return"<<"===t?e||"":e}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.pad.BoMetadataEditController,Public:{init:function(){t.sbo.page.pad.BoMetadataEditController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{_oService:new t.sbo.services.ContactPersonsService,_mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),__modelOwner:this.autoDestroy(new t.core.JsonModel({ownerName:"",OwnerImage:{url:"./image/common/no-pic-avatar.jpg"}})),oAttachementService:this.autoDestroy(new t.sbo.compoundservices.AttachmentService)})},destroy:function(){this._oService.destroy()},initView:function(){var e=$.Deferred(),a=this;return this.$().setModel(this.__modelOwner,"owner"),$.when(t.sbo.page.pad.BoMetadataEditController.prototype.initView.call(this)).done(function(){a.setTitle(t.sbo.localization.Helper.get("app/BASIC"));var e=a._oMetadataValueModel.getValue("ownerCode");null!=e&&$.when(a.oAttachementService.getPortraitId(e)).done(function(o){if(-1!==o.value){var i={};i.attachmentId=o.value,i.ownerCode=e;var s=t.sbo.app.task.taskUtil.PreviewUrl(i);a.__modelOwner.setValue("OwnerImage",{url:s})}}),a.$().on("vclick",".changeStatus",function(){var e=a._oMetadataValueModel.getValue("active");e===o.Yes?a._oMetadataValueModel.setValue("active",o.No):a._oMetadataValueModel.setValue("active",o.Yes)})}).fail(function(t){window.SboShell.raiseException(t),e.reject(t)}).always(function(){e.resolve()}),this.$().on("GuilinControlEvent.navigate GuilinControlEvent.choose",".sbo-metadata-list-property",function(e){switch($(e.currentTarget).attr("gl-property")){case"ownerCode":if("navigate"===e.namespace){var o=a._oMetadataValueModel.getValue("ownerCode");null!==o&&window.SboShell.gotoView("sap.sbo.page.pad.user.BasicInfo",[{keyName:"employeeID",keyValue:o}])}else window.SboShell.openFrame({view:"sap.sbo.chooseList.pad.ChooseListEmployee",options:{},type:"right",callback:function(e,o){"close"===e||"select"===e&&(a._oMetadataValueModel.setValue("ownerCode",o.employeeID),a._oMetadataValueModel.setValue("OwnerEmployeeDisplayName",o.displayName),$.when(a.oAttachementService.getPortraitId(o.employeeID)).done(function(e){if(-1!==e.value){var i={};i.attachmentId=e.value,i.ownerCode=o.employeeID;var s=t.sbo.app.task.taskUtil.PreviewUrl(i);a.__modelOwner.setValue("OwnerImage",{url:s})}}))}});break;case"cardCode":"navigate"===e.namespace&&window.SboShell.gotoView("sap.sbo.page.pad.Customer.CustomerHome",[{keyName:"cardCode",keyValue:a._oMetadataValueModel.getValue("cardCode")}])}}),e.promise()},destroyView:function(){window.SboShell.detachEvent("actionButtonClick",this._fnButtonProxy),this.$().off("GuilinControlEvent.navigate GuilinControlEvent.choose"),this.$().unprocess(),t.sbo.page.pad.BoMetadataEditController.prototype.destroyView.call(this)},update:function(){},getMainControl:function(){return this.$("[ctrl='main']").getControl()},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"ContactPerson",keyElements:this._mViewInfo.storeParam}},getService:function(){return this._oService},process:function(){this.$().process(e)},boValidate:function(e){if(!e.lastName){var o=new t.sbo.core.BoException(t.sbo.localization.Helper.get("app/contact/INPUT_LAST_NAME"),-1,"lastName");throw o}}},Protected:{}})}),define("sap.sbo.page.pad.Contact.ContactHome",["sap.core.JsonModel","sap.log","sap.util","sap.ui.MessageBox","sap.ui.Controller","sap.sbo.layout.TileView","sap.sbo.ui.widget.UploadButton","sap.sbo.services.BaseService","sap.sbo.services.ContactPersonsService","sap.sbo.services.BusinessPartnersService","sap.sbo.compoundservices.AttachmentService","sap.sbo.app.task.taskUtil","sap.sbo.layout.pad.AdvancedTilesLayout","sap.sbo.page.pad.BoHomeController","sap.ui.widget.TextField","sap.sbo.shell.IFeaturable","sap.sbo.layout.pad.MetadataRaw","sap.sbo.util.metadataHelper","sap.sbo.localization.Helper","sap.sbo.util.formatter","sap.ui.widget.Photo","json!sap.sbo.util.enums","sap.sbo.ui.widget.Address","sap.sbo.util.formatter","css!sap.sbo.app.template.GeneralProperty","html!sap.sbo.app.template.DynamicProperty","css!sap.sbo.app.template.EditProperty","css!sap.sbo.app.template.DynamicProperty","css!sap.sbo.page.pad.boHome","css!sap.sbo.app.template.TileProperty"],function(){"use strict";var e=this.getNS(),t=e.sap,o=e.json.sap.sbo.util.enums.bool;return e.formatter={string_null:function(e,t){return"<<"===t?e||"":e},isActive:function(e){return e===o.Yes?t.sbo.localization.Helper.get("app/appr/ACTIVE"):t.sbo.localization.Helper.get("app/appr/INACTIVE")},isActive_pic:function(e){return e===o.Yes?"<img src='./image/SalesOrder/lights_done.png'>":"<img src='./image/SalesOrder/lights_cancelled.png'>"},addressImage:function(e){return e?"<img src='./image/Address/Address.png'>":void 0}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.pad.BoHomeController,Interfaces:[t.sbo.shell.IFeaturable],Public:{init:function(){t.sbo.page.pad.BoHomeController.prototype.init.apply(this,arguments),this.declareMember({__oModel:this.autoDestroy(new t.core.JsonModel({Image:{url:"./image/common/no-pic.png"}})),ownerModel:this.autoDestroy(new t.core.JsonModel({OwnerImage:{url:"./image/common/no-pic-avatar.jpg"}})),__oService:this.autoDestroy(new t.sbo.services.ContactPersonsService),_mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),oAttachementService:this.autoDestroy(new t.sbo.compoundservices.AttachmentService),__contactPersonID:null}),this.__contactPersonID=this.convertBoKey(window.SboShell.callFeatureMethod("shell.getCurrentViewInfo").storeParam).contactPersonID},destroy:function(){},initView:function(){var o=$.Deferred(),a=this;return $.when(t.sbo.page.pad.BoHomeController.prototype.initView.apply(this,arguments)).done(function(i){var s=i;({contactPersonID:a.__contactPersonID}),a.$().setModel(a.__oModel),$.when(a.__oService.get(a.convertBoKey(a._mViewInfo.storeParam))).done(function(i){if(a.__oModel.setValue("",i),a.$().setModel(a.__oModel),a.$().setModel(a.ownerModel,"img"),i.portraitId>0){var n=t.sbo.util.formatter.getURL("ContactPerson","contactPersonID",a.__contactPersonID,i.portraitId);a.__oModel.setValue("Image",{url:n})}a.setTitle({subTitle:t.sbo.localization.Helper.get("common/CONTACT_PERSON"),title:a.__oModel.getValue("displayName")}),$.when(a.$().process(e)).done(function(){o.resolve()}).fail(function(e){window.SboShell.raiseException(e),o.reject(e)}),a.$().control({"[ctrl='layout']":{listener:{startLayout:function(){a.setOption("editable",!0),window.SboShell.showActionButtons(["saveLayout"])},afterProcess:function(){var o=t.sbo.util.metadataHelper.convert(s);a.$("[field='basicInfo']").getControl().setOption({metadata:o.properties,enumMeta:o.enumTypes,dynamicMeta:t.sbo.util.metadataHelper.convertDynamicMeta(i["sbo.dynamicmeta"]).properties,propertyTemplate:e.html.sap.sbo.app.template.DynamicProperty,readonly:!0})}}}}),window.SboShell.addFeature(a,"relatedFilter.BOkey","method"),a.autoDestroy("remove the realted filter",window.SboShell.removeFeature.bind(window.SboShell,"relatedFilter.BOkey"));for(var r=0;i.contactAddresses[r];r++)i.contactAddresses[r].addressLineNum===i.mainAdd&&(a.__oModel.setValue("addName",i.contactAddresses[r].addressName),a.__oModel.setValue("locale",i.contactAddresses[r].country),a.__oModel.setValue("country",i.contactAddresses[r].CountryName),a.__oModel.setValue("state",i.contactAddresses[r].state),a.__oModel.setValue("zipCode",i.contactAddresses[r].zipCode),a.__oModel.setValue("city",i.contactAddresses[r].city),a.__oModel.setValue("street1",i.contactAddresses[r].street),a.__oModel.setValue("street2",i.contactAddresses[r].block))}).fail(function(e){window.SboShell.raiseException(e),o.reject(e)}).always(function(){t.util.hideLoading()}),a.$().on("vclick",".bo-tile-profile",function(){window.SboShell.gotoView("sap.sbo.page.pad.Contact.ContactEdit",[{keyName:"contactPersonID",keyValue:a.__contactPersonID}])}),a.$().on("vclick",'[uuid="address"]',function(){window.SboShell.gotoView("sap.sbo.page.pad.Contact.AddressListView",{contactPersonID:a.__contactPersonID},{contactAddresses:a.__oModel.getValue("contactAddresses"),mainAdd:a.__oModel.getValue("mainAdd")})}),a.$().on("vclick",'[uuid="logo"]',function(e){window.SboShell.openFrame({view:"sap.sbo.app.BOProfile.ProfileDetails",type:"center",width:640,height:480,options:{userID:a.__contactPersonID,boName:a.getBoKeyEntity().boName},callback:function(e,t){"refreshAvatar"==e&&t&&a.__oModel.setValue("Image/url",t)}}),e.stopPropagation()})}),o.promise()},destroyView:function(){t.sbo.page.pad.BoHomeController.prototype.destroyView.apply(this,arguments),this.$().unprocess()},update:function(){},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"ContactPerson",keyElements:[{keyName:"contactPersonID",keyValue:this.__contactPersonID}]}},getService:function(){return this.__oService},doFeature:function(e){if("relatedFilter.BOkey"===e){var o=this.__oModel.getValue("");return{key:"contactPersonID",value:o.contactPersonID}}return t.sbo.page.pad.BoHomeController.prototype.doFeature.apply(this,arguments)}},Protected:{}})}),define("sap.sbo.page.pad.Contact.ContactListView",["sap.log","sap.util","sap.ui.MessageBox","sap.ui.Controller","sap.sbo.services.ContactPersonsService","sap.sbo.services.BusinessPartnersService","sap.sbo.services.SalesOpportunitiesService","sap.sbo.services.OrdersService","sap.sbo.services.QuotationsService","sap.sbo.services.LeadsService","sap.sbo.util.AjaxListSource","sap.sbo.layout.pad.ListLayout","sap.core.ListSourceFilter","sap.sbo.ui.widget.MultipleValueHelp","sap.ui.widget.Photo","sap.core.DestroyPool","sap.sbo.page.BaseBoListViewController","sap.sbo.ui.widget.ListManipulator","sap.sbo.localization.Helper","sap.sbo.page.pad.DataMigrationMenuButtonUtil","sap.sbo.services.BaseService","sap.ui.widget.Photo","sap.sbo.page.common.oppUtil","sap.sbo.util.formatter","json!sap.sbo.page.common.listFilters.Contact","json!sap.sbo.util.enums","css!sap.sbo.page.pad.Contact.ContactListView"],function(){"use strict";var e=this.getNS(),t=e.sap,o=e.json.sap.sbo.util.enums.bool;return e.formatter={bool_string:function(e){return e===o.Yes?"YES":"NO"},integer_string:function(e,t){return"<<"===t?e?""+e:"":e},setMain:function(e){return"YES"===e?"./image/Customer/setMainGray.png":"./image/Customer/setMain.png"}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.BaseBoListViewController,Public:{init:function(){t.sbo.page.BaseBoListViewController.prototype.init.apply(this,arguments),this.declareMember({__oService:this.autoDestroy(new t.sbo.services.ContactPersonsService),__oListSource:null,__oDestroy:null,__Param:{},_onActionButtonClickProxy:$.proxy(this._onActionButtonClickHandler,this),__ids:[],__oDataMigration:null}),this.__oListSource=this.autoDestroy(new t.sbo.util.AjaxListSource(this.__oService,"contactAddresses")),window.SboShell.attachEvent("actionButtonClick",this._onActionButtonClickProxy)},destroy:function(){window.SboShell.detachEvent("actionButtonClick",this._onActionButtonClickProxy)},getMainControl:function(){return this.$(".sbo-list-layout")},loadParams:function(e){var o=this;if(this.__info=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),o.__info.storeParam){var a;switch(o.__info.storeParam.boName){case"Order":a=o.__oDestroy.add(new t.sbo.services.OrdersService),a.get(o.__convertBoKey(o.__info.storeParam.keyParam)).done(function(t){e.resolve({MainContact:t.contactPersonCode})
}).fail(function(t){window.SboShell.raiseException(t),e.reject(t)});break;case"Quotation":a=o.__oDestroy.add(new t.sbo.services.QuotationsService),a.get(o.__convertBoKey(o.__info.storeParam.keyParam)).done(function(t){e.resolve({MainContact:t.contactPersonCode})}).fail(function(t){window.SboShell.raiseException(t),e.reject(t)});break;case"SalesOpportunity":a=o.__oDestroy.add(new t.sbo.services.SalesOpportunitiesService),a.get(o.__convertBoKey(o.__info.storeParam.keyParam)).done(function(t){e.resolve({MainContact:t.contactPerson})}).fail(function(t){window.SboShell.raiseException(t),e.reject(t)});break;case"BusinessPartner":a=o.__oDestroy.add(new t.sbo.services.BusinessPartnersService),a.get(o.__convertBoKey(o.__info.storeParam.keyParam)).done(function(t){e.resolve({MainContact:t.contactPerson})}).fail(function(t){window.SboShell.raiseException(t),e.reject(t)});break;case"Leads":a=o.__oDestroy.add(new t.sbo.services.LeadsService),a.get(o.__convertBoKey(o.__info.storeParam.keyParam)).done(function(t){e.resolve({MainContact:t.contactPersonCode})}).fail(function(t){window.SboShell.raiseException(t),e.reject(t)});break;default:e.resolve(this.__info.otherParam)}}else e.resolve(this.__info.otherParam)},initView:function(){SboShell.setOption({title:t.sbo.localization.Helper.get("common/CONTACT_NAME")});var a=this;this.__oDestroy=new t.core.DestroyPool;var i=$.Deferred();return $.when(t.sbo.page.BaseBoListViewController.prototype.initView.call(this)).done(function(s){a.__info=a.__info.storeParam||"";var n=a.__info.BPcardCode;a.__Param=s;var r=null;if(a.__info.boName)if("BusinessPartner"===a.__info.boName)a.canCreate()&&window.SboShell.addActionButtons([{key:"edit",text:t.sbo.localization.Helper.get("app/contact/EDIT")}],a),r=new t.core.ListSourceFilter("(`cardCode` = '"+n+"')");else{if(a.__info.ContactIDs){a.__ids=a.__info.ContactIDs;var l="";if(a.__ids.length>0){l=l.concat("([contactPersonID]= ",a.__ids[0],")");for(var d="",p=1;a.__ids.length>p;p++)l=d.concat("(",l," | ([contactPersonID]= ",a.__ids[p],"))")}else l="([contactPersonID]= -1)";r=new t.core.ListSourceFilter(l)}else r=new t.core.ListSourceFilter("(`cardCode` = '"+n+"')");window.SboShell.addActionButtons([{key:"edit",text:t.sbo.localization.Helper.get("app/contact/EDIT")}],a)}else a.canCreate()&&window.SboShell.addActionButtons([{key:"create",text:t.sbo.localization.Helper.get("app/contact/CREATE")}],a);a.$().process(e);var c=[],u=!1;a.__info.boName?"BusinessPartner"===a.__info.boName?(c.push(t.sbo.localization.Helper.get("app/customer/CONTACT_PURPOSE")),c.push("desktop"===window.SboShell.callFeatureMethod("shell.getDeviceType")?t.sbo.localization.Helper.get("app/customer/C_CONTACT_CREATE"):t.sbo.localization.Helper.get("app/customer/CONTACT_CREATE")),u=!0):"Order"===a.__info.boName?(c.push(t.sbo.localization.Helper.get("app/order/CONTACT_PURPOSE")),c.push("desktop"===window.SboShell.callFeatureMethod("shell.getDeviceType")?t.sbo.localization.Helper.get("app/customer/C_CONTACT_CREATE"):t.sbo.localization.Helper.get("app/customer/CONTACT_CREATE")),c.push(t.sbo.localization.Helper.get("app/order/CONTACT_INFO")),u=!0):"Quotation"===a.__info.boName?(c.push(t.sbo.localization.Helper.get("app/quotation/CONTACT_PURPOSE")),c.push("desktop"===window.SboShell.callFeatureMethod("shell.getDeviceType")?t.sbo.localization.Helper.get("app/customer/C_CONTACT_CREATE"):t.sbo.localization.Helper.get("app/customer/CONTACT_CREATE")),c.push(t.sbo.localization.Helper.get("app/quotation/CONTACT_INFO")),u=!0):"SalesOpportunity"===a.__info.boName&&(c.push(t.sbo.localization.Helper.get("app/opp/CONTACT_PURPOSE")),c.push("desktop"===window.SboShell.callFeatureMethod("shell.getDeviceType")?t.sbo.localization.Helper.get("app/customer/C_CONTACT_CREATE"):t.sbo.localization.Helper.get("app/customer/CONTACT_CREATE")),c.push(t.sbo.localization.Helper.get("app/opp/CONTACT_INFO")),u=!0):(c.push(t.sbo.localization.Helper.get("app/contact/PURPOSE")),c.push(t.sbo.localization.Helper.get("app/contact/USAGE")),c.push("desktop"===window.SboShell.callFeatureMethod("shell.getDeviceType")?t.sbo.localization.Helper.get("app/contact/C_CREATE"):t.sbo.localization.Helper.get("app/contact/TO_CREATE")),u=!0),a.canQuery()&&(a.$().control({'[data-id="listView"]':{emptyTexts:c,showEmptyContent:u,source:a.__oListSource,filter:r,sort:{field:"EN"===window.SboShell.getData("locale")?"firstName":"lastName",asc:!0},listener:{create:function(){SboShell.openFrame({view:"sap.sbo.page.pad.Contact.ContactCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,options:{data:a.__info},callback:function(){}})},requestDone:function(e){SboShell.setOption({title:1==e.count?t.sbo.localization.Helper.get("common/CONTACT_PERSON"):t.sbo.localization.Helper.get("common/CONTACT_NAME"),subTitle:n?a.__info.BPcardName||"":""}),SboShell.setHeaderCount(e.count)},modelCreated:function(e){e.setValue("mobileShow","NO"),e.setValue("phoneShow","NO"),e.setValue("faxShow","NO"),e.setValue("emailShow","NO"),e.setValue("bMainFlag","NO"),s&&void 0!==s.MainContact&&("BusinessPartner"===a.__info.boName&&s.MainContact===e.getValue("name")||"BusinessPartner"!==a.__info.boName&&s.MainContact===e.getValue("contactPersonID"))&&e.setValue("bMainFlag","YES");for(var o=[],i=[{field:"mobilePhone",flag:"mobileShow"},{field:"phone1",flag:"phoneShow"},{field:"fax",flag:"faxShow"},{field:"e_Mail",flag:"emailShow"}],n=0;i.length>n;++n)e.getValue(i[n].field)&&o.push(i[n].flag);o[0]&&e.setValue(o[0],"YES"),o[1]&&e.setValue(o[1],"YES"),e.setValue("Image",{url:"./image/common/no-pic-avatar.jpg"}),e.setValue("Image",{showImg:"NO"});var r=e.getValue("portraitId"),l=e.getValue("contactPersonID");if(r>0){e.setValue("Image",{showImg:"YES"});var d=t.sbo.util.formatter.getURL("ContactPerson","contactPersonID",l,r);e.setValue("Image",{url:d})}}}}}),a.$().on("vclick",'[data-id="setMain"]',function(e){if($(e.target).findModel().getValue("active")===o.Yes&&"NO"===$(e.target).findModel().getValue("bMainFlag")){var i,n;switch(a.__info.boName){case"Order":i={contactPersonCode:$(e.target).findModel().getValue("contactPersonID")},n=a.__oDestroy.add(new t.sbo.services.OrdersService);break;case"Quotation":i={contactPersonCode:$(e.target).findModel().getValue("contactPersonID")},n=a.__oDestroy.add(new t.sbo.services.QuotationsService);break;case"SalesOpportunity":i={contactPerson:$(e.target).findModel().getValue("contactPersonID")},n=a.__oDestroy.add(new t.sbo.services.SalesOpportunitiesService);break;case"BusinessPartner":i={contactPerson:$(e.target).findModel().getValue("name")},n=a.__oDestroy.add(new t.sbo.services.BusinessPartnersService);break;case"Leads":i={contactPersonCode:$(e.target).findModel().getValue("contactPersonID")},n=a.__oDestroy.add(new t.sbo.services.LeadsService);break;default:}if(t.util.showLoading(),"Leads"==a.__info.boName){var r={mainContactPersonID:$(e.target).findModel().getValue("contactPersonID")};n.action_setMainContactPerson(a.__convertBoKey(a.__info.keyParam),r).done(function(){s.MainContact=$(e.target).findModel().getValue("contactPersonID"),a.__onGotoView()}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()})}else n.update(i,a.__convertBoKey(a.__info.keyParam)).done(function(){s.MainContact="BusinessPartner"===a.__info.boName?$(e.target).findModel().getValue("name"):$(e.target).findModel().getValue("contactPersonID"),a.__onGotoView(),window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/contact/SET_MAIN_SUCCESS"),"success")}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()})}e.stopPropagation()}),a.$().on("vclick",'[data-id="remove"]',function(e){$.when(window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/contact/REMOVE_CONFIRM"),"question",[{key:"C",text:t.sbo.localization.Helper.get("common/CANCEL")},{key:"R",text:t.sbo.localization.Helper.get("common/REMOVE")}])).done(function(o){if("R"==o){var i={contactPersonID:$(e.target).findModel().getValue("contactPersonID")};if(t.util.showLoading(),"Leads"==a.__info.boName)var n=new t.sbo.services.LeadsService;else var n=new t.sbo.services.BusinessPartnersService;n.action_detachContactPerson(a.__convertBoKey(a.__info.keyParam),i).done(function(){n.get(a.__convertBoKey(a.__info.keyParam)).done(function(e){if(s.MainContact="BusinessPartner"===a.__info.boName?e.contactPerson:e.contactPersonCode,"Leads"==a.__info.boName){var t=e.contacts;a.__ids=[];for(var o=0;t.length>o;o++)a.__ids.push(t[o].contactPersonID);a.__onGotoView("Leads"==a.__info.boName,a.__ids)}else a.__onGotoView()}),window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/contact/REMOVE_SUCCESS"),"success")}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()})}}),e.stopPropagation()}),a.$().on("vclick",".item",function(e){SboShell.gotoView("sap.sbo.page.pad.Contact.ContactHome",[{keyName:"contactPersonID",keyValue:$(e.target).findModel().getValue("contactPersonID")}])})),a.__info.boName||$.when(a.__oService.count()).done(function(e){a.__oDataMigration=a.__oDestroy.add(new t.sbo.page.pad.DataMigrationMenuButtonUtil({datatype:"SFAContactPerson",view:"sap.sbo.page.pad.Contact.ContactListView",count:e}))}),i.resolve()}).fail(function(e){window.SboShell.raiseException(e),i.reject(e)}),i.promise()},destroyView:function(){t.sbo.page.BaseBoListViewController.prototype.destroyView.call(this),this.__oDestroy.destroy(),this.$().unprocess()},update:function(){},getService:function(){return this.__oService},getBoNameEntity:function(){return{boNamespace:"com.sap.sbo",boName:"ContactPerson"}},getListSource:function(){return this.__oListSource},getProcessContext:function(){return e},allowListOperation:function(){return this.__info.storeParam.boName?!1:!0},getQuickFilters:function(){if(e&&e.json&&e.json.sap&&e.json.sap.sbo&&e.json.sap.sbo.page&&e.json.sap.sbo.page.common&&e.json.sap.sbo.page.common.listFilters&&e.json.sap.sbo.page.common.listFilters.Contact){var o=e.json.sap.sbo.page.common.listFilters.Contact,a={};for(var i in o)a[i]={},a[i].expr=o[i],a[i].label=t.sbo.localization.Helper.get("app/contact/"+i),a[i].description=a[i].label;return a}return{}}},Protected:{__onGotoView:function(e,o){if(e){var a="";if(o.length>0){a=a.concat("([contactPersonID]= ",o[0],")");for(var i="",s=1;o.length>s;s++)a=i.concat("(",a," | ([contactPersonID]= ",o[s],"))")}else a="([contactPersonID]= -1)";var n=new t.core.ListSourceFilter(a);$.when(this.$('[data-id="listView"]').getControl().setOption("filter",n)).done(function(){this.$('[data-id="listView"]').getControl().refresh()}.bind(this))}else this.$('[data-id="listView"]').getControl().refresh()},__convertBoKey:function(e){for(var t={},o=0;e.length>o;o++)t[e[o].keyName]=e[o].keyValue;return t},_onActionButtonClickHandler:function(e){var a=this;switch(e){case"assign":if(a){var i=new t.core.ListSourceFilter({op:"and",leftValue:new t.core.ListSourceFilter("(`cardCode` = '')").getFilter(),rightValue:new t.core.ListSourceFilter("(`active` = '"+o.Yes+"')").getFilter()});if("Leads"==a.__info.boName){var s="",n="";if(s=s.concat("(([cardCode] = ' ') & ([active] = '",o.Yes,"'))"),s=n.concat("(",s," | ([cardCode] = '",a.__info.BPcardCode,"'))"),a.__ids.length>0)for(var r=0;a.__ids.length>r;r++)s=n.concat("(",s," & ([contactPersonID] != ",a.__ids[r],"))");i=new t.core.ListSourceFilter(s)}window.SboShell.openFrame({view:"sap.sbo.chooseList.pad.ChooseListContact",options:{filter:i},type:"right",callback:function(e,o){if("select"===e){var i={};switch(i.contactPersonID=o.contactPersonID,a.__info.boName){case"Leads":var s=a.__oDestroy.add(new t.sbo.services.LeadsService);s.action_attachContactPerson(a.__convertBoKey(a.__info.keyParam),i).done(function(){s.get(a.__convertBoKey(a.__info.keyParam)).done(function(e){a.__Param.MainContact=e.contactPersonCode;var t=e.contacts;a.__ids=[];for(var o=0;t.length>o;o++)a.__ids.push(t[o].contactPersonID);a.__onGotoView("Leads"==a.__info.boName,a.__ids)})}).fail(function(e){window.SboShell.raiseException(e)});break;case"BusinessPartner":var s=a.__oDestroy.add(new t.sbo.services.BusinessPartnersService);s.action_attachContactPerson(a.__convertBoKey(a.__info.keyParam),i).done(function(){s.get(a.__convertBoKey(a.__info.keyParam)).done(function(e){a.__Param.MainContact=e.contactPerson,a.__onGotoView()})}).fail(function(e){window.SboShell.raiseException(e)});break;case"Order":var s=a.__oDestroy.add(new t.sbo.services.OrdersService);s.action_attachContactPerson(a.__convertBoKey(a.__info.keyParam),i).done(function(){s.get(a.__convertBoKey(a.__info.keyParam)).done(function(e){a.__Param.MainContact=e.contactPersonCode,a.__onGotoView()})}).fail(function(e){window.SboShell.raiseException(e)});break;case"Quotation":var s=a.__oDestroy.add(new t.sbo.services.QuotationsService);s.action_attachContactPerson(a.__convertBoKey(a.__info.keyParam),i).done(function(){s.get(a.__convertBoKey(a.__info.keyParam)).done(function(e){a.__Param.MainContact=e.contactPersonCode,a.__onGotoView()})}).fail(function(e){window.SboShell.raiseException(e)});break;case"SalesOpportunity":var s=a.__oDestroy.add(new t.sbo.services.SalesOpportunitiesService);s.action_attachContactPerson(a.__convertBoKey(a.__info.keyParam),i).done(function(){s.get(a.__convertBoKey(a.__info.keyParam)).done(function(e){a.__Param.MainContact=e.contactPerson,a.__onGotoView()})}).fail(function(e){window.SboShell.raiseException(e)})}}}})}break;case"create":SboShell.openFrame({view:"sap.sbo.page.pad.Contact.ContactCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,options:{data:a.__info},callback:function(){}});break;case"edit":"BusinessPartner"===a.__info.boName?(window.SboShell.addActionButtons([{key:"create",text:t.sbo.localization.Helper.get("app/contact/CREATE")},{key:"assign",text:t.sbo.localization.Helper.get("app/contact/ASSIGN")}],a),a.$('[data-id="listView"]').addClass("showMainAndDeleteBtn")):a.__info.ContactIDs?(window.SboShell.addActionButtons([{key:"assign",text:t.sbo.localization.Helper.get("app/contact/ASSIGN")}],a),a.$('[data-id="listView"]').addClass("showMainAndDeleteBtn")):(window.SboShell.addActionButtons([{key:"create",text:t.sbo.localization.Helper.get("app/contact/CREATE")},{key:"assign",text:t.sbo.localization.Helper.get("app/contact/ASSIGN")}],a),a.$('[data-id="listView"]').addClass("showMainBtn")),window.SboShell.hideActionButtons(["edit"]),window.SboShell.addActionButtons([{key:"done",text:t.sbo.localization.Helper.get("app/contact/DONE")}],a);break;case"done":"BusinessPartner"===a.__info.boName?(window.SboShell.hideActionButtons(["create","assign"]),a.$('[data-id="listView"]').removeClass("showMainAndDeleteBtn")):a.__info.ContactIDs?(window.SboShell.hideActionButtons(["assign"]),a.$('[data-id="listView"]').removeClass("showMainAndDeleteBtn")):(window.SboShell.hideActionButtons(["create","assign"]),a.$('[data-id="listView"]').removeClass("showMainBtn")),window.SboShell.showActionButtons(["edit"]),window.SboShell.hideActionButtons(["done"]),a.__onGotoView()}}}})}),define("sap.sbo.page.pad.CampaignSetting.CampaignSetting",["sap.core.klass","sap.core.JsonModel","sap.ui.View","sap.ui.common","sap.log","sap.ui.Controller","sap.sbo.layout.TileView","sap.sbo.layout.pad.AdvancedTilesLayout","sap.sbo.shell.IFeaturable"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,Interfaces:[t.sbo.shell.IFeaturable],Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments)},destroy:function(){},initView:function(){this.$().process(e)},destroyView:function(){this.$().unprocess(e)},update:function(){}},Protected:{}})}),define("sap.sbo.page.pad.dataOwnership.DataOwnershipPadObserver",["sap.core.klass","sap.sbo.page.pad.dataOwnership.DOAssignment","sap.sbo.page.common.dataOwnership.BaseDataOwnershipObserver"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:"sap.sbo.page.pad.dataOwnership.DataOwnershipPadObserver",Base:t.sbo.page.common.dataOwnership.BaseDataOwnershipObserver,Public:{init:function(){t.sbo.page.common.dataOwnership.BaseDataOwnershipObserver.prototype.init.apply(this,arguments)},getViewName:function(){return"sap.sbo.page.pad.dataOwnership.DOAssignment"}}})}),define("sap.sbo.page.pad.dataOwnership.DOAssignment",["sap.ui.Controller","sap.sbo.page.common.dataOwnership.DOAssignment","sap.sbo.ui.FrameViewController","sap.sbo.compoundservices.DataOwnershipService","sap.core.JsonModel","sap.ui.Repeat","sap.sbo.localization.Helper","sap.ui.widget.DropDownBox","sap.sbo.chooseList.pad.ChooseListEmployee","css!sap.sbo.page.pad.dataOwnership.DOAssignment"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Options:{objectCode:{type:"string",defaultValue:null},instanceID:{type:"Array",defaultValue:[]},boName:{type:"string",defaultValue:null}},Public:{init:function(){t.sbo.ui.FrameViewController.prototype.init.apply(this,arguments),this.declareMember({__btnChooseProxy:$.proxy(this.__chooseUser,this),__btnOkProxy:$.proxy(this.__okClick,this),__service:this.autoDestroy(new t.sbo.compoundservices.DataOwnershipService),__oIScroll:null,__aCachedContent:[],__oDataModel:{},__objectCode:null,__instanceID:null})},destroy:function(){},initView:function(){var o=this,a=$.Deferred(),i=this.getAllOptions();o.__objectCode=i.objectCode,o.__instanceID=i.instanceID[0];var s=[{code:"R",text:t.sbo.localization.Helper.get("sys/dos/AUTH_R")},{code:"F",text:t.sbo.localization.Helper.get("sys/dos/AUTH_F")}],n=new t.core.JsonModel({data:s,textField:"text",valueField:"code",selectedValue:"",disabled:!1});return o.$().setModel(n,"dropMeta"),this.__oDataModel=new t.core.JsonModel({contents:[]}),o.$().setModel(this.__oDataModel,"DOList"),$.when(o.__service.getBOAssignments(o.__objectCode,o.__instanceID)).done(function(i){i?(o.__oIScroll=new iScroll($("[sap-ctrl='iscrol']")[0],{hScroll:!1}),o.__oDataModel.setValue("contents",o._contentToUI(i.value)),o.__aCachedContent=i.value):window.SboShell.raiseMessage(t.sbo.localization.Helper.get("sys/dos/GET_ASSIGN_FAILED"),"error",[{key:"yes",text:t.sbo.localization.Helper.get("common/OK")}],t.sbo.localization.Helper.get("sys/dos/ERROR")),$.when(o.$().process(e)).done(function(){o.__oIScroll&&o.__oIScroll.refresh(),a.resolve()}),$('[data-sap-widget="sap.ui.Repeat"]').getControl().attachEvent("afterUpdate",function(){$(".deleteIcon").each(function(){var e=$(this).attr("data-sap-ctrl");"true"==e?$(this).addClass("hide_delete"):($(this).removeClass("hide_delete"),$(this).on("vclick",function(){for(var e=$(this).attr("data-sap-empID"),t=o.__oDataModel.getValue("contents"),a=0,i=t.length;i>a;a++)if(t[a].id==e){t.splice(a,1);break}o.__oDataModel.setValue("contents",t);for(var s=0,n=o.__aCachedContent.length;n>s;s++)if(o.__aCachedContent[s].id==e){o.__aCachedContent[s].authorization="N";break}o.__oIScroll.refresh()}))})})}).fail(function(e){return window.SboShell.raiseMessage(t.sbo.localization.Helper.get("sys/dos/GET_ASSIGN_FAILED"),"error",[{key:"yes",text:t.sbo.localization.Helper.get("common/OK")}],t.sbo.localization.Helper.get("sys/dos/ERROR")),e.processed(),a.resolve(),a.promise()}),$(".click_more").on("vclick",o.__btnChooseProxy),$(".btn_cancel").on("vclick",function(){o.closeFrame()}),$(".btn_ok").on("vclick",o.__btnOkProxy),a.promise()},update:function(){},destroyView:function(){$(".btn_cancel").off("vclick"),$(".btn_ok").off("vclick"),$(".deleteIcon").off("vclick"),$(".click_more").off("vclick")}},Protected:{_contentToUI:function(e){var t=[];if(e)for(var o=0,a=e.length;a>o;o++)"N"!=e[o].authorization&&t.push(this.__singleContentToUI(e[o]));return t},__singleContentToUI:function(e){var t={};return $.extend(t,e),t.account="E"===e.type?e.lastName+" "+e.firstName:e.name,t},__okClick:function(){for(var e=this,o=!1,a=this.__oDataModel.getValue("contents"),i=[],s=0,n=e.__aCachedContent.length;n>s;s++){o=!1;for(var r=0,l=a.length;l>r;r++)if(a[r].id==e.__aCachedContent[s].id){o=!0,i.push({id:e.__aCachedContent[s].id,type:e.__aCachedContent[s].type,authorization:a[r].authorization});break}o||i.push({id:e.__aCachedContent[s].id,type:e.__aCachedContent[s].type,authorization:e.__aCachedContent[s].authorization})}$.when(e.__service.setBOAssignments(e.__objectCode,e.__instanceID,i)).done(function(){e.callShell({result:"s"}),e.closeFrame()}).fail(function(o){window.SboShell.raiseMessage(t.sbo.localization.Helper.get("sys/dos/SET_DO_FAIL"),"error",[{key:"yes",text:t.sbo.localization.Helper.get("common/OK")}],t.sbo.localization.Helper.get("sys/dos/ERROR")),o.processed(),e.closeFrame()})},__chooseUser:function(){var e=this;window.SboShell.openFrame({view:"sap.sbo.chooseList.pad.ChooseListEmployee",type:"right",callback:function(o,a){var i=!1;if("select"===o&&a)for(var s=0,n=e.__aCachedContent.length;n>s;s++)if(e.__aCachedContent[s].id==a.employeeID)if(i=!0,"N"!=e.__aCachedContent[s].authorization)window.SboShell.raiseMessage(t.sbo.localization.Helper.get("sys/dos/duplicateEmp",a.displayName),"error",[{key:"yes",text:t.sbo.localization.Helper.get("common/OK")}],t.sbo.localization.Helper.get("sys/dos/ERROR"));else{e.__aCachedContent[s].authorization="R";var r=e.__oDataModel.getValue("contents");r.unshift(e.__singleContentToUI(e.__aCachedContent[s])),$.when(e.__oDataModel.setValue("contents",r)).done(function(){e.__oIScroll.refresh()})}}})}}})}),define("sap.sbo.page.pad.dataOwnership.DOCreation",["sap.ui.Controller","sap.core.JsonModel","sap.ui.widget.DropDownBox","sap.sbo.ui.FrameViewController","sap.core.klass","sap.sbo.localization.Helper","sap.ui.widget.Button","sap.sbo.compoundservices.DataOwnershipService","css!sap.sbo.page.pad.dataOwnership.DOCreation"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Options:{bo:{type:"string"},boCode:{type:"string"},account:{type:"string"},peer:{type:"string"},manager:{type:"string"},subordinate:{type:"string"},empID:{type:"string"}},Public:{init:function(){t.sbo.ui.FrameViewController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{__service:new t.sbo.compoundservices.DataOwnershipService,__param:{}})},destroy:function(){},initView:function(){var o=this,a=new t.core.JsonModel({});o.$().setModel(a,"cfg");var i=[{code:"N",text:t.sbo.localization.Helper.get("sys/dos/AUTH_N")},{code:"R",text:t.sbo.localization.Helper.get("sys/dos/AUTH_R")},{code:"F",text:t.sbo.localization.Helper.get("sys/dos/AUTH_F")}],s=new t.core.JsonModel({data:i,textField:"text",valueField:"code",selectedValue:""});o.$().setModel(s,"dropMeta"),o.$().process(e),o.$().control({"#cancelBtn":{listener:{click:function(){o.callShell({result:"c"}),o.closeFrame()}}},"#saveBtn":{listener:{click:function(){var e=[{id:a.getValue("employee"),peer:a.getValue("peer"),manager:a.getValue("manager"),subordinate:a.getValue("subordinate")}];$.when(o.__service.setEmpDataOwnershipConfByBO(o.__param.boCode,e)).done(function(){o.callShell({result:"s"}),o.closeFrame()}).fail(function(e){e&&(o.callShell({result:"f"}),o.closeFrame(),window.SboShell.raiseMessage(t.sbo.localization.Helper.get("sys/dos/SAVE_ASSIGN_FAILED")),e.processed())})}}}})},destroyView:function(){this.__service.destroy(),this.$().unprocess(e)},update:function(){this.__param=this.getAllOptions();var e=this.$().getModel("cfg");e.setValue("account",this.__param.account),e.setValue("bo",this.__param.bo),e.setValue("peer",this.__param.peer),e.setValue("manager",this.__param.manager),e.setValue("subordinate",this.__param.subordinate),e.setValue("employee",this.__param.empID)}}})}),define("sap.sbo.page.pad.dataOwnership.DOEnablement",["sap.ui.common","sap.core.klass","sap.core.JsonModel","sap.ui.Controller","sap.sbo.ui.PageController","sap.util","sap.ui.MessageBox","sap.sbo.layout.pad.ListLayout","sap.ui.widget.Checkbox","sap.sbo.localization.Helper","sap.core.ArrayListSource","sap.sbo.page.pad.dataOwnership.DOEnablementBase","sap.sbo.compoundservices.DataOwnershipService","css!sap.sbo.page.pad.dataOwnership.DOEnablement"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.PageController,Public:{init:function(){t.sbo.ui.PageController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{__service:new t.sbo.compoundservices.DataOwnershipService,__enablement:!1})},destroy:function(){},initView:function(){var o=this;o.__buttonClickProxy=$.proxy(this.__service.enableDataOwnership,this.__service),t.util.showLoading();var a=$.Deferred(),i=new t.sbo.page.pad.dataOwnership.DOEnablementBase;return i.init.call(this),o.$().process(e),o.$().control({".listView":{listener:{requestFailed:function(){$.when(t.ui.MessageBox.show({message:t.sbo.localization.Helper.get("sys/dos/LOAD_BO_FAILED"),title:t.sbo.localization.Helper.get("sys/dos/ERROR"),icon:"error",buttons:[t.sbo.localization.Helper.get("sys/dos/BUTTON_OK")]})).done(function(){window.SboShell.backView()})},requestDone:function(e){o.setTitle({title:t.sbo.localization.Helper.get("sys/dos/BO_DATA_OWNERSHIP"),subTitle:t.sbo.localization.Helper.get("common/ITEM_TOTAL")+" "+e.count+" "+t.sbo.localization.Helper.get("sys/dos/BO_ITEMS")})}}}}),$.when(o.__service.getBODataOwnershipConf(),o.__service.isDataOwnershipEnabled()).done(function(e,i){o.__enablement=i.value,o._registButton(o.__enablement,o.__buttonClickProxy,o._enableDataOwnership);for(var s=0,n=e.value.length;n>s;s++)e.value[s].filter=e.value[s].active?t.sbo.localization.Helper.get("sys/dos/BO_ENABLE"):t.sbo.localization.Helper.get("sys/dos/BO_DISABLE");o.$(".listView").getControl().setOption("source",new t.core.ArrayListSource(e.value)),o._enableDataOwnership(o.__enablement),a.resolve(),t.util.hideLoading()}).fail(function(e){window.SboShell.raiseMessage(t.sbo.localization.Helper.get("sys/dos/LOAD_BO_FAILED"),"error"),e.processed(),a.reject(),window.SboShell.backwardView()}).always(function(){t.util.hideLoading()}),a.promise()},destroyView:function(){this.$().unprocess(e),this.__service.destroy(),this._removeButton()},update:function(){}},Protected:{_enableDataOwnership:function(e){e===!0||"Y"===e?(this.$(".listView").removeClass("items_disabled"),this.$(".listView").getControl().attachEvent("itemClick",function(e){window.SboShell.gotoView("sap.sbo.page.pad.dataOwnership.DOEnablementDetail",{code:e.objectCode,boName:e.name},{enable:e.active})})):(this.$(".listView").addClass("items_disabled"),this.$(".listView").getControl().detachEvent("itemClick"))}}})}),define("sap.sbo.page.pad.dataOwnership.DOEnablementBase",["sap.core.klass","sap.sbo.localization.Helper"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Public:{init:function(){this._registButton=function(e,o,a){this.__enablement=e;var i=e?t.sbo.localization.Helper.get("sys/dos/BUTTON_DISABLE"):t.sbo.localization.Helper.get("sys/dos/BUTTON_ENABLE");this.__callBackend=o,this.__callback=a,window.SboShell.removeActionButtons(["key_assignment"]),window.SboShell.addActionButtons({text:i,key:"key_assignment"}),this.__buttonClickProxy=$.proxy(this._toggleDataOwnership,this),window.SboShell.attachEvent("actionButtonClick",this.__buttonClickProxy)},this._removeButton=function(){window.SboShell.detachEvent("actionButtonClick",this.__buttonClickProxy),window.SboShell.removeActionButtons(["key_assignment"])},this._toggleDataOwnership=function(e){var o=this;switch(e){case"key_assignment":var a=!o.__enablement,i=[];if(o.__boCode){var s=[{objectCode:o.__boCode,active:a}];i.push(s)}else i.push(a);$.when(o.__callBackend.apply(o,i)).done(function(){var e=a?t.sbo.localization.Helper.get("sys/dos/BUTTON_DISABLE"):t.sbo.localization.Helper.get("sys/dos/BUTTON_ENABLE");window.SboShell.updateActionButton({text:e,key:"key_assignment"}),o.__enablement=a,o.__callback.call(o,a)}).fail(function(e){window.SboShell.raiseMessage(t.sbo.localization.Helper.get("sys/dos/SET_BO_FAILED"),"error"),e.processed()})}}},destroy:function(){}}})}),define("sap.sbo.page.pad.dataOwnership.DOEnablementDetail",["sap.ui.common","sap.core.klass","sap.core.JsonModel","sap.ui.Controller","sap.sbo.ui.PageController","sap.util","sap.ui.MessageBox","sap.sbo.layout.pad.ListLayout","sap.ui.widget.Checkbox","sap.sbo.localization.Helper","sap.core.ArrayListSource","sap.sbo.page.pad.dataOwnership.DOEnablementBase","sap.sbo.compoundservices.DataOwnershipService","css!sap.sbo.page.pad.dataOwnership.DOEnablementDetail"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.PageController,Public:{init:function(){t.sbo.ui.PageController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{__service:new t.sbo.compoundservices.DataOwnershipService,__enablement:!1,__boName:"",__boCode:""})},destroy:function(){},initView:function(){var e=this;e.__buttonClickProxy=$.proxy(this.__service.setBODataOwnershipConf,this.__service);var t=$.Deferred();if(window.SboShell.isFeatureAvailable("shell.getCurrentViewInfo"))var o=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo");if(e.__boName=o.storeParam.boName,e.__boCode=o.storeParam.code,o.otherParam&&void 0!==o.otherParam.enable){var a=o.otherParam.enable;o.otherParam=null,$.when(e.__service.getEmpDataOwnershipConfByBO(e.__boCode)).done(function(o){e._initializeView(a,o,t)})}else $.when(e.__service.getBODataOwnershipConf(),e.__service.getEmpDataOwnershipConfByBO(e.__boCode)).done(function(o,a){e._initializeView(o,a,t)});return t.promise()},destroyView:function(){this.__service.destroy(),this.$().off("vclick"),this._removeButton(),this.$().unprocess(e)},update:function(){}},Protected:{_valueToText:function(e,o){var a={};for(var i in o)o.hasOwnProperty(i)&&("N"===o[i]?(a["text"+i]=t.sbo.localization.Helper.get("sys/dos/AUTH_N"),a[i]=o[i]):"R"===o[i]?(a["text"+i]=t.sbo.localization.Helper.get("sys/dos/AUTH_R"),a[i]=o[i]):"F"===o[i]?(a["text"+i]=t.sbo.localization.Helper.get("sys/dos/AUTH_F"),a[i]=o[i]):a[i]=o[i]===!1?e===!1?"F":o[i]:o[i]);return a.account=o.firstName+" "+o.lastName,a},_convertToValue:function(e,t,o){return{bo:t,boCode:o,account:e.getValue("account"),peer:e.getValue("peer"),manager:e.getValue("manager"),subordinate:e.getValue("subordinate"),empID:e.getValue("id")}},_checkEnabled:function(e){e===!0?($(".listView").removeClass("items_disabled"),$(".standardEmployeeIcon").each(function(){"F"===$(this).attr("data-isSuperUser")&&$(this).attr("data-isSuperUser","false")})):($(".listView").addClass("items_disabled"),$(".standardEmployeeIcon").each(function(){"false"===$(this).attr("data-isSuperUser")&&$(this).attr("data-isSuperUser","F")}))},_refresh:function(){var e=this;$.when(e.__service.getEmpDataOwnershipConfByBO(e.__boCode)).done(function(o){if(o&&o.value){for(var a=[],i=0,s=o.value.length;s>i;i++)a.push(e._valueToText(e.__enablement,o.value[i]));var n=$(".listView").getControl();n.setOption("source",new t.core.ArrayListSource(a))}}).fail(function(e){window.SboShell.raiseMessage(t.sbo.localization.Helper.get("sys/dos/LOAD_BO_FAILED")),window.SboShell.backView(),e.processed()}).always(function(){t.util.hideLoading()})},_initializeView:function(o,a,i){var s=this;if("object"==typeof o){for(var n=0,r=o.value.length;r>n;n++)if(o.value[n].objectCode===s.__boCode){s.__enablement=o.value[n].active;break}}else s.__enablement=o;s._checkEnabled(s.__enablement);var l=new t.sbo.page.pad.dataOwnership.DOEnablementBase;if(l.init.call(this),s._registButton(s.__enablement,s.__buttonClickProxy,s._checkEnabled),s.$().process(e),a&&a.value){for(var d=[],n=0,r=a.value.length;r>n;n++)d.push(s._valueToText(s.__enablement,a.value[n]));var p=$(".listView").getControl();p.setOption("source",new t.core.ArrayListSource(d))}s.$().control({".listView":{listener:{requestFailed:function(){$.when(t.ui.MessageBox.show({message:t.sbo.localization.Helper.get("sys/dos/LOAD_BO_FAILED"),title:t.sbo.localization.Helper.get("sys/dos/ERROR"),icon:"error",buttons:[t.sbo.localization.Helper.get("sys/dos/BUTTON_OK")]})).done(function(){window.SboShell.backView()
})},requestDone:function(e){s.setTitle({title:t.sbo.localization.Helper.get("sys/dos/DETAIL_TITLE",s.__boName),subTitle:t.sbo.localization.Helper.get("common/ITEM_TOTAL")+" "+e.count+" "+t.sbo.localization.Helper.get("sys/dos/BO_ITEMS")})}}}}),s.$().on("vclick","[data-isSuperUser='false']",function(){if(s.__enablement){var e=$(this).parent().parent().getModel(),o=s._convertToValue(e,s.__boName,s.__boCode),a=-1;$.when(window.SboShell.openFrame({view:"sap.sbo.page.pad.dataOwnership.DOCreation",options:o,type:"center-column",callback:function(e){e&&"s"===e.result?s._refresh():e&&"e"===e.result&&window.SboShell.raiseMessage(t.sbo.localization.Helper.get("sys/dos/SET_DO_FAIL"))}})).done(function(e){a=e})}else window.SboShell.raiseMessage(t.sbo.localization.Helper.get("sys/dos/DO_DISABLE"))}),i.resolve()}}})}),define("sap.sbo.page.pad.Document.ItemsEdit",["sap.sbo.page.pad.SubBoMetadataView","sap.ui.widget.TextField","sap.ui.Controller","sap.core.JsonModel","sap.sbo.services.OrdersService","sap.sbo.services.QuotationsService","sap.sbo.services.SalesTaxCodesService","sap.sbo.services.VatGroupsService","sap.sbo.services.ShippingTypesService","sap.sbo.compoundservices.CompanyService","sap.sbo.util.formatter","sap.ui.widget.DropDownBox","sap.sbo.localization.Helper","sap.sbo.ui.widget.DecimalInputField","sap.sbo.ui.widget.DecimalLabel","sap.sbo.ui.widget.BoLabel","sap.formatter","sap.core.ListSourceFilter","json!sap.sbo.util.enums","css!sap.sbo.page.pad.Document.ItemsEdit"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={readOnly_bool:function(e){return!e}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.pad.SubBoMetadataView,Options:{boName:{type:"any",defaultValue:void 0}},Public:{init:function(){t.sbo.page.pad.SubBoMetadataView.prototype.init.apply(this,arguments),this.declareMember({__oListTaxService:this.autoDestroy(new t.sbo.services.SalesTaxCodesService),__oListVatService:this.autoDestroy(new t.sbo.services.VatGroupsService),__oCompanyService:this.autoDestroy(new t.sbo.compoundservices.CompanyService),__oShippingTypesService:this.autoDestroy(new t.sbo.services.ShippingTypesService),__mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),__oListModel:this.autoDestroy(new t.core.JsonModel({tax:[],shipType:[],vatGroup:[]})),__boName:""}),this.__boName=this.__mViewInfo.storeParam.boName||this.getOption("boName"),this.__oService="Order"===this.__boName?this.autoDestroy(new t.sbo.services.OrdersService):this.autoDestroy(new t.sbo.services.QuotationsService)},destroy:function(){},initView:function(){var o=this,a=$.Deferred();return o.$().setModel(o.__oListModel,"list"),$.when(o.__oListTaxService.query(),o.__oListVatService.query(),o.__oShippingTypesService.query(),o.__oCompanyService.getAdminInfo()).done(function(e,t,a,i){"US"===i.country?o.__oListModel.setValue("tax",e.value):"CN"===i.country&&o.__oListModel.setValue("vatGroup",t.value),o.__oListModel.setValue("shipType",a.value)}),$.when(t.sbo.page.pad.SubBoMetadataView.prototype.initView.call(this,e)).done(function(){a.resolve()}),this.$().on("GuilinControlEvent.navigate GuilinControlEvent.choose",function(o){switch($(o.target).attr("data-boLabel")){case"itemCode":"navigate"===o.namespace?window.SboShell.gotoView("sap.sbo.page.pad.Product.ProductHome",[{keyName:"itemCode",keyValue:$(o.target).findModel("loop").getValue("data/itemCode")}]):window.SboShell.openFrame({view:"sap.sbo.chooseList.pad.ChooseListProduct",type:"right",options:{filter:new t.core.ListSourceFilter("(`isActive` = '"+e.json.sap.sbo.util.enums.bool.Yes+"')")},callback:function(e,t){"select"===e&&$(o.target).findModel("loop").setValue("data/itemCode",t.itemCode)}})}}),a.promise()},destroyView:function(){t.sbo.page.pad.SubBoMetadataView.prototype.destroyView.call(this),this.$().off("GuilinControlEvent.navigate GuilinControlEvent.choose")},update:function(){t.sbo.page.pad.SubBoMetadataView.prototype.update.apply(this,arguments)},onValueChanged:function(e){switch(e){case"Root/discountPercent":this._oValueMaskModel.setValue("docTotal",null);break;case"Root/docTotal":this._oValueMaskModel.setValue("discountPercent",null)}},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:this.__boName,keyElements:this.__mViewInfo.storeParam.keyParam}},getSubNodeName:function(){return"DocumentLine"},getSubNodeBindPath:function(){return"documentLines"},getTitle:function(e,o){var a=1==o?t.sbo.localization.Helper.get("app/document/PRODUCT"):t.sbo.localization.Helper.get("app/document/PRODUCTS");return o+" "+a},getSubTitle:function(e){return e.cardName},getIgnoredProperty:function(){return["ShipToCountryName","BillToCountryName","shiptypeName","itemCode","itemDescription"]},getEmptyTexts:function(){return"Order"===this.__boName?[t.sbo.localization.Helper.get("app/order/CREATE_PDT1"),"desktop"===window.SboShell.callFeatureMethod("shell.getDeviceType")?t.sbo.localization.Helper.get("app/document/C_PDT_TILE"):t.sbo.localization.Helper.get("app/document/PDT_TILE")]:[t.sbo.localization.Helper.get("app/quote/CREATE_PDT1"),"desktop"===window.SboShell.callFeatureMethod("shell.getDeviceType")?t.sbo.localization.Helper.get("app/document/C_PDT_TILE"):t.sbo.localization.Helper.get("app/document/PDT_TILE")]}},Protected:{}})}),define("sap.sbo.page.pad.extention.BusinessPartnerSetting",["sap.core.klass","sap.core.JsonModel","sap.ui.View","sap.ui.widget.Checkbox","sap.sbo.compoundservices.CompanyService","sap.sbo.services.IndustriesService","sap.sbo.services.BusinessPartnerGroupsService","sap.log","sap.sbo.ui.PageController","sap.ui.widget.Icon","sap.sbo.layout.pad.AdvancedTilesLayout","sap.sbo.shell.IFeaturable","css!sap.sbo.page.pad.extention.BusinessPartnerSetting"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={ConvertBetweenEnumAndBoolean:function(e,t){return"<<"==t?"Y"==e?!0:!1:1==e?"Y":"N"}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.PageController,Public:{init:function(){t.sbo.ui.PageController.prototype.init.apply(this,arguments);var e={ServerData:{GeneralSetting:{creditRestriction:"Y",commitmentRestriction:"Y",considerDelNotesinSalesR:"Y",restrictSales:"Y",restrictDelNotesPO:"Y",restrictOrders:"Y",pickList:"Y",setCommissionbySE:"Y",setCommissionbyItem:"Y",setCommissionbyCustomer:"Y",docConfirmation:"Y",enableApprovalProcedureInDI:"Y"},AdvanceSettings:[{TotalCountriesNo:10}]},LocalData:{GeneralSetting:{},AdvanceSettings:[{}]},countOfInd:0,countOfCusGroup:0};t.core.klass.declareMember(this,{__oModel:new t.core.JsonModel(e),__oService:new t.sbo.compoundservices.CompanyService,_oIndustiesService:this.autoDestroy(new t.sbo.services.IndustriesService),_oCustomerGroupService:this.autoDestroy(new t.sbo.services.BusinessPartnerGroupsService)})},destroy:function(){this.__oModel.destroy(),this.__oModel=null,this.__oService.destroy(),this.__oService=null},initView:function(){var o=this,a=$.Deferred();this.$().setModel(this.__oModel),this.$().process(e);var i=window.SboShell;return $.when(o.__oServiceGetMetaData()).done(function(e){delete e["odata.metadata"],o.__oModel.setValue("ServerData/GeneralSetting",e),o.__addEvent(),a.resolve()}).fail(function(){$.when(window.SboShell.raiseMessage("Get settings metaData failed!","error",[{key:"OK",text:"OK"}])).done(function(){a.reject()})}),$.when(this._oIndustiesService.count()).done(function(e){o.$("#numOfIndustry").text(e),o.__oModel.setValue("countOfInd",e)}).fail(function(){window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/industry/GET_FAILED")),t.log.info("get industry lists failed")}),$.when(this._oCustomerGroupService.count()).done(function(e){o.$("#numOfCusGroup").text(e),o.__oModel.setValue("countOfCusGroup",e)}).fail(function(){window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/bpgroup/GET_FAILED")),t.log.info("get customer groups failed")}),this.$().on("vclick","[index='sfa-customerSetting-industry']",function(){i.gotoView("sap.sbo.page.pad.CustomerSetting.Industry.IndustrySettingTile")}),this.$().on("vclick","[index='sfa-customerSetting-customergroup']",function(){i.gotoView("sap.sbo.page.pad.CustomerSetting.CustomerGroup.CustomerGroupsSettingTile")}),a.promise()},destroyView:function(){this.$().unprocess()},update:function(){}},Protected:{__oServiceGetMetaData:function(){return{creditRestriction:"Y",commitmentRestriction:"Y",considerDelNotesinSalesR:"Y",restrictSales:"Y",restrictDelNotesPO:"Y",restrictOrders:"Y",pickList:"Y",setCommissionbySE:"Y",setCommissionbyItem:"Y",setCommissionbyCustomer:"Y",docConfirmation:"Y",enableApprovalProcedureInDI:"Y"}},__addEvent:function(){var e=this;this.$().on("vclick","[uuid='sbo-businessPartnerSetting-editIcon']",function(){e.__changeToEditMode()})},__changeToEditMode:function(){var e=this,t=window.SboShell;t.openFrame({view:"sap.sbo.page.pad.extention.EditBPSettingFrame",type:"right",options:{GeneralSetting:this.__oModel.getValue("ServerData/GeneralSetting")},callback:function(t,o){"save"==t&&e.__oModel.setValue("ServerData/GeneralSetting",o)}})}}})}),define("sap.sbo.page.pad.extention.DataImportDialog",["sap.ui.Controller","sap.core.klass","sap.core.JsonModel","sap.ui.widget.TextField","sap.sbo.ui.FrameViewController","sap.ui.widget.Button","sap.sbo.ui.widget.UploadButton","sap.util","sap.log","sap.sbo.compoundservices.CompanyService","css!sap.sbo.page.pad.extention.DataImportDialog"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Options:{ChooseDataSource:{type:"number",defaultValue:1},ImportModel:{type:"number",defaultValue:1},ImportWithDictionary:{type:"boolean",defaultValue:!0}},Public:{init:function(){t.sbo.ui.FrameViewController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{__oModel:new t.core.JsonModel({importFileName:""}),__oServer:new t.sbo.compoundservices.CompanyService})},destroy:function(){this.__oModel.destroy(),this.__oModel=null,this.__oServer.destroy(),this.__oServer=null},initView:function(){this.$().setModel(this.__oModel),this.$().process(e);var o=this;o.$().control({"[ctrlId='ChooseTemplate']":{listener:{fileSelected:function(e){o.__oModel.setValue("importFileName",e.name),o.$("[ctrlId='btnPreCheck']").getControl().setOption("disabled",!1)},uploadComplete:function(e){t.util.showLoading();var a=parseInt(e.hash),i=o.getOption("ImportModel"),s=o.getOption("ChooseDataSource");$.when(o.__oServer.importData(a,1,i,s,!0)).done(function(){$.when(window.SboShell.raiseMessage("upload success!")).always(function(){o.closeFrame()})}).fail(function(){var e="Oops…, please choose the right template with your data! \n Go to template generate, and fill your data, import again.";window.SboShell.raiseMessage(e,"error",[{key:"closeWindow",text:"Close"}])}).always(function(){t.util.hideLoading()})},uploadProgress:function(){t.log.error("uploadProgress:")},uploadFailed:function(){window.SboShell.raiseMessage("fail to upload file!","error")}}},"[ctrlId='btnCancel']":{listener:{click:function(){o.closeFrame()}}},"[ctrlId='btnPreCheck']":{disabled:!0,listener:{click:function(){t.util.showLoading();var e=o.$("[ctrlId='ChooseTemplate']").getControl();$.when(e.upload(e.getOption("url"))).always(function(){t.util.hideLoading()})}}}})},destroyView:function(){this.$().unprocess()},update:function(){t.sbo.ui.FrameViewController.prototype.update.apply(this,arguments)}},Protected:{}})}),define("sap.sbo.page.pad.extention.EditBPSettingFrame",["sap.ui.Controller","sap.core.klass","sap.core.JsonModel","sap.ui.widget.TextField","sap.sbo.ui.FrameViewController","sap.ui.widget.Button","sap.ui.widget.Checkbox","sap.util","sap.log"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={ConvertBetweenEnumAndBoolean:function(e,t){return"<<"==t?"Y"==e?!0:!1:1==e?"Y":"N"}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Options:{GeneralSetting:{type:"any"}},Public:{init:function(){t.sbo.ui.FrameViewController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{__oModel:new t.core.JsonModel({GeneralSetting:{}})})},destroy:function(){this.__oModel.destroy(),this.__oModel=null},initView:function(){this.__oModel.setValue("GeneralSetting",this.getOption("GeneralSetting")),this.$().setModel(this.__oModel),this.$().process(e),this.__addEvent()},destroyView:function(){this.$().unprocess()},update:function(){t.sbo.ui.FrameViewController.prototype.update.apply(this,arguments)}},Protected:{__addEvent:function(){var e=this;this.$().control({"[uuid='sbo-editBPSettingFrame-CreditLimit']":{listener:{change:function(){var t=!this.getOption("checked"),o={disabled:t};t&&(o.checked=!1),e.$("[groupid='CreditLimit']").each(function(){$(this).getControl().setOption(o)})}}},"[uuid='sbo-editBPSettingFrame-ActivateAP']":{listener:{change:function(){var t=!this.getOption("checked"),o={disabled:t};t&&(o.checked=!1),e.$("[groupid='ActivateAP']").getControl().setOption(o)}}},"[uuid='btnSave']":{listener:{click:function(){e.__saveChangeMetaData()}}},"[uuid='btnCancel']":{listener:{click:function(){e.closeFrame()}}}})},__saveChangeMetaData:function(){var e=this.__oModel.getValue("GeneralSetting"),o=this;t.util.showLoading(),$.when(!0).done(function(){o.callShell("save",e),o.closeFrame()}).fail(function(){alert("saving settings metaData failed")}).always(function(){t.util.hideLoading()})}}})}),define("sap.sbo.page.pad.extention.MassDataExportTemplate",["sap.core.klass","sap.core.JsonModel","sap.log","sap.ui.widget.Checkbox","sap.ui.widget.Icon","sap.ui.widget.Button","sap.sbo.ui.widget.UploadButton","sap.ui.widget.DropDownBox","sap.sbo.ui.PageController","sap.ui.Controller","sap.sbo.layout.pad.AdvancedTilesLayout","sap.sbo.layout.TileView","sap.ui.Table","sap.ui.widget.Progressbar","sap.core.ArrayListSource","sap.util","sap.sbo.localization.Helper","sap.ui.Repeat","sap.sbo.services.BaseService","sap.sbo.compoundservices.MassDataTransportService","sap.sbo.shell.IViewHistoryRecordable","sap.sbo.services.BusinessPartnersService","sap.sbo.services.ContactPersonsService","sap.sbo.services.ItemsService","css!sap.sbo.page.pad.extention.MassDataExportTemplate"],function(){"use strict";var e=this.getNS(),t=e.sap,o="NoTask";return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.PageController,Interfaces:[t.sbo.shell.IViewHistoryRecordable],Public:{init:function(){t.sbo.ui.PageController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{__oModel:this.autoDestroy(new t.core.JsonModel({chooseDataType:[{value:"SFABusinessPartner",name:t.sbo.localization.Helper.get("dm/CUSTOMERS")},{value:"SFAContactPerson",name:t.sbo.localization.Helper.get("dm/CONTACTS")},{value:"SFAItem",name:t.sbo.localization.Helper.get("dm/PRODUCTS")},{value:"SFATargetGroup",name:t.sbo.localization.Helper.get("dm/TARGETGROUPS")},{value:"SFAPriceList",name:t.sbo.localization.Helper.get("dm/PRICELISTS")}]})),__oServer:this.autoDestroy(new t.sbo.compoundservices.MassDataTransportService),__oCustomerService:this.autoDestroy(new t.sbo.services.BusinessPartnersService),__oContactPersonsService:this.autoDestroy(new t.sbo.services.ContactPersonsService),__oItemsService:this.autoDestroy(new t.sbo.services.ItemsService)})},destroy:function(){},initView:function(){var a=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),i=a.storeParam.settingId,s=$.Deferred();"ExportTemplate"===i?this.setTitle(t.sbo.localization.Helper.get("dm/TEMPLATE_EXPORT")):"ExportData"===i&&this.setTitle(t.sbo.localization.Helper.get("dm/DATA_EXPORT"));var n=this;return $.when(this.__oServer.getSupportedDataTypes(i)).done(function(o){var a=o.value.map(function(e){return{dataType:e.dataType,titleI18nKey:t.sbo.localization.Helper.get(e.titleI18nKey),descriptionI18nKey:t.sbo.localization.Helper.get(e.descriptionI18nKey)}});n.__oModel.setValue("SupportedDataType",a),n.$().setModel(n.__oModel),n.$().process(e),s.resolve()}).fail(function(e){window.SboShell.raiseException(e),s.reject(e)}),n.$().on("vclick",".masterdata",function(){t.util.showLoading(60);var e,a=i,s=$(this).attr("datatype"),r={taskType:a,dataType:s,attachmentId:e};"ExportData"===i?$.when(n.__isHasDataToExport(s)).done(function(e){e>0?$.when(n.__oServer.getTaskInfo(r)).done(function(e){e.taskStatus!==o?SboShell.gotoView("sap.sbo.page.pad.extention.MassDataImportProgress",{taskType:"ExportData",dataType:s,view:"sap.sbo.page.pad.extention.MassDataExportTemplate"}):$.when(n.__oServer.startTask(r)).done(function(){SboShell.gotoView("sap.sbo.page.pad.extention.MassDataImportProgress",{taskType:"ExportData",dataType:s,view:"sap.sbo.page.pad.extention.MassDataExportTemplate"})}).fail(function(e){window.SboShell.raiseException(e)})}).fail(function(e){e&&(window.SboShell.raiseMessage(t.sbo.localization.Helper.get("dm/DATA_EXPORT_FAILED")),e.processed())}).always(function(){t.util.hideLoading()}):window.SboShell.raiseMessage(t.sbo.localization.Helper.get("dm/NO_DATA_EXPORT",n.__getFileNameFromDataType(s,"name")),"information",[{key:"Y",text:t.sbo.localization.Helper.get("common/OK")}],t.sbo.localization.Helper.get("common/INFO"))}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()}):"ExportTemplate"===i&&$.when(n.__oServer.getTaskInfo(r)).done(function(e){e.taskStatus!==o?SboShell.gotoView("sap.sbo.page.pad.extention.MassDataImportProgress",{taskType:"ExportTemplate",dataType:s,view:"sap.sbo.page.pad.extention.MassDataExportTemplate"}):$.when(n.__oServer.startTask(r)).done(function(){SboShell.gotoView("sap.sbo.page.pad.extention.MassDataImportProgress",{taskType:"ExportTemplate",dataType:s,view:"sap.sbo.page.pad.extention.MassDataExportTemplate"})}).fail(function(e){window.SboShell.raiseException(e)})}).fail(function(e){e&&(window.SboShell.raiseMessage(t.sbo.localization.Helper.get("dm/TEMPLATE_EXPORT_FAILED")),e.processed())}).always(function(){t.util.hideLoading()})}),s.promise()},destroyView:function(){this.$().unprocess()},update:function(){}},Protected:{__getFileNameFromDataType:function(e,t){var o="",a=this.__oModel.getValue("chooseDataType");for(var i in a)if(a[i].value==e){o=a[i][t];break}return o},__isHasDataToExport:function(e){var t=this,o=$.Deferred();return"SFAItem"===e||"SFAPriceList"===e?$.when(t.__oItemsService.count()).done(function(e){o.resolve(e)}).fail(function(e){window.SboShell.raiseException(e),o.reject(e)}):"SFAContactPerson"===e?$.when(t.__oContactPersonsService.count()).done(function(e){o.resolve(e)}).fail(function(e){window.SboShell.raiseException(e),o.reject(e)}):"SFABusinessPartner"===e?$.when(t.__oCustomerService.count()).done(function(e){o.resolve(e)}).fail(function(e){window.SboShell.raiseException(e),o.reject(e)}):o.resolve(),o.promise()},__exportTemplate:function(e){var o={},a={};a.keyName="employeeID",a.keyValue=window.SboShell.getData("user.employeeID");var i=[];i.push(a),o.boNamespace="com.sap.sbo",o.boName="UserEmployee",o.keyElements=i;var s=t.sbo.services.BaseService.documentbase+"file/download?id="+e.attachmentId+"&boEntityKey="+JSON.stringify(o);$("[ctrlId='innerFrame']").attr("src",s)},shouldBeRecorded:function(){return!0}}})}),define("sap.sbo.page.pad.extention.MassDataImport",["sap.core.klass","sap.core.JsonModel","sap.log","sap.ui.widget.Checkbox","sap.ui.widget.Icon","sap.ui.widget.Button","sap.sbo.ui.widget.UploadButton","sap.ui.widget.DropDownBox","sap.ui.Controller","sap.sbo.ui.PageController","sap.sbo.layout.pad.AdvancedTilesLayout","sap.sbo.layout.TileView","sap.ui.Table","sap.ui.widget.Progressbar","sap.core.ArrayListSource","sap.util","sap.sbo.localization.Helper","sap.sbo.services.BaseService","sap.sbo.compoundservices.MassDataTransportService","sap.ui.widget.TextField","sap.core.GuardedAjax","sap.sbo.shell.IViewHistoryRecordable","json!sap.sbo.services.service-config","css!sap.sbo.page.pad.extention.MassDataImport"],function(){"use strict";var e=this.getNS(),t=e.sap,o=31457280,a=e.json.sap.sbo.services["service-config"],i="NoTask",s="ImportData";return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.PageController,Interfaces:[t.sbo.shell.IViewHistoryRecordable],Public:{init:function(){t.sbo.ui.PageController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{__oModel:this.autoDestroy(new t.core.JsonModel({chooseDataType:[{value:"SFABusinessPartner",name:t.sbo.localization.Helper.get("dm/CUSTOMERS")},{value:"SFAContactPerson",name:t.sbo.localization.Helper.get("dm/CONTACTS")},{value:"SFAItem",name:t.sbo.localization.Helper.get("dm/PRODUCTS")},{value:"SFATargetGroup",name:t.sbo.localization.Helper.get("dm/TARGETGROUPS")},{value:"SFAPriceList",name:t.sbo.localization.Helper.get("dm/PRICELISTS")}]})),__oServer:this.autoDestroy(new t.sbo.compoundservices.MassDataTransportService),__oAjax:this.autoDestroy(new t.core.GuardedAjax)})},destroy:function(){},initView:function(){this.setTitle(t.sbo.localization.Helper.get("dm/DATA_IMPORT"));var o=this,n=$.Deferred();this.$().setModel(this.__oModel);var r=function(){o.$(".decoratorBolder")[0].addEventListener("drop",function(e){e.stopPropagation(),e.preventDefault();var i=e.dataTransfer.files;if(i.length>1){$("[ctrlId = 'dropZone']").addClass("decoratorBolderError");var s=$("#t2").text();return $("#t2").text(t.sbo.localization.Helper.get("dm/GRAG_DROP_ONE")),setTimeout(function(){$("#t2").text(s),$("[ctrlId = 'dropZone']").removeClass("decoratorBolderError")},3e3),void 0}return $("#file-path-input").text(i[0].name),$("[ctrlId = 'dropZone']").addClass("decoratorBolderGragDrop"),setTimeout(function(){$("[ctrlId = 'dropZone']").removeClass("decoratorBolderGragDrop")},5e3),0>i[0].name.indexOf(".xlsx")?(SboShell.raiseMessage(t.sbo.localization.Helper.get("common/META_INVALID_FILETYPE"),"error",[{key:"cancel",text:t.sbo.localization.Helper.get("common/CANCEL")}]),void 0):($.when(o.__uploadSingleFile(i[0],a.documentBase+"file")).done(function(e){o.__uploadComplete(e)}).fail(function(e){e&&window.SboShell.raiseMessage(t.sbo.localization.Helper.get("dm/UPLOAD_FAILED"),"error")}).always(function(){}),void 0)},!1),o.$(".decoratorBolder")[0].addEventListener("dragover",function(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy",$("[ctrlId = 'dropZone']").addClass("decoratorBolderGragOver"),setTimeout(function(){$("[ctrlId = 'dropZone']").removeClass("decoratorBolderGragOver")},1e3)},!1),o.$().control({"[ctrlId=importBtn]":{listener:{fileSelected:function(e){$("#file-path-input").text(e.name)},uploadComplete:function(e){o.__uploadComplete(e)},uploadProgress:function(){},uploadFailed:function(e){window.SboShell.raiseException(e)}}}}),o.$("div[ctrlId = 'helpInfoLink']").on("vclick",function(){SboShell.gotoView("sap.sbo.page.pad.extention.MassDataExportTemplate",{settingId:"ExportTemplate"})})},l=function(){var e={taskType:s};$.when(o.__oServer.getTaskInfo(e)).done(function(e){e.taskStatus!==i&&o.__gotoProgressView(e)})};return this.$().process(e).done(function(){l(),r();var e={accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};$('div[data-sap-widget="sap.sbo.ui.widget.UploadButton"]').getControl().setOption(e),n.resolve()}),n.promise()},destroyView:function(){this.$().unprocess()},update:function(){}},Protected:{__getFileNameFromDataType:function(e,t){var o="",a=this.__oModel.getValue("chooseDataType");for(var i in a)if(a[i].value==e){o=a[i][t];break}return o},__uploadComplete:function(e){var o=this,a=parseInt(e);t.util.showLoading(60),$.when(o.__oServer.validateImportFile(a)).done(function(e){if(e.valid){var i=$("#file-path-input").text(),n=o.__getFileNameFromDataType(e.dataType,"name"),r=t.sbo.localization.Helper.get("dm/CONFIRM_IMPORT",i,n),l=t.sbo.localization.Helper.get("common/CONFIRMATION");$.when(window.SboShell.raiseMessage(r,"question",[{key:"N",text:t.sbo.localization.Helper.get("common/CANCEL")},{key:"Y",text:t.sbo.localization.Helper.get("common/CONFIRM")}],l)).done(function(t){if("Y"==t){var i={taskType:s,dataType:e.dataType,attachmentId:a};$.when(o.__oServer.startTask(i)).done(function(){o.__gotoProgressView(e)}).fail(function(e){window.SboShell.raiseException(e)})}else{var n={taskType:s};$.when(o.__oServer.finishTask(n)).done(function(){}).fail(function(e){window.SboShell.raiseException(e)})}})}else if("NoRecord"==e.invalidReason){var d=t.sbo.localization.Helper.get("dm/EMPTY_FILE");window.SboShell.raiseMessage(d,"information",[{key:"Y",text:t.sbo.localization.Helper.get("common/OK")}],t.sbo.localization.Helper.get("common/INFO"))}else{var d=t.sbo.localization.Helper.get("dm/INVALID_FILE");window.SboShell.raiseMessage(d,"error",[{key:"Y",text:t.sbo.localization.Helper.get("common/CLOSE")}],t.sbo.localization.Helper.get("dm/INVALID_TEMPLATE"))}}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()})},__gotoProgressView:function(e){SboShell.gotoView("sap.sbo.page.pad.extention.MassDataImportProgress",{dataType:e.dataType,taskType:s,view:"sap.sbo.page.pad.extention.MassDataImport"})},__uploadSingleFile:function(e,a){var i=this,s=$.Deferred();if(e.size>o)return i.fireEvent("uploadFailed",t.sbo.localization.Helper.get("common/UPLOAD_SIZE_LIMIT")),!1;var n=new FormData;n.append("file",e);var r=function(){var e=jQuery.ajaxSettings.xhr();return e.upload&&e.upload.addEventListener("progress",function(e){var t=0,o=e.loaded||e.position,a=e.total;e.lengthComputable&&(t=Math.ceil(100*(o/a))),console.log(t)},!1),e};return t.util.showLoading(60),i.__oAjax.ajax({url:a+"/upload",data:n,type:"post",contentType:!1,processData:!1,xhr:r}).done(function(e){t.util.hideLoading(),s.resolve(e)}).fail(function(e){t.util.hideLoading(),s.reject(e),e&&SboShell.raiseMessage(t.sbo.localization.Helper.get("common/META_UPLOAD_FAILED"))}),s.promise()},__preCheckAfterImportFileUploaded:function(e){var o=this;t.util.showLoading();var a={attachmentId:e.attachmentId,dataType:e.dataType,boMetaName:e.boMetaName};$.when(o.__oServer.importTemplateData(a)).done(function(){o.__changeImportDataStatus(100)}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()})},shouldBeRecorded:function(){return!1}}})}),define("sap.sbo.page.pad.extention.MassDataImportFailedRecords",["sap.core.klass","sap.core.JsonModel","sap.log","sap.ui.widget.Button","sap.sbo.ui.PageController","sap.ui.Controller","sap.ui.Table","sap.ui.widget.Icon","sap.sbo.page.pad.extention.MultiBOAjaxListSource","sap.util","sap.sbo.services.BaseService","sap.sbo.compoundservices.MassDataTransportService","sap.sbo.localization.Helper","sap.sbo.shell.IViewHistoryRecordable","sap.sbo.ui.widget.ListGridView","css!sap.sbo.page.pad.extention.MassDataImportFailedRecords"],function(){"use strict";var e=this.getNS(),t=e.sap,o="ExportImportError";return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.PageController,Interfaces:[t.sbo.shell.IViewHistoryRecordable],Public:{init:function(){t.sbo.ui.PageController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{__oModel:this.autoDestroy(new t.core.JsonModel({headers:[],rows:[],allowToLoadMore:!1})),__oServer:this.autoDestroy(new t.sbo.compoundservices.MassDataTransportService),taskType:null,dataType:null,nextStart:0,boName:null});var e=this,o=function(t){e["onKey"+t]()};SboShell.attachEvent("actionButtonClick",o),this.autoDestroy("detach actionButtonClick",function(){SboShell.detachEvent("actionButtonClick",o)})},destroy:function(){},onKeyExport:function(){var e=this;t.util.showLoading(60);var a={taskType:o,dataType:e.dataType};$.when(e.__oServer.startTask(a)).done(function(e){var o={},a={};a.keyName="employeeID",a.keyValue=window.SboShell.getData("user.employeeID");var i=[];i.push(a),o.boNamespace="com.sap.sbo",o.boName="UserEmployee",o.keyElements=i;var s=t.sbo.services.BaseService.documentbase+"file/open?id="+e.attachmentId+"&boEntityKey="+JSON.stringify(o);$("[ctrlId='innerFrame']").attr("src",s)}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()})},initView:function(){var o=this;this.taskType=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo").storeParam.taskType,this.dataType=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo").storeParam.dataType,this.boName=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo").storeParam.boName,o.setTitle(t.sbo.localization.Helper.get("dm/NOT_IMPORTED",this.boName)),o.setSubtitle(t.sbo.localization.Helper.get("common/SETTINGS"));var a=[{text:t.sbo.localization.Helper.get("dm/EXPORT"),key:"Export"}];SboShell.addActionButtons(a,this);var i=$.Deferred();return this.$().setModel(this.__oModel),$.when(o.$().process(e)).done(function(){var e={taskType:o.taskType,dataType:o.dataType};$.when(o.__oServer.getImportErrorPage(e,o.nextStart)).done(function(e){o.__oModel.setValue("columnWidthCustomized",!0);for(var t=[],a=[10,10,10,10,10,10,10,10,10,10],s=0;e.headers.value.length>s;++s)t.push({text:e.headers.value[s],key:e.headers.value[s],width:a[s]});o.__oModel.setValue("allowToLoadMore",!0),o.__oModel.setValue("headers",t),o.__setRows(e),i.resolve()}).fail(function(e){window.SboShell.raiseException(e)})}),o.$(".listView").on("load",function(){var e={taskType:o.taskType,dataType:o.dataType};$.when(o.__oServer.getImportErrorPage(e,o.nextStart)).done(function(e){o.__setRows(e)}).fail(function(e){window.SboShell.raiseException(e)})}),i.promise()},destroyView:function(){this.$().unprocess()},update:function(){}},Protected:{__setRows:function(e){var t=this;t.nextStart=e.nextStart;for(var o=t.__oModel.getValue("rows"),a=[],i=0;e.rows.value.length>i;++i){var s={columns:[]};a.push(s);for(var n=e.rows.value[i].cells.value,r=0;n.length>r;++r)s.columns.push({value:n[r]})}o=o.concat(a),t.__oModel.setValue("rows",o),0===t.nextStart?$(".more-trigger").hide():$(".more-trigger").show()},shouldBeRecorded:function(){return!1}}})}),define("sap.sbo.page.pad.extention.MassDataImportProgress",["sap.core.klass","sap.core.JsonModel","sap.log","sap.ui.widget.Icon","sap.ui.widget.Button","sap.ui.Controller","sap.sbo.ui.PageController","sap.ui.widget.Progressbar","sap.util","sap.sbo.localization.Helper","sap.sbo.services.BaseService","sap.sbo.compoundservices.MassDataTransportService","sap.sbo.shell.IViewHistoryRecordable","sap.sbo.util.formatter","sap.sbo.ui.widget.ListGridView","css!sap.sbo.page.pad.extention.MassDataImportProgress"],function(){"use strict";var e=this.getNS(),t=e.sap,o="Processing",a="ProcessingPL",i="ProcessingDic",s="FailedCreatePL",n="FailedCreateDic",r="Done",l="New",d="ExportData",p="ExportTemplate";return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.PageController,Interfaces:[t.sbo.shell.IViewHistoryRecordable],Public:{init:function(){t.sbo.ui.PageController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{__oModel:this.autoDestroy(new t.core.JsonModel({headers:[],rows:[],importProgressValue:0,total:0,dataTypePlural:"",successNum:0,failedNum:0,attachmentId:null,chooseDataType:[{value:"SFABusinessPartner",name:t.sbo.localization.Helper.get("dm/CUSTOMERS")},{value:"SFAContactPerson",name:t.sbo.localization.Helper.get("dm/CONTACTS")},{value:"SFAItem",name:t.sbo.localization.Helper.get("dm/PRODUCTS")},{value:"SFATargetGroup",name:t.sbo.localization.Helper.get("dm/TARGETGROUPS")},{value:"SFAPriceList",name:t.sbo.localization.Helper.get("dm/PRICELISTS")}],skipped:0})),nextStart:0,taskType:null,dataType:null,viewName:null,clickDone:!1,hasDoneBtn:!1,__oServer:this.autoDestroy(new t.sbo.compoundservices.MassDataTransportService),__iImportRequestTimer:-1});var e=this,o=function(t){e["onKey"+t]()};SboShell.attachEvent("actionButtonClick",o),this.autoDestroy("detach actionButtonClick",function(){SboShell.detachEvent("actionButtonClick",o)})},__TestGrid:function(){var e=this;e.__oModel.setValue("headers",[{text:"col1",key:"col1",width:20},{text:"col2",key:"col2",width:30},{text:"col3",key:"col2",width:50}]),e.__oModel.setValue("rows",[{columns:[{value:"a1"},{value:"b1"},{value:"c1"}]},{columns:[{value:"a2"},{value:"b2"},{value:"c2"}]},{columns:[{value:"a3"},{value:"b3"},{value:"c3"}]}])
},onKeyDone:function(){var e=this;if(e.taskType===d||e.taskType===p){var o=t.sbo.localization.Helper.get("dm/CONFIRM_EXPORT_DONE"),a=t.sbo.localization.Helper.get("common/CONFIRM");$.when(window.SboShell.raiseMessage(o,"question",[{key:"N",text:t.sbo.localization.Helper.get("common/CANCEL")},{key:"Y",text:a}],t.sbo.localization.Helper.get("common/CONFIRMATION"))).done(function(t){"Y"==t&&e.__OnKeyDone()})}else e.__OnKeyDone();e.clickDone=!0},onKeyDownload:function(){var e={},o={};o.keyName="employeeID",o.keyValue=window.SboShell.getData("user.employeeID");var a=[];a.push(o),e.boNamespace="com.sap.sbo",e.boName="UserEmployee",e.keyElements=a;var i=t.sbo.services.BaseService.documentbase+"file/download?id="+this.attachmentId+"&boEntityKey="+JSON.stringify(e);$("[ctrlId='innerFrame']").attr("src",i)},destroy:function(){this.__clearTimer()},initView:function(){var o=this;o.taskType=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo").storeParam.taskType,o.dataType=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo").storeParam.dataType,o.viewName=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo").storeParam.view;var a=o.__getNameFromDataType(this.dataType,"name");o.__oModel.setValue("dataTypePlural",a),"ImportData"===this.taskType?(o.setTitle(t.sbo.localization.Helper.get("dm/IMPORT_TITLE",a)),o.__SetProgressInfo("dm/IMPORT_PROGRESS",0,o.dataType)):"ExportData"===this.taskType?(o.setTitle(t.sbo.localization.Helper.get("dm/EXPORT_TITLE",a)),o.__SetProgressInfo("dm/EXPORT_PROGRESS",0,o.dataType)):"ExportTemplate"===this.taskType&&(o.setTitle(t.sbo.localization.Helper.get("dm/EXPORT_TEMPLATE_TITLE",a)),o.__SetProgressInfo("dm/EXPORT_TEMPLATE_PROGRESS",0,o.dataType)),o.setSubtitle(t.sbo.localization.Helper.get("common/SETTINGS")),this.__hideView();var i=$.Deferred(),s=function(){$.when(o.__getTaskInfo()).done(function(){i.resolve()}).fail(function(){i.reject()}),o.__checkStatusAndUpdateProgressBarByTimer()},n=function(){o.$("div[ctrlId = 'gotoBO']").on("vclick",function(){var e=o.dataType;"SFAItem"===e||"SFAPriceList"===e?window.SboShell.gotoView("sap.sbo.page.pad.Product.ProductCardView"):"SFAContactPerson"===e?window.SboShell.gotoView("sap.sbo.page.pad.Contact.ContactListView"):"SFABusinessPartner"===e?window.SboShell.gotoView("sap.sbo.page.pad.Customer.CustomerList"):"SFATargetGroup"===e&&window.SboShell.gotoView("	sap.sbo.page.pad.Campaign.CampaignListView")}),o.$("div[ctrlId = 'records']").on("vclick",function(){var e=o.__oModel.getValue("failedNum");0!==e&&window.SboShell.gotoView("sap.sbo.page.pad.extention.MassDataImportFailedRecords",{dataType:o.dataType,taskType:o.taskType,boName:o.__oModel.getValue("dataTypePlural")})})};return this.$().setModel(this.__oModel),this.$().process(e).done(function(){s(),n()}),i.promise()},destroyView:function(){this.hasDoneBtn=!1,window.SboShell.removeActionButtons(["Done","Download"]),this.$().unprocess()},update:function(){}},Protected:{__SetProgressInfo:function(e,o,a){var i=this,s=i.__getNameFromDataType(a,"name");"dm/EXPORT_TEMPLATE_PROGRESS"===e?$("#importOrExport").text(t.sbo.localization.Helper.get(e,s)):$("#importOrExport").text(t.sbo.localization.Helper.get(e,o,s))},__getNameFromDataType:function(e,t){var o="",a=this.__oModel.getValue("chooseDataType");for(var i in a)if(a[i].value==e){o=a[i][t];break}return o},__OnKeyDone:function(){var e=this,t={taskType:e.taskType,dataType:e.dataType};$.when(e.__oServer.finishTask(t)).done(function(){e.__GotoInitialPage()}).fail(function(e){window.SboShell.raiseException(e)})},__GotoInitialPage:function(){var e=this;0!==SboShell.__iHistoryIndex?"sap.sbo.page.pad.extention.MassDataImport"===e.viewName?SboShell.gotoView(e.viewName,{settingId:e.taskType}):SboShell.backwardView():"sap.sbo.page.pad.extention.MassDataExportTemplate"===e.viewName?SboShell.gotoView(e.viewName,{settingId:e.taskType}):"sap.sbo.page.pad.extention.MassDataImport"===e.viewName?SboShell.gotoView("sap.sbo.page.pad.settings.SettingsHomeView"):SboShell.gotoView(e.viewName),this.__clearTimer()},__clearTimer:function(){this.__iImportRequestTimer>0&&(clearInterval(this.__iImportRequestTimer),this.__iImportRequestTimer=-1)},__changeImportDataStatus:function(e,d){var p=this;p.__oModel.setValue("importProgressValue",d.percentage),p.__oModel.setValue("total",d.total);var c=t.sbo.localization.Helper.get("dm/IMPORT_PROGRESS_PERCENT",d.percentage);if($("div[ctrlId = 'importProgress']").text(c),"ImportData"===p.taskType?p.__SetProgressInfo("dm/IMPORT_PROGRESS",d.total,p.dataType):"ExportData"===p.taskType?p.__SetProgressInfo("dm/EXPORT_PROGRESS",d.total,p.dataType):"ExportTemplate"===p.taskType&&p.__SetProgressInfo("dm/EXPORT_TEMPLATE_PROGRESS",d.total,p.dataType),e===o)p.__hideView();else if(e===a){var c=t.sbo.localization.Helper.get("dm/CREATING",t.sbo.localization.Helper.get("dm/PL_TITLE"));$("#importOrExport").text(c)}else if(e===i){var c=t.sbo.localization.Helper.get("dm/CREATING",t.sbo.localization.Helper.get("dm/DIC_TITLE"));$("#importOrExport").text(c)}else if(e===s){p.$("div[ctrlId = 'plBox']").show();var c=t.sbo.localization.Helper.get("dm/FIALED_CREATE",t.sbo.localization.Helper.get("dm/PL_TITLE"));$("#importOrExport").text(c),$("#etc").hide(),c=t.sbo.localization.Helper.get("dm/ERROR_PL",d.errorPriceList),$("div[ctrlId = 'fialedCreatePL']").text(c),c=t.sbo.localization.Helper.get("dm/ERROR_REASON",d.message),$("div[ctrlId = 'reason']").text(c),p.__addDoneButton(),p.__clearTimer()}else if(e===n){p.$("div[ctrlId = 'dicBox']").show();var c=t.sbo.localization.Helper.get("dm/FIALED_CREATE",t.sbo.localization.Helper.get("dm/DIC_TITLE"));$("#importOrExport").text(c),$("#etc").hide(),c=t.sbo.localization.Helper.get("dm/ERROR_SHEET",d.errorSheet),$("div[ctrlId = 'sheet']").text(c),p.__showDictionaryError(),p.__addDoneButton(),p.__clearTimer()}else e===r?("ImportData"===p.taskType?p.__ImportDataDone(d):"ExportData"===p.taskType?p.__ExportDataDone(d):"ExportTemplate"===p.taskType&&p.__exportTemplateDone(d),p.__addDoneButton(),p.__clearTimer()):e===l||p.__GotoInitialPage()},__ImportDataDone:function(e){var o=this;o.$("[ctrlId = 'records']").show(),o.$("[ctrlId = 'gotoBO']").show(),o.__SetProgressInfo("dm/IMPORTED",e.total,o.dataType),$("#etc").hide(),o.$("#result_imported").text(t.sbo.localization.Helper.get("dm/RESULT_IMPORTED",e.success)),o.$("#result_skipped").text(t.sbo.localization.Helper.get("dm/RESULT_SKIPPED",e.skipped)),o.$("#result_failed").text(t.sbo.localization.Helper.get("dm/RESULT_FAILED",e.failed)),o.$("#import_goto_bo").text(t.sbo.localization.Helper.get("dm/IMPORT_GOTO_BO",o.__oModel.getValue("dataTypePlural"))),o.__oModel.setValue("failedNum",e.failed),0===e.failed?o.$("[ctrlId = 'failedNum']").removeClass("linkedText"):o.$("[ctrlId = 'failedNum']").addClass("linkedText")},__ExportDataDone:function(e){var o=this;o.__SetProgressInfo("dm/EXPORTED",e.total,o.dataType),$("#etc").hide();var a=o.__oModel.getValue("total"),i=o.__oModel.getValue("dataTypePlural");if(e.endDate){var s=new Date(parseInt(e.endDate.match(/\d/g).join(""))),n=o.__convertDateTime(s),r=t.sbo.localization.Helper.get("dm/EXPORT_DATA_INFO",a,i,n);$("div[ctrlId = 'download']").text(r),$("div[ctrlId = 'download']").show()}o.attachmentId=e.attachmentId;var l=[{text:t.sbo.localization.Helper.get("common/DOWNLOAD"),key:"Download"}];if(SboShell.removeActionButtons("Download"),SboShell.addActionButtons(l,this),!e.downloaded){var d={taskType:o.taskType,dataType:o.dataType};$.when(o.__oServer.setTaskProperty(d,"downloaded",!0)).done(function(){o.onKeyDownload()}).fail(function(e){window.SboShell.raiseException(e)})}},__exportTemplateDone:function(e){var o=this;o.__SetProgressInfo("dm/EXPORTED",e.total,o.dataType),$("#etc").hide(),o.__oModel.getValue("total");var a=o.__oModel.getValue("dataTypePlural");if(e.endDate){var i=new Date(parseInt(e.endDate.match(/\d/g).join(""))),s=o.__convertDateTime(i),n=t.sbo.localization.Helper.get("dm/EXPORT_TEMPLATE_INFO",a,s);$("div[ctrlId = 'download']").text(n),$("div[ctrlId = 'download']").show()}o.attachmentId=e.attachmentId;var r=[{text:t.sbo.localization.Helper.get("common/DOWNLOAD"),key:"Download"}];if(SboShell.removeActionButtons("Download"),SboShell.addActionButtons(r,this),!e.downloaded){var l={taskType:o.taskType,dataType:o.dataType};$.when(o.__oServer.setTaskProperty(l,"downloaded",!0)).done(function(){o.onKeyDownload()}).fail(function(e){window.SboShell.raiseException(e)})}},__showDictionaryError:function(){var e=this,t={taskType:e.taskType,dataType:e.dataType};$.when(e.__oServer.getImportErrorPage(t,e.nextStart)).done(function(t){e.__oModel.setValue("columnWidthCustomized",!1);for(var o=[],a=[10,10,10,10,10,10,10,10,10,10],i=0;t.headers.value.length>i;++i)o.push({text:t.headers.value[i],key:t.headers.value[i],width:a[i]});e.__oModel.setValue("allowToLoadMore",!1),e.__oModel.setValue("headers",o),e.__setRows(t)}).fail(function(e){window.SboShell.raiseException(e)})},__setRows:function(e){var t=this;t.nextStart=e.nextStart;for(var o=t.__oModel.getValue("rows"),a=[],i=0;e.rows.value.length>i;++i){var s={columns:[]};a.push(s);for(var n=e.rows.value[i].cells.value,r=0;n.length>r;++r)s.columns.push({value:n[r]})}o=o.concat(a),t.__oModel.setValue("rows",o),0===t.nextStart?$(".more-trigger").hide():$(".more-trigger").show()},__convertDateTime:function(e){return t.sbo.util.formatter.dateTime_formattedString(e)},__addDoneButton:function(){var e=this;if(!e.hasDoneBtn){var o=[{text:t.sbo.localization.Helper.get("common/DONE"),key:"Done"}];SboShell.removeActionButtons("Done"),SboShell.addActionButtons(o,this),e.hasDoneBtn=!0}},__getTaskInfo:function(){var e=$.Deferred(),t=this,o={taskType:t.taskType,dataType:t.dataType};return $.when(t.__oServer.getTaskInfo(o)).done(function(o){var a=o.taskStatus;t.__changeImportDataStatus(a,o),e.resolve()}).fail(function(t){window.SboShell.raiseException(t),e.reject()}),e.promise()},__checkStatusAndUpdateProgressBarByTimer:function(){var e=this;-1==e.__iImportRequestTimer&&(e.__iImportRequestTimer=setInterval(function(){e.__getTaskInfo()},300))},__hideView:function(){this.$("div[ctrlId = 'records']").hide(),this.$("div[ctrlId = 'gotoBO']").hide(),this.$("div[ctrlId = 'download']").hide(),this.$("div[ctrlId = 'dicBox']").hide(),this.$("div[ctrlId = 'plBox']").hide()},shouldBeRecorded:function(){var e=this;return e.clickDone?!1:!0}}})}),define("sap.sbo.page.pad.extention.MultiBOAjaxListSource",["sap.core.klass","sap.sbo.compoundservices.MassDataTransportService","sap.core.IListSource","sap.core.IClonable","sap.log","sap.core.EventProvider"],function(){"use strict";var e=this.getNS(),t=e.sap,o="ExportImportError",a=t.core.klass.declare({Name:this.getModuleInfo().moduleName,Interfaces:[t.core.IListSource,t.core.IClonable],Base:t.core.EventProvider,Public:{init:function(e){t.core.EventProvider.prototype.init.apply(this,arguments),this.declareMember({__oService:this.autoDestroy(new t.sbo.compoundservices.MassDataTransportService),__errColName:e})},destroy:function(){},read:function(e){var t=$.Deferred(),a=this,i={taskType:o,dataType:""};return $.when(this.__oService.getImportErrorPage(i,e.begin)).then(function(e){if(e){var o=[],i=e.importErrorInfos.value;i.map(function(e){var t={},i=e.errorInfos.value;i.map(function(e){t[e.key.replace(/ /g,"_")]=e.value}),t[a.__errColName]=e.errorMsg,o.push(t)}),t.resolve({data:o,count:e.recordCount})}else t.resolve({data:[],count:0})},function(){t.reject("Get data failed")}),t.promise()},isReadable:function(){return!0},isWritable:function(){return!1},clone:function(){return new a(this.__errColName)}},Protected:{}});return a}),define("sap.sbo.page.pad.Incident.Feedback",["sap.ui.Controller","sap.sbo.ui.FrameViewController","sap.sbo.page.pad.Incident.IncidentUtil","sap.sbo.compoundservices.UserEmployeeService","sap.sbo.localization.Helper","css!sap.sbo.page.pad.Incident.Feedback"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Public:{init:function(){t.sbo.ui.FrameViewController.prototype.init.apply(this,arguments),this.declareMember({__value:0,__service:this.autoDestroy(new t.sbo.compoundservices.UserEmployeeService),__finish:!0,__tplFeedback:null,__tplProblem:null})},initView:function(){var t=this,o=$.Deferred();return $.when(t.__service.getReportTemplate("feedback"),t.__service.getReportTemplate("incident")).done(function(a,i){a&&(t.__tplFeedback=a.value),i&&(t.__tplProblem=i.value),$.when(t.$().process(e)).done(function(){t.__initialize(),o.resolve()})}).fail(function(){$.when(t.$().process(e)).done(function(){t.__initialize(),o.resolve()})}),o.promise()},update:function(){},destroyView:function(){$(".btn-close").off("vclick"),$(".btn-send").off("vclick"),$(".left").off("vclick"),$(".right").off("vclick")}},Protected:{__initialize:function(){var e=this;$(".comments_idea>textarea, .comments_problem>textarea").on("keydown",function(e){return 9==e.keyCode?(e.keyCode=0,!1):void 0}),e.__tplFeedback&&$(".comments_idea>textarea").val(e.__tplFeedback),e.__tplProblem&&$(".comments_problem>textarea").val(e.__tplProblem),$(".left").on("vclick",function(){$(".selectContainer").removeClass("moveRight"),$(".comments").removeClass("comments_move_right")}),$(".right").on("vclick",function(){$(".selectContainer").addClass("moveRight"),$(".comments").addClass("comments_move_right")}),$(".none").addClass("show"),$(".comments").focus(),$(".btn-close").on("vclick",function(){e.closeFrame()}),$(".btn-send").on("vclick",function(){var o=$(".comments_idea>textarea").val(),a=$(".comments_problem>textarea").val();if(o||a){var i=new t.sbo.page.pad.Incident.IncidentUtil,s=i.getContextPage(),n=i.getBrowserInfo();$.when(i.getDeviceInfo()).done(function(t){o&&a&&(e.__finish=!1),o&&e.__submitData(t.device,t.version,n,null,s,null,null,o),a&&e.__submitIncident(t.device,t.version,n,null,s,null,null,a)}).fail(function(){o&&e.__submitData(null,null,n,null,s,null,null,o),a&&e.__submitIncident(null,null,n,null,s,null,null,a)})}})},__submitData:function(e,o,a,i,s,n,r,l){var d=this;$.when(d.__service.submitFeedback(e,o,a,i,s,n,"positive",l)).done(function(){d.__finish?(d.closeFrame(),window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/FEEDBACK/SEND/SUC"),"success")):d.__finish=!0}).fail(function(e){d.__finish?(d.closeFrame(),window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/FEEDBACK/SEND/FAI"),"error"),e.processed()):d.__finish=!0})},__submitIncident:function(e,o,a,i,s,n,r,l,d,p,c){var u=this;$.when(u.__service.submitIncident(e,o,a,i,s,n,"user feedback",l,"Critical",p,c)).done(function(){u.__finish?(u.closeFrame(),window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/FEEDBACK/SEND/SUC"),"success")):u.__finish=!0}).fail(function(){u.__finish?u.closeFrame():u.__finish=!0})}}})}),define("sap.sbo.page.pad.Incident.IncidentUtil",["sap.core.klass"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:"sap.sbo.page.pad.Incident.IncidentUtil",Public:{init:function(){},destroy:function(){},getDeviceInfo:function(){var e=$.Deferred();return window.SboShell.bridge?$.when(window.SboShell.bridge.getDeviceInfo()).done(function(t){e.resolve({device:t.devicemodel,version:t.systemVersion})}):e.resolve({device:"desktop",version:"unknown"}),e.promise()},getContextPage:function(){if(window.SboShell.__aViewHistory.length>0){var e=window.SboShell.__aViewHistory.slice(window.SboShell.__aViewHistory.length-1);return e[0].viewName}},getBrowserInfo:function(){return navigator.userAgent}}})}),define("sap.sbo.page.pad.Incident.IncidentReporting",["sap.ui.Controller","sap.core.JsonModel","sap.ui.widget.Checkbox","sap.sbo.page.pad.Incident.IncidentUtil","sap.sbo.localization.Helper","sap.sbo.ui.FrameViewController","sap.core.GuardedTimer","sap.sbo.compoundservices.UserEmployeeService","css!sap.sbo.page.pad.Incident.IncidentReporting"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Options:{message:{type:"string",defaultValue:null}},Public:{init:function(){t.sbo.ui.FrameViewController.prototype.init.apply(this,arguments),this.declareMember({__oIScroll:null,__user:null,__errorInfo:null,__service:this.autoDestroy(new t.sbo.compoundservices.UserEmployeeService)})},initView:function(){var o=this,a=$.Deferred(),i=window.SboShell.getData("user.code"),s=t.sbo.localization.Helper.get("app/INCIDENT/TEMP/TITLE",i);o.__errorInfo=this.getOption("message");var n=new t.core.JsonModel({errorInfo:o.__errorInfo,title:s});this.$().setModel(n,"error");var r=new t.core.JsonModel({priority:!1});return this.$().setModel(r,"check"),o.__oIScroll=new iScroll($("[sap-ctrl='iscrol']",o.$())[0],{hScroll:!1}),$(".btn-close").on("vclick",function(){o.closeFrame()}),$(".btn-send").on("vclick",function(){var e=new t.sbo.page.pad.Incident.IncidentUtil,a=e.getContextPage(),i=e.getBrowserInfo(),s=$(".title_content").val(),n=$(".comments").val(),r=o.$().getModel("check").getValue("priority")?"Critical":"Non-critical";$.when(e.getDeviceInfo()).done(function(e){o.__submitIncident(e.device,e.version,i,null,a,null,s,n,r,["error_information"],[o.__errorInfo])}).fail(function(){o.__submitIncident(null,null,i,null,a,null,s,n,r,["error_information"],[o.__errorInfo])})}),$.when(o.$().process(e)).done(function(){o.__oIScroll.refresh(),a.resolve()}),a.promise()},update:function(){},destroyView:function(){$(".btn-close").off("vclick"),$(".btn-send").off("vclick")}},Protected:{__submitIncident:function(e,o,a,i,s,n,r,l,d,p,c){var u=this;$.when(u.__service.submitIncident(e,o,a,i,s,n,r,l,d,p,c)).done(function(){u.closeFrame(),window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/INCIDENT/SEND/SUC"),"success")}).fail(function(){u.closeFrame()})}}})}),define("sap.sbo.page.pad.Leads.BasicInfoEdit",["css!sap.sbo.app.template.EditProperty","sap.core.klass","sap.ui.Controller","sap.sbo.layout.pad.MetadataLayout","sap.core.JsonModel","sap.ui.widget.TextField","sap.sbo.services.LeadsService","sap.sbo.compoundservices.AttachmentService","sap.sbo.page.pad.BoMetadataEditController","sap.ui.widget.TextArea","sap.sbo.util.formatter","sap.sbo.localization.Helper","sap.util","sap.sbo.ui.widget.BoStatus","sap.sbo.shell.IViewHistoryRecordable","sap.ui.widget.DropDownBox","sap.ui.widget.ValueHelpField","sap.sbo.ui.widget.BoStatus","sap.core.ListSourceFilter","json!sap.sbo.util.enums","sap.sbo.app.task.taskUtil","sap.sbo.ui.widget.BoLabel","css!sap.sbo.page.pad.SalesOpportunity.BasicInfoView","css!sap.sbo.page.pad.boEdit"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={convertEmtpyNull:function(e,t){return"<<"===t?null===e?"":e:">>"===t?""===e?null:e:void 0},string_null:function(e,t){return"<<"===t?e||"":e},getCustomerImg:function(e){return e?"<img data-id='cardName' boEditId='hyperLink' src='./image/Customer/customer.png'>":void 0}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.pad.BoMetadataEditController,Interfaces:[t.sbo.shell.IViewHistoryRecordable],Public:{init:function(){t.sbo.page.pad.BoMetadataEditController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{_oService:new t.sbo.services.LeadsService,_mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),_modelOwner:this.autoDestroy(new t.core.JsonModel({ownerName:"",OwnerImage:{url:"./image/common/no-pic-avatar.jpg"}})),oAttachementService:this.autoDestroy(new t.sbo.compoundservices.AttachmentService)})},destroy:function(){this._oService.destroy()},initView:function(){var o=$.Deferred(),a=this;return this.$().setModel(this._modelOwner,"owner"),$.when(t.sbo.page.pad.BoMetadataEditController.prototype.initView.call(this)).done(function(){a.setTitle({title:a.boGetValue("description")||"(No Name)",subTitle:t.sbo.localization.Helper.get("app/lead/LEADS")+a.boGetValue("id")});var e=a._oMetadataValueModel.getValue("ownerCode");null!=e&&$.when(a.oAttachementService.getPortraitId(e)).done(function(o){if(-1!==o.value){var i={};i.attachmentId=o.value,i.ownerCode=e;var s=t.sbo.app.task.taskUtil.PreviewUrl(i);a._modelOwner.setValue("OwnerImage",{url:s})}})}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){o.resolve()}),a.$().control({"[ctrl='main']":{listener:{afterProcess:function(){a.$().on("GuilinControlEvent.navigate GuilinControlEvent.choose",".sbo-metadata-list-property",function(o){switch($(o.currentTarget).attr("gl-property")){case"bpCode":if("navigate"===o.namespace){var i=$(event.target).findModel();window.SboShell.gotoView("sap.sbo.page.pad.Customer.CustomerHome",[{keyName:"cardCode",keyValue:i.getValue("bpCode")}])}else window.SboShell.openFrame({view:"sap.sbo.chooseList.pad.ChooseListCustomer",type:"right",options:{filter:new t.core.ListSourceFilter("(`isActive` = '"+e.json.sap.sbo.util.enums.bool.Yes+"')")},callback:function(e,t){"select"===e&&(a._oMetadataValueModel.setValue("bpName",t.cardName),a._oMetadataValueModel.setValue("bpCode",t.cardCode))}});break;case"source":window.SboShell.openFrame({view:"sap.sbo.chooseList.pad.ChooseListSource",type:"right",options:{},callback:function(e,t){"select"===e&&(a._oMetadataValueModel.setValue("source",t.sequenceNo),a._oMetadataValueModel.setValue("sourceDescription",t.description))}});break;case"reasonForStatus":window.SboShell.openFrame({view:"sap.sbo.chooseList.pad.ChooseListReason",type:"right",options:{},callback:function(e,t){"select"===e&&(a._oMetadataValueModel.setValue("reasonForStatus",t.sequenceNo),a._oMetadataValueModel.setValue("reasonDescription",t.description))}});break;case"ownerCode":if("navigate"===o.namespace){var s=a._oMetadataValueModel.getValue("ownerCode");null!=s&&window.SboShell.gotoView("sap.sbo.page.pad.user.BasicInfo",[{keyName:"employeeID",keyValue:a._oMetadataValueModel.getValue("ownerCode")}]),event.stopPropagation()}else window.SboShell.openFrame({view:"sap.sbo.chooseList.pad.ChooseListEmployee",type:"right",options:{},callback:function(e,o){"select"===e&&(a._oMetadataValueModel.setValue("ownerCode",o.employeeID),a._oMetadataValueModel.setValue("OwnerEmployeeDisplayName",o.displayName),$.when(a.oAttachementService.getPortraitId(o.employeeID)).done(function(e){if(-1!==e.value){var i={};i.attachmentId=e.value,i.ownerCode=o.employeeID;var s=t.sbo.app.task.taskUtil.PreviewUrl(i);a.__modelOwner.setValue("OwnerImage",{url:s})}}))}})}})}}}}),o.promise()},destroyView:function(){this.$().unprocess(),t.sbo.page.pad.BoMetadataEditController.prototype.destroyView.call(this)},update:function(){},getMainControl:function(){return this.$("[ctrl='main']").getControl()},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"Leads",keyElements:this._mViewInfo.storeParam}},getService:function(){return this._oService},process:function(){this.$().process(e)},boValidate:function(){},shouldBeRecorded:function(){return!1}},Protected:{}})}),define("sap.sbo.page.pad.Leads.Competitor",["sap.ui.Controller","sap.sbo.layout.pad.CardLayout","sap.core.klass","sap.core.JsonModel","sap.ui.widget.TextField","sap.formatter","sap.log","sap.util","sap.sbo.services.LeadsService","sap.sbo.services.SalesOpportunityCompetitorSetupsService","sap.sbo.util.formatter","sap.sbo.localization.Helper","css!sap.sbo.page.pad.Campaign.ItemsEdit"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,Options:{},Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{_oModel:new t.core.JsonModel({}),_oService:new t.sbo.services.LeadsService,_mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),_fnButtonProxy:$.proxy(this._fnButtonHandler,this),_bTriggerBySetModel:!1,_dtdPropertyChange:null})},destroy:function(){this._oModel.destroy(),this._oService.destroy(),this._dtdPropertyChange=null},initView:function(){var o=this,a=$.Deferred();o.$().setModel(o._oModel,"");var i=this.getBoKeyEntity();return $.when(this._oService.getMetadata(i.boNamespace,i.boName),this._oService.get(this._convertBoKey(i.keyElements))).done(function(i,s){o._bTriggerBySetModel=!0,o._oModel.setValue("",s),o._bTriggerBySetModel=!1,o.$().process(e),o.setTitle({title:t.sbo.localization.Helper.get("app/competitor/COMPETITORS")+" ("+s.competitors.length+")",subTitle:s.description||"(No Name)"}),a.resolve()}).fail(function(e){window.SboShell.raiseException(e)}),window.SboShell.addActionButtons([{text:t.sbo.localization.Helper.get("common/CREATE"),key:"create"},{text:t.sbo.localization.Helper.get("common/SAVE"),key:"save"},{text:t.sbo.localization.Helper.get("common/CANCEL"),key:"cancel"}],this),window.SboShell.attachEvent("actionButtonClick",this._fnButtonProxy),this.$().on("vclick",".sbo-opps-item-edit-list-item>.first>h1",function(e){var t=parseInt($($(e.currentTarget).parent().parent()).attr("index"));window.SboShell.openFrame({view:"sap.sbo.chooseList.pad.ChooseListCompetitor",type:"right",options:{},callback:function(e,a){"select"===e&&(o._oModel.setValue("competitors/"+t+"/competitorID",a.sequenceNo),o._oModel.setValue("competitors/"+t+"/competitorName",a.name))}})}),this.$().on("vclick",".sbo-opps-item-edit-list-item>.first>img.close",function(e){var a=parseInt($($(e.currentTarget).parent().parent()).attr("index"));t.util.showLoading();var i=o._oModel.getValue("");i.competitors.splice(a,1),o._oModel.setValue("",i),t.util.hideLoading()}),a.promise()},destroyView:function(){this.$().unprocess(),window.SboShell.detachEvent("actionButtonClick",this._fnButtonProxy)},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"Leads",keyElements:this._mViewInfo.storeParam}},update:function(){},boSave:function(){return this._oService.update(this._oModel.getValue(""),this._convertBoKey(this.getBoKeyEntity().keyElements))}},Protected:{_convertBoKey:function(e){for(var t={},o=0;e.length>o;o++)t[e[o].keyName]=e[o].keyValue;return t},_fnButtonHandler:function(e){var o=this;switch(e){case"save":$.when(o._dtdPropertyChange).done(function(){t.util.showLoading(),$.when(o.boSave()).done(function(){window.SboShell.gotoView("sap.sbo.page.pad.Leads.Home",o.getBoKeyEntity().keyElements)}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()})});break;case"create":t.util.showLoading(),$.when(o._oService.getInitBoNode(o._oModel.getValue(""),"Root/competitors")).done(function(e){o._bTriggerBySetModel=!0,o._oModel.setValue("",e),o._bTriggerBySetModel=!1}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()});break;case"cancel":window.SboShell.gotoView("sap.sbo.page.pad.Leads.Home",o.getBoKeyEntity().keyElements)}}}})}),define("sap.sbo.page.pad.Leads.Home",["sap.core.klass","sap.core.JsonModel","sap.ui.View","sap.sbo.layout.TileView","sap.ui.common","sap.util","sap.log","sap.ui.Controller","sap.ui.widget.TextField","sap.ui.widget.TextArea","sap.sbo.ui.widget.DateTimeField","sap.ui.widget.Currency","sap.ui.widget.Button","sap.sbo.layout.pad.AdvancedTilesLayout","sap.sbo.shell.IFeaturable","sap.ui.widget.Button","sap.sbo.app.network.FeedTile","sap.sbo.services.LeadsService","sap.sbo.services.BusinessPartnersService","sap.sbo.util.formatter","sap.sbo.layout.pad.MetadataRaw","sap.sbo.app.network.RelatedTile","sap.ui.Repeat","sap.sbo.util.metadataHelper","sap.sbo.localization.Helper","sap.ui.widget.ValueHelpField","sap.sbo.ui.widget.RelatedValueLabel","sap.sbo.page.pad.BoHomeController","css!sap.sbo.app.template.GeneralProperty","html!sap.sbo.app.template.DynamicProperty","css!sap.sbo.app.template.DynamicProperty","css!sap.sbo.app.template.EditProperty","css!sap.sbo.page.pad.SalesOpportunity.Home","css!sap.sbo.app.template.TileProperty"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={string_null:function(e,t){return"<<"===t?e||"":e}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.pad.BoHomeController,Options:{},Public:{init:function(){t.sbo.page.pad.BoHomeController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{_oModel:new t.core.JsonModel({}),_mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),_oService:new t.sbo.services.LeadsService,_onActionButtonClickProxy:$.proxy(this._onActionButtonClickHandler,this)}),window.SboShell.attachEvent("actionButtonClick",this._onActionButtonClickProxy)},destroy:function(){window.SboShell.detachEvent("actionButtonClick",this._onActionButtonClickProxy),this._oService.destroy()},initView:function(){var o=$.Deferred();this.setTitle({title:t.sbo.localization.Helper.get("app/lead/LEADS"),subTitle:t.sbo.localization.Helper.get("app/lead/LEAD")});var a=this;return $.when(t.sbo.page.pad.BoHomeController.prototype.initView.apply(this,arguments)).done(function(i){var s=i;a.$().setModel(a._oModel),t.util.showLoading(),$.when(a._oService.get(a.convertBoKey(a._mViewInfo.storeParam))).done(function(i){i.contactPersonName="",a._oModel.setValue("",i),a.setTitle(i.description||"(No Name)"),window.SboShell.addFeature(a,"relatedFilter.BOkey","method"),a.autoDestroy("remove the realted filter",window.SboShell.removeFeature.bind(window.SboShell,"relatedFilter.BOkey")),a.$().process(e),a.$().control({"[ctrl='layout']":{listener:{startLayout:function(){a.setOption("editable",!0),window.SboShell.showActionButtons(["saveLayout"])},afterProcess:function(){var o=t.sbo.util.metadataHelper.convert(s);a.$("[field='basicInfo']").getControl().setOption({metadata:o.properties,enumMeta:o.enumTypes,dynamicMeta:t.sbo.util.metadataHelper.convertDynamicMeta(i["sbo.dynamicmeta"]).properties,propertyTemplate:e.html.sap.sbo.app.template.DynamicProperty,readonly:!0})}}}}),a.$().on("vclick","[field='basicInfo']",function(){window.SboShell.gotoView("sap.sbo.page.pad.Leads.BasicInfoEdit",a._mViewInfo.storeParam)}),a.$().on("vclick","[field='contacts']",function(){for(var e=[],t=a._oModel.getValue("contacts"),o=0;t.length>o;o++)e.push(t[o].contactPersonID);window.SboShell.gotoView("sap.sbo.page.pad.Contact.ContactListView",{boName:a.getBoKeyEntity().boName,keyParam:a._mViewInfo.storeParam,BPcardCode:a._oModel.getValue("bpCode"),BPcardName:a._oModel.getValue("bpName"),ContactIDs:e},{MainContact:a._oModel.getValue("contactPersonCode")})}),window.SboShell.addActionButtons([{key:"copyto_opportunity",text:t.sbo.localization.Helper.get("common/COPY_TO_OPP")},{key:"copyto_quote",text:t.sbo.localization.Helper.get("common/COPY_TO_QUOTE")},{key:"copyto_order",text:t.sbo.localization.Helper.get("common/COPY_TO_ORDER")}],a),o.resolve()}).fail(function(e){window.SboShell.raiseException(e),o.reject(e)}).always(function(){t.util.hideLoading()})}),o.promise()},destroyView:function(){t.sbo.page.pad.BoHomeController.prototype.destroyView.apply(this,arguments),this.$().unprocess()},update:function(){},getService:function(){return this._oService},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"Leads",keyElements:this._mViewInfo.storeParam}}},Protected:{_onActionButtonClickHandler:function(e){var o=this;switch(e){case"copyto_quote":t.util.showLoading(),$.when(o._oService.action_copyToQuotation(o._oModel.getValue(""))).done(function(e){SboShell.openFrame({view:"sap.sbo.page.pad.SalesQuotation.QuotationCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,callback:function(){},options:{boData:e}})}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()});break;case"copyto_order":t.util.showLoading(),$.when(o._oService.action_copyToOrder(o._oModel.getValue(""))).done(function(e){SboShell.openFrame({view:"sap.sbo.page.pad.SalesOrder.OrderCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,callback:function(){},options:{boData:e}})}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()});break;case"copyto_opportunity":t.util.showLoading(),$.when(o._oService.action_copyToOpportunity(o._oModel.getValue(""))).done(function(e){SboShell.openFrame({view:"sap.sbo.page.pad.SalesOpportunity.CreationFrame2",type:"center-column",options:{boData:e}})
}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()})}}}})}),define("sap.sbo.page.pad.Leads.LeadsCreation",["sap.ui.Controller","sap.sbo.page.pad.BoMetadataCreationFrameController","sap.sbo.layout.pad.MetadataList","sap.sbo.services.LeadsService","sap.sbo.ui.widget.BoStatus","sap.ui.widget.TextField","sap.sbo.util.formatter","sap.ui.widget.Button","sap.util","sap.ui.widget.ValueHelpField","sap.sbo.localization.Helper","sap.core.ListSourceFilter","sap.sbo.ui.widget.RelatedValueDropDownBox","sap.core.JsonModel","sap.sbo.ui.widget.BoLabel","json!sap.sbo.util.enums","css!sap.sbo.app.template.EditProperty","css!sap.sbo.app.template.DynamicProperty"],function(){"use strict";var e=this.getNS(),t=e.sap,o=t.sbo.page.pad.BoMetadataCreationFrameController;return e.formatter={convertEmtpyNull:function(e,t){return"<<"===t?null===e?"":e:">>"===t?""===e?null:e:void 0}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:o,Options:{cardCode:{type:"any",defaultValue:void 0},cardName:{type:"any",defaultValue:void 0},contactPerson:{type:"any",defaultValue:void 0},onSaveCallBack:{type:"function"}},Public:{init:function(){o.prototype.init.apply(this,arguments),this.declareMember({_oService:new t.sbo.services.LeadsService,_bpModel:new t.core.JsonModel({readonly:!1}),_contactModel:new t.core.JsonModel({readonly:!1})})},destroy:function(){this._oService.destroy()},initView:function(){var a=this;this.$().setModel(a._bpModel,"bpModel"),this.$().setModel(a._contactModel,"contactModel");var i=$.Deferred();return $.when(o.prototype.initView.call(this)).done(function(){var o=a.getOption("cardCode"),s=a.getOption("contactPerson");o?$.when(a._bpModel.setValue("readonly",!0),a._oMetadataValueModel.setValue("bpCode",o)).done(function(){s&&(a._contactModel.setValue("readonly",!0),a._oMetadataValueModel.setValue("contactPersonCode",s))}):s&&(a._contactModel.setValue("readonly",!0),a._oMetadataValueModel.setValue("contactPersonCode",s)),a.$().control({'[ctrl="btnSaveOpen"]':{listener:{click:function(){t.util.showLoading(),$.when(a.boCreate()).done(function(e){var o={boNamespace:"com.sap.sbo",boName:"Leads",keyElements:[{keyName:"id",keyValue:e.id}]};a.callShell("save",o),window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/LEAD_CREATE_SUCCESSFUL"),"success");var i=a.getOption("onSaveCallBack");$.when(i&&i(o)).done(function(){window.SboShell.gotoView("sap.sbo.page.pad.Leads.Home",[{keyName:"id",keyValue:e.id}])})}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()})}}},'[ctrl="btnCancel"]':{listener:{click:function(){a.callShell("close")}}}}),a.$().on("GuilinControlEvent.navigate GuilinControlEvent.choose",".sbo-metadata-list-property",function(o){switch($(o.currentTarget).attr("gl-property")){case"bpCode":window.SboShell.openFrame({view:"sap.sbo.chooseList.pad.ChooseListCustomer",type:"right",options:{filter:new t.core.ListSourceFilter("(`isActive` = '"+e.json.sap.sbo.util.enums.bool.Yes+"')")},callback:function(e,t){"select"===e&&(a.getModel().setValue("bpName",t.cardName),a.getModel().setValue("bpCode",t.cardCode))}});break;case"mainContactPersonDisplayName":window.SboShell.openFrame({view:"sap.sbo.chooseList.pad.ChooseListContact",type:"right",options:{filter:new t.core.ListSourceFilter("(([cardCode]='"+a.getModel().getValue("bpCode")+"') | ([cardCode]=' '))")},callback:function(e,t){"select"===e&&(a.getModel().setValue("contactPersonCode",t.contactPersonID),a.getModel().setValue("mainContactPersonDisplayName",t.displayName))}});break;case"sourceDescription":window.SboShell.openFrame({view:"sap.sbo.chooseList.pad.ChooseListSource",type:"right",options:{},callback:function(e,t){"select"===e&&(a.getModel().setValue("source",t.sequenceNo),a.getModel().setValue("sourceDescription",t.description))}});break;case"reasonForStatus":window.SboShell.openFrame({view:"sap.sbo.chooseList.pad.ChooseListReason",type:"right",options:{},callback:function(e,t){"select"===e&&(a.getModel().setValue("reasonForStatus",t.sequenceNo),a.getModel().setValue("reasonDescription",t.description))}});break;case"OwnerEmployeeDisplayName":window.SboShell.openFrame({view:"sap.sbo.chooseList.pad.ChooseListEmployee",type:"right",options:{},callback:function(e,t){"select"===e&&(a.getModel().setValue("ownerCode",t.employeeID),a.getModel().setValue("OwnerEmployeeDisplayName",t.displayName))}})}}),i.resolve()}).fail(function(e){window.SboShell.raiseException(e),dtd.reject(e)}),i.promise()},destroyView:function(){this.$().off("GuilinControlEvent.navigate GuilinControlEvent.choose"),o.prototype.destroyView.call(this)},update:function(){o.prototype.update.apply(this,arguments)},getMainControl:function(){return this.$("[ctrl='main']").getControl()},getBoType:function(){return{boNamespace:"com.sap.sbo",boName:"Leads"}},getService:function(){return this._oService},process:function(){this.$().process(e)},boValidate:function(){},getInitBo:function(){var e=$.Deferred();return $.when(this.getService().getInit()).done(function(t){e.resolve(t)}).fail(function(){e.reject(ex)}),e.promise()}},Protected:{}})}),define("sap.sbo.page.pad.Leads.LeadsListView",["sap.ui.Controller","sap.core.JsonModel","sap.sbo.layout.pad.ListLayout","sap.sbo.util.AjaxListSource","sap.sbo.services.LeadsService","sap.sbo.page.BaseBoListViewController","sap.sbo.util.formatter","sap.sbo.ui.widget.ListManipulator","sap.sbo.localization.Helper","sap.ui.widget.ValueHelpField","sap.sbo.ui.widget.MultipleValueHelp","json!sap.sbo.page.common.listFilters.Lead","css!sap.sbo.page.pad.Leads.LeadsListView"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={qualificationConverter:function(e){switch(e){case"Cold":return"&#9733;";case"Warm":return"&#9733;&#9733;";default:return"&#9733;&#9733;&#9733;"}},convertStatusImage:function(e){switch(e){case"Closed":return"<img src='image/BO/Won_Complete.png'/>";case"In_process":return"<img src='image/BO/Pending.png'/>";case"Copied":return"<img src='image/BO/Accept.png'/>";case"Open":return"<img src='image/BO/Open.png'/>";default:return"<img src='image/BO/Open.png'/>"}}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.BaseBoListViewController,Public:{init:function(){t.sbo.page.BaseBoListViewController.prototype.init.apply(this,arguments),this.declareMember({oBOService:this.autoDestroy(new t.sbo.services.LeadsService),__model:this.autoDestroy(new t.core.JsonModel({})),_oAjaxListSource:null});var e=this;this._oAjaxListSource=this.autoDestroy(new t.sbo.util.AjaxListSource(this.oBOService));var o=function(t){e["onKey"+t]()};SboShell.attachEvent("actionButtonClick",o),this.autoDestroy("detach actionButtonClick",function(){SboShell.detachEvent("actionButtonClick",o)})},destroy:function(){},onKeyCreate:function(){SboShell.openFrame({view:"sap.sbo.page.pad.Leads.LeadsCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,callback:function(){}})},getMainControl:function(){return this.$(".sbo-list-layout")},initView:function(){var o=$.Deferred(),a=this;return $.when(t.sbo.page.BaseBoListViewController.prototype.initView.call(this)).done(function(){if(a.$().setModel(a.__model),a.$().process(e),a.canQuery()&&(a.$().control({'div[data-id="listView"]':{emptyTexts:[t.sbo.localization.Helper.get("app/lead/PURPOSE"),t.sbo.localization.Helper.get("app/lead/USAGE"),t.sbo.localization.Helper.get("app/lead/TO_CREATE")],source:a._oAjaxListSource,sort:{field:"id"},listener:{create:function(){SboShell.openFrame({view:"sap.sbo.page.pad.Leads.LeadsCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,callback:function(){}})},requestDone:function(e){var o=e.count+" "+t.sbo.localization.Helper.get("app/lead/LEADS");1==e.count&&(o=e.count+" "+t.sbo.localization.Helper.get("app/lead/LEAD")),SboShell.setOption({title:o,subTitle:""})}}}}),a.$().on("vclick",".item",function(e){window.SboShell.gotoView("sap.sbo.page.pad.Leads.Home",[{keyName:"id",keyValue:$(e.target).findModel().getValue("id")}])})),a.canCreate()){var i=[{text:t.sbo.localization.Helper.get("common/CREATE"),key:"Create"}];SboShell.addActionButtons(i,this)}o.resolve()}).fail(function(){o.reject()}),o.promise()},destroyView:function(){t.sbo.page.BaseBoListViewController.prototype.destroyView.call(this),this.$().unprocess()},update:function(){},getService:function(){return this.oBOService},getQuickFilters:function(){if(e&&e.json&&e.json.sap&&e.json.sap.sbo&&e.json.sap.sbo.page&&e.json.sap.sbo.page.common&&e.json.sap.sbo.page.common.listFilters&&e.json.sap.sbo.page.common.listFilters.Lead){var o=e.json.sap.sbo.page.common.listFilters.Lead,a={};for(var i in o)a[i]={},a[i].expr=o[i],a[i].label=t.sbo.localization.Helper.get("app/lead/"+i),a[i].description=a[i].label;return a}return{}},getBoNameEntity:function(){return{boNamespace:"com.sap.sbo",boName:"Leads"}},getListSource:function(){return this._oAjaxListSource},getProcessContext:function(){return e}},Protected:{}})}),define("sap.sbo.page.pad.LeadSetting.LeadSetting",["sap.core.klass","sap.core.JsonModel","sap.ui.View","sap.ui.common","sap.log","sap.ui.Controller","sap.sbo.ui.PageController","sap.sbo.layout.TileView","sap.sbo.layout.pad.AdvancedTilesLayout","sap.sbo.localization.Helper","sap.sbo.shell.IFeaturable"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.PageController,Interfaces:[t.sbo.shell.IFeaturable],Public:{init:function(){t.sbo.ui.PageController.prototype.init.apply(this,arguments)},destroy:function(){},initView:function(){this.setTitle({title:t.sbo.localization.Helper.get("app/lead/LEAD"),subTitle:t.sbo.localization.Helper.get("app/lead/SETTING")}),this.$().process(e)},destroyView:function(){this.$().unprocess(e)},update:function(){}},Protected:{}})}),define("sap.sbo.page.pad.network.Feed",["sap.ui.Controller","sap.ui.widget.Icon","sap.ui.View","sap.core.JsonModel","sap.sbo.services.FeedService","sap.sbo.util.formatter","sap.ui.Repeat","sap.ui.widget.Photo","sap.sbo.localization.Helper","sap.sbo.ui.widget.BoLink","css!sap.sbo.page.pad.network.Feed"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={convertLikedTooltip:function(e){return e?t.sbo.localization.Helper.get("page/pad/feed/unlikeIt"):t.sbo.localization.Helper.get("page/pad/feed/likeIt")},convertToUppercase:function(e){return e.toUpperCase()},getFeedAuthor:function(e){return null!=e&&null!=e.actor&&"post"==e.verb&&null!=e.actor&&"person"==e.actor.objectType?e.actor.displayName:""},getCommentsCount:function(e){return 1!=e?e+" "+t.sbo.localization.Helper.get("page/phone/network/cmts_unit"):e+" "+t.sbo.localization.Helper.get("page/phone/network/cmt_unit")},getHotImage:function(e){return 1==e?"image/feed/goldenstar32.png":""},getHotStatus:function(e){return 1==e?"hot":"hide"},getTargetClassName:function(e){return null!=e&&null!=e.id?"showTarget":"hideTarget"}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,Options:{data:{type:"any"}},Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments),this.declareMember({__resizeProxy:$.proxy(this.__onResizeHandler,this),__iResizeTicket:-1,__iLastResizeTime:-1,__oModel:new t.core.JsonModel({}),__oFeedService:new t.sbo.services.FeedService})},destroy:function(){this.__oFeedService=null,this.__oModel.destroy(),this.__oModel=null},initView:function(){var t=$.Deferred();return this.$().setModel(this.__oModel),this.__oModel.setValue("",this.getOption("data")),this.$().process(e),t.resolve(),$(window).on("resize",this.__resizeProxy),t.promise()},destroyView:function(){this.__oFeedService.destroy(),this.__oFeedService=null,$(window).off("resize",this.__resizeProxy),this.$().unprocess(e)},update:function(){},resize:function(){if(this.__iLastResizeTime=(new Date).getTime(),-1===this.__iResizeTicket){var e=this;e.__iResizeTicket=setInterval(function(){var t=new Date;t.getTime()-e.__iLastResizeTime>500&&(null!==e.$()&&e.__doResize(),clearInterval(e.__iResizeTicket),e.__iResizeTicket=-1)},500)}}},Protected:{__refreshStatus:function(){var o=this,a=this.__oModel.__oJson.id;$.when(this.__oFeedService.getFeedByID(a)).done(function(a){var i=t.sbo.util.formatter.convertAttachedFiles(a);o.__oModel.setValue("",i),o.$(".content").process(e)}).fail(function(){})},__onResizeHandler:function(){this.resize()},__doResize:function(){var e,t=this.$().parent().height(),o=this.$().parent().width(),a=this.$(".block"),i=[];for(e=0;a.length>e;e++)i[e]={el:a[e],height:$(a[e]).outerHeight(!0),priority:parseInt($(a[e]).attr("priority"))},(isNaN(i[e].priority)||0>i[e].priority)&&(i[e].priority=0);i.sort(function(e,t){return t.priority-e.priority});var s=t-15;for(e=0;i.length>e;e++)s>=i[e].height&&"NO"!==$(i[e].el).attr("visible")?($(i[e].el).show(),s-=i[e].height):$(i[e].el).hide();o>=t?this.$().addClass("thing-quote-listmode"):this.$().removeClass("thing-quote-listmode")},__actionEnterDetail:function(){var e=this.getOption("data").click;"function"==typeof e&&e()}},Static:{}})}),define("sap.sbo.page.pad.network.Feeds",["sap.ui.Controller","sap.sbo.ui.pad.TimeLineLayout","sap.core.JsonModel","sap.core.klass","sap.sbo.services.FeedService","sap.ui.View","sap.ui.MessageBox","sap.util","sap.ui.widget.Photo","sap.sbo.localization.Helper","sap.sbo.util.formatter","sap.sbo.ui.widget.AutoCompletableTextArea","sap.sbo.ui.widget.AutoCompletableTextArea","sap.sbo.ui.widget.BoLink","sap.ui.Repeat","css!sap.sbo.page.pad.network.Feeds"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={convertToUppercase:function(e){return e.toUpperCase()},getAttachedStatus:function(e){return null!=e&&e.length>0?"block":"none"},getHotImage:function(e){return 1==e?"image/feed/goldenstar32.png":"image/feed/graystat32.png"},getHotTipMsg:function(e){return 1==e?t.sbo.localization.Helper.get("feed/hot/setAsNormal"):t.sbo.localization.Helper.get("feed/hot/setAsHot")},getHotStatus:function(){var e=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo");return e&&e.storeParam&&e.storeParam.thingID>0?"hot_flag_hidden":"hot_flag"},getTargetClassName:function(e){return null!=e&&null!=e.id?"showTarget":"hideTarget"}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,Options:{thingID:{type:"integer",optional:!0}},Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{__oService:new t.sbo.services.FeedService,__fPostedProxy:$.proxy(this.__fPosted,this),__thingID:null})},destroy:function(){this.__oService.destroy(),this.__oService=null},initView:function(){var e=$.Deferred();window.SboShell.attachFeatureEvent("network.posted",this.__fPostedProxy);var t=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo");return this.__thingID=t.storeParam.thingID,this.__loadTimeline(t.storeParam.thingID),e.resolve(),e.promise()},destroyView:function(){window.SboShell.detachFeatureEvent("network.posted",this.__fPostedProxy),$(document).off("scroll"),this.$().unprocess()},update:function(){}},Protected:{__fPosted:function(){console.log("got it")},__loadTimeline:function(t){var o=this,a=o.__oService.loadPagingTimeline(t);this.$(".feed_list").process(e),this.$(".feed_list").getControl().setOption("source",a)}}})}),define("sap.sbo.page.pad.network.PostComment",["sap.sbo.ui.FrameViewController","sap.ui.Controller","sap.core.klass","sap.sbo.services.FeedService","sap.sbo.localization.Helper","sap.sbo.ui.widget.AutoCompletableTextArea","css!sap.sbo.page.pad.network.PostComment"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Options:{feedID:{type:"integer",defaultValue:-1}},Public:{init:function(){t.sbo.ui.FrameViewController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{__oFeedService:this.autoDestroy(new t.sbo.services.FeedService),__saveClickProxy:$.proxy(this.__saveClick,this),__cancelClickProxy:$.proxy(this.__cancelClick,this)})},destroy:function(){},initView:function(){var t=$.Deferred();return t.resolve(),this.$().process(e),this.$("#btnOk").on("click",this.__saveClickProxy),this.$("#btnCancel").on("click",this.__cancelClickProxy),t.promise()},destroyView:function(){this.$("#btnOk").off("click",this.saveClickProxy),this.$("#btnCancel").off("click",this.__cancelClickProxy)},update:function(){}},Protected:{__saveClick:function(){var e=this,o=this.$("#txt_reason").val();0!=o.length&&$.when(e.__oFeedService.postComment(o,parseInt(e.getOption("feedID")))).done(function(){e.closeFrame()}).fail(function(){window.SboShell.raiseMessage(t.sbo.localization.Helper.get("pad/comment/error/postCmt"),"error")})},__cancelClick:function(){this.closeFrame()}}})}),define("sap.sbo.page.pad.network.PostFeedDialog",["sap.sbo.ui.FrameViewController","sap.ui.Controller","sap.core.klass","sap.ui.widget.TextField","sap.ui.widget.Icon","sap.sbo.ui.widget.UploadButton","sap.sbo.ui.widget.PhotoPicker","sap.sbo.ui.widget.PressToTalk","sap.sbo.services.NotePageService","sap.sbo.services.FeedService","sap.sbo.ui.widget.AutoCompletableTextAreaGrp","sap.sbo.services.BaseService","sap.core.JsonModel","sap.util","sap.sbo.localization.Helper","css!sap.sbo.page.pad.network.PostFeedDialog"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Options:{thingID:{type:"integer",defaultValue:-1}},Public:{init:function(){t.sbo.ui.FrameViewController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{__oFeedService:new t.sbo.services.FeedService,oPostFeedsDialogModel:new t.core.JsonModel({}),__dialog:null,__oPageService:new t.sbo.services.NotePageService,__boEntityKey:{},__fileSelectedProxy:$.proxy(this.__fileSelected,this),__uploadCptProxy:$.proxy(this.__uploadCpt,this),__onRecordFinishProxy:$.proxy(this.__recordFinish,this),__onRecordUploadCompleteProxy:$.proxy(this.__afterRecordUpload,this),__onPhotoPickProxy:$.proxy(this.__afterPick,this),__onPhotoUploadProxy:$.proxy(this.__afterPicUpload,this),__onAlbumPickProxy:$.proxy(this.__afterAlbumPick,this),__onAlbumUploadProxy:$.proxy(this.__afterAlbumUpload,this),__uploadFailedProxy:$.proxy(this.__uploadFailed,this),album_hasFile:null,upload_hasFile:!1,talk_hasFile:!1,camera_hasFile:!1,__thingID:null}),this.__createFeedsPostDialog()},destroy:function(){this.__oFeedService=null,this.__oPageService=null,this.oPostFeedsDialogModel=null},initView:function(){var o=$.Deferred(),a=this;return this.$().setModel(this.oPostFeedsDialogModel),this.$().process(e),this.__thingID=this.getOption("thingID"),this.$().find("#uploadfile").getControl().attachEvent("uploadComplete",this.__uploadCptProxy),this.$().find("#uploadfile").getControl().attachEvent("fileSelected",this.__fileSelectedProxy),this.$().find("#uploadfile").getControl().attachEvent("uploadFailed",this.__uploadFailedProxy),this.$().find("#press-talk").getControl().attachEvent("onRecordFinish",this.__onRecordFinishProxy),this.$().find("#press-talk").getControl().attachEvent("uploadComplete",this.__onRecordUploadCompleteProxy),this.$().find("#press-talk").getControl().attachEvent("uploadFailed",this.__uploadFailedProxy),this.$().find(".photo-pick").getControl().attachEvent("afterPick",this.__onPhotoPickProxy),this.$().find(".photo-pick").getControl().attachEvent("uploadComplete",this.__onPhotoUploadProxy),this.$().find(".photo-pick").getControl().attachEvent("uploadFailed",this.__uploadFailedProxy),this.$().find(".photo-album").getControl().attachEvent("afterPick",this.__onAlbumPickProxy),this.$().find(".photo-album").getControl().attachEvent("uploadComplete",this.__onAlbumUploadProxy),this.$().find(".photo-album").getControl().attachEvent("uploadFailed",this.__uploadFailedProxy),this.$().find("#post").on("vclick",function(){a.oPostFeedsDialogModel.setValue("action","Post");var e=a.$(".sfa-post-status-text-area").val();if(null==e||0==e.length)return window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/user/error/emptyPsw"),"error"),void 0;var o=!1;if(1==a.upload_hasFile&&(o=!0,a.$("#uploadfile").getControl().setOption("url",".."+t.sbo.services.BaseService.documentbase+"social/file"),a.$("#uploadfile").getControl().upload(a.$("#uploadfile").getControl().getOption("url")),t.util.showLoading(),a.upload_hasFile=null),1==a.talk_hasFile&&(o=!0,a.$("#press-talk").getControl().setOption("url",".."+t.sbo.services.BaseService.documentbase+"social/file"),a.$("#press-talk").getControl().upload(a.$("#press-talk").getControl().getOption("url")),t.util.showLoading(),a.talk_hasFile=null),1==a.camera_hasFile&&(o=!0,a.$(".photo-pick").getControl().setOption("url",".."+t.sbo.services.BaseService.documentbase+"social/file"),a.$(".photo-pick").getControl().upload(a.$(".photo-pick").getControl().getOption("url")),t.util.showLoading(),a.camera_hasFile=null),1==a.album_hasFile&&(o=!0,a.$(".photo-album").getControl().setOption("url",".."+t.sbo.services.BaseService.documentbase+"social/file"),a.$(".photo-album").getControl().upload(a.$(".photo-album").getControl().getOption("url")),t.util.showLoading(),a.album_hasFile=null),1!=o){var e=a.$(".sfa-post-status-text-area").val();e&&(t.util.showLoading(),$.when(a.__oFeedService.postFeed(e,null,a.__thingID)).done(function(){window.SboShell.fireFeatureEvent("network.posted"),a.$(".sfa-post-status-text-area").val(""),a.closeFrame()}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()}))}}),this.$().find("#cancel").on("vclick",function(){a.closeFrame()}),o.resolve(),o.promise()},destroyView:function(){this.__oFeedService.destroy(),this.__oPageService.destroy(),this.__oFeedService=null,this.__oPageService=null,this.__obEntityKey=null,this.oPostFeedsDialogModel=null,this.$().find("#uploadfile").getControl().detachEvent("uploadComplete",this.__uploadCptProxy),this.$().find("#uploadfile").getControl().detachEvent("fileSelected",this.__fileSelectedProxy),this.$().find("#uploadfile").getControl().detachEvent("uploadFailed",this.__uploadFailedProxy),this.$().find("#press-talk").getControl().detachEvent("onRecordFinish",this.__onRecordFinishProxy),this.$().find("#press-talk").getControl().detachEvent("uploadComplete",this.__onRecordUploadCompleteProxy),this.$().find("#press-talk").getControl().detachEvent("uploadFailed",this.__uploadFailedProxy),this.$().find(".photo-pick").getControl().detachEvent("afterPick",this.__onPhotoPickProxy),this.$().find(".photo-pick").getControl().detachEvent("uploadComplete",this.__onPhotoUploadProxy),this.$().find(".photo-pick").getControl().detachEvent("uploadFailed",this.__uploadFailedProxy),this.$().find(".photo-album").getControl().detachEvent("afterPick",this.__onAlbumPickProxy),this.$().find(".photo-album").getControl().detachEvent("uploadComplete",this.__onAlbumUploadProxy),this.$().find(".photo-album").getControl().detachEvent("uploadFailed",this.__uploadFailedProxy),this.$().find("#post").on("vclick"),this.$().find("#cancel").on("vclick")},update:function(e){e.data},resize:function(){}},Protected:{__afterPick:function(e){this.camera_hasFile=!0,this.$(".attached-files").html($("<img>").attr("src",e))},__uploadFailed:function(){t.util.hideLoading(),this.$(".attached-files").html("")},__afterPicUpload:function(e){var o=this;t.util.hideLoading();var a=o.oPostFeedsDialogModel.getValue("action");if("Post"==a){var i=o.oPostFeedsDialogModel.get("files");i.push(e),o.oPostFeedsDialogModel.set("files",i);var s=o.$(".sfa-post-status-text-area").val();t.util.showLoading();var i=o.oPostFeedsDialogModel.get("files");$.when(o.__oFeedService.postFeed(s,i,o.__thingID)).done(function(){o.$(".sfa-post-status-text-area").val(""),o.closeFrame()}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()})}},__afterAlbumPick:function(e){this.camera_hasFile=!0,this.$(".attached-files").html($("<img>").attr("src",e))},__afterAlbumUpload:function(e){var o=this;t.util.hideLoading();var a=o.oPostFeedsDialogModel.getValue("action");if("Post"==a){var i=o.oPostFeedsDialogModel.get("files");i.push(e),o.oPostFeedsDialogModel.set("files",i);var s=o.$(".sfa-post-status-text-area").val();t.util.showLoading();var i=o.oPostFeedsDialogModel.get("files");$.when(o.__oFeedService.postFeed(s,i,o.__thingID)).done(function(){o.$(".sfa-post-status-text-area").val(""),o.closeFrame()}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()})}},__afterRecordUpload:function(e){var o=this;t.util.hideLoading();var a=o.oPostFeedsDialogModel.getValue("action");if("Post"==a){var i=o.oPostFeedsDialogModel.get("files");i.push(e),o.oPostFeedsDialogModel.set("files",i);var s=o.$(".sfa-post-status-text-area").val();t.util.showLoading();var i=o.oPostFeedsDialogModel.get("files");$.when(o.__oFeedService.postFeed(s,i,o.__thingID)).done(function(){o.$(".sfa-post-status-text-area").val(""),o.closeFrame()}).fail(function(){}).always(function(){t.util.hideLoading()})}},__recordFinish:function(e){this.talk_hasFile=!0,this.$(".attached-files").html($("<img>").attr("src",e)),e&&(SboShell.bridge.stopPlayVoice(function(){}),SboShell.bridge.playVoice(function(){},{url:e}))},__fileSelected:function(e){var e=$("<div>").attr("class","image_icon").append($("<div>").text(e.name));this.$(".attached-files").html(e),this.upload_hasFile=!0},__uploadCpt:function(e){var o=this;t.util.hideLoading();var a=o.oPostFeedsDialogModel.getValue("action");if("Post"==a){var i=o.oPostFeedsDialogModel.get("files");i.push(e),o.oPostFeedsDialogModel.set("files",i);var s=o.$(".sfa-post-status-text-area").val();t.util.showLoading(),$.when(o.__oFeedService.postFeed(s,i,o.__thingID)).done(function(){o.$(".sfa-post-status-text-area").val(""),o.closeFrame()}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()})}},__createFeedsPostDialog:function(){var e=this;this.__oFeedService=new t.sbo.services.FeedService,e.oPostFeedsDialogModel=new t.core.JsonModel({follow:!0,action:"",textArea:{cols:60,rows:5,wrap:"soft",value:""},files:[],isPad:function(){return"pad"==SboShell.__deviceType||"simulator"==SboShell.__deviceType?"inline":"none"}(),isDesktop:function(){return"desktop"==SboShell.__deviceType?"inline":"none"}()})}},Static:{}})}),define("sap.sbo.page.pad.network.Reason",["sap.ui.Controller","sap.sbo.app.network.Reason","css!sap.sbo.page.pad.network.Reason"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.app.network.Reason,Public:{init:function(){t.sbo.app.network.Reason.prototype.init.apply(this,arguments)},initView:function(){return t.sbo.app.network.Reason.prototype.initView.apply(this,arguments)},destroyView:function(){t.sbo.app.network.Reason.prototype.destroyView.apply(this,arguments)}}})}),define("sap.sbo.page.pad.network.RelatedList",["sap.core.klass","sap.core.JsonModel","sap.ui.Controller","sap.sbo.layout.pad.ListLayout","sap.core.ArrayListSource","sap.sbo.app.network.RelatedTile","sap.ui.MessageBox","sap.sbo.localization.Helper","sap.sbo.page.BaseBoListViewController","sap.sbo.ui.widget.ListManipulator","sap.sbo.ui.widget.DecimalLabel","sap.sbo.services.FeedService","sap.formatter","sap.core.ListSourceFilter","css!sap.sbo.page.pad.boListView","css!sap.sbo.page.pad.network.RelatedList"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.BaseBoListViewController,Options:{isCustomer:{type:"boolean",defaultValue:!1}},Public:{init:function(){t.sbo.page.BaseBoListViewController.prototype.init.apply(this,arguments),this.declareMember({__oFeedService:this.autoDestroy(new t.sbo.services.FeedService),__thingID:null,__buttonClickProxy:$.proxy(this.__buttonClicked,this),__currentMode:null,__isCustomer:!1,__relatedDocs:null})},destroy:function(){},initView:function(){var e=this,o=$.Deferred();if(window.SboShell.isFeatureAvailable("shell.getCurrentViewInfo")){var a=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo");return e.__thingID=a.storeParam.thingID,e.__isCustomer=a.storeParam.isCustomer,e.setTitle(t.sbo.localization.Helper.get("app/network/related/title")),window.SboShell.addActionButtons([{text:t.sbo.localization.Helper.get("common/EDIT"),key:"edit"}],e),this.__currentMode="r",window.SboShell.attachEvent("actionButtonClick",e.__buttonClickProxy),this.__reload(o),o.promise()}},destroyView:function(){this.$().unprocess(),window.SboShell.detachEvent("actionButtonClick",this.__buttonClickProxy),$("#related-listView .related-tail").off("vclick")},update:function(){},getProcessContext:function(){return e}},Protected:{__buttonClicked:function(e){var o=this;if("edit"==e)this.__currentMode="e",window.SboShell.removeActionButtons(["edit","done","2","4","11","97"]),window.SboShell.addActionButtons([{text:t.sbo.localization.Helper.get("common/SAVE"),key:"done"},{text:t.sbo.localization.Helper.get("app/network/related/customer"),key:"2"},{text:t.sbo.localization.Helper.get("app/network/related/product"),key:"4"},{text:t.sbo.localization.Helper.get("app/network/related/contact"),key:"11"},{text:t.sbo.localization.Helper.get("app/network/related/opportunity"),key:"97"},{text:t.sbo.localization.Helper.get("app/network/related/order"),key:"17"},{text:t.sbo.localization.Helper.get("app/network/related/quotation"),key:"23"},{text:t.sbo.localization.Helper.get("app/network/related/leads"),key:"J0001"}],this),this.__refreshTail(!0);else if("done"==e)this.__currentMode="r",window.SboShell.removeActionButtons(["done","2","4","11","97","17","23","J0001"]),window.SboShell.addActionButtons([{text:t.sbo.localization.Helper.get("common/EDIT"),key:"edit"}],this),this.__refreshTail(!1);else if("2"==e){var a=[];if(o.__relatedDocs)for(var i=0,s=o.__relatedDocs.length;s>i;i++)o.__relatedDocs[i].boType==e&&a.push(o.__relatedDocs[i].id);o.__buildFilter("id",a),o.__openChooseList(e,"sap.sbo.chooseList.pad.ChooseListCustomer")}else"4"==e?o.__openChooseList(e,"sap.sbo.chooseList.pad.ChooseListProduct"):"11"==e?o.__openChooseList(e,"sap.sbo.chooseList.pad.ChooseListContact"):"97"==e?o.__openChooseList(e,"sap.sbo.chooseList.pad.ChooseListOpportunity"):"17"==e?o.__openChooseList(e,"sap.sbo.chooseList.pad.ChooseListOrder"):"23"==e?o.__openChooseList(e,"sap.sbo.chooseList.pad.ChooseListQuotation"):"J0001"==e&&o.__openChooseList(e,"sap.sbo.chooseList.pad.ChooseListLeads")},__openChooseList:function(e,o){var a=this;window.SboShell.openFrame({view:o,type:"right",callback:function(o,i){if("select"===o&&i){var s=t.sbo.app.network.RelatedTile.getBoEntity(e);s.keyElements[0].keyValue=i[s.keyElements[0].keyName],window.SboShell.openFrame({view:"sap.sbo.page.pad.network.Reason",type:"center",width:300,height:200,options:{thingID:a.__thingID,entity:s},callback:function(e){"s"==e.name&&a.__reload()}})}}})},__refreshTail:function(){var e=this;$("#related-listView .related-tail").each(function(){var t=$(this).attr("data-sap-type");e.__isRemoveAble(t)&&"r"!=e.__currentMode?$(this).css("height","30px"):$(this).css("height","0px")})},__isRemoveAble:function(e){return"FromNode"==e||"ToNode"==e||"Creator"==e||"ReferNode"==e||"Manager"==e||"Owner"==e?!1:!0},__buildFilter:function(e,t){for(var o="",a=0,i=t.length;i>a;a++)o=0===o.length?"(["+e+"] != '"+t[a]+"')":"("+o+"&"+"(["+e+"] != '"+t[a]+"'))";return o},__reload:function(e){var t=this;t.__isCustomer?$.when(t.__oFeedService.loadRelated(t.__thingID,!0)).done(function(o){t.__renderList(o),e&&e.resolve()}).fail(function(){e.reject()}):$.when(t.__oFeedService.loadFollowees(t.__thingID,!0)).done(function(o){t.__renderList(o),e&&e.resolve()}).fail(function(){e.reject()})},__renderList:function(o){var a=this;a.$().process(e);var i=$("#related-listView").getControl();if(o){a.__relatedDocs=[];for(var s=0,n=o.length;n>s;s++)o[s].boName=t.sbo.app.network.RelatedTile.translateBOCode(o[s].boType),a.__relatedDocs.push(o[s]);
if(i.setOption("source",new t.core.ArrayListSource(a.__relatedDocs)),0===o.length)return i.setOption("showEmptyContent",!0),i.setOption("emptyTexts",[t.sbo.localization.Helper.get("app/relatedlist/reminder")]),void 0}i.attachEvent("afterUpdate",function(){$("#related-listView .related-tail").off("vclick"),$(".item",a.$()).off("vclick"),$(".item",a.$()).on("vclick",function(){var e=$(this).attr("data-sap-bo-type"),o=$(this).attr("data-sap-bo-code");t.sbo.app.network.RelatedTile.relatedBusinessNavigation(e,o)}),$("#related-listView .related-tail").on("vclick",function(e){var o=$(this).parent(),i=o.attr("data-sap-bo-code"),s=o.attr("data-sap-bo-type"),n=t.sbo.app.network.RelatedTile.getBoEntity(s);n.keyElements[0].keyValue=i,e.stopPropagation(),e.preventDefault(),$.when(t.ui.MessageBox.show({message:t.sbo.localization.Helper.get("app/network/related/reminder"),title:t.sbo.localization.Helper.get("app/network/related/confirm"),icon:"warning",buttons:[{key:"yes",text:t.sbo.localization.Helper.get("common/OK")},{key:"no",text:t.sbo.localization.Helper.get("common/CANCEL")}]})).done(function(e){"yes"==e&&$.when(a.__oFeedService.unrelate(a.__thingID,n)).done(function(){a.__reload()})})}),a.__refreshTail(),$("#related-listView .related-icon").each(function(){var e=$(this).attr("data-sap-type");a.__isRemoveAble(e)?$(this).addClass("hide-icon"):$(this).removeClass("hide-icon")})})}}})}),define("sap.sbo.page.pad.notepage.NotePageDialog",["sap.ui.Controller","sap.core.klass","sap.util","sap.core.GuardedTimer","sap.core.JsonModel","sap.sbo.ui.FrameViewController","sap.ui.widget.Button","sap.ui.widget.TextArea","sap.ui.widget.Icon","sap.ui.MessageBox","sap.sbo.ui.widget.PopupContainer","sap.sbo.ui.widget.PopupMenu","sap.sbo.ui.widget.UploadButton","sap.sbo.ui.widget.PressToTalk","sap.sbo.ui.widget.PhotoPicker","sap.log","sap.core.ArrayListSource","sap.sbo.services.NotePageService","sap.sbo.layout.pad.ListLayout","sap.sbo.util.AjaxListSource","sap.ui.Dialog","sap.ui.Repeat","sap.sbo.page.common.notepage.NotePageUtil","sap.core.ListSourceFilter","sap.sbo.localization.Helper","sap.sbo.ui.widget.AutoCompletableTextAreaGrp","sap.sbo.app.task.taskUtil","sap.sbo.ui.widget.BoLink","sap.sbo.services.BaseService","sap.ui.widget.Checkbox","sap.ui.common","css!sap.sbo.page.pad.notepage.NotePageDialog"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Options:{noteID:{type:"integer",defaultValue:-1},mode:{type:"string",defaultValue:""},bo:{}},Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments);var e=this;t.core.klass.declareMember(this,{__oModel:new t.core.JsonModel({title:t.sbo.localization.Helper.get("app/memo/MEMO"),page:{pageAttachments:[],text:"",toAnalyzeFunction:"",copyFlag:!1},list:[],richMediaText:"",richTextTargets:{},isIOSDevice:function(){return"desktop"!=window.SboShell.__deviceType?"inline":"none"}(),viewMode:e.__mode}),__oService:new t.sbo.services.NotePageService,__uploadFileName:"",__bToAdd:!1,__$addButton:null,__boEntityKey:{},__oConvertDialogModel:null,__oCurrentTileModel:null,__noteID:0,__mode:"",__boCode:"",__boKey:"",__page:{text:"",pageAttachments:[],copyFlag:!1},__fNotePageRendered:function(){"view"==e.__mode&&e.$("img[data-sfa-class='removeBtn']").hide()},__remove:function(e,t,o){return $.grep(e,function(e){return e[t]!=o})},__setViewMode:function(o){switch(e.__mode=o,e.__mode){case"view":e.__oModel.setValue("title",t.sbo.localization.Helper.get("app/memo/MEMO")),e.$("[modetype='edit']").hide(),e.$("[modetype='view']").show(),e.$("[data-sap-class='copyflagview']").hide();break;case"edit":e.__oModel.setValue("title",t.sbo.localization.Helper.get("app/memo/MEMO")),e.$("[modetype='view']").hide(),e.$("[modetype='edit']").show(),"desktop"!=window.SboShell.__deviceType?(e.$().find("#press-talk").show(),e.$().find("#photo-pick").show(),e.$().find("#photo-album").show(),e.$("#uploadfile2").hide()):(e.$().find("#press-talk").hide(),e.$().find("#photo-pick").hide(),e.$().find("#photo-album").hide(),e.$("#uploadfile2").show());break;case"create":e.__oModel.setValue("title",t.sbo.localization.Helper.get("app/memo/NEWMEMO")),e.$("[modetype='view']").hide(),e.$("[modetype='edit']").show(),"desktop"!=window.SboShell.__deviceType?(e.$().find("#press-talk").show(),e.$().find("#photo-pick").show(),e.$().find("#photo-album").show(),e.$("#uploadfile2").hide()):(e.$().find("#press-talk").hide(),e.$().find("#photo-pick").hide(),e.$().find("#photo-album").hide(),e.$("#uploadfile2").show());break;default:e.$("[modetype='edit']").hide(),e.$("[modetype='view']").show()}},__fBeforeDialogClose:function(){},__fileSelected:function(t){e.__uploadFileName="",t&&(e.__uploadFileName=t.name)},__uploadFailed:function(){e.__uploadFileName="",window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/memo/UPLOADFAIL"))},updateAttachmentContainerWidth:function(e){var o=this,a=o.$("div[data-sfa-class='container']"),i=t.sbo.page.common.notepage.NotePageUtil.MemoDialogPadTileWidth,s=t.sbo.page.common.notepage.NotePageUtil.PadMemoDialogDimension.width;i*e>s-16?a.width(i*e):a.width(s-16)},__fTileOnClick:function(){e.__oCurrentTileModel=null,e.__oCurrentTileModel=$(this).getModel();var o=e.__oCurrentTileModel.getValue("attachmentId"),a=e.__oModel.getValue("page");if("view"===e.__mode){if(o){var i=e.__oCurrentTileModel.getValue("attachmentMimeType");window.SboShell.previewAttachment(e.getAttachmentOpenUrl(o),i)}}else $.when(window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/memo/REMOVEQUE"),"question",[{key:"no",text:t.sbo.localization.Helper.get("common/CANCEL")},{key:"yes",text:t.sbo.localization.Helper.get("common/DELETE")}])).done(function(t){if("yes"===t){a.pageAttachments=e.__remove(e.__oModel.getValue("page").pageAttachments,"attachmentId",e.__oCurrentTileModel.getValue("attachmentId"));var o=a.pageAttachments;e.__oModel.setValue("list",o),e.updateAttachmentContainerWidth(o.length),e.__oModel.setValue("page",a)}});return!1},__cancelBtnClicked:function(){e.closeFrame({result:!1})},__closeBtnClicked:function(){e.closeFrame({result:!1})},__editBtnClicked:function(){e.__setViewMode("edit")},__textAreaChange:function(e){var o=e.target,a=o.value;return a.length>t.sbo.page.common.notepage.NotePageUtil.MaxTextLength&&(o.value=a.substring(0,t.sbo.page.common.notepage.NotePageUtil.MaxTextLength),window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/memo/TEXTEXCEEDERR",t.sbo.page.common.notepage.NotePageUtil.MaxTextLength))),!1},__validateMemo:function(){var o=e.__oModel.getValue("page");return 0==o.pageAttachments.length&&""==o.text?(window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/memo/EMPTYERR")),!1):o.text.length>t.sbo.page.common.notepage.NotePageUtil.MaxTextLength?(window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/memo/TEXTEXCEEDERR",t.sbo.page.common.notepage.NotePageUtil.MaxTextLength)),!1):!0},__saveBtnClicked:function(){var o=e.$("#textarea").val();e.__oModel.getValue("page").text=o,e.__validateMemo()&&("create"==e.__mode?(t.util.showLoading(),$.when(e.__oService.createNotePage(e.__oModel.getValue("page"))).done(function(o){o&&(e.__noteID=o.id,e.__oModel.getValue("page").id=e.__noteID),t.sbo.page.common.notepage.NotePageUtil.handleSuccess("create"),e.closeFrame({result:!0})}).fail(function(e){e&&(window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/memo/CREATEFAIL")),e.processed())}).always(function(){t.util.hideLoading()})):(t.util.showLoading(),$.when(e.__oService.updateNotePage(e.__oModel.getValue("page"))).done(function(o){if(o){var a=o.pageAttachments;e.__oModel.setValue("list",a),e.__oModel.setValue("page",o)}t.sbo.page.common.notepage.NotePageUtil.handleSuccess("edit"),e.closeFrame({result:!0})}).fail(function(e){e&&(window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/memo/UPDATEFAIL")),e.processed())}).always(function(){t.util.hideLoading()})))},__deleteBtnClicked:function(){$.when(window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/memo/DELETECONFIRM"),"question",[{key:"no",text:t.sbo.localization.Helper.get("common/CANCEL")},{key:"yes",text:t.sbo.localization.Helper.get("common/DELETE")}])).done(function(o){"yes"===o&&(t.util.showLoading(),$.when(e.__oService.deleteNotePage(e.__oModel.getValue("page").id)).done(function(){t.sbo.page.common.notepage.NotePageUtil.handleSuccess("delete"),e.closeFrame({result:!0})}).fail(function(e){e&&(window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/memo/DELETEFAIL")),e.processed())}).always(function(){t.util.hideLoading()}))})},__convertSelected:function(t){var o=$(t.currentTarget).attr("key").trim();switch(o){case"1":e.__convertToActivity();break;case"2":e.__convertToContact();break;case"3":e.__convertToLead();break;case"4":e.__convertToOpportunity();break;default:}},__convertToContact:function(){var e=this;SboShell.openFrame({view:"sap.sbo.page.pad.Contact.ContactCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,options:{data:{BPcardCode:"",BPcardName:"",page:e.__page}},callback:function(o,a){switch(o){case"save":a&&$.when(e.__oService.moveToBO(e.__noteID,a)).done(function(){}).fail(function(e){e&&(window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/memo/CONVERTFAIL")),e.processed())}).always(function(){});break;default:}}})},__convertToOpportunity:function(){var e=this;SboShell.openFrame({view:"sap.sbo.page.pad.SalesOpportunity.CreationFrame2",type:"center-column",zindex:2e3,options:{data:{cardCode:"",cardName:"",page:e.__page}},callback:function(o,a){switch(o){case"save":a&&$.when(e.__oService.moveToBO(e.__noteID,a)).done(function(){}).fail(function(e){e&&(window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/memo/CONVERTFAIL")),e.processed())}).always(function(){});break;default:}}})},__convertToActivity:function(){var e=this;window.SboShell.openFrame({view:"sap.sbo.page.pad.task.taskDialog",type:"center",width:t.sbo.app.task.taskUtil.PadtaskDialogDimension.width,height:t.sbo.app.task.taskUtil.PadtaskDialogDimension.height,options:{taskID:"",page:e.__page},callback:function(t){switch(t){case"save":e.closeFrame({result:!0});break;default:}}})},__convertToLead:function(){var e=this;SboShell.openFrame({view:"sap.sbo.page.pad.Leads.LeadsCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,options:{data:{cardCode:"",cardName:"",page:e.__page}},callback:function(o,a){switch(o){case"save":a&&$.when(e.__oService.moveToBO(e.__noteID,a)).done(function(){}).fail(function(e){e&&(window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/memo/CONVERTFAIL")),e.processed())}).always(function(){});break;default:}}})},__uploadCompleted:function(t){var o;o=isNaN(t)?t.hash:t;var a=e.__oModel.getValue("page").pageAttachments,i=e.__oModel.getValue("page"),s=e.getAttachmentPreviewUrl(o,-1);a.push({attachmentId:o,attachmentFileName:e.__uploadFileName,previewUrl:s}),i.pageAttachments=a;var n=i.pageAttachments;e.__oModel.setValue("list",n),e.updateAttachmentContainerWidth(n.length),e.__oModel.setValue("page",i),e.$('div[data-sfa-class="memoattachment"]').scrollLeft(9999999)}})},destroy:function(){},initView:function(){var o=$.Deferred();this.__noteID=this.getOption("noteID"),this.__mode=this.getOption("mode"),this.__boEntityKey=this.getOption("bo"),this.__oService.setBoEntityKey(this.__boEntityKey);var a=this;return this.$().on("vclick",'div[data-sfa-class="tile"]',this.__fTileOnClick),this.$().setModel(this.__oModel),this.$().process(e),o.resolve(),this.$("#textarea").on("input",this.__textAreaChange),this.$("div[id='editBtn']").on("vclick",this.__editBtnClicked),this.$("div[id='deleteBtn']").on("vclick",this.__deleteBtnClicked),this.$("div[id='convertBtn']").on("vclick",this.__convertBtnClicked),this.$("div[id='saveBtn']").on("vclick",this.__saveBtnClicked),this.$("div[id='cancelBtn']").on("vclick",this.__cancelBtnClicked),this.$("div[id='closeBtn']").on("vclick",this.__closeBtnClicked),$("#convertList").getControl().attachEvent("onSelected",a.__convertSelected),this.$().on("vclick","img[data-sfa-class='copyflagicon']",function(){var e=(t.sbo.localization.Helper.get("app/memo/COPYFLAG"),t.sbo.localization.Helper.get("app/memo/COPYFLAGINFO")),o=t.ui.common.getStaticContainer(),a=$(this).parent().innerWidth(),i=$("<div>").css({position:"absolute",top:0,left:0,right:0,bottom:0,"z-index":2e3}),s=$(this).position().top+$(this).outerHeight()+40,n=$(this).position().left-90,r=$("<div>").text(e).addClass("sbo-metadata-list-property-descrition").css({position:"absolute",top:s,left:n,"line-height":"20px",width:a,"z-index":2001,display:"none"});o.append(i),$(this).parent().append(r),r.fadeIn(400),i.on("vclick",function(){r.fadeOut(400,function(){r.remove(),i.remove()})})}),this.$('div[data-sfa-class="container"]').getControl().attachEvent("afterUpdate",this.__fNotePageRendered),this.$("#uploadfile2").getControl().attachEvent("uploadComplete",a.__uploadCompleted),this.$("#uploadfile2").getControl().attachEvent("fileSelected",a.__fileSelected),this.$().find("#press-talk").getControl().attachEvent("uploadComplete",this.__uploadCompleted),this.$().find("#photo-pick").getControl().attachEvent("uploadComplete",this.__uploadCompleted),this.$().find("#photo-album").getControl().attachEvent("uploadComplete",this.__uploadCompleted),this.$("#press-talk").getControl().attachEvent("uploadFailed",this.__uploadFailed),this.$().find("#photo-pick").getControl().attachEvent("uploadFailed",this.__uploadFailed),this.$().find("#photo-album").getControl().attachEvent("uploadFailed",this.__uploadFailed),this.$("#uploadfile2").getControl().attachEvent("uploadFailed",this.__uploadFailed),"User"!=this.__boEntityKey.boName&&this.$("div[id='convertBtn']").remove(),"BusinessPartner"!=this.__boEntityKey.boName&&this.$("div[data-sfa-class='copyflag']").remove(),a.__setViewMode(a.__mode),o.promise()},destroyView:function(){this.$("#textarea").off("input",this.__textAreaChange);var e=this.$('div[data-sfa-class="container"]');e&&e.length>0&&e.getControl().detachEvent("afterUpdate",this.__fNotePageRendered),this.$("div[id='editBtn']").off("vclick",this.__editBtnClicked),this.$("div[id='deleteBtn']").off("vclick",this.__deleteBtnClicked),this.$("div[id='convertBtn']").off("vclick",this.__convertBtnClicked),this.$("div[id='saveBtn']").off("vclick",this.__saveBtnClicked),this.$("div[id='cancelBtn']").off("vclick",this.__cancelBtnClicked),this.$("div[id='closeBtn']").off("vclick",this.__closeBtnClicked),$("#convertList").getControl().detachEvent("onSelected",this.__convertSelected),$("#convertList").getControl().destroy(),$("#convertList").remove(),this.$("#uploadfile2").getControl().detachEvent("uploadComplete",this.__uploadCompleted),this.$("#uploadfile2").getControl().detachEvent("fileSelected",this.__fileSelected),this.$().find("#press-talk").getControl().detachEvent("uploadComplete",this.__uploadCompleted),this.$().find("#photo-pick").getControl().detachEvent("uploadComplete",this.__uploadCompleted),this.$().find("#photo-album").getControl().detachEvent("uploadComplete",this.__uploadCompleted),this.$("#press-talk").getControl().detachEvent("uploadFailed",this.__uploadFailed),this.$().find("#photo-pick").getControl().detachEvent("uploadFailed",this.__uploadFailed),this.$().find("#photo-album").getControl().detachEvent("uploadFailed",this.__uploadFailed),this.$("#uploadfile2").getControl().detachEvent("uploadFailed",this.__uploadFailed),this.$().off("vclick",'div[data-sfa-class="tile"]',this.__fTileOnClick),this.__oService.setBoEntityKey(null),this.__boEntityKey=null,this.__oService=null,this.$().unprocess(),this.__oCurrentTileModel&&(this.__oCurrentTileModel=null),this.__oConvertDialogModel&&this.__oConvertDialogModel.destroy(),this.__oModel.destroy(),this.__oModel=null},update:function(e){e.noteID&&this.__refreshNotePage()}},Protected:{__destroyDialog:function(){},getAttachmentPreviewUrl:function(e,o){if("-1"==e+"")return"";var a=window.SboShell.getData("tenantID");return o>0?t.sbo.services.BaseService.documentbase+"file/thumbnail?id="+e+"&boEntityKey="+JSON.stringify(this.__boEntityKey)+"&targetType=Page&targetId="+o+"&tenantID="+a:t.sbo.services.BaseService.documentbase+"file/previewThumbnail/"+e+"?tenantID="+a},getAttachmentOpenUrl:function(e){var o=this;if("-1"==e+"")return"";var a=window.SboShell.getData("tenantID");return t.sbo.services.BaseService.documentbase+"file/open?id="+e+"&boEntityKey="+JSON.stringify(this.__boEntityKey)+"&targetType=Page&targetId="+o.__noteID+"&tenantID="+a},__refreshNotePage:function(){window.SboShell;var o=this;if(t.util.showLoading(),"create"!==this.__mode)$.when(this.__oService.retrieveNotePage(o.__noteID)).done(function(a){if(a){o.__noteID=a.id,o.__page=a;var i=a.pageAttachments;$.each(i,function(e,t){t.previewUrl=o.getAttachmentPreviewUrl(t.attachmentId,o.__noteID)}),o.__oModel.setValue("list",i),o.updateAttachmentContainerWidth(i.length),o.__oModel.setValue("page",a);var s=t.sbo.page.common.notepage.NotePageUtil.convertAtContent(a.toAnalyzeFunction,o.__page.text);o.__oModel.setValue("richMediaText",s.text),o.__oModel.setValue("richTextTargets",s.richTextTargets),o.__oModel.getValue("page").copyFlag&&"view"==o.__mode&&o.$("div[data-sap-class='copyflagview']").show(),o.$().process(e)}}).fail(function(e){e&&(window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/memo/LOADFAIL")),e.processed())}).always(function(){t.util.hideLoading()});else{var a=o.__page.pageAttachments;o.__oModel.setValue("list",a),o.updateAttachmentContainerWidth(a.length),o.__oModel.setValue("page",o.__page),t.util.hideLoading()}}},Static:{}})}),define("sap.sbo.page.pad.notepage.NotePageList",["sap.core.klass","sap.ui.Controller","sap.log","sap.util","sap.core.ArrayListSource","sap.core.GuardedTimer","sap.core.JsonModel","sap.sbo.layout.pad.ListLayout","sap.core.ArrayListSource","sap.sbo.services.NotePageService","sap.sbo.util.AjaxListSource","sap.sbo.page.common.notepage.NotePageListSource","sap.sbo.page.common.notepage.NotePageUtil","sap.sbo.localization.Helper","sap.ui.widget.Icon","sap.sbo.app.task.taskUtil","css!sap.sbo.page.pad.notepage.NotePageList"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,Options:{bo:{}},Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments);var e=this;t.core.klass.declareMember(this,{__oModel:new t.core.JsonModel({direction:"",emptyInfo:[t.sbo.localization.Helper.get("app/memo/EMPTYINFO1"),t.sbo.localization.Helper.get("app/memo/EMPTYINFO2"),t.sbo.localization.Helper.get("app/memo/EMPTYINFO3")],notepages:{value:[]}}),__oService:new t.sbo.services.NotePageService,__boEntityKey:null,__bToAdd:!1,__$dialog:null,__$addButton:null,__oCurrentTileModel:null,__iNotePageCount:0,__detailViewInfo:"sap.sbo.page.pad.notepage.NotePageDialog",_oArraySource:[],__fTileOnClick:function(){e.__oCurrentTileModel=null,e.__oCurrentTileModel=$(this).getModel();var t=e.__oCurrentTileModel.getValue("id");console.log(t),e.__openNotePageDialog(t,"view")},__fActionButtonClicked:function(t){switch(t){case"key_add_notepage":e.__openNotePageDialog("","create");break;default:}},__createNotePageDialog:function(){e.__openNotePageDialog("","create")},__openNotePageDialog:function(o,a){e.__$dialog=window.SboShell.openFrame({view:e.__detailViewInfo,type:"center",width:t.sbo.page.common.notepage.NotePageUtil.PadMemoDialogDimension.width,height:t.sbo.page.common.notepage.NotePageUtil.PadMemoDialogDimension.height,options:{noteID:o,bo:e.__boEntityKey,mode:a},callback:function(t,o){"close"===t&&o&&o.result&&e.__fBeforeDialogClose()}})},__fBeforeDialogClose:function(){e.__refreshNotePages()}})},destroy:function(){},initView:function(){var o=$.Deferred();window.SboShell;var a=this;this.__boEntityKey=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo").storeParam.bo,window.SboShell.storeData("notePageList.boEntityKey",JSON.stringify(this.__boEntityKey)),this.$().on("vclick",'div[data-sfa-class="tile"]',this.__fTileOnClick);var i=t.sbo.page.common.notepage.NotePageUtil.getEmptyInfo(this.__boEntityKey.boName);return this.$().setModel(this.__oModel),this.__oModel.setValue("emptyInfo",i),this.__refreshNotePages(),this.$().process(e),o.resolve(),window.SboShell.attachEvent("actionButtonClick",this.__fActionButtonClicked),window.SboShell.addActionButtons([{text:t.sbo.localization.Helper.get("app/memo/CREATE"),key:"key_add_notepage"}],this),this.$('div[data-sfa-class="container"]').getControl().attachEvent("create",a.__createNotePageDialog),o.promise()},destroyView:function(){window.SboShell.detachEvent("actionButtonClick",this.__fActionButtonClicked),window.SboShell.removeData("notePageList.boEntityKey"),this.$('div[data-sfa-class="container"]').getControl().detachEvent("create",this.__createNotePageDialog),this.__destroyDialog(),this.$().off("click",'div[data-sfa-class="tile"]',this.__fTileOnClick),this.$().unprocess(),this.__oCurrentTileModel&&(this.__oCurrentTileModel=null),this.__oService.resetBoEntityKey(),this.__oModel.destroy(),this.__oModel=null},update:function(e){e.data&&this.__refreshNotePages()}},Protected:{__destroyDialog:function(){this.__$dialog&&(this.__$dialog=null)},__refreshNotePages:function(){this.__boEntityKey=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo").storeParam.bo;var e=new t.sbo.page.common.notepage.NotePageListSource(this.__boEntityKey);this.__oModel.setValue("list",e),e.getCount()}},Static:{}})}),define("sap.sbo.page.pad.Product.PriceListEdit",["sap.sbo.page.pad.SubBoMetadataView","sap.ui.Controller","sap.sbo.services.ItemsService","sap.sbo.util.formatter","sap.sbo.localization.Helper","css!sap.sbo.page.pad.Product.PriceListEdit"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.pad.SubBoMetadataView,Options:{},Public:{init:function(){t.sbo.page.pad.SubBoMetadataView.prototype.init.apply(this,arguments),this.declareMember({__mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo")}),this.__oService=this.autoDestroy(new t.sbo.services.ItemsService)},destroy:function(){},initView:function(){var o=$.Deferred();return $.when(t.sbo.page.pad.SubBoMetadataView.prototype.initView.call(this,e)).done(function(){o.resolve(),$(window).on("resize",this.__oDestroyPool.add(this.itemsPosUpdate.bind(this,this.__oLoop),function(){$(window).off("resize",this)}))}.bind(this)).fail(function(e){window.SboShell.raiseException(e),o.reject(e)}),o.promise()},destroyView:function(){t.sbo.page.pad.SubBoMetadataView.prototype.destroyView.call(this)},update:function(){t.sbo.page.pad.SubBoMetadataView.prototype.update.apply(this,arguments)},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"Item",keyElements:this.__mViewInfo.storeParam}},getSubNodeName:function(){return"ItemPrice"},getSubNodeBindPath:function(){return"itemPrices"},getIgnoredProperty:function(){return["priceList","itemCode","currency","additionalPrice1","additionalCurrency1","additionalPrice2","additionalCurrency2","PriceListName"]},getTitle:function(e,o){return o+" "+t.sbo.localization.Helper.get("app/product/PRICES")},getSubTitle:function(e){return e.itemName},isNewCreateEnabled:function(){return!1},itemsPosUpdate:function(e){for(var t=e.$().height(),o=0,a=0,i=400,s=20,n=0;e.__items.length>n;++n){var r=e.__items[e.__items.length-n-1].$;a*(i+s)+i>t&&(a=0,++o),r.css({top:a*(i+s),width:this.__itemWidth,height:i,left:o*(this.__itemWidth+this.__itemPadding)}),++a}e.$().css("width",(o+1)*(this.__itemWidth+this.__itemPadding)-this.__itemPadding)}},Protected:{}})}),define("sap.sbo.page.pad.Product.ProductCardView",["sap.core.JsonModel","sap.log","sap.util","sap.ui.MessageBox","sap.ui.Controller","sap.sbo.services.ItemsService","sap.sbo.services.BaseService","sap.sbo.util.AjaxListSource","sap.sbo.layout.pad.ListLayout","sap.sbo.page.BaseBoListViewController","sap.sbo.ui.widget.ListManipulator","sap.sbo.localization.Helper","sap.sbo.ui.widget.MultipleValueHelp","sap.sbo.page.pad.DataMigrationMenuButtonUtil","sap.core.DestroyPool","sap.ui.widget.Photo","sap.sbo.page.common.oppUtil","sap.sbo.util.formatter","json!sap.sbo.page.common.listFilters.Product","json!sap.sbo.util.enums","css!sap.sbo.page.pad.boListView"],function(){"use strict";var e=this.getNS(),t=e.sap,o=e.json.sap.sbo.util.enums.bool;return e.formatter={integer_string:function(e,t){return"<<"===t?e?""+e:"":e}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.BaseBoListViewController,Public:{init:function(){t.sbo.page.BaseBoListViewController.prototype.init.apply(this,arguments),this.declareMember({__oModel:this.autoDestroy(new t.core.JsonModel({headervisible:void 0!==window.isPhone?"none":""})),__oService:this.autoDestroy(new t.sbo.services.ItemsService),__oListSource:null,_onActionButtonClickProxy:$.proxy(this._onActionButtonClickHandler,this),__oDataMigration:null,__oDestroy:new t.core.DestroyPool}),this.__oListSource=this.autoDestroy(new t.sbo.util.AjaxListSource(this.__oService)),window.SboShell.attachEvent("actionButtonClick",this._onActionButtonClickProxy)},destroy:function(){window.SboShell.detachEvent("actionButtonClick",this._onActionButtonClickProxy)},getMainControl:function(){return this.$(".sbo-list-layout")},initView:function(){var a=this,i=$.Deferred();return $.when(t.sbo.page.BaseBoListViewController.prototype.initView.call(this)).done(function(){var s=new t.core.JsonModel({headervisible:void 0!==window.isPhone?"none":""});a.$().setModel(s),a.$().process(e),a.canQuery()&&(a.$().control({'[data-id="listView"]':{emptyTexts:[t.sbo.localization.Helper.get("app/product/PURPOSE"),t.sbo.localization.Helper.get("app/product/USAGE"),"desktop"===window.SboShell.callFeatureMethod("shell.getDeviceType")?t.sbo.localization.Helper.get("app/product/C_CREATE"):t.sbo.localization.Helper.get("app/product/TO_CREATE")],source:a.__oListSource,listener:{create:function(){SboShell.openFrame({view:"sap.sbo.page.pad.Product.ProductCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,callback:function(){}})},itemClick:function(){},requestFailed:function(e){window.SboShell.raiseException(e)},requestDone:function(e){a.setTitle({title:1==e.count?t.sbo.localization.Helper.get("app/document/PRODUCT"):t.sbo.localization.Helper.get("common/PRODUCT_NAME"),subTitle:""}),SboShell.setHeaderCount(e.count)},modelCreated:function(e){e.setValue("IsActive","YES"),e.setValue("Image",{url:"./image/common/no-pic.png"}),e.setValue("Image",{showImg:"NO"});var a=e.getValue("productImageId"),i=e.getValue("itemCode");if(a>0){e.setValue("Image",{showImg:"YES"});var s=t.sbo.util.formatter.getURL("Item","itemCode",i,a);e.setValue("Image",{url:s})}var n=e.getValue("isActive");n===o.No&&e.setValue("IsActive","NO")}}}}),a.$().on("vclick",".item",function(e){var t=$(e.target).findModel();window.SboShell.gotoView("sap.sbo.page.pad.Product.ProductHome",[{keyName:"itemCode",keyValue:t.getValue("itemCode")}])})),a.canCreate()&&window.SboShell.addActionButtons([{key:"create",text:t.sbo.localization.Helper.get("app/product/CREATE")}],a),$.when(a.__oService.count()).done(function(e){a.__oDataMigration=a.__oDestroy.add(new t.sbo.page.pad.DataMigrationMenuButtonUtil({datatype:"SFAItem",view:"sap.sbo.page.pad.Product.ProductCardView",count:e}))}),i.resolve()}).fail(function(e){window.SboShell.raiseException(e),i.reject(e)}),i.promise()},destroyView:function(){this.__oDestroy.destroy(),t.sbo.page.BaseBoListViewController.prototype.destroyView.call(this),this.$().unprocess()},update:function(){},getService:function(){return this.__oService},getBoNameEntity:function(){return{boNamespace:"com.sap.sbo",boName:"Item"}},getListSource:function(){return this.__oListSource},getProcessContext:function(){return e},getQuickFilters:function(){if(e&&e.json&&e.json.sap&&e.json.sap.sbo&&e.json.sap.sbo.page&&e.json.sap.sbo.page.common&&e.json.sap.sbo.page.common.listFilters&&e.json.sap.sbo.page.common.listFilters.Product){var o=e.json.sap.sbo.page.common.listFilters.Product,a={};for(var i in o)a[i]={},a[i].expr=o[i],a[i].label=t.sbo.localization.Helper.get("app/product/"+i),a[i].description=a[i].label;return a}return{}}},Protected:{_onActionButtonClickHandler:function(e){switch(e){case"create":SboShell.openFrame({view:"sap.sbo.page.pad.Product.ProductCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,callback:function(){}})}}}})}),define("sap.sbo.page.pad.Product.ProductCreation",["sap.ui.Controller","sap.sbo.page.pad.BoMetadataCreationFrameController","sap.sbo.layout.pad.MetadataList","sap.sbo.services.ItemsService","sap.sbo.services.ItemGroupsService","sap.sbo.services.ManufacturersService","sap.sbo.ui.widget.BoStatus","sap.ui.widget.TextField","sap.ui.widget.TextArea","sap.sbo.ui.widget.DateTimeField","sap.sbo.util.formatter","sap.ui.widget.Button","sap.util","sap.core.JsonModel","sap.ui.widget.ValueHelpField","sap.ui.widget.DropDownBox","sap.sbo.localization.Helper","css!sap.sbo.app.template.EditProperty","css!sap.sbo.app.template.DynamicProperty"],function(){"use strict";var e=this.getNS(),t=e.sap,o=t.sbo.page.pad.BoMetadataCreationFrameController;return e.formatter={convertEmtpyNull:function(e,t){return"<<"===t?null===e?"":e:">>"===t?""===e?null:e:void 0}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:o,Public:{init:function(){o.prototype.init.apply(this,arguments),this.declareMember({_oService:new t.sbo.services.ItemsService,__oListModel:this.autoDestroy(new t.core.JsonModel({itemgroups:[],manufacturers:[]})),__oItemGroupListService:this.autoDestroy(new t.sbo.services.ItemGroupsService),__oManufacturersListService:this.autoDestroy(new t.sbo.services.ManufacturersService)})},destroy:function(){this._oService.destroy()},initView:function(){var e=$.Deferred(),a=this;return a.$().setModel(a.__oListModel,"list"),$.when(o.prototype.initView.call(this)).done(function(){$.when(this.__oItemGroupListService.query(),this.__oManufacturersListService.query()).done(function(t,o){a.__oListModel.setValue("itemgroups",t.value),a.__oListModel.setValue("manufacturers",o.value),null!=t.value[0]&&a._oMetadataValueModel.setValue("itemsGroupCode",t.value[0].number),null!=o.value[0]&&a._oMetadataValueModel.setValue("manufacturer",o.value[0].code),e.resolve()}).fail(function(t){e.reject(t)}),this.$().control({'[ctrl="btnSaveOpen"]':{listener:{click:function(){t.util.showLoading(),$.when(a.boCreate()).done(function(e){window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/PRODUCT_CREATE_SUCCESSFUL"),"success"),window.SboShell.gotoView("sap.sbo.page.pad.Product.ProductHome",[{keyName:"itemCode",keyValue:e.itemCode}])}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()})}}},'[ctrl="btnCancel"]':{listener:{click:function(){a.callShell("close")}}}})}.bind(this)),e.promise()},destroyView:function(){o.prototype.destroyView.call(this)},update:function(){o.prototype.update.apply(this,arguments)},getMainControl:function(){return this.$("[ctrl='main']").getControl()},getBoType:function(){return{boNamespace:"com.sap.sbo",boName:"Item"}},getService:function(){return this._oService},process:function(){this.$().process(e)},boValidate:function(){},getInitBo:function(){var e=$.Deferred();return $.when(this.getService().getInit()).done(function(t){t.itemCode="",e.resolve(t)}).fail(function(){e.reject(ex)}),e.promise()}},Protected:{}})}),define("sap.sbo.page.pad.Product.ProductEdit",["css!sap.sbo.app.template.EditProperty","sap.core.klass","sap.ui.Controller","sap.sbo.layout.pad.MetadataLayout","sap.core.JsonModel","sap.ui.widget.TextField","sap.sbo.services.ItemsService","sap.sbo.services.ItemGroupsService","sap.sbo.services.ManufacturersService","sap.sbo.services.ShippingTypesService","sap.sbo.services.VatGroupsService","sap.sbo.page.pad.BoMetadataEditController","sap.ui.widget.TextArea","sap.sbo.ui.widget.DateTimeField","sap.sbo.util.formatter","sap.util","sap.sbo.ui.widget.BoStatus","sap.ui.widget.Photo","sap.ui.widget.Checkbox","sap.sbo.util.formatter","sap.ui.widget.DropDownBox","json!sap.sbo.util.enums","sap.sbo.localization.Helper","css!sap.sbo.page.pad.boEdit"],function(){"use strict";
var e=this.getNS(),t=e.sap,o=e.json.sap.sbo.util.enums.bool;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.pad.BoMetadataEditController,Public:{init:function(){t.sbo.page.pad.BoMetadataEditController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{_oService:new t.sbo.services.ItemsService,_mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),__oListModel:this.autoDestroy(new t.core.JsonModel({itemgroups:[],manufacturers:[],shipType:[],vatGroup:[]})),__oItemGroupListService:this.autoDestroy(new t.sbo.services.ItemGroupsService),__oManufacturersListService:this.autoDestroy(new t.sbo.services.ManufacturersService),__oShippingTypesService:this.autoDestroy(new t.sbo.services.ShippingTypesService),__oListVatService:this.autoDestroy(new t.sbo.services.VatGroupsService)})},destroy:function(){this._oService.destroy()},initView:function(){var e=$.Deferred(),a=this;return a.$().setModel(a.__oListModel,"list"),$.when(t.sbo.page.pad.BoMetadataEditController.prototype.initView.call(this),this.__oItemGroupListService.query(),this.__oManufacturersListService.query(),this.__oShippingTypesService.query(),this.__oListVatService.query()).done(function(e,i,s,n,r){a.setTitle(t.sbo.localization.Helper.get("app/BASIC")),a.__oListModel.setValue("itemgroups",i.value),a.__oListModel.setValue("manufacturers",s.value),a.__oListModel.setValue("shipType",n.value),a.__oListModel.setValue("vatGroup",r.value),a.$().on("vclick",".changeStatus",function(){var e=a._oMetadataValueModel.getValue("isActive");e===o.Yes?a._oMetadataValueModel.setValue("isActive",o.No):a._oMetadataValueModel.setValue("isActive",o.Yes)})}).fail(function(t){window.SboShell.raiseException(t),e.reject(t)}).always(function(){e.resolve()}),e.promise()},destroyView:function(){window.SboShell.detachEvent("actionButtonClick",this._fnButtonProxy),this.$().unprocess(),t.sbo.page.pad.BoMetadataEditController.prototype.destroyView.call(this)},update:function(){},getMainControl:function(){return this.$("[ctrl='main']").getControl()},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"Item",keyElements:this._mViewInfo.storeParam}},getService:function(){return this._oService},process:function(){this.$().process(e)}},Protected:{}})}),define("sap.sbo.page.pad.Product.ProductHome",["sap.core.JsonModel","sap.ui.Controller","sap.log","sap.ui.widget.TextField","sap.sbo.layout.pad.AdvancedTilesLayout","sap.sbo.layout.TileView","sap.sbo.ui.widget.UploadButton","sap.ui.widget.Button","sap.sbo.services.BaseService","sap.sbo.services.ItemsService","sap.sbo.page.pad.BoHomeController","sap.sbo.app.network.RelatedTile","sap.sbo.shell.IFeaturable","sap.ui.Repeat","sap.ui.widget.Photo","sap.sbo.layout.pad.MetadataRaw","sap.sbo.util.metadataHelper","css!sap.sbo.app.template.GeneralProperty","html!sap.sbo.app.template.DynamicProperty","css!sap.sbo.app.template.DynamicProperty","css!sap.sbo.app.template.EditProperty","css!sap.sbo.app.template.TileProperty","sap.sbo.localization.Helper","json!sap.sbo.util.enums","sap.sbo.util.formatter","css!sap.sbo.page.pad.Product.ProductHome"],function(){"use strict";var e=this.getNS(),t=e.sap,o=e.json.sap.sbo.util.enums.bool;return e.formatter={isActive:function(e){return e===o.Yes?t.sbo.localization.Helper.get("app/appr/ACTIVE"):t.sbo.localization.Helper.get("app/appr/INACTIVE")},isActive_pic:function(e){return e===o.Yes?"<img src='./image/SalesOrder/lights_done.png'>":"<img src='./image/SalesOrder/lights_cancelled.png'>"}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.pad.BoHomeController,Interfaces:[t.sbo.shell.IFeaturable],Public:{init:function(){t.sbo.page.pad.BoHomeController.prototype.init.apply(this,arguments),this.declareMember({__oItemService:this.autoDestroy(new t.sbo.services.ItemsService),_mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),__oModel:this.autoDestroy(new t.core.JsonModel({Image:{url:"./image/common/no-pic.png"}})),__ItemCode:null}),this.__ItemCode=this.convertBoKey(this._mViewInfo.storeParam).itemCode},destroy:function(){},getService:function(){return this.__oItemService},initView:function(){var o=$.Deferred(),a=this;return $.when(t.sbo.page.pad.BoHomeController.prototype.initView.apply(this,arguments)).done(function(i){var s=i,n={};n.itemCode=a.__ItemCode,$.when(a.__oItemService.get(n)).done(function(i){if(a.__oModel.setValue("",i),i.productImageId>0){var n=t.sbo.util.formatter.getURL("Item","itemCode",a.__ItemCode,i.productImageId);a.__oModel.setValue("Image",{url:n})}for(var r=0;i.itemPrices[r];r++)i.itemPrices[r].seqNo=r+1,i.itemPrices[r].inventoryUOM=i.inventoryUOM;a.$().setModel(a.__oModel),window.SboShell.addFeature(a,"relatedFilter.BOkey","method"),a.autoDestroy("remove the realted filter",window.SboShell.removeFeature.bind(window.SboShell,"relatedFilter.BOkey")),a.$().process(e),a.setTitle({subTitle:t.sbo.localization.Helper.get("app/document/PRODUCT"),title:a.__oModel.getValue("itemName")}),a.$().control({"[ctrl='layout']":{listener:{afterProcess:function(){var o=t.sbo.util.metadataHelper.convert(s);a.$("[field='basicInfo']").getControl().setOption({metadata:o.properties,enumMeta:o.enumTypes,dynamicMeta:t.sbo.util.metadataHelper.convertDynamicMeta(i["sbo.dynamicmeta"]).properties,propertyTemplate:e.html.sap.sbo.app.template.DynamicProperty,readonly:!0})}}}}),o.resolve()}).fail(function(e){window.SboShell.raiseException(e),o.reject(e),window.SboShell.backView()}),a.$().on("vclick",'[field="basicInfo"]',function(e){var t=$(e.target).findModel(),o=t.getValue("");window.SboShell.gotoView("sap.sbo.page.pad.Product.ProductEdit",[{keyName:"itemCode",keyValue:o.itemCode}])}),a.$().on("vclick",'[field="saledata"]',function(e){var t=$(e.target).findModel(),o=t.getValue("");window.SboShell.gotoView("sap.sbo.page.pad.Product.ProductEdit",[{keyName:"itemCode",keyValue:o.itemCode}])}),a.$().on("vclick",'[uuid="logo"]',function(e){window.SboShell.openFrame({view:"sap.sbo.app.BOProfile.ProfileDetails",type:"center",width:640,height:480,options:{userID:a.__ItemCode,boName:a.getBoKeyEntity().boName},callback:function(e,t){"refreshAvatar"==e&&t&&a.__oModel.setValue("Image/url",t)}}),e.stopPropagation()}),a.$().on("vclick",'[field="pricelist"]',function(){window.SboShell.gotoView("sap.sbo.page.pad.Product.PriceListEdit",a._mViewInfo.storeParam)})}),o.promise()},destroyView:function(){t.sbo.page.pad.BoHomeController.prototype.destroyView.apply(this,arguments),this.$().unprocess()},update:function(){},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"Item",keyElements:[{keyName:"itemCode",keyValue:this.__ItemCode}]}},doFeature:function(e){if("relatedFilter.BOkey"===e){var o=this.__oModel.getValue("");return{key:"itemCode",value:o.itemCode}}return t.sbo.page.pad.BoHomeController.prototype.doFeature.apply(this,arguments)}}})}),define("sap.sbo.page.pad.SalesOpportunitySetting.EditReasonsSetting",["sap.ui.Controller","sap.core.klass","sap.core.JsonModel","sap.ui.View","sap.ui.widget.Checkbox","sap.ui.widget.Icon","sap.sbo.shell.IFeaturable","sap.sbo.shell.IViewHistoryRecordable","sap.core.klass","sap.ui.widget.TextField","sap.sbo.ui.FrameViewController","sap.ui.widget.Button","sap.log","sap.ui.widget.TextField","sap.sbo.ui.widget.DecimalInputField","sap.ui.widget.Button","sap.ui.widget.Checkbox","css!sap.sbo.page.pad.SalesOpportunitySetting.EditSalesStagesSetting"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={ConvertBetweenStringAndInteger:function(e,t){return"<<"==t?""+e:parseInt(e)}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,Interfaces:[t.sbo.shell.IViewHistoryRecordable],ControllerBase:t.sbo.ui.FrameViewController,Options:{ServerData:{type:"any"}},Public:{init:function(){t.sbo.ui.FrameViewController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{__oModel:new t.core.JsonModel({})})},destroy:function(){this.__oModel.destroy()},initView:function(){var o=$.Deferred(),a=this.getAllOptions().ServerData;return this.__oModel=new t.core.JsonModel(a.ServerData),this.$().setModel(this.__oModel),this.$().process(e),o.resolve(),this.__addEvent(),o.promise()},destroyView:function(){this.$().unprocess()},update:function(){},shouldBeRecorded:function(){return!1}},Protected:{__addEvent:function(){var e=this;this.$().control({"#reasonsSave":{listener:{click:function(){e.callShell("save",e.__oModel)}}},"#reasonsCancel":{listener:{click:function(){e.callShell("cancel")}}}})}},Static:{}})}),define("sap.sbo.page.pad.SalesOpportunitySetting.EditSalesStagesSetting",["sap.ui.Controller","sap.util","sap.core.klass","sap.core.JsonModel","sap.ui.View","sap.ui.widget.Checkbox","sap.ui.widget.Icon","sap.sbo.shell.IFeaturable","sap.core.klass","sap.ui.widget.TextField","sap.sbo.ui.FrameViewController","sap.ui.widget.Button","sap.log","sap.ui.widget.TextField","sap.ui.widget.Button","sap.ui.widget.Checkbox","css!sap.sbo.page.pad.SalesOpportunitySetting.EditSalesStagesSetting"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Options:{ServerData:{type:"any"}},Public:{init:function(){t.sbo.ui.FrameViewController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{__oModel:new t.core.JsonModel({})})},destroy:function(){this.__oModel.destroy()},initView:function(){var o=$.Deferred(),a=this.getAllOptions().ServerData;return this.__oModel=new t.core.JsonModel(a.ServerData),this.$().setModel(this.__oModel),this.$().process(e),o.resolve(),this.__addEvent(),o.promise()},destroyView:function(){this.$().unprocess()},update:function(){}},Protected:{__addEvent:function(){var e=this;this.$().control({"#salesStagesSave":{listener:{click:function(){t.util.showLoading(),e.callShell("save",e.__oModel)}}},"#salesStagesCancel":{listener:{click:function(){e.callShell("cancel")}}}})}},Static:{}})}),define("sap.sbo.page.pad.SalesOpportunitySetting.EditSourcesSetting",["sap.ui.Controller","sap.core.klass","sap.core.JsonModel","sap.ui.View","sap.ui.widget.Checkbox","sap.ui.widget.Icon","sap.sbo.shell.IFeaturable","sap.core.klass","sap.ui.widget.TextField","sap.sbo.ui.FrameViewController","sap.ui.widget.Button","sap.log","sap.sbo.shell.IViewHistoryRecordable","sap.ui.widget.TextField","sap.sbo.ui.widget.DecimalInputField","sap.ui.widget.Button","sap.ui.widget.Checkbox","css!sap.sbo.page.pad.SalesOpportunitySetting.EditSalesStagesSetting"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Options:{ServerData:{type:"any"}},Interfaces:[t.sbo.shell.IViewHistoryRecordable],Public:{init:function(){t.sbo.ui.FrameViewController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{__oModel:new t.core.JsonModel({})})},destroy:function(){this.__oModel.destroy()},initView:function(){var o=$.Deferred(),a=this.getAllOptions().ServerData;return this.__oModel=new t.core.JsonModel(a.ServerData),this.$().setModel(this.__oModel),this.$().process(e),o.resolve(),this.__addEvent(),o.promise()},destroyView:function(){this.$().unprocess()},update:function(){},shouldBeRecorded:function(){return!1}},Protected:{__addEvent:function(){var e=this;this.$().control({"#reasonsSave":{listener:{click:function(){e.callShell("save",e.__oModel)}}},"#reasonsCancel":{listener:{click:function(){e.callShell("cancel")}}}})}},Static:{}})}),define("sap.sbo.page.pad.SalesOpportunitySetting.ReasonsSettingTile",["sap.sbo.localization.Helper","sap.ui.widget.Icon","sap.core.klass","sap.log","sap.core.JsonModel","sap.ui.View","sap.ui.Controller","sap.sbo.services.SystemService","sap.core.ArrayListSource","sap.sbo.ui.PageController","sap.sbo.services.SalesOpportunityReasonSetupsService","sap.sbo.shell.IFeaturable","sap.ui.widget.Icon","sap.ui.MessageBox","sap.sbo.util.AjaxListSource","sap.sbo.layout.pad.ListLayout","json!sap.sbo.util.enums","css!sap.sbo.page.pad.SalesOpportunitySetting.SalesStagesSettingTile"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.json.sap.sbo.util.enums.bool,e.formatter={convertLongDescription:function(e){return e.length>16?e.slice(0,16)+"...":e}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,Interfaces:[t.sbo.shell.IFeaturable],ControllerBase:t.sbo.ui.PageController,Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{__oModel:this.autoDestroy(new t.core.JsonModel({})),__oService:this.autoDestroy(new t.sbo.services.SalesOpportunityReasonSetupsService)});var e=this,o=function(t){e["onKey"+t]()};SboShell.attachEvent("actionButtonClick",o),this.autoDestroy("detach actionButtonClick",function(){SboShell.detachEvent("actionButtonClick",o)})},onKeyAdd:function(){var e={ServerData:{method:"add",sequenceNo:"",description:"",sort:""}};this.__openFrame(e)},destroy:function(){},initView:function(){var o=$.Deferred(),a=this;this.$().process(e);var i=[{text:t.sbo.localization.Helper.get("common/ADD"),key:"Add"}];return SboShell.addActionButtons(i,this),a.setTitle({title:t.sbo.localization.Helper.get("salestage/REASONS")}),$.when(this.__oService.count("")).done(function(e){a.__oModel.setValue("numOfReasons",e)}).fail(function(){t.ui.MessageBox.show({message:t.sbo.localization.Helper.get("salestage/GET_COUNT_FAILED"),title:"Error",icon:"error",buttons:["ok"]}),t.log.info("get reasons failed")}),a.$().on("click",".TitleCancel",function(e){var t=$($(e.currentTarget)).findModel("").getValue("sequenceNo");a.__deleteReasons(t),e.stopPropagation()}),a.$().control({".listView":{source:new t.sbo.util.AjaxListSource(a.__oService,{field:"sequenceNo",asc:!1}),listener:{itemClick:function(e){var t=e.description,o=e.sort,i=e.sequenceNo,s={ServerData:{method:"update",sequenceNo:i,description:t,sort:o}};a.__openFrame(s)},requestFailed:function(){$.when(t.ui.MessageBox.show({message:t.sbo.localization.Helper.get("salestage/REQUEST_FAILED"),title:"Error",icon:"error",buttons:["ok"]})).done(function(){window.SboShell.backView()})},requestDone:function(e){o.resolve(),a.__oModel.setValue("numOfReasons",e.count)}}}}),o.promise()},destroyView:function(){this.$().unprocess()},update:function(){}},Protected:{__openFrame:function(e){var o=this,a=-1;$.when(window.SboShell.openFrame({view:"sap.sbo.page.pad.SalesOpportunitySetting.EditReasonsSetting",type:"right",options:{ServerData:e},callback:function(e,t){if("save"==e){var i=t.getValue("method");"update"==i?o.__saveReasons(t,a):"add"==i&&o.__addReasons(t,a)}else"Set Cancel"==e?o.__deleteReasons(t,a):window.SboShell.closeFrame(a)}})).done(function(e){t.log.info("~~~return frame id: "+e),a=e})},__addReasons:function(e,o){var a=this;a.iFrameid=o;var i=a.__oService,s={};s.description=e.getValue("description"),s.sort=e.getValue("sort"),$.when(i.create(s)).done(function(){$.when(window.SboShell.closeFrame(a.iFrameid)).done(function(){a.$(".listView").getControl().refresh()})}).fail(function(){t.ui.MessageBox.show({message:"New Reason failed",title:"Error",icon:"error",buttons:["ok"]})}).always(function(){})},__deleteReasons:function(e){var o=this,a=o.__oService,i={};i.sequenceNo=e,$.when(a["delete"](i)).done(function(){o.$(".listView").getControl().refresh()}).fail(function(){t.ui.MessageBox.show({message:"Delete Reason failed",title:"Error",icon:"error",buttons:["ok"]})}).always(function(){})},__saveReasons:function(e,o){var a=this;a.iFrameid=o;var i={};i.sequenceNo=e.getValue("sequenceNo"),a.sequenceNo=i.sequenceNo;var s={};s.sequenceNo=i.sequenceNo,s.description=e.getValue("description"),s.sort=e.getValue("sort"),a.one=s,$.when(a.__oService.update(s,i)).done(function(){window.SboShell.closeFrame(a.iFrameid),a.$(".listView").getControl().refresh()}).fail(function(){window.SboShell.closeFrame(a.iFrameid),t.ui.MessageBox.show({message:"Update Reason failed",title:"Error",icon:"error",buttons:["ok"]}),t.log.info("update Reason failed")}).always(function(){})}},Static:{}})}),define("sap.sbo.page.pad.SalesOpportunitySetting.SalesOpportunitySetting",["sap.ui.Repeat","sap.core.klass","sap.core.JsonModel","sap.ui.View","sap.ui.common","sap.log","sap.ui.Controller","sap.core.GuardedTimer","sap.ui.widget.Button","sap.sbo.layout.pad.AdvancedTilesLayout","sap.sbo.shell.IFeaturable","sap.sbo.services.SystemService","sap.core.ArrayListSource","sap.sbo.services.SalesStagesService","sap.sbo.services.SalesOpportunityReasonSetupsService","sap.sbo.services.SalesOpportunitySourceSetupsService","sap.ui.widget.Icon","sap.sbo.localization.Helper","json!sap.sbo.util.enums","css!sap.sbo.page.pad.SalesOpportunitySetting.SalesOpportunitySetting"],function(){"use strict";var e=this.getNS(),t=e.sap,o=e.json.sap.sbo.util.enums.bool;return e.formatter={ConvertBetweenEnumAndBoolean:function(e,t){return"<<"==t?e==o.No?"":"cancelled":1==e?"Y":"N"}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,Interfaces:[t.sbo.shell.IFeaturable],Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{__oService:new t.sbo.services.SalesStagesService,__reasonService:new t.sbo.services.SalesOpportunityReasonSetupsService,__sourceService:new t.sbo.services.SalesOpportunitySourceSetupsService,__oModel:new t.core.JsonModel({stages:[],reasons:[],sources:[]}),__oIScroll:void 0,__oTimer:this.autoDestroy(new t.core.GuardedTimer)});var e=this,o=0;this.__oTimer.setInterval(function(){var t=$('[uuid="v2"]')[0].clientHeight;t!==o&&(o=t,$(".Repeat",e.$()).height(o-120))},1e3)},destroy:function(){this.__oIScroll&&this.__oIScroll.destroy()},initView:function(){var o=$.Deferred(),a=window.SboShell;this.$().setModel(this.__oModel),this.$().process(e);var i=$.Deferred();this.$("[ctrl='layout']").getControl().attachEvent("afterProcess",function(){i.resolve()}),o.resolve(),this.$().on("vclick","[index='sfa-salesOpportunitySetting-editIcon']",function(){}),this.$().on("vclick","[index='sfa-salesOpportunitySetting-stages']",function(){a.gotoView("sap.sbo.page.pad.SalesOpportunitySetting.SalesStagesSettingTile",s.__oModel)}),this.$().on("vclick","[index='sfa-salesOpportunitySetting-reasons']",function(){a.gotoView("sap.sbo.page.pad.SalesOpportunitySetting.ReasonsSettingTile",s.__oModel)}),this.$().on("vclick","[index='sfa-salesOpportunitySetting-sources']",function(){a.gotoView("sap.sbo.page.pad.SalesOpportunitySetting.SourcesSettingTile",s.__oModel)});var s=this;return $.when(this.__oService.query(""),i).done(function(e){s.$("#numOfStages").text(e.value.length),s.__oModel.setValue("stages",e.value),s.__view=$('[index="sfa-salesOpportunitySetting-stages"]',s.$()),s.__oIScroll=new iScroll(s.__view[0],{hScroll:!1,vScrollbar:!0}),s.__oIScroll.refresh()}).fail(function(){window.SboShell.raiseMessage(t.sbo.localization.Helper.get("salestage/GET_COUNT_FAILED")),t.log.info("get sales stages failed")}),$.when(this.__reasonService.query(""),i).done(function(e){s.$("#numOfReasons").text(e.value.length),s.__oModel.setValue("reasons",e.value),s.__view=$('[index="sfa-salesOpportunitySetting-reasons"]',s.$()),s.__oIScroll=new iScroll(s.__view[0],{hScroll:!1,vScrollbar:!0}),s.__oIScroll.refresh()}).fail(function(){window.SboShell.raiseMessage(t.sbo.localization.Helper.get("salestage/GET_COUNT_FAILED")),t.log.info("get reasons failed")}),$.when(this.__sourceService.query(""),i).done(function(e){s.$("#numOfSources").text(e.value.length),s.__oModel.setValue("sources",e.value),s.__view=$('[index="sfa-salesOpportunitySetting-sources"]',s.$()),s.__oIScroll=new iScroll(s.__view[0],{hScroll:!1,vScrollbar:!0}),s.__oIScroll.refresh()}).fail(function(){window.SboShell.raiseMessage(t.sbo.localization.Helper.get("salestage/GET_COUNT_FAILED")),t.log.info("get sources failed")}),o.promise()},destroyView:function(){this.$().unprocess(e),window.SboShell.detachEvent("actionButtonClick"),this.$("[index='sfa-salesOpportunitySetting-editIcon']").off("vclick"),this.$("[index='sfa-salesOpportunitySetting-stages']").off("vclick"),this.$("[index='sfa-salesOpportunitySetting-reasons']").off("vclick"),this.$("[index='sfa-salesOpportunitySetting-sources']").off("vclick")},update:function(){}},Protected:{}})}),define("sap.sbo.page.pad.SalesOpportunitySetting.SalesStagesSettingEdit__",["sap.ui.Controller","sap.sbo.ui.widget.BoList","sap.sbo.layout.pad.MetadataRaw","sap.core.JsonModel","sap.util","sap.sbo.shell.IViewHistoryRecordable","sap.sbo.services.SalesStagesService","css!sap.sbo.page.pad.SalesOpportunitySetting.SalesStagesSettingEdit__","html!sap.sbo.app.template.DynamicProperty","css!sap.sbo.app.template.DynamicProperty"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,Interfaces:[t.sbo.shell.IViewHistoryRecordable],Events:[],Options:{},Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments),this.declareMember({__oService:null,__oModel:this.autoDestroy(new t.core.JsonModel({})),__oModelMeta:this.autoDestroy(new t.core.JsonModel({}))}),this.__oService=this.autoDestroy(new t.sbo.services.SalesStagesService);var o=window.SboShell.getCurrentViewInfo();this.__oModel.setValue("",o.otherParam.data),this.__oModelMeta.setValue("",{meta:o.otherParam.meta,template:e.html.sap.sbo.app.template.DynamicProperty})},destroy:function(){},initView:function(){var o=$.Deferred();return this.$().setModel(this.__oModel),this.$().setModel(this.__oModelMeta,"local"),this.$().process(e),o.resolve(),this.$(".btn.save").on("vclick",function(){var e=this.__oModel.getValue("");t.util.showLoading(),this.__oService.update(e,e).done(function(){window.SboShell.backwardView()}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()})}.bind(this)),o.promise()},destroyView:function(){},update:function(){},shouldBeRecorded:function(){return!1}},Protected:{}})}),define("sap.sbo.page.pad.SalesOpportunitySetting.SalesStagesSettingTile",["sap.sbo.localization.Helper","sap.ui.widget.Icon","sap.core.klass","sap.log","sap.util","sap.core.JsonModel","sap.ui.View","sap.sbo.ui.PageController","sap.ui.Controller","sap.sbo.services.SystemService","sap.core.ArrayListSource","sap.sbo.services.SalesStagesService","sap.sbo.shell.IFeaturable","sap.ui.widget.Icon","sap.ui.MessageBox","sap.sbo.util.AjaxListSource","sap.sbo.layout.pad.ListLayout","json!sap.sbo.util.enums","css!sap.sbo.page.pad.SalesOpportunitySetting.SalesStagesSettingTile"],function(){"use strict";var e=this.getNS(),t=e.sap,o=e.json.sap.sbo.util.enums.bool;return e.formatter={ConvertBetweenEnumAndBoolean:function(e,t){return"<<"==t?e==o.No?"":"image/Address/cancelyellow.png":1==e?"Y":"N"}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.PageController,Interfaces:[t.sbo.shell.IFeaturable],Public:{init:function(){t.sbo.ui.PageController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{__oModel:this.autoDestroy(new t.core.JsonModel({})),__oService:this.autoDestroy(new t.sbo.services.SalesStagesService)});var e=this,o=function(t){e["onKey"+t]()};SboShell.attachEvent("actionButtonClick",o),this.autoDestroy("detach actionButtonClick",function(){SboShell.detachEvent("actionButtonClick",o)})},onKeyAdd:function(){var e={ServerData:{method:"add",sequenceNo:"",name:"",closingPercentage:"",cancelled:!1}};this.__openFrame(e)},destroy:function(){},initView:function(){var a=$.Deferred(),i=this;this.$().process(e);var s=[{text:t.sbo.localization.Helper.get("common/ADD"),key:"Add"}];return SboShell.addActionButtons(s,this),i.setTitle({title:t.sbo.localization.Helper.get("salestage/OPPORTUNITY_STAGES")}),$.when(this.__oService.count("")).done(function(e){i.__oModel.setValue("numOfStages",e)}).fail(function(){t.ui.MessageBox.show({message:t.sbo.localization.Helper.get("salestage/GET_COUNT_FAILED"),title:"Error",icon:"error",buttons:["ok"]}),t.log.info("get sales stages failed")}),i.$().control({".listView":{source:new t.sbo.util.AjaxListSource(i.__oService,{field:"stageNo",asc:!1}),listener:{itemClick:function(e){var t=e.name,a=e.closingPercentage,s=e.sequenceNo,n=e.cancelled==o.No?!1:!0,r={ServerData:{method:"update",cancelled:n,sequenceNo:s,name:t,closingPercentage:a}};i.__openFrame(r)},requestFailed:function(){$.when(t.ui.MessageBox.show({message:t.sbo.localization.Helper.get("salestage/REQUEST_FAILED"),title:"Error",icon:"error",buttons:["ok"]})).done(function(){window.SboShell.backView()})},requestDone:function(e){a.resolve(),i.__oModel.setValue("numOfStages",e.count)}}}}),a.promise()},destroyView:function(){this.$().unprocess()},update:function(){}},Protected:{__openFrame:function(e){var o=this,a=-1;$.when(window.SboShell.openFrame({view:"sap.sbo.page.pad.SalesOpportunitySetting.EditSalesStagesSetting",type:"right",options:{ServerData:e},callback:function(e,t){if("save"==e){var i=t.getValue("method");"update"==i?o.__saveSalesStages(t,a):"add"==i&&o.__addSalesStages(t,a)}else window.SboShell.closeFrame(a)}})).done(function(e){t.log.info("~~~return frame id: "+e),a=e}).always(function(){})},__validate:function(e,o){if(!e)return window.SboShell.raiseMessage(t.sbo.localization.Helper.get("salestage/NO_STAGE_NAME"),"error"),!1;if(!o)return window.SboShell.raiseMessage(t.sbo.localization.Helper.get("salestage/NO_CLOSINGPERCENTAGE"),"error"),!1;if(e.length>30)return window.SboShell.raiseMessage(t.sbo.localization.Helper.get("salestage/EXCEED_LIMIT"),"error"),!1;var a=/[^0-9.]/,i=a.exec(o);return i?(window.SboShell.raiseMessage(t.sbo.localization.Helper.get("salestage/POSITIVE_NUMBER"),"error"),!1):!0},__addSalesStages:function(e,a){var i=this;i.iFrameid=a;var s=i.__oService,n={};n.name=e.getValue("name"),n.stageNo=i.__oModel.getValue("numOfStages")+1;var r=e.getValue("cancelled");return n.cancelled=1==r?o.Yes:o.No,n.closingPercentage=e.getValue("closingPercentage"),i.__validate(n.name,n.closingPercentage)?($.when(s.create(n)).done(function(){$.when(window.SboShell.closeFrame(i.iFrameid)).done(function(){i.$(".listView").getControl().refresh()})}).fail(function(e){t.util.hideLoading(),window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()}),void 0):(t.util.hideLoading(),void 0)},__saveSalesStages:function(e,a){var i=this;i.iFrameid=a;var s={};s.sequenceNo=e.getValue("sequenceNo"),i.sequenceNo=s.sequenceNo;var n={};n.sequenceNo=s.sequenceNo,n.name=e.getValue("name"),n.closingPercentage=e.getValue("closingPercentage");var r=e.getValue("cancelled");return n.cancelled=1==r?o.Yes:o.No,i.one=n,i.__validate(n.name,n.closingPercentage)?($.when(i.__oService.update(n,s)).done(function(){window.SboShell.closeFrame(i.iFrameid),i.$(".listView").getControl().refresh()}).fail(function(e){window.SboShell.closeFrame(i.iFrameid),window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()}),void 0):(t.util.hideLoading(),void 0)}},Static:{}})}),define("sap.sbo.page.pad.SalesOpportunitySetting.SalesStagesSettingTile_",["sap.ui.Controller","sap.sbo.page.pad.LightBoMetadataList","sap.sbo.services.SalesStagesService","sap.sbo.localization.Helper","html!sap.sbo.page.pad.SalesOpportunitySetting.SalesStagesSettingTile_","css!sap.sbo.page.pad.SalesOpportunitySetting.SalesStagesSettingTile_"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.pad.LightBoMetadataList,Interfaces:[],Events:[],Options:{},Public:{init:function(){t.sbo.page.pad.LightBoMetadataList.prototype.init.apply(this,arguments),this.declareMember({}),this.__oService=this.autoDestroy(new t.sbo.services.SalesStagesService)},destroy:function(){},initView:function(){var e=$.Deferred();return $.when(t.sbo.page.pad.LightBoMetadataList.prototype.initView.apply(this,arguments)).done(function(){e.resolve()}).fail(function(){e.reject()}),e.promise()},destroyView:function(){t.sbo.page.pad.LightBoMetadataList.prototype.destroyView.apply(this,arguments)},update:function(){t.sbo.page.pad.LightBoMetadataList.prototype.update.apply(this,arguments)},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"SalesStage"}},getIgnoredProperty:function(){return["sequenceNo"]},isCreateEnabled:function(){return!0},updateCount:function(e){that.setTitle({title:t.sbo.localization.Helper.get("app/stage/TITLE",e)})}},Protected:{}})}),define("sap.sbo.page.pad.SalesOpportunitySetting.SalesStagesSettingTile__",["sap.ui.Controller","sap.sbo.ui.widget.BoList","sap.core.JsonModel","sap.sbo.services.SalesStagesService","css!sap.sbo.page.pad.SalesOpportunitySetting.SalesStagesSettingTile__"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,Interfaces:[],Events:[],Options:{},Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments),this.declareMember({__oService:null,__oModel:this.autoDestroy(new t.core.JsonModel({}))}),this.__oService=this.autoDestroy(new t.sbo.services.SalesStagesService)},destroy:function(){},initView:function(){var t=$.Deferred();this.$().setModel(this.__oModel);var o=this.getBoKeyEntity();return $.when(this.__oService.getMetadata(o.boNamespace,o.boName),this.__oService.query()).done(function(o,a){this.__oModel.setValue("",{meta:o,data:a,editMode:!1}),this.$().process(e),t.resolve()}.bind(this)).fail(function(e){t.reject(e)}),this.$(".btn.toggle-edit").on("vclick",function(){this.__oModel.setValue("editMode",!this.__oModel.getValue("editMode"))}.bind(this)),this.$().on("GuilinControlEvent.detail",function(e,t,o){SboShell.gotoView("sap.sbo.page.pad.SalesOpportunitySetting.SalesStagesSettingEdit__",{},{meta:o,data:t})}),t.promise()},destroyView:function(){},update:function(){},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"SalesStage"}}},Protected:{}})}),define("sap.sbo.page.pad.SalesOpportunitySetting.SourcesSettingTile",["sap.sbo.localization.Helper","sap.ui.widget.Icon","sap.core.klass","sap.log","sap.core.JsonModel","sap.ui.View","sap.ui.Controller","sap.sbo.services.SystemService","sap.core.ArrayListSource","sap.sbo.services.SalesOpportunitySourceSetupsService","sap.sbo.shell.IFeaturable","sap.ui.widget.Icon","sap.ui.MessageBox","sap.sbo.util.AjaxListSource","sap.sbo.layout.pad.ListLayout","json!sap.sbo.util.enums","css!sap.sbo.page.pad.SalesOpportunitySetting.SalesStagesSettingTile"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.json.sap.sbo.util.enums.bool,e.formatter={convertLongDescription:function(e){return e.length>16?e.slice(0,16)+"...":e}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,Interfaces:[t.sbo.shell.IFeaturable],Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{__oModel:this.autoDestroy(new t.core.JsonModel({})),__oService:this.autoDestroy(new t.sbo.services.SalesOpportunitySourceSetupsService)});var e=this,o=function(t){e["onKey"+t]()};SboShell.attachEvent("actionButtonClick",o),this.autoDestroy("detach actionButtonClick",function(){SboShell.detachEvent("actionButtonClick",o)})},onKeyAdd:function(){var e={ServerData:{method:"add",sequenceNo:"",description:"",sort:""}};this.__openFrame(e)},destroy:function(){},initView:function(){var o=$.Deferred(),a=this;this.$().process(e),o.resolve();var i=[{text:t.sbo.localization.Helper.get("common/ADD"),key:"Add"}];return SboShell.addActionButtons(i,this),a.setTitle({title:t.sbo.localization.Helper.get("salestage/SOURCES")}),$.when(this.__oService.count("")).done(function(e){a.__oModel.setValue("numOfSources",e)}).fail(function(){t.ui.MessageBox.show({message:t.sbo.localization.Helper.get("salestage/GET_COUNT_FAILED"),title:"Error",icon:"error",buttons:["ok"]}),t.log.info("get reasons failed")}),a.$().on("click",".TitleCancel",function(e){var t=$($(e.currentTarget)).findModel("").getValue("sequenceNo");a.__deleteReasons(t),e.stopPropagation()}),a.$().control({".listView":{source:new t.sbo.util.AjaxListSource(a.__oService,{field:"sequenceNo",asc:!1}),listener:{itemClick:function(e){var t=e.description,o=e.sort,i=e.sequenceNo,s={ServerData:{method:"update",sequenceNo:i,description:t,sort:o}};
a.__openFrame(s)},requestFailed:function(){$.when(t.ui.MessageBox.show({message:t.sbo.localization.Helper.get("salestage/REQUEST_FAILED"),title:"Error",icon:"error",buttons:["ok"]})).done(function(){window.SboShell.backView()})},requestDone:function(){}}}}),o.promise()},destroyView:function(){this.$().unprocess()},update:function(){}},Protected:{__openFrame:function(e){var o=this,a=-1;$.when(window.SboShell.openFrame({view:"sap.sbo.page.pad.SalesOpportunitySetting.EditSourcesSetting",type:"right",options:{ServerData:e},callback:function(e,t){if("save"==e){var i=t.getValue("method");"update"==i?o.__saveReasons(t,a):"add"==i&&o.__addReasons(t,a)}else"Set Cancel"==e?o.__deleteReasons(t,a):window.SboShell.closeFrame(a)}})).done(function(e){t.log.info("~~~return frame id: "+e),a=e})},__addReasons:function(e,o){var a=this;a.iFrameid=o;var i=a.__oService,s={};s.description=e.getValue("description"),s.sort=e.getValue("sort"),$.when(i.create(s)).done(function(){$.when(window.SboShell.closeFrame(a.iFrameid)).done(function(){a.$(".listView").getControl().refresh()})}).fail(function(){t.ui.MessageBox.show({message:"New Source failed",title:"Error",icon:"error",buttons:["ok"]})}).always(function(){})},__deleteReasons:function(e){var o=this,a=o.__oService,i={};i.sequenceNo=e,$.when(a["delete"](i)).done(function(){o.$(".listView").getControl().refresh()}).fail(function(){t.ui.MessageBox.show({message:"Delete Source failed",title:"Error",icon:"error",buttons:["ok"]})}).always(function(){})},__saveReasons:function(e,o){var a=this;a.iFrameid=o;var i={};i.sequenceNo=e.getValue("sequenceNo"),a.sequenceNo=i.sequenceNo;var s={};s.sequenceNo=i.sequenceNo,s.description=e.getValue("description"),s.sort=e.getValue("sort"),a.one=s,$.when(a.__oService.update(s,i)).done(function(){window.SboShell.closeFrame(a.iFrameid),a.$(".listView").getControl().refresh()}).fail(function(){window.SboShell.closeFrame(a.iFrameid),t.ui.MessageBox.show({message:"Update Source failed",title:"Error",icon:"error",buttons:["ok"]}),t.log.info("update Source failed")}).always(function(){})}},Static:{}})}),define("sap.sbo.page.pad.report.BoPropertyPicker",["sap.ui.Control","html!sap.sbo.page.pad.report.BoPropertyPicker","sap.sbo.util.cacheablemetaDataManager","sap.core.DataList","sap.core.JsonModel","sap.sbo.ui.widget.ListView","css!sap.sbo.page.pad.report.BoPropertyPicker","sap.core.event.BehaviorCommand","sap.sbo.ui.widget.SearchInput"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Control.declare({Name:this.getModuleInfo().moduleName,DomClass:"sap-sbo-page-pad-report-BoPropertyPicker",Events:[],PublicMethods:[],Options:{popupType:{type:"boolean",defaultValue:!1,immutable:!0},limitedBOs:{type:"array",arrayType:{type:"string"},defaultValue:[]}},Public:{init:function(){t.ui.Control.prototype.init.apply(this,arguments);var o=this;this.allMetas=null,this.filterString="",this.declareMember({dataContext:new t.core.JsonModel({BOs:[],listVisible:"",linkedBOs:[],propertyVisible:"hidden",activeStyleName:"activeAll",hasLinkBO:"",selectBo:new t.core.event.BehaviorCommand(this,this.__selectBo),backBOList:new t.core.event.BehaviorCommand(this,this.__backBOList),selectProperty:new t.core.event.BehaviorCommand(this,this.__selectProperty),filterProperty:new t.core.event.BehaviorCommand(this,this.__filterProperty),clearSearchFilter:new t.core.event.BehaviorCommand(this,this.__clearSearchFilter),quickFilter:new t.core.event.BehaviorCommand(this,this.__quickFilter),popupLinkBO:new t.core.event.BehaviorCommand(this,this.__popupLinkBO),selectedBO:{properties:{value:[]},label:""},selectedBOProperties:[]})}),this.$().setModel(this.dataContext),this.$().append(e.html.sap.sbo.page.pad.report.BoPropertyPicker),this.$(".picker").process(e),this.getOption("popupType")||this.getMetaData(function(){var e=o.allMetas;o.dataContext.setValue("BOs",e)})},destroy:function(){},updateLimitedBOs:function(e){var t=this,o="==="+e.join("===")+"===";e.length>0&&this.getMetaData(function(){var e=t.allMetas.query("c=>'"+o+"'.indexOf('==='+c.id.name+'===')>-1");t.dataContext.setValue("BOs",e)})},update:function(e){e.popupType,e.limitedOBs}},Protected:{__getAll:function(){},__quickFilter:function(e){var t=e.target.dataset.activename,o=this.dataContext.getValue("activeStyleName");o!==t&&(t&&this.dataContext.setValue("activeStyleName",t),this.filterFields())},__clearSearchFilter:function(){this.filterString="",this.filterFields()},__filterProperty:function(e){this.filterString=e.data,this.filterFields()},filterFields:function(){var e,o=this.dataContext.getValue("activeStyleName"),a=new t.core.DataList(this.dataContext.getValue("selectedBO").properties.value),i=[],s=this,n=this.filterString;switch(o){case"activeText":e="(c.category==='text' || c.category==='id')";break;case"activeCurrency":e="c.category==='number'";break;case"activeDate":e="c.category==='date'";break;default:e="c.category!==null"}""!==n.trim()&&(e+=" && c.label.indexOf('"+n+"')>-1"),i=a.query("c=>"+e),this.dataContext.setValue("selectedBOProperties",i).done(function(){s.highlightKeyword(n)})},highlightKeyword:function(e){if(""!==e)for(var t=this.$(".propertyData"),o=function(e){return"<span class='highlight'>"+e+"</span>"},a=0;t.length>a;a++){var i=$(t[a]),s=i.text();s=s.replace(e,o(e)),i.html(s)}},__selectProperty:function(e){var t={bo:this.dataContext.getValue("selectedBO"),property:e.data};this.$().trigger("propertySelected",[t])},__backBOList:function(){this.dataContext.setValue("listVisible",""),this.dataContext.setValue("propertyVisible","hidden")},__selectBo:function(e){this.dataContext.setValue("selectedBO",e.data),this.dataContext.setValue("selectedBOProperties",e.data.properties.value),this.dataContext.setValue("listVisible","hidden"),this.dataContext.setValue("propertyVisible",""),this.dataContext.setValue("activeStyleName","activeAll");var o,a=e.data.id;o=this.allLinked.first("c=>c.id.name==='"+a.name+"'"),0===o.links.value.length?this.dataContext.setValue("hasLinkBO",""):(this.linkedBOs=new t.core.DataList(o.links.value).select("c=>c.name"),this.dataContext.setValue("hasLinkBO","hasLinkBO"))},createTemplate:function(){},getMetaData:function(e){var o=this;t.sbo.util.cacheablemetaDataManager.get("sap.sbo.compoundservices.AnalyticService","getMetaData").done(function(a){o.allMetas=new t.core.DataList(a.meta.value),o.allLinked=new t.core.DataList(a.links.value),e&&e()})},__popupLinkBO:function(){var e=this;window.SboShell.openFrame({view:"sap.sbo.page.pad.report.LinkedBOList",type:"center",width:300,height:600,options:{limiteds:e.linkedBOs},callback:function(t,o){"popupBO.selectedItem"===t&&e.$().trigger("propertySelected",[o])}})}}})}),define("sap.sbo.page.pad.report.FieldColumn",["sap.ui.Controller","sap.core.DestroyPool","sap.sbo.ui.Loop","sap.ui.widget.TextField","sap.formatter","sap.sbo.ui.widget.MultiStateIcon","css!sap.sbo.app.queryDesigner.FieldColumn","sap.core.JsonModel","sap.ui.widget.DropDownBox","sap.sbo.util.notification","sap.core.DataList","sap.sbo.ui.widget.MultiStateContent"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments),this.declareMember({__fieldchangeProxy:$.proxy(this.__fieldchang,this),__oDestroyPool:null,__fieldFullData:null,dataContext:new t.core.JsonModel({sortMeta:[],aggregationMeta:[],dateFormatMeta:[],halflayout:"",dateclass:"",filterState:0,filtercount:4,filterTypes:[],filterData:{value:""}})})},destroy:function(){},initView:function(){var o=$.Deferred();return this.__oDestroyPool=new t.core.DestroyPool,this.__oDestroyPool.add(this.$(),this.$().unprocess).process(e).done(function(){o.resolve()}),o.promise()},destroyView:function(){this.__oDestroyPool.destroy(),this.__oDestroyPool=null,this.$(".newfilter").off("vclick",this,this.__newFilter),this.$(".lastgroupitem.close").off("vclick",this,this.__closeFilter),this.$(".groupitem.eq").off("vclick",this,this.__showEq),this.$(".groupitem.like").off("vclick",this,this.__showLike),this.$(".groupitem.in").off("vclick",this,this.__showIn),this.$(".groupitem.fromto").off("vclick",this,this.__showRang),this.$(".filtercontent .close").off("vclick",this,this.__closeContent)},update:function(e){e&&console.log(e)}},Protected:{__fieldchang:function(){t.sbo.util.notification.notify("queryDesigner.fieldchange",this)},__newFilter:function(e){var t=e.data,o=t.dataContext.getValue("filterTypes"),a=t.$(".groupitem"),i=t.$(".filterpanel");a.hide(),o.forEach(function(e){$("."+e,i).show()}),t.dataContext.setValue("filterState",1)},__closeFilter:function(e){var t=e.data;t.dataContext.getValue("filterState"),t.dataContext.setValue("filterState",0)},__showEq:function(e){var t=e.data;t.$(".eqSetting").show(),t.dataContext.setValue("filterState",2)},__showLike:function(e){var t=e.data;t.__showEq(e)},__showIn:function(){},__showRang:function(){},__closeContent:function(e){var t=e.data;t.dataContext.setValue("filterState",0)}},Static:{}})}),define("sap.sbo.page.pad.report.home",["sap.ui.Controller","sap.core.DestroyPool","sap.core.JsonModel","sap.ui.widget.ViewRegion","sap.core.event.DomCommand","css!sap.sbo.page.pad.report.home"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments),this.declareMember({dataContext:new t.core.JsonModel({})})},destroy:function(){},initView:function(){var t=$.Deferred();return this.$().setModel(this.dataContext),this.$().process(e).done(function(){t.resolve()}),t},destroyView:function(){this.$().unprocess()},update:function(e){e&&console.log(e)}},Protected:{},Static:{}})}),define("sap.sbo.page.pad.report.LinkedBOList",["sap.ui.Controller","sap.core.DestroyPool","sap.core.JsonModel","sap.core.event.BehaviorCommand","sap.sbo.ui.FrameViewController","sap.sbo.page.pad.report.BoPropertyPicker"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Options:{limiteds:{type:"any",defaultValue:[],nullable:!0}},Public:{init:function(){t.sbo.ui.FrameViewController.prototype.init.apply(this,arguments),this.declareMember({__clickOutsideToClose:!0,dataContext:new t.core.JsonModel({bos:[],triggerSelectedItem:new t.core.event.BehaviorCommand(this,this.__triggerSelectedItem)})})},destroy:function(){},initView:function(){var t=$.Deferred();return this.$().setModel(this.dataContext),this.$().process(e).done(function(){t.resolve()}),t.promise()},destroyView:function(){},update:function(e){e.limiteds&&this.$(".BoPropertyPicker").getControl().updateLimitedBOs(this.getOption("limiteds"))}},Protected:{__triggerSelectedItem:function(e){this.callShell("popupBO.selectedItem",e.data)}},Static:{}})}),define("sap.sbo.page.pad.report.ListView",["sap.ui.Controller","sap.core.DestroyPool","sap.sbo.ui.Loop","sap.core.JsonModel","sap.core.event.DomCommand","sap.sbo.layout.pad.ListLayout","sap.sbo.services.DashboardsService","sap.sbo.ui.PageController","sap.sbo.page.BaseBoListViewController","sap.sbo.util.AjaxListSource","sap.sbo.ui.widget.ListManipulator","sap.sbo.localization.Helper","css!sap.sbo.page.pad.boListView","sap.core.IViewRegionControlable","sap.core.viewRegionManager","sap.sbo.util.notification","css!sap.sbo.page.pad.report.ListView","sap.util"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.PageController,Interfaces:[t.core.IViewRegionControlable],Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments),this.declareMember({dashboardsService:new t.sbo.services.DashboardsService,dataContext:new t.core.JsonModel({selectReport:new t.core.event.DomCommand(this,this.__selectReport)}),_oAjaxListSource:null}),this._oAjaxListSource=new t.sbo.util.AjaxListSource(this.dashboardsService)},destroy:function(){},initView:function(){var t=this;this.$().setModel(this.dataContext,"reportListViewHome");var o=$.Deferred();return this.$().process(e).done(function(){t.$().control({'div[data-id="listView"]':{source:t._oAjaxListSource,listener:{itemClick:function(){},requestDone:function(e){t.listdata=e,t.setTitle(e),o.resolve()}}}})}),o.promise()},setTitle:function(e){this.setTitle({title:0===e.count?t.sbo.localization.Helper.get("report/title"):t.sbo.localization.Helper.get("report/titles"),subTitle:""}),window.SboShell.setHeaderCount(e.count)},preActiveAction:function(){var e=$.Deferred();return this.listdata&&this.setTitle(this.listdata),e.resolve(),e},postActiveAction:function(){var e=$.Deferred();return e.resolve(),e},canQuery:function(){return!0},destroyView:function(){this._oAjaxListSource=null,this.$().unprocess()},update:function(e){e&&console.log(e)},getMainControl:function(){return this.$('div[data-id="listView"]')},getService:function(){return this.dashboardsService},getBoNameEntity:function(){return{boNamespace:"com.sap.sbo",boName:"Dashboard"}},getListSource:function(){return this._oAjaxListSource},getProcessContext:function(){return e}},Protected:{__selectReport:function(e){console.warn(1);var o=$(e.currentTarget),a=o.attr("data-id"),i=t.core.viewRegionManager.getRegion("reporthomeRegion");i.activeView("sap.sbo.page.pad.report.reportDetail",a).done(function(){})}},Static:{}})}),define("sap.sbo.page.pad.report.popupShow",["sap.core.klass","sap.core.IViewRegionPlugin"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Interfaces:[t.core.IViewRegionPlugin],Public:{doInitAction:function(e){this.container=e.$()},doActiveViewAction:function(e,t){var o=$(t),a=$(e);if(e){var i="sap.sbo.page.pad.report.ListView"===a.attr("data-region-view");i?o.css("opacity","1").css("z-index","1"):(a.css("opacity","0").css("z-index","0"),o.css("opacity","1").css("z-index","1"))}else o.css("opacity","1")}},Protected:{}})}),define("sap.sbo.page.pad.report.queryChartView",["sap.ui.Controller","sap.sbo.compoundservices.AnalyticService","sap.ui.View","sap.sbo.ui.widget.ReportWidget","sap.sbo.app.queryDesigner.ChartHelper","sap.sbo.app.report.TableList","sap.core.JsonModel","sap.util","sap.sbo.ui.PageController","sap.sbo.localization.Helper","sap.sbo.compoundservices.QueryResultService","sap.sbo.services.BaseService","css!sap.sbo.page.pad.report.queryChartView"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.PageController,Options:{reportId:{type:"integer",defaultValue:-1},reportName:{type:"string",defaultValue:""},filter:{type:"array",defaultValue:[]}},Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments),this.declareMember({__oModel:new t.core.JsonModel({queryid:0,filter:[]}),__oService:this.autoDestroy(new t.sbo.compoundservices.AnalyticService),__oDownLoadService:this.autoDestroy(new t.sbo.compoundservices.QueryResultService),__fActionButtonClicked:function(e){switch(e){case"key_edit":break;default:}}})},destroy:function(){},initView:function(){var o=$.Deferred(),a=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo").storeParam.reportId,i=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo").storeParam.reportName,s=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo").storeParam.filter;this.__oModel.setValue("queryid",a+""),s&&this.__oModel.setValue("filter",s);var n=this;return n.$().setModel(n.__oModel),n.$().process(e).done(function(){}),o.resolve(),window.SboShell.setOption({title:i}),window.SboShell.addActionButtons([{text:t.sbo.localization.Helper.get("app/report/EDIT"),key:"key_edit"}],this),window.SboShell.attachEvent("actionButtonClick",this.__fActionButtonClicked),o.promise()},destroyView:function(){this.__oModel=null,this.__oService=null,this.__oDownLoadService=null,window.SboShell.detachEvent("actionButtonClick",this.__fActionButtonClicked),window.SboShell.removeData("queryChartView.query"),this.$().unprocess()},update:function(e){e&&console.log(e)}},Protected:{},Static:{}})}),define("sap.sbo.page.pad.report.queryDesigner",["sap.ui.Controller","sap.core.DestroyPool","sap.core.JsonModel","sap.ui.widget.ViewRegion","sap.core.event.DomCommand","sap.core.event.BehaviorCommand","sap.sbo.ui.widget.ColumnLayout","css!sap.sbo.page.pad.report.queryDesigner","sap.sbo.page.pad.report.BoPropertyPicker","sap.sbo.compoundservices.AnalyticService","sap.sbo.services.QueriesService","sap.core.DataList","sap.ui.View"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments),this.declareMember({__queriesService:this.autoDestroy(new t.sbo.services.QueriesService),__oService:this.autoDestroy(new t.sbo.compoundservices.AnalyticService),dataContext:new t.core.JsonModel({queryBO:{properties:[]},sortMeta:[],aggregationMeta:[],dateFormatMeta:[],previewDatas:[],triggerSelectedItem:new t.core.event.BehaviorCommand(this,this.__triggerSelectedItem),deleteProperty:new t.core.event.BehaviorCommand(this,this.__deleteProperty),fetchTableData:new t.core.event.BehaviorCommand(this,this.__fetchTableData)})})},destroy:function(){},initView:function(){var o=$.Deferred(),a=this;return this.$().setModel(this.dataContext),this.$().process(e).done(function(){$.when(a.__queriesService.getMetadata("com.sap.sbo","UserQuery")).done(function(e){a.userQueryMetaData=e;var i=new t.core.DataList(e.enumerations.value);a.dataContext.setValue("sortMeta",i.first("d=>d.name==='SortType'")),a.dataContext.setValue("sorts",new t.core.DataList(i.first("d=>d.name==='SortType'").members.value).select("c=>c.name")),a.dataContext.setValue("aggregationMeta",i.first("d=>d.name==='AggregationType'")),a.dataContext.setValue("dateFormatMeta",i.first("d=>d.name==='DateFormatType'")),o.resolve()})}),o},destroyView:function(){this.$().unprocess()},update:function(e){e&&console.log(e)}},Protected:{__fetchTableData:function(){this.__queryData()},__deleteProperty:function(e){var t=e.data,o=this.dataContext.getValue("queryBO"),a=o.properties,i=a.indexOf(t);a.splice(i,1),this.dataContext.setValue("queryBO",o),this.__queryData()},__queryData:function(){var e=this;$.when(this.__oService.query(this.dataContext.getValue("queryBO"))).done(function(t){e.queryResult=t,e.dataContext.setValue("previewDatas",t.data.value)})},__triggerSelectedItem:function(e){var t=e.data,o={boLabel:t.bo.label,boName:t.bo.id.name,boNamespace:t.bo.id.namespace,name:t.property.name,label:t.property.label,displayLabel:t.property.label,sortType:"none",aggregationType:"none",dateFormatType:"date"},a=this.dataContext.getValue("queryBO");a.properties.push(o),this.dataContext.setValue("queryBO",a),this.__queryData()}},Static:{}})}),define("sap.sbo.page.pad.report.queryListView",["sap.ui.Controller","sap.core.DestroyPool","sap.sbo.ui.Loop","sap.core.JsonModel","sap.core.event.DomCommand","sap.sbo.layout.pad.ListLayout","sap.sbo.services.QueriesService","sap.sbo.services.QueryGroupsService","sap.sbo.ui.PageController","sap.sbo.page.BaseBoListViewController","sap.sbo.util.AjaxListSource","sap.sbo.ui.widget.ListManipulator","sap.sbo.localization.Helper","css!sap.sbo.page.pad.boListView","sap.core.IViewRegionControlable","sap.core.viewRegionManager","sap.sbo.util.notification","css!sap.sbo.page.pad.report.queryListView","sap.util"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.PageController,Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments);var e=this;this.declareMember({queriesService:new t.sbo.services.QueriesService,queryGroupsService:new t.sbo.services.QueryGroupsService,dataContext:new t.core.JsonModel({selectReport:new t.core.event.DomCommand(this,this.__selectReport)}),queriesListSource:null,queryGroupsListSource:null,__mode:"view",__itemOnClick:function(){var o=$(this).data("query"),a=this;if("view"==e.__mode)0==o.dashboard?window.SboShell.gotoView("sap.sbo.page.pad.report.queryTableView",{reportId:o.id,reportName:o.name}):window.SboShell.gotoView("sap.sbo.page.pad.report.queryChartView",{reportId:o.id,reportName:o.name});else if("edit"==e.__mode){if(1==o.system)return window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/report/CANTDELETESYSTEM"),[{key:"ok",text:t.sbo.localization.Helper.get("common/OK")}]),void 0;$.when(window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/report/DELETECONFIRM"),"question",[{key:"no",text:t.sbo.localization.Helper.get("common/CANCEL")},{key:"yes",text:t.sbo.localization.Helper.get("common/DELETE")}])).done(function(i){"yes"===i&&e.queriesService["delete"](o).done(function(){0==$(a).nextAll('div[class = "Query"]').length&&0==$(a).prevAll('div[class = "Query"]').length?$(a).parent().parent().remove():$(a).remove()}).fail(function(e){e&&window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/report/DELETEFAIL"))})})}},__setViewMode:function(o){switch(e.__mode=o,e.__mode){case"view":e.$("[modetype='edit']").hide(),e.$("[modetype='view']").show(),window.SboShell.removeActionButtons(["key_done","key_remove","key_add_query","key_add_dashboard"],this),window.SboShell.addActionButtons([{text:t.sbo.localization.Helper.get("app/report/CREATEDASHBOARD"),key:"key_add_dashboard"},{text:t.sbo.localization.Helper.get("app/report/CREATEQUERY"),key:"key_add_query"},{text:t.sbo.localization.Helper.get("app/report/REMOVE"),key:"key_remove"}],this);break;case"edit":e.$("[modetype='view']").hide(),e.$("[modetype='edit']").show(),window.SboShell.removeActionButtons(["key_done","key_remove","key_add_query","key_add_dashboard"],this),window.SboShell.addActionButtons([{text:t.sbo.localization.Helper.get("app/report/DONE"),key:"key_done"}],this);break;default:e.$("[modetype='edit']").hide(),e.$("[modetype='view']").show()}},__fActionButtonClicked:function(t){switch(t){case"key_remove":e.__setViewMode("edit");break;case"key_add_query":break;case"key_add_dashboard":break;case"key_done":e.__setViewMode("view");break;default:}}}),this.queriesListSource=new t.sbo.util.AjaxListSource(this.queriesService),this.queryGroupsListSource=new t.sbo.util.AjaxListSource(this.queryGroupsService)},destroy:function(){},initView:function(){var o=this;this.$().setModel(this.dataContext,"reportListViewHome");var a=$.Deferred(),i={};i.size=999999,i.top=999999,i.begin=0;var s=this.$('div[data-sfa-class="container"]');return s.empty(),o.queryGroupsListSource.read(i,null,null,null,null).done(function(n){var r;r=n?n.data:[],o.queriesListSource.read(i,null,null,null,null).done(function(i){var n;if(!i)return window.SboShell.setOption({title:l+" "+t.sbo.localization.Helper.get("app/report/REPORT")}),o.$().process(e),a.resolve(),void 0;n=i.data;var l=n.length;1!=l?window.SboShell.setOption({title:l+" "+t.sbo.localization.Helper.get("app/report/REPORTS")}):window.SboShell.setOption({title:l+" "+t.sbo.localization.Helper.get("app/report/REPORT")});for(var d=0;r.length>d;d++){var p=$.grep(n,function(e){return e.groupId==r[d].id});if(p.length>0){var c=$("<div>").addClass("Group"),u=$("<img>").attr("src","image/report/light.png");c.append(u);var h=$("<div>").text(r[d].name).addClass("GroupTitle"),b=$("<div>").addClass("QueryList");c.append(h),c.append(b),$.each(p,function(e,t){var o=$("<div>").addClass("Query");if(t.dashboard){var a=$("<img>").attr("src","image/report/icon_chart.png").addClass("type");o.append(a)}else{var a=$("<img>").attr("src","image/report/icon_table.png").addClass("type");o.append(a)}o.append($("<div>").text(t.name).addClass("QueryName"));var i=$("<img>").attr("src","image/settings/choose.png").attr("modetype","view").addClass("mode"),s=$("<img>").attr("src","image/report/trash.png").attr("modetype","edit").addClass("mode");o.append(i),o.data("query",t),o.append(s),b.append(o)}),s.append(c)}n=$.grep(n,function(e){return e.groupId!=r[d].id})}if(n.length>0){var c=$("<div>").addClass("Group"),u=$("<img>").attr("src","image/report/light.png");c.append(u);var h=$("<div>").text(t.sbo.localization.Helper.get("app/report/OTHERS")).addClass("GroupTitle"),b=$("<div>").addClass("QueryList");c.append(h),c.append(b),$.each(n,function(e,t){var o=$("<div>").addClass("Query");if(t.dashboard){var a=$("<img>").attr("src","image/report/icon_chart.png").addClass("type");o.append(a)}else{var a=$("<img>").attr("src","image/report/icon_table.png").addClass("type");o.append(a)}o.append($("<div>").text(t.name).addClass("QueryName"));var i=$("<img>").attr("src","image/settings/choose.png").attr("modetype","view").addClass("mode"),s=$("<img>").attr("src","image/report/trash.png").attr("modetype","edit").addClass("mode");o.append(i),o.append(s),o.data("query",t),b.append(o)}),s.append(c)}o.__setViewMode("view"),o.$().process(e),a.resolve()}).fail(function(){a.reject("get data failed.")})}).fail(function(){a.reject("get data failed.")}),window.SboShell.setOption({title:t.sbo.localization.Helper.get("app/report/REPORT")}),o.$().process(e),window.SboShell.attachEvent("actionButtonClick",this.__fActionButtonClicked),this.$().on("vclick",'div[class="Query"]',this.__itemOnClick),a.promise()},setTitle:function(e){window.SboShell.setOption({title:0===e.count?t.sbo.localization.Helper.get("report/title"):t.sbo.localization.Helper.get("report/titles"),subTitle:""}),window.SboShell.setHeaderCount(e.count)},destroyView:function(){this.queriesListSource=null,this.queryGroupsListSource=null,window.SboShell.detachEvent("actionButtonClick",this.__fActionButtonClicked),this.$().off("vclick",'div[class="Query"]',this.__itemOnClick),this.$().unprocess()},update:function(){}},Protected:{__selectReport:function(){}},Static:{}})}),define("sap.sbo.page.pad.report.queryTableView",["sap.ui.Controller","sap.ui.widget.Button","sap.sbo.compoundservices.AnalyticService","sap.ui.View","sap.core.DataList","sap.sbo.app.report.TableList","sap.core.JsonModel","sap.util","sap.sbo.ui.PageController","sap.sbo.localization.Helper","sap.sbo.compoundservices.QueryResultService","sap.sbo.services.BaseService","css!sap.sbo.page.pad.report.queryTableView"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.PageController,Options:{reportId:{type:"integer",defaultValue:-1},reportName:{type:"string",defaultValue:""}},Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments);var e=this;this.declareMember({__oModel:new t.core.JsonModel({queryId:-1,header:[],previewDatas:[]}),__oService:this.autoDestroy(new t.sbo.compoundservices.AnalyticService),__oDownLoadService:this.autoDestroy(new t.sbo.compoundservices.QueryResultService),__fActionButtonClicked:function(t){switch(t){case"key_download":e.__download();break;case"key_edit":break;default:}},__download:function(){var e=this.__oModel.getValue("queryId"),o=window.SboShell.getData("tenantID");t.util.showLoading(),$.when(this.__oDownLoadService.downloadQueryResult(e)).done(function(e){if(e.value){var a={},i={};i.keyName="employeeID",i.keyValue=1;var s=[];s.push(i),a.boNamespace="com.sap.sbo",a.boName="UserEmployee",a.keyElements=s;var n=t.sbo.services.BaseService.documentbase+"file/open?id="+e.value+"&boEntityKey="+JSON.stringify(a)+"&tenantID="+o;window.SboShell.previewAttachment(n,"text/csv")}}).fail(function(e){e&&window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/report/LOADFAIL"))}).always(function(){t.util.hideLoading()})}})},destroy:function(){},initView:function(){var o=$.Deferred(),a=this,i=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo").storeParam.reportId,s=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo").storeParam.reportName;return this.__oModel.setValue("queryId",i),t.util.showLoading(),$.when(this.__oService.queryById(i)).done(function(i){if(i.header){a.__oModel.setValue("previewDatas",i.data.value);var s=[];$.each(i.header.value,function(e,t){var o={};o.displayLabel=t,s.push(o)}),a.__oModel.setValue("header",s)}a.$().setModel(a.__oModel),a.$().process(e).done(function(){if(i.total>30){a.$("div[data-sfa-class='resulttable']").height("90%"),a.$("div[data-sfa-class='resulttable']").getControl()._iscroll.refresh();var e=$("<div>").text(t.sbo.localization.Helper.get("app/report/MOREINFO",30,i.total));a.$("div[data-sfa-class='moreinfo']").append(e)}if(s&&s.length>0){var n=a.$('div[ data-sfa-class="tablecontent"]').width(),r=n/s.length;r>200&&(a.$("tr").width(n),a.$("th").width(r),a.$("table").width(n))}o.resolve()})}).fail(function(e){e&&window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/report/LOADFAIL"))}).always(function(){t.util.hideLoading()}),window.SboShell.setOption({title:s}),window.SboShell.addActionButtons([{text:t.sbo.localization.Helper.get("app/report/EDIT"),key:"key_edit"},{text:t.sbo.localization.Helper.get("app/report/DOWNLOAD"),key:"key_download"}],this),window.SboShell.attachEvent("actionButtonClick",this.__fActionButtonClicked),o.promise()},destroyView:function(){this.__oModel=null,this.__oService=null,this.__oDownLoadService=null,window.SboShell.detachEvent("actionButtonClick",this.__fActionButtonClicked),this.$().unprocess()},update:function(e){e&&console.log(e)}},Protected:{},Static:{}})}),define("sap.sbo.page.pad.report.reportDetail",["sap.ui.Controller","sap.core.DestroyPool","sap.sbo.ui.Loop","sap.core.JsonModel","sap.core.event.DomCommand","sap.sbo.ui.PageController","sap.core.IViewRegionControlable","sap.sbo.ui.widget.ReportWidget","css!sap.sbo.page.pad.report.reportDetail","sap.sbo.util.notification","sap.core.viewRegionManager","sap.core.event.BehaviorCommand"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.PageController,Interfaces:[t.core.IViewRegionControlable],Options:{reportid:{type:"string",defaultValue:null,nullable:!0}},Public:{init:function(){t.sbo.ui.PageController.prototype.init.apply(this,arguments),this.declareMember({dataContext:new t.core.JsonModel({reportId:null,closehidden:"closehidden",filter:[],closeChart:new t.core.event.DomCommand(this,this.closeChart),gotDashboardData:new t.core.event.BehaviorCommand(this,this.gotDashboardData)}),setReportId:$.proxy(this.__setReportId,this)})},destroy:function(){},initView:function(){var t=$.Deferred(),o=this,a=window.SboShell.getCurrentViewInfo().storeParam;return this.$().setModel(this.dataContext),this.$().process(e).done(function(){a&&a.reportid&&(o.dataContext.setValue("reportId",a.reportid+""),a.filterdata&&o.dataContext.setValue("filter",a.filterdata),o.setTitle()),t.resolve()}),t},closeChart:function(){var e=t.core.viewRegionManager.getRegion("reporthomeRegion");e.activeView("sap.sbo.page.pad.report.ListView")},preActiveAction:function(e){var t=$.Deferred(),o=this;return this.dataContext.setValue("reportId",e).done(function(){o.$().css({visibility:"visible","box-shadow":"rgb(194, 194, 194) 0px 0px 10px",margin:"0px"}),SboShell.__aViewHistory.push({viewName:"sap.sbo.page.pad.report.home",otherParam:void 0,storeParam:{}}),SboShell.__iHistoryIndex++,$(".sap-sbo-pad-html-shell-head").addClass("hasBackButton"),t.resolve()}),t},postActiveAction:function(){var e=$.Deferred();return this.$().css("visibility","hidden"),e.resolve(),e},gotDashboardData:function(e){this.setTitle(e.data.title)},setTitle:function(e){e&&(this.setTitle({title:e,subTitle:""}),window.SboShell.setHeaderCount(""))},destroyView:function(){},update:function(){}},Protected:{},Static:{}})}),define("sap.sbo.page.pad.report.RightPanel",["sap.ui.Controller","sap.ui.widget.Button","sap.core.DestroyPool","sap.ui.widget.DropDownBox","sap.ui.widget.Checkbox","sap.sbo.ui.Loop","sap.sbo.compoundservices.AnalyticService","sap.ui.behavior.vdraggable","sap.sbo.util.notification","sap.ui.View","sap.core.DataList","css!sap.sbo.page.pad.report.RightPanel","sap.sbo.app.queryDesigner.ChartHelper","sap.sbo.app.report.TableList"],function(){"use strict";
var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments),this.declareMember({__oDestroyPool:null,__oService:this.autoDestroy(new t.sbo.compoundservices.AnalyticService),__doQueryProxy:$.proxy(this.__doQuery,this)}),t.sbo.util.notification.subscribe("queryDesigner.doQuery",this.__doQueryProxy)},destroy:function(){},initView:function(){this.__oDestroyPool=new t.core.DestroyPool;var o=$.Deferred();return $.when(this.__oDestroyPool.add(this.$(),this.$().unprocess).process(e)).done(function(){o.resolve()}.bind(this)),o.promise()},destroyView:function(){this.__oDestroyPool.destroy(),t.sbo.util.notification.unsubscribe("queryDesigner.doQuery",this.__doQueryProxy),this.__oDestroyPool=null,this.$(".ok").off("vclick",this,this.__showChart),this.$(".cancel").on("vclick",this,this.__cancelSetting)},update:function(e){e&&console.log(e)}},Protected:{__cancelSetting:function(e){var t=e.data;t.$(".ChartSetting").hide()},__showChart:function(){},__doQuery:function(e){var t=this;t.$(".chartview").empty(),t.$(".chartview").hide(),t.$(".ChartSetting").hide(),this.$(".queryTable").hide(),$.when(this.__oService.query(e)).done(function(e){t.queryResult=e,t.$(".queryTable>.tablecontent").html(t.__createTable(e.data)),t.$(".queryTable").slideDown("normal",function(){t.odataIscroll.refresh()})})},__createTable:function(e){var t=$("<div>"),o=this;return e.value.forEach(function(e){t.append(o.__createRow(e.values.value))}),t},__createRow:function(e){var t,o=$("<div>").addClass("row"),a=$("<div>").addClass("cell").append($("<div>").addClass("data")),i=0;i=e.length;for(var s=0;i>s;s++)t=a.clone(),$(".data",t).text(e[s]),o.append(t);return o}},Static:{}})}),define("sap.sbo.page.pad.SalesOpportunity.BasicInfoEdit",["css!sap.sbo.app.template.EditProperty","sap.core.klass","sap.core.ListSourceFilter","sap.sbo.util.formatter","sap.ui.Controller","sap.sbo.layout.pad.MetadataLayout","sap.core.JsonModel","sap.ui.widget.TextField","sap.sbo.ui.widget.BoLabel","sap.sbo.services.SalesOpportunitiesService","sap.sbo.page.pad.BoMetadataEditController","sap.ui.widget.TextArea","sap.sbo.ui.widget.DateTimeField","sap.ui.widget.Currency","sap.sbo.util.formatter","sap.sbo.ui.BoNavigationObject","sap.sbo.ui.widget.BoLink","sap.ui.widget.ValueHelpField","sap.util","sap.sbo.compoundservices.AttachmentService","sap.sbo.app.task.taskUtil","sap.sbo.ui.widget.BoStatus","sap.sbo.ui.widget.Stage","sap.ui.widget.Photo","sap.sbo.services.SalesStagesService","sap.sbo.shell.IViewHistoryRecordable","sap.ui.widget.DropDownBox","sap.sbo.ui.widget.RelatedValueDropDownBox","sap.sbo.ui.widget.RelatedValueLabel","sap.sbo.localization.Helper","css!sap.sbo.page.pad.SalesOpportunity.BasicInfoEdit","css!sap.sbo.page.pad.boEdit"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={statusText:function(e){switch(e){case"sos_Open":return t.sbo.localization.Helper.get("app/OPEN");case"sos_Missed":return t.sbo.localization.Helper.get("app/LOST");case"sos_Sold":return t.sbo.localization.Helper.get("app/WON")}},convertStatusImage:function(e){switch(e){case"sos_Open":return"image/BO/Open.png";case"sos_Missed":return"image/BO/Reject.png";case"sos_Sold":return"image/BO/Won_Complete.png";default:return""}}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.pad.BoMetadataEditController,Interfaces:[t.sbo.shell.IViewHistoryRecordable],Public:{init:function(){t.sbo.page.pad.BoMetadataEditController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{_oService:new t.sbo.services.SalesOpportunitiesService,_mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),_modelOwner:this.autoDestroy(new t.core.JsonModel({ownerName:"",OwnerImage:{url:"./image/common/no-pic-avatar.jpg"}})),oAttachementService:this.autoDestroy(new t.sbo.compoundservices.AttachmentService),_oStageService:new t.sbo.services.SalesStagesService,_oStageModel:new t.core.JsonModel({metadata:[]})})},destroy:function(){this._oService.destroy(),this._oStageService.destroy(),this._oStageModel.destroy()},initView:function(){var e=$.Deferred(),o=this;return this.$().setModel(this._modelOwner,"owner"),o.$().setModel(this._oStageModel,"stage"),o.setTitle({title:"",subTitle:t.sbo.localization.Helper.get("app/oppo/OPPORTUNITY")}),$.when(this._oStageService.query()).done(function(a){o._oStageModel.setValue("metadata",a.value),$.when(t.sbo.page.pad.BoMetadataEditController.prototype.initView.call(o)).done(function(){var a=o._oMetadataValueModel.getValue("dataOwnershipfield");null!=a&&$.when(o.oAttachementService.getPortraitId(a)).done(function(e){if(-1!==e.value){var i={};i.attachmentId=e.value,i.ownerCode=a;var s=t.sbo.app.task.taskUtil.PreviewUrl(i);o._modelOwner.setValue("OwnerImage",{url:s})}}),o.getMainControl().getOption("dynamicMeta").closingDate.readOnly=!0,o.getMainControl().getOption("dynamicMeta").totalAmt.readOnly=!0,o._oMetadataValueModel.attachEvent("valueChanged",function(){o.getMainControl().getOption("dynamicMeta").closingDate.readOnly=!0,o.getMainControl().getOption("dynamicMeta").totalAmt.readOnly=!0}.bind(o)),o.setTitle({title:o.boGetValue("opportunityName")||t.sbo.localization.Helper.get("app/oppo/NO_NAME")}),e.resolve()}).fail(function(t){window.SboShell.raiseException(t),e.reject(t)}),o.$().control({"[ctrl='main']":{listener:{afterProcess:function(){o.$("[property='salesOpportunitiesLines']").getControl().setOption("getBO",function(){return o.boGetValue()}),o.$("[property='salesOpportunitiesLines']").getControl().setOption("setBO",function(e){o._oMetadataValueModel.setValue("",e)})}}}})}).fail(function(t){window.SboShell.raiseException(t),e.reject(t)}),this.$().on("GuilinControlEvent.navigate GuilinControlEvent.choose",".sbo-metadata-list-property",function(e){switch($(e.currentTarget).attr("gl-property")){case"dataOwnershipfield":if("navigate"===e.namespace){var a=o._oMetadataValueModel.getValue("dataOwnershipfield");null!==a&&window.SboShell.gotoView("sap.sbo.page.pad.user.BasicInfo",[{keyName:"employeeID",keyValue:a}])}else window.SboShell.openFrame({view:"sap.sbo.chooseList.pad.ChooseListEmployee",options:{},type:"right",callback:function(e,a){"close"===e||"select"===e&&(o._oMetadataValueModel.setValue("dataOwnershipfield",a.employeeID),o._oMetadataValueModel.setValue("ownerEmployeeDisplayName",a.displayName),$.when(o.oAttachementService.getPortraitId(a.employeeID)).done(function(e){if(-1!==e.value){var i={};i.attachmentId=e.value,i.ownerCode=a.employeeID;var s=t.sbo.app.task.taskUtil.PreviewUrl(i);o._modelOwner.setValue("OwnerImage",{url:s})}}))}});break;case"source":window.SboShell.openFrame({view:"sap.sbo.chooseList.pad.ChooseListSource",options:{},type:"right",callback:function(e,t){"close"===e||"select"===e&&(o._oMetadataValueModel.setValue("source",t.sequenceNo),o._oMetadataValueModel.setValue("sourceDescription",t.description))}});break;case"reasonForClosing":window.SboShell.openFrame({view:"sap.sbo.chooseList.pad.ChooseListReason",options:{},type:"right",callback:function(e,t){"close"===e||"select"===e&&(o._oMetadataValueModel.setValue("reasonForClosing",t.sequenceNo),o._oMetadataValueModel.setValue("reasonDescription",t.description))}});break;case"cardCode":window.SboShell.gotoView("sap.sbo.page.pad.Customer.CustomerHome",[{keyName:"cardCode",keyValue:o._oMetadataValueModel.getValue("cardCode")}])}}),e.promise()},destroyView:function(){this.$().unprocess(),this.$().off("GuilinControlEvent.navigate GuilinControlEvent.choose"),t.sbo.page.pad.BoMetadataEditController.prototype.destroyView.call(this)},update:function(){},getMainControl:function(){return this.$("[ctrl='main']").getControl()},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"SalesOpportunity",keyElements:this._mViewInfo.storeParam}},getService:function(){return this._oService},process:function(){this.$().process(e)},boValidate:function(){},shouldBeRecorded:function(){return!0}},Protected:{}})}),define("sap.sbo.page.pad.SalesOpportunity.CreationFrame2",["sap.ui.Controller","sap.sbo.page.pad.BoMetadataCreationFrameController","sap.sbo.layout.pad.MetadataList","sap.sbo.services.SalesOpportunitiesService","sap.sbo.ui.widget.BoStatus","sap.ui.widget.TextField","sap.ui.widget.TextArea","sap.sbo.ui.widget.DateTimeField","sap.sbo.util.formatter","sap.ui.widget.Button","sap.util","sap.sbo.services.SalesStagesService","sap.sbo.app.SalesOpportunity.Stage","sap.ui.widget.ValueHelpField","sap.sbo.localization.Helper","sap.core.JsonModel","sap.core.ListSourceFilter","sap.sbo.ui.widget.RelatedValueDropDownBox","json!sap.sbo.util.enums","css!sap.sbo.page.pad.Document.DocumentCreation","css!sap.sbo.app.template.EditProperty","css!sap.sbo.app.template.DynamicProperty"],function(){"use strict";var e=this.getNS(),t=e.sap,o=t.sbo.page.pad.BoMetadataCreationFrameController;return e.formatter={convertEmtpyNull:function(e,t){return"<<"===t?null===e?"":e:">>"===t?""===e?null:e:void 0}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:o,Options:{cardCode:{type:"any",defaultValue:void 0},cardName:{type:"any",defaultValue:void 0}},Public:{init:function(){o.prototype.init.apply(this,arguments),this.declareMember({_oService:new t.sbo.services.SalesOpportunitiesService,_oStageService:new t.sbo.services.SalesStagesService,_oStageModel:new t.core.JsonModel({metadata:[]}),_oSalesLine:null})},destroy:function(){this._oService.destroy()},initView:function(){var a=$.Deferred(),i=this;return i.$().setModel(this._oStageModel,"stage"),$.when(this._oStageService.query()).done(function(s){i._oStageModel.setValue("metadata",s.value),$.when(o.prototype.initView.call(i)).done(function(e,t){null!==i.getOption("cardCode")&&void 0!==i.getOption("cardCode")&&(t.cardCode=i.getOption("cardCode"),t.customerName=i.getOption("cardName"),i._oMetadataValueModel.setValue("",t)),null!==t.cardCode||null!==i.getOption("cardCode"),i.$("[property='salesOpportunitiesLines']").getControl().setOption("getBO",function(){return i._oSalesLine}),i.$(".salesOpportunitiesItems.field>.value>.product>.navigation").on("vclick",function(){window.SboShell.openFrame({view:"sap.sbo.page.pad.SalesOpportunity.ItemsEdit",type:"full",options:{boData:i._oMetadataValueModel.getValue("")},callback:function(e,t){t&&i._oMetadataValueModel.setValue("",t)}})}),i.$().onControlEvent("click",'[data-id="source"]',function o(){i.$().offControlEvent("click",'[data-id="source"]'),window.SboShell.openFrame({view:"sap.sbo.chooseList.pad.ChooseListSource",options:{},type:"right",callback:function(e,t){"close"===e?i.$().onControlEvent("click",'[data-id="source"]',o):"select"===e&&(i._oMetadataValueModel.setValue("source",t.sequenceNo),i._oMetadataValueModel.setValue("sourceDescription",t.description))}})}),i.$().onControlEvent("click",'[data-id="ownerName"]',function o(){i.$().offControlEvent("click",'[data-id="ownerName"]'),window.SboShell.openFrame({view:"sap.sbo.chooseList.pad.ChooseListEmployee",options:{},type:"right",callback:function(e,t){"close"===e?i.$().onControlEvent("click",'[data-id="ownerName"]',o):"select"===e&&(i._oMetadataValueModel.setValue("dataOwnershipfield",t.employeeID),i._oMetadataValueModel.setValue("ownerEmployeeDisplayName",t.displayName))}})}),a.resolve()}).fail(function(e){a.reject(e)}),i.$().control({'[ctrl="btnSaveOpen"]':{listener:{click:function(){t.util.showLoading(),$.when(i.boCreate()).done(function(e){var o={boNamespace:"com.sap.sbo",boName:"SalesOpportunity",keyElements:[{keyName:"sequentialNo",keyValue:e.sequentialNo}]};i.callShell("save",o),window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/oppo/CREATION_SUCCESS"),"success"),window.SboShell.gotoView("sap.sbo.page.pad.SalesOpportunity.Home",[{keyName:"sequentialNo",keyValue:e.sequentialNo}])}).fail(function(){}).always(function(){t.util.hideLoading()})}}},'[ctrl="btnCancel"]':{listener:{click:function(){i.callShell("close")}}},"[ctrl='main']":{listener:{afterProcess:function(){i.$('[index="cardCode"]').getControl()&&i.$('[index="cardCode"]').getControl().attachEvent("click",function(){window.SboShell.openFrame({view:"sap.sbo.chooseList.pad.ChooseListCustomer",type:"right",options:{filter:new t.core.ListSourceFilter("(`isActive` = '"+e.json.sap.sbo.util.enums.bool.Yes+"')")},callback:function(e,t){"select"===e&&i.getModel().setValue("cardCode",t.cardCode)}})})}}}})}).fail(function(e){a.reject(e)}),a.promise()},destroyView:function(){o.prototype.destroyView.call(this)},update:function(){o.prototype.update.apply(this,arguments)},getMainControl:function(){return this.$("[ctrl='main']").getControl()},getBoType:function(){return{boNamespace:"com.sap.sbo",boName:"SalesOpportunity"}},getService:function(){return this._oService},process:function(){this.$().process(e)},boValidate:function(){},getInitBo:function(){var e=this,t=$.Deferred();return $.when(this.getService().getInit()).done(function(o){$.when(e.getService().getInitBoNode(o,"Root/salesOpportunitiesLines")).done(function(o){o.salesOpportunitiesLines[0].stageKey=1,o.salesOpportunitiesLines[0].startDate="/Date("+Date.now()+")/",o.startDate=o.salesOpportunitiesLines[0].startDate,e._oSalesLine=o,t.resolve(o)}).fail(function(e){t.reject(e)})}).fail(function(e){t.reject(e)}),t.promise()}},Protected:{}})}),define("sap.sbo.page.pad.SalesOpportunity.Home",["sap.core.klass","sap.core.JsonModel","sap.ui.View","sap.sbo.layout.TileView","sap.ui.common","sap.util","sap.log","sap.ui.Controller","sap.ui.widget.TextField","sap.ui.widget.TextArea","sap.sbo.ui.widget.DateTimeField","sap.ui.widget.Currency","sap.ui.Repeat","sap.ui.widget.Button","sap.sbo.layout.pad.AdvancedTilesLayout","sap.sbo.shell.IFeaturable","sap.ui.widget.Button","sap.sbo.app.network.FeedTile","sap.sbo.services.SalesOpportunitiesService","sap.sbo.services.ContactPersonsService","sap.sbo.util.formatter","sap.sbo.ui.widget.Stage","sap.sbo.app.network.RelatedTile","sap.ui.Repeat","sap.sbo.localization.Helper","sap.sbo.layout.pad.MetadataRaw","sap.sbo.shell.IFeaturable","sap.sbo.page.pad.BoHomeController","sap.sbo.util.metadataHelper","sap.sbo.ui.widget.DecimalLabel","sap.formatter","css!sap.sbo.app.template.GeneralProperty","html!sap.sbo.app.template.DynamicProperty","css!sap.sbo.app.template.DynamicProperty","css!sap.sbo.app.template.EditProperty","css!sap.sbo.page.pad.SalesOpportunity.Home","css!sap.sbo.app.template.TileProperty"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={statusText:function(e){switch(e){case"sos_Open":return t.sbo.localization.Helper.get("app/OPEN");case"sos_Missed":return t.sbo.localization.Helper.get("app/LOST");case"sos_Sold":return t.sbo.localization.Helper.get("app/WON")}},convertStatusImage:function(e){switch(e){case"sos_Open":return"image/BO/Open.png";case"sos_Missed":return"image/BO/Reject.png";case"sos_Sold":return"image/BO/Won_Complete.png";default:return""}}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.pad.BoHomeController,Interfaces:[t.sbo.shell.IFeaturable],Options:{},Public:{init:function(){t.sbo.page.pad.BoHomeController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{_oModel:new t.core.JsonModel({}),_mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),_oService:new t.sbo.services.SalesOpportunitiesService,_oContactService:this.autoDestroy(new t.sbo.services.ContactPersonsService),__modelRelated:this.autoDestroy(new t.core.JsonModel({contactNumber:0})),_onActionButtonClickProxy:$.proxy(this._onActionButtonClickHandler,this)}),this.setTitle({title:t.sbo.localization.Helper.get("app/oppo/OPPORTUNITY"),subTitle:t.sbo.localization.Helper.get("app/oppo/OPPORTUNITY")}),window.SboShell.attachEvent("actionButtonClick",this._onActionButtonClickProxy)},destroy:function(){window.SboShell.detachEvent("actionButtonClick",this._onActionButtonClickProxy),this._oService.destroy()},initView:function(){var o=$.Deferred(),a=this;return $.when(t.sbo.page.pad.BoHomeController.prototype.initView.apply(this,arguments)).done(function(i){var s=i;a.$().setModel(a._oModel),a.$().setModel(a.__modelRelated,"Related"),t.util.showLoading(),$.when(a._oService.get(a.convertBoKey(a._mViewInfo.storeParam))).done(function(i){a._oModel.setValue("",i);var n={};n.filter="cardCode eq '"+i.cardCode+"'",n.select="contactPersonID",a._oContactService.query(n).done(function(e){a.__modelRelated.setValue("contactNumber",e.value.length)}),a.setTitle(i.opportunityName||t.sbo.localization.Helper.get("app/oppo/NO_NAME")),window.SboShell.addFeature(a,"relatedFilter.BOkey","method"),a.autoDestroy("remove the realted filter",window.SboShell.removeFeature.bind(window.SboShell,"relatedFilter.BOkey")),a.$().process(e),a.$().control({"[ctrl='layout']":{listener:{startLayout:function(){this.setOption("editable",!0),window.SboShell.showActionButtons(["saveLayout"])},afterProcess:function(){var o=t.sbo.util.metadataHelper.convert(s);a.$("[field='basicInfo']").getControl().setOption({metadata:o.properties,enumMeta:o.enumTypes,dynamicMeta:t.sbo.util.metadataHelper.convertDynamicMeta(i["sbo.dynamicmeta"]).properties,propertyTemplate:e.html.sap.sbo.app.template.DynamicProperty,readonly:!0})}}}}),a.$().on("vclick","[field='basicInfo']",function(){window.SboShell.gotoView("sap.sbo.page.pad.SalesOpportunity.BasicInfoEdit",a._mViewInfo.storeParam)}),a.$().on("vclick","[field='products']",function(){window.SboShell.gotoView("sap.sbo.page.pad.SalesOpportunity.ItemsEdit",a._mViewInfo.storeParam)}),a.$().on("vclick","[field='contacts']",function(){window.SboShell.gotoView("sap.sbo.page.pad.Contact.ContactListView",{boName:a.getBoKeyEntity().boName,keyParam:a._mViewInfo.storeParam,BPcardCode:a._oModel.getValue("cardCode"),BPcardName:a._oModel.getValue("customerName")},{MainContact:a._oModel.getValue("contactPerson")})}),window.SboShell.addActionButtons({key:"copyto_quote",text:t.sbo.localization.Helper.get("common/COPY_TO_QUOTE")},a),window.SboShell.addActionButtons({key:"copyto_order",text:t.sbo.localization.Helper.get("common/COPY_TO_ORDER")},a),o.resolve()}).fail(function(e){window.SboShell.raiseException(e),o.reject(e)}).always(function(){t.util.hideLoading()})}).fail(function(e){window.SboShell.raiseException(e),o.reject(e)}),o.promise()},getService:function(){return this._oService},destroyView:function(){t.sbo.page.pad.BoHomeController.prototype.destroyView.apply(this,arguments),this.$().unprocess()},update:function(){},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"SalesOpportunity",keyElements:this._mViewInfo.storeParam}},doFeature:function(e){if("relatedFilter.BOkey"===e){var o=this._oModel.getValue("");return{key:"sequentialNo",value:o.sequentialNo}}return t.sbo.page.pad.BoHomeController.prototype.doFeature.apply(this,arguments)}},Protected:{_onActionButtonClickHandler:function(e){var o=this;switch(e){case"copyto_quote":t.util.showLoading(),$.when(o._oService.action_copyToQuotation(o._oModel.getValue(""))).done(function(e){SboShell.openFrame({view:"sap.sbo.page.pad.SalesQuotation.QuotationCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,callback:function(){},options:{boData:e}})}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()});break;case"copyto_order":t.util.showLoading(),$.when(o._oService.action_copyToOrder(o._oModel.getValue(""))).done(function(e){SboShell.openFrame({view:"sap.sbo.page.pad.SalesOrder.OrderCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,callback:function(){},options:{boData:e}})}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()})}}}})}),define("sap.sbo.page.pad.SalesOpportunity.ItemsEdit",["sap.sbo.page.pad.SubBoMetadataView","sap.sbo.ui.widget.DecimalInputField","sap.ui.Controller","sap.sbo.services.SalesOpportunitiesService","sap.sbo.util.formatter","sap.sbo.ui.widget.DecimalLabel","sap.sbo.ui.widget.DecimalInputField","sap.sbo.ui.widget.BoLabel","sap.formatter","sap.sbo.localization.Helper","sap.core.ListSourceFilter","json!sap.sbo.util.enums","css!sap.sbo.page.pad.SalesOpportunity.ItemsEdit"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.pad.SubBoMetadataView,Options:{},Public:{init:function(){t.sbo.page.pad.SubBoMetadataView.prototype.init.apply(this,arguments),this.declareMember({__mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo")}),this.__oService=this.autoDestroy(new t.sbo.services.SalesOpportunitiesService)},destroy:function(){},initView:function(){var o=$.Deferred();return $.when(t.sbo.page.pad.SubBoMetadataView.prototype.initView.call(this,e)).done(function(){o.resolve()}),this.$().on("GuilinControlEvent.navigate GuilinControlEvent.choose",function(o){switch($(o.target).attr("data-boLabel")){case"itemCode":"navigate"===o.namespace?window.SboShell.gotoView("sap.sbo.page.pad.Product.ProductHome",[{keyName:"itemCode",keyValue:$(o.target).findModel("loop").getValue("data/itemCode")}]):window.SboShell.openFrame({view:"sap.sbo.chooseList.pad.ChooseListProduct",type:"right",options:{filter:new t.core.ListSourceFilter("(`isActive` = '"+e.json.sap.sbo.util.enums.bool.Yes+"')")},callback:function(e,t){"select"===e&&$(o.target).findModel("loop").setValue("data/itemCode",t.itemCode)}})}}),o.promise()},destroyView:function(){t.sbo.page.pad.SubBoMetadataView.prototype.destroyView.call(this),this.$().off("GuilinControlEvent.navigate GuilinControlEvent.choose")},update:function(){t.sbo.page.pad.SubBoMetadataView.prototype.update.apply(this,arguments)},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"SalesOpportunity",keyElements:this.__mViewInfo.storeParam}},getSubNodeName:function(){return"SalesOpportunitiesItem"},getSubNodeBindPath:function(){return"salesOpportunitiesItems"},getIgnoredProperty:function(){return["itemCode","description","rowNo","sequenceNo"]},getTitle:function(e,o){return o>1?o+" "+t.sbo.localization.Helper.get("app/oppo/LABEL_ITEMS"):o+" "+t.sbo.localization.Helper.get("app/oppo/LABEL_ITEM")},getSubTitle:function(e){return e.opportunityName||t.sbo.localization.Helper.get("app/oppo/NO_NAME")},isNewCreateEnabled:function(){return!0},getEmptyTexts:function(){return[t.sbo.localization.Helper.get("app/oppor/CREATE_PDT1"),"desktop"===window.SboShell.callFeatureMethod("shell.getDeviceType")?t.sbo.localization.Helper.get("app/document/C_PDT_TILE"):t.sbo.localization.Helper.get("app/document/PDT_TILE")]}},Protected:{}})}),define("sap.sbo.page.pad.SalesOpportunity.ItemsEdit2",["sap.ui.Controller","sap.sbo.page.pad.SubBoMetadataView2","sap.sbo.services.SalesOpportunitiesService","sap.sbo.util.formatter","sap.sbo.localization.Helper","css!sap.sbo.page.pad.SalesOpportunity.ItemsEdit2"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.pad.SubBoMetadataView2,Options:{},Public:{init:function(){t.sbo.page.pad.SubBoMetadataView2.prototype.init.apply(this,arguments),this.declareMember({__mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo")}),this.__oService=this.autoDestroy(new t.sbo.services.SalesOpportunitiesService)},destroy:function(){},initView:function(){var o=$.Deferred();return $.when(t.sbo.page.pad.SubBoMetadataView2.prototype.initView.call(this,e)).done(function(){o.resolve()}.bind(this)),o.promise()},destroyView:function(){t.sbo.page.pad.SubBoMetadataView2.prototype.destroyView.call(this)},update:function(){t.sbo.page.pad.SubBoMetadataView2.prototype.update.apply(this,arguments)},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"SalesOpportunity",keyElements:this.__mViewInfo.storeParam}},getSubNodeName:function(){return"SalesOpportunitiesItem"},getSubNodeBindPath:function(){return"salesOpportunitiesItems"},getEditFrameModuleName:function(){return"sap.sbo.page.pad.SalesOpportunity.ItemsEdit2EditFrame"},getTitle:function(e,o){return o+" "+t.sbo.localization.Helper.get("common/PRODUCT_NAME")},getSubTitle:function(e){return e.opportunityName||t.sbo.localization.Helper.get("app/oppo/NO_NAME")},isNewCreateEnabled:function(){return!0}},Protected:{}})}),define("sap.sbo.page.pad.SalesOpportunity.ItemsEdit2EditFrame",["sap.ui.Controller","sap.sbo.page.pad.SubBoMetadataView2EditFrame","sap.core.ListSourceFilter","json!sap.sbo.util.enums","css!sap.sbo.page.pad.SalesOpportunity.ItemsEdit2EditFrame"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.pad.SubBoMetadataView2EditFrame,Options:{},Public:{init:function(){t.sbo.page.pad.SubBoMetadataView2EditFrame.prototype.init.apply(this,arguments),this.declareMember({})},destroy:function(){},initView:function(){var o=this,a=$.when(t.sbo.page.pad.SubBoMetadataView2EditFrame.prototype.initView.apply(this,arguments)).done(function(){o.$().on("vclick",".itemCode",function(){window.SboShell.openFrame({view:"sap.sbo.chooseList.pad.ChooseListProduct",type:"right",options:{filter:new t.core.ListSourceFilter("(`isActive` = '"+e.json.sap.sbo.util.enums.bool.Yes+"')")},callback:function(e,t){"select"===e&&o.setModelValue("itemCode",t.itemCode)}})})});return a},destroyView:function(){t.sbo.page.pad.SubBoMetadataView2EditFrame.prototype.destroyView.call(this)},update:function(){t.sbo.page.pad.SubBoMetadataView2EditFrame.prototype.update.apply(this,arguments)},getIgnoredProperty:function(){return["rowNo","sequenceNo"]}},Protected:{}})}),define("sap.sbo.page.pad.SalesOpportunity.ListView",["sap.core.klass","sap.core.JsonModel","sap.ui.Controller","sap.sbo.layout.pad.ListLayout","sap.core.ArrayListSource","sap.sbo.util.AjaxListSource","sap.sbo.services.SalesOpportunitiesService","sap.sbo.localization.Helper","sap.sbo.page.BaseBoListViewController","sap.sbo.ui.widget.ListManipulator","sap.sbo.ui.widget.DecimalLabel","sap.formatter","sap.sbo.services.SalesStagesService","sap.sbo.ui.widget.MultipleValueHelp","sap.sbo.page.common.oppUtil","json!sap.sbo.page.common.listFilters.SalesOpportunity","css!sap.sbo.page.pad.boListView","css!sap.sbo.page.pad.SalesOpportunity.ListView"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.BaseBoListViewController,Public:{init:function(){t.sbo.page.BaseBoListViewController.prototype.init.apply(this,arguments),this.declareMember({__opportunityService:this.autoDestroy(new t.sbo.services.SalesOpportunitiesService),__model:this.autoDestroy(new t.core.JsonModel({})),_oAjaxListSource:null}),this._oAjaxListSource=this.autoDestroy(new t.sbo.util.AjaxListSource(this.__opportunityService))},destroy:function(){},initView:function(){var o=this,a=$.Deferred();return $.when(t.sbo.page.BaseBoListViewController.prototype.initView.call(this)).done(function(){o.$().process(e),t.sbo.page.common.oppUtil.constructStageEnum(o._oManipulatorModel),o.canQuery()&&o.$().control({'div[data-id="listView"]':{emptyTexts:[t.sbo.localization.Helper.get("app/oppo/PURPOSE"),t.sbo.localization.Helper.get("app/oppo/USAGE"),t.sbo.localization.Helper.get("app/oppo/TO_CREATE")],source:o._oAjaxListSource,sort:{field:"sequentialNo"},listener:{itemClick:function(e){window.SboShell.gotoView("sap.sbo.page.pad.SalesOpportunity.Home",[{keyName:"sequentialNo",keyValue:e.sequentialNo}])},create:function(){o.__create()},requestDone:function(e){1===e.count?o.setTitle({title:t.sbo.localization.Helper.get("app/oppo/OPPORTUNITY")}):o.setTitle({title:t.sbo.localization.Helper.get("app/oppo/OPPORTUNITIES")}),window.SboShell.setHeaderCount(e.count)}}}}),t.core.klass.declareMember(o,{__buttonClicked:function(e){switch(e){case"Create":o.__create();break;default:}}}),o.canCreate()&&(window.SboShell.addActionButtons([{text:t.sbo.localization.Helper.get("app/oppo/CREATE"),key:"Create"}],o),window.SboShell.attachEvent("actionButtonClick",o.__buttonClicked)),a.resolve()}).fail(function(){a.reject()}),a.promise()},destroyView:function(){t.sbo.page.BaseBoListViewController.prototype.destroyView.call(this),this.$().unprocess(),this.canCreate()&&SboShell.detachEvent("actionButtonClick",this.__buttonClicked)},update:function(){},getMainControl:function(){return this.$('div[data-id="listView"]')},getService:function(){return this.__opportunityService},getQuickFilters:function(){if(e&&e.json&&e.json.sap&&e.json.sap.sbo&&e.json.sap.sbo.page&&e.json.sap.sbo.page.common&&e.json.sap.sbo.page.common.listFilters&&e.json.sap.sbo.page.common.listFilters.SalesOpportunity){var o=e.json.sap.sbo.page.common.listFilters.SalesOpportunity,a={};for(var i in o)a[i]={},a[i].expr=o[i],a[i].label=t.sbo.localization.Helper.get("app/oppo/"+i),a[i].description=a[i].label;return a}return{}},getBoNameEntity:function(){return{boNamespace:"com.sap.sbo",boName:"SalesOpportunity"}},getListSource:function(){return this._oAjaxListSource},getProcessContext:function(){return e}},Protected:{__create:function(){SboShell.openFrame({view:"sap.sbo.page.pad.SalesOpportunity.CreationFrame2",type:"center-column"})}}})}),define("sap.sbo.page.pad.SalesOrder.OrderCreation",["sap.ui.Controller","sap.sbo.page.pad.BoMetadataCreationFrameController","sap.sbo.layout.pad.MetadataList","sap.sbo.services.OrdersService","sap.sbo.ui.widget.BoStatus","sap.ui.widget.TextField","sap.ui.widget.TextArea","sap.sbo.ui.widget.DateTimeField","sap.sbo.util.formatter","sap.ui.widget.Button","sap.util","sap.sbo.ui.widget.BoLabel","sap.sbo.localization.Helper","sap.sbo.core.BoException","sap.core.JsonModel","sap.core.ListSourceFilter","sap.sbo.ui.widget.DecimalLabel","sap.formatter","json!sap.sbo.util.enums","css!sap.sbo.page.pad.Document.DocumentCreation","css!sap.sbo.app.template.EditProperty","css!sap.sbo.app.template.DynamicProperty"],function(){"use strict";var e=this.getNS(),t=e.sap,o=t.sbo.page.pad.BoMetadataCreationFrameController;return e.formatter={string_null:function(e,t){return"<<"===t?e||"":e},null_bool:function(e){return e?!0:!1}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:o,Options:{cardCode:{type:"any",defaultValue:void 0},cardName:{type:"any",defaultValue:void 0}},Public:{init:function(){o.prototype.init.apply(this,arguments),this._oService=this.autoDestroy(new t.sbo.services.OrdersService),this.declareMember({__CardCodemodel:this.autoDestroy(new t.core.JsonModel({readonly:!1}))})},destroy:function(){},initView:function(){var a=this,i=$.Deferred();return this.$().setModel(a.__CardCodemodel,"cardCodeModel"),$.when(o.prototype.initView.call(this)).done(function(){var e=a.getOption("cardCode");e&&(a.__CardCodemodel.setValue("readonly",!0),a._oMetadataValueModel.setValue("cardCode",e),a._oMetadataValueModel.setValue("cardName",a.getOption("cardName"))),a.$().control({'[ctrl="btnSaveOpen"]':{listener:{click:function(){t.util.showLoading(),$.when(a.boCreate()).done(function(e){window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/ORDER_CREATE_SUCCESSFUL"),"success"),window.SboShell.gotoView("sap.sbo.page.pad.SalesOrder.SalesOrderHome",[{keyName:"docEntry",keyValue:e.docEntry}])}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()})}}},'[ctrl="btnCancel"]':{listener:{click:function(){a.callShell("close")}}}}),a.$().on("vclick",".salesOrderItems.field",function(){window.SboShell.openFrame({view:"sap.sbo.page.pad.Document.ItemsEdit",type:"full",width:954,height:734,options:{boData:a._oMetadataValueModel.getValue(""),boName:"Order"},callback:function(e,t){t&&a._oMetadataValueModel.setValue("",t)}})}),i.resolve()}).fail(function(e){window.SboShell.raiseException(e),i.reject(e)}),this.$().on("GuilinControlEvent.navigate GuilinControlEvent.choose",".sbo-metadata-list-property",function(o){switch($(o.currentTarget).attr("gl-property")){case"cardCode":window.SboShell.openFrame({view:"sap.sbo.chooseList.pad.ChooseListCustomer",options:{filter:new t.core.ListSourceFilter("(`isActive` = '"+e.json.sap.sbo.util.enums.bool.Yes+"')")},type:"right",callback:function(e,t){"close"===e||"select"===e&&(a._oMetadataValueModel.setValue("cardCode",t.cardCode),a._oMetadataValueModel.setValue("cardName",t.cardName))
}})}}),i.promise()},destroyView:function(){this.$().off("GuilinControlEvent.navigate GuilinControlEvent.choose"),o.prototype.destroyView.call(this)},update:function(){o.prototype.update.apply(this,arguments)},getMainControl:function(){return this.$("[ctrl='main']").getControl()},getBoType:function(){return{boNamespace:"com.sap.sbo",boName:"Order"}},getService:function(){return this._oService},process:function(){this.$().process(e)},boValidate:function(e){if(!e.cardCode){var o=new t.sbo.core.BoException(t.sbo.localization.Helper.get("app/document/INPUT_CARD_CODE"),"error");throw o}if(!e.docDate){var o=new t.sbo.core.BoException(t.sbo.localization.Helper.get("app/document/INPUT_POST_DATE"),"error");throw o}if(!e.docDueDate){var o=new t.sbo.core.BoException(t.sbo.localization.Helper.get("app/document/INPUT_DEL_DATE"),"error");throw o}if(!e.documentLines.length){var o=new t.sbo.core.BoException(t.sbo.localization.Helper.get("app/document/ADD_LINE"),"error");throw o}if(e.discountPercent>100){var o=new t.sbo.core.BoException(t.sbo.localization.Helper.get("app/document/DISCNTTOOLAGER"),"error");throw o}}},Protected:{}})}),define("sap.sbo.page.pad.SalesOrder.OrderPrint",["sap.sbo.ui.FrameViewController","sap.ui.Controller","sap.core.klass","sap.core.JsonModel","sap.sbo.compoundservices.PreviewService","sap.sbo.services.BaseService","css!sap.sbo.page.pad.SalesOrder.OrderPrint"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Options:{orderID:{type:"integer",defaultValue:-1}},Public:{init:function(){t.sbo.ui.FrameViewController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{__oService:new t.sbo.compoundservices.PreviewService,__modelOrderMeta:this.autoDestroy(new t.core.JsonModel({})),__orderID:null})},destroy:function(){this.__oService=null},initView:function(){var o=$.Deferred(),a=this;return this.__orderID=this.getOption("orderID"),this.__bDesktop="desktop"==window.SboShell.callFeatureMethod("shell.getDeviceType"),this.$().setModel(this.__modelOrderMeta),this.$().find("#cancel").on("vclick",function(){a.closeFrame()}),this.__bDesktop&&this.$().find("#download").on("vclick",function(){var e=encodeURI(t.sbo.services.BaseService.documentbase+"file/customDownload/order/"+a.__orderID);window.open(e,"newtab")}),$.when(this.__oService.previewOrder(this.__orderID)).done(function(t){$("#order").contents().find("body").html(t.value),a.__modelOrderMeta.setValue("device",{isDesktop:a.__bDesktop?"block":"none"}),a.$().process(e),o.resolve()}).fail(function(e){window.SboShell.raiseException(e),o.reject(e)}),o.promise()},destroyView:function(){this.__oService.destroy(),this.__oService=null,this.$().unprocess(),this.$().find("#cancel").off("vclick"),this.__bDesktop&&this.$().find("#download").off("vclick")},update:function(){},resize:function(){}},Protected:{},Static:{}})}),define("sap.sbo.page.pad.SalesOrder.SalesOrderEdit",["css!sap.sbo.app.template.EditProperty","sap.core.klass","sap.ui.Controller","sap.sbo.layout.pad.MetadataLayout","sap.core.JsonModel","sap.ui.widget.TextField","sap.sbo.services.OrdersService","sap.sbo.services.CountriesService","sap.sbo.services.StatesService","sap.sbo.services.ShippingTypesService","sap.sbo.services.BusinessPartnersService","sap.sbo.page.pad.BoMetadataEditController","sap.ui.widget.TextArea","sap.sbo.ui.widget.DateTimeField","sap.sbo.util.formatter","sap.util","sap.sbo.ui.widget.BoStatus","sap.ui.widget.Checkbox","sap.sbo.util.formatter","sap.sbo.ui.widget.BoLabel","sap.ui.widget.Photo","sap.core.JsonModel","sap.ui.widget.DropDownBox","sap.sbo.localization.Helper","sap.sbo.core.BoException","sap.sbo.ui.widget.Address","sap.sbo.compoundservices.AttachmentService","sap.sbo.app.task.taskUtil","css!sap.sbo.page.pad.boEdit","css!sap.sbo.page.pad.boAddress"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={isZero:function(e){return 0===e},string_null:function(e,t){return"<<"===t?e||"":e}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.pad.BoMetadataEditController,Public:{init:function(){t.sbo.page.pad.BoMetadataEditController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{_oService:new t.sbo.services.OrdersService,_mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),__modelOwner:this.autoDestroy(new t.core.JsonModel({ownerName:"",OwnerImage:{url:"./image/common/no-pic-avatar.jpg"}})),__modelAddressMeta:this.autoDestroy(new t.core.JsonModel({})),__oListCRYService:this.autoDestroy(new t.sbo.services.CountriesService),__oListCSTService:this.autoDestroy(new t.sbo.services.StatesService),__oShippingTypesService:this.autoDestroy(new t.sbo.services.ShippingTypesService),__oListModel:this.autoDestroy(new t.core.JsonModel({countryS:[],stateS:[],countryB:[],stateB:[],shipType:[]})),__BPService:this.autoDestroy(new t.sbo.services.BusinessPartnersService),oAttachementService:this.autoDestroy(new t.sbo.compoundservices.AttachmentService),__fActionButtonClickedProxy:$.proxy(this.__actionBtnClick,this),__orderID:null});var e=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo");this.__orderID=e.storeParam[0].keyValue,window.SboShell.addActionButtons([{key:"preview",text:t.sbo.localization.Helper.get("page/button/preview")}],this),window.SboShell.attachEvent("actionButtonClick",this.__fActionButtonClickedProxy)},destroy:function(){this._oService.destroy()},initView:function(){var e=$.Deferred(),o=this;return this.$().setModel(this.__modelOwner,"owner"),o.$().setModel(o.__oListModel,"list"),this.$().setModel(this.__modelAddressMeta,"addressMeta"),$.when(t.sbo.page.pad.BoMetadataEditController.prototype.initView.call(this),this.__oListCRYService.query(),this.__oListCSTService.query(),this.__oShippingTypesService.query()).done(function(e,a,i,s){var n=e[1];o.__modelAddressMeta.setValue("",n.nodes.AddressExtension.reduce(function(e,t){return e[t.property]=t.option,e},{})),o.__oListModel.setValue("countryS",a.value),o.__oListModel.setValue("countryB",a.value);var r=o._oMetadataValueModel.getValue("addressExtension/0/shipToCountry"),l={filter:"country eq '"+r+"'"};$.when(o.__oListCSTService.query(l)).done(function(e){o.__oListModel.setValue("stateS",e.value)});var d=o._oMetadataValueModel.getValue("addressExtension/0/billToCountry"),l={filter:"country eq '"+d+"'"};$.when(o.__oListCSTService.query(l)).done(function(e){o.__oListModel.setValue("stateB",e.value)}),o.__oListModel.setValue("shipType",s.value),o.setTitle(t.sbo.localization.Helper.get("app/BASIC")),o.$().on("vclick",'[data-id="billto"]',function(){var e=o._oMetadataValueModel.getValue("cardCode");$.when(o.__BPService.get({cardCode:e})).done(function(e){for(var t=e.bPAddresses,a=t.length-1;a>=0;--a)"bo_BillTo"!==t[a].addressType&&t.splice(a,1);window.SboShell.openFrame({view:"sap.sbo.chooseList.pad.ChooseListAddress",type:"right",options:{array:t},callback:function(e,t){"select"===e&&(o._oMetadataValueModel.setValue("addressExtension/0/billToStreet",t.street),o._oMetadataValueModel.setValue("addressExtension/0/billToBlock",t.block),o._oMetadataValueModel.setValue("addressExtension/0/billToCity",t.city),o._oMetadataValueModel.setValue("addressExtension/0/billToZipCode",t.zipCode),o._oMetadataValueModel.setValue("addressExtension/0/billToState",t.state),o._oMetadataValueModel.setValue("addressExtension/0/billToCountry",t.country),o.$('[data-id="dropdownlistforbilltocountry"]').getControl().fireEvent("change",!0))}})}).fail(function(){})}),o.$('[data-id="shipto"]').on("vclick",function(){var e=o._oMetadataValueModel.getValue("cardCode");$.when(o.__BPService.get({cardCode:e})).done(function(e){for(var t=e.bPAddresses,a=t.length-1;a>=0;--a)"bo_ShipTo"!==t[a].addressType&&t.splice(a,1);window.SboShell.openFrame({view:"sap.sbo.chooseList.pad.ChooseListAddress",type:"right",options:{array:t},callback:function(e,t){"select"===e&&(o._oMetadataValueModel.setValue("addressExtension/0/shipToStreet",t.street),o._oMetadataValueModel.setValue("addressExtension/0/shipToBlock",t.block),o._oMetadataValueModel.setValue("addressExtension/0/shipToCity",t.city),o._oMetadataValueModel.setValue("addressExtension/0/shipToZipCode",t.zipCode),o._oMetadataValueModel.setValue("addressExtension/0/shipToState",t.state),o._oMetadataValueModel.setValue("addressExtension/0/shipToCountry",t.country),o.$('[data-id="dropdownlistforshiptocountry"]').getControl().fireEvent("change",!0))}})}).fail(function(){})});var p=o._oMetadataValueModel.getValue("documentsOwner");if(null!=p&&$.when(o.oAttachementService.getPortraitId(p)).done(function(e){if(-1!==e.value){var a={};a.attachmentId=e.value,a.ownerCode=p;var i=t.sbo.app.task.taskUtil.PreviewUrl(a);o.__modelOwner.setValue("OwnerImage",{url:i})}}),o.$().onControlEvent("change",'[data-id="dropdownlistforshiptocountry"]',function(e){var t=o._oMetadataValueModel.getValue("addressExtension/0/shipToCountry"),a={filter:"country eq '"+t+"'"};$.when(o.__oListCSTService.query(a)).done(function(t){o.__oListModel.setValue("stateS",t.value),e||o._oMetadataValueModel.setValue("addressExtension/0/shipToState","")})}),o.$().onControlEvent("change",'[data-id="dropdownlistforbilltocountry"]',function(e){var t=o._oMetadataValueModel.getValue("addressExtension/0/billToCountry"),a={filter:"country eq '"+t+"'"};$.when(o.__oListCSTService.query(a)).done(function(t){o.__oListModel.setValue("stateB",t.value),e||o._oMetadataValueModel.setValue("addressExtension/0/billToState","")})}),0===o._oMetadataValueModel.getValue("addressExtension").length){var c=o._oMetadataValueModel.getValue("");$.when(o._oService.getInitBoNode(c,"Root/addressExtension")).done(function(e){o._oMetadataValueModel.setValue("addressExtension",e.addressExtension)}).fail(function(e){e instanceof t.sbo.core.BoException&&o.showErrorByExpr(e.getField(),e.getMessage())})}}).fail(function(t){window.SboShell.raiseException(t),e.reject(t)}).always(function(){e.resolve()}),this.$().on("GuilinControlEvent.navigate GuilinControlEvent.choose",".sbo-metadata-list-property",function(e){switch($(e.currentTarget).attr("gl-property")){case"documentsOwner":if("navigate"===e.namespace){var a=o._oMetadataValueModel.getValue("documentsOwner");null!==a&&window.SboShell.gotoView("sap.sbo.page.pad.user.BasicInfo",[{keyName:"employeeID",keyValue:a}])}else window.SboShell.openFrame({view:"sap.sbo.chooseList.pad.ChooseListEmployee",options:{},type:"right",callback:function(e,a){"close"===e||"select"===e&&(o._oMetadataValueModel.setValue("documentsOwner",a.employeeID),o._oMetadataValueModel.setValue("OwnerEmployeeDisplayName",a.displayName),$.when(o.oAttachementService.getPortraitId(a.employeeID)).done(function(e){if(-1!==e.value){var i={};i.attachmentId=e.value,i.ownerCode=a.employeeID;var s=t.sbo.app.task.taskUtil.PreviewUrl(i);o.__modelOwner.setValue("OwnerImage",{url:s})}}))}});break;case"cardCode":window.SboShell.gotoView("sap.sbo.page.pad.Customer.CustomerHome",[{keyName:"cardCode",keyValue:o._oMetadataValueModel.getValue("cardCode")}])}}),e.promise()},destroyView:function(){window.SboShell.detachEvent("actionButtonClick",this.__fActionButtonClickedProxy),this.$().off("GuilinControlEvent.navigate GuilinControlEvent.choose"),this.$().unprocess(),t.sbo.page.pad.BoMetadataEditController.prototype.destroyView.call(this)},update:function(){},getMainControl:function(){return this.$("[ctrl='main']").getControl()},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"Order",keyElements:this._mViewInfo.storeParam}},getService:function(){return this._oService},process:function(){this.$().process(e)}},Protected:{__actionBtnClick:function(e){switch(e){case"preview":window.SboShell.openFrame({view:"sap.sbo.page.pad.SalesOrder.OrderPrint",type:"center",width:630,height:768,options:{orderID:this.__orderID},callback:function(){}})}}}})}),define("sap.sbo.page.pad.SalesOrder.SalesOrderHome",["sap.core.klass","sap.core.JsonModel","sap.ui.View","sap.sbo.layout.TileView","sap.ui.common","sap.util","sap.log","sap.ui.Controller","sap.ui.widget.TextField","sap.ui.widget.TextArea","sap.sbo.ui.widget.DateTimeField","sap.ui.widget.Currency","sap.ui.Repeat","sap.ui.widget.Button","sap.sbo.layout.pad.AdvancedTilesLayout","sap.sbo.shell.IFeaturable","sap.sbo.app.network.FeedTile","sap.sbo.services.OrdersService","sap.sbo.services.ContactPersonsService","sap.sbo.util.formatter","sap.sbo.ui.widget.Stage","sap.sbo.app.network.RelatedTile","sap.ui.Repeat","sap.sbo.layout.pad.MetadataRaw","sap.sbo.util.metadataHelper","sap.sbo.page.pad.BoHomeController","sap.sbo.localization.Helper","sap.sbo.ui.widget.Address","sap.sbo.ui.widget.DecimalLabel","sap.ui.widget.Photo","sap.formatter","css!sap.sbo.app.template.GeneralProperty","html!sap.sbo.app.template.DynamicProperty","css!sap.sbo.app.template.DynamicProperty","css!sap.sbo.app.template.EditProperty","css!sap.sbo.page.pad.Document.DocumentHome","css!sap.sbo.app.template.TileProperty"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={string_null:function(e,t){return"<<"===t?e||"":e}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.pad.BoHomeController,Options:{},Public:{init:function(){t.sbo.page.pad.BoHomeController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{_oModel:new t.core.JsonModel({}),_oModelRelated:new t.core.JsonModel({contactNumber:0}),_mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),_oService:this.autoDestroy(new t.sbo.services.OrdersService),_oContactService:this.autoDestroy(new t.sbo.services.ContactPersonsService),_onActionButtonClickProxy:$.proxy(this._onActionButtonClickHandler,this)}),window.SboShell.attachEvent("actionButtonClick",this._onActionButtonClickProxy)},destroy:function(){window.SboShell.detachEvent("actionButtonClick",this._onActionButtonClickProxy)},getService:function(){return this._oService},initView:function(){var o=$.Deferred(),a=this;return $.when(t.sbo.page.pad.BoHomeController.prototype.initView.apply(this,arguments)).done(function(i){var s=i;a.$().setModel(a._oModel),a.$().setModel(a._oModelRelated,"Related"),a.setTitle({title:t.sbo.localization.Helper.get("common/ORDER_NAME")+" "+a.convertBoKey(a._mViewInfo.storeParam).docEntry,subTitle:t.sbo.localization.Helper.get("common/ORDER_NAME")}),t.util.showLoading(),$.when(a._oService.get(a.convertBoKey(a._mViewInfo.storeParam))).done(function(i){a._oModel.setValue("",i);var n={};n.filter="cardCode eq '"+i.cardCode+"'",n.select="contactPersonID",a._oContactService.query(n).done(function(e){a._oModelRelated.setValue("contactNumber",e.value.length)});var r=i.cardName||"";a.setTitle(r+" ("+i.docTotal+i.docCurrency+")"),a.$().process(e);var l=t.sbo.util.metadataHelper.convertDynamicMeta(i["sbo.dynamicmeta"]);a.$().control({"[ctrl='layout']":{listener:{afterProcess:function(){var o=t.sbo.util.metadataHelper.convert(s);a.$("[field='basicInfo']").getControl().setOption({metadata:o.properties,enumMeta:o.enumTypes,dynamicMeta:l.properties,propertyTemplate:e.html.sap.sbo.app.template.DynamicProperty,readonly:!0})}}}}),a.$().on("vclick","[field='basicInfo']",function(){window.SboShell.gotoView("sap.sbo.page.pad.SalesOrder.SalesOrderEdit",a._mViewInfo.storeParam)}),a.$().on("vclick","[field='products']",function(){window.SboShell.gotoView("sap.sbo.page.pad.Document.ItemsEdit",{boName:a.getBoKeyEntity().boName,keyParam:a._mViewInfo.storeParam})}),a.$().on("vclick","[field='contacts']",function(){window.SboShell.gotoView("sap.sbo.page.pad.Contact.ContactListView",{boName:a.getBoKeyEntity().boName,keyParam:a._mViewInfo.storeParam,BPcardCode:a._oModel.getValue("cardCode"),BPcardName:a._oModel.getValue("cardName")},{MainContact:a._oModel.getValue("contactPersonCode")})}),l.actions.close&&l.actions.close.enabled&&window.SboShell.addActionButtons([{key:"close",text:t.sbo.localization.Helper.get("common/CLOSE")}],a),l.actions.cancel&&l.actions.cancel.enabled&&window.SboShell.addActionButtons([{key:"cancel",text:t.sbo.localization.Helper.get("common/CANCEL")}],a),o.resolve()}).fail(function(e){o.reject(e)}).always(function(){t.util.hideLoading()})}),o.promise()},destroyView:function(){t.sbo.page.pad.BoHomeController.prototype.destroyView.apply(this,arguments),this.$().unprocess()},update:function(){},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"Order",keyElements:this._mViewInfo.storeParam}}},Protected:{_onActionButtonClickHandler:function(e){var o=this;switch(e){case"close":t.util.showLoading(),$.when(o._oService.action_close(o._oModel.getValue(""))).done(function(){window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/ORDER_CLOSED"),"success"),window.SboShell.gotoView("sap.sbo.page.pad.SalesOrder.SalesOrderHome",[{keyName:"docEntry",keyValue:o.getBoKeyEntity().keyElements[0].keyValue}])}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()});break;case"cancel":t.util.showLoading(),$.when(o._oService.action_cancel(o._oModel.getValue(""))).done(function(){window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/ORDER_CANCELED"),"success"),window.SboShell.gotoView("sap.sbo.page.pad.SalesOrder.SalesOrderHome",[{keyName:"docEntry",keyValue:o.getBoKeyEntity().keyElements[0].keyValue}])}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()})}}}})}),define("sap.sbo.page.pad.SalesOrder.SalesOrderListView",["sap.ui.Controller","sap.core.JsonModel","sap.sbo.layout.pad.ListLayout","sap.sbo.util.AjaxListSource","sap.sbo.services.OrdersService","sap.sbo.util.formatter","sap.sbo.ui.widget.DateLabel","sap.ui.widget.Photo","sap.sbo.page.BaseBoListViewController","sap.sbo.ui.widget.ListManipulator","sap.sbo.localization.Helper","sap.sbo.ui.widget.MultipleValueHelp","sap.sbo.ui.widget.DecimalLabel","sap.formatter","json!sap.sbo.page.common.listFilters.SalesOrder","css!sap.sbo.page.pad.boListView"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.BaseBoListViewController,Public:{init:function(){t.sbo.page.BaseBoListViewController.prototype.init.apply(this,arguments),this.declareMember({oSalesOrderService:this.autoDestroy(new t.sbo.services.OrdersService),__model:this.autoDestroy(new t.core.JsonModel({})),_oAjaxListSource:null,_onActionButtonClickProxy:$.proxy(this._onActionButtonClickHandler,this)}),this._oAjaxListSource=this.autoDestroy(new t.sbo.util.AjaxListSource(this.oSalesOrderService)),window.SboShell.attachEvent("actionButtonClick",this._onActionButtonClickProxy)},destroy:function(){window.SboShell.detachEvent("actionButtonClick",this._onActionButtonClickProxy)},getMainControl:function(){return this.$(".sbo-list-layout")},initView:function(){var o=this,a=$.Deferred();return $.when(t.sbo.page.BaseBoListViewController.prototype.initView.call(this)).done(function(){o.$().process(e),o.$().setModel(o.__model),o.canQuery()&&(o.$().control({'[data-id="listView"]':{emptyTexts:[t.sbo.localization.Helper.get("app/order/PURPOSE"),t.sbo.localization.Helper.get("app/order/USAGE"),"desktop"===window.SboShell.callFeatureMethod("shell.getDeviceType")?t.sbo.localization.Helper.get("app/order/C_CREATE"):t.sbo.localization.Helper.get("app/order/TO_CREATE")],source:o._oAjaxListSource,sort:{field:"docEntry"},listener:{create:function(){SboShell.openFrame({view:"sap.sbo.page.pad.SalesOrder.OrderCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,callback:function(){}})},requestDone:function(e){SboShell.setOption({title:1==e.count?t.sbo.localization.Helper.get("common/ORDER_NAME"):t.sbo.localization.Helper.get("common/ORDERS_NAME"),subTitle:""}),SboShell.setHeaderCount(e.count)}}}}),o.$().on("vclick",".item",function(e){window.SboShell.gotoView("sap.sbo.page.pad.SalesOrder.SalesOrderHome",[{keyName:"docEntry",keyValue:$(e.target).findModel().getValue("docEntry")}])})),o.canCreate()&&window.SboShell.addActionButtons([{key:"create",text:t.sbo.localization.Helper.get("app/document/CREATE_ORDER")}],o),a.resolve()}).fail(function(e){window.SboShell.raiseException(e),a.reject(e)}),a.promise()},destroyView:function(){t.sbo.page.BaseBoListViewController.prototype.destroyView.call(this),this.$().unprocess()},update:function(){},getService:function(){return this.oSalesOrderService},getBoNameEntity:function(){return{boNamespace:"com.sap.sbo",boName:"Order"}},getListSource:function(){return this._oAjaxListSource},getProcessContext:function(){return e},getQuickFilters:function(){if(e&&e.json&&e.json.sap&&e.json.sap.sbo&&e.json.sap.sbo.page&&e.json.sap.sbo.page.common&&e.json.sap.sbo.page.common.listFilters&&e.json.sap.sbo.page.common.listFilters.SalesOrder){var o=e.json.sap.sbo.page.common.listFilters.SalesOrder,a={};for(var i in o)a[i]={},a[i].expr=o[i],a[i].label=t.sbo.localization.Helper.get("app/order/"+i),a[i].description=a[i].label;return a}return{}}},Protected:{_onActionButtonClickHandler:function(e){switch(e){case"create":SboShell.openFrame({view:"sap.sbo.page.pad.SalesOrder.OrderCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,callback:function(){}})}}}})}),define("sap.sbo.page.pad.SalesOrderSetting.SalesOrderSetting",["sap.core.klass","sap.core.JsonModel","sap.ui.View","sap.sbo.layout.TileView","sap.ui.common","sap.log","sap.ui.Controller","sap.ui.widget.Button","sap.sbo.layout.pad.AdvancedTilesLayout","sap.sbo.shell.IFeaturable","sap.ui.widget.Button","sap.sbo.app.network.FeedTile","sap.ui.MessageBox","sap.sbo.compoundservices.UserEmployeeService","sap.sbo.localization.Helper","css!sap.sbo.page.pad.Home"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,Interfaces:[t.sbo.shell.IFeaturable],Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments)},destroy:function(){},initView:function(){this.$().process(e),that.setTitle({title:t.sbo.localization.Helper.get("common/ORDER_NAME"),subTitle:t.sbo.localization.Helper.get("common/SETTINGS")})},destroyView:function(){this.$().unprocess(e)},update:function(){}},Protected:{}})}),define("sap.sbo.page.pad.SalesQuotation.QuotationCreation",["sap.ui.Controller","sap.sbo.page.pad.BoMetadataCreationFrameController","sap.sbo.layout.pad.MetadataList","sap.sbo.services.QuotationsService","sap.sbo.ui.widget.BoStatus","sap.ui.widget.TextField","sap.ui.widget.TextArea","sap.sbo.ui.widget.DateTimeField","sap.sbo.util.formatter","sap.ui.widget.Button","sap.util","sap.sbo.ui.widget.BoLabel","sap.sbo.localization.Helper","sap.sbo.core.BoException","sap.core.JsonModel","sap.core.ListSourceFilter","sap.sbo.ui.widget.DecimalLabel","sap.formatter","json!sap.sbo.util.enums","css!sap.sbo.app.template.CreationProperty","css!sap.sbo.app.template.EditProperty","css!sap.sbo.page.pad.Document.DocumentCreation"],function(){"use strict";var e=this.getNS(),t=e.sap,o=t.sbo.page.pad.BoMetadataCreationFrameController;return e.formatter={string_null:function(e,t){return"<<"===t?e||"":e},null_bool:function(e){return e?!0:!1}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:o,Options:{cardCode:{type:"any",defaultValue:void 0},cardName:{type:"any",defaultValue:void 0}},Public:{init:function(){o.prototype.init.apply(this,arguments),this._oService=this.autoDestroy(new t.sbo.services.QuotationsService),this.declareMember({__CardCodemodel:this.autoDestroy(new t.core.JsonModel({readonly:!1}))})},destroy:function(){},initView:function(){var a=this,i=$.Deferred();return this.$().setModel(a.__CardCodemodel,"cardCodeModel"),$.when(o.prototype.initView.call(this)).done(function(){var e=a.getOption("cardCode");e&&(a.__CardCodemodel.setValue("readonly",!0),a._oMetadataValueModel.setValue("cardCode",e),a._oMetadataValueModel.setValue("cardName",a.getOption("cardName"))),a.$().control({'[ctrl="btnSaveOpen"]':{listener:{click:function(){t.util.showLoading(),$.when(a.boCreate()).done(function(e){window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/QUOTATION_CREATE_SUCCESSFUL"),"success"),window.SboShell.gotoView("sap.sbo.page.pad.SalesQuotation.SalesQuotationHome",[{keyName:"docEntry",keyValue:e.docEntry}])}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()})}}},'[ctrl="btnCancel"]':{listener:{click:function(){a.callShell("close")}}}}),a.$().on("vclick",".salesQuationItems.field",function(){window.SboShell.openFrame({view:"sap.sbo.page.pad.Document.ItemsEdit",type:"full",width:954,height:734,options:{boData:a._oMetadataValueModel.getValue(""),boName:"Quotation"},callback:function(e,t){t&&a._oMetadataValueModel.setValue("",t)}})}),i.resolve()}).fail(function(e){window.SboShell.raiseException(e),i.reject(e)}),this.$().on("GuilinControlEvent.navigate GuilinControlEvent.choose",".sbo-metadata-list-property",function(o){switch($(o.currentTarget).attr("gl-property")){case"cardCode":window.SboShell.openFrame({view:"sap.sbo.chooseList.pad.ChooseListCustomer",options:{filter:new t.core.ListSourceFilter("(`isActive` = '"+e.json.sap.sbo.util.enums.bool.Yes+"')")},type:"right",callback:function(e,t){"close"===e||"select"===e&&(a._oMetadataValueModel.setValue("cardCode",t.cardCode),a._oMetadataValueModel.setValue("cardName",t.cardName))}})}}),i.promise()},destroyView:function(){this.$().off("GuilinControlEvent.navigate GuilinControlEvent.choose"),o.prototype.destroyView.call(this)},update:function(){o.prototype.update.apply(this,arguments)},getMainControl:function(){return this.$("[ctrl='main']").getControl()},getBoType:function(){return{boNamespace:"com.sap.sbo",boName:"Quotation"}},getService:function(){return this._oService},process:function(){this.$().process(e)},boValidate:function(e){if(!e.cardCode){var o=new t.sbo.core.BoException(t.sbo.localization.Helper.get("app/document/INPUT_CARD_CODE"),"error");throw o}if(!e.docDate){var o=new t.sbo.core.BoException(t.sbo.localization.Helper.get("app/document/INPUT_POST_DATE"),"error");throw o}if(!e.docDueDate){var o=new t.sbo.core.BoException(t.sbo.localization.Helper.get("app/document/INPUT_DEL_DATE"),"error");throw o}if(!e.documentLines.length){var o=new t.sbo.core.BoException(t.sbo.localization.Helper.get("app/document/ADD_LINE"),"error");throw o}if(e.discountPercent>100){var o=new t.sbo.core.BoException(t.sbo.localization.Helper.get("app/document/DISCNTTOOLAGER"),"error");throw o}}},Protected:{}})}),define("sap.sbo.page.pad.SalesQuotation.QuotationPrint",["sap.sbo.ui.FrameViewController","sap.ui.Controller","sap.core.klass","sap.core.JsonModel","sap.sbo.compoundservices.PreviewService","sap.sbo.services.BaseService","css!sap.sbo.page.pad.SalesQuotation.QuotationPrint"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Options:{quotationID:{type:"integer",defaultValue:-1}},Public:{init:function(){t.sbo.ui.FrameViewController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{__oService:new t.sbo.compoundservices.PreviewService,__modelQuotationMeta:this.autoDestroy(new t.core.JsonModel({})),__quotationID:null})},destroy:function(){this.__oService=null},initView:function(){var o=$.Deferred(),a=this;return this.__quotationID=this.getOption("quotationID"),this.__bDesktop="desktop"==window.SboShell.callFeatureMethod("shell.getDeviceType"),this.$().setModel(this.__modelQuotationMeta),this.$().find("#cancel").on("vclick",function(){a.closeFrame()}),this.__bDesktop&&this.$().find("#download").on("vclick",function(){var e=encodeURI(t.sbo.services.BaseService.documentbase+"file/customDownload/quotation/"+a.__quotationID);window.open(e,"newtab")}),$.when(this.__oService.previewQuotation(this.__quotationID)).done(function(t){$("#quotation").contents().find("body").html(t.value),a.__modelQuotationMeta.setValue("device",{isDesktop:a.__bDesktop?"block":"none"}),a.$().process(e),o.resolve()}).fail(function(e){window.SboShell.raiseException(e),o.reject(e)}),o.promise()},destroyView:function(){this.__oService.destroy(),this.__oService=null,this.$().unprocess(),this.$().find("#cancel").off("vclick"),this.__bDesktop&&this.$().find("#download").off("vclick")},update:function(){},resize:function(){}},Protected:{},Static:{}})}),define("sap.sbo.page.pad.SalesQuotation.SalesQuotationEdit",["css!sap.sbo.app.template.EditProperty","sap.core.klass","sap.ui.Controller","sap.sbo.layout.pad.MetadataLayout","sap.core.JsonModel","sap.ui.widget.TextField","sap.sbo.services.QuotationsService","sap.sbo.services.CountriesService","sap.sbo.services.StatesService","sap.sbo.services.ShippingTypesService","sap.sbo.services.BusinessPartnersService","sap.sbo.page.pad.BoMetadataEditController","sap.ui.widget.TextArea","sap.sbo.ui.widget.DateTimeField","sap.sbo.util.formatter","sap.util","sap.sbo.ui.widget.BoStatus","sap.ui.widget.Checkbox","sap.sbo.util.formatter","sap.sbo.ui.widget.BoLabel","sap.ui.widget.Photo","sap.core.JsonModel","sap.ui.widget.DropDownBox","sap.sbo.localization.Helper","sap.sbo.core.BoException","sap.sbo.ui.widget.Address","sap.sbo.compoundservices.AttachmentService","sap.sbo.app.task.taskUtil","css!sap.sbo.page.pad.boEdit","css!sap.sbo.page.pad.boAddress"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={isZero:function(e){return 0===e},string_null:function(e,t){return"<<"===t?e||"":e}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.pad.BoMetadataEditController,Public:{init:function(){t.sbo.page.pad.BoMetadataEditController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{_oService:new t.sbo.services.QuotationsService,_mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),__modelOwner:this.autoDestroy(new t.core.JsonModel({ownerName:"",OwnerImage:{url:"./image/common/no-pic-avatar.jpg"}})),__modelAddressMeta:this.autoDestroy(new t.core.JsonModel({})),__oListCRYService:this.autoDestroy(new t.sbo.services.CountriesService),__oListCSTService:this.autoDestroy(new t.sbo.services.StatesService),__oShippingTypesService:this.autoDestroy(new t.sbo.services.ShippingTypesService),__oListModel:this.autoDestroy(new t.core.JsonModel({countryS:[],stateS:[],countryB:[],stateB:[],shipType:[]})),__BPService:this.autoDestroy(new t.sbo.services.BusinessPartnersService),oAttachementService:this.autoDestroy(new t.sbo.compoundservices.AttachmentService),__fActionButtonClickedProxy:$.proxy(this.__actionBtnClick,this),__quotationID:null});var e=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo");this.__quotationID=e.storeParam[0].keyValue,window.SboShell.addActionButtons([{key:"preview",text:t.sbo.localization.Helper.get("page/button/preview")}],this),window.SboShell.attachEvent("actionButtonClick",this.__fActionButtonClickedProxy)},destroy:function(){this._oService.destroy()},initView:function(){var e=$.Deferred(),o=this;return this.$().setModel(this.__modelOwner,"owner"),o.$().setModel(o.__oListModel,"list"),this.$().setModel(this.__modelAddressMeta,"addressMeta"),$.when(t.sbo.page.pad.BoMetadataEditController.prototype.initView.call(this),this.__oListCRYService.query(),this.__oListCSTService.query(),this.__oShippingTypesService.query()).done(function(e,a,i,s){var n=e[1];o.__modelAddressMeta.setValue("",n.nodes.AddressExtension.reduce(function(e,t){return e[t.property]=t.option,e},{})),o.__oListModel.setValue("countryS",a.value),o.__oListModel.setValue("countryB",a.value);var r=o._oMetadataValueModel.getValue("addressExtension/0/shipToCountry"),l={filter:"country eq '"+r+"'"};$.when(o.__oListCSTService.query(l)).done(function(e){o.__oListModel.setValue("stateS",e.value)});var d=o._oMetadataValueModel.getValue("addressExtension/0/billToCountry"),l={filter:"country eq '"+d+"'"};$.when(o.__oListCSTService.query(l)).done(function(e){o.__oListModel.setValue("stateB",e.value)}),o.__oListModel.setValue("shipType",s.value),o.setTitle(t.sbo.localization.Helper.get("app/BASIC")),o.$().on("vclick",'[data-id="billto"]',function(){var e=o._oMetadataValueModel.getValue("cardCode");
$.when(o.__BPService.get({cardCode:e})).done(function(e){for(var t=e.bPAddresses,a=t.length-1;a>=0;--a)"bo_BillTo"!==t[a].addressType&&t.splice(a,1);window.SboShell.openFrame({view:"sap.sbo.chooseList.pad.ChooseListAddress",type:"right",options:{array:t},callback:function(e,t){"select"===e&&(o._oMetadataValueModel.setValue("addressExtension/0/billToStreet",t.street),o._oMetadataValueModel.setValue("addressExtension/0/billToBlock",t.block),o._oMetadataValueModel.setValue("addressExtension/0/billToCity",t.city),o._oMetadataValueModel.setValue("addressExtension/0/billToZipCode",t.zipCode),o._oMetadataValueModel.setValue("addressExtension/0/billToState",t.state),o._oMetadataValueModel.setValue("addressExtension/0/billToCountry",t.country),o.$('[data-id="dropdownlistforbilltocountry"]').getControl().fireEvent("change",!0))}})}).fail(function(){})}),o.$('[data-id="shipto"]').on("vclick",function(){var e=o._oMetadataValueModel.getValue("cardCode");$.when(o.__BPService.get({cardCode:e})).done(function(e){for(var t=e.bPAddresses,a=t.length-1;a>=0;--a)"bo_ShipTo"!==t[a].addressType&&t.splice(a,1);window.SboShell.openFrame({view:"sap.sbo.chooseList.pad.ChooseListAddress",type:"right",options:{array:t},callback:function(e,t){"select"===e&&(o._oMetadataValueModel.setValue("addressExtension/0/shipToStreet",t.street),o._oMetadataValueModel.setValue("addressExtension/0/shipToBlock",t.block),o._oMetadataValueModel.setValue("addressExtension/0/shipToCity",t.city),o._oMetadataValueModel.setValue("addressExtension/0/shipToZipCode",t.zipCode),o._oMetadataValueModel.setValue("addressExtension/0/shipToState",t.state),o._oMetadataValueModel.setValue("addressExtension/0/shipToCountry",t.country),o.$('[data-id="dropdownlistforshiptocountry"]').getControl().fireEvent("change",!0))}})}).fail(function(){})});var p=o._oMetadataValueModel.getValue("documentsOwner");if(null!=p&&$.when(o.oAttachementService.getPortraitId(p)).done(function(e){if(-1!==e.value){var a={};a.attachmentId=e.value,a.ownerCode=p;var i=t.sbo.app.task.taskUtil.PreviewUrl(a);o.__modelOwner.setValue("OwnerImage",{url:i})}}),o.$().onControlEvent("change",'[data-id="dropdownlistforshiptocountry"]',function(e){var t=o._oMetadataValueModel.getValue("addressExtension/0/shipToCountry"),a={filter:"country eq '"+t+"'"};$.when(o.__oListCSTService.query(a)).done(function(t){o.__oListModel.setValue("stateS",t.value),e||o._oMetadataValueModel.setValue("addressExtension/0/shipToState","")})}),o.$().onControlEvent("change",'[data-id="dropdownlistforbilltocountry"]',function(e){var t=o._oMetadataValueModel.getValue("addressExtension/0/billToCountry"),a={filter:"country eq '"+t+"'"};$.when(o.__oListCSTService.query(a)).done(function(t){o.__oListModel.setValue("stateB",t.value),e||o._oMetadataValueModel.setValue("addressExtension/0/billToState","")})}),0===o._oMetadataValueModel.getValue("addressExtension").length){var c=o._oMetadataValueModel.getValue("");$.when(o._oService.getInitBoNode(c,"Root/addressExtension")).done(function(e){o._oMetadataValueModel.setValue("addressExtension",e.addressExtension)}).fail(function(e){e instanceof t.sbo.core.BoException&&o.showErrorByExpr(e.getField(),e.getMessage())})}}).fail(function(t){window.SboShell.raiseException(t),e.reject(t)}).always(function(){e.resolve()}),this.$().on("GuilinControlEvent.navigate GuilinControlEvent.choose",".sbo-metadata-list-property",function(e){switch($(e.currentTarget).attr("gl-property")){case"documentsOwner":if("navigate"===e.namespace){var a=o._oMetadataValueModel.getValue("documentsOwner");null!==a&&window.SboShell.gotoView("sap.sbo.page.pad.user.BasicInfo",[{keyName:"employeeID",keyValue:a}])}else window.SboShell.openFrame({view:"sap.sbo.chooseList.pad.ChooseListEmployee",options:{},type:"right",callback:function(e,a){"close"===e||"select"===e&&(o._oMetadataValueModel.setValue("documentsOwner",a.employeeID),o._oMetadataValueModel.setValue("OwnerEmployeeDisplayName",a.displayName),$.when(o.oAttachementService.getPortraitId(a.employeeID)).done(function(e){if(-1!==e.value){var i={};i.attachmentId=e.value,i.ownerCode=a.employeeID;var s=t.sbo.app.task.taskUtil.PreviewUrl(i);o.__modelOwner.setValue("OwnerImage",{url:s})}}))}});break;case"cardCode":window.SboShell.gotoView("sap.sbo.page.pad.Customer.CustomerHome",[{keyName:"cardCode",keyValue:o._oMetadataValueModel.getValue("cardCode")}])}}),e.promise()},destroyView:function(){window.SboShell.detachEvent("actionButtonClick",this.__fActionButtonClickedProxy),this.$().off("GuilinControlEvent.navigate GuilinControlEvent.choose"),this.$().unprocess(),t.sbo.page.pad.BoMetadataEditController.prototype.destroyView.call(this)},update:function(){},getMainControl:function(){return this.$("[ctrl='main']").getControl()},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"Quotation",keyElements:this._mViewInfo.storeParam}},getService:function(){return this._oService},process:function(){this.$().process(e)}},Protected:{__actionBtnClick:function(e){switch(e){case"preview":window.SboShell.openFrame({view:"sap.sbo.page.pad.SalesQuotation.QuotationPrint",type:"center",width:630,height:768,options:{quotationID:this.__quotationID},callback:function(){}})}}}})}),define("sap.sbo.page.pad.SalesQuotation.SalesQuotationHome",["sap.core.klass","sap.core.JsonModel","sap.ui.View","sap.sbo.layout.TileView","sap.ui.common","sap.util","sap.log","sap.ui.Controller","sap.ui.widget.TextField","sap.ui.widget.TextArea","sap.sbo.ui.widget.DateTimeField","sap.ui.widget.Currency","sap.ui.Repeat","sap.ui.widget.Button","sap.sbo.layout.pad.AdvancedTilesLayout","sap.sbo.shell.IFeaturable","sap.sbo.app.network.FeedTile","sap.sbo.services.QuotationsService","sap.sbo.services.ContactPersonsService","sap.sbo.util.formatter","sap.sbo.ui.widget.Stage","sap.sbo.app.network.RelatedTile","sap.ui.Repeat","sap.sbo.layout.pad.MetadataRaw","sap.sbo.util.metadataHelper","sap.sbo.page.pad.BoHomeController","sap.sbo.localization.Helper","sap.sbo.ui.widget.Address","sap.sbo.ui.widget.DecimalLabel","sap.ui.widget.Photo","sap.formatter","css!sap.sbo.app.template.GeneralProperty","html!sap.sbo.app.template.DynamicProperty","css!sap.sbo.app.template.DynamicProperty","css!sap.sbo.app.template.EditProperty","css!sap.sbo.page.pad.Document.DocumentHome","css!sap.sbo.app.template.TileProperty"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={string_null:function(e,t){return"<<"===t?e||"":e}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.pad.BoHomeController,Options:{},Public:{init:function(){t.sbo.page.pad.BoHomeController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{_oModel:new t.core.JsonModel({}),_oModelRelated:new t.core.JsonModel({contactNumber:0}),_mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),_oService:this.autoDestroy(new t.sbo.services.QuotationsService),_oContactService:this.autoDestroy(new t.sbo.services.ContactPersonsService),_onActionButtonClickProxy:$.proxy(this._onActionButtonClickHandler,this)}),window.SboShell.attachEvent("actionButtonClick",this._onActionButtonClickProxy)},destroy:function(){window.SboShell.detachEvent("actionButtonClick",this._onActionButtonClickProxy)},getService:function(){return this._oService},initView:function(){var o=$.Deferred(),a=this;return $.when(t.sbo.page.pad.BoHomeController.prototype.initView.apply(this,arguments)).done(function(i){var s=i;a.$().setModel(a._oModel),a.$().setModel(a._oModelRelated,"Related"),a.setTitle({title:t.sbo.localization.Helper.get("common/QUOTATION_NAME")+" "+a.convertBoKey(a._mViewInfo.storeParam).docEntry,subTitle:t.sbo.localization.Helper.get("common/QUOTATION_NAME")}),t.util.showLoading(),$.when(a._oService.get(a.convertBoKey(a._mViewInfo.storeParam))).done(function(i){a._oModel.setValue("",i);var n={};n.filter="cardCode eq '"+i.cardCode+"'",n.select="contactPersonID",a._oContactService.query(n).done(function(e){a._oModelRelated.setValue("contactNumber",e.value.length)});var r=i.cardName||"";a.setTitle(r+" ("+i.docTotal+i.docCurrency+")"),a.$().process(e);var l=t.sbo.util.metadataHelper.convertDynamicMeta(i["sbo.dynamicmeta"]);a.$().control({"[ctrl='layout']":{listener:{afterProcess:function(){var o=t.sbo.util.metadataHelper.convert(s);a.$("[field='basicInfo']").getControl().setOption({metadata:o.properties,enumMeta:o.enumTypes,dynamicMeta:l,propertyTemplate:e.html.sap.sbo.app.template.DynamicProperty,readonly:!0})}}}}),a.$().on("vclick","[field='basicInfo']",function(){window.SboShell.gotoView("sap.sbo.page.pad.SalesQuotation.SalesQuotationEdit",a._mViewInfo.storeParam)}),a.$().on("vclick","[field='products']",function(){window.SboShell.gotoView("sap.sbo.page.pad.Document.ItemsEdit",{boName:a.getBoKeyEntity().boName,keyParam:a._mViewInfo.storeParam})}),a.$().on("vclick","[field='contacts']",function(){window.SboShell.gotoView("sap.sbo.page.pad.Contact.ContactListView",{boName:a.getBoKeyEntity().boName,keyParam:a._mViewInfo.storeParam,BPcardCode:a._oModel.getValue("cardCode"),BPcardName:a._oModel.getValue("cardName")},{MainContact:a._oModel.getValue("contactPersonCode")})}),l.actions.copyToOrder&&l.actions.copyToOrder.enabled&&window.SboShell.addActionButtons([{key:"copy",text:t.sbo.localization.Helper.get("app/document/COPY_TO_ORDER")}],a),l.actions.close&&l.actions.close.enabled&&window.SboShell.addActionButtons([{key:"close",text:t.sbo.localization.Helper.get("common/CLOSE")}],a),l.actions.cancel&&l.actions.cancel.enabled&&window.SboShell.addActionButtons([{key:"cancel",text:t.sbo.localization.Helper.get("common/CANCEL")}],a),o.resolve()}).fail(function(e){o.reject(e)}).always(function(){t.util.hideLoading()})}),o.promise()},destroyView:function(){t.sbo.page.pad.BoHomeController.prototype.destroyView.apply(this,arguments),this.$().unprocess()},update:function(){},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"Quotation",keyElements:this._mViewInfo.storeParam}}},Protected:{_onActionButtonClickHandler:function(e){var o=this;switch(e){case"close":t.util.showLoading(),$.when(o._oService.action_close(o._oModel.getValue(""))).done(function(){window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/QUOTATION_CLOSED"),"success"),window.SboShell.gotoView("sap.sbo.page.pad.SalesQuotation.SalesQuotationHome",[{keyName:"docEntry",keyValue:o.getBoKeyEntity().keyElements[0].keyValue}])}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()});break;case"cancel":t.util.showLoading(),$.when(o._oService.action_cancel(o._oModel.getValue(""))).done(function(){window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/QUOTATION_CANCELED"),"success"),window.SboShell.gotoView("sap.sbo.page.pad.SalesQuotation.SalesQuotationHome",[{keyName:"docEntry",keyValue:o.getBoKeyEntity().keyElements[0].keyValue}])}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()});break;case"copy":t.util.showLoading(),$.when(o._oService.action_copyToOrder(o._oModel.getValue(""))).done(function(e){SboShell.openFrame({view:"sap.sbo.page.pad.SalesOrder.OrderCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},options:{boData:e},zindex:2e3,callback:function(){}})}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()})}}}})}),define("sap.sbo.page.pad.SalesQuotation.SalesQuotationListView",["sap.ui.Controller","sap.core.JsonModel","sap.sbo.layout.pad.ListLayout","sap.sbo.util.AjaxListSource","sap.sbo.services.QuotationsService","sap.sbo.util.formatter","sap.sbo.ui.widget.DateLabel","sap.ui.widget.Photo","sap.sbo.page.BaseBoListViewController","sap.sbo.ui.widget.ListManipulator","sap.sbo.localization.Helper","sap.sbo.ui.widget.MultipleValueHelp","sap.sbo.ui.widget.DecimalLabel","sap.formatter","json!sap.sbo.page.common.listFilters.SalesQuotation","css!sap.sbo.page.pad.boListView"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.BaseBoListViewController,Public:{init:function(){t.sbo.page.BaseBoListViewController.prototype.init.apply(this,arguments),this.declareMember({oSalesQuotationService:this.autoDestroy(new t.sbo.services.QuotationsService),__model:this.autoDestroy(new t.core.JsonModel({})),_oAjaxListSource:null,_onActionButtonClickProxy:$.proxy(this._onActionButtonClickHandler,this)}),this._oAjaxListSource=this.autoDestroy(new t.sbo.util.AjaxListSource(this.oSalesQuotationService)),window.SboShell.attachEvent("actionButtonClick",this._onActionButtonClickProxy)},destroy:function(){window.SboShell.detachEvent("actionButtonClick",this._onActionButtonClickProxy)},getMainControl:function(){return this.$(".sbo-list-layout")},initView:function(){var o=this,a=$.Deferred();return $.when(t.sbo.page.BaseBoListViewController.prototype.initView.call(this)).done(function(){o.$().process(e),o.$().setModel(o.__model),o.canQuery()&&(o.$().control({'[data-id="listView"]':{emptyTexts:[t.sbo.localization.Helper.get("app/quotation/PURPOSE"),t.sbo.localization.Helper.get("app/quotation/USAGE"),"desktop"===window.SboShell.callFeatureMethod("shell.getDeviceType")?t.sbo.localization.Helper.get("app/quotation/C_CREATE"):t.sbo.localization.Helper.get("app/quotation/TO_CREATE")],source:o._oAjaxListSource,sort:{field:"docEntry"},listener:{create:function(){SboShell.openFrame({view:"sap.sbo.page.pad.SalesQuotation.QuotationCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,callback:function(){}})},requestDone:function(e){SboShell.setOption({title:1==e.count?t.sbo.localization.Helper.get("common/QUOTATION_NAME"):t.sbo.localization.Helper.get("common/QUOTATIONS_NAME"),subTitle:""}),SboShell.setHeaderCount(e.count)}}}}),o.$().on("vclick",".item",function(e){window.SboShell.gotoView("sap.sbo.page.pad.SalesQuotation.SalesQuotationHome",[{keyName:"docEntry",keyValue:$(e.target).findModel().getValue("docEntry")}])})),o.canCreate()&&window.SboShell.addActionButtons([{key:"create",text:t.sbo.localization.Helper.get("app/document/CREATE_QUO")}],o),a.resolve()}).fail(function(e){window.SboShell.raiseException(e),a.reject(e)}),a.promise()},destroyView:function(){t.sbo.page.BaseBoListViewController.prototype.destroyView.call(this),this.$().unprocess()},update:function(){},getService:function(){return this.oSalesQuotationService},getBoNameEntity:function(){return{boNamespace:"com.sap.sbo",boName:"Quotation"}},getListSource:function(){return this._oAjaxListSource},getProcessContext:function(){return e},getQuickFilters:function(){if(e&&e.json&&e.json.sap&&e.json.sap.sbo&&e.json.sap.sbo.page&&e.json.sap.sbo.page.common&&e.json.sap.sbo.page.common.listFilters&&e.json.sap.sbo.page.common.listFilters.SalesQuotation){var o=e.json.sap.sbo.page.common.listFilters.SalesQuotation,a={};for(var i in o)a[i]={},a[i].expr=o[i],a[i].label=t.sbo.localization.Helper.get("app/quotation/"+i),a[i].description=a[i].label;return a}return{}}},Protected:{_onActionButtonClickHandler:function(e){switch(e){case"create":SboShell.openFrame({view:"sap.sbo.page.pad.SalesQuotation.QuotationCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,callback:function(){}})}}}})}),define("sap.sbo.page.pad.SalesQuotationSetting.SalesQuotationSetting",["sap.core.klass","sap.core.JsonModel","sap.ui.View","sap.sbo.layout.TileView","sap.ui.common","sap.log","sap.ui.Controller","sap.ui.widget.Button","sap.sbo.layout.pad.AdvancedTilesLayout","sap.sbo.shell.IFeaturable","sap.ui.widget.Button","sap.sbo.app.network.FeedTile","sap.ui.MessageBox","sap.sbo.compoundservices.UserEmployeeService","css!sap.sbo.page.pad.Home"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,Interfaces:[t.sbo.shell.IFeaturable],Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments)},destroy:function(){},initView:function(){this.$().process(e)},destroyView:function(){this.$().unprocess(e)},update:function(){}},Protected:{}})}),define("sap.sbo.page.pad.socialmedia.AlertReportHome",["sap.core.klass","sap.core.JsonModel","sap.ui.View","sap.sbo.layout.TileView","sap.ui.common","sap.util","sap.log","sap.ui.Controller","sap.sbo.layout.pad.AdvancedTilesLayout","sap.sbo.shell.IFeaturable","sap.sbo.services.CampaignsService","sap.sbo.util.formatter","sap.sbo.page.pad.BoHomeController","sap.ui.widget.Slider","css!sap.sbo.page.pad.socialmedia.AlertReportPage"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={statusText:function(e){switch(e){case"csOpen":return"Open";case"csFinished":return"Finish";case"csCanceled":return"Cancel"}}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.pad.BoHomeController,Options:{},Public:{init:function(){t.sbo.page.pad.BoHomeController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{_oModel:new t.core.JsonModel({}),_mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),_oService:new t.sbo.services.CampaignsService}),this.__addcheckExist(),this.setTitle({subTitle:"Digital insight",title:"Helicopter Fllight Orlando"})},destroy:function(){this._oService.destroy()},initView:function(){t.sbo.page.pad.BoHomeController.prototype.initView.apply(this,arguments);var o=this;o.$().process(e),window.SboShell.addFeature(o,"timeSliderChange","event"),o.__initSlider();var a;$("#myTimeSlider").getControl().attachEvent("change",function(){function e(){window.SboShell.fireFeatureEvent("timeSliderChange",o),a=null}var t=this.__mOptions,o=[t.valueA,t.valueB];a&&(clearTimeout(a),a=null),a=setTimeout(e,1500)}),o.__modifySlider()},destroyView:function(){t.sbo.page.pad.BoHomeController.prototype.destroyView.apply(this,arguments),$("#myTimeSlider").remove(),$(".timeLabel").remove(),this.$().unprocess()},update:function(){},getBoKeyEntity:function(){}},Protected:{__addcheckExist:function(){$.fn.doesExist=function(){return jQuery(this).length>0}},__initSlider:function(){var e=$("#myTimeSlider"),t=$(".sap-sbo-pad-html-shell-head");t.doesExist()&&t.append(e)},__modifySlider:function(){var e=1,t=["May. 2012","Jun. 2012","Jul. 2012","Aug. 2012","Sep. 2012","Oct. 2012","Nov. 2012","Dec. 2012","Jan. 2013","Feb. 2013","Mar. 2013","Apr. 2013"],o=$(".sap-sbo-pad-html-shell-head");if(o.doesExist())for(;t.length>=e;e++){o.append("<div class='timeLabel' id='timeLabel"+e+"'>"+t[e-1]+"</div>");var a=4*(e-1)+50-.5;$("#timeLabel"+e).css("left",a+"%")}}}})}),define("sap.sbo.page.pad.socialmedia.AlertReportPage",["sap.core.klass","sap.core.JsonModel","sap.ui.View","sap.sbo.layout.TileView","sap.ui.common","sap.util","sap.log","sap.ui.Controller","sap.ui.widget.TextField","sap.ui.widget.TextArea","sap.sbo.ui.widget.DateTimeField","sap.ui.widget.Currency","sap.ui.Repeat","sap.ui.widget.Button","sap.sbo.layout.pad.AdvancedTilesLayout","sap.sbo.shell.IFeaturable","sap.ui.widget.Button","sap.sbo.app.network.FeedTile","sap.sbo.services.CampaignsService","sap.sbo.services.BusinessPartnersService","sap.sbo.util.formatter","sap.sbo.ui.widget.Stage","sap.sbo.app.network.RelatedTile","sap.ui.Repeat","sap.ui.widget.Slider","sap.sbo.page.pad.BoHomeController","css!sap.sbo.page.pad.socialmedia.AlertReportPage","css!sap.sbo.page.pad.SalesOpportunity.Home"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={statusText:function(e){switch(e){case"csOpen":return"Open";case"csFinished":return"Finish";case"csCanceled":return"Cancel"}}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.pad.BoHomeController,Options:{},Public:{init:function(){t.sbo.page.pad.BoHomeController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{_oModel:new t.core.JsonModel({}),_mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),_oService:new t.sbo.services.CampaignsService,__BPService:this.autoDestroy(new t.sbo.services.BusinessPartnersService),__modelRelated:this.autoDestroy(new t.core.JsonModel({customer:{contactEmployees:null},contact:{contactPersonName:null,position:null}}))})},destroy:function(){this._oService.destroy()},initView:function(){t.sbo.page.pad.BoHomeController.prototype.initView.apply(this,arguments);var o=this;o.$().process(e),$(".sap-sbo-pad-html-shell-footer").append("<div class='slider-widget'><div id='mySlider' class='slider' data-sap-widget='sap.ui.widget.Slider' data-sap-option='type:\"range\", min: 1, max: 12, value: 1'></div></div>")},destroyView:function(){t.sbo.page.pad.BoHomeController.prototype.destroyView.apply(this,arguments),this.$().unprocess()},update:function(){},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"AlertReport",keyElements:this._mViewInfo.storeParam}}},Protected:{}})}),define("sap.sbo.page.pad.socialmedia.BadVoicesTile",["sap.ui.Controller","sap.core.JsonModel","sap.sbo.page.pad.socialmedia.BaseVoicesTile","sap.ui.common","sap.ui.widget.Icon","sap.sbo.shell.IFeaturable","sap.sbo.compoundservices.SocialMediaService","css!sap.sbo.page.pad.socialmedia.BadVoicesTile"],function(){"use strict";var e=this.getNS(),t=e.sap,o=[],a=1,i=12,s="Orlando";return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.pad.socialmedia.BaseVoicesTile,Interfaces:[t.sbo.shell.IFeaturable],Options:{},Public:{init:function(){t.sbo.page.pad.socialmedia.BaseVoicesTile.prototype.init.apply(this,arguments)},destroy:function(){this._sMService.destroy(),this._oModel.destroy()},initView:function(){var e=this,o=$.Deferred(),n=function(t){e.$().removeClass("config"),a=t[0],i=t[1],$.when(e._sMService.getVoices(s,"NEG",a,i)).done(function(t){e._oModel.setValue("BadWords",JSON.parse(t.value).itemTo),e.initJQCloud()}).fail(function(e){window.SboShell.raiseException(e)})};return $.when(e._sMService.getVoices(s,"NEG",a,i)).done(function(t){e._oModel.setValue("BadWords",JSON.parse(t.value).itemTo),e.initJQCloud(),o.resolve()}).fail(function(e){window.SboShell.raiseException(e)}),window.SboShell.attachFeatureEvent("timeSliderChange",n),e.$().on("vclick","#badVoicesBackIcon",function(){e.$().removeClass("config")}),t.sbo.page.pad.socialmedia.BaseVoicesTile.prototype.initView.apply(this,arguments),o.promise()},destroyView:function(){window.SboShell.detachFeatureEvent("timeSliderChange",this.__timeChange),this.$().unprocess()},update:function(){}},Protected:{initJQCloud:function(){function e(){n.$().addClass("config");var e=$.Deferred(),t=this;return $.when(n._sMService.getTop3Posts(s,$(t).text(),a,i)).done(function(t){n._oModel.setValue("BadVoices",JSON.parse(t.value)),e.resolve()}).fail(function(e){window.SboShell.raiseException(e)}),e.promise()}o=[];var t={},n=this,r=n._oModel.getJson().BadWords;$.each(r,function(a,i){t={text:i.sentKeyword,weight:i.value,handlers:{click:e}},o.push(t)}),$("#badWordcloud").remove(),$("#badCloudBlock").append('<div id="badWordcloud" class="cloud">'),n.$().find("#badWordcloud").jQCloud(o),n.setFontSize()}}})}),define("sap.sbo.page.pad.socialmedia.BaseVoicesTile",["sap.ui.Controller","sap.core.JsonModel","sap.sbo.layout.TileViewController","sap.ui.Repeat","sap.ui.ScrollPanel","sap.ui.widget.Icon","noamdjs!sap.sbo.libs.jqcloud-1-0-3-min","sap.sbo.compoundservices.SocialMediaService","css!sap.sbo.page.pad.socialmedia.BaseVoicesTile","css!sap.sbo.page.pad.socialmedia.jqcloud"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.layout.TileViewController,Public:{init:function(){t.sbo.layout.TileViewController.prototype.init.apply(this,arguments),this.declareMember({_sMService:this.autoDestroy(new t.sbo.compoundservices.SocialMediaService),_oModel:new t.core.JsonModel({GoodVoices:[],BadVoices:[],GoodWords:[],BadWords:[],Vscroll:!0})})},destroy:function(){},initView:function(){var t=this;t.$().setModel(t._oModel),t.setFontSize(),t.$().process(e)},destroyView:function(){},update:function(){},getSupportedModes:function(){return["2x2"]},setFontSize:function(){var e=this;e.$().find(".cloud").css("font-size",12*e.$().width()/500+"px")}},Protected:{}})}),define("sap.sbo.page.pad.socialmedia.CampaignInsightTile",["sap.ui.Controller","sap.core.JsonModel","sap.sbo.layout.TileViewController","sap.ui.widget.Button","sap.ui.widget.Slider","noamdjs!sap.sbo.libs.highcharts","sap.ui.ScrollPanel","sap.sbo.compoundservices.SocialMediaService","css!sap.sbo.page.pad.socialmedia.CampaignInsightTile","css!sap.sbo.page.pad.socialmedia.highcharts"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.layout.TileViewController,Options:{},Public:{init:function(){t.sbo.layout.TileViewController.prototype.init.apply(this,arguments),this.declareMember({_sMService:this.autoDestroy(new t.sbo.compoundservices.SocialMediaService),_oModel:new t.core.JsonModel({CampaignInsight:[],Vscroll:!0})})},destroy:function(){this._sMService.destroy(),this._oModel.destroy()},initView:function(){var t=this,o=$.Deferred();return t.$().setModel(t._oModel,""),$.when(t._sMService.getInsightForCampaign("000001","2013-01")).done(function(a){t._oModel.setValue("",JSON.parse(a.value)),t.$().process(e),t.initChart(JSON.parse(a.value)),t._oModel.setValue("CampaignInsight",JSON.parse(a.value)),$("#moodChart").highcharts(t.moodChart_options),o.resolve()}).fail(function(e){window.SboShell.raiseException(e)}),o.promise()},destroyView:function(){this.$().unprocess()},update:function(){},getSupportedModes:function(){return["2x2","2x4","6xN"]}},Protected:{initChart:function(e){var t=this,o=e.positiveTweet+e.negativeTweet+e.neutralTweet;t.moodChart_options={colors:["#b3d1e8","#2479bc","#4EAEEA"],chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1},plotOptions:{pie:{innerSize:"40%",dataLabels:{style:{fontWeight:"bold",fontSize:"16px"}}}},title:{text:"Weekly Mood Barometer <b>"+o+"</b>"},tooltip:{pointFormat:"{series.name}: <b>{point.y}%</b>",percentageDecimals:0},series:[{type:"pie",name:"Boom Barometer",data:[["positive",Math.floor(100*e.positiveTweet/o)],["negative",Math.floor(100*e.negativeTweet/o)],["neutral",Math.floor(100*e.neutralTweet/o)]]}]}}}})}),define("sap.sbo.page.pad.socialmedia.CompetitorHighlightTile",["sap.ui.Controller","sap.core.JsonModel","sap.sbo.layout.TileViewController","sap.ui.ScrollPanel","sap.ui.Repeat","sap.ui.widget.Checkbox","noamdjs!sap.sbo.libs.highcharts","sap.sbo.compoundservices.SocialMediaService","css!sap.sbo.page.pad.socialmedia.highcharts","css!sap.sbo.page.pad.socialmedia.CompetitorHighlightTile"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.layout.TileViewController,Options:{},Public:{init:function(){t.sbo.layout.TileViewController.prototype.init.apply(this,arguments),this.declareMember({_sMService:this.autoDestroy(new t.sbo.compoundservices.SocialMediaService),_oModel:new t.core.JsonModel({highlightDetails:[],Item1:"",Item2:"",Item1GoodKeyword:[],Item1BadKeyword:[],Item2GoodKeyword:[],Item2BadKeyword:[],currentHighlights:[],highchartsData:{},Vscroll:!0})})},destroy:function(){this._sMService.destroy(),this._oModel.destroy()},initView:function(){var t=this,o=$.Deferred();return $.when(t._sMService.getCompetitorHightlight("Orlando")).done(function(a){t.__processData(JSON.parse(a.value)),t._oModel.getJson().highlightDetails[0].checked=!0,t._oModel.getJson().highlightDetails[0].disabled=!0,t.__initHighcharts(),t.$().setModel(t._oModel),t.$().process(e),t.$().on("vclick",".myCheckbox",function(){var e=$(this).parent().parent().parent().index(),o=t._oModel.getJson().highlightDetails;if(0==o[e].disabled){for(var a=0;o.length>a;a++)o[a].disabled=!1,o[a].checked=!1;o[e].disabled=!0,o[e].checked=!0}t._oModel.setValue("highlightDetails",o)}),o.resolve()}).fail(function(e){window.SboShell.raiseException(e)}),o.promise()},destroyView:function(){this.$().unprocess()},update:function(){},getSupportedModes:function(){return["2xN"]}},Protected:{__processData:function(e){for(var t=this,o=[],a=0;e.competitorCampaginList.length>a;a++)o.push({text:e.competitorCampaginList[a].competitorCampaignProductName+" "+e.competitorCampaginList[a].competitorCampaignContent,disabled:!0,checked:!1});t._oModel.setValue("highlightDetails",o),t._oModel.setValue("highchartsData",e.awarenessInfoTO);for(var i=e.hotKeywordsTOList[0].productName,s=e.hotKeywordsTOList[2].productName,n=[],r=[],l=[],d=[],a=0;e.hotKeywordsTOList.length>a;a++)for(var p=0;e.hotKeywordsTOList[a].sentimentResultItemTOList.length>p;p++)switch(a){case 0:n.push({keyword:e.hotKeywordsTOList[a].sentimentResultItemTOList[p].sentKeyword});break;case 1:r.push({keyword:e.hotKeywordsTOList[a].sentimentResultItemTOList[p].sentKeyword});break;case 2:l.push({keyword:e.hotKeywordsTOList[a].sentimentResultItemTOList[p].sentKeyword});break;case 3:d.push({keyword:e.hotKeywordsTOList[a].sentimentResultItemTOList[p].sentKeyword})}t._oModel.setValue("Item1",i),t._oModel.setValue("Item2",s),t._oModel.setValue("Item1GoodKeyword",n),t._oModel.setValue("Item1BadKeyword",r),t._oModel.setValue("Item2GoodKeyword",l),t._oModel.setValue("Item2BadKeyword",d)},__initHighcharts:function(){var e=this,t=e._oModel.getJson().highchartsData,o={chart:{type:"spline"},colors:["#FF3131","#199902","#DDE4D2","#F7DAC9"],title:{text:null},xAxis:{},yAxis:{title:{text:""}},plotOptions:{spline:{marker:{enabled:!1}}},legend:{enabled:!1},credits:{enabled:!1},series:[]};o.xAxis.categories=t.categories;for(var a=0;t.series.length>a;a++)o.series.push({name:t.series[a].seriesName,data:t.series[a].seriesValues});e.$().find("#chart").highcharts(o)}}})}),define("sap.sbo.page.pad.socialmedia.CompetitorTile",["sap.ui.Controller","sap.ui.Repeat","sap.core.JsonModel","sap.sbo.layout.TileViewController","noamdjs!sap.sbo.libs.jqcloud-1-0-3-min","noamdjs!sap.sbo.libs.highcharts","css!sap.sbo.page.pad.socialmedia.jqcloud"],function(){"use strict";var e=[{count:"A",number:"1022",flag:"chart"},{count:"B",number:"640",flag:"cloud"},{count:"C",number:"1022",flag:""}],t=this.getNS(),o=t.sap,a=new o.core.JsonModel({testJson:e});return o.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:o.sbo.layout.TileViewController,Options:{},Public:{init:function(){o.sbo.layout.TileViewController.prototype.init.apply(this,arguments),this.declareMember({_oModel:a}),this.initWordCloud()},destroy:function(){},initView:function(){var e=this;this.$().setModel(this._oModel),this.$().process(t),$("body").setModel(e._oModel),this.checkContent()},destroyView:function(){this.$().unprocess()},update:function(){},getSupportedModes:function(){return["2x2","2x4","2xN"]}},Protected:{initWordCloud:function(){this.word_list=[{text:"Lorem",weight:13},{text:"Sit",weight:8},{text:"Amet",weight:6.2},{text:"Consectetur",weight:5},{text:"Adipiscing",weight:5},{text:"Elit",weight:5},{text:"Nam et",weight:5},{text:"Leo",weight:4}]},checkContent:function(){"cloud"===$("#competitor-type").html&&$(".sentiment-content").jQCloud(that.word_list)}}})}),define("sap.sbo.page.pad.socialmedia.DigitalInsightTile",["sap.ui.Controller","sap.core.JsonModel","sap.sbo.layout.TileViewController","sap.ui.widget.Button","sap.ui.widget.Slider","noamdjs!sap.sbo.libs.highcharts","sap.sbo.compoundservices.SocialMediaService","css!sap.sbo.page.pad.socialmedia.DigitalInsightTile","css!sap.sbo.page.pad.socialmedia.highcharts"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.layout.TileViewController,Options:{},Public:{init:function(){t.sbo.layout.TileViewController.prototype.init.apply(this,arguments),this.declareMember({_sMService:this.autoDestroy(new t.sbo.compoundservices.SocialMediaService),_oModel:new t.core.JsonModel({}),__clickProxy:$.proxy(this.__onClickTop,this)})},destroy:function(){this._sMService.destroy(),this._oModel.destroy()
},initView:function(){var t=this,o=$.Deferred();return t.$().setModel(t._oModel,""),$.when(t._sMService.getDigitalInsight()).done(function(a){t._oModel.setValue("",JSON.parse(a.value)),t.$().process(e),t.initChart(JSON.parse(a.value)),$("#moodChart").highcharts(t.moodChart_options),t.$("#topTweet").on("vclick",t.__clickProxy),t.$("#moodChart").on("vclick",t.__clickProxy),t.$(".sbo-digitalInsight-tile").on("vclick",t.__clickProxy),o.resolve()}).fail(function(e){window.SboShell.raiseException(e)}),o.promise()},destroyView:function(){this.$().unprocess()},update:function(){},getSupportedModes:function(){return["2x2","2x4","6xN"]}},Protected:{__onClickTop:function(){window.SboShell.gotoView("sap.sbo.page.pad.socialmedia.AlertReportHome",{itemCode:"HFL123"})},initChart:function(e){var t=this,o=e.positiveTweet+e.negativeTweet+e.neutralTweet;t.moodChart_options={colors:["#b3d1e8","#2479bc","#4EAEEA"],chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1},plotOptions:{pie:{innerSize:"40%",dataLabels:{style:{fontWeight:"bold",fontSize:"14px"}}}},title:{text:"Weekly Mood Barometer <b>"+o+"</b><br>"},tooltip:{pointFormat:"{series.name}: <b>{point.y}%</b>",valueDecimals:0},series:[{type:"pie",name:"Boom Barometer",data:[["positive",Math.floor(100*e.positiveTweet/o)],["negative",Math.floor(100*e.negativeTweet/o)],["neutral",Math.floor(100*e.neutralTweet/o)]]}]}}}})}),define("sap.sbo.page.pad.socialmedia.FeedTile",["sap.ui.Controller","sap.core.JsonModel","sap.sbo.layout.TileViewController","css!sap.sbo.page.pad.socialmedia.FeedTile"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.layout.TileViewController,Options:{},Public:{init:function(){t.sbo.layout.TileViewController.prototype.init.apply(this,arguments),this.declareMember({_oModel:new t.core.JsonModel({})})},destroy:function(){},initView:function(){this.$().setModel(this._oModel),this.$().process(e)},destroyView:function(){this.$().unprocess()},update:function(){},getSupportedModes:function(){return["2x2","2x4","2xN"]}},Protected:{}})}),define("sap.sbo.page.pad.socialmedia.GeneralTile",["sap.ui.Controller","sap.ui.widget.Icon","sap.core.JsonModel","sap.sbo.layout.TileViewController","css!sap.sbo.page.pad.socialmedia.GeneralTile"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.layout.TileViewController,Options:{},Public:{init:function(){t.sbo.layout.TileViewController.prototype.init.apply(this,arguments),this.declareMember({_oModel:new t.core.JsonModel({})})},destroy:function(){},initView:function(){this.$().setModel(this._oModel),this.$().process(e)},destroyView:function(){this.$().unprocess()},update:function(){},getSupportedModes:function(){return["2x2","2x4","2xN"]}},Protected:{}})}),define("sap.sbo.page.pad.socialmedia.GoodVoicesTile",["sap.ui.Controller","sap.core.JsonModel","sap.sbo.page.pad.socialmedia.BaseVoicesTile","sap.ui.common","sap.ui.widget.Icon","sap.sbo.shell.IFeaturable","sap.sbo.compoundservices.SocialMediaService","css!sap.sbo.page.pad.socialmedia.GoodVoicesTile"],function(){"use strict";var e=this.getNS(),t=e.sap,o=[],a=1,i=12,s="Orlando";return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.pad.socialmedia.BaseVoicesTile,Interfaces:[t.sbo.shell.IFeaturable],Options:{},Public:{init:function(){t.sbo.page.pad.socialmedia.BaseVoicesTile.prototype.init.apply(this,arguments)},destroy:function(){this._sMService.destroy(),this._oModel.destroy()},initView:function(){var e=this,o=$.Deferred(),n=function(t){e.$().removeClass("config"),a=t[0],i=t[1],$.when(e._sMService.getVoices(s,"POS",t[0],t[1])).done(function(t){e._oModel.setValue("GoodWords",JSON.parse(t.value).itemTo),e.initJQCloud()}).fail(function(e){window.SboShell.raiseException(e)})};return $.when(e._sMService.getVoices(s,"POS",a,i)).done(function(t){e._oModel.setValue("GoodWords",JSON.parse(t.value).itemTo),e.initJQCloud(),o.resolve()}).fail(function(e){window.SboShell.raiseException(e)}),window.SboShell.attachFeatureEvent("timeSliderChange",n),e.$().on("vclick","#goodVoicesBackIcon",function(){e.$().removeClass("config")}),t.sbo.page.pad.socialmedia.BaseVoicesTile.prototype.initView.apply(this,arguments),o.promise()},destroyView:function(){window.SboShell.detachFeatureEvent("timeSliderChange",this.__timeChange),this.$().unprocess()},update:function(){}},Protected:{initJQCloud:function(){function e(){n.$().addClass("config");var e=$.Deferred(),t=this;return $.when(n._sMService.getTop3Posts(s,$(t).text(),a,i)).done(function(t){n._oModel.setValue("GoodVoices",JSON.parse(t.value)),e.resolve()}).fail(function(e){window.SboShell.raiseException(e)}),e.promise()}o=[];var t={},n=this,r=n._oModel.getJson().GoodWords;$.each(r,function(a,i){t={text:i.sentKeyword,weight:i.value,handlers:{click:e}},o.push(t)}),$("#wordcloud").remove(),$("#cloudBlock").append('<div id="wordcloud" class="cloud">'),n.$().find("#wordcloud").jQCloud(o),n.setFontSize()}}})}),define("sap.sbo.page.pad.socialmedia.SliderTile",["sap.ui.Controller","sap.core.JsonModel","sap.sbo.layout.TileViewController","sap.ui.widget.Slider","css!sap.sbo.page.pad.socialmedia.SliderTile"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.layout.TileViewController,Options:{},Public:{init:function(){t.sbo.layout.TileViewController.prototype.init.apply(this,arguments),this.declareMember({_oModel:new t.core.JsonModel({})})},destroy:function(){},initView:function(){var t=this;t.$().setModel(this._oModel),t.$().process(e)},destroyView:function(){this.$().unprocess()},update:function(){},getSupportedModes:function(){return["2x2","2x4","6xN"]}},Protected:{}})}),define("sap.sbo.page.pad.socialmedia.SocialMediaTile",["sap.ui.Controller","sap.core.JsonModel","sap.sbo.layout.TileViewController","sap.sbo.util.formatter","css!sap.sbo.page.pad.socialmedia.SocialMediaTile"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.layout.TileViewController,Options:{},Public:{init:function(){t.sbo.layout.TileViewController.prototype.init.apply(this,arguments),this.declareMember({_oModel:new t.core.JsonModel({count:0})})},destroy:function(){},initView:function(){var t=this;this.$().setModel(this._oModel),this.$().process(e),t._oModel.set("count",10)},destroyView:function(){this.$().unprocess()},update:function(){},getSupportedModes:function(){return["2x2","2x4","2xN"]}},Protected:{}})}),define("sap.sbo.page.pad.socialmedia.TopInfluencerTile",["sap.ui.Controller","sap.core.JsonModel","sap.sbo.layout.TileViewController","sap.ui.Repeat","sap.ui.widget.Icon","sap.ui.ScrollPanel","sap.sbo.compoundservices.SocialMediaService","sap.sbo.shell.IFeaturable","css!sap.sbo.page.pad.socialmedia.TopInfluencerTile"],function(){"use strict";var e=this.getNS(),t=e.sap,o=1,a=12,i="Orlando";return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.layout.TileViewController,Interfaces:[t.sbo.shell.IFeaturable],Options:{},Public:{init:function(){t.sbo.layout.TileViewController.prototype.init.apply(this,arguments),this.declareMember({_sMService:this.autoDestroy(new t.sbo.compoundservices.SocialMediaService),_oModel:new t.core.JsonModel({Influencers:[],influencerDetail:[],profile:[],Vscroll:!0})})},destroy:function(){},initView:function(){var t=this,s=$.Deferred(),n=function(e){t.$().removeClass("config"),$.when(t._sMService.getTopInfluencers(i,e[0],e[1])).done(function(e){t._oModel.setValue("Influencers",JSON.parse(e.value))}).fail(function(e){window.SboShell.raiseException(e)})};return t.$().setModel(t._oModel,""),$.when(t._sMService.getTopInfluencers(i,o,a)).done(function(r){t._oModel.setValue("Influencers",JSON.parse(r.value)),t.$().process(e),t.$().on("vclick","#topInfluencerBackIcon",function(){t.$().removeClass("config")}),t.$().on("vclick",".influencer",function(){t.$().addClass("config");var e=$.Deferred(),n=this;$.when(t._sMService.showPost(i,$(n).find(".names").attr("userID"),o,a)).done(function(o){var a=JSON.parse(o.value);t._oModel.setValue("influencerDetail",a.postList),t._oModel.setValue("profile",a.influencerTO),e.resolve(),s.resolve()}).fail(function(e){window.SboShell.raiseException(e)})}),window.SboShell.attachFeatureEvent("timeSliderChange",n),s.resolve()}).fail(function(e){window.SboShell.raiseException(e)}),s.promise()},destroyView:function(){window.SboShell.detachFeatureEvent("timeSliderChange",this.__timeChange),this.$().unprocess()},update:function(){},getSupportedModes:function(){return["2x2","2x4","2xN"]}},Protected:{}})}),define("sap.sbo.page.pad.socialmedia.TweetImpactTile",["sap.ui.Controller","sap.core.JsonModel","sap.sbo.layout.TileViewController","sap.ui.Repeat","sap.ui.ScrollPanel","sap.sbo.compoundservices.SocialMediaService","css!sap.sbo.page.pad.socialmedia.TweetImpactTile"],function(){"use strict";var e=this.getNS(),t=e.sap,o=1,a=12,i="Orlando";return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.layout.TileViewController,Options:{},Public:{init:function(){t.sbo.layout.TileViewController.prototype.init.apply(this,arguments),this.declareMember({_sMService:this.autoDestroy(new t.sbo.compoundservices.SocialMediaService),_oModel:new t.core.JsonModel({TweetImpact:[],Vscroll:!0})})},destroy:function(){this._sMService.destroy(),this._oModel.destroy()},initView:function(){var t=this,s=$.Deferred();t.$().setModel(t._oModel,"");var n=function(e){t.$().removeClass("config"),$.when(t._sMService.getTweetWithImpact(i,e[0],e[1])).done(function(e){t._oModel.setValue("TweetImpact",JSON.parse(e.value))}).fail(function(e){window.SboShell.raiseException(e)})};return $.when(t._sMService.getTweetWithImpact(i,o,a)).done(function(o){t._oModel.setValue("TweetImpact",JSON.parse(o.value)),t.$().process(e),window.SboShell.attachFeatureEvent("timeSliderChange",n),s.resolve()}).fail(function(e){window.SboShell.raiseException(e)}),s.promise()},destroyView:function(){this.$().unprocess()},update:function(){},getSupportedModes:function(){return["2x2","2x4","2xN"]}},Protected:{}})}),define("sap.sbo.page.pad.socialmedia.TweetRateTile",["sap.ui.Controller","sap.core.JsonModel","sap.sbo.layout.TileViewController","sap.sbo.shell.IFeaturable","sap.sbo.compoundservices.SocialMediaService","noamdjs!sap.sbo.libs.highcharts","css!sap.sbo.page.pad.socialmedia.highcharts","css!sap.sbo.page.pad.socialmedia.TweetRateTile"],function(){"use strict";var e=this.getNS(),t=e.sap,o=1,a=12,i="Orlando";return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.layout.TileViewController,Interfaces:[t.sbo.shell.IFeaturable],Options:{},Public:{init:function(){t.sbo.layout.TileViewController.prototype.init.apply(this,arguments),this.declareMember({_sMService:this.autoDestroy(new t.sbo.compoundservices.SocialMediaService),_oModel:new t.core.JsonModel({Vscroll:!0})})},destroy:function(){this._sMService.destroy(),this._oModel.destroy()},initView:function(){var t=this;t.$().setModel(this._oModel),t.$().process(e);var s=function(e){o=e[0],a=e[1],$.when(t._sMService.getTweetRate(i,o,a)).done(function(e){t.__initHighcharts(JSON.parse(e.value))}).fail(function(e){window.SboShell.raiseException(e)})},n=$.Deferred();return $.when(t._sMService.getTweetRate(i,o,a)).done(function(e){t.__initHighcharts(JSON.parse(e.value)),window.SboShell.attachFeatureEvent("timeSliderChange",s),n.resolve()}).fail(function(e){window.SboShell.raiseException(e)}),n.promise()},destroyView:function(){window.SboShell.detachFeatureEvent("timeSliderChange",this.__timeChange),this.$().unprocess()},update:function(){},getSupportedModes:function(){return["2x2"]}},Protected:{__initHighcharts:function(e){var t=this,o={chart:{type:"spline"},colors:["#FF3131","#199902"],title:{text:null},xAxis:{},yAxis:{title:{text:""}},plotOptions:{spline:{marker:{enabled:!1}}},legend:{enabled:!1},credits:{enabled:!1},series:[]};o.xAxis.categories=e.categories;for(var a=0;e.series.length>a;a++)o.series.push({name:e.series[a].seriesName,data:e.series[a].seriesValues});t.$().find("#highchartsBlock").highcharts(o)}}})}),define("sap.sbo.page.pad.socialmedia.WebPageAnalysis",["sap.ui.Controller","sap.core.JsonModel","sap.sbo.layout.TileViewController","sap.sbo.compoundservices.SocialMediaService","sap.ui.widget.Button","sap.sbo.shell.IFeaturable","css!sap.sbo.page.pad.socialmedia.WebPageAnalysis"],function(){"use strict";var e,t,o=this.getNS(),a=o.sap,i=1,s=12;return a.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:a.sbo.layout.TileViewController,Interfaces:[a.sbo.shell.IFeaturable],Options:{},Public:{init:function(){a.sbo.layout.TileViewController.prototype.init.apply(this,arguments),this.declareMember({_sMService:this.autoDestroy(new a.sbo.compoundservices.SocialMediaService),_oModel:new a.core.JsonModel({analysis:[]})})},destroy:function(){this._sMService.destroy(),this._oModel.destroy()},initView:function(){var e=this;e.$().setModel(this._oModel);var t=$.Deferred(),a=function(t){$.when(e._sMService.getWebPageAnalysis(t[0],t[1])).done(function(t){var o=JSON.parse(t.value);o=n(o),o=r(o),e._oModel.setValue("analysis",o),e.__initMap(o)}).fail(function(e){window.SboShell.raiseException(e)})},n=function(e){return e.visitorNum=Math.floor(e.visitorNum/1e3),e.visitorNum+="K",e.uniVisitorNum=Math.floor(e.uniVisitorNum/1e3),e.uniVisitorNum+="K",e.pageViewNum=Math.floor(e.pageViewNum/1e3),e.pageViewNum+="K",e.avgVisitTime=Math.floor(e.avgVisitTime),e},r=function(e){var t=e.keywordList;e.goodWords="",e.badWords="",e.neutralWords="";for(var o=0;t.length>o;o++)"POS"==t[o].voiceType?e.goodWords=e.goodWords+t[o].keyword+" ":"NEU"==t[o].voiceType?e.neutralWords=e.neutralWords+t[o].keyword+" ":"NEG"==t[o].voiceType&&(e.badWords=e.badWords+t[o].keyword+" ");return e};return $.when(e._sMService.getWebPageAnalysis(i,s)).done(function(i){var s=JSON.parse(i.value);s=n(s),s=r(s),e._oModel.setValue("analysis",s),e.$().process(o),e.__initMap(s),window.SboShell.attachFeatureEvent("timeSliderChange",a),t.resolve()}).fail(function(e){window.SboShell.raiseException(e)}),t.promise()},destroyView:function(){window.SboShell.detachFeatureEvent("timeSliderChange",this.__timeChange),this.$().unprocess()},update:function(){},getSupportedModes:function(){return["2x2","2x4","6xN"]}},Protected:{__initMap:function(o){for(var a=[],i=0;o.locations.length>i;i++)a.push(new google.maps.LatLng(o.locations[i].latitude,o.locations[i].longitude));var s={zoom:12,center:new google.maps.LatLng(28.548037,-81.378136),mapTypeId:google.maps.MapTypeId.ROADMAP};e=new google.maps.Map($("#map")[0],s);var n=new google.maps.MVCArray(a);t=new google.maps.visualization.HeatmapLayer({data:n}),t.setMap(e)}}})}),define("sap.sbo.page.pad.socialmedia.WeiboTile",["sap.ui.Controller","sap.core.JsonModel","sap.sbo.layout.TileViewController","sap.ui.widget.Button","sap.ui.widget.Slider","noamdjs!sap.sbo.libs.jqcloud-1-0-3-min","noamdjs!sap.sbo.libs.highcharts","sap.sbo.util.formatter","css!sap.sbo.page.pad.socialmedia.WeiboTile","css!sap.sbo.page.pad.socialmedia.jqcloud","css!sap.sbo.page.pad.socialmedia.highcharts"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.layout.TileViewController,Options:{},Public:{init:function(){t.sbo.layout.TileViewController.prototype.init.apply(this,arguments),this.declareMember({_oModel:new t.core.JsonModel({source:"source",back:"back"})}),this.initWordCloud(),this.initChart()},destroy:function(){},initView:function(){var t=this;t.$().setModel(this._oModel),t.$().process(e),t.$().control({"#sourceBtn":{listener:{click:function(){t.$().addClass("config")}}},"#backBtn":{listener:{click:function(){t.$().removeClass("config")}}}}),$("#wordcloud").jQCloud(t.word_list),$("#barChart").highcharts(t.barChart_options)},destroyView:function(){this.$().unprocess()},update:function(){},getSupportedModes:function(){return["2x2","2x4","6xN"]}},Protected:{initWordCloud:function(){this.word_list=[{text:"Lorem",weight:13},{text:"Sit",weight:8},{text:"Amet",weight:6.2},{text:"Consectetur",weight:5},{text:"Adipiscing",weight:5},{text:"Elit",weight:5},{text:"Nam et",weight:5},{text:"Leo",weight:4}]},initChart:function(){this.barChart_options={chart:{type:"bar"},title:{text:"Item Chart"},xAxis:{categories:["Item1","Item2","Item3"]},yAxis:{min:0,title:{text:""}},legend:{align:"right",verticalAlign:"top",layout:"vertical",x:0,y:100},credits:{enabled:!1},series:[{name:"Attr1",data:[34,67,50]},{name:"Attr2",data:[56,88,21]}]}}}})}),define("sap.sbo.page.pad.task.taskDialog",["sap.ui.Controller","sap.ui.widget.TextField","sap.core.JsonModel","sap.ui.widget.Button","sap.sbo.localization.Helper","sap.core.klass","sap.sbo.ui.FrameViewController","sap.ui.Repeat","sap.ui.widget.Icon","sap.sbo.layout.pad.ListLayout","sap.ui.widget.TextArea","sap.sbo.ui.widget.UploadButton","sap.sbo.ui.widget.PhotoPicker","sap.sbo.ui.widget.PressToTalk","sap.sbo.ui.widget.PopupMenu","sap.sbo.chooseList.pad.ChooseListEmployee","sap.sbo.compoundservices.TasksService","sap.sbo.app.task.taskUtil","sap.sbo.services.TasksService","sap.sbo.services.UserEmployeesService","sap.sbo.ui.widget.DateTimeField","sap.sbo.ui.widget.BoLink","sap.sbo.compoundservices.AttachmentService","sap.util","sap.sbo.ui.widget.AutoCompletableTextAreaGrp","sap.sbo.page.common.notepage.NotePageUtil","css!sap.sbo.page.pad.task.taskDialog"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Options:{taskID:{type:"string",defaultValue:""},page:{type:"any",defaultValue:void 0},boEntityKey:{type:"any",defaultValue:void 0},originalBoEntityKey:{type:"any",defaultValue:void 0},filter:{type:"string",defaultValue:""},attachImgLength:{type:"integer",defaultValue:200},cssClass:{type:"string",defaultValue:"sap-sbo-task-dialog"},data:{},taskEntity:{type:"any",defaultValue:{}},richMediaText:{type:"any",defaultValue:""},mode:{type:"any",defaultValue:""},DataOwnershipRequest:{type:"any",defaultValue:""},richTextTargets:{}},Public:{init:function(){t.sbo.ui.FrameViewController.prototype.init.apply(this,arguments);var e=this;t.core.klass.declareMember(this,{__btaskUpdated:!1,__bToAdd:!1,__oModel:new t.core.JsonModel({count:0,details:{}}),__oService:new t.sbo.compoundservices.TasksService,__dService:new t.sbo.services.TasksService,__aService:new t.sbo.compoundservices.AttachmentService,__$dialog:null,__uploadFileName:"",__AttachmentCountForUpload:0,__TypeImageId:""+Math.round(100*Math.random()),__ChooseListID:""+Math.round(1e3*Math.random()),__TaskIDForChange:void 0,__taskEntityDefaultValue:{details:{value:{id:"",type:"Not_Defined",description:"",assignee:"",status:"",creationDate:"",endDate:new Date,creator:"",assigneeDisplayName:"","assigneeUserEmployee.internalKey":"","assigneeUserEmployee.PortraitId":t.sbo.app.task.taskUtil.PortraitId,creatorDisplayName:"",relatedBusinessObject:void 0,relatedBOInfo:void 0,taskAttachments:[]},Mode:""}},editCss:function(){return e.__oModel.setValue("details/Mode",t.sbo.app.task.taskUtil.editMode),e.$("img[data-sfa-class = 'attachmentRemove']").removeClass("sap-sbo-task-hide").addClass("sap-sbo-task-show"),e.SetTargetId(e.__oModel.getValue("details/Mode")),""==e.$("#BoDesc").text()&&e.$("#removeImg").hide(),e.$(".taskAttachmentRemoveImage").show(),e.$(".RichMedia").show(),e.$(".taskSetting").css("margin-top",e.$(".RichMedia").height()),e.$("div[data-sfa-class = 'AssigneeCode']").css("cursor","pointer"),e.setTextAreaPointer(),!1},__fFileOnClick:function(o){e.__oCurrentFileModel=$(this).getModel();var a=e.__oCurrentFileModel.getValue("attachmentId"),i=e.__oModel.getValue("details/Mode"),s=e.__oCurrentFileModel.getValue("attachmentMimeType");i==t.sbo.app.task.taskUtil.viewMode?t.sbo.app.task.taskUtil.DownLoad(t.sbo.app.task.taskUtil.DownLoadUrl(a,e.__oModel.getValue("details/value"),e.getOption("originalBoEntityKey")),s):$.when(window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/task/REMOVEATTACHMENT"),"question",[{key:"no",text:t.sbo.localization.Helper.get("common/CANCEL")},{key:"yes",text:t.sbo.localization.Helper.get("common/DELETE")}])).done(function(t){if("yes"==t){var a=parseInt($(o.currentTarget).attr("index")),i=e.__oModel.getValue("details/value/taskAttachments");i.splice(a,1),e.__oModel.setValue("details/value/taskAttachments",i)}})},fileSelected:function(t){e.__uploadFileName="",t&&(e.__uploadFileName=t.name)},cancelCss:function(){e.closeFrame({result:!1})},removeBoDesc:function(){e.$("#BoDesc").text(""),e.$("#removeImg").hide(),e.__oModel.setValue("details/value/relatedBusinessObject",void 0)},asDoneAlert:function(o){var a=$(o.currentTarget).attr("id");"Approve"==a?$.when(window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/task/APPROVEREQUEST"),"question",[{key:"yes",text:t.sbo.localization.Helper.get("common/YES")},{key:"no",text:t.sbo.localization.Helper.get("common/CANCEL")}])).done(function(t){"yes"===t&&e.asDone(o)}):"Reject"==a&&$.when(window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/task/REJECTREQUEST"),"question",[{key:"yes",text:t.sbo.localization.Helper.get("common/YES")},{key:"no",text:t.sbo.localization.Helper.get("common/CANCEL")}])).done(function(t){"yes"===t&&e.asDone(o)})},asDone:function(o){var a=e.getOption("taskID"),i=e.__oModel.getValue("details/value/type"),s=$(o.currentTarget).attr("id"),n=e.__oModel.getValue("details/value/status");(i!=t.sbo.app.task.taskUtil.ApprovalType&&i!=t.sbo.app.task.taskUtil.AuthorizedApprovalType||n==t.sbo.app.task.taskUtil.NotCompleteStatus)&&(n=n==t.sbo.app.task.taskUtil.CompleteStatus?t.sbo.app.task.taskUtil.NotCompleteStatus:t.sbo.app.task.taskUtil.CompleteStatus,"Reject"==s?n=t.sbo.app.task.taskUtil.RejectStatus:"GrantReadOnlyAccess"==s?n=t.sbo.app.task.taskUtil.GrantReadStatus:"GrantFullAccess"==s?n=t.sbo.app.task.taskUtil.CompleteStatus:"GrantReject"==s&&(n=t.sbo.app.task.taskUtil.RejectStatus),t.util.showLoading(),$.when(t.sbo.app.task.taskUtil.SettaskStatus(a,n,i)).done(function(){t.sbo.app.task.taskUtil.handleSuccess("edit"),e.closeFrame({result:!0})}).fail(function(e){t.sbo.app.task.taskUtil.handleError(e,this,"edit")}).always(function(){t.util.hideLoading()}))},linktoBo:function(){var o=e.__oModel.getValue("details/value/relatedBusinessObject");return t.sbo.app.task.taskUtil.linktoBo(o),!1},chooseListSelected:function(o){var a=t.sbo.app.task.taskUtil.SettaskTypeForPersistence($(o.currentTarget).attr("key").trim());e.__oModel.setValue("details/value/type",a)},textAreaChange:function(e){var o=e.target,a=o.value;return a.length>t.sbo.app.task.taskUtil.MaxTextLength&&(o.value=a.substring(0,t.sbo.app.task.taskUtil.MaxTextLength),window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/task/TEXT_EXCEED",t.sbo.app.task.taskUtil.MaxTextLength))),!1},PlayVideo:function(e){var t=document.createElement("audio");null!==t&&t.canPlayType&&t.canPlayType("audio/mpeg")&&(t.src=e,t.play())},save:function(){var o="add",a=e.__oModel.getValue("details/Mode"),i=e.$("#dt").getControl().getOption("value"),s=i.getTimezoneOffset();i.setTime(i.getTime()+6e4*s),i="/Date("+i.getTime()+")/";var n=e.$(".myTextArea").val(),r=e.__oModel.getValue("details/value"),l={};l.endDate=i,l.description=n,l.status=r.status,l.type=t.sbo.app.task.taskUtil.SettaskTypeForPersistence(r.type),r.assignee&&(l.assignee=r.assignee),a!=t.sbo.app.task.taskUtil.editMode&&(l.status=t.sbo.app.task.taskUtil.NotCompleteStatus),e.getOption("taskID")&&""!=e.getOption("taskID")&&(l.id=e.getOption("taskID"));for(var d=[],p=e.__oModel.getValue("details/value/taskAttachments"),c=0;p.length>c;c++){var u={},h={};h.uri="Attachments("+p[c].attachmentId+")",u.__metadata=h;var b={};p[c].id&&(b.id=p[c].id),b.attachment=u,d.push(b)}if(l.taskAttachments=d,!l.description||""==l.description.trim())return window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/task/TEXT_MANADATORY")),void 0;var g;if(l.id&&""!=l.id){o="edit";var m=e.__oModel.getValue("details/value/relatedBusinessObject"),f=e.getOption("originalBoEntityKey");g=m&&f?e.__oService.updateOnBO(l,m):e.__dService.update(l,l)}else if(e.getOption("page")&&e.getOption("page").id)g=e.__oService.convertTaskFromPage(l,e.getOption("page").id),o="add";else{delete l.id;var m=e.__oModel.getValue("details/value/relatedBusinessObject");m||(m=null),g=l.type==t.sbo.app.task.taskUtil.AuthorizedApprovalType?e.__oService.createAuthorizedApproval(l,m):e.__oService.createOnBO(l,m),o="add"}return t.util.showLoading(),$.when(g).done(function(a){l.id&&""!=l.id?t.sbo.app.task.taskUtil.handleSuccess("edit"):t.sbo.app.task.taskUtil.handleSuccess("add"),e.getOption("page")&&e.callShell("save",e.getOption("page").id),"add"==o?e.closeFrame({result:!0,taskId:a.id,assignee:a.assignee}):e.closeFrame({result:!0})}).fail(function(e){t.sbo.app.task.taskUtil.handleError(e,this,o)}).always(function(){t.util.hideLoading()}),!1},SetUserImage:function(o,a){var i;i=a?e.__aService.getMyPortraitId():e.__aService.getPortraitId(o),$.when(i).done(function(t){t&&t.value&&e.__oModel.setValue("details/value/assigneeUserEmployee.PortraitId",t.value)}).fail(function(e){t.sbo.app.task.taskUtil.handleError(e,this)})},chooseAssignee:function(){if(e.__oModel.getValue("details/Mode")==t.sbo.app.task.taskUtil.viewMode){var o=e.__oModel.getValue("details/value/assignee"),a="phone"==window.SboShell.callFeatureMethod("shell.getDeviceType")?"phone":"pad";o==window.SboShell.getData("user.employeeID")?window.SboShell.gotoView(t.sbo.app.task.taskUtil.Stringformat("sap.sbo.page.{0}.Home",[a])):window.SboShell.gotoView(t.sbo.app.task.taskUtil.Stringformat("sap.sbo.page.{0}.colleague.ColleagueHome",[a]),[{keyName:"employeeID",keyValue:o}])}else window.SboShell.openFrame({view:"sap.sbo.chooseList.pad.ChooseListEmployee",type:"right",width:400,height:600,callback:function(t,o){"select"===t&&(e.__oModel.setValue("details/value/assignee",o.employeeID),e.__oModel.setValue("details/value/assigneeDisplayName",o.displayName),e.SetUserImage(o.employeeID))}})},uploadCompleted:function(o){var a=e.__oModel.getValue("details/value/taskAttachments");a||(a=[]);var i=a.length,s=e.__oModel.getValue("details/value");a.splice(i,0,{attachmentId:o,attachmentFileName:e.__uploadFileName,previewUrl:t.sbo.app.task.taskUtil.previewUrlBytaskInfo(void 0,o,s.relatedBusinessObject)}),e.__oModel.setValue("details/value/taskAttachments",a),e.__uploadFileName="",e.__AttachmentCountForUpload=a.length},uploadFailed:function(t){e.__uploadFileName="",window.SboShell.raiseMessage(t)},changeTypeClass:function(){var t=e.__oModel.getValue("details/value/type"),o=$(".popMenuDiv");o.each(function(e){var a=$(o[e]).attr("key");a==t?($(o[e]).addClass("taskBgBlue"),$(o[e]).removeClass("taskBgWhite")):($(o[e]).removeClass("taskBgBlue"),$(o[e]).addClass("taskBgWhite"))})},SetTargetId:function(o){var a=$("#"+e.__ChooseListID);o==t.sbo.app.task.taskUtil.viewMode||void 0==o?a.getControl().setOption("targetid",""):a.getControl().setOption("targetid",this.__TypeImageId)},setTextAreaPointer:function(){try{var t=e.$(".myTextArea")[0];if(t){t.focus();var o=t.value.length;t.selectionStart=o,t.selectionEnd=o}}finally{}},RepeatCss:function(){var o=e.__oModel.getValue("details/value/taskAttachments");e.updateAttachmentImageWidth(o.length);var a=e.__oModel.getValue("details/Mode");if((a==t.sbo.app.task.taskUtil.editMode||a==t.sbo.app.task.taskUtil.addMode)&&e.$("img[data-sfa-class = 'attachmentRemove']").removeClass("sap-sbo-task-hide").addClass("sap-sbo-task-show"),e.__AttachmentCountForUpload===o.length){var i=e.$("div[data-sfa-class='content']");i.scrollLeft(1e6)}},deletetask:function(){$.when(window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/task/REMOVEQUE"),"question",[{key:"no",text:t.sbo.localization.Helper.get("common/CANCEL")},{key:"yes",text:t.sbo.localization.Helper.get("common/DELETE")}])).done(function(o){if("yes"===o){var a=e.getOption("taskID");t.util.showLoading();var i,s=e.__oModel.getValue("details/value/relatedBusinessObject"),n=e.getOption("originalBoEntityKey");i=s&&n?e.__oService.deleteOnBO(a,s):e.__dService["delete"]({id:a}),$.when(i).done(function(){e.closeFrame({result:!0})}).fail(function(e){t.sbo.app.task.taskUtil.handleError(e,this,"delete")}).always(function(){t.util.hideLoading()})}})},__fActivitiesDialogRendered:function(){},Stringformat:function(e,t){return e.replace(/\{(\d+)\}/g,function(e,o){return t[o]})}})},destroy:function(){},settaskEntityDefaultValue:function(){var e=this.__taskEntityDefaultValue;if(void 0==this.getOption("taskID")||""==this.getOption("taskID")){e.details.Mode=t.sbo.app.task.taskUtil.addMode,this.$("img[data-sfa-class = 'attachmentRemove']").removeClass("sap-sbo-task-hide").addClass("sap-sbo-task-show"),e.details.value.status=t.sbo.app.task.taskUtil.NotCompleteStatus,e.details.value.id="";var o=new Date,a=o.getTimezoneOffset();if(o.setTime(o.getTime()+6e4*a+6e4*t.sbo.app.task.taskUtil.taskDateAddMinutes),e.details.value.endDate=o,e.details.value.assigneeDisplayName=window.SboShell.getData("user.name"),e.details.value.creatorDisplayName=window.SboShell.getData("user.name"),e.details.value.relatedBusinessObject=this.getOption("boEntityKey"),this.getOption("boEntityKey")&&this.getOption("boEntityKey").boEntityKey&&(e.details.value.relatedBusinessObject=this.getOption("boEntityKey").boEntityKey),e.details.value.relatedBOInfo=this.getOption("boEntityKey"),e.details.value.assignee=window.SboShell.getData("user.employeeID"),this.getOption("page")){this.getOption("page").text&&(e.details.value.description=this.getOption("page").text);var i=this.getOption("page").pageAttachments;if(i){for(var s=[],n=0;i.length>n;n++){var r={};r.attachmentId=i[n].attachmentId,r.attachmentFileName=i[n].attachmentFileName,r.attachmentFileSize=i[n].attachmentFileSize,r.attachmentMimeType=i[n].attachmentMimeType,r.previewUrl=i[n].previewUrl,s.push(r)}e.details.value.taskAttachments=s}}}else e.details.value.id=this.getOption("taskID"),e.details.Mode=t.sbo.app.task.taskUtil.viewMode,e.details.value.relatedBusinessObject=this.getOption("boEntityKey"),this.getOption("boEntityKey")&&this.getOption("boEntityKey").boEntityKey&&(e.details.value.relatedBusinessObject=this.getOption("boEntityKey").boEntityKey);e.direction=void 0!==window.isPhone?"vertical":"horizontal";var l=this.getOption("DataOwnershipRequest");l&&(e.details.value.type=t.sbo.app.task.taskUtil.AuthorizedApprovalType,e.details.value.id=void 0,e.details.value.relatedBusinessObject=this.getOption("boEntityKey")),this.setOption("taskEntity",e)},initView:function(){var o=$.Deferred(),a=this;this.showloadingIcon(!0),a.settaskEntityDefaultValue(),this.$(".TypeImage").attr("id",this.__TypeImageId),this.$(".chooseList").attr("id",this.__ChooseListID);var i=a.getOption("taskEntity");this.__oModel=new t.core.JsonModel({}),this.$().setModel(this.__oModel),this.__oModel.setValue("",i),this.$(".operationBar").parent().parent().parent().css("background","#FFFFFF"),this.$(".operationBar").parent().parent().parent().css("padding",0),this.$().process(e),o.resolve(),this.SetTargetId(this.__oModel.getValue("details/Mode")),this.$('div[data-sfa-class = "taskDisplayCompleted"]').on("vclick",this.asDone),a.$('div[data-sfa-class = "taskEdit"]').on("vclick",a.editCss),a.$('div[data-sfa-class = "Cancel"]').on("vclick",a.cancelCss),a.$('div[data-sfa-class = "Save"]').on("vclick",a.save),a.$('div[data-sfa-class = "msDone"]').on("vclick",a.asDone),a.$('div[data-sfa-class = "GrantReadOnlyAccess"]').on("vclick",a.asDone),a.$('div[data-sfa-class = "GrantFullAccess"]').on("vclick",a.asDone),a.$('div[data-sfa-class = "GrantReject"]').on("vclick",a.asDone),a.$('div[data-sfa-class = "Reject"]').on("vclick",a.asDoneAlert),a.$('div[data-sfa-class = "Approve"]').on("vclick",a.asDoneAlert),a.$('div[data-sfa-class = "taskDelete"]').on("vclick",a.deletetask),a.$('div[data-sfa-class = "taskClose"]').on("vclick",a.cancelCss),a.$(".taskUploadFile").getControl().attachEvent("uploadComplete",a.uploadCompleted),a.$(".taskUploadFile").getControl().attachEvent("uploadFailed",a.uploadFailed),a.$(".taskUploadFile").getControl().attachEvent("fileSelected",a.fileSelected),a.$(".photoPick").getControl().attachEvent("uploadComplete",a.uploadCompleted),a.$(".photoPick").getControl().attachEvent("uploadFailed",a.uploadFailed),a.$(".photoPick").getControl().attachEvent("fileSelected",a.fileSelected),a.$(".photoAlbum").getControl().attachEvent("uploadComplete",a.uploadCompleted),a.$(".photoAlbum").getControl().attachEvent("uploadFailed",a.uploadFailed),a.$(".photoAlbum").getControl().attachEvent("fileSelected",a.fileSelected),a.$(".pressTalk").getControl().attachEvent("uploadComplete",a.uploadCompleted),a.$(".pressTalk").getControl().attachEvent("uploadFailed",a.uploadFailed),a.$(".pressTalk").getControl().attachEvent("fileSelected",a.fileSelected),a.$('img[id = "removeImg"]').on("vclick",a.removeBoDesc),$("#"+a.__ChooseListID).getControl().attachEvent("onSelected",a.chooseListSelected),a.$(".myTextArea").on("input",a.textAreaChange),a.$(".taskContainer").getControl().attachEvent("afterUpdate",this.RepeatCss),this.$().on("vclick",'div[data-sfa-class="taskAttach"]',this.__fFileOnClick),this.$().on("vclick",'div[data-sfa-class = "AssigneeCode"]',this.chooseAssignee);
var s=this.__oModel.getValue("details/Mode");return s==t.sbo.app.task.taskUtil.addMode&&(this.setTextAreaPointer(),this.SetUserImage({},!0)),o.promise()},AddUploadIcon:function(){var e={};e.Id=t.sbo.app.task.taskUtil.__SystemImageId,e.attachmentId=t.sbo.app.task.taskUtil.__SystemImageId;var o=this.__oModel.getValue("details/value/taskAttachments");o instanceof Array||(o=[]),o.push(e),this.__oModel.setValue("details/value/taskAttachments",o),this.updateAttachmentImageWidth(o.length)},RemoveUploadIcon:function(){var e=this.__oModel.getValue("details/value/taskAttachments");this.__oModel.setValue("details/value/taskAttachments",e.pop())},showloadingIcon:function(e){e?(this.$().hide(),t.util.showLoading()):(this.$().show(),t.util.hideLoading())},destroyView:function(){this.__oService=null,this.__dService=null,this.__aService=null,this.$(".myTextArea").off("input",this.textAreaChange),this.$('div[data-sfa-class = "taskEdit"]').off("vclick",this.editCss),this.$('div[data-sfa-class = "Cancel"]').off("vclick",this.cancelCss),this.$('div[data-sfa-class = "Save"]').off("vclick",this.save),this.$('div[data-sfa-class = "msDone"]').off("vclick",this.asDone),this.$('div[data-sfa-class = "Reject"]').off("vclick",this.asDone),this.$('div[data-sfa-class = "Approve"]').off("vclick",this.asDone),this.$('div[data-sfa-class = "taskDelete"]').off("vclick",this.deletetask),this.$('div[data-sfa-class = "taskClose"]').off("vclick",this.cancelCss),this.$('img[id = "removeImg"]').off("vclick",this.removeBoDesc),this.$('div[data-sfa-class = "taskDisplayCompleted"]').off("vclick",this.asDone),this.$('div[data-sfa-class = "GrantReadOnlyAccess"]').off("vclick",this.asDone),this.$('div[data-sfa-class = "GrantFullAccess"]').off("vclick",this.asDone),this.$('div[data-sfa-class = "GrantReject"]').off("vclick",this.asDone),$("#"+this.__ChooseListID).getControl().detachEvent("onSelected",this.chooseListSelected),this.$().off("vclick",'div[data-sfa-class="taskAttach"]',this.__fFileOnClick),this.$().off("vclick",'div[data-sfa-class = "AssigneeCode"]',this.chooseAssignee),this.$(".taskUploadFile").getControl().detachEvent("uploadComplete",this.uploadCompleted),this.$(".taskUploadFile").getControl().detachEvent("uploadFailed",this.uploadFailed),this.$(".taskUploadFile").getControl().detachEvent("fileSelected",this.fileSelected),this.$(".photoPick").getControl().detachEvent("uploadComplete",this.uploadCompleted),this.$(".photoPick").getControl().detachEvent("uploadFailed",this.uploadFailed),this.$(".photoPick").getControl().detachEvent("fileSelected",this.fileSelected),this.$(".photoAlbum").getControl().detachEvent("uploadComplete",this.uploadCompleted),this.$(".photoAlbum").getControl().detachEvent("uploadFailed",this.uploadFailed),this.$(".photoAlbum").getControl().detachEvent("fileSelected",this.fileSelected),this.$(".pressTalk").getControl().detachEvent("uploadComplete",this.uploadCompleted),this.$(".pressTalk").getControl().detachEvent("uploadFailed",this.uploadFailed),this.$(".pressTalk").getControl().detachEvent("fileSelected",this.fileSelected),this.$(".taskContainer").getControl().detachEvent("afterUpdate",this.RepeatCss),this.setOption("page",void 0),this.__destroyDialog(),this.$().unprocess()},update:function(e){if(e.taskID){if(this.getOption("taskID")==this.__TaskIDForChange)return this.getOption("taskID")||this.showloadingIcon(!1),void 0;this.__TaskIDForChange=this.getOption("taskID"),this.__RefreshCurrenttask()}this.setTextAreaPointer()},resize:function(){}},Protected:{__destroyDialog:function(){},__RefreshCurrenttask:function(){var e=this.getOption("taskID");this.__load(e)},updateAttachmentImageWidth:function(e){var t=this,o=t.$("div[data-sfa-class = 'taskContainer']"),a=t.$("div[data-sfa-class='content']"),i=t.$(".attachPreviewIcon"),s=t.getOption("attachImgLength")*e;s>a.width()&&"desktop"==window.SboShell.callFeatureMethod("shell.getDeviceType")&&i.css("height","167px"),o.width(t.getOption("attachImgLength")*e)},__load:function(o){if(!o)return this.showloadingIcon(!1),void 0;var a=this,i=void 0,s=a.__oModel.getValue("details/value/relatedBusinessObject"),n=a.getOption("originalBoEntityKey");i=s&&n?this.__oService.getTaskUnderBO(o,s):this.__dService.get({id:o}),$.when(i).done(function(o){if(o){o.type==t.sbo.app.task.taskUtil.ApprovalType?(a.$('div[data-sfa-class = "taskDisplayCompleted"]').off("vclick",a.asDone),a.$('div[data-sfa-class = "taskDisplayCompleted"]').css("cursor","default")):a.$('div[data-sfa-class = "taskDisplayCompleted"]').css("cursor","pointer"),t.sbo.app.task.taskUtil.formattask(o,a.getOption("originalBoEntityKey")),t.sbo.app.task.taskUtil.processAttahcmentUrl(o),a.__oModel.setValue("details/value",o);var i=t.sbo.page.common.notepage.NotePageUtil.convertAtContent(o.toAnalyzeFunction,o.description);a.__oModel.setValue("richMediaText",i.text),a.__oModel.setValue("richTextTargets",i.richTextTargets),a.$('div[data-sfa-class="textDivLabel"]').process(e),o.type==t.sbo.app.task.taskUtil.ApprovalType&&o.status==t.sbo.app.task.taskUtil.NotCompleteStatus?a.$("[data-sfa-class = 'Reject']").show():a.$("[data-sfa-class = 'Reject']").hide(),a.SetUserImage(o.assignee)}}).fail(function(e){t.sbo.app.task.taskUtil.handleError(e,this,"load")}).always(function(){a.showloadingIcon(!1)})}},Static:{}})}),define("sap.sbo.page.pad.task.taskList",["sap.ui.Controller","sap.sbo.ui.PageController","sap.ui.widget.TextField","sap.sbo.layout.TileViewController","sap.log","sap.ui.widget.Checkbox","sap.util","sap.core.JsonModel","sap.ui.widget.Button","sap.core.klass","sap.sbo.shell.IFeaturable","sap.ui.Repeat","sap.ui.widget.Icon","sap.core.ArrayListSource","sap.sbo.app.task.taskListSource","sap.sbo.compoundservices.TasksService","sap.sbo.services.TasksService","sap.sbo.app.task.taskUtil","sap.sbo.localization.Helper","sap.core.ListSourceFilter","sap.ui.common","sap.util","sap.sbo.layout.pad.ListLayout","css!sap.sbo.page.pad.task.taskList"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.PageController,Options:{taskID:{type:"string",defaultValue:""},page:{type:"any",defaultValue:void 0},filterKey:{type:"string",defaultValue:"opened"},__FilterType:{type:"string",defaultValue:"assignee"},UserAggregation:{type:"string",defaultValue:"false"},data:{}},Public:{init:function(){t.sbo.ui.PageController.prototype.init.apply(this,arguments);var e=this;t.core.klass.declareMember(this,{__oModel:new t.core.JsonModel({activities:{value:[]}}),__oService:new t.sbo.compoundservices.TasksService,__dService:new t.sbo.services.TasksService,__uService:t.sbo.app.task.taskUtil,__bToAdd:!1,__$dialog:null,__$addButton:null,__btaskUpdated:!1,__oCurrentTileModel:null,__itaskCount:0,__AppendFilterDiv:void 0,__boEntityKey:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo").storeParam.boEntityKey,__detailViewInfo:"sap.sbo.page.pad.task.taskDialog",__ALLTASKS_STRING:t.sbo.localization.Helper.get("app/task/ALLTASKS"),__OPENEDTASKS_STRING:t.sbo.localization.Helper.get("app/task/OPENEDTASKS"),__FINISHEDTASKS_STRING:t.sbo.localization.Helper.get("app/task/FINISHEDTASKS"),__MY_STRING:t.sbo.localization.Helper.get("app/task/MY"),__ALL_STRING:t.sbo.localization.Helper.get("app/task/ALL"),__fBeforeDialogClose:function(){e.__GetFiltertask()},__GetFiltertask:function(){e.setEmptyText(),e.executeFilter()},__fTileOnClick:function(t){e.__opentaskDialog(t)},__Filtertask:function(o){var a=t.ui.common.getStaticContainer(),i=$(".filtertaskDIV");(1>=i.length||!e.__AppendFilterDiv)&&(e.__AppendFilterDiv=$(i[0]).clone().appendTo(a));var s=$(o.currentTarget),n=s.offset();e.__AppendFilterDiv.css("position","absolute");var r=$(window.SboShell.__subClassSelector("head"));return e.__AppendFilterDiv.css("top",r.offset().top+r.height()+5),e.__AppendFilterDiv.css("left",n.left-70),e.__AppendFilterDiv.addClass("sap-sbo-task-list-filter"),e.__boEntityKey?"BusinessPartner"===e.__boEntityKey.boName?($(".filtertaskDIV").height(290),$(".myFilter").hide(),$(".boFilter").hide(),$(".customerFilter").show()):($(".filtertaskDIV").height(220),$(".myFilter").hide(),$(".customerFilter").hide(),$(".boFilter").show()):($(".filtertaskDIV").height(290),$(".myFilter").show(),$(".boFilter").hide(),$(".customerFilter").hide()),e.__AppendFilterDiv.show(),$(".filterText").on("vclick",e.SetExecuteFilterOption),!1},__HideFiltertask:function(t){t&&"resize"===t.type&&e.__AppendFilterDiv&&e.__AppendFilterDiv.hide(),e.__AppendFilterDiv&&e.__AppendFilterDiv.fadeOut("normal")},executeFilter:function(){var t=e.getOption("filterKey");switch(t){case"all":e.__getAllActivities();break;case"opened":e.__getOpentask();break;case"finished":e.__getFinishedtask();break;default:}},SetExecuteFilterOption:function(t){var o=$(t.currentTarget),a=o.attr("data-filter");switch(a){case"bo_all":e.setOption("filterKey","all"),e.setOption("UserAggregation","false");break;case"toMe_all":e.setOption("__FilterType","assignee"),e.setOption("filterKey","all"),e.setOption("UserAggregation","false");break;case"fromMe_all":e.setOption("__FilterType","creationUserID"),e.setOption("filterKey","all"),e.setOption("UserAggregation","false");break;case"bo_opened":e.setOption("filterKey","opened"),e.setOption("UserAggregation","false");break;case"toMe_opened":e.setOption("__FilterType","assignee"),e.setOption("filterKey","opened"),e.setOption("UserAggregation","false");break;case"fromMe_opened":e.setOption("__FilterType","creationUserID"),e.setOption("filterKey","opened"),e.setOption("UserAggregation","false");break;case"bo_done":e.setOption("filterKey","finished"),e.setOption("UserAggregation","false");break;case"toMe_done":e.setOption("__FilterType","assignee"),e.setOption("filterKey","finished"),e.setOption("UserAggregation","false");break;case"fromMe_done":e.setOption("__FilterType","creationUserID"),e.setOption("filterKey","finished"),e.setOption("UserAggregation","false");break;case"all_aggregation":e.setOption("UserAggregation","true"),e.setOption("filterKey","all");break;default:}return e.__GetFiltertask(),e.__HideFiltertask(),$(".filterText").off("vclick",e.SetExecuteFilterOption),!1},__opentaskDialog:function(o){var a=o.id,i=o.relatedBusinessObject;i||(i=e.__boEntityKey),e.__$dialog=window.SboShell.openFrame({view:e.__detailViewInfo,type:"center",width:t.sbo.app.task.taskUtil.PadtaskDialogDimension.width,height:t.sbo.app.task.taskUtil.PadtaskDialogDimension.height,options:{taskID:a,boEntityKey:i,originalBoEntityKey:e.__boEntityKey},callback:function(t,o){"close"===t&&o&&o.result&&e.__fBeforeDialogClose()}})},__fCompleteOnClick:function(o){var a=$(o.currentTarget).attr("id"),i="",s="";switch(a){case"taskCK":i=$(this).parent().parent().parent().getModel().getValue("status"),s=$(this).parent().parent().parent().getModel().getValue("type"),i=i==t.sbo.app.task.taskUtil.NotCompleteStatus?t.sbo.app.task.taskUtil.CompleteStatus:t.sbo.app.task.taskUtil.NotCompleteStatus;break;case"Approve":i=t.sbo.app.task.taskUtil.CompleteStatus;break;case"Reject":i=t.sbo.app.task.taskUtil.RejectStatus;break;case"ApproveReadOnly":i=t.sbo.app.task.taskUtil.GrantReadStatus}return e.__Completedtask(this.parentElement,$(this).parent().parent().parent().getModel().getValue("id"),$(this).parent().parent().parent().getModel(),i),!1},__OpentaskDialog:function(){e.__opentaskDialog({})},__fActionButtonClicked:function(t){switch(t){case"add":e.__OpentaskDialog({});break;case"Search":window.SboShell.openFrame({view:"sap.sbo.app.search.SearchDialog",type:"center",width:900,height:700});default:}}})},destroy:function(){},initView:function(){var o=$.Deferred(),a=void 0!==window.isPhone?"vertical":"horizontal";return this.__oModel.setValue("",{direction:a}),this.$().setModel(this.__oModel),this.__GetFiltertask(),this.$().process(e),this.setEmptyText(),o.resolve(),window.SboShell.attachEvent("actionButtonClick",this.__fActionButtonClicked),this.adaptTitleForListView(this.__Filtertask),window.SboShell.addActionButtons([{text:t.sbo.localization.Helper.get("app/task/ADD"),key:"add"},{text:"Search",key:"Search"}],this),this.$(".sbo-list-layout-content").on("vclick",'div[id = "taskCK"]',this.__fCompleteOnClick),this.$(".sbo-list-layout-content").on("vclick",'div[data-sfa-class = "ApproveInList"]',this.__fCompleteOnClick),this.$(".sbo-list-layout-content").on("vclick",'div[data-sfa-class = "ApproveReadOnlyInList"]',this.__fCompleteOnClick),this.$(".sbo-list-layout-content").on("vclick",'div[data-sfa-class = "RejectInList"]',this.__fCompleteOnClick),this.$("#taskListLayout").getControl().attachEvent("itemClick",this.__fTileOnClick),this.$("#taskListLayout").getControl().attachEvent("create",this.__OpentaskDialog),this.addBodyEventListener(),o.promise()},addBodyEventListener:function(){var e=navigator.userAgent,t=null!==e.match(/iPad/i);t?window.document.addEventListener("touchstart",this.__HideFiltertask,!1):(window.document.addEventListener("mousedown",this.__HideFiltertask,!1),window.document.addEventListener("mousewheel",this.__HideFiltertask,!1),window.document.addEventListener("DOMMouseScroll",this.__HideFiltertask,!1))},setEmptyText:function(){var e=this.$(".sap-sbo-app-task-list-view").getControl();if(e){var o=this.getOption("filterKey"),a=this.getOption("__FilterType"),i=this.getOption("UserAggregation");if("true"==i)return e.setOption("emptyTexts",[t.sbo.localization.Helper.get("app/task/NOTRELATEDTASKS")]),void 0;if("creationUserID"==a)return e.setOption("emptyTexts",[t.sbo.localization.Helper.get("app/task/NOTSENTTASKS")]),void 0;switch(o){case"all":return e.setOption("emptyTexts",[t.sbo.localization.Helper.get("app/task/TASKEMPTYINFO"),t.sbo.localization.Helper.get("app/task/TASKEMPTYCREATEINFO")]),void 0;case"opened":return e.setOption("emptyTexts",[t.sbo.localization.Helper.get("app/task/NOTOPENTASKS")]),void 0;case"finished":return e.setOption("emptyTexts",[t.sbo.localization.Helper.get("app/task/NOTCOMPLETETASKS")]),void 0;default:return}}},removeBodyEventListener:function(){var e="pad"===window.SboShell.callFeatureMethod("shell.getDeviceType");e?window.document.removeEventListener("touchstart",this.__HideFiltertask,!1):(window.document.removeEventListener("mousedown",this.__HideFiltertask,!1),window.document.removeEventListener("mousewheel",this.__HideFiltertask,!1),window.document.removeEventListener("DOMMouseScroll",this.__HideFiltertask,!1),window.removeEventListener("resize",this.__HideFiltertask,!1))},destroyView:function(){window.SboShell.detachEvent("actionButtonClick",this.__fActionButtonClicked),window.SboShell.resetTitle(),this.removeBodyEventListener(),this.$(".sbo-list-layout-content").off("vclick",'div[id = "taskCK"]',this.__fCompleteOnClick),this.$(".sbo-list-layout-content").off("vclick",'div[data-sfa-cass = "ApproveInList"]',this.__fCompleteOnClick),this.$(".sbo-list-layout-content").off("vclick",'div[data-sfa-class = "RejectInList"]',this.__fCompleteOnClick),this.$(".sbo-list-layout-content").off("vclick",'div[data-sfa-class = "ApproveReadOnlyInList"]',this.__fCompleteOnClick),this.$("#taskListLayout").getControl().detachEvent("itemClick",this.__fTileOnClick),this.$("#taskListLayout").getControl().detachEvent("create",this.__OpentaskDialog),this.__AppendFilterDiv&&this.__AppendFilterDiv.remove(),$("div[class = 'filterText']").off("vclick",this.SetExecuteFilterOption),this.setOption("filterKey","opened"),this.setOption("__FilterType","assignee"),this.setOption("UserAggregation","fasle"),this.$().unprocess(),this.__oCurrentTileModel&&(this.__oCurrentTileModel=null),this.__oModel.destroy(),this.__oModel=null},update:function(){}},Protected:{__Completedtask:function(e,o,a,i){t.util.showLoading();var s=this;$.when(s.__uService.SettaskStatus(o,i,a.getValue("type"))).done(function(){a.setValue("status",i),t.sbo.app.task.taskUtil.handleSuccess("edit")}).fail(function(e){t.sbo.app.task.taskUtil.handleError(e,this,"edit")}).always(function(){t.util.hideLoading()})},__GettaskByStatus:function(e){this.__oModel.setValue("filter",new t.core.ListSourceFilter("(`status`= '"+e+"')"));var o=new t.sbo.app.task.taskListSource({boEntity:this.__boEntityKey,filterType:this.getOption("__FilterType"),UserAggregation:this.getOption("UserAggregation")});this.__oModel.setValue("list",o)},__getOpentask:function(){this.__GettaskByStatus(t.sbo.app.task.taskUtil.NotCompleteStatus),"opened"!=this.getOption("filterKey")&&this.setOption("filterKey","opened")},__getAllActivities:function(){this.__GettaskByStatus(t.sbo.app.task.taskUtil.AllStatus),"all"!=this.getOption("filterKey")&&this.setOption("filterKey","all")},__getFinishedtask:function(){this.__GettaskByStatus(t.sbo.app.task.taskUtil.CompleteStatus),"finished"!=this.getOption("filterKey")&&this.setOption("filterKey","finished")}},Static:{}})}),define("sap.sbo.page.pad.user.BasicInfo",["sap.core.klass","sap.ui.Controller","sap.sbo.layout.pad.MetadataLayout","sap.core.JsonModel","sap.ui.widget.TextField","sap.sbo.services.UserEmployeesService","sap.sbo.page.pad.BoMetadataEditController","sap.sbo.util.formatter","sap.sbo.localization.Helper","sap.util","sap.sbo.ui.widget.BoStatus","sap.sbo.shell.IViewHistoryRecordable","sap.ui.widget.DropDownBox","sap.sbo.ui.widget.RelatedValueDropDownBox","sap.ui.widget.ValueHelpField","sap.core.ListSourceFilter","json!sap.sbo.util.enums","sap.sbo.services.BaseService","sap.ui.widget.Photo","css!sap.sbo.page.pad.user.BasicInfo","css!sap.sbo.app.template.EditProperty"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={getUrl:function(){return".."+t.sbo.services.BaseService.documentbase+"file"}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.pad.BoMetadataEditController,Interfaces:[t.sbo.shell.IViewHistoryRecordable],Public:{init:function(){t.sbo.page.pad.BoMetadataEditController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{_oService:new t.sbo.services.UserEmployeesService,_mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),__cgPsdClickedProxy:$.proxy(this.__cgPsdBtnClick,this),__bDesktop:null})},destroy:function(){this._oService.destroy()},initView:function(){var e=$.Deferred(),o=this;return this.__bDesktop="desktop"==window.SboShell.callFeatureMethod("shell.getDeviceType"),$.when(t.sbo.page.pad.BoMetadataEditController.prototype.initView.call(this)).done(function(){o.setTitle({subTitle:o.boGetValue("displayName"),title:t.sbo.localization.Helper.get("user/pad/profile/title")}),Number(o.boGetValue("employeeID"))==Number(window.SboShell.getData("user.employeeID"))&&(window.SboShell.addActionButtons([{key:"cgPsw",text:t.sbo.localization.Helper.get("page/user/btnCgPsw")}],o),window.SboShell.attachEvent("actionButtonClick",o.__cgPsdClickedProxy)),o.$().onControlEvent("click",'[data-id="manager"]',function e(){o.$().offControlEvent("click",'[data-id="manager"]'),window.SboShell.openFrame({view:"sap.sbo.chooseList.pad.ChooseListEmployee",options:{filter:new t.core.ListSourceFilter("([employeeID] != "+o.boGetValue("employeeID")+")")},type:"right",callback:function(t,a){"close"===t?o.$().onControlEvent("click",'[data-id="manager"]',e):"select"===t&&(o._oMetadataValueModel.setValue("manager",a.employeeID),o._oMetadataValueModel.setValue("managerDisplayName",a.displayName))}})}),o.$().onControlEvent("click",".portrait",function e(){o.$().offControlEvent("click",".portrait")})}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){e.resolve()}),o.$().control({"[ctrl='main']":{listener:{afterProcess:function(){o.$(".portrait").on("click",function(){window.SboShell.openFrame({view:"sap.sbo.page.pad.user.UserPortrait",options:{employeeID:o.boGetValue("employeeID"),portraitID:o.boGetValue("portraitId")},type:"center",width:750,height:530,callback:function(e,t){"update"===e&&o.__updatePortrait(o.boGetValue("employeeID"),t.portraitID)}})})}}}}),e.promise()},destroyView:function(){var e=this;Number(e.boGetValue("employeeID"))==Number(window.SboShell.getData("user.employeeID")),Number(this.boGetValue("employeeID"))==Number(window.SboShell.getData("user.employeeID"))&&window.SboShell.detachEvent("actionButtonClick",this.__cgPsdClickedProxy),e.$(".portrait").off("click"),this.$().unprocess(),t.sbo.page.pad.BoMetadataEditController.prototype.destroyView.call(this)},update:function(){},getMainControl:function(){return this.$("[ctrl='main']").getControl()},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"UserEmployee",keyElements:this._mViewInfo.storeParam}},canEdit:function(){return Number(this.boGetValue("employeeID"))==Number(window.SboShell.getData("user.employeeID"))},getService:function(){return this._oService},process:function(){this.$().process(e)},boValidate:function(){},shouldBeRecorded:function(){return!1},on_save:function(){var e=this,o=this.boGetMaskedValue(),a={firstName:o.firstName,lastName:o.lastName,jobTitle:o.jobTitle,manager:o.manager,mobilePhone:o.mobilePhone,officePhone:o.officePhone,officeExtension:o.officeExtension,bakEMail:o.bakEMail},i=this.convertBoKey(this.getBoKeyEntity().keyElements);$.when(this._oService.action_updateUserEmployee(i,a)).done(function(o){e._oMetadataValueModel.setValue("",o),window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/CHANGES_SAVED"),"success"),e.exitEditMode()}).fail(function(e){console.log(e)})}},Protected:{__updatePortrait:function(o,a){var i={boNamespace:"com.sap.sbo",boName:"EmployeesInfo",keyElements:[{keyName:"employeeID",keyValue:Number(o)}]};this.$(".portrait").children().unprocess(),this.$(".portrait").html("<div class='img' data-sap-widget='sap.ui.widget.Photo' data-sap-option='src:\""+t.sbo.services.BaseService.documentbase+"file/thumbnail?id="+a+"&boEntityKey="+encodeURIComponent(JSON.stringify(i))+'", arrangeType:"both", radius:"28px",width:"56px",inlineStyle:"max-width: 56px;"\' ></div>'),this.$(".portrait").children().process(e)},__cgPsdBtnClick:function(e){var t=this;if("cgPsw"==e){window.SboShell.getData("user.keyUser");var o="sap.sbo.app.user.ChangeMyPassword";window.SboShell.openFrame({view:o,type:"center",width:294,height:438,options:{employeeID:t._mViewInfo.storeParam[0].keyValue},callback:function(){}})}}}})}),define("sap.sbo.page.pad.user.UserCreation",["sap.ui.Controller","sap.sbo.services.UserEmployeesService","sap.sbo.compoundservices.UserEmployeeService","sap.sbo.compoundservices.TutorialService","sap.ui.widget.Checkbox","sap.sbo.page.pad.boCreation","sap.ui.widget.TextField","sap.ui.widget.Button","sap.util","sap.sbo.localization.Helper","json!sap.sbo.util.enums","sap.sbo.ui.widget.SliderButton","sap.sbo.util.formatter","css!sap.sbo.page.pad.boCreation","css!sap.sbo.page.pad.user.UserCreation"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={bool_string:function(t,o){return"<<"===o?t===e.json.sap.sbo.util.enums.bool.Yes:t?e.json.sap.sbo.util.enums.bool.Yes:e.json.sap.sbo.util.enums.bool.No}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.pad.boCreation,Public:{init:function(){t.sbo.page.pad.boCreation.prototype.init.apply(this,arguments),this.__oService=this.autoDestroy(new t.sbo.services.UserEmployeesService),this.__uService=this.autoDestroy(new t.sbo.compoundservices.UserEmployeeService),this.__tService=this.autoDestroy(new t.sbo.compoundservices.TutorialService),this.__onBlurProxy=$.proxy(this.__onBlur,this),this.__onSaveProxy=$.proxy(this.__onSave,this),this.__onCancelProxy=$.proxy(this.__onCancel,this),this.__model.setValue("",{firstName:"",lastName:"",userPassword:"",confirmPassword:"",eMail:"",mobilePhone:"",superuser:!1}),$.extend(this.__ns,e)},destroy:function(){},initView:function(){var e=$.Deferred(),o=this;return $.when(t.sbo.page.pad.boCreation.prototype.initView.call(this)).done(function(){o.$("#btnCancel0").on("click",o.__onCancelProxy),o.$("#btnSaveOpen0").on("click",o.__onSaveProxy),e.resolve()}),e.promise()},destroyView:function(){this.$("#btnCancel0").off("click",this.__onCancelProxy),this.$("#btnSaveOpen0").off("click",this.__onSaveProxy),t.sbo.page.pad.boCreation.prototype.destroyView.call(this)},update:function(){},__onBlur:function(){},__onCancel:function(){this.callShell("close")},__onSave:function(){this.__savebo()},__savebo:function(){var e=this,o=e.__model.getValue("");if(null==o.firstName||null==o.lastName||0==o.firstName.length||0==o.lastName.length)return window.SboShell.raiseMessage(t.sbo.localization.Helper.get("pad/user/error/name_empty"),"error"),void 0;if(null==o.eMail||0==o.eMail.length)return window.SboShell.raiseMessage(t.sbo.localization.Helper.get("pad/user/error/email_empty"),"error"),void 0;var a=/^(?:[a-z\d]+[_\-\+\.]?)*[a-z\d]+@(?:([a-z\d]+\-?)*[a-z\d]+\.)+([a-z]{2,})+$/i;return a.test(o.eMail)?(t.util.showLoading(),$.when(this.__uService.verifyEmail(o.eMail)).done(function(a){if(null!=a&&1==a.value){delete o.confirmPassword,delete o.portraitId;for(var i in o)null==o[i]&&delete o[i];t.util.showLoading(),$.when(e.__oService.create(o)).done(function(t){e.callShell("refresh",t),e.callShell("close"),t&&t.employeeID>0&&$.when(e.__tService.createTutorial(t.employeeID)).done(function(){}).fail()}).fail(function(){}).always(function(){t.util.hideLoading()})}else window.SboShell.raiseMessage(t.sbo.localization.Helper.get("user/creation/email/repeat"),"error")}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()}),void 0):(window.SboShell.raiseMessage(t.sbo.localization.Helper.get("pad/user/error/invalid_email"),"error"),void 0)}}})}),define("sap.sbo.page.pad.user.UserEdit",["require","css!sap.sbo.app.template.EditProperty","sap.core.klass","sap.ui.Controller","sap.sbo.layout.pad.MetadataLayout","sap.core.JsonModel","sap.ui.widget.TextField","sap.sbo.page.pad.BoMetadataEditController","sap.sbo.services.UserEmployeesService","sap.ui.widget.ValueHelpField","sap.sbo.util.formatter","sap.sbo.services.BaseService","sap.core.ListSourceFilter","sap.sbo.ui.widget.SliderButton","sap.core.BaseException","sap.util","sap.ui.widget.Photo","sap.sbo.localization.Helper","json!sap.sbo.page.bo-services","json!sap.sbo.util.enums","css!sap.sbo.page.pad.boEdit","css!sap.sbo.page.pad.user.UserEdit"],function(e){"use strict";var t=this.getNS(),o=t.sap,a=t.json.sap.sbo.page["bo-services"];return t.formatter={cannotChangePriceList:function(e){return"tYES"==e.keyUser?!0:!1},getUrl:function(){return".."+o.sbo.services.BaseService.documentbase+"file"}},o.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:o.sbo.page.pad.BoMetadataEditController,Options:{boName:{type:"string"},boNamespace:{type:"string"},keyElements:{type:"any"}},Public:{init:function(){o.sbo.page.pad.BoMetadataEditController.prototype.init.apply(this,arguments),o.core.klass.declareMember(this,{__mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),__oService:null,__uService:new o.sbo.services.UserEmployeesService,__cgPsdClickedProxy:$.proxy(this.__cgPsdBtnClick,this),__bDesktop:null,__boCache:null})},destroy:function(){this.$().unprocess()},initView:function(){var t=$.Deferred(),i=this;return this.__bDesktop="desktop"==window.SboShell.callFeatureMethod("shell.getDeviceType"),e([a[this.__mViewInfo.storeParam.boName]],function(e){try{i.__oService=i.autoDestroy(new e),$.when(o.sbo.page.pad.BoMetadataEditController.prototype.initView.call(i)).done(function(){i.__boCache={keyUser:i._oMetadataValueModel.getValue("").keyUser,locked:i._oMetadataValueModel.getValue("").locked},i.setTitle({subTitle:i.boGetValue("displayName"),title:o.sbo.localization.Helper.get("user/pad/profile/title")}),window.SboShell.addActionButtons([{key:"cgPsw",text:o.sbo.localization.Helper.get("page/user/btnCgPsw")}],i),window.SboShell.attachEvent("actionButtonClick",i.__cgPsdClickedProxy),i.$().onControlEvent("click",'[data-id="manager"]',function e(){i.$().offControlEvent("click",'[data-id="manager"]'),window.SboShell.openFrame({view:"sap.sbo.chooseList.pad.ChooseListEmployee",options:{filter:new o.core.ListSourceFilter("([employeeID] != "+i.boGetValue("employeeID")+")")},type:"right",callback:function(t,o){"close"===t?i.$().onControlEvent("click",'[data-id="manager"]',e):"select"===t&&(i._oMetadataValueModel.setValue("manager",o.employeeID),i._oMetadataValueModel.setValue("managerDisplayName",o.displayName))}})}),i.$().onControlEvent("click",".portrait",function e(){i.$().offControlEvent("click",".portrait")}),t.resolve()}).fail(function(e){t.reject(e)})}catch(a){t.reject(a)}}),i.$().control({"[ctrl='main']":{listener:{afterProcess:function(){i.$(".portrait_useredit").on("click",function(){window.SboShell.openFrame({view:"sap.sbo.page.pad.user.UserPortrait",options:{employeeID:i.boGetValue("employeeID"),portraitID:i.boGetValue("portraitId")},type:"center",width:750,height:530,callback:function(e,t){"update"===e&&i.__updatePortrait(i.boGetValue("employeeID"),t.portraitID)}})})}}}}),t.promise()},destroyView:function(){var e=this;e.$(".portrait_useredit").off("click"),window.SboShell.detachEvent("actionButtonClick",this.__cgPsdClickedProxy),this.$().unprocess(),o.sbo.page.pad.BoMetadataEditController.prototype.destroyView.call(this)},update:function(){},getMainControl:function(){return this.$("[ctrl='main']").getControl()},getBoKeyEntity:function(){return this.__mViewInfo.storeParam},getService:function(){return this.__oService},process:function(){this.$().process(t)},boValidate:function(){var e=$.Deferred();if((this.__boCache.keyUser==t.json.sap.sbo.util.enums.bool.Yes&&this.boGetValue("keyUser")==t.json.sap.sbo.util.enums.bool.No||this.__boCache.locked==t.json.sap.sbo.util.enums.bool.No&&this.boGetValue("locked")==t.json.sap.sbo.util.enums.bool.Yes)&&this.boGetValue("employeeID")==window.SboShell.getData("user.employeeID")){var a=new o.core.BaseException(o.sbo.localization.Helper.get("app/user/error/cgUselfToNormal"),"error");e.reject(a)}else e.resolve();return e.promise()},on_save:function(){var e=this,t=this.boGetMaskedValue(),a={firstName:t.firstName,lastName:t.lastName,jobTitle:t.jobTitle,manager:t.manager,mobilePhone:t.mobilePhone,officePhone:t.officePhone,officeExtension:t.officeExtension,bakEMail:t.bakEMail,locked:t.locked,keyUser:t.keyUser,viewRPriceLists:t.viewRPriceLists},i=this.convertBoKey(this.getBoKeyEntity().keyElements);$.Deferred(),$.when(e.boValidate(t)).done(function(){$.when(e.__uService.action_updateUserEmployee(i,a)).done(function(t){e._oMetadataValueModel.setValue("",t),window.SboShell.raiseMessage(o.sbo.localization.Helper.get("app/CHANGES_SAVED"),"success"),e.exitEditMode()}).fail(function(e){console.log(e)})}).fail(function(e){window.SboShell.raiseMessage(e.__msg,"error")})}},Protected:{__updatePortrait:function(e,a){var i={boNamespace:"com.sap.sbo",boName:"EmployeesInfo",keyElements:[{keyName:"employeeID",keyValue:Number(e)}]};this.$(".portrait_useredit").children().unprocess(),this.$(".portrait_useredit").html("<div class='img' data-sap-widget='sap.ui.widget.Photo' data-sap-option='src:\""+o.sbo.services.BaseService.documentbase+"file/thumbnail?id="+a+"&boEntityKey="+encodeURIComponent(JSON.stringify(i))+'", arrangeType:"both", radius:"28px",width:"56px",inlineStyle:"max-width: 56px;"\' ></div>'),this.$(".portrait_useredit").children().process(t)},__cgPsdBtnClick:function(e){var t=this;if("cgPsw"==e){window.SboShell.getData("user.keyUser");var o="sap.sbo.app.user.ChangePassword";window.SboShell.openFrame({view:o,type:"center",width:294,height:438,options:{employeeID:Number(t.boGetValue("employeeID"))},callback:function(){}})}}}})}),define("sap.sbo.page.pad.user.UserList",["require","sap.ui.Controller","sap.sbo.util.metadataHelper","sap.sbo.ui.widget.BoList","sap.core.JsonModel","sap.sbo.localization.Helper","sap.sbo.ui.widget.SliderButton","sap.sbo.util.formatter","sap.ui.Repeat","sap.util","json!sap.sbo.page.bo-services","json!sap.sbo.util.enums","css!sap.sbo.page.pad.settings.SimpleBoView","css!sap.sbo.page.pad.user.UserList"],function(e){"use strict";var t=this.getNS(),o=t.sap,a=t.json.sap.sbo.page["bo-services"];return SboShell.getData("settingMeta"),o.ui.Controller.declare({Name:this.getModuleInfo().moduleName,Interfaces:[],Events:[],Options:{boName:{type:"string"},boNamespace:{type:"string"}},Public:{init:function(){o.ui.Controller.prototype.init.apply(this,arguments);
var e={boName:this.getOption("boName")||"UserEmployee",boNamespace:this.getOption("boNamespace")||"com.sap.sbo"};this.declareMember({__oService:null,__oModel:this.autoDestroy(new o.core.JsonModel({})),__boInfo:e})},destroy:function(){},initView:function(){var i=$.Deferred();this.$().setModel(this.__oModel),SboShell.setOption("title",o.sbo.localization.Helper.get("app/settings/USERS_TITLE"));var s=this;return e([a[this.__boInfo.boName]],function(e){try{s.__oService=s.autoDestroy(new e),$.when(s.__oService.getMetadata(s.__boInfo.boNamespace,s.__boInfo.boName),s.__oService.query()).done(function(e,a){s.__oModel.setValue("",{meta:e,data:a}),s.$().process(t),s.$().on("vclick","#userList-table .table-row .goto-icon",function(){var e=$("#userList-table .table-row").index($(this).parent(".table-row")),t=s.__oModel.getValue("data/value")[e],o=s.__boInfo;SboShell.gotoView("sap.sbo.page.pad.user.UserEdit",{boName:o.boName,boNamespace:o.boNamespace,keyElements:[{keyName:"employeeID",keyValue:t.employeeID}]})}),$.extend({boLabel:e.label},s.__boInfo),s.$().on("vclick","#add-new-bo-link",function(){SboShell.openFrame({view:"sap.sbo.page.pad.user.UserCreation",type:"center",width:380,height:620,callback:function(e,t){if(t&&"refresh"===e){var o=s.__oModel.getValue("data");o.value.push(t),s.__oModel.setValue("data",o)}}})}),s.$("#userList-table").getControl().attachEvent("afterUpdate",function(){s.$("div[data-sap-widget='sap.sbo.ui.widget.SliderButton']").each(function(){var e=$(this);$(this).getControl().attachEvent("change",function(){var a=$("#userList-table .table-row").index(e.parents(".table-row")),i=s.__oModel.getValue("data/value")[a];return i.keyUser==t.json.sap.sbo.util.enums.bool.No&&Number(i.employeeID)==Number(window.SboShell.getData("user.employeeID"))?($(e).getControl().__resetSlider(),window.SboShell.raiseMessage(o.sbo.localization.Helper.get("app/user/error/cgUselfToNormal"),"error"),void 0):($.when(s.__oService.action_updateUserEmployee({employeeID:i.employeeID},{keyUser:i.keyUser})).done(function(){}).fail(function(e){window.SboShell.raiseException(e.__msg)}).always(function(){}),void 0)})})}),i.resolve()}).fail(function(e){i.reject(e)})}catch(a){i.reject(a)}}),i.promise()},destroyView:function(){this.$().unprocess(t)},update:function(){}},Protected:{}})}),define("sap.sbo.page.pad.user.UserPortrait",["sap.ui.Controller","sap.sbo.ui.FrameViewController","sap.sbo.services.UserEmployeesService","sap.sbo.compoundservices.AttachmentService","sap.util","sap.core.klass","sap.core.JsonModel","sap.sbo.localization.Helper","json!sap.sbo.util.enums","sap.sbo.ui.widget.PhotoPicker","sap.sbo.ui.widget.UploadButton","sap.sbo.services.BaseService","sap.sbo.util.formatter","sap.ui.widget.Photo","css!sap.sbo.page.pad.user.UserPortrait"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={getUrl:function(){return".."+t.sbo.services.BaseService.documentbase+"file"}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Options:{employeeID:{type:"integer",defaultValue:0},portraitID:{type:"any",defaultValue:null}},Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{__oService:this.autoDestroy(new t.sbo.services.UserEmployeesService),__mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),__onUploadedProxy:$.proxy(this.__onUploaded,this),__onUPloadFailedProxy:$.proxy(this.__onUploadFailed,this),__oAttachmentService:this.autoDestroy(new t.sbo.compoundservices.AttachmentService),__bDesktop:null,__oModel:new t.core.JsonModel({}),__employeeID:0,__portraitID:null})},destroy:function(){},initView:function(){var o=$.Deferred(),a=this;if(this.__bDesktop="desktop"==window.SboShell.callFeatureMethod("shell.getDeviceType"),this.$().setModel(this.__oModel),this.__oModel.setValue("",{isDesktop:this.__bDesktop,isPad:!this.__bDesktop}),this.$().process(e),o.resolve(),this.__employeeID=this.getOption("employeeID"),this.__portraitID=this.getOption("portraitID"),null!=this.__portraitID&&this.__portraitID>0){var i={boNamespace:"com.sap.sbo",boName:"EmployeesInfo",keyElements:[{keyName:"employeeID",keyValue:Number(this.__employeeID)}]};this.$(".container").html("<div class='img' data-sap-widget='sap.ui.widget.Photo' data-sap-option='src:\""+t.sbo.services.BaseService.documentbase+"file/thumbnail?id="+this.__portraitID+"&boEntityKey="+encodeURIComponent(JSON.stringify(i))+'", radius:"1px", arrangeType:"autoFit", height:"460"\' ></div>'),this.$(".container").children().process(e)}else this.$(".container").html($("<img>").attr("src","image/common/default_picture.png"));return this.$(".cancel").on("click",function(){a.closeFrame()}),this.__bDesktop?(this.$(".upload-file").getControl().attachEvent("uploadComplete",this.__onUploadedProxy),this.$(".upload-file").getControl().attachEvent("uploadFailed",this.__onUPloadFailedProxy)):(this.$(".photo-pick").getControl().attachEvent("uploadComplete",this.__onUploadedProxy),this.$(".photo-album").getControl().attachEvent("uploadComplete",this.__onUploadedProxy),this.$(".photo-pick").getControl().attachEvent("uploadFailed",this.__onUPloadFailedProxy),this.$(".photo-album").getControl().attachEvent("uploadFailed",this.__onUPloadFailedProxy)),o.promise()},destroyView:function(){this.$(".cancel").off("click"),this.__bDesktop?(this.$(".upload-file").getControl().detachEvent("uploadComplete",this.__onUploadedProxy),this.$(".upload-file").getControl().detachEvent("uploadFailed",this.__onUPloadFailedProxy)):(this.$(".photo-pick").getControl().detachEvent("uploadComplete",this.__onUploadedProxy),this.$(".photo-album").getControl().detachEvent("uploadComplete",this.__onUploadedProxy),this.$(".photo-pick").getControl().detachEvent("uploadFailed",this.__onUPloadFailedProxy),this.$(".photo-album").getControl().detachEvent("uploadFailed",this.__onUPloadFailedProxy)),this.$().unprocess()},update:function(){}},Protected:{__previewPortrait:function(o,a){var i={boNamespace:"com.sap.sbo",boName:"EmployeesInfo",keyElements:[{keyName:"employeeID",keyValue:Number(o)}]};this.$(".container").children().unprocess(),this.$(".container").html("<div class='img' data-sap-widget='sap.ui.widget.Photo' data-sap-option='src:\""+t.sbo.services.BaseService.documentbase+"file/thumbnail?id="+a+"&boEntityKey="+encodeURIComponent(JSON.stringify(i))+'", radius:"1px", arrangeType:"autoFit", height:"460"\' ></div>'),this.$(".container").children().process(e)},__onUploadFailed:function(){},__onUploaded:function(e){var t=this;e&&this.__employeeID>0&&$.when(this.__oAttachmentService.uploadEmployeePortrait(this.__employeeID,Number(e))).done(function(){t.__portraitID=e,t.__previewPortrait(t.__employeeID,e),window.SboShell.updatePortrait(),t.callShell("update",{portraitID:e})})}}})}),define("sap.sbo.page.pad.TargetGroup.BasicInfoEdit",["sap.core.klass","sap.core.JsonModel","sap.ui.View","sap.sbo.layout.TileView","sap.ui.common","sap.util","sap.log","sap.ui.Controller","sap.ui.widget.TextField","sap.ui.widget.TextArea","sap.ui.widget.ValueHelpField","sap.sbo.ui.widget.DateTimeField","sap.ui.widget.Button","sap.sbo.layout.pad.AdvancedTilesLayout","sap.sbo.shell.IFeaturable","sap.ui.widget.Button","sap.ui.widget.DropDownBox","sap.sbo.services.TargetGroupsService","sap.sbo.util.formatter","sap.ui.Repeat","sap.sbo.layout.pad.MetadataLayout","sap.sbo.page.pad.BoMetadataEditController"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={statusText:function(e){switch(e){case"csOpen":return"Open";case"csFinished":return"Finish";case"csCanceled":return"Cancel"}}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.pad.BoMetadataEditController,Options:{},Public:{init:function(){t.sbo.page.pad.BoMetadataEditController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{_oModel:new t.core.JsonModel({}),_mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),_oService:new t.sbo.services.TargetGroupsService,__modelRelated:this.autoDestroy(new t.core.JsonModel({customer:{contactEmployees:null},contact:{contactPersonName:null,position:null}}))}),this.setTitle({title:"Target Group ...",subTitle:"Target Group "+this.convertBoKey(this._mViewInfo.storeParam).targetGroupCode})},destroy:function(){this._oService.destroy()},initView:function(){t.sbo.page.pad.BoMetadataEditController.prototype.initView.apply(this,arguments);var o=this,a=$.Deferred();return this.$().setModel(this._oModel),o.$().setModel(this.__modelRelated,"Related"),t.util.showLoading(),$.when(this._oService.get(this.convertBoKey(this._mViewInfo.storeParam))).done(function(t){o._oModel.setValue("",t),o.setTitle(t.targetGroupName||"(No Name)"),o.$().process(e),a.resolve()}).fail(function(e){window.SboShell.raiseException(e),a.reject(e)}).always(function(){t.util.hideLoading()}),a.promise()},destroyView:function(){t.sbo.page.pad.BoMetadataEditController.prototype.destroyView.apply(this,arguments),this.$().unprocess()},update:function(){},getMainControl:function(){return this.$("[ctrl='main']").getControl()},getBoKeyEntity:function(){var e=this;return{boNamespace:"com.sap.sbo",boName:"TargetGroup",keyElements:e._mViewInfo.storeParam}},getService:function(){return this._oService},process:function(){this.$().process(e)},shouldBeRecorded:function(){return!1}},Protected:{}})}),define("sap.sbo.page.pad.TargetGroup.BusinessPartner",["sap.sbo.page.pad.SubBoMetadataView","sap.sbo.services.BusinessPartnersService","sap.ui.Controller","sap.sbo.services.TargetGroupsService","sap.sbo.util.formatter","sap.sbo.localization.Helper","sap.core.ListSourceFilter","json!sap.sbo.util.enums","css!sap.sbo.page.pad.SalesOpportunity.ItemsEdit"],function(){"use strict";var e=this.getNS(),t=e.sap,o=e.json.sap.sbo.util.enums.bool;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.pad.SubBoMetadataView,Options:{},Public:{init:function(){t.sbo.page.pad.SubBoMetadataView.prototype.init.apply(this,arguments),this.declareMember({__mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo")}),this.__oService=this.autoDestroy(new t.sbo.services.TargetGroupsService),this.__BPService=this.autoDestroy(new t.sbo.services.BusinessPartnersService)},destroy:function(){},initView:function(){var a=$.Deferred();$.when(t.sbo.page.pad.SubBoMetadataView.prototype.initView.call(this,e)).done(function(){a.resolve()});var i=this;return this.$().on("vclick",".sbo-opps-item-desc",function(){var a=$(this).findModel("loop");window.SboShell.openFrame({view:"sap.sbo.chooseList.pad.ChooseListCustomer",type:"right",options:{filter:new t.core.ListSourceFilter("(`isActive` = '"+e.json.sap.sbo.util.enums.bool.Yes+"')")},callback:function(e,t){if("select"===e){a.setValue("data/businessPartnerCode",t.cardCode),a.setValue("data/businessPartnerName",t.cardName),a.setValue("data/groupCode",t.BusinessPartnerGroupName),a.setValue("data/contactPerson",t.contactPerson),t.isActive===o.Yes?a.setValue("data/bPStatus","A"):a.setValue("data/bPStatus","I");var s={};s.cardCode=t.cardCode,$.when(i.__BPService.get(s)).done(function(e){null!=e.bPAddresses[0]&&(a.setValue("data/block",e.bPAddresses[0].block),a.setValue("data/building",e.bPAddresses[0].buildingFloorRoom),a.setValue("data/city",e.bPAddresses[0].city),a.setValue("data/country",e.bPAddresses[0].country),a.setValue("data/county",e.bPAddresses[0].county),a.setValue("data/state",e.bPAddresses[0].state),a.setValue("data/street",e.bPAddresses[0].street),a.setValue("data/zipCode",e.bPAddresses[0].zipCode));for(var t=0;e.contactEmployees.length>t;t++)if(e.contactEmployees[t].name===e.contactPerson){a.setValue("data/contactAddress",e.contactEmployees[t].address),a.setValue("data/contactCode",e.contactEmployees[t].contactPersonID),a.setValue("data/e_Mail",e.contactEmployees[t].e_Mail),a.setValue("data/fax",e.contactEmployees[t].fax),a.setValue("data/mobilePhone",e.contactEmployees[t].mobilePhone),a.setValue("data/contactPosition",e.contactEmployees[t].position),a.setValue("data/telephone",e.contactEmployees[t].phone1),a.setValue("data/title",e.contactEmployees[t].title);break}})}}})}),a.promise()},destroyView:function(){t.sbo.page.pad.SubBoMetadataView.prototype.destroyView.call(this)},update:function(){t.sbo.page.pad.SubBoMetadataView.prototype.update.apply(this,arguments)},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"TargetGroup",keyElements:this.__mViewInfo.storeParam}},getSubNodeName:function(){return"TargetGroupsDetail"},getSubNodeBindPath:function(){return"targetGroupsDetails"},getIgnoredProperty:function(){return["businessPartnerCode","businessPartnerName","targetGroupCode","activeStatus"]},isNewCreateEnabled:function(){return!0},getTitle:function(e,o){return t.sbo.localization.Helper.get("common/BP_NAME")+" ("+o+")"},getSubTitle:function(e){return e.targetGroupName||t.sbo.localization.Helper.get("app/oppo/NO_NAME")},on_save:function(){for(var e=this.__oModel.getValue(""),o=0;e.targetGroupsDetails.length>o;o++)null===e.targetGroupsDetails[o].businessPartnerCode&&(e.targetGroupsDetails[o].businessPartnerCode=e.targetGroupsDetails[o].contactPerson);return this.__oModel.setValue("",e),t.sbo.page.pad.SubBoMetadataView.prototype.on_save.apply(this,arguments)}},Protected:{}})}),define("sap.sbo.page.pad.TargetGroup.Home",["sap.core.klass","sap.core.JsonModel","sap.ui.View","sap.sbo.layout.TileView","sap.ui.common","sap.util","sap.log","sap.ui.Controller","sap.ui.widget.TextField","sap.ui.widget.TextArea","sap.sbo.ui.widget.DateTimeField","sap.ui.widget.Currency","sap.ui.widget.Button","sap.sbo.layout.pad.AdvancedTilesLayout","sap.sbo.shell.IFeaturable","sap.ui.widget.Button","sap.sbo.app.network.FeedTile","sap.sbo.services.TargetGroupsService","sap.sbo.util.formatter","sap.sbo.app.network.RelatedTile","sap.ui.Repeat","sap.sbo.page.pad.BoHomeController","css!sap.sbo.page.pad.SalesOpportunity.Home"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.pad.BoHomeController,Options:{},Public:{init:function(){t.sbo.page.pad.BoHomeController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{_oModel:new t.core.JsonModel({}),_mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),_oService:new t.sbo.services.TargetGroupsService}),this.setTitle({title:"Target Group ...",subTitle:"Target Group "+this.convertBoKey(this._mViewInfo.storeParam).targetGroupCode})},destroy:function(){this._oService.destroy()},initView:function(){var o=$.Deferred(),a=this;return $.when(t.sbo.page.pad.BoHomeController.prototype.initView.apply(this,arguments)).done(function(){a.$().setModel(a._oModel),t.util.showLoading(),$.when(a._oService.get(a.convertBoKey(a._mViewInfo.storeParam))).done(function(t){a._oModel.setValue("",t),a.setTitle(t.targetGroupName||"(No Name)"),window.SboShell.addFeature(a,"relatedFilter.BOkey","method"),a.autoDestroy("remove the realted filter",window.SboShell.removeFeature.bind(window.SboShell,"relatedFilter.BOkey")),a.$().process(e),a.$().control({"[ctrl='layout']":{listener:{startLayout:function(){a.setOption("editable",!0),window.SboShell.showActionButtons(["saveLayout"])}}}}),a.$().on("vclick","[field='basicInfo']",function(){window.SboShell.gotoView("sap.sbo.page.pad.TargetGroup.BasicInfoEdit",a._mViewInfo.storeParam)}),a.$().on("vclick","[field='businessPartner']",function(){window.SboShell.gotoView("sap.sbo.page.pad.TargetGroup.BusinessPartner",a._mViewInfo.storeParam)}),o.resolve()}).fail(function(e){window.SboShell.raiseException(e),o.reject(e)}).always(function(){t.util.hideLoading()})}),o.promise()},getService:function(){return this._oService},destroyView:function(){t.sbo.page.pad.BoHomeController.prototype.destroyView.apply(this,arguments),this.$().unprocess()},update:function(){},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"TargetGroup",keyElements:this._mViewInfo.storeParam}}},Protected:{}})}),define("sap.sbo.page.pad.TargetGroup.TargetGroupCreation",["sap.ui.Controller","sap.sbo.page.pad.BoMetadataCreationFrameController","sap.sbo.layout.pad.MetadataList","sap.sbo.services.TargetGroupsService","sap.ui.widget.TextField","sap.ui.widget.TextArea","sap.sbo.ui.widget.DateTimeField","sap.sbo.util.formatter","sap.ui.widget.Button","sap.util","sap.ui.widget.ValueHelpField","sap.ui.widget.DropDownBox","json!sap.sbo.util.enums","css!sap.sbo.app.template.EditProperty","css!sap.sbo.app.template.DynamicProperty"],function(){"use strict";var e=this.getNS(),t=e.sap,o=t.sbo.page.pad.BoMetadataCreationFrameController,a=e.json.sap.sbo.util.enums.bool;return e.formatter={bool_string:function(e,t){return"<<"===t?e===a.Yes:e?a.Yes:a.No},convertEmtpyNull:function(e,t){return"<<"===t?null===e?"":e:">>"===t?""===e?null:e:void 0}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:o,Public:{init:function(){o.prototype.init.apply(this,arguments),this.declareMember({_oService:new t.sbo.services.TargetGroupsService})},destroy:function(){this._oService.destroy()},initView:function(){o.prototype.initView.call(this);var e=this._oMetadataValueModel.getValue("");e.targetGroupCode="";var a=this;this.$().control({'[ctrl="btnSaveOpen"]':{listener:{click:function(){t.util.showLoading(),$.when(a.boCreate()).done(function(e){window.SboShell.raiseMessage("Create successfully","success"),window.SboShell.gotoView("sap.sbo.page.pad.TargetGroup.Home",[{keyName:"targetGroupCode",keyValue:e.targetGroupCode}])}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()})}}},'[ctrl="btnCancel"]':{listener:{click:function(){a.callShell("close")}}}})},destroyView:function(){o.prototype.destroyView.call(this)},update:function(){o.prototype.update.apply(this,arguments)},getMainControl:function(){return this.$("[ctrl='main']").getControl()},getBoType:function(){return{boNamespace:"com.sap.sbo",boName:"TargetGroup"}},getService:function(){return this._oService},process:function(){this.$().process(e)},boValidate:function(){}},Protected:{}})}),define("sap.sbo.page.pad.TargetGroup.TargetGroupListView",["sap.ui.Controller","sap.core.JsonModel","sap.sbo.layout.pad.ListLayout","sap.sbo.util.AjaxListSource","sap.sbo.services.TargetGroupsService","css!sap.sbo.page.pad.boListView","css!sap.sbo.page.pad.Campaign.CampaignListView"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments),this.declareMember({oBOService:this.autoDestroy(new t.sbo.services.TargetGroupsService),__model:this.autoDestroy(new t.core.JsonModel({})),_oAjaxListSource:null});var e=this;this._oAjaxListSource=this.autoDestroy(new t.sbo.util.AjaxListSource(this.oBOService));var o=function(t){e["onKey"+t]&&e["onKey"+t]()};SboShell.attachEvent("actionButtonClick",o),this.autoDestroy("detach actionButtonClick",function(){SboShell.detachEvent("actionButtonClick",o)})},destroy:function(){},onKeyCreate:function(){SboShell.openFrame({view:"sap.sbo.page.pad.TargetGroup.TargetGroupCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,callback:function(){}})},initView:function(){var t=this;if(this.$().process(e),this.$().setModel(this.__model),this.canQuery()&&(this.$('div[data-id="listView"]').getControl().setOption("source",this._oAjaxListSource),$.when(this.oBOService.count()).done(function(e){t.setTitle({title:"Target Groups",subTitle:"Total "+e+" Target Groups"})}),this.$().on("vclick",".item",function(e){window.SboShell.gotoView("sap.sbo.page.pad.TargetGroup.Home",[{keyName:"targetGroupCode",keyValue:$(e.target).findModel().getValue("targetGroupCode")}])})),this.canCreate()){var o=[{text:"Create Target Group",key:"Create"}];SboShell.addActionButtons(o,this)}},destroyView:function(){this.$().unprocess()},update:function(){}},Protected:{}})}),define("sap.sbo.page.pad.CustomerSetting.CustomerGroup.CustomerGroupsSettingTile",["sap.ui.Controller","sap.sbo.page.pad.LightBoMetadataList","sap.sbo.services.BusinessPartnerGroupsService","sap.sbo.localization.Helper","html!sap.sbo.page.pad.CustomerSetting.CustomerGroup.CustomerGroupsSettingTile","css!sap.sbo.page.pad.CustomerSetting.CustomerGroupsSettingTile"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.pad.LightBoMetadataList,Interfaces:[],Events:[],Options:{},Public:{init:function(){t.sbo.page.pad.LightBoMetadataList.prototype.init.apply(this,arguments),this.declareMember({}),this.__oService=this.autoDestroy(new t.sbo.services.BusinessPartnerGroupsService)},destroy:function(){},initView:function(){var e=$.Deferred(),o=this;return $.when(t.sbo.page.pad.LightBoMetadataList.prototype.initView.apply(this,arguments)).done(function(a,i){o.setTitle({title:t.sbo.localization.Helper.get("app/bpgroup/CUS_TITLE",i.length)}),e.resolve()}).fail(function(){e.reject()}),e.promise()},destroyView:function(){t.sbo.page.pad.LightBoMetadataList.prototype.destroyView.apply(this,arguments)},update:function(){t.sbo.page.pad.LightBoMetadataList.prototype.update.apply(this,arguments)},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"BusinessPartnerGroup"}},getIgnoredProperty:function(){return["code"]},isCreateEnabled:function(){return!0},isRemoveEnabled:function(){return!0},updateCount:function(e){this.setTitle({title:t.sbo.localization.Helper.get("app/bpgroup/CUS_TITLE",e)})}},Protected:{}})}),define("sap.sbo.page.pad.CustomerSetting.Industry.IndustrySettingTile",["sap.ui.Controller","sap.sbo.page.pad.LightBoMetadataList","sap.sbo.services.IndustriesService","sap.sbo.localization.Helper","html!sap.sbo.page.pad.CustomerSetting.Industry.IndustrySettingTile","css!sap.sbo.page.pad.CustomerSetting.IndustrySettingTile"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.pad.LightBoMetadataList,Interfaces:[],Events:[],Options:{},Public:{init:function(){t.sbo.page.pad.LightBoMetadataList.prototype.init.apply(this,arguments),this.declareMember({}),this.__oService=this.autoDestroy(new t.sbo.services.IndustriesService)},destroy:function(){},initView:function(){var e=$.Deferred();return $.when(t.sbo.page.pad.LightBoMetadataList.prototype.initView.apply(this,arguments)).done(function(){e.resolve()}).fail(function(){e.reject()}),e.promise()},destroyView:function(){t.sbo.page.pad.LightBoMetadataList.prototype.destroyView.apply(this,arguments)},update:function(){t.sbo.page.pad.LightBoMetadataList.prototype.update.apply(this,arguments)},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"Industry"}},getIgnoredProperty:function(){return["industryCode","industryDescription"]},isCreateEnabled:function(){return!0},isRemoveEnabled:function(){return!0},updateCount:function(e){this.setTitle({title:t.sbo.localization.Helper.get("app/industry/TITLE",e)})}},Protected:{}})}),define("sap.sbo.page.pad.MasterDatas.Competitor.CompetitorEdit",["sap.core.klass","sap.core.JsonModel","sap.ui.View","sap.sbo.layout.TileView","sap.ui.common","sap.util","sap.log","sap.ui.Controller","sap.ui.widget.TextField","sap.ui.widget.TextArea","sap.ui.Repeat","sap.ui.widget.Button","sap.sbo.layout.pad.AdvancedTilesLayout","sap.sbo.shell.IFeaturable","sap.ui.widget.DropDownBox","sap.sbo.services.SalesOpportunityCompetitorSetupsService","sap.sbo.util.formatter","sap.ui.Repeat","sap.sbo.localization.Helper","sap.sbo.page.pad.BoHomeController","css!sap.sbo.page.pad.SalesOpportunity.Home"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.pad.BoHomeController,Options:{},Public:{init:function(){t.sbo.page.pad.BoHomeController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{_oModel:new t.core.JsonModel({}),_mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),_oService:new t.sbo.services.SalesOpportunityCompetitorSetupsService,_onActionButtonClickProxy:$.proxy(this._onActionButtonClickHandler,this)}),window.SboShell.attachEvent("actionButtonClick",this._onActionButtonClickProxy)},destroy:function(){this._oService.destroy()},initView:function(){t.sbo.page.pad.BoHomeController.prototype.initView.apply(this,arguments),this.setTitle({title:t.sbo.localization.Helper.get("app/competitor/COMPETITOR")+" ...",subTitle:t.sbo.localization.Helper.get("app/competitor/COMPETITOR")});var o=this,a=$.Deferred();return this.$().setModel(this._oModel),t.util.showLoading(),$.when(this._oService.get(this.convertBoKey(this._mViewInfo.storeParam))).done(function(i){o._oModel.setValue("",i),o.setTitle(i.name||"(No Name)"),window.SboShell.addActionButtons([{key:"save",text:t.sbo.localization.Helper.get("common/SAVE")},{key:"cancel",text:t.sbo.localization.Helper.get("common/CANCEL")}],o),o.$().process(e).done(function(){a.resolve()})}).fail(function(e){window.SboShell.raiseException(e),a.reject(e)}).always(function(){t.util.hideLoading()}),a.promise()},destroyView:function(){t.sbo.page.pad.BoHomeController.prototype.destroyView.apply(this,arguments),this.$().unprocess()},update:function(){},getBoKeyEntity:function(){var e=this;return{boNamespace:"com.sap.sbo",boName:"Competitor",keyElements:e._mViewInfo.storeParam}}},Protected:{_onActionButtonClickHandler:function(e){var o=this;switch(e){case"save":t.util.showLoading();var a=o._oModel.getValue(""),i={};i.sequenceNo=a.sequenceNo,$.when(o._oService.update(a,i)).done(function(){window.SboShell.raiseMessage("Save successfully","success"),window.SboShell.gotoView("sap.sbo.page.pad.MasterDatas.Competitor.CompetitorHome",o.getBoKeyEntity().keyElements)}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()});break;case"cancel":window.SboShell.gotoView("sap.sbo.page.pad.MasterDatas.Competitor.CompetitorHome",o.getBoKeyEntity().keyElements)}}}})}),define("sap.sbo.page.pad.MasterDatas.Competitor.CompetitorEnumHelper",["sap.sbo.localization.Helper"],function(){var e=this.getNS(),t=e.sap;return{threatLevelDescription:function(e){return t.sbo.localization.Helper.get("app/enum/THREATLEVEL/"+e)}}}),define("sap.sbo.page.pad.MasterDatas.Competitor.CompetitorHome",["sap.core.klass","sap.core.JsonModel","sap.ui.View","sap.sbo.layout.TileView","sap.ui.common","sap.util","sap.log","sap.ui.Controller","sap.ui.widget.TextField","sap.ui.widget.TextArea","sap.ui.Repeat","sap.ui.widget.Button","sap.sbo.layout.pad.AdvancedTilesLayout","sap.sbo.shell.IFeaturable","sap.ui.widget.Button","sap.sbo.services.SalesOpportunityCompetitorSetupsService","sap.sbo.util.formatter","sap.sbo.app.network.RelatedTile","sap.ui.Repeat","sap.sbo.localization.Helper","sap.sbo.page.pad.MasterDatas.Competitor.CompetitorEnumHelper","sap.sbo.shell.IFeaturable","sap.sbo.page.pad.BoHomeController","css!sap.sbo.page.pad.MasterDatas.Competitor.CompetitorHome"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={threatLevelDescription:t.sbo.page.pad.MasterDatas.Competitor.CompetitorEnumHelper.threatLevelDescription},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.pad.BoHomeController,Options:{},Public:{init:function(){t.sbo.page.pad.BoHomeController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{__oService:new t.sbo.services.SalesOpportunityCompetitorSetupsService,__oModel:new t.core.JsonModel({}),_mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo")})},destroy:function(){},initView:function(){t.sbo.page.pad.BoHomeController.prototype.initView.apply(this,arguments);var o=this,a=$.Deferred();return this.$().setModel(this.__oModel),t.util.showLoading(),$.when(this.__oService.get(this.convertBoKey(this._mViewInfo.storeParam))).done(function(i){o.__oModel.setValue("",i),o.$().setModel(o.__oModel),o.$().process(e),o.$().on("vclick",'[field="basicInfo"]',function(){window.SboShell.gotoView("sap.sbo.page.pad.MasterDatas.Competitor.CompetitorEdit",o._mViewInfo.storeParam),o.setTitle({subTitle:t.sbo.localization.Helper.get("app/competitor/COMPETITOR")+" : "+o.__oModel.getValue("name"),title:o.__oModel.getValue("name")})}),a.resolve()}).fail(function(){alert("load Competitor failed"),t.util.log.error("load Competitor failed"),a.reject(),window.SfoShell.backView()}).always(function(){t.util.hideLoading()}),a.promise()},destroyView:function(){t.sbo.page.pad.BoHomeController.prototype.destroyView.apply(this,arguments),this.$().unprocess()},update:function(){},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"SalesOpportunityCompetitorSetup",keyElements:this._mViewInfo.storeParam}}}})}),define("sap.sbo.page.pad.MasterDatas.Competitor.CompetitorListView",["sap.ui.Controller","sap.core.JsonModel","sap.sbo.layout.pad.ListLayout","sap.sbo.util.AjaxListSource","sap.sbo.services.SalesOpportunityCompetitorSetupsService","sap.sbo.page.BaseBoListViewController","sap.sbo.util.formatter","sap.sbo.ui.widget.ListManipulator","sap.sbo.page.pad.MasterDatas.Competitor.CompetitorEnumHelper","sap.sbo.localization.Helper","css!sap.sbo.page.pad.boListView","css!sap.sbo.page.pad.Campaign.CampaignListView"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={threatLevelDescription:t.sbo.page.pad.MasterDatas.Competitor.CompetitorEnumHelper.threatLevelDescription},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.BaseBoListViewController,Public:{init:function(){t.sbo.page.BaseBoListViewController.prototype.init.apply(this,arguments),this.declareMember({oBOService:this.autoDestroy(new t.sbo.services.SalesOpportunityCompetitorSetupsService),__model:this.autoDestroy(new t.core.JsonModel({})),_oAjaxListSource:null});var e=this;this._oAjaxListSource=this.autoDestroy(new t.sbo.util.AjaxListSource(this.oBOService));var o=function(t){e["onKey"+t]()};SboShell.attachEvent("actionButtonClick",o),this.autoDestroy("detach actionButtonClick",function(){SboShell.detachEvent("actionButtonClick",o)})},destroy:function(){},onKeyCreate:function(){SboShell.openFrame({view:"sap.sbo.page.pad.MasterDatas.Competitor.CreateCompetitor",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,callback:function(){}})},getMainControl:function(){return this.$(".sbo-list-layout")},initView:function(){var o=this;$.when(t.sbo.page.BaseBoListViewController.prototype.initView.call(this)).done(function(){o.$().process(e),o.$().setModel(o.__model),o.$().control({'div[data-id="listView"]':{source:o._oAjaxListSource,listener:{requestDone:function(e){SboShell.setOption({title:t.sbo.localization.Helper.get("app/competitor/COMPETITOR")+" ("+e.count+")",subTitle:""})}}}}),o.$().on("vclick",".item",function(e){window.SboShell.gotoView("sap.sbo.page.pad.MasterDatas.Competitor.CompetitorHome",[{keyName:"sequenceNo",keyValue:$(e.target).findModel().getValue("sequenceNo")}])});var a=[{text:t.sbo.localization.Helper.get("common/CREATE"),key:"Create"}];SboShell.addActionButtons(a,this)}).fail(function(){t.log.error("Load Competitor failed.")})},destroyView:function(){this.$().unprocess()},update:function(){},getService:function(){return this.oBOService},getBoNameEntity:function(){return{boNamespace:"com.sap.sbo",boName:"SalesOpportunityCompetitorSetup"}},getListSource:function(){return this._oAjaxListSource},getProcessContext:function(){return e}},Protected:{}})}),define("sap.sbo.page.pad.MasterDatas.Competitor.CreateCompetitor",["sap.ui.Controller","sap.sbo.page.pad.BoMetadataCreationFrameController","sap.sbo.layout.pad.MetadataList","sap.sbo.services.SalesOpportunityCompetitorSetupsService","sap.ui.widget.TextField","sap.ui.widget.TextArea","sap.sbo.util.formatter","sap.ui.widget.Button","sap.util","css!sap.sbo.app.template.EditProperty","css!sap.sbo.app.template.DynamicProperty"],function(){"use strict";
var e=this.getNS(),t=e.sap,o=t.sbo.page.pad.BoMetadataCreationFrameController;return e.formatter={convertEmtpyNull:function(e,t){return"<<"===t?null===e?"":e:">>"===t?""===e?null:e:void 0}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:o,Public:{init:function(){o.prototype.init.apply(this,arguments),this.declareMember({_oService:new t.sbo.services.SalesOpportunityCompetitorSetupsService})},destroy:function(){this._oService.destroy()},initView:function(){o.prototype.initView.call(this);var e=this;this.$().control({'[ctrl="btnSaveOpen"]':{listener:{click:function(){t.util.showLoading(),$.when(e.boCreate()).done(function(e){window.SboShell.raiseMessage("Create successfully","success"),window.SboShell.gotoView("sap.sbo.page.pad.MasterDatas.Competitor.CompetitorHome",[{keyName:"sequenceNo",keyValue:e.sequenceNo}])}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()})}}},'[ctrl="btnCancel"]':{listener:{click:function(){e.callShell("close")}}}})},destroyView:function(){o.prototype.destroyView.call(this)},update:function(){o.prototype.update.apply(this,arguments)},getMainControl:function(){return this.$("[ctrl='main']").getControl()},getBoType:function(){return{boNamespace:"com.sap.sbo",boName:"SalesOpportunityCompetitorSetup"}},getService:function(){return this._oService},process:function(){this.$().process(e)},boValidate:function(){},getInitBo:function(){var e=$.Deferred();return $.when(this.getService().getInit()).done(function(t){e.resolve(t)}).fail(function(){e.reject(ex)}),e.promise()}},Protected:{}})}),define("sap.sbo.page.pad.Customer.CustomerCreation",["sap.ui.Controller","sap.core.JsonModel","sap.sbo.page.pad.BoMetadataCreationFrameController","sap.sbo.layout.pad.MetadataList","sap.sbo.services.BusinessPartnersService","sap.sbo.services.BusinessPartnerGroupsService","sap.sbo.services.PriceListsService","sap.sbo.ui.widget.BoStatus","sap.ui.widget.TextField","sap.ui.widget.TextArea","sap.sbo.ui.widget.DateTimeField","sap.sbo.util.formatter","sap.ui.widget.Button","sap.util","sap.ui.widget.ValueHelpField","sap.ui.widget.DropDownBox","sap.sbo.localization.Helper","json!sap.sbo.util.enums","css!sap.sbo.app.template.EditProperty","css!sap.sbo.app.template.DynamicProperty","css!sap.sbo.page.pad.Customer.CustomerCreation"],function(){"use strict";var e=this.getNS(),t=e.sap,o=t.sbo.page.pad.BoMetadataCreationFrameController,a=e.json.sap.sbo.util.enums.bool;return e.formatter={string_null:function(e,t){return"<<"===t?e||"":e},prospect_prospect:function(e){return e===a.Yes?"YES":"NO"},prospect_customer:function(e){return e===a.Yes?"NO":"YES"}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:o,Public:{init:function(){o.prototype.init.apply(this,arguments),this.declareMember({_oService:new t.sbo.services.BusinessPartnersService,__oListModel:this.autoDestroy(new t.core.JsonModel({bpgroups:[],pricelist:[]})),__oListService:this.autoDestroy(new t.sbo.services.BusinessPartnerGroupsService),__oListPLService:this.autoDestroy(new t.sbo.services.PriceListsService)})},destroy:function(){this._oService.destroy()},initView:function(){var a=this;a.$().setModel(a.__oListModel,"list");var i=$.Deferred();return $.when(o.prototype.initView.call(this)).done(function(){$.when(a.__oListService.query(),a.__oListPLService.queryJustActive({filter:"active eq '"+e.json.sap.sbo.util.enums.bool.Yes+"'"})).done(function(e,t){a.__oListModel.setValue("bpgroups",e.value),null!=e.value[0]&&a._oMetadataValueModel.setValue("groupCode",e.value[0].code),t.length>0&&a.__oListModel.setValue("pricelist",t)}),a.$().control({'[ctrl="btnSaveOpen"]':{listener:{click:function(){t.util.showLoading(),$.when(a.boCreate()).done(function(e){window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/CUSTOMER_CREATE_SUCCESSFUL"),"success"),window.SboShell.gotoView("sap.sbo.page.pad.Customer.CustomerHome",[{keyName:"cardCode",keyValue:e.cardCode}])}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()})}}},'[ctrl="btnCancel"]':{listener:{click:function(){a.callShell("close")}}}}),a.$().on("vclick",'[data-id="RELATIONSHIP"]',function(){"tNO"===a._oMetadataValueModel.getValue("prospect")?a._oMetadataValueModel.setValue("prospect","tYES"):a._oMetadataValueModel.setValue("prospect","tNO")}),i.resolve()}).fail(function(e){window.SboShell.raiseException(e),i.reject(e)}),i.promise()},destroyView:function(){o.prototype.destroyView.call(this)},update:function(){o.prototype.update.apply(this,arguments)},getMainControl:function(){return this.$("[ctrl='main']").getControl()},getBoType:function(){return{boNamespace:"com.sap.sbo",boName:"BusinessPartner"}},getService:function(){return this._oService},process:function(){this.$().process(e)},boValidate:function(){}},Protected:{}})}),define("sap.sbo.page.pad.Customer.CustomerEdit",["css!sap.sbo.app.template.EditProperty","sap.core.klass","sap.ui.Controller","sap.sbo.layout.pad.MetadataLayout","sap.core.JsonModel","sap.ui.widget.TextField","sap.sbo.services.BusinessPartnersService","sap.sbo.services.BusinessPartnerGroupsService","sap.sbo.services.IndustriesService","sap.sbo.services.CurreniesService","sap.sbo.services.PriceListsService","sap.sbo.services.ShippingTypesService","sap.sbo.services.VatGroupsService","sap.sbo.page.pad.BoMetadataEditController","sap.ui.widget.TextArea","sap.sbo.ui.widget.DateTimeField","sap.sbo.util.formatter","sap.util","sap.sbo.ui.widget.BoStatus","sap.ui.widget.Checkbox","sap.sbo.util.formatter","sap.ui.widget.DropDownBox","sap.sbo.ui.widget.BoLabel","sap.ui.widget.Photo","sap.sbo.localization.Helper","sap.sbo.compoundservices.AttachmentService","sap.sbo.app.task.taskUtil","json!sap.sbo.util.enums","sap.sbo.util.formatter","css!sap.sbo.page.pad.boEdit"],function(){"use strict";var e=this.getNS(),t=e.sap,o=e.json.sap.sbo.util.enums.bool;return e.formatter={string_null:function(e,t){return"<<"===t?e||"":e},prospect_prospect:function(e){return e===o.Yes?"YES":"NO"},prospect_customer:function(e){return e===o.Yes?"NO":"YES"},prospect:function(e){return e===o.Yes?t.sbo.localization.Helper.get("app/customer/PROSPECT"):t.sbo.localization.Helper.get("app/customer/CUSTOMER")},vatStatusDesc:function(e){return"vExempted"==e?t.sbo.localization.Helper.get("app/customer/EXEMPTED"):t.sbo.localization.Helper.get("app/customer/LIABLE")}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.pad.BoMetadataEditController,Public:{init:function(){t.sbo.page.pad.BoMetadataEditController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{_oService:new t.sbo.services.BusinessPartnersService,_mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),__oListModel:this.autoDestroy(new t.core.JsonModel({industry:[],currency:[],bpgroups:[],pricelist:[],shipType:[],vatGroup:[],vatStatusList:[{code:"vExempted",name:t.sbo.localization.Helper.get("app/customer/EXEMPTED")},{code:"vLiable",name:t.sbo.localization.Helper.get("app/customer/LIABLE")}]})),__vatGroups:{},__modelOwner:this.autoDestroy(new t.core.JsonModel({ownerName:"",OwnerImage:{url:"./image/common/no-pic-avatar.jpg"}})),__oListIndService:this.autoDestroy(new t.sbo.services.IndustriesService),__oListCurService:this.autoDestroy(new t.sbo.services.CurreniesService),__oListBPGService:this.autoDestroy(new t.sbo.services.BusinessPartnerGroupsService),__oListPLService:this.autoDestroy(new t.sbo.services.PriceListsService),__oShippingTypesService:this.autoDestroy(new t.sbo.services.ShippingTypesService),__oListVatService:this.autoDestroy(new t.sbo.services.VatGroupsService),oAttachementService:this.autoDestroy(new t.sbo.compoundservices.AttachmentService)})},destroy:function(){this._oService.destroy()},initView:function(){var a=$.Deferred(),i=this;return i.$().setModel(i.__oListModel,"list"),i.$().setModel(i.__modelOwner,"owner"),$.when(t.sbo.page.pad.BoMetadataEditController.prototype.initView.call(this),this.__oListIndService.query(),this.__oListBPGService.query(),this.__oListPLService.queryJustActive({filter:"active eq '"+e.json.sap.sbo.util.enums.bool.Yes+"'"}),this.__oShippingTypesService.query(),this.__oListVatService.query()).done(function(e,a,s,n,r,l){i.setTitle(t.sbo.localization.Helper.get("app/BASIC"));var d={industryCode:null,industryDescription:"",industryName:""};a.value.push(d),i.__oListModel.setValue("industry",a.value),i.__oListModel.setValue("bpgroups",s.value),i.__oListModel.setValue("shipType",r.value),i.__vatGroups=l.value,i.__oListModel.setValue("vatGroup","vExempted"===i._oMetadataValueModel.getValue("vatLiable")?[]:i.__vatGroups),n.length>0&&i.__oListModel.setValue("pricelist",n);var p=i._oMetadataValueModel.getValue("ownerCode");null!=p&&$.when(i.oAttachementService.getPortraitId(p)).done(function(e){if(-1!==e.value){var o={};o.attachmentId=e.value,o.ownerCode=p;var a=t.sbo.app.task.taskUtil.PreviewUrl(o);i.__modelOwner.setValue("OwnerImage",{url:a})}}),i.$().on("vclick",'[data-id="RELATIONSHIP"]',function(){i._oMetadataValueModel.getValue("prospect")===o.No?i._oMetadataValueModel.setValue("prospect",o.Yes):i._oMetadataValueModel.setValue("prospect",o.No)}),i.$().on("vclick",".changeStatus",function(){var e=i._oMetadataValueModel.getValue("isActive");e===o.Yes?i._oMetadataValueModel.setValue("isActive",o.No):i._oMetadataValueModel.setValue("isActive",o.Yes)}),i._oMetadataValueModel.attachEvent("valueChanged",function(e,t){"vatLiable"===e&&"@UPDATE"===t&&("vExempted"===this.getValue("vatLiable")?(this.setValue("vatGroup",null),i.__oListModel.setValue("vatGroup",[])):i.__oListModel.setValue("vatGroup",i.__vatGroups))})}).fail(function(e){window.SboShell.raiseException(e),a.reject(e)}).always(function(){a.resolve()}),this.$().on("GuilinControlEvent.navigate GuilinControlEvent.choose",".sbo-metadata-list-property",function(e){switch($(e.currentTarget).attr("gl-property")){case"ownerCode":if("navigate"===e.namespace){var o=i._oMetadataValueModel.getValue("ownerCode");null!==o&&window.SboShell.gotoView("sap.sbo.page.pad.user.BasicInfo",[{keyName:"employeeID",keyValue:o}])}else window.SboShell.openFrame({view:"sap.sbo.chooseList.pad.ChooseListEmployee",options:{},type:"right",callback:function(e,o){"close"===e||"select"===e&&(i._oMetadataValueModel.setValue("ownerCode",o.employeeID),i._oMetadataValueModel.setValue("OwnerEmployeeDisplayName",o.displayName),$.when(i.oAttachementService.getPortraitId(o.employeeID)).done(function(e){if(-1!==e.value){var a={};a.attachmentId=e.value,a.ownerCode=o.employeeID;var s=t.sbo.app.task.taskUtil.PreviewUrl(a);i.__modelOwner.setValue("OwnerImage",{url:s})}}))}})}}),a.promise()},destroyView:function(){window.SboShell.detachEvent("actionButtonClick",this._fnButtonProxy),this.$().off("GuilinControlEvent.navigate GuilinControlEvent.choose"),this.$().unprocess(),t.sbo.page.pad.BoMetadataEditController.prototype.destroyView.call(this)},update:function(){},getMainControl:function(){return this.$("[ctrl='main']").getControl()},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"BusinessPartner",keyElements:this._mViewInfo.storeParam}},getService:function(){return this._oService},process:function(){this.$().process(e)}},Protected:{}})}),define("sap.sbo.page.pad.Customer.CustomerHome",["sap.core.JsonModel","sap.ui.Controller","sap.log","sap.ui.widget.TextField","sap.sbo.layout.pad.AdvancedTilesLayout","sap.sbo.layout.TileView","sap.sbo.ui.widget.UploadButton","sap.ui.widget.Button","sap.sbo.services.BaseService","sap.sbo.services.BusinessPartnersService","sap.sbo.services.ContactPersonsService","sap.sbo.page.pad.BoHomeController","sap.sbo.app.network.RelatedTile","sap.sbo.shell.IFeaturable","sap.sbo.layout.pad.MetadataRaw","sap.sbo.util.metadataHelper","sap.sbo.localization.Helper","sap.sbo.util.formatter","sap.ui.widget.Photo","json!sap.sbo.util.enums","sap.sbo.ui.widget.Address","sap.core.event.BehaviorCommand","css!sap.sbo.app.template.GeneralProperty","html!sap.sbo.app.template.DynamicProperty","css!sap.sbo.app.template.EditProperty","css!sap.sbo.app.template.DynamicProperty","css!sap.sbo.page.pad.boHome","css!sap.sbo.app.template.TileProperty","sap.sbo.ui.widget.ReportWidget"],function(){"use strict";var e=this.getNS(),t=e.sap,o=e.json.sap.sbo.util.enums.bool;return e.formatter={getMainImg:function(e){return e?"<img src='./image/Customer/goldenStar.png'>":void 0},string_null:function(e,t){return"<<"===t?e||"":e},isActive:function(e){return e===o.Yes?t.sbo.localization.Helper.get("app/appr/ACTIVE"):t.sbo.localization.Helper.get("app/appr/INACTIVE")},string_prospect:function(e){return e===o.Yes?t.sbo.localization.Helper.get("app/customer/PROSPECT"):t.sbo.localization.Helper.get("app/customer/CUSTOMER")}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.pad.BoHomeController,Interfaces:[t.sbo.shell.IFeaturable],Public:{init:function(){t.sbo.page.pad.BoHomeController.prototype.init.apply(this,arguments),this.declareMember({__model:this.autoDestroy(new t.core.JsonModel({Image:{url:"./image/common/no-pic.png"}})),__reportmodel:this.autoDestroy(new t.core.JsonModel({filterData:[],showlargeone:new t.core.event.BehaviorCommand(this,this.showlargeone)})),__modelRelated:this.autoDestroy(new t.core.JsonModel({contact:{empty_string1:t.sbo.localization.Helper.get("app/customer/CONTACT_PURPOSE"),empty_string2:"desktop"===window.SboShell.callFeatureMethod("shell.getDeviceType")?t.sbo.localization.Helper.get("app/customer/C_CONTACT_TILE"):t.sbo.localization.Helper.get("app/customer/CONTACT_TILE")},address:{ShipTo:{},BillTo:{}}})),oCustomerService:this.autoDestroy(new t.sbo.services.BusinessPartnersService),oContactService:this.autoDestroy(new t.sbo.services.ContactPersonsService),__ParamInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),__cardCode:"",_onActionButtonClickProxy:$.proxy(this._onActionButtonClickHandler,this)}),this.__cardCode=this.__ParamInfo.storeParam[0].keyValue,window.SboShell.attachEvent("actionButtonClick",this._onActionButtonClickProxy)},destroy:function(){window.SboShell.detachEvent("actionButtonClick",this._onActionButtonClickProxy)},initView:function(){var a=$.Deferred(),i=this;return $.when(t.sbo.page.pad.BoHomeController.prototype.initView.apply(this,arguments)).done(function(s){var n=s;$.when(i.oCustomerService.get({cardCode:i.__cardCode}),i.oCustomerService.getMetadata("com.sap.sbo","BusinessPartner")).done(function(s){if(i.$().setModel(i.__model),i.$().setModel(i.__reportmodel,"reportModel"),i.$().setModel(i.__modelRelated,"Related"),i.__reportmodel.setValue("filterData",[{key:"cardName",value:s.cardName}]),s.portraitId>0){var r=t.sbo.util.formatter.getURL("BusinessPartner","cardCode",i.__cardCode,s.portraitId);i.__model.setValue("Image",{url:r})}i.__model.setValue("",s),i.__modelRelated.setValue("mobileShow","NO"),i.__modelRelated.setValue("phoneShow","NO"),i.__modelRelated.setValue("faxShow","NO"),i.__modelRelated.setValue("emailShow","NO");for(var l=0;s.contactEmployees[l];l++)if(s.contactEmployees[l].name===s.contactPerson){i.__modelRelated.setValue("contactPersonID",s.contactEmployees[l].contactPersonID),i.__modelRelated.setValue("displayName",s.contactEmployees[l].displayName),i.__modelRelated.setValue("position",s.contactEmployees[l].position),i.__modelRelated.setValue("mobilePhone",s.contactEmployees[l].mobilePhone),i.__modelRelated.setValue("phone1",s.contactEmployees[l].phone1),i.__modelRelated.setValue("fax",s.contactEmployees[l].fax),i.__modelRelated.setValue("e_Mail",s.contactEmployees[l].e_Mail),i.__modelRelated.setValue("Image",{url:"./image/common/no-pic-avatar.jpg"}),i.__modelRelated.setValue("Image",{showImg:"NO"});var d={};d.contactPersonID=s.contactEmployees[l].contactPersonID,$.when(i.oContactService.get(d)).done(function(e){var o=e.portraitId,a=e.contactPersonID;if(o>0){i.__modelRelated.setValue("Image",{showImg:"YES"});var s=t.sbo.util.formatter.getURL("ContactPerson","contactPersonID",a,o);i.__modelRelated.setValue("Image",{url:s})}});for(var p=[],c=[{field:"mobilePhone",flag:"mobileShow"},{field:"phone1",flag:"phoneShow"},{field:"fax",flag:"faxShow"},{field:"e_Mail",flag:"emailShow"}],l=0;c.length>l;++l)i.__modelRelated.getValue(c[l].field)&&p.push(c[l].flag);p[0]&&i.__modelRelated.setValue(p[0],"YES"),p[1]&&i.__modelRelated.setValue(p[1],"YES");break}for(var l=0;s.bPAddresses[l];l++)s.bPAddresses[l].addressName===s.shipToDefault&&"bo_ShipTo"===s.bPAddresses[l].addressType&&(i.__modelRelated.setValue("address/ShipTo/addName",s.bPAddresses[l].addressName),i.__modelRelated.setValue("address/ShipTo/locale",s.bPAddresses[l].country),i.__modelRelated.setValue("address/ShipTo/country",s.bPAddresses[l].CountryName),i.__modelRelated.setValue("address/ShipTo/state",s.bPAddresses[l].state),i.__modelRelated.setValue("address/ShipTo/zipCode",s.bPAddresses[l].zipCode),i.__modelRelated.setValue("address/ShipTo/city",s.bPAddresses[l].city),i.__modelRelated.setValue("address/ShipTo/street1",s.bPAddresses[l].street),i.__modelRelated.setValue("address/ShipTo/street2",s.bPAddresses[l].block));i.setTitle({subTitle:t.sbo.localization.Helper.get("common/BP_NAME"),title:i.__model.getValue("cardName")||""}),i.$().process(e),i.$().control({"[ctrl='layout']":{listener:{afterProcess:function(){var o=t.sbo.util.metadataHelper.convert(n);i.$("[field='basicInfo']").getControl().setOption({metadata:o.properties,enumMeta:o.enumTypes,dynamicMeta:t.sbo.util.metadataHelper.convertDynamicMeta(s["sbo.dynamicmeta"]).properties,propertyTemplate:e.html.sap.sbo.app.template.DynamicProperty,readonly:!0})}}}});var u=i.__model.getValue("isActive");u===o.Yes&&(window.SboShell.addActionButtons([{key:"createLead",text:t.sbo.localization.Helper.get("app/customer/CREATE_LEAD")}],i),window.SboShell.addActionButtons([{key:"createOppo",text:t.sbo.localization.Helper.get("app/customer/CREATE_OPPO")}],i),window.SboShell.addActionButtons([{key:"createQuotation",text:t.sbo.localization.Helper.get("app/customer/CREATE_QUOTATION")}],i),window.SboShell.addActionButtons([{key:"createOrder",text:t.sbo.localization.Helper.get("app/customer/CREATE_ORDER")}],i)),window.SboShell.addFeature(i,"relatedFilter.BOkey","method"),i.autoDestroy("remove the realted filter",window.SboShell.removeFeature.bind(window.SboShell,"relatedFilter.BOkey")),a.resolve()}).fail(function(e){window.SboShell.raiseException(e),a.reject(e)}),i.$().on("vclick",".bo-tile-profile",function(e){var t=$(e.target).findModel();window.SboShell.gotoView("sap.sbo.page.pad.Customer.CustomerEdit",[{keyName:"cardCode",keyValue:t.getValue("cardCode")}])}),i.$().on("vclick",'[field="contact"]',function(e){var t=$(e.target).findModel();window.SboShell.gotoView("sap.sbo.page.pad.Contact.ContactListView",{boName:i.getBoKeyEntity().boName,keyParam:i.__ParamInfo.storeParam,BPcardCode:t.getValue("cardCode"),BPcardName:t.getValue("cardName")},{MainContact:t.getValue("contactPerson")}),e.stopPropagation()}),i.$().on("vclick",".contact.homeEntrance",function(e){i.__modelRelated.getValue("contactPersonID")&&SboShell.gotoView("sap.sbo.page.pad.Contact.ContactHome",[{keyName:"contactPersonID",keyValue:i.__modelRelated.getValue("contactPersonID")}]),e.stopPropagation()}),i.$().on("vclick",'[field="address"]',function(){window.SboShell.gotoView("sap.sbo.page.pad.Customer.Address.AddressList",i.__ParamInfo.storeParam)}),i.$().on("vclick",'[uuid="logo"]',function(e){var t=$(e.target).findModel();window.SboShell.openFrame({view:"sap.sbo.app.BOProfile.ProfileDetails",type:"center",width:640,height:480,options:{userID:t.getValue("cardCode"),boName:i.getBoKeyEntity().boName},callback:function(e,t){"refreshAvatar"==e&&t&&i.__model.setValue("Image/url",t)}}),e.stopPropagation()}),i.$().on("vclick",'[data-id="createContact"]',function(e){var t=$(e.target).findModel();SboShell.openFrame({view:"sap.sbo.page.pad.Contact.ContactCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,options:{data:{BPcardCode:t.getValue("cardCode"),BPcardName:t.getValue("cardName"),boName:i.getBoKeyEntity().boName,keyParam:i.__ParamInfo.storeParam}},callback:function(){}}),e.stopPropagation()})}),a.promise()},destroyView:function(){t.sbo.page.pad.BoHomeController.prototype.destroyView.apply(this,arguments),this.$().unprocess()},update:function(){},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"BusinessPartner",keyElements:[{keyName:"cardCode",keyValue:this.__ParamInfo.storeParam[0].keyValue}]}},getService:function(){return this.oCustomerService},doFeature:function(e){if("relatedFilter.BOkey"===e){var o=this.__model.getValue("");return{key:"cardCode",value:o.cardCode}}return t.sbo.page.pad.BoHomeController.prototype.doFeature.apply(this,arguments)}},Static:{},Protected:{__string_null:function(e){return e?e:""},_onActionButtonClickHandler:function(e){var t=this;switch(e){case"createOrder":SboShell.openFrame({view:"sap.sbo.page.pad.SalesOrder.OrderCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,options:{cardCode:t.__model.getValue("cardCode"),cardName:t.__model.getValue("cardName")},callback:function(){}});break;case"createQuotation":SboShell.openFrame({view:"sap.sbo.page.pad.SalesQuotation.QuotationCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,options:{cardCode:t.__model.getValue("cardCode"),cardName:t.__model.getValue("cardName")},callback:function(){}});break;case"createLead":SboShell.openFrame({view:"sap.sbo.page.pad.Leads.LeadsCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,options:{cardCode:t.__model.getValue("cardCode"),cardName:t.__model.getValue("cardName")},callback:function(){}});break;case"createOppo":SboShell.openFrame({view:"sap.sbo.page.pad.SalesOpportunity.CreationFrame2",type:"center-column",options:{cardCode:t.__model.getValue("cardCode"),cardName:t.__model.getValue("cardName")}})}},showlargeone:function(){window.SboShell.gotoView("sap.sbo.page.pad.report.queryChartView",{reportId:2,reportName:"",filterdata:this.__reportmodel.getValue("filterData")})}}})}),define("sap.sbo.page.pad.Customer.CustomerList",["sap.ui.Controller","sap.sbo.layout.pad.ListLayout","sap.sbo.util.AjaxListSource","sap.sbo.services.BusinessPartnersService","sap.sbo.page.BaseBoListViewController","sap.sbo.ui.widget.ListManipulator","sap.ui.widget.ValueHelpField","sap.sbo.ui.widget.MultipleValueHelp","sap.sbo.localization.Helper","sap.sbo.services.BaseService","sap.sbo.page.pad.DataMigrationMenuButtonUtil","sap.core.DestroyPool","sap.sbo.page.common.customerUtil","sap.log","sap.ui.widget.Photo","sap.sbo.page.common.oppUtil","sap.sbo.util.formatter","json!sap.sbo.page.common.listFilters.Customer","json!sap.sbo.util.enums","css!sap.sbo.page.pad.boListView"],function(){"use strict";var e=this.getNS(),t=e.sap,o=e.json.sap.sbo.util.enums.bool;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.BaseBoListViewController,Public:{init:function(){t.sbo.page.BaseBoListViewController.prototype.init.apply(this,arguments),this.declareMember({oCustomerService:this.autoDestroy(new t.sbo.services.BusinessPartnersService),_oAjaxListSource:null,_onActionButtonClickProxy:$.proxy(this._onActionButtonClickHandler,this),__oDataMigration:null,__oDestroy:new t.core.DestroyPool}),this._oAjaxListSource=this.autoDestroy(new t.sbo.util.AjaxListSource(this.oCustomerService,"bPAddresses")),window.SboShell.attachEvent("actionButtonClick",this._onActionButtonClickProxy)},destroy:function(){window.SboShell.detachEvent("actionButtonClick",this._onActionButtonClickProxy)},getMainControl:function(){return this.$(".sbo-list-layout")},initView:function(){var a=this,i=$.Deferred();return $.when(t.sbo.page.BaseBoListViewController.prototype.initView.call(this)).done(function(){a.$().process(e),a.canQuery()&&(a.$().control({'[data-id="listView"]':{emptyTexts:[t.sbo.localization.Helper.get("app/customer/PURPOSE"),t.sbo.localization.Helper.get("app/customer/USAGE"),"desktop"===window.SboShell.callFeatureMethod("shell.getDeviceType")?t.sbo.localization.Helper.get("app/customer/C_CREATE"):t.sbo.localization.Helper.get("app/customer/TO_CREATE")],source:a._oAjaxListSource,listener:{create:function(){SboShell.openFrame({view:"sap.sbo.page.pad.Customer.CustomerCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,callback:function(){}})},requestDone:function(e){SboShell.setOption({title:1==e.count?t.sbo.localization.Helper.get("common/BP_NAME"):t.sbo.localization.Helper.get("common/CUSTOMER_NAME")}),SboShell.setHeaderCount(e.count)},modelCreated:function(e){e.setValue("ActiveStatue","YES"),e.setValue("Image",{url:"./image/common/no-pic-avatar.jpg"}),e.setValue("Image",{showImg:"NO"});var a=e.getValue("portraitId"),i=e.getValue("cardCode");if(a>0){e.setValue("Image",{showImg:"YES"});var s=t.sbo.util.formatter.getURL("BusinessPartner","cardCode",i,a);e.setValue("Image",{url:s})}var n=e.getValue("isActive");n===o.No&&e.setValue("ActiveStatue","NO");for(var r=[],l=[{field:"phone1",flag:"mobileShow"},{field:"phone2",flag:"phoneShow"},{field:"emailAddress",flag:"emailShow"},{field:"fax",flag:"faxShow"},{field:"website",flag:"websiteShow"}],d=0;l.length>d;++d)e.getValue(l[d].field)&&r.push(l[d].flag);r[0]&&e.setValue(r[0],"YES"),r[1]&&e.setValue(r[1],"YES")}}}}),a.$().on("vclick",".item",function(e){var t=$(e.target).findModel();window.SboShell.gotoView("sap.sbo.page.pad.Customer.CustomerHome",[{keyName:"cardCode",keyValue:t.getValue("cardCode")}])})),a.canCreate()&&window.SboShell.addActionButtons([{key:"create",text:t.sbo.localization.Helper.get("app/customer/CREATE")}],a),$.when(a.oCustomerService.count()).done(function(e){a.__oDataMigration=a.__oDestroy.add(new t.sbo.page.pad.DataMigrationMenuButtonUtil({datatype:"SFABusinessPartner",view:"sap.sbo.page.pad.Customer.CustomerList",count:e}))}),i.resolve()}).fail(function(e){t.log.error("load customer failed."),i.reject(e)}),i.promise()},destroyView:function(){t.sbo.page.BaseBoListViewController.prototype.destroyView.call(this),this.__oDestroy.destroy(),this.$().unprocess()},update:function(){},getService:function(){return this.oCustomerService},getBoNameEntity:function(){return{boNamespace:"com.sap.sbo",boName:"BusinessPartner"}},getListSource:function(){return this._oAjaxListSource},getProcessContext:function(){return e},getQuickFilters:function(){if(e&&e.json&&e.json.sap&&e.json.sap.sbo&&e.json.sap.sbo.page&&e.json.sap.sbo.page.common&&e.json.sap.sbo.page.common.listFilters&&e.json.sap.sbo.page.common.listFilters.Customer){var o=e.json.sap.sbo.page.common.listFilters.Customer,a={};for(var i in o)a[i]={},a[i].expr=o[i],a[i].label=t.sbo.localization.Helper.get("app/customer/"+i),a[i].description=a[i].label;return a}return{}}},Protected:{__string_null:function(e){return e?e:""},_onActionButtonClickHandler:function(e){switch(e){case"create":SboShell.openFrame({view:"sap.sbo.page.pad.Customer.CustomerCreation",type:"center-column",fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,callback:function(){}})}}}})}),define("sap.sbo.page.pad.Customer.Address.AddressList",["sap.sbo.page.pad.SubBoMetadataView","sap.ui.widget.TextField","sap.ui.Controller","sap.core.JsonModel","sap.sbo.services.CountriesService","sap.sbo.services.StatesService","sap.sbo.services.BusinessPartnersService","sap.sbo.util.formatter","sap.sbo.localization.Helper","sap.ui.widget.DropDownBox","sap.sbo.ui.widget.Address","css!sap.sbo.page.pad.Customer.Address.AddressList"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={isZero:function(e){return 0===e},string_null:function(e,t){return"<<"===t?e||"":e},addressType_shipto:function(e){return"bo_ShipTo"===e?"YES":"NO"},addressType_billto:function(e){return"bo_ShipTo"===e?"NO":"YES"},addressType:function(e){return"bo_ShipTo"===e?t.sbo.localization.Helper.get("app/address/SHIPTO"):t.sbo.localization.Helper.get("app/address/BILLTO")}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.pad.SubBoMetadataView,Options:{},Public:{init:function(){t.sbo.page.pad.SubBoMetadataView.prototype.init.apply(this,arguments),this.declareMember({__mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),__oListCRYService:this.autoDestroy(new t.sbo.services.CountriesService),__oListCSTService:this.autoDestroy(new t.sbo.services.StatesService),__oListModel:this.autoDestroy(new t.core.JsonModel({countrylist:[]})),__oStates:{}}),this.__oService=this.autoDestroy(new t.sbo.services.BusinessPartnersService)},destroy:function(){},initView:function(){var o=$.Deferred(),a=this;return a.$().setModel(a.__oListModel,"list"),$.when(a.__oListCRYService.query()).done(function(e){a.__oListModel.setValue("countrylist",e.value)}),$.when(t.sbo.page.pad.SubBoMetadataView.prototype.initView.call(this,e)).done(function(){this.__oLoop.attachEvent("modelCreated",function(e,t){function o(t){if("shipToDefault"===t||"billtoDefault"===t){e.setValue("internal/bMainFlag","NO");var o=e.getValue("data/addressType"),i="bo_BillTo"===o?"billtoDefault":"shipToDefault",s=a.__oModel.getValue(i);null!==s&&""!==s&&s===e.getValue("data/addressName")&&e.setValue("internal/bMainFlag","YES")}}a.__oModel.attachEvent("valueChanged",o),t.done(function(){a.__oModel.detachEvent("valueChanged",o)})}),this.__oLoop.attachEvent("modelChanged",function(e){e.setValue("internal/bMainFlag","NO");var t=e.getValue("data/addressType"),o="bo_BillTo"===t?"billtoDefault":"shipToDefault",i=a.__oModel.getValue(o);null!==i&&""!==i&&i===e.getValue("data/addressName")&&e.setValue("internal/bMainFlag","YES");var s=e.getValue("data/country"),n=a.__oStates[s];if(n)e.setValue("internal/statelist",n);else{e.setValue("internal/statelist",[]);var r={filter:"country eq '"+s+"'"};$.when(a.__oListCSTService.query(r)).done(function(t){a.__oStates[s]=t.value,e.setValue("internal/statelist",t.value)})}e.attachEvent("valueChanged",function(e,t){if("data/country"===e&&"@UPDATE"===t){this.setValue("data/state","");var o=this,i=this.getValue("data/country"),s=a.__oStates[i];if(s)this.setValue("internal/statelist",s);else{this.setValue("internal/statelist",[]);var n={filter:"country eq '"+i+"'"};$.when(a.__oListCSTService.query(n)).done(function(e){a.__oStates[i]=e.value,o.setValue("internal/statelist",e.value)})}}})}),o.resolve()}.bind(this)),this.$().on("vclick",".Main",function(e){var t=$(e.target).findModel("loop");switch(t.getValue("data/addressType")){case"bo_BillTo":this.__oModel.setValue("billtoDefault",t.getValue("data/addressName"));break;case"bo_ShipTo":this.__oModel.setValue("shipToDefault",t.getValue("data/addressName"))}}.bind(this)),this.$().on("vclick",'[data-id="addressType"]',function(e){var t=$(e.target).findModel("loop");"bo_ShipTo"===t.getValue("data/addressType")?t.setValue("data/addressType","bo_BillTo"):t.setValue("data/addressType","bo_ShipTo")}.bind(this)),o.promise()},destroyView:function(){t.sbo.page.pad.SubBoMetadataView.prototype.destroyView.call(this)},update:function(){t.sbo.page.pad.SubBoMetadataView.prototype.update.apply(this,arguments)},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"BusinessPartner",keyElements:this.__mViewInfo.storeParam}},getSubNodeName:function(){return"BPAddress"},getSubNodeBindPath:function(){return"bPAddresses"},getTitle:function(e,o){var a=1==o?t.sbo.localization.Helper.get("common/ADDRESS"):t.sbo.localization.Helper.get("app/contact/ADDRESSES");return o+" "+a},getSubTitle:function(e){return e.cardName},getIgnoredProperty:function(){return["block","rowNum","bPCode","CountryName"]},getEmptyTexts:function(){return[t.sbo.localization.Helper.get("app/customer/ADD_PURPOSE"),"desktop"===window.SboShell.callFeatureMethod("shell.getDeviceType")?t.sbo.localization.Helper.get("app/customer/C_ADD_CREATE"):t.sbo.localization.Helper.get("app/customer/ADD_CREATE")]}},Protected:{}})}),define("sap.sbo.page.pad.ProductSetting.ProductSetting",["sap.core.klass","sap.core.JsonModel","sap.ui.View","sap.ui.common","sap.log","sap.ui.Controller","sap.core.GuardedTimer","sap.sbo.layout.TileView","sap.sbo.layout.pad.AdvancedTilesLayout","sap.sbo.services.PriceListsService","sap.sbo.services.ManufacturersService","sap.sbo.services.ItemGroupsService","sap.sbo.shell.IFeaturable","sap.sbo.app.network.RelatedTile","sap.sbo.util.metadataHelper","sap.sbo.localization.Helper","json!sap.sbo.util.enums","css!sap.sbo.page.pad.ProductSetting.ProductSetting","css!sap.sbo.app.template.TileProperty"],function(){"use strict";
var e=this.getNS(),t=e.sap,o=e.json.sap.sbo.util.enums.bool;return e.formatter={ConvertBetweenEnumAndBoolean:function(e,t){return"<<"==t?e==o.No?"":"cancelled":1==e?"Y":"N"}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,Interfaces:[t.sbo.shell.IFeaturable],Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{_oPriceListsService:this.autoDestroy(new t.sbo.services.PriceListsService),_oManufacturersService:this.autoDestroy(new t.sbo.services.ManufacturersService),_oItemGroupsService:this.autoDestroy(new t.sbo.services.ItemGroupsService),__oModel:new t.core.JsonModel({countOfPL:0,countOfManu:0,countOfItemgroup:0})})},destroy:function(){},initView:function(){var o=window.SboShell;this.$().setModel(this.__oModel),this.$().process(e);var a=this;$.when(this._oPriceListsService.count()).done(function(e){a.$("#numOfPriceLists").text(e),a.__oModel.setValue("countOfPL",e)}).fail(function(){window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/pricelist/GET_FAILED")),t.log.info("get price lists failed")}),$.when(this._oManufacturersService.count()).done(function(e){a.$("#numOfManufacturer").text(e),a.__oModel.setValue("countOfManu",e)}).fail(function(){window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/manufct/GET_FAILED")),t.log.info("get manufacturers failed")}),$.when(this._oItemGroupsService.count()).done(function(e){a.$("#numOfItemgroup").text(e),a.__oModel.setValue("countOfItemgroup",e)}).fail(function(){window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/itemgroup/GET_FAILED")),t.log.info("get item groups failed")}),this.$().on("vclick","[index='sfa-productSetting-manufacturers']",function(){o.gotoView("sap.sbo.page.pad.ProductSetting.Manufacturers.ManufacturersSettingTile")}),this.$().on("vclick","[index='sfa-productSetting-pricelists']",function(){o.gotoView("sap.sbo.page.pad.ProductSetting.PriceList.PriceListsSettingTile")}),this.$().on("vclick","[index='sfa-productSetting-itemgroups']",function(){o.gotoView("sap.sbo.page.pad.ProductSetting.ItemGroup.ItemGroupsSettingTile")})},destroyView:function(){this.$().unprocess(e)},update:function(){}},Protected:{}})}),define("sap.sbo.page.pad.ProductSetting.ItemGroup.ItemGroupsSettingTile",["sap.ui.Controller","sap.sbo.page.pad.LightBoMetadataList","sap.sbo.services.ItemGroupsService","sap.core.JsonModel","sap.sbo.localization.Helper","html!sap.sbo.page.pad.ProductSetting.ItemGroup.ItemGroupsSettingTile","css!sap.sbo.page.pad.ProductSetting.ItemGroupsSettingTile"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.pad.LightBoMetadataList,Interfaces:[],Events:[],Options:{},Public:{init:function(){t.sbo.page.pad.LightBoMetadataList.prototype.init.apply(this,arguments),this.declareMember({}),this.__oService=this.autoDestroy(new t.sbo.services.ItemGroupsService)},destroy:function(){},initView:function(){var e=$.Deferred();return $.when(t.sbo.page.pad.LightBoMetadataList.prototype.initView.apply(this,arguments)).done(function(){e.resolve()}).fail(function(){e.reject()}),e.promise()},destroyView:function(){t.sbo.page.pad.LightBoMetadataList.prototype.destroyView.apply(this,arguments)},update:function(){t.sbo.page.pad.LightBoMetadataList.prototype.update.apply(this,arguments)},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"ItemGroup"}},getIgnoredProperty:function(){return["number"]},isCreateEnabled:function(){return!0},isRemoveEnabled:function(){return!0},updateCount:function(e){this.setTitle({title:t.sbo.localization.Helper.get("app/itemgroup/TITLE",e)})}},Protected:{}})}),define("sap.sbo.page.pad.ProductSetting.Manufacturers.ManufacturersSettingTile",["sap.ui.Controller","sap.sbo.page.pad.LightBoMetadataList","sap.sbo.services.ManufacturersService","sap.core.JsonModel","sap.sbo.localization.Helper","html!sap.sbo.page.pad.ProductSetting.Manufacturers.ManufacturersSettingTile","css!sap.sbo.page.pad.ProductSetting.ManufacturersSettingTile"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.pad.LightBoMetadataList,Interfaces:[],Events:[],Options:{},Public:{init:function(){t.sbo.page.pad.LightBoMetadataList.prototype.init.apply(this,arguments),this.declareMember({}),this.__oService=this.autoDestroy(new t.sbo.services.ManufacturersService)},destroy:function(){},initView:function(){var e=$.Deferred();return $.when(t.sbo.page.pad.LightBoMetadataList.prototype.initView.apply(this,arguments)).done(function(){e.resolve()}).fail(function(){e.reject()}),e.promise()},destroyView:function(){t.sbo.page.pad.LightBoMetadataList.prototype.destroyView.apply(this,arguments)},update:function(){t.sbo.page.pad.LightBoMetadataList.prototype.update.apply(this,arguments)},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"Manufacturers"}},getIgnoredProperty:function(){return["code"]},isCreateEnabled:function(){return!0},isRemoveEnabled:function(){return!0},updateCount:function(e){this.setTitle({title:t.sbo.localization.Helper.get("app/manufct/TITLE",e)})}},Protected:{}})}),define("sap.sbo.page.pad.ProductSetting.PriceList.PriceListsSettingTile",["sap.ui.Controller","sap.sbo.page.pad.LightBoMetadataList","sap.sbo.services.PriceListsService","sap.sbo.compoundservices.CompanyService","sap.sbo.util.formatter","sap.core.JsonModel","sap.sbo.util.metadataHelper","sap.sbo.localization.Helper","html!sap.sbo.page.pad.ProductSetting.PriceList.PriceListsSettingTile","css!sap.sbo.page.pad.ProductSetting.PriceListsSettingTile"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={getIndex:function(e){return e+1}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.pad.LightBoMetadataList,Interfaces:[],Events:[],Options:{},Public:{init:function(){t.sbo.page.pad.LightBoMetadataList.prototype.init.apply(this,arguments),this.declareMember({oCompanyService:this.autoDestroy(new t.sbo.compoundservices.CompanyService),__oListModel:this.autoDestroy(new t.core.JsonModel({isGrossPrcShow:"NO",enumOfPriceListGroup:[]}))}),this.__oService=this.autoDestroy(new t.sbo.services.PriceListsService)},destroy:function(){},initView:function(){var o=this;o.$().setModel(o.__oListModel,"list");var a=$.Deferred();return $.when(o.oCompanyService.getAdminInfo()).done(function(e){"CN"===e.country&&o.__oListModel.setValue("isGrossPrcShow","YES")}),$.when(this.__oService.getMetadata("com.sap.sbo","PriceList")).done(function(e){var a=t.sbo.util.metadataHelper.convert(e);o.__oListModel.setValue("enumOfPriceListGroup",a.enumTypes.BoPriceListGroupNum)}),$.when(t.sbo.page.pad.LightBoMetadataList.prototype.initView.apply(this,[e])).done(function(){a.resolve()}).fail(function(){a.reject()}),a.promise()},destroyView:function(){t.sbo.page.pad.LightBoMetadataList.prototype.destroyView.apply(this,arguments)},update:function(){t.sbo.page.pad.LightBoMetadataList.prototype.update.apply(this,arguments)},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"PriceList"}},getIgnoredProperty:function(){var e=this,t=[];return"YES"!==e.__oListModel.getValue("isGrossPrcShow")&&t.push("isGrossPrice"),t},isCreateEnabled:function(){return!0},isRemoveEnabled:function(){return!0},updateCount:function(e){this.setTitle({title:t.sbo.localization.Helper.get("app/pricelist/TITLE",e)})}},Protected:{}})}),define("sap.sbo.page.pad.settings.AddValidValue",["sap.core.JsonModel","sap.core.klass","sap.ui.Controller","sap.ui.widget.TextField","sap.ui.widget.TextArea","sap.sbo.ui.widget.DecimalInputField","sap.sbo.ui.widget.DateTimeField","sap.sbo.ui.widget.SliderButton","sap.sbo.ui.FrameViewController","sap.sbo.localization.Helper","sap.sbo.page.pad.settings.SettingUtil","sap.sbo.util.formatter","sap.sbo.util.i18n","sap.formatter","sap.sbo.compoundservices.GeneralService","css!sap.sbo.page.pad.settings.UserDefinedFieldSetting"],function(){"use strict";var e=this.getNS(),t=e.sap,o=t.sbo.localization.Helper,a=t.sbo.page.pad.settings.SettingUtil;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Public:{init:function(){t.sbo.ui.FrameViewController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{_oModel:void 0,_oGeneralService:new t.sbo.compoundservices.GeneralService,_mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),_fnButtonProxy:$.proxy(this._fnButtonHandler,this)}),window.SboShell.addActionButtons([{text:o.get("common/SAVE"),key:"save"},{text:o.get("common/CANCEL"),key:"cancel"}],this),window.SboShell.attachEvent("actionButtonClick",this._fnButtonProxy)},destroy:function(){this._oModel.destroy(),this._oModel=null,window.SboShell.detachEvent("actionButtonClick",this._fnButtonProxy)},initView:function(){var i=$.Deferred(),s=this._mViewInfo.storeParam,n=SboShell.getData("CustomerFieldData"),r=n.data_type.value.selectedType,l={boInfo:s.boInfo,item:{value:{text:"",date:null,decimal:null},description:"",isReadonly:!1},boPropertyType:r,currentIndex:s.currentIndex};switch(s.operationType){case"add":SboShell.setOption({title:o.get("app/settings/ADD_VALIDVALUE")});break;case"edit":SboShell.setOption({title:o.get("app/settings/EDIT_VALIDVALUE")});var d=n.validValues.value.list[s.currentIndex];l.item.value[r.category]=a.realValue_String(r,d.value,">>"),l.item.description=d.description}return this._oModel=new t.core.JsonModel(l),this.$().setModel(this._oModel),this.$().process(e),i.resolve(),this.__addEvent(),i.promise()},destroyView:function(){this.$().unprocess()},update:function(){}},Protected:{__addEvent:function(){var e=this;$("#input-text").on("blur",function(){$("#input-text").parents(".box").removeClass("isError");var t=e._oModel.getValue("item"),o=e._oModel.getValue("boPropertyType"),a=t.value[o.category];$.when(e._oGeneralService.checkValue(o.key,a)).fail(function(e){$("#input-text").parents(".box").addClass("isError"),window.SboShell.raiseException(e)})})},_fnButtonHandler:function(e){var t=this;switch(e){case"save":var i=t._oModel.getValue("item"),s=t._oModel.getValue("currentIndex"),n=SboShell.getData("CustomerFieldData"),r=t._oModel.getValue("boPropertyType"),l=i.value[r.category].trim(),d=l;if("decimal"==r.category){if(!a.checkDecimalValue($("#decimal-input"),o.get("app/settings/ERROR_FIELD_EMPTY",o.get("app/settings/VALUE"))))return!1}else if(!a.isNullOrEmpty($("#validValueItem-box input"),l,o.get("app/settings/ERROR_FIELD_EMPTY",o.get("app/settings/VALUE"))))return!1;if(!a.isNullOrEmpty($("#description-text"),i.description,o.get("app/settings/ERROR_FIELD_EMPTY",o.get("app/settings/DESCRIPTION"))))return!1;$.when(t._oGeneralService.checkValue(r.key,l)).done(function(){"decimal"==r.category?(d=a.decimal_String(r,l,"<<"),l=$.trim(l)):"date"==r.category&&(d=a.date_String(l,"<<"),l=$.trim(l));var e=!1;$(n.validValues.value.list).each(function(t){t!=s&&this.value==l&&(window.SboShell.raiseMessage(o.get("app/settings/VALIDVALUE_EXIST")),$("#validValueItem-box .box").addClass("isError"),e=!0)});var p=n.defaultValue.value;e||($("#validValueItem-box .box").removeClass("isError"),"add"==t._mViewInfo.storeParam.operationType?(n.validValues.value.list.push({value:l,displayValue:d,description:i.description}),p.list.push({key:l,text:d+" - "+i.description})):(p.list[s].key=l,p.list[s].text=d+" - "+i.description,p.selectedValue==n.validValues.value.list[s].value&&(p.selectedValue=l),n.validValues.value.list[s].value=l,n.validValues.value.list[s].displayValue=d,n.validValues.value.list[s].description=i.description),SboShell.storeData("CustomerFieldData",n),a.backToMainView("sap.sbo.page.pad.settings.UserDefinedFieldSetting",{boInfo:t._oModel.getValue("boInfo"),operationType:"addOrUpdateValidValue"}))}).fail(function(e){$("#input-text").parents(".box").addClass("isError"),window.SboShell.raiseException(e)});break;case"cancel":a.backToMainView("sap.sbo.page.pad.settings.UserDefinedFieldSetting",{boInfo:t._oModel.getValue("boInfo"),operationType:"addOrUpdateValidValue"})}}}})}),define("sap.sbo.page.pad.settings.ApprovalSetting",["sap.core.JsonModel","sap.core.klass","sap.ui.Controller","sap.ui.Repeat","sap.ui.widget.TextField","sap.ui.widget.DropDownBox","sap.sbo.ui.widget.SliderButton","sap.sbo.ui.FrameViewController","sap.sbo.ui.widget.DecimalInputField","sap.formatter","sap.sbo.localization.Helper","sap.sbo.util.formatter","sap.sbo.util.i18n","sap.formatter","sap.util","json!sap.sbo.util.enums","sap.sbo.page.pad.settings.SettingUtil","sap.sbo.services.ApprovalSettingsService","css!sap.sbo.page.pad.settings.ApprovalSetting"],function(){"use strict";var e=this.getNS(),t=e.sap,o=t.sbo.localization.Helper,a=t.sbo.page.pad.settings.SettingUtil,i=[{key:"Equals",text:o.get("app/appr/EQUALS")},{key:"GreaterThan",text:o.get("app/appr/GREATERTHAN")},{key:"LessThan",text:o.get("app/appr/LESSTHAN")},{key:"GreaterThanOrEqualTo",text:o.get("app/appr/GREATERANDEQUAL")},{key:"LessThanOrEqualTo",text:o.get("app/appr/LESSANDEQUAL")}];return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Public:{init:function(){t.sbo.ui.FrameViewController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{_oModel:void 0,_mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),_oService:this.autoDestroy(new t.sbo.services.ApprovalSettingsService),_fnButtonProxy:$.proxy(this._fnButtonHandler,this)}),window.SboShell.addActionButtons([{text:o.get("common/SAVE"),key:"save"},{text:o.get("common/CANCEL"),key:"cancel"}],this),window.SboShell.attachEvent("actionButtonClick",this._fnButtonProxy)},destroy:function(){this._oModel.destroy(),this._oModel=null,window.SboShell.detachEvent("actionButtonClick",this._fnButtonProxy)},initView:function(){var o=$.Deferred(),a={title:null,subTitle:null,docType:null,name:null,isDefault:!1,users:[],approver:{employeeID:null,name:null},active:!0,rules:i,termType:"Always",total:{selectedRule:null,value:""},discount:{selectedRule:null,value:""}};this._oModel=new t.core.JsonModel({data:a}),this.$().setModel(this._oModel),this.$().process(e);var s=this._mViewInfo.storeParam;switch(s.operationType){case"add":this.__InitViewBeforeAdd();break;case"edit":this.__InitViewBeforeEdit();break;case"chooseOriginator":this.__InitViewAfterBack()}return SboShell.setOption({subTitle:this._oModel.getValue("data/subTitle"),title:this._oModel.getValue("data/title")}),o.resolve(),this.__addEvent(),o.promise()},destroyView:function(){this.$().unprocess()},update:function(){}},Protected:{__addEvent:function(){var e=this;$(".tab-header-item").on("vclick",function(){var t=$(this).parent(".tab-header").children(".tab-header-item").index($(this)),o=e._oModel.getValue("data");switch(t){case 0:o.termType="Always";break;case 1:o.termType="Total";break;case 2:o.termType="Discount"}e._oModel.setValue("data/termType",o.termType),a.gotoTabByIndex($("#requestApprovalTab"),t)}),$("#addUserLink").on("vclick",function(){window.SboShell.storeData("approvalSettingRecord",e._oModel.getValue("data")),SboShell.gotoView("sap.sbo.page.pad.settings.ChooseOriginators",e._mViewInfo.storeParam)}),$("#selectedApproverButton").on("vclick",function(){window.SboShell.openFrame({view:"sap.sbo.chooseList.pad.ChooseListEmployee",type:"right",width:400,height:100,callback:function(t,o){"select"===t&&(e._oModel.setValue("data/approver/employeeID",o.employeeID),e._oModel.setValue("data/approver/name",o.displayName))}})})},__InitViewBeforeAdd:function(){"orderApproval"==this._mViewInfo.storeParam.settingId?(this._oModel.setValue("data/docType",e.json.sap.sbo.util.enums.BoObjectTypes.Order),this._oModel.setValue("data/title",o.get("app/appr/ADD_APPROVAL")),this._oModel.setValue("data/subTitle",o.get("app/settings/ORDERS_TITLE"))):"quotationApproval"==this._mViewInfo.storeParam.settingId&&(this._oModel.setValue("data/docType",e.json.sap.sbo.util.enums.BoObjectTypes.Quotation),this._oModel.setValue("data/title",o.get("app/appr/ADD_APPROVAL")),this._oModel.setValue("data/subTitle",o.get("app/settings/QUOT_TITLE")))},__InitViewBeforeEdit:function(){var t=SboShell.getData("approvalSettingRecord"),i=this._oModel.getValue("data");if(i.id=t.id,i.docType=t.docType,i.docType==e.json.sap.sbo.util.enums.BoObjectTypes.Order?(i.title=o.get("app/appr/EDIT_APPROVAL"),i.subTitle=o.get("app/settings/ORDERS_TITLE")):i.docType==e.json.sap.sbo.util.enums.BoObjectTypes.Quotation&&(i.title=o.get("app/appr/EDIT_APPROVAL"),i.subTitle=o.get("app/settings/QUOT_TITLE")),i.name=t.title,i.isDefault=t.allUsers,i.approver={employeeID:t.authorizer,name:t.authorizerDisplayName},i.active=t.active,i.users=[],$(t.originators).each(function(){i.users.push({employeeId:this.originator,firstName:this.originatorFirstName,lastName:this.originatorLastName,name:this.originatorDisplayName})}),t.terms&&0!=t.terms.length){var s=t.terms[0];switch(i.termType=s.termType,s.termType){case"Always":a.gotoTabByIndex($("#requestApprovalTab"),0);break;case"Total":i.total={selectedRule:s.termCondition,value:s.termValue},a.gotoTabByIndex($("#requestApprovalTab"),1);break;case"Discount":i.discount={selectedRule:s.termCondition,value:s.termValue},a.gotoTabByIndex($("#requestApprovalTab"),2)}}this._oModel.setValue("data",i)},__InitViewAfterBack:function(){var e=window.SboShell.getData("approvalSettingRecord");switch(e.termType){case"Always":a.gotoTabByIndex($("#requestApprovalTab"),0);break;case"Total":a.gotoTabByIndex($("#requestApprovalTab"),1);break;case"Discount":a.gotoTabByIndex($("#requestApprovalTab"),2)}this._oModel.setValue("data",e)},_fnButtonHandler:function(e){switch(e){case"save":if(!this.__checkBeforeSave())return;var i=this._oModel.getValue("data"),s={};s.docType=i.docType,s.title=i.name,s.active=i.active,s.authorizer=i.approver.employeeID,s.allUsers=i.isDefault,s.allUsers||(s.originators=[],$(i.users).each(function(){s.originators.push({originator:this.employeeId,originatorFirstName:this.firstName,originatorLastName:this.lastName,originatorDisplayName:this.name})}));var n={};switch(i.termType){case"Always":break;case"Total":n.termCondition=i.total.selectedRule,n.termValue=i.total.value;break;case"Discount":n.termCondition=i.discount.selectedRule,n.termValue=i.discount.value}n.termType=i.termType,s.terms=[n];var r=this;i.id?(t.util.showLoading(),s.id=i.id,$.when(r._oService.update(s,{id:i.id})).done(function(){a.backToMainView("sap.sbo.page.pad.settings.ApprovalSettingsView",r._mViewInfo.storeParam),window.SboShell.raiseMessage(o.get("app/appr/UPDATE_APPR_SUCCESS"),"success")}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()})):(t.util.showLoading(),$.when(this._oService.create(s)).done(function(){SboShell.removeData("approvalSettingRecord"),delete r._mViewInfo.storeParam.operationType,a.backToMainView("sap.sbo.page.pad.settings.ApprovalSettingsView",r._mViewInfo.storeParam),window.SboShell.raiseMessage(o.get("app/appr/ADD_APPR_SUCCESS"),"success")}).fail(function(){}).always(function(){t.util.hideLoading()}));break;case"cancel":SboShell.removeData("approvalSettingRecord"),delete this._mViewInfo.storeParam.operationType,a.backToMainView("sap.sbo.page.pad.settings.ApprovalSettingsView",this._mViewInfo.storeParam)}},__checkBeforeSave:function(){var e=this._oModel.getValue("data");if(!a.isNullOrEmpty($("#settingName-input"),e.name,o.get("app/appr/NAMENULL")))return!1;if(!e.isDefault&&0==e.users.length)return window.SboShell.raiseMessage(o.get("app/appr/ORIGINATORNULL")),!1;if(null==e.approver.employeeID)return window.SboShell.raiseMessage(o.get("app/appr/AUTHORIZERNULL")),!1;if("Total"==e.termType){if(!a.isNullOrEmpty($("#total-rule-selectBox"),e.total.selectedRule,o.get("app/appr/TERMCONDITIONNULL")))return!1;if(!a.isNullOrEmpty($("#total-rule-valueInput"),e.total.value,o.get("app/appr/TERMVALUEERROR")))return!1}if("Discount"==e.termType){if(!a.isNullOrEmpty($("#discount-rule-selectBox"),e.discount.selectedRule,o.get("app/appr/TERMCONDITIONNULL")))return!1;if(!a.isNullOrEmpty($("#discount-rule-valueInput"),e.discount.value,o.get("app/appr/TERMVALUEERROR")))return!1}return!0}}})}),define("sap.sbo.page.pad.settings.ApprovalSettingsView",["sap.core.JsonModel","sap.core.klass","sap.ui.Controller","sap.ui.Repeat","sap.sbo.ui.widget.SliderButton","sap.sbo.ui.FrameViewController","sap.sbo.localization.Helper","sap.sbo.util.formatter","sap.util","json!sap.sbo.util.enums","sap.sbo.page.pad.settings.SettingUtil","sap.sbo.services.ApprovalSettingsService","css!sap.sbo.page.pad.settings.ApprovalSettingsView"],function(){"use strict";var e=this.getNS(),t=e.sap,o=t.sbo.localization.Helper,a=t.sbo.page.pad.settings.SettingUtil;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Public:{init:function(){t.sbo.ui.FrameViewController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{_oModel:void 0,_mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),_oService:this.autoDestroy(new t.sbo.services.ApprovalSettingsService),_fnButtonProxy:$.proxy(this._fnButtonHandler,this)})},destroy:function(){this._oModel.destroy(),this._oModel=null},initView:function(){var a=$.Deferred(),i={approvalRecords:[]};this._oModel=new t.core.JsonModel({data:i}),this.$().setModel(this._oModel),this.$().process(e);var s=this,n={};return"orderApproval"==this._mViewInfo.storeParam.settingId?(n.filter="docType eq '"+e.json.sap.sbo.util.enums.BoObjectTypes.Order+"'",SboShell.setOption({subTitle:o.get("app/settings/ORDERS_TITLE"),title:o.get("app/settings/PLURAL_APPR")})):"quotationApproval"==this._mViewInfo.storeParam.settingId&&(n.filter="docType eq '"+e.json.sap.sbo.util.enums.BoObjectTypes.Quotation+"'",SboShell.setOption({subTitle:o.get("app/settings/QUOT_TITLE"),title:o.get("app/settings/PLURAL_APPR")})),t.util.showLoading(),$.when(this._oService.query(n)).done(function(e){var t=s._oModel.getValue("data/approvalRecords");t=[],e&&e.value&&(0==e.value.length?$("#approval-table").css("display","none"):$(e.value).each(function(){var e={};if(this.terms&&this.terms.length>0){var o=this.terms[0];e.condition=s.__getCondition(o)}e.source=this,t.push(e)})),s._oModel.setValue("data/approvalRecords",t)}).fail(function(){}).always(function(){t.util.hideLoading()}),a.resolve(),this.__addEvent(),a.promise()},destroyView:function(){this.$().unprocess()},update:function(){}},Protected:{__addEvent:function(){var e=this;this.$().on("vclick","#approvalSettings-table .table-row .goto-icon",function(){var t=$("#approvalSettings-table .table-row").index($(this).parent(".table-row")),o=e._oModel.getValue("data/approvalRecords")[t].source;e._mViewInfo.storeParam.operationType="edit",SboShell.storeData("approvalSettingRecord",o),SboShell.gotoView("sap.sbo.page.pad.settings.ApprovalSetting",e._mViewInfo.storeParam)}),$("#addApprovalSettingLink").on("vclick",function(){e._mViewInfo.storeParam.operationType="add",SboShell.gotoView("sap.sbo.page.pad.settings.ApprovalSetting",e._mViewInfo.storeParam)}),this.$().on("vclick",".delete-icon",function(){var t=$("#approvalSettings-table .table-row").index($(this).parents(".table-row")),i=e._oModel.getValue("data/approvalRecords");a.removeAt(i,t,{title:o.get("common/INFO"),message:o.get("app/appr/DELETECONFIRM"),success:o.get("app/appr/DELET_APPRO_SUCCESS")},e._oService,{id:i[t].source.id},function(t){e._oModel.setValue("data/approvalRecords",t)})}),this.$("#approvalSettings-table").getControl().attachEvent("afterUpdate",function(){this.$("div[data-sap-widget='sap.sbo.ui.widget.SliderButton']").each(function(){var a=$(this);$(this).getControl().attachEvent("change",function(){var i=$("#approvalSettings-table .table-row").index(a.parents(".table-row")),s=e._oModel.getValue("data/approvalRecords")[i].source;$.when(e._oService.update(s,{id:s.id})).done(function(){window.SboShell.raiseMessage(o.get("app/appr/UPDATE_APPR_SUCCESS"),"success")}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()})})})})},__getCondition:function(e){switch(e.termType){case"Always":return o.get("app/appr/ALWAYS");case"Discount":switch(e.termCondition){case"GreaterThan":return o.get("app/appr/CONDITION_DISCOUNT_G",e.termValue+"%");case"Equals":return o.get("app/appr/CONDITION_DISCOUNT_E",e.termValue+"%");case"LessThan":return o.get("app/appr/CONDITION_DISCOUNT_L",e.termValue+"%");case"GreaterThanOrEqualTo":return o.get("app/appr/CONDITION_DISCOUNT_GE",e.termValue+"%");case"LessThanOrEqualTo":return o.get("app/appr/CONDITION_DISCOUNT_LE",e.termValue+"%")}break;case"Total":switch(e.termCondition){case"GreaterThan":return o.get("app/appr/CONDITION_TOTAL_G",e.termValue);case"Equals":return o.get("app/appr/CONDITION_TOTAL_E",e.termValue);case"LessThan":return o.get("app/appr/CONDITION_TOTAL_L",e.termValue);case"GreaterThanOrEqualTo":return o.get("app/appr/CONDITION_TOTAL_GE",e.termValue);case"LessThanOrEqualTo":return o.get("app/appr/CONDITION_TOTAL_LE",e.termValue)}}}}})}),define("sap.sbo.page.pad.settings.BODataOwnershipConfig",["sap.ui.Controller","sap.sbo.ui.PageController","sap.sbo.localization.Helper","sap.sbo.compoundservices.DataOwnershipService","css!sap.sbo.page.pad.settings.BODataOwnershipConfig"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.PageController,Public:{init:function(){t.sbo.ui.PageController.prototype.init.apply(this,arguments),this.declareMember({__service:this.autoDestroy(new t.sbo.compoundservices.DataOwnershipService)})},initView:function(){var o=this,a=$.Deferred(),i=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo");i.storeParam.boCode;var s=i.storeParam.boName;return this.setTitle(t.sbo.localization.Helper.get("sys/dos/auth/share_rule",s)),$.when(o.$().process(e)).done(function(){a.resolve()}),a.promise()}}})}),define("sap.sbo.page.pad.settings.BoSettingTemplate",["sap.core.JsonModel","sap.ui.Controller","sap.log","sap.ui.Repeat","sap.sbo.localization.Helper","css!sap.sbo.page.pad.settings.BoSettingTemplate"],function(){"use strict";var e=this.getNS(),t=e.sap,o=SboShell.getData("settingMeta");return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,Options:{settingId:{type:"string"}},Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments);var e=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),a=e.storeParam.settingId,i=o[a]||{};this.declareMember({__model:this.autoDestroy(new t.core.JsonModel(i))})},destroy:function(){},initView:function(){var o=t.sbo.localization.Helper;SboShell.setOption("title",o.get(this.__model.getValue("settingTitle"))),this.$().setModel(this.__model),this.$().process(e);var a=this,i=this.__model.getValue("basicSettings");this.$().on("vclick",".setting-title",function(e){var t=e.target.getAttribute("settingId");if(t){for(var o=null,s=0;i.length>s;s++)if(t===i[s].settingId){o=i[s];break}o&&(o.settingView?SboShell.gotoView(o.settingView,{boName:o.boName,boNamespace:o.boNamespace,settingId:t,ignoredCreationProps:o.ignoredPropsCreation,ignoredPropsView:o.ignoredPropsView}):SboShell.gotoView("sap.sbo.page.pad.settings.SimpleBoView",{boName:o.boName,boNamespace:o.boNamespace,title:o.settingDisplayName,subTitle:a.__model.getValue("settingTitle"),removable:o.removable,ignoredCreationProps:o.ignoredCreationProps,ignoredViewProps:o.ignoredViewProps,ignoredEditionProps:o.ignoredEditionProps}))}else SboShell.gotoView("sap.sbo.page.pad.settings.CustomizationView",{boName:a.__model.getValue("boName"),boNamespace:a.__model.getValue("boNamespace"),settingName:a.__model.getValue("settingDisplayName")})});var s=new $.Deferred;return s.resolve(),s.promise()},destroyView:function(){this.$().unprocess(e)}},Static:{},Protected:{}})}),define("sap.sbo.page.pad.settings.BoTypeHelper",["sap.core.JsonModel","sap.core.klass","sap.sbo.localization.Helper","sap.sbo.services.DecimalSettingsService"],function(){"use strict";var e=this.getNS(),t=e.sap,o=t.sbo.localization.Helper,a=[{key:"String",text:o.get("app/settings/GENERAL_TEXT"),isDecimal:!1,decimalPlace:0},{key:"Text",text:o.get("app/settings/GENERAL_LONGTEXT"),isDecimal:!1,decimalPlace:0},{key:"DateTime",text:o.get("app/settings/GENERAL_DATETIME"),isDecimal:!1,decimalPlace:0},{key:"Integer",text:o.get("app/settings/GENERAL_NUMBER"),isDecimal:!1,decimalPlace:0},{key:"BoYesNoEnum",text:o.get("app/settings/GENERAL_YES_NO"),isDecimal:!1,decimalPlace:0}],i=[],s=[{key:"Email",text:o.get("app/settings/ADVANCE_EMAIL"),isDecimal:!1,decimalPlace:0},{key:"Phone",text:o.get("app/settings/ADVANCE_PHONE"),isDecimal:!1,decimalPlace:0},{key:"Link",text:o.get("app/settings/ADVANCE_HYPERLINK"),isDecimal:!1,decimalPlace:0}],n=new t.sbo.services.DecimalSettingsService;return{getTypeByKey:function(e){for(var t=0;a.length>t;t++)if(e==a[t].key)return a[t];for(var t=0;s.length>t;t++)if(e==s[t].key)return s[t];if(0!=i.length){for(var t=0;i.length>t;t++)if(e==i[t].key)return i[t];return{key:e,text:e,notSupportType:!0}}var o=$.Deferred();return $.when(this.getDecimalTypes()).done(function(t){for(var a=0;t.length>a;a++)e==t[a].key&&o.resolve(t[a]);o.resolve({key:e,text:e,notSupportType:!0,decimalPlace:0})}),o.promise()},getGeneralTypes:function(){return a},getDecimalTypes:function(){i=[];var e=$.Deferred();return $.when(n.query()).done(function(t){t&&t.value&&$(t.value).each(function(){i.push({key:this.type,text:this.label,isDecimal:!0,decimalPlace:this.decimalPlace})}),e.resolve(i)}).fail(function(){t.log.error("query decimal settings failed"),e.reject(ex)}),e.promise()},getAdvanceTypes:function(){return s}}}),define("sap.sbo.page.pad.settings.ChooseBoType",["sap.ui.Controller","sap.core.JsonModel","sap.sbo.ui.FrameViewController","sap.core.klass","sap.ui.Repeat","sap.ui.widget.TextField","sap.sbo.localization.Helper","sap.sbo.page.pad.settings.BoTypeHelper","css!sap.sbo.page.pad.settings.ChooseBoType"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Options:{},Public:{init:function(){t.sbo.ui.FrameViewController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{_oModel:void 0})},destory:function(){this._oModel.destroy(),this._oModel=null},initView:function(){var o=$.Deferred(),a={general:t.sbo.page.pad.settings.BoTypeHelper.getGeneralTypes(),decimal:t.sbo.page.pad.settings.BoTypeHelper.getDecimalTypes(),advance:t.sbo.page.pad.settings.BoTypeHelper.getAdvanceTypes()};return this._oModel=new t.core.JsonModel(a),this.$().setModel(this._oModel),this.$().process(e),o.resolve(),this.__addEvent(),o.promise()},destoryView:function(){this.$().unprocess()},update:function(){}},Protected:{__addEvent:function(){var e=this;this.$().on("vclick",".expander>.header",function(){"collapsed"==$(this).parent().attr("status")?$(this).parent().attr("status","expanded"):$(this).parent().attr("status","collapsed")}),this.$().on("vclick",".item",function(){e.closeFrame({data:t.sbo.page.pad.settings.BoTypeHelper.getTypeByKey($(this).attr("data"))})})}}})}),define("sap.sbo.page.pad.settings.ChooseEnumValues",["sap.ui.Controller","sap.core.JsonModel","sap.sbo.ui.FrameViewController","sap.core.klass","sap.ui.Repeat","sap.sbo.ui.widget.SliderButton","sap.sbo.localization.Helper","sap.sbo.page.pad.settings.SettingUtil","css!sap.sbo.page.pad.settings.ChooseEnumValues"],function(){"use strict";var e=this.getNS(),t=e.sap,o=t.sbo.localization.Helper,a=t.sbo.page.pad.settings.SettingUtil;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Options:{enumValues:{type:"any"}},Public:{init:function(){t.sbo.ui.FrameViewController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{_oModel:void 0,_mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),_buttonOnClickProxy:$.proxy(this.__buttonOnClickHandler,this)}),window.SboShell.addActionButtons([{text:o.get("common/SAVE"),key:"save"},{text:o.get("common/CANCEL"),key:"cancel"}],this),window.SboShell.attachEvent("actionButtonClick",this._buttonOnClickProxy)
},destroy:function(){this._oModel.destroy(),this._oModel=null,window.SboShell.detachEvent("actionButtonClick",this._buttonOnClickProxy)},initView:function(){var a=$.Deferred();SboShell.setOption({title:o.get("app/settings/CHOOSE_VALID_VALUES")});var i={enumValues:[],isDefault:!0};return this._oModel=new t.core.JsonModel(i),this.$().setModel(this._oModel),this.$().process(e),a.resolve(),this.__initEnumValues(),this.__addEvent(),a.promise()},destroyView:function(){this.$().unprocess()},update:function(){}},Protected:{__addEvent:function(){var e=this;$("#defaultSliderButton").getControl().attachEvent("change",function(){a.isDisableTable($("#enumValues-table"),e._oModel.getValue("enumValues"),!e._oModel.getValue("isDefault"),function(t){e._oModel.setValue("enumValues",t)})})},__buttonOnClickHandler:function(e){switch(e){case"save":SboShell.storeData("CustomerFieldData",this.__getValidValuesBeforeSave()),a.backToMainView("sap.sbo.page.pad.settings.UserDefinedFieldSetting",{boInfo:this._mViewInfo.storeParam.boInfo,operationType:"chooseValidValue"});break;case"cancel":a.backToMainView("sap.sbo.page.pad.settings.UserDefinedFieldSetting",{boInfo:this._mViewInfo.storeParam.boInfo,operationType:"chooseValidValue"})}},__initEnumValues:function(){var e=SboShell.getData("CustomerFieldData"),t=e.validValues.value.list,o=e.validValues.value.isDefault;this._oModel.setValue("isDefault",o);var i=SboShell.getData("BoProperty"),s=$.map(i.enumValues,function(e){var a=!1;return o||(a=0!=$.grep(t,function(t){return t.value==e.name}).length),{value:e.name,description:e.label,isSelected:a,isDisabled:o}});this._oModel.setValue("enumValues",s);var n=this;1==o&&a.isDisableTable($("#enumValues-table"),n._oModel.getValue("enumValues"),!n._oModel.getValue("isDefault"),function(e){n._oModel.setValue("enumValues",e)})},__getValidValuesBeforeSave:function(){var e=SboShell.getData("CustomerFieldData"),t=this._oModel.getValue("isDefault");e.validValues.value.isDefault=t,e.validValues.value.enable=!0;var o=this._oModel.getValue("enumValues");return e.validValues.value.list=$.map(o,function(e){return t?{value:e.value,displayValue:e.value,description:e.description}:e.isSelected?{value:e.value,displayValue:e.value,description:e.description}:void 0}),e.defaultValue.value.list=[],$(e.validValues.value.list).each(function(){e.defaultValue.value.list.push({key:this.value,text:this.value+" - "+this.description})}),e}}})}),define("sap.sbo.page.pad.settings.ChooseOriginators",["sap.core.JsonModel","sap.core.klass","sap.ui.Controller","sap.ui.Repeat","sap.util","sap.sbo.ui.widget.SliderButton","sap.sbo.ui.FrameViewController","sap.sbo.localization.Helper","sap.sbo.services.UserEmployeesService","sap.sbo.page.pad.settings.SettingUtil","css!sap.sbo.page.pad.settings.ChooseOriginators"],function(){"use strict";var e=this.getNS(),t=e.sap,o=t.sbo.localization.Helper,a=t.sbo.page.pad.settings.SettingUtil;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Public:{init:function(){t.sbo.ui.FrameViewController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{_oModel:void 0,_mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),_oUserEmpService:new t.sbo.services.UserEmployeesService,_fnButtonProxy:$.proxy(this._fnButtonHandler,this)}),window.SboShell.addActionButtons([{text:o.get("common/SAVE"),key:"save"},{text:o.get("common/CANCEL"),key:"cancel"}],this),window.SboShell.attachEvent("actionButtonClick",this._fnButtonProxy)},destroy:function(){this._oModel.destroy(),this._oModel=null,window.SboShell.detachEvent("actionButtonClick",this._fnButtonProxy)},initView:function(){var o=$.Deferred(),a={isDefault:!0,users:[]};this._oModel=new t.core.JsonModel(a),this.$().setModel(this._oModel),this.$().process(e);var i=this,s=$.Deferred();return t.util.showLoading(),$.when(this._oUserEmpService.query()).done(function(e){e&&e.value&&($(e.value).each(function(){a.users.push({employeeId:this.employeeID,name:this.displayName,position:this.jobTitle,firstName:this.firstName,lastName:this.lastName,isSelected:!1,isDisabled:!1})}),i._oModel.setValue("users",a.users),i.__initViewBeforeChoose()),s.resolve()}).fail(function(e){window.SboShell.raiseException(e),s.reject(e)}).always(function(){t.util.hideLoading()}),s.promise(),o.resolve(),this.__addEvent(),o.promise()},destroyView:function(){this.$().unprocess()},update:function(){}},Protected:{__addEvent:function(){var e=this;$("#defaultSliderButton").getControl().attachEvent("change",function(){a.isDisableTable($("#users-table"),e._oModel.getValue("users"),!e._oModel.getValue("isDefault"),function(t){e._oModel.setValue("users",t)})})},__initViewBeforeChoose:function(){var e=window.SboShell.getData("approvalSettingRecord");SboShell.setOption({subTitle:e.subTitle,title:o.get("app/appr/CHOOSEORIGINATORS")});var t=this;if(1==e.isDefault||0==e.users.length)a.isDisableTable($("#users-table"),this._oModel.getValue("users"),!1,function(e){t._oModel.setValue("users",e)});else{var i=this._oModel.getValue("users");$(i).each(function(){var t=this,o=$.grep(e.users,function(e){return t.employeeId==e.employeeId});0!=o.length&&(t.isSelected=!0)}),this._oModel.setValue("users",i),this._oModel.setValue("isDefault",!1)}},_fnButtonHandler:function(e){var t=this;switch(t._mViewInfo.storeParam.operationType="chooseOriginator",e){case"save":var o=window.SboShell.getData("approvalSettingRecord"),i=t._oModel.getValue("isDefault");if(i)o.users=[],o.isDefault=!0;else{o.isDefault=!1,o.users=[];var s=t._oModel.getValue("users");$(s).each(function(){1==this.isSelected&&o.users.push({employeeId:this.employeeId,name:this.name,position:this.position,firstName:this.firstName,lastName:this.lastName})})}window.SboShell.storeData("approvalSettingRecord",o),a.backToMainView("sap.sbo.page.pad.settings.ApprovalSetting",t._mViewInfo.storeParam);break;case"cancel":a.backToMainView("sap.sbo.page.pad.settings.ApprovalSetting",t._mViewInfo.storeParam)}}}})}),define("sap.sbo.page.pad.settings.CompanyProfile",["sap.core.JsonModel","sap.core.klass","sap.ui.Controller","sap.ui.widget.TextField","sap.ui.widget.Photo","sap.sbo.ui.widget.UploadButton","sap.sbo.ui.widget.PhotoPicker","sap.ui.widget.DropDownBox","sap.sbo.ui.FrameViewController","sap.sbo.localization.Helper","sap.sbo.page.pad.settings.SettingUtil","sap.sbo.util.formatter","sap.sbo.util.i18n","sap.util","sap.sbo.page.pad.settings.SettingUtil","sap.formatter","sap.sbo.services.BaseService","sap.sbo.services.CountriesService","sap.sbo.services.StatesService","sap.sbo.services.VatGroupsService","sap.sbo.compoundservices.AttachmentService","sap.sbo.services.CompanySettingsService","css!sap.sbo.page.pad.settings.CompanyProfile"],function(){"use strict";var e=this.getNS(),t=e.sap,o=t.sbo.localization.Helper,a=t.sbo.page.pad.settings.SettingUtil;return e.formatter={isZero:function(e){return 0===e},string_null:function(e,t){return"<<"===t?e||"":e},getUrl:function(){return".."+t.sbo.services.BaseService.documentbase+"file"}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Public:{init:function(){t.sbo.ui.FrameViewController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{_oModel:this.autoDestroy(new t.core.JsonModel({countries:[],states:{},taxGroups:[],statesInCountry:[],companyInfo:null})),_compoundservices:new t.sbo.services.BaseService,_oCompanyService:this.autoDestroy(new t.sbo.services.CompanySettingsService),_oCountryService:this.autoDestroy(new t.sbo.services.CountriesService),_oStateService:this.autoDestroy(new t.sbo.services.StatesService),_oVatGroupsService:this.autoDestroy(new t.sbo.services.VatGroupsService),_oAttachmentService:this.autoDestroy(new t.sbo.compoundservices.AttachmentService),_mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),__onUploadedProxy:$.proxy(this.__onUploaded,this),_fnButtonProxy:$.proxy(this._fnButtonHandler,this)}),window.SboShell.addActionButtons([{text:o.get("common/SAVE"),key:"save"},{text:o.get("common/CANCEL"),key:"cancel"}],this),window.SboShell.attachEvent("actionButtonClick",this._fnButtonProxy),SboShell.setOption({title:o.get("app/settings/COMPANYPROFILE")})},destroy:function(){window.SboShell.detachEvent("actionButtonClick",this._fnButtonProxy)},initView:function(){var o=$.Deferred();this._oModel.setValue("companyInfo",{name:"",country:null,state:null,city:"",street_firstline:"",street_secondline:"",zipCode:"",taxGroup:""}),this.$().setModel(this._oModel),this.$().process(e);var a=this;return t.util.showLoading(),$.when(a._oCountryService.query()).done(function(e){a._oModel.setValue("countries",e.value)}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading(),a.__initBeforeEdit()}),o.resolve(),this.__addEvent(),o.promise()},destroyView:function(){this.$().unprocess()},update:function(){}},Protected:{__addEvent:function(){var e=this;$("#uploadfile").getControl().attachEvent("uploadComplete",e.__onUploadedProxy),e._oModel.attachEvent("valueChanged",function(t,o){"companyInfo/country"===t&&"@UPDATE"===o&&e.__setStatesByCountry()})},__initBeforeEdit:function(){var e=this;t.util.showLoading(),$.when(this._oCompanyService.query()).done(function(t){if(t.value.length>=1){var o=t.value[0];e._oModel.setValue("companyInfo",{id:o.id,name:o.companyName,country:o.country,state:o.state,city:o.city,street_firstline:o.address1,street_secondline:o.address2,zipCode:o.zipCode,taxGroup:o.defaultTaxGroup}),e.__getCompanyLogo(o.id),e.__setTaxGroups()}e.__setStatesByCountry()}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()})},__setStatesByCountry:function(){var e=this;e._oModel.setValue("statesInCountry",[]);var t=e._oModel.getValue("companyInfo/country"),o=e._oModel.getValue("states/"+t);if(o)e._oModel.setValue("statesInCountry",o);else{var a={filter:"country eq '"+t+"'"};$.when(e._oStateService.query(a)).done(function(o){e._oModel.setValue("states/"+t,o.value),e._oModel.setValue("statesInCountry",o.value)})}},__setTaxGroups:function(){var e=this;e._oModel.setValue("taxGroups",[]),$.when(e._oVatGroupsService.query()).done(function(t){e._oModel.setValue("taxGroups",t.value)}),$.when(this._compoundservices.getPropertyMetadata("com.sap.sbo","CompanySetting",null,"defaultTaxGroup")).done(function(t){t&&e._oModel.setValue("isTaxEnabled",t.enabled)})},__onUploadFailed:function(e){console.log(e)},__getCompanyLogo:function(){var e=this,t=e._oModel.getValue("companyInfo/id");Number(t)>0&&$.when(this._oAttachmentService.getCompanyLogo(Number(t))).done(function(t){e._oModel.setValue("companyInfo/attachmentId",t.value)})},__onUploaded:function(e){var t=this,o=t._oModel.getValue("companyInfo/id");e&&Number(o)>0&&$.when(this._oAttachmentService.uploadCompanyLogo(Number(o),Number(e))).done(function(e){t._oModel.setValue("companyInfo/attachmentId",e.value)})},__checkBeforeSave:function(){var e=this._oModel.getValue("companyInfo");return a.isNullOrEmpty($("#name-box input"),e.name.trim(),o.get("app/settings/ERROR_FIELD_EMPTY",o.get("app/settings/COMPANYP_NAME")))?!0:!1},__getCompanyInfoBeforeSave:function(){var e=this._oModel.getValue("companyInfo");return{companyName:e.name.trim(),country:e.country,city:e.city,state:e.state,address1:e.street_firstline,address2:e.street_secondline,zipCode:e.zipCode,defaultTaxGroup:e.taxGroup}},_fnButtonHandler:function(e){var a=this;switch(e){case"save":if(!a.__checkBeforeSave())return!1;t.util.showLoading(),$.when(this._oCompanyService.update(a.__getCompanyInfoBeforeSave(),{id:a._oModel.getValue("companyInfo/id")})).done(function(){window.SboShell.backwardView(),window.SboShell.raiseMessage(o.get("app/settings/UPDATE_UDF_SUCCESS"),"success")}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()});break;case"cancel":window.SboShell.backwardView()}}}})}),define("sap.sbo.page.pad.settings.CustomizationView",["sap.ui.Controller","sap.core.klass","sap.core.JsonModel","sap.sbo.util.formatter","sap.formatter","sap.ui.Repeat","sap.ui.MessageBox","sap.ui.widget.Button","sap.sbo.ui.widget.SliderButton","sap.sbo.services.BaseService","sap.sbo.page.pad.settings.SettingUtil","sap.sbo.services.SystemPropertyExtensionsService","sap.sbo.services.UserPropertiesService","sap.sbo.localization.Helper","sap.log","css!sap.sbo.page.pad.settings.CustomizationView"],function(){"use strict";var e=this.getNS(),t=e.sap,o=t.sbo.localization.Helper,a=t.sbo.page.pad.settings.SettingUtil;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,Options:{boName:{type:"string"},boNamespace:{type:"string"},boNodeTypeName:{type:"string"}},Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{__viewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),__oModel:this.autoDestroy(new t.core.JsonModel({systemFields:[],userDefinedFields:[],subBos:[],enumDatas:[],associations:[]})),__baseService:this.autoDestroy(new t.sbo.services.BaseService),__UserPropService:this.autoDestroy(new t.sbo.services.UserPropertiesService),__SysPropService:this.autoDestroy(new t.sbo.services.SystemPropertyExtensionsService),__enumerations:void 0,__boNodeMeta:void 0,__nodeTypes:void 0})},destroy:function(){},initView:function(){SboShell.setOption("subTitle",t.sbo.localization.Helper.get("app/settings/ADVANCED_SETTINGS")),this.$().setModel(this.__oModel),this.$().process(e);var i=this,s=$.Deferred(),n=this.__viewInfo.storeParam,r=function(e){i.__oModel.setValue("systemFields",e.systemFields),i.__oModel.setValue("userDefinedFields",e.userDefinedFields),i.__oModel.setValue("subBos",e.subBos),i.__oModel.setValue("enumDatas",e.enumDatas),i.__oModel.setValue("associations",e.associations),s.resolve()};if(n.boNodeTypeName&&i.__viewInfo.otherParam){this.__boNodeMeta=i.__viewInfo.otherParam,SboShell.setOption("title",t.sbo.localization.Helper.get("app/settings/CUSTOMIZE")+" "+this.__boNodeMeta.label);var l=i.convertMetadata(i.__viewInfo.otherParam);r(l)}else $.when(i.__baseService.getMetadata(n.boNamespace,n.boName)).done(function(e){if(i.__boNodeMeta=e.nodeTypes.value[0],i.__nodeTypes=e.nodeTypes.value,n.boNodeTypeName)for(var o=e.nodeTypes.value,a=0,s=o.length;s>a;a++)o[a].name===n.boNodeTypeName&&(i.__boNodeMeta=o[a],i.__nodeTypes=[]);SboShell.setOption("title",t.sbo.localization.Helper.get("app/settings/CUSTOMIZE")+" "+i.__boNodeMeta.label);var l=i.convertMetadata(i.__boNodeMeta);l.subBos=i.getSubBosData(i.__nodeTypes),l.enumDatas=e.enumerations.value,r(l)}).fail(function(){s.reject()});return this.$().on("vclick",".subBo-link",function(e){for(var t=e.target.parentNode.getAttribute("sub-node-name"),o=i.__nodeTypes,a=0;o.length>a;a++)if(t===o[a].name){var s=i.__viewInfo.storeParam;o[a].enumDatas=i.__oModel.getValue("enumDatas"),SboShell.gotoView("sap.sbo.page.pad.settings.SubBoCustomizationView",{boName:s.boName,boNamespace:s.boNamespace,boNodeTypeName:t},o[a]);break}}),this.$().on("vclick","#add-new-field",function(){SboShell.gotoView("sap.sbo.page.pad.settings.UserDefinedFieldSetting",{boInfo:$.extend(i.__viewInfo.storeParam,{label:i.__boNodeMeta.label}),operationType:"add"})}),this.$().on("vclick",".field-link",function(e){var t=e.target.parentNode.getAttribute("fieldId"),o=i.getFieldMeta(i.__boNodeMeta,t),a=i.__oModel.getValue("enumDatas");a&&$(a).each(function(){o.baseType==this.name&&(o.enumValues=this.members.value)}),SboShell.storeData("BoProperty",o);var s=i.__getSimpleBoInfo(o);null==s?SboShell.gotoView("sap.sbo.page.pad.settings.UserDefinedFieldSetting",{boInfo:$.extend(i.__viewInfo.storeParam,{label:i.__boNodeMeta.label}),operationType:"edit"}):SboShell.gotoView("sap.sbo.page.pad.settings.SimpleBoFieldDefinedSetting",{boInfo:$.extend(i.__viewInfo.storeParam,{label:i.__boNodeMeta.label}),simpleBo:{boName:s.targetBOName,boNamesapce:s.targetBONamespace}})}),this.$().on("vclick",".icon-remove",function(e){$.when(t.ui.MessageBox.show({message:t.sbo.localization.Helper.get("common/DELETE_NOTIFY"),title:t.sbo.localization.Helper.get("common/INFO"),icon:"warning",buttons:[{key:"yes",text:t.sbo.localization.Helper.get("common/OK")},{key:"no",text:t.sbo.localization.Helper.get("common/CANCEL")}]})).done(function(t){if("yes"==t){var s=e.target.parentNode.getAttribute("fieldId"),n=i.__viewInfo.storeParam.boName;a.popupBeforeSaveProperty(n,{message:o.get("app/settings/DOCUMENT_DELETEUDF"),title:o.get("common/INFO")},function(){i.processDeletion(s,i.__UserPropService,function(){for(var e=i.__oModel.getValue("userDefinedFields"),t=0;e.length>t;t++)if(s===e[t].name){e.splice(t,1),i.__oModel.setValue("userDefinedFields",e);break}})})}})}),this.$("#sys-fields-table").getControl().attachEvent("afterUpdate",function(){this.$(".slider-button").each(function(){$(this).getControl().attachEvent("change",function(){var e=this.$(),t=e.parents("div[fieldId]").attr("fieldId"),s=i.__viewInfo.storeParam.boName,n=this;a.popupBeforeSaveProperty(s,{message:o.get("app/settings/DOCUMENT_UPDATEUDF"),title:o.get("common/INFO")},function(){i.processUpdate({name:t,enabled:n.getOption("value")},i.__SysPropService)})})})}),this.$("#udf-fields-table").getControl().attachEvent("afterUpdate",function(){this.$(".slider-button").each(function(){$(this).getControl().attachEvent("change",function(){var e=this.$(),t=e.parents("div[fieldId]").attr("fieldId"),s=i.__viewInfo.storeParam.boName,n=this;a.popupBeforeSaveProperty(s,{message:o.get("app/settings/DOCUMENT_UPDATEUDF"),title:o.get("common/INFO")},function(){i.processUpdate({name:t,enabled:n.getOption("value")},i.__UserPropService)})})})}),s.promise()},destroyView:function(){this.$().unprocess(e)}},Protected:{convertMetadata:function(e){for(var t={systemFields:[],userDefinedFields:[],subBos:[],enumDatas:[],associations:[]},o=e.properties.value,a=0;o.length>a;a++){var i=o[a];if(!i.aggregatedProperty&&(i.customizable||i.enabled)){var s=this.convertField(i);i.userDefined?t.userDefinedFields.push(s):t.systemFields.push(s)}}return t.enumDatas=e.enumDatas,t.associations=e.associations.value,t},getSubBosData:function(e){for(var t=[],o=1;e.length>o;o++)if(e[o].customizable){var a={name:e[o].name,displayName:e[o].label?e[o].label:e[o].name,fieldCount:this.countVisibleFields(e[o].properties.value)};t.push(a)}return t},countVisibleFields:function(e){var t=0;return $.each(e,function(){this.aggregatedProperty||!this.customizable&&!this.enabled||t++}),t},getFieldMeta:function(e,t){for(var o=e.properties.value,a=0;o.length>a;a++)if(t===o[a].name)return o[a]},convertField:function(e){var t={};return t.name=e.name,t.displayName=e.label?e.label:e.name,t.type=e.type,t.validationDesc="None",t.enabled=e.enabled,t.mandatory=e.mandatory||!e.allowChangeEnable,t},processDeletion:function(e,t,a){var i=$.extend({propertyName:e},this.__viewInfo.storeParam);$.when(t.query(this.__getFilterParam(i))).done(function(e){$.when(t["delete"](e.value[0])).done(function(){"function"==typeof a&&a(),window.SboShell.raiseMessage(o.get("app/settings/DELETE_UDF_SUCCESS"),"success")}).fail(function(){})}).fail(function(){})},processUpdate:function(e,t,a){var i=this,s=$.extend({propertyName:e.name},i.__viewInfo.storeParam);$.when(t.query(i.__getFilterParam(s))).done(function(s){var n=null;if(0==s.value.length){var r=$.extend(e,i.__viewInfo.storeParam);n=function(){return t.create(r)}}else n=function(){return t.update(e,s.value[0])};$.when(n()).done(function(){"function"==typeof a&&a(),window.SboShell.raiseMessage(o.get("app/settings/UPDATE_UDF_SUCCESS"),"success")}).fail(function(){})}).fail(function(){})},__getFilterParam:function(e){var t=e.boNodeTypeName,o="boName eq '"+e.boName+"'",a="boNamespace eq '"+e.boNamespace+"'",i="name eq '"+e.propertyName+"'",s="";s=t?"boNodeTypeName eq '"+t+"'":"boNodeTypeName eq null";var n={filter:a+" and "+o+" and "+s+" and "+i};return n},__getSimpleBoInfo:function(e){var t=this.__oModel.getValue("associations"),o=null;return $(t).each(function(){this.settingObject&&this.associationRef.name==e.name&&(o=this)}),o}},Static:{}})}),define("sap.sbo.page.pad.settings.DecimalSettings",["sap.sbo.ui.PageController","sap.ui.Controller","sap.core.klass","sap.core.JsonModel","sap.ui.widget.TextField","sap.sbo.localization.Helper","sap.ui.Repeat","sap.log","sap.sbo.services.DecimalSettingsService","sap.sbo.compoundservices.SettingsService","sap.sbo.ui.widget.DecimalInputField","sap.sbo.ui.widget.DecimalLabel","css!sap.sbo.page.pad.settings.DecimalSettings"],function(){"use strict";var e=this.getNS(),t=e.sap,o=t.sbo.localization.Helper,a=$("body").getModel("globalSettings");return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.PageController,Options:{},Public:{init:function(){t.sbo.ui.PageController.prototype.init.apply(this,arguments);var e={decimalSeparator:".",thousandsSeparator:",",decimalTypes:[]};t.core.klass.declareMember(this,{__oModel:this.autoDestroy(new t.core.JsonModel(e)),__oService:this.autoDestroy(new t.sbo.services.DecimalSettingsService),__settingService:this.autoDestroy(new t.sbo.compoundservices.SettingsService),__buttonOnClickProxy:$.proxy(this.__buttonOnClickHandler,this),__oDecimalTypes:e.decimalTypes}),window.SboShell.addActionButtons([{text:o.get("common/SAVE"),key:"save"},{text:o.get("common/CANCEL"),key:"cancel"}],this),window.SboShell.attachEvent("actionButtonClick",this.__buttonOnClickProxy)},destroy:function(){window.SboShell.detachEvent("actionButtonClick",this.__buttonOnClickProxy),this.$().unprocess(e)},initView:function(){var t=this;t.setTitle(o.get("app/settings/HOME_DECIMAL")),this.$().on("vclick",".subtraction",function(e){var o=e.target.getAttribute("data-sap-domid"),i=t.$(".subtraction[data-sap-domid="+o+"]").siblings(".slider").children(".color-progress"),s=i.attr("data-sap-digitnum"),n=parseInt(s);if(n>0)for(var r=t.__oModel.getValue("decimalTypes"),l=i.attr("data-sap-typeid"),d=0;r.length>d;d++)if(l==r[d].id){r[d].decimalPlace=n-1,$.when(t.__oService.update(r[d],r[d])).done(function(){a.setValue("types/"+r[d].type+"/DecimalPlace",r[d].decimalPlace),t.__oModel.setValue("decimalTypes/"+d+"/decimalPlace",r[d].decimalPlace);var e=100*(r[d].decimalPlace/6);i.css({width:e+"%"})}).fail(function(e){window.SboShell.raiseException(e)});break}}),this.$().on("vclick",".addition",function(e){var o=e.target.getAttribute("data-sap-domid"),i=t.$(".addition[data-sap-domid="+o+"]").siblings(".slider").children(".color-progress"),s=i.attr("data-sap-digitnum"),n=parseInt(s);if(6>n)for(var r=t.__oModel.getValue("decimalTypes"),l=i.attr("data-sap-typeid"),d=0;r.length>d;d++)if(l==r[d].id){r[d].decimalPlace=n+1,$.when(t.__oService.update(r[d],r[d])).done(function(){a.setValue("types/"+r[d].type+"/DecimalPlace",r[d].decimalPlace),t.__oModel.setValue("decimalTypes/"+d+"/decimalPlace",r[d].decimalPlace);var e=100*(r[d].decimalPlace/6);i.css({width:e+"%"})}).fail(function(e){window.SboShell.raiseException(e)});break}});var i=$.Deferred();return $.when(t.__oService.query()).done(function(o){if(o&&o.value){var s=[];$(o.value).each(function(){"Rate"!=this.type&&s.push(this)});for(var n={isNew:!1,isUserDefined:!1},r=0;s.length>r;r++)$.extend(s[r],n);t.__oDecimalTypes=s,t.__oModel.setValue("decimalTypes",s),t.__oModel.setValue("decimalSeparator",a.getValue("separators/DecimalSeparator")),t.__oModel.setValue("thousandsSeparator",a.getValue("separators/ThousandsSeparator")),t.$().setModel(t.__oModel),t.$().process(e),t.$("#decimalTypeList").getControl().attachEvent("afterUpdate",function(){t.$(".color-progress").each(function(){var e=$(this).attr("data-sap-digitnum");if(e){var t=100*(e/6);$(this).css({width:t+"%"})}})})}i.resolve(!0)}).fail(function(e){window.SboShell.raiseException(e),i.reject(e)}),i.promise()},destroyView:function(){this.$().unprocess(e)}},Protected:{__buttonOnClickHandler:function(e){if("save"===e){var t=this.__oModel.getValue("decimalSeparator"),i=this.__oModel.getValue("thousandsSeparator");$.when(this.__settingService.SetSeparators(t,i)).done(function(){a.setValue("separators",{DecimalSeparator:t,ThousandsSeparator:i}),window.SboShell.backwardView(),window.SboShell.raiseMessage(o.get("app/settings/UPDATE_UDF_SUCCESS"),"success")}).fail(function(e){window.SboShell.raiseException(e)})}else"cancel"===e&&(this.__oModel.setValue("decimalSeparator",a.getValue("separators/DecimalSeparator")),this.__oModel.setValue("thousandsSeparator",a.getValue("separators/ThousandsSeparator")),window.SboShell.backwardView())},__oUpdateType:function(e,t){var o=new jQuery.Deferred;return $.when(t.update(e,e)).done(function(e){o.resolve(e)}).fail(function(e){o.reject(e)}),o.promise()}},Static:{}})}),define("sap.sbo.page.pad.settings.DOConfigSettings",["sap.sbo.ui.PageController","sap.core.klass","sap.ui.Controller","sap.core.JsonModel","sap.ui.widget.Slider","sap.sbo.ui.Loop","sap.sbo.localization.Helper","sap.sbo.ui.widget.SliderButton","sap.sbo.compoundservices.DataOwnershipService","css!sap.sbo.page.pad.settings.DOConfigSettings"],function(){"use strict";var e=this.getNS(),t=e.sap,o=[{boCode:"2",boName:t.sbo.localization.Helper.get("common/CUSTOMER_NAME"),theme:"#BA6EFF"},{boCode:"11",boName:t.sbo.localization.Helper.get("common/CONTACT_NAME"),theme:"#FDE200"},{boCode:"J0001",boName:t.sbo.localization.Helper.get("app/lead/LEADS"),theme:"#FFBC16"},{boCode:"97",boName:t.sbo.localization.Helper.get("app/oppo/OPPORTUNITIES"),theme:"#FF4940"},{boCode:"23",boName:t.sbo.localization.Helper.get("common/QUOTATIONS_NAME"),theme:"#26B6FF"},{boCode:"17",boName:t.sbo.localization.Helper.get("common/ORDERS_NAME"),theme:"#EB6E90"}];return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.PageController,Public:{init:function(){t.sbo.ui.PageController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{__oModel:null,__boList:null,__service:this.autoDestroy(new t.sbo.compoundservices.DataOwnershipService),__enablement:!1})},destroy:function(){},initView:function(){var a=this,i=$.Deferred();return a.setTitle(t.sbo.localization.Helper.get("app/settings/OWNER/TITLE")),$.when(this.__service.isDataOwnershipEnabled(),this.__service.getBODataOwnershipConf()).done(function(s,n){a.__enablement=s.value,a.__enablement&&$(".BO_config").css({height:"450px"});for(var r=[],l=0,d=o.length;d>l;l++){for(var p={},c=0,u=n.value.length;u>c;c++)if(n.value[c].objectCode==o[l].boCode){p=n.value[c];break}p.boName=o[l].boName,p.color=o[l].theme,r.push(p)}a.__oModel=new t.core.JsonModel({enable:a.__enablement}),a.__boList=new t.core.JsonModel({value:r}),a.$().setModel(a.__oModel,"do"),a.$().setModel(a.__boList,"boList"),$.when(a.$().process(e)).done(function(){$(".item",a.$()).on("vclick",function(){var e=$(this).attr("data-sap-boCode"),t=a.__boList.getValue("value"),o=null,i=0;for(d=t.length;d>i;i++)if(t[i].objectCode==e){if(!t[i].active)return;o=t[i].boName;break}window.SboShell.gotoView("sap.sbo.page.pad.settings.BODataOwnershipConfig",{boCode:e,boName:o})}),$('[data-sap-widget="sap.sbo.ui.widget.SliderButton"]').on("vclick",function(e){e.preventDefault(),e.stopPropagation()}),$('.do_container  [data-sap-widget="sap.sbo.ui.widget.SliderButton"]',a.$()).getControl().attachEvent("change",function(){var e,o=[];this.$().getControl(),a.__enablement=a.__oModel.getValue("enable"),o.push({key:"cancel",text:t.sbo.localization.Helper.get("common/CANCEL")}),a.__enablement?(e=t.sbo.localization.Helper.get("app/settings/OWNER/REM/EN"),o.push({key:"enable",text:t.sbo.localization.Helper.get("app/settings/ENABLE")})):(e=t.sbo.localization.Helper.get("app/settings/OWNER/REM/DIS"),o.push({key:"disable",text:t.sbo.localization.Helper.get("app/settings/DISABLE")})),$.when(window.SboShell.raiseMessage(e,"warning",o)).done(function(e){e&&"cancel"==e?$('[data-sap-widget="sap.sbo.ui.widget.SliderButton"]',a.$()).getControl().setOption("value",!a.__enablement):$.when(a.__service.enableDataOwnership(a.__enablement)).done(function(){a.__enablement?($(".BO_config").css({height:"450px"}),window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/settings/OWNER/ENL"),"success")):($(".BO_config").css({height:"0px"}),window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/settings/OWNER/DIS"),"success"))})})}),$('.BO_config [data-sap-widget="sap.sbo.ui.widget.SliderButton"]',a.$()).each(function(){$(this).getControl().attachEvent("change",function(){var e,o,i=[];this.$().getControl();var s=this,n=null,r=this.$().parent().parent().attr("data-sap-boCode"),l=a.__boList.getValue("value"),p=0;for(d=l.length;d>p;p++)if(l[p].objectCode==r){o=l[p].active,n=l[p].boName;break}i.push({key:"cancel",text:t.sbo.localization.Helper.get("common/CANCEL")}),o?(e=t.sbo.localization.Helper.get("app/settings/OWNER/BO/EN",n),i.push({key:"enable",text:t.sbo.localization.Helper.get("app/settings/ENABLE")})):(e=t.sbo.localization.Helper.get("app/settings/OWNER/BO/DIS",n),i.push({key:"disable",text:t.sbo.localization.Helper.get("app/settings/DISABLE")})),$.when(window.SboShell.raiseMessage(e,"warning",i)).done(function(e){e&&"cancel"==e?s.$().getControl().setOption("value",!o):$.when(a.__service.setBODataOwnershipConf([{objectCode:r,active:o}])).done(function(){o?window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/settings/BO/EN/SUC",n),"success"):window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/settings/BO/DIS/SUC",n),"success")}).fail(function(){s.$().getControl().setOption("value",!o)})})})}),i.resolve()})}).fail(function(){i.resolve()}),i.promise()},destroyView:function(){this.$().unprocess(e)}},Protected:{__getBOMeta:function(e){for(var t=0,a=o.length;a>t;t++)if(o[t].boCode===e)return o[t]},__showConfirmDialog:function(){}},Static:{}})}),define("sap.sbo.page.pad.settings.PriceListView",["sap.core.JsonModel","sap.core.klass","sap.ui.Controller","sap.ui.Repeat","sap.sbo.ui.widget.SliderButton","sap.sbo.ui.FrameViewController","sap.sbo.localization.Helper","sap.sbo.util.formatter","sap.util","sap.sbo.page.pad.settings.SettingUtil","sap.sbo.services.PriceListsService","css!sap.sbo.page.pad.settings.PriceListView"],function(){"use strict";var e=this.getNS(),t=e.sap,o=t.sbo.localization.Helper,a=t.sbo.page.pad.settings.SettingUtil;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Public:{init:function(){t.sbo.ui.FrameViewController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{_oModel:void 0,_mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),_oService:this.autoDestroy(new t.sbo.services.PriceListsService),_fnButtonProxy:$.proxy(this._fnButtonHandler,this)}),SboShell.setOption({title:o.get("app/settings/PLURAL_PRICE"),subTitle:o.get("app/settings/PRODUCTS_TITLE")})},destroy:function(){this._oModel.destroy(),this._oModel=null},initView:function(){var o=$.Deferred(),i={priceList:[]};this._oModel=new t.core.JsonModel({data:i}),this.$().setModel(this._oModel),this.$().process(e);var s=this;return t.util.showLoading(),$.when(s._oService.query()).done(function(e){var t=[];e&&e.value&&(0==e.value.length?$("#priceList-table").css("display","none"):$(e.value).each(function(){var e={};e.priceListName=this.priceListName,e.priceListNo=this.priceListNo,e.active=a.getBooleanValueByKey(this.active),e.groupNum=this.groupNum,e.isGrossPrice=a.getBooleanValueByKey(this.isGrossPrice),e.validFrom=this.validFrom,e.validTo=this.validTo,e.restricted=a.getRestrictedByKey(this.groupNum),t.push(e)})),s._oModel.setValue("data/priceList",t)}).fail(function(){}).always(function(){t.util.hideLoading()}),o.resolve(),this.__addEvent(),o.promise()},destroyView:function(){this.$().unprocess()},update:function(){}},Protected:{__addEvent:function(){var e=this;this.$().on("vclick","#priceList-table .table-row .goto-icon",function(){var t=$("#priceList-table .table-row").index($(this).parent(".table-row")),o=e._oModel.getValue("data/priceList")[t];e._mViewInfo.storeParam.operationType="edit",SboShell.storeData("priceSettingRecord",o),SboShell.gotoView("sap.sbo.page.pad.settings.PriceSetting",e._mViewInfo.storeParam)
}),$("#addPriceSettingLink").on("vclick",function(){e._mViewInfo.storeParam.operationType="add",SboShell.gotoView("sap.sbo.page.pad.settings.PriceSetting",e._mViewInfo.storeParam)}),this.$().on("vclick",".delete-icon",function(){var t=$("#priceList-table .table-row").index($(this).parents(".table-row")),i=e._oModel.getValue("data/priceList");a.removeAt(i,t,{title:o.get("common/INFO"),message:o.get("app/settings/DELETE_PRICE_WARN"),success:o.get("app/settings/DELETE_PRICE_SUCC")},e._oService,{priceListNo:i[t].priceListNo},function(t){e._oModel.setValue("data/priceList",t)})}),this.$("#priceList-table").getControl().attachEvent("afterUpdate",function(){this.$("div[data-sap-widget='sap.sbo.ui.widget.SliderButton']").each(function(){var i=$(this);$(this).getControl().attachEvent("change",function(){var s=$("#priceList-table .table-row").index(i.parents(".table-row")),n=e._oModel.getValue("data/priceList")[s];n.active=a.getKeyByBooleanValue(n.active),n.isGrossPrice=a.getKeyByBooleanValue(n.isGrossPrice),$.when(e._oService.update(n,{priceListNo:n.priceListNo})).done(function(){window.SboShell.raiseMessage(o.get("app/settings/UPDATE_SF_SUCCESS"),"success")}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading(),n.active=a.getBooleanValueByKey(n.active),n.isGrossPrice=a.getBooleanValueByKey(n.isGrossPrice)})})})})}}})}),define("sap.sbo.page.pad.settings.PriceSetting",["sap.core.JsonModel","sap.core.klass","sap.ui.Controller","sap.ui.widget.TextField","sap.sbo.ui.widget.DateTimeField","sap.sbo.ui.widget.SliderButton","sap.sbo.ui.FrameViewController","sap.sbo.localization.Helper","sap.sbo.util.i18n","sap.util","sap.sbo.util.formatter","sap.sbo.page.pad.settings.SettingUtil","sap.sbo.services.PriceListsService","sap.sbo.services.BaseService","css!sap.sbo.page.pad.settings.PriceSetting"],function(){"use strict";var e=this.getNS(),t=e.sap,o=t.sbo.localization.Helper,a=t.sbo.page.pad.settings.SettingUtil;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Public:{init:function(){t.sbo.ui.FrameViewController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{_oModel:void 0,_mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),_compoundservices:new t.sbo.services.BaseService,_oService:this.autoDestroy(new t.sbo.services.PriceListsService),_fnButtonProxy:$.proxy(this._fnButtonHandler,this)}),window.SboShell.addActionButtons([{text:o.get("common/SAVE"),key:"save"},{text:o.get("common/CANCEL"),key:"cancel"}],this),window.SboShell.attachEvent("actionButtonClick",this._fnButtonProxy)},destroy:function(){this._oModel.destroy(),this._oModel=null,window.SboShell.detachEvent("actionButtonClick",this._fnButtonProxy)},initView:function(){var o=$.Deferred(),a={priceListName:null,restricted:!1,isGrossPrice:!1,isGrossPrice_enable:!1,active:!1,validFrom:null,validTo:null};this._oModel=new t.core.JsonModel({data:a}),this.$().setModel(this._oModel),this.$().process(e);var i=this._mViewInfo.storeParam;switch(i.operationType){case"add":this.__InitViewBeforeAdd();break;case"edit":this.__InitViewBeforeEdit()}var s=this;return t.util.showLoading(),$.when(this._compoundservices.getPropertyMetadata("com.sap.sbo","PriceList",null,"isGrossPrice")).done(function(e){e&&s._oModel.setValue("data/isGrossPrice_enable",e.enabled)}).fail(function(){}).always(function(){t.util.hideLoading()}),o.resolve(),o.promise()},destroyView:function(){this.$().unprocess()},update:function(){}},Protected:{__InitViewBeforeAdd:function(){SboShell.setOption({title:o.get("app/settings/PRICE_ADD"),subTitle:o.get("app/settings/PLURAL_PRICE")})},__InitViewBeforeEdit:function(){var e=SboShell.getData("priceSettingRecord");this._oModel.setValue("data",e),SboShell.setOption({title:o.get("app/settings/PRICE_Edit"),subTitle:o.get("app/settings/PLURAL_PRICE")})},_fnButtonHandler:function(e){switch(e){case"save":if(!this.__checkBeforeSave())return;var i=this._oModel.getValue("data"),s={};s.priceListName=i.priceListName,s.validFrom=i.validFrom,s.validTo=i.validTo,s.active=a.getKeyByBooleanValue(i.active),s.isGrossPrice=a.getKeyByBooleanValue(i.isGrossPrice),s.validFrom=i.validFrom,s.validTo=i.validTo,s.groupNum=a.getKeyByRestricted(i.restricted);var n=this;i.priceListNo?(s.priceListNo=i.priceListNo,$.when(n._oService.update(s,{priceListNo:i.priceListNo})).done(function(){window.SboShell.gotoView("sap.sbo.page.pad.settings.PriceListView",n._mViewInfo.storeParam),window.SboShell.raiseMessage(o.get("app/settings/UPDATE_SF_SUCCESS"),"success")}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()})):(t.util.showLoading(),$.when(this._oService.create(s)).done(function(){SboShell.removeData("approvalSettingRecord"),delete n._mViewInfo.storeParam.operationType,a.backToMainView("sap.sbo.page.pad.settings.PriceListView",n._mViewInfo.storeParam),window.SboShell.raiseMessage(o.get("app/settings/ADD_PRICE_SUCC"),"success")}).fail(function(){}).always(function(){t.util.hideLoading()}));break;case"cancel":SboShell.removeData("approvalSettingRecord"),delete this._mViewInfo.storeParam.operationType,a.backToMainView("sap.sbo.page.pad.settings.PriceListView",this._mViewInfo.storeParam)}},__checkBeforeSave:function(){var e=this._oModel.getValue("data");return a.isNullOrEmpty($("#settingName-input"),e.priceListName,o.get("app/settings/ERROR_FIELD_EMPTY",o.get("app/settings/NAME")))?!0:!1}}})}),define("sap.sbo.page.pad.settings.SettingsHomeView",["sap.core.JsonModel","sap.ui.Controller","sap.log","sap.sbo.localization.Helper","sap.util","json!sap.sbo.page.pad.settings.settings-ui-meta","css!sap.sbo.page.pad.settings.SettingsHomeView"],function(){"use strict";var e=this.getNS(),t=e.sap,o=e.json.sap.sbo.page.pad.settings["settings-ui-meta"];return SboShell.storeData("settingMeta",o),t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,Public:{init:function(){t.ui.Controller.prototype.init.apply(this,arguments),this.declareMember({__model:this.autoDestroy(new t.core.JsonModel(o))})},destroy:function(){},initView:function(){var a=t.util.isTouch()||"desktop"!==SboShell.callFeatureMethod("shell.getDeviceType");a&&this.$("#settings-dataMigration").hide(),SboShell.setOption("title",t.sbo.localization.Helper.get("common/SETTINGS")),this.$().setModel(this.__model),this.$().process(e),this.$().on("vclick",".settings-item-link",function(e){var t=e.target.getAttribute("setting-id"),a=o[t].settingView||"sap.sbo.page.pad.settings.BoSettingTemplate";SboShell.gotoView(a,{settingId:t})});var i=new $.Deferred;return i.resolve(),i.promise()},destroyView:function(){this.$().unprocess(e)}},Static:{},Protected:{}})}),define("sap.sbo.page.pad.settings.SettingUtil",["sap.core.JsonModel","sap.core.klass","sap.sbo.util.formatter","sap.sbo.localization.Helper","sap.ui.MessageBox","sap.util","sap.sbo.util.i18n","json!sap.sbo.util.enums"],function(){"use strict";var e=this.getNS(),t=e.sap,o=t.sbo.localization.Helper,a=[{key:"String",text:o.get("app/settings/GENERAL_TEXT"),category:"text",decimalPlace:0},{key:"Text",text:o.get("app/settings/GENERAL_LONGTEXT"),category:"text",decimalPlace:0},{key:"DateTime",text:o.get("app/settings/GENERAL_DATETIME"),category:"date",decimalPlace:0},{key:"Integer",text:o.get("app/settings/GENERAL_NUMBER"),category:"text",decimalPlace:0},{key:"BoYesNoEnum",text:o.get("app/settings/GENERAL_YES_NO"),category:"BoYesNoEnum",decimalPlace:0},{key:"Email",text:o.get("app/settings/ADVANCE_EMAIL"),category:"advance",decimalPlace:0},{key:"Phone",text:o.get("app/settings/ADVANCE_PHONE"),category:"advance",decimalPlace:0},{key:"Link",text:o.get("app/settings/ADVANCE_HYPERLINK"),category:"advance",decimalPlace:0}];return{getBasicTypes:function(){return a},getBooleanValueByKey:function(t){return t==e.json.sap.sbo.util.enums.bool.Yes?!0:!1},getKeyByBooleanValue:function(t){return 1==t?e.json.sap.sbo.util.enums.bool.Yes:e.json.sap.sbo.util.enums.bool.No},getRestrictedByKey:function(t){return t==e.json.sap.sbo.util.enums.boPriceListGroupNum.Group2?!0:!1},getKeyByRestricted:function(t){return 1==t?e.json.sap.sbo.util.enums.boPriceListGroupNum.Group2:e.json.sap.sbo.util.enums.boPriceListGroupNum.Group1},date_String:function(e,o){if(null==e)return null;if("<<"==o){var a=t.sbo.util.formatter.date_JODATime(e,"<<"),i=a.getFullYear(),s=a.getMonth()+1,n=a.getDate();return 1==(""+s).length&&(s="0"+s),1==(""+n).length&&(n="0"+n),i+"-"+s+"-"+n}return e},decimal_String:function(e,o,a){if("<<"==a){var i=+o,s=$("body").getModel("globalSettings"),n=s.getValue("separators"),r={decimalSeparator:n.DecimalSeparator,thousandsSeparator:n.ThousandsSeparator,decimalNum:e.decimalPlace,removeLastZeros:!1};return t.sbo.util.i18n.formatDecimalStr(i,r)}return o},realValue_String:function(e,t,o){switch(e.category){case"date":return this.date_String(t,o);case"decimal":return this.decimal_String(e,t,o)}return t},isNullOrEmpty:function(e,t,o){return null==t||""==t?(e.parent(".box").addClass("isError"),window.SboShell.raiseMessage(o),!1):(e.parent(".box").removeClass("isError"),!0)},__getODataQueryParam:function(e,t){var o=e.boNodeTypeName,a="boName eq '"+e.boName+"'",i="boNamespace eq '"+e.boNamespace+"'",s="name eq '"+t+"'",n="";n=o?"boNodeTypeName eq '"+o+"'":"boNodeTypeName eq null";var r={filter:i+" and "+a+" and "+n+" and "+s};return r},removeAt:function(e,a,i,s,n,r){$.when(t.ui.MessageBox.show({message:i.message,title:i.title,icon:"information",buttons:[{key:"yes",text:o.get("common/DELETE")},{key:"no",text:o.get("common/CANCEL")}]})).done(function(o){"yes"==o&&(t.util.showLoading(300),$.when(s["delete"](n)).done(function(){window.SboShell.raiseMessage(i.success,"success"),e.splice(a,1),r(e)}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()}))})},popupBeforeSaveProperty:function(e,a,i){"Quotation"==e||"Order"==e?$.when(t.ui.MessageBox.show({message:a.message,title:a.title,icon:"information",buttons:[{key:"yes",text:o.get("common/OK")}]})).done(function(e){"yes"==e&&i()}):i()},createProperty:function(e,o,a,i){t.util.showLoading(300),$.when(e.create(o)).done(function(){i(),window.SboShell.raiseMessage(a.success,"success")}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()})},updateProperty:function(e,o,a,i,s){t.util.showLoading(300),$.when(e.update(a,o)).done(function(){s(),window.SboShell.raiseMessage(i.success,"success")}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()})},deleteProperty:function(e,o,a,i){t.util.showLoading(300),$.when(e.query(o)).done(function(o){0!=o.value.length?$.when(e["delete"](o.value[0])).done(function(){window.SboShell.raiseMessage(a.success,"success"),i()}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){t.util.hideLoading()}):(window.SboShell.raiseMessage(a.success,"success"),i(),t.util.hideLoading())}).fail(function(e){window.SboShell.raiseException(e),t.util.hideLoading()})},queryAndUpdateProperty:function(e,o,a,i,s){var n=this;t.util.showLoading(),$.when(e.query(o)).done(function(t){0!=t.value.length?n.updateProperty(e,t.value[0],a,i,s):window.SboShell.raiseMessage(i.notexist)}).fail(function(e){window.SboShell.raiseException(e),t.util.hideLoading()}).always(function(){t.util.hideLoading()})},saveSystemProperty:function(e,o,a,i,s){var n=this;t.util.showLoading(300),$.when(e.query(o)).done(function(t){0==t.value.length?n.createProperty(e,a,{success:i.add},s):n.updateProperty(e,t.value[0],a,{success:i.update},s)}).fail(function(e){window.SboShell.raiseException(e),t.util.hideLoading()}).always(function(){t.util.hideLoading()})},gotoTabByIndex:function(e,t){e.children(".tab-header").children(".tab-header-item").each(function(e){e==t?$(this).addClass("sap-ui-tab-selected"):$(this).removeClass("sap-ui-tab-selected")}),e.children(".tab-content").children(".tab-content-item").each(function(e){e==t?$(this).addClass("sap-ui-tab-selected"):$(this).removeClass("sap-ui-tab-selected")})},isDisableTable:function(e,t,o,a){o?(e.removeClass("disable"),$(t).each(function(){this.isDisabled=!1})):(e.addClass("disable"),$(t).each(function(){this.isSelected=!1,this.isDisabled=!0})),a(t)},backToMainView:function(e,t,o){window.SboShell.gotoView(e,t,o),window.SboShell.__iHistoryIndex>1?(window.SboShell.__iHistoryIndex-=2,window.SboShell.__aViewHistory.splice(window.SboShell.__iHistoryIndex,2)):(window.SboShell.__iHistoryIndex-=1,window.SboShell.__aViewHistory.splice(window.SboShell.__iHistoryIndex,1))},checkDecimalValue:function(e,t){return e.getControl().__bShowError?(window.SboShell.raiseMessage(o.get("app/settings/DECIMAL_ERROR",e.val())),!1):""==e.val()?(e.parent(".box").addClass("isError"),window.SboShell.raiseMessage(t),!1):(e.parent(".box").removeClass("isError"),!0)}}}),define("sap.sbo.page.pad.settings.SimpleBoCreation",["require","sap.ui.Controller","sap.core.JsonModel","sap.sbo.page.pad.BoMetadataCreationFrameController","sap.sbo.layout.pad.MetadataList","sap.ui.widget.Button","sap.util","sap.sbo.localization.Helper","json!sap.sbo.page.bo-services","css!sap.sbo.app.template.DynamicProperty","css!sap.sbo.app.template.EditProperty","css!sap.sbo.page.pad.settings.SimpleBoCreation"],function(e){"use strict";var t=this.getNS(),o=t.sap,a=o.sbo.page.pad.BoMetadataCreationFrameController,i=t.json.sap.sbo.page["bo-services"];return o.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:a,Options:{boName:{type:"string"},boNamespace:{type:"string"},boLabel:{type:"string"},ignoredProps:{type:"array"}},Public:{init:function(){a.prototype.init.apply(this,arguments),this.declareMember({__oService:null})},destroy:function(){this.$().unprocess()},initView:function(){var t=o.sbo.localization.Helper.get("common/NEW_BO",this.getOption("boLabel"));this.getModel().setValue("frameTitle",t);var s=this,n=$.Deferred();return e([i[this.getAllOptions().boName]],function(e){try{s.__oService=s.autoDestroy(new e),$.when(a.prototype.initView.call(s)).done(function(){n.resolve()}).fail(function(e){n.reject(e)}),s.getOption("ignoredProps")&&s.getMainControl().setOption("ignoredProperty",s.getOption("ignoredProps"))}catch(t){n.reject(t)}}),s.$().control({'[ctrl="btnSaveOpen"]':{listener:{click:function(){o.util.showLoading(),$.when(s.boCreate()).done(function(e){window.SboShell.raiseMessage(o.sbo.localization.Helper.get("app/CREATE_SUCCESSFUL"),"success"),s.closeFrame({operationType:"save",newBo:e})}).fail(function(e){window.SboShell.raiseException(e)}).always(function(){o.util.hideLoading()})}}},'[ctrl="btnCancel"]':{listener:{click:function(){s.callShell("close")}}}}),n.promise()},destroyView:function(){a.prototype.destroyView.call(this)},update:function(){a.prototype.update.apply(this,arguments)},getMainControl:function(){return this.$("[ctrl='main']").getControl()},getBoType:function(){return this.getAllOptions()},getService:function(){return this.__oService},process:function(){this.$().process(t)},boValidate:function(){}},Protected:{}})}),define("sap.sbo.page.pad.settings.SimpleBoEdit",["require","css!sap.sbo.app.template.EditProperty","sap.core.klass","sap.ui.Controller","sap.sbo.layout.pad.MetadataLayout","sap.core.JsonModel","sap.ui.widget.TextField","sap.sbo.page.pad.BoMetadataEditController","sap.sbo.util.formatter","sap.util","sap.sbo.localization.Helper","json!sap.sbo.page.bo-services","json!sap.sbo.util.enums","css!sap.sbo.page.pad.boEdit","css!sap.sbo.page.pad.settings.SimpleBoEdit"],function(e){"use strict";var t=this.getNS(),o=t.sap,a=t.json.sap.sbo.page["bo-services"];return o.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:o.sbo.page.pad.BoMetadataEditController,Options:{boName:{type:"string"},boNamespace:{type:"string"},ignoredProps:{type:"array"},keyElements:{type:"any"}},Public:{init:function(){o.sbo.page.pad.BoMetadataEditController.prototype.init.apply(this,arguments),o.core.klass.declareMember(this,{__mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),__oService:null})},initView:function(){var t=$.Deferred(),i=this;return e([a[this.__mViewInfo.storeParam.boName]],function(e){try{i.__oService=i.autoDestroy(new e),$.when(o.sbo.page.pad.BoMetadataEditController.prototype.initView.call(i)).done(function(){i.setTitle(o.sbo.localization.Helper.get("app/BASIC")),t.resolve()}).fail(function(e){window.SboShell.raiseException(e),t.reject(e)});for(var a=[],s=i.__mViewInfo.storeParam.keyElements,n=0;s.length>n;n++)a.push(s[n].keyName);var r=i.__mViewInfo.storeParam.ignoredProps;r&&(a=r),i.getMainControl().setOption("ignoredProperty",a)}catch(l){window.SboShell.raiseException(l),t.reject(l)}}),t.promise()},destroyView:function(){this.$().unprocess(),o.sbo.page.pad.BoMetadataEditController.prototype.destroyView.call(this)},update:function(){},getMainControl:function(){return this.$("[ctrl='main']").getControl()},getBoKeyEntity:function(){return this.__mViewInfo.storeParam},getService:function(){return this.__oService},process:function(){this.$().process(t)}},Protected:{__getIgnoredKey:function(){}}})}),define("sap.sbo.page.pad.settings.SimpleBoFieldDefinedSetting",["sap.ui.Controller","sap.core.JsonModel","sap.sbo.ui.FrameViewController","sap.core.klass","sap.ui.Repeat","sap.ui.View","sap.ui.widget.TextField","sap.ui.widget.TextArea","sap.sbo.ui.widget.SliderButton","sap.sbo.localization.Helper","sap.sbo.util.formatter","sap.sbo.page.pad.settings.SettingUtil","sap.sbo.services.SystemPropertyExtensionsService","css!sap.sbo.page.pad.settings.SimpleBoFieldDefinedSetting"],function(){"use strict";var e=this.getNS(),t=e.sap,o=t.sbo.localization.Helper,a=t.sbo.page.pad.settings.SettingUtil;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Options:{enumValues:{type:"any"}},Public:{init:function(){t.sbo.ui.FrameViewController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{_oModel:void 0,_mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),_oSfeService:new t.sbo.services.SystemPropertyExtensionsService,_buttonOnClickProxy:$.proxy(this.__buttonOnClickHandler,this)}),window.SboShell.addActionButtons([{text:o.get("common/SAVE"),key:"save"},{text:o.get("common/CANCEL"),key:"cancel"},{text:o.get("app/settings/RESET"),key:"reset"}],this),window.SboShell.attachEvent("actionButtonClick",this._buttonOnClickProxy)},destroy:function(){this._oModel.destroy(),this._oModel=null,window.SboShell.detachEvent("actionButtonClick",this._buttonOnClickProxy),window.SboShell.removeActionButtons(["save","cancel","reset"])},initView:function(){var a=$.Deferred();SboShell.setOption({title:o.get("app/settings/SYSTEM_TITLE_UPDATE"),subTitle:this._mViewInfo.storeParam.boInfo.label});var i=SboShell.getData("BoProperty"),s={name:i.name,label:i.label,type:i.type,description:i.description,mandatory:i.mandatory};this._oModel=new t.core.JsonModel({data:s,boInfo:this._mViewInfo.storeParam.boInfo}),this.$().setModel(this._oModel),this.$().process(e);var n=this._mViewInfo.storeParam.simpleBo;this.$("#simplebo-test").getControl().setOption({name:"sap.sbo.page.pad.settings.SimpleBoView",boName:n.boName,boNamespace:n.boNamesapce,removable:!0});var r=this.$("#simplebo-test").getControl();return r.attachEvent("afterInitView",function(){var e=this.getController().__oModel.getValue("data"),t=160+50*e.value.length;this.$().css({height:t}),this.getController().attachEvent("itemAdded",function(){var e=this.$().height()+50;this.$().css({height:e})}),this.getController().attachEvent("itemRemoved",function(){var e=this.$().height()-50;this.$().css({height:e})})}),a.resolve(),a.promise()},destroyView:function(){this.$().unprocess()},update:function(){}},Protected:{__buttonOnClickHandler:function(e){var t=this,i=this._oModel.getValue("boInfo"),s=this._oModel.getValue("data");switch(e){case"save":if(!a.isNullOrEmpty($("#displayName-box input"),s.label.trim(),o.get("app/settings/ERROR_FIELD_EMPTY",o.get("app/settings/DISPLAY_NAME"))))return;var n={};n.boName=i.boName,n.boNamespace=i.boNamespace,n.boNodeTypeName=i.boNodeTypeName,n.name=s.name,n.label=s.label.trim(),n.description=s.description,n.requireInput=s.mandatory,a.popupBeforeSaveProperty(i.boName,{message:o.get("app/settings/DOCUMENT_UPDATEUDF"),title:o.get("common/INFO")},function(){a.saveSystemProperty(t._oSfeService,a.__getODataQueryParam(i,s.name),n,{add:o.get("app/settings/ADD_SF_SUCCESS"),update:o.get("app/settings/UPDATE_SF_SUCCESS")},function(){SboShell.removeData("CustomerFieldData"),SboShell.removeData("BoProperty"),a.backToMainView("sap.sbo.page.pad.settings.CustomizationView",t._mViewInfo.storeParam.boInfo)})});break;case"cancel":a.backToMainView("sap.sbo.page.pad.settings.CustomizationView",t._mViewInfo.storeParam.boInfo);break;case"reset":a.popupBeforeSaveProperty(i.boName,{message:o.get("app/settings/DOCUMENT_UPDATEUDF"),title:o.get("common/INFO")},function(){a.deleteProperty(t._oSfeService,a.__getODataQueryParam(i,s.name),{success:o.get("app/settings/DELETE_SF_SUCCESS")},function(){SboShell.removeData("CustomerFieldData"),SboShell.removeData("BoProperty"),a.backToMainView("sap.sbo.page.pad.settings.CustomizationView",t._mViewInfo.storeParam.boInfo)})})}}}})}),define("sap.sbo.page.pad.settings.SimpleBoView",["require","sap.ui.Controller","sap.sbo.util.metadataHelper","sap.sbo.ui.widget.BoList","sap.core.JsonModel","sap.sbo.localization.Helper","json!sap.sbo.page.bo-services","css!sap.sbo.page.pad.settings.SimpleBoView"],function(e){"use strict";var t=this.getNS(),o=t.sap,a=t.json.sap.sbo.page["bo-services"],i=o.sbo.localization.Helper;return o.ui.Controller.declare({Name:this.getModuleInfo().moduleName,Interfaces:[],Events:["itemRemoved","itemAdded"],Options:{boName:{type:"string"},boNamespace:{type:"string"},removable:{type:"boolean"}},Public:{init:function(){o.ui.Controller.prototype.init.apply(this,arguments);var e=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo").storeParam,t={boName:this.getOption("boName")||e.boName,boNamespace:this.getOption("boNamespace")||e.boNamespace},a=this.getOption("removable")||e.removable;this.declareMember({__oService:null,__oModel:this.autoDestroy(new o.core.JsonModel({removable:a})),__boInfo:t,__viewInfo:e}),e.title&&e.subTitle&&SboShell.setOption({title:i.get(e.title),subTitle:i.get(e.subTitle)})},initView:function(){var o=$.Deferred();this.$().setModel(this.__oModel);var s=this;return e([a[this.__boInfo.boName]],function(e){try{s.__oService=s.autoDestroy(new e),$.when(s.__oService.getMetadata(s.__boInfo.boNamespace,s.__boInfo.boName),s.__oService.query()).done(function(e,a){s.__oModel.setValue("",{meta:e,data:a}),s.$().process(t),s.__viewInfo.ignoredViewProps&&s.$("#bolist").getControl().setOption("ignoredProperty",s.__viewInfo.ignoredViewProps),s.$("#bolist").getControl().attachEvent("remove",function(t){$.when(s.__oService["delete"](t)).done(function(){for(var o=s.__oModel.getValue("data"),a=s.__oModel.getValue("meta/rootNode/primaryKey/value"),n=o.value,r=s.__getKeyElements(a,t),l=0;n.length>l;l++){var d=s.__getKeyElements(a,n[l]);if(s.__keyEquals(r,d)){n.splice(l,1),s.__oModel.setValue("data",o),s.fireEvent("itemRemoved");break}}SboShell.raiseMessage(i.get("app/settings/DELETE_SUCCESS",e.label),"success")}).fail(function(e){SboShell.raiseException(e)})}),s.$("#bolist").getControl().attachEvent("detail",function(e){var t=s.__boInfo,o=s.__oModel.getValue("meta/rootNode/primaryKey/value"),a=s.__getKeyElements(o,e);SboShell.gotoView("sap.sbo.page.pad.settings.SimpleBoEdit",{boName:t.boName,boNamespace:t.boNamespace,keyElements:a,ignoredProps:s.__viewInfo.ignoredEditionProps})});var n=$.extend({boLabel:e.label,ignoredProps:s.__viewInfo.ignoredCreationProps},s.__boInfo);s.$().on("vclick","#add-new-bo-link",function(){SboShell.openFrame({view:"sap.sbo.page.pad.settings.SimpleBoCreation",type:"center-column",options:n,fromposition:{original:{x:70,y:0},size:{width:0,height:768}},zindex:2e3,callback:function(e,t){if(t&&"save"===t.operationType){var o=s.__oModel.getValue("data");o.value.push(t.newBo),s.__oModel.setValue("data",o),s.fireEvent("itemAdded")}}})}),o.resolve()}).fail(function(e){o.reject(e)})}catch(a){o.reject(a)}}),o.promise()},destroyView:function(){this.$().unprocess(t)},update:function(){}},Protected:{__getKeyElements:function(e,t){for(var o=[],a=0;e.length>a;a++)o.push({keyName:e[a].name,keyValue:t[e[a].name]});return o},__keyEquals:function(e,t){for(var o=0;e.length>o;o++){for(var a=!1,i=0;t.length>i;i++)if(e[o].keyName===t[i].keyName&&e[o].keyValue===t[i].keyValue){a=!0;break}if(!a)return!1}return!0}}})}),define("sap.sbo.page.pad.settings.SubBoCustomizationView",["sap.ui.Controller","sap.core.klass","sap.sbo.page.pad.settings.CustomizationView"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.page.pad.settings.CustomizationView,Public:{},Protected:{},Static:{}})}),define("sap.sbo.page.pad.settings.UserDefinedFieldSetting",["sap.core.JsonModel","sap.core.klass","sap.ui.Controller","sap.ui.widget.TextField","sap.ui.widget.TextArea","sap.ui.Repeat","sap.sbo.ui.widget.DateTimeField","sap.sbo.ui.widget.DecimalInputField","sap.sbo.ui.widget.SliderButton","sap.ui.widget.DropDownBox","sap.sbo.ui.FrameViewController","sap.sbo.localization.Helper","sap.formatter","sap.util","sap.sbo.page.pad.settings.SettingUtil","sap.sbo.util.formatter","sap.sbo.page.pad.settings.BoTypeHelper","sap.sbo.services.SystemPropertyExtensionsService","sap.sbo.services.UserPropertiesService","sap.sbo.services.DecimalSettingsService","json!sap.sbo.util.enums","css!sap.sbo.page.pad.settings.UserDefinedFieldSetting"],function(){"use strict";var e=this.getNS(),t=e.sap,o=t.sbo.localization.Helper,a=t.sbo.page.pad.settings.SettingUtil,i=[{key:"eq",text:o.get("app/settings/RULE_EQUAL")},{key:"ne",text:o.get("app/settings/RULE_NOT_EQUAL")},{key:"lt",text:o.get("app/settings/RULE_LESS")},{key:"le",text:o.get("app/settings/RULE_LESS_EQUAL")},{key:"gt",text:o.get("app/settings/RULE_GREATER")},{key:"ge",text:o.get("app/settings/RULE_GREATER_EQUAL")},{key:"bt",text:o.get("app/settings/RULE_BETWEEN")},{key:"nb",text:o.get("app/settings/RULE_NOT_BETWEEN")}],s=[{key:"sw",text:o.get("app/settings/RULE_STARTS_WITH")},{key:"ew",text:o.get("app/settings/RULE_ENDS_WITH")},{key:"con",text:o.get("app/settings/RULE_CONTAINS")},{key:"ncon",text:o.get("app/settings/RULE_NOT_CONTAINS")},{key:"len",text:o.get("app/settings/RULE_LENGTH")},{key:"minl",text:o.get("app/settings/RULE_MIN_LENGTH")},{key:"maxl",text:o.get("app/settings/RULE_MAX_LENGTH")}],n=[{id:0,key:e.json.sap.sbo.util.enums.bool.Yes,text:o.get("app/settings/TYPE_YES")},{id:1,key:e.json.sap.sbo.util.enums.bool.No,text:o.get("app/settings/TYPE_NO")}];return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.FrameViewController,Public:{init:function(){t.sbo.ui.FrameViewController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{_oModel:void 0,_mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),_buttonOnClickProxy:$.proxy(this.__buttonOnClickHandler,this),_oUdfService:new t.sbo.services.UserPropertiesService,_oSfeService:new t.sbo.services.SystemPropertyExtensionsService,_oDecimalService:new t.sbo.services.DecimalSettingsService}),window.SboShell.addActionButtons([{text:o.get("common/SAVE"),key:"save"},{text:o.get("common/CANCEL"),key:"cancel"}],this),window.SboShell.attachEvent("actionButtonClick",this._buttonOnClickProxy)},destroy:function(){window.SboShell.detachEvent("actionButtonClick",this._buttonOnClickProxy),window.SboShell.removeActionButtons(["save","cancel","reset"]),this._oModel.destroy(),this._oModel=null},initView:function(){var i=$.Deferred(),n=a.getBasicTypes(),r={title:o.get("app/settings/UDF_TITLE_ADD"),isNew:!1,userDefined:!0,name:this.__getProperty("",!1),label:this.__getProperty("",!1),data_type:this.__getProperty({types:n,selectedTypeKey:"String",selectedType:n[0]},!1),description:this.__getProperty("",!1),mandatory:this.__getProperty(!1,!1),isEnum:!1,defaultValue:this.__getProperty({text:"",date:null,decimal:null,list:[],selectedValue:null,useDateDelay:!1,dateDelay:null},!1),validValues:this.__getProperty({enable:!1,list:[],freeTextAllowed:!1,isDefault:!0},!1),validation:this.__getProperty({enable:!1,rules:s,selectedRule:null,expression:{text:"",decimal:null,date:null,from:{text:"",decimal:null,date:null},to:{text:"",decimal:null,date:null}},errorMessage:null},!1)};this._oModel=new t.core.JsonModel({boInfo:this._mViewInfo.storeParam.boInfo,data:r}),this.$().setModel(this._oModel),this.$().process(e);var l=$.Deferred(),d=$.merge([],n),p=this;return $.when(this._oDecimalService.query()).done(function(e){e&&e.value&&($(e.value).each(function(){d.push({key:this.type,text:this.label,category:"decimal",decimalPlace:this.decimalPlace})}),p._oModel.setValue("data/data_type/value/types",d),p.__initViewModel()),l.resolve()}).fail(function(e){window.SboShell.raiseException(e),l.reject(e)}),l.promise(),i.resolve(),this.__attachEvent(),i.promise()},destroyView:function(){this.$().unprocess()},update:function(){}},Protected:{__buttonOnClickHandler:function(e){var t=this,o=t._oModel.getValue("data");switch(e){case"save":o.userDefined?this.__saveUserProperty():this.__saveSystemProperty();break;case"cancel":this.__removeDataBeforeLeavePage(),a.backToMainView("sap.sbo.page.pad.settings.CustomizationView",t._mViewInfo.storeParam.boInfo);break;case"reset":this.__resetSystemProperty()}},__attachEvent:function(){var e=this;$(".tab-header-item").on("vclick",function(){var t=$(this).parent(".tab-header").children(".tab-header-item").index($(this)),o=e._oModel.getValue("data/validation/value"),i=e._oModel.getValue("data/validValues/value");switch(t){case 0:o.enable=!1,i.enable=!1;break;case 1:o.enable=!1,i.enable=!0;break;case 2:o.enable=!0,i.enable=!1}e._oModel.setValue("data/validation/value/enable",o.enable),e._oModel.setValue("data/validValues/value/enable",i.enable),a.gotoTabByIndex($("#validation-tab"),t)}),$("#data-type-picker").on("change",function(){var t=e._oModel.getValue("data");t.data_type.value.selectedType=e.__getTypeByKey(t.data_type.value.selectedTypeKey),e._oModel.setValue("data/data_type/value/selectedType",t.data_type.value.selectedType),t.validation.value.rules="String"!=t.data_type.value.selectedType.key&&"Text"!=t.data_type.value.selectedType.key?i:s,e._oModel.setValue("data/validation/value/rules",t.validation.value.rules),"BoYesNoEnum"==t.data_type.value.selectedType.key&&(t.defaultValue.value.list=n,e._oModel.setValue("data/defaultValue/value/list",t.defaultValue.value.list))}),$("#addValidValue").on("vclick",function(){e.__storeDataBeforeNavigation(),SboShell.gotoView("sap.sbo.page.pad.settings.AddValidValue",{boInfo:e._oModel.getValue("boInfo"),operationType:"add"})}),$("#chooseValidValue").on("vclick",function(){e.__storeDataBeforeNavigation(),SboShell.gotoView("sap.sbo.page.pad.settings.ChooseEnumValues",{boInfo:e._oModel.getValue("boInfo")})}),this.$().on("vclick","#validValues-table .table-row .goto-icon",function(){var t=$("#validValues-table .table-row").index($(this).parent(".table-row"));e.__storeDataBeforeNavigation(),SboShell.gotoView("sap.sbo.page.pad.settings.AddValidValue",{boInfo:e._oModel.getValue("boInfo"),operationType:"edit",currentIndex:t})}),this.$().on("vclick","#validValues-table .table-row .delete-icon",function(){var t=e._oModel.getValue("data"),o=$("#validValues-table .table-row").index($(this).parent(".table-row"));t.validValues.value.list.splice(o,1),e._oModel.setValue("data/validValues/value/list",t.validValues.value.list);var a=t.defaultValue.value;a.list[o].key==a.selectedValue&&(a.selectedValue=null),a.list.splice(o,1),e._oModel.setValue("data/defaultValue/value",a)}),$("#name-box input").on("blur",function(){var t=e._oModel.getValue("data");if(t.isNew&&"addOrUpdateValidValue"!=e._mViewInfo.storeParam.operationType){if(!a.isNullOrEmpty($(this),t.name.value,o.get("app/settings/ERROR_FIELD_EMPTY",o.get("app/settings/NAME"))))return;
var i={name:t.name.value,boName:e._oModel.getValue("boInfo/boName"),boNodeTypeName:e._oModel.get("boInfo/boNodeTypeName"),boNamespace:e._oModel.getValue("boInfo/boNamespace")},s=this;$.when(e._oUdfService.onPropertyChange(i,"Root/name","PropertyUpdate")).fail(function(e){$(s).parents(".box").addClass("isError"),window.SboShell.raiseException(e)})}}),$("#displayName-box input").on("blur",function(){var t=e._oModel.getValue("data");a.isNullOrEmpty($(this),t.label.value,o.get("app/settings/ERROR_FIELD_EMPTY",o.get("app/settings/DISPLAY_NAME")))})},__initViewModel:function(){switch(this._mViewInfo.storeParam.operationType){case"add":this._oModel.setValue("data/isNew",!0),a.gotoTabByIndex($("#validation-tab"),0);break;case"edit":this.__initViewBeforeEdit();break;case"chooseValidValue":case"addOrUpdateValidValue":this.__initViewAfterBack()}SboShell.setOption({subTitle:this._mViewInfo.storeParam.boInfo.label,title:this._oModel.getValue("data/title")})},__initViewBeforeEdit:function(){var e=SboShell.getData("BoProperty");this._oModel.setValue("boProperty",e);var t=this._oModel.getValue("data");t.userDefined=e.userDefined,t.userDefined?t.title=o.get("app/settings/UDF_TITLE_UPDATE"):(window.SboShell.addActionButtons([{text:o.get("app/settings/RESET"),key:"reset"}],this),t.title=o.get("app/settings/SYSTEM_TITLE_UPDATE")),t.name.value=e.name,t.name.isReadonly=!0,t.label.value=e.label,t.label.isReadonly=!e.allowChangeLabel,t.description.value=e.description,t.data_type.value.types.push({key:"Memo",text:o.get("app/settings/GENERAL_LONGTEXT"),category:"unknown",decimalPlace:0}),t.data_type.value.types.push({key:"Long",text:o.get("app/settings/GENERAL_NUMBER"),category:"unknown",decimalPlace:0}),t.data_type.value.types.push({key:"Fax",text:o.get("app/settings/ADVANCE_FAX"),category:"unknown",decimalPlace:0}),t.data_type.value.types.push({key:"ZipCode",text:o.get("app/settings/ADVANCE_ZIPCODE"),category:"unknown",decimalPlace:0}),t.data_type.value.selectedType=this.__getTypeByKey(e.type),t.data_type.isReadonly=!0,t.mandatory.value=e.mandatory,t.mandatory.isReadonly=!e.allowChangeMandatory,t.defaultValue.isReadonly=!e.allowChangeDefaultValue,t.isEnum=null!=e.enumValues,t.isEnum||(t.validValues.isReadonly=!e.allowChangeValidValues,t.validation.isReadonly=!e.allowChangeValidationRule);var s=t.data_type.value.selectedType.category;if("unknown"==s)return $("#validation-box").addClass("hidden"),t.label.isReadonly=!0,t.description.isReadonly=!0,t.defaultValue.isReadonly=!0,t.mandatory.isReadonly=!0,window.SboShell.removeActionButtons(["save","cancel","reset"]),this._oModel.setValue("data",t),void 0;if("advance"==s)return t.defaultValue.value.text=e.defaultValue,this._oModel.setValue("data",t),void 0;if("BoYesNoEnum"==s)return t.defaultValue.value.list=n,t.defaultValue.value.selectedValue=e.defaultValue,this._oModel.setValue("data",t),void 0;if("String"!=t.data_type.value.selectedType.key&&"Text"!=t.data_type.value.selectedType.key&&(t.validation.value.rules=i),a.gotoTabByIndex($("#validation-tab"),0),e.validValues.value&&0!=e.validValues.value.length){t.validValues.value.isDefault=!1,a.gotoTabByIndex($("#validation-tab"),1);var r=t.validValues.value;return r.enable=!0,$(e.validValues.value).each(function(){r.list.push({displayValue:a.realValue_String(t.data_type.value.selectedType,this.value,"<<"),value:this.value,description:this.description})}),this.__generateDefaultValueList(),t.defaultValue.value.selectedValue=e.defaultValue,this._oModel.setValue("data",t),void 0}if(t.isEnum)return a.gotoTabByIndex($("#validation-tab"),1),t.validValues.value.enable=!0,0==t.validValues.value.list.length?(t.validValues.value.isDefault=!0,t.validValues.value.list=$.map(e.enumValues,function(e){return{value:e.name,displayValue:e.name,description:e.label}})):t.validValues.value.isDefault=!1,this.__generateDefaultValueList(),t.defaultValue.value.selectedValue=e.defaultValue,this._oModel.setValue("data",t),void 0;if(e.validationRule){a.gotoTabByIndex($("#validation-tab"),2);var l=t.validation.value;l.enable=!0,l.errorMessage=e.customErrorMessage;var d=e.validationRule.indexOf("=");if(l.selectedRule=e.validationRule.substring(0,d),"bt"==l.selectedRule||"nb"==l.selectedRule){var p=e.validationRule.substring(d+2,e.validationRule.length-1),c=p.indexOf(","),u=p.substring(0,c),h=p.substring(c+1);l.expression.from[s]=u,l.expression.to[s]=h}else{var p=e.validationRule.substring(d+1);l.expression[s]=p}}e.defaultValue&&("date"!=s||isNaN(e.defaultValue)?(t.defaultValue.value.useDateDelay=!1,t.defaultValue.value[s]=e.defaultValue):(t.defaultValue.value.useDateDelay=!0,t.defaultValue.value.dateDelay=e.defaultValue)),this._oModel.setValue("data",t)},__initViewAfterBack:function(){var e=SboShell.getData("CustomerFieldData"),t=SboShell.getData("BoProperty");t&&this._oModel.setValue("boProperty",t),e&&(e.userDefined||window.SboShell.addActionButtons([{text:o.get("app/settings/RESET"),key:"reset"}],this),this._oModel.setValue("data",e),a.gotoTabByIndex($("#validation-tab"),1))},__saveUserProperty:function(){if(this.__checkBeforeSave()){var e=this.__getBoPropertyBeforeSave(),t=this._oModel.getValue("boInfo"),i=this;1==i._oModel.getValue("data/isNew")?a.popupBeforeSaveProperty(t.boName,{message:o.get("app/settings/DOCUMENT_ADDUDF"),title:o.get("common/INFO")},function(){a.createProperty(i._oUdfService,e,{success:o.get("app/settings/ADD_UDF_SUCCESS")},function(){i.__removeDataBeforeLeavePage(),a.backToMainView("sap.sbo.page.pad.settings.CustomizationView",i._mViewInfo.storeParam.boInfo)})}):a.popupBeforeSaveProperty(t.boName,{message:o.get("app/settings/DOCUMENT_UPDATEUDF"),title:o.get("common/INFO")},function(){a.queryAndUpdateProperty(i._oUdfService,a.__getODataQueryParam(t,i._oModel.getValue("data").name.value),e,{success:o.get("app/settings/UPDATE_UDF_SUCCESS"),notexist:o.get("app/settings/UDF_NOT_EXIST")},function(){i.__removeDataBeforeLeavePage(),a.backToMainView("sap.sbo.page.pad.settings.CustomizationView",i._mViewInfo.storeParam.boInfo)})})}},__saveSystemProperty:function(){if(this.__checkBeforeSave()){var e=this.__getBoPropertyBeforeSave(),t=this._oModel.getValue("boInfo"),i=this;a.popupBeforeSaveProperty(t.boName,{message:o.get("app/settings/DOCUMENT_UPDATEUDF"),title:o.get("common/INFO")},function(){a.saveSystemProperty(i._oSfeService,a.__getODataQueryParam(t,e.name),e,{add:o.get("app/settings/ADD_SF_SUCCESS"),update:o.get("app/settings/UPDATE_SF_SUCCESS")},function(){i.__removeDataBeforeLeavePage(),a.backToMainView("sap.sbo.page.pad.settings.CustomizationView",i._mViewInfo.storeParam.boInfo)})})}},__resetSystemProperty:function(){var e=this,t=this._oModel.getValue("boInfo");a.popupBeforeSaveProperty(t.boName,{message:o.get("app/settings/DOCUMENT_UPDATEUDF"),title:o.get("common/INFO")},function(){a.deleteProperty(e._oSfeService,a.__getODataQueryParam(t,e._oModel.getValue("data").name.value),{success:o.get("app/settings/DELETE_SF_SUCCESS")},function(){e.__removeDataBeforeLeavePage(),a.backToMainView("sap.sbo.page.pad.settings.CustomizationView",e._mViewInfo.storeParam.boInfo)})})},__generateDefaultValueList:function(){var e=this._oModel.getValue("data"),t=this;e.defaultValue.value.list=[],$(e.validValues.value.list).each(function(){e.defaultValue.value.list.push({key:this.value,text:this.displayValue+" - "+this.description}),t._oModel.setValue("data/defaultValue/value/list",e.defaultValue.value.list)})},__checkBeforeSave:function(){var e=this._oModel.getValue("data");if(!a.isNullOrEmpty($("#name-box input"),e.name.value.trim(),o.get("app/settings/ERROR_FIELD_EMPTY",o.get("app/settings/NAME"))))return!1;if(!a.isNullOrEmpty($("#displayName-box input"),e.label.value.trim(),o.get("app/settings/ERROR_FIELD_EMPTY",o.get("app/settings/DISPLAY_NAME"))))return!1;var t=e.data_type.value.selectedType.category;if("BoYesNoEnum"==t)return e.mandatory.value&&!a.isNullOrEmpty($("#defaultvalue-box-dropdownList"),e.defaultValue.value.selectedValue,o.get("app/settings/ERROR_DF_SELECTOR"))?!1:!0;if("advance"==t)return e.mandatory.value&&!a.isNullOrEmpty($("#defaultvalue-box .box input"),e.defaultValue.value.text,o.get("app/settings/ERROR_FIELD_EMPTY",o.get("app/settings/DEFAULT_VALUE")))?!1:!0;if(e.isEnum&&0==e.validValues.value.list.length)return window.SboShell.raiseMessage(o.get("app/settings/CHO_VAL_VALUES_MSG")),!1;if(e.validValues.value.enable&&!a.isNullOrEmpty($("#defaultvalue-box-dropdownList"),e.defaultValue.value.selectedValue,o.get("app/settings/ERROR_DF_SELECTOR")))return!1;if(e.validation.value.enable){var i=e.validation.value;if(!a.isNullOrEmpty($("#advance-rule-dropdownlist"),i.selectedRule,o.get("app/settings/ERROR_RULE_SELECTOR")))return!1;if("len"==i.selectedRule||"minl"==i.selectedRule||"maxl"==i.selectedRule){if(isNaN(i.expression.text))return $("#general-box-text-input").parent(".box").addClass("isError"),window.SboShell.raiseMessage(o.get("app/settings/NUMBER_ERROR",i.expression.text)),!1;if("String"==e.data_type.value.selectedType.key){if(+i.expression.text>254||0>=+i.expression.text)return $("#general-box-text-input").parent(".box").addClass("isError"),window.SboShell.raiseMessage(o.get("app/settings/NUMBER_LESSTHAN",255,0)),!1}else if(+i.expression.text>4e3||0>=+i.expression.text)return $("#general-box-text-input").parent(".box").addClass("isError"),window.SboShell.raiseMessage(o.get("app/settings/NUMBER_LESSTHAN",4001,0)),!1}if("bt"==i.selectedRule||"nb"==i.selectedRule)if("decimal"==t){if(!a.checkDecimalValue($("#from_decimal_input"),o.get("app/settings/ERROR_RULE_EXPR")))return!1;if(!a.checkDecimalValue($("#to_decimal_input"),o.get("app/settings/ERROR_RULE_EXPR")))return!1}else{if(!a.isNullOrEmpty($("#from-box input"),i.expression.from[t],o.get("app/settings/ERROR_RULE_EXPR")))return!1;if(!a.isNullOrEmpty($("#to-box input"),i.expression.to[t],o.get("app/settings/ERROR_RULE_EXPR")))return!1}else if("decimal"==t){if(!a.checkDecimalValue($("#general_decimal_input"),o.get("app/settings/ERROR_RULE_EXPR")))return!1}else if(!a.isNullOrEmpty($("#general-box input"),i.expression[t],o.get("app/settings/ERROR_RULE_EXPR")))return!1}if(e.mandatory.value&&!e.defaultValue.isReadonly)if("decimal"==t){if(!a.checkDecimalValue($("#defaultValue_decimal_input"),o.get("app/settings/ERROR_FIELD_EMPTY",o.get("app/settings/DEFAULT_VALUE"))))return!1}else if(!e.validValues.value.enable)if("date"==t&&e.defaultValue.value.useDateDelay){if(!a.checkDecimalValue($("#defDateDelay"),o.get("app/settings/ERROR_FIELD_EMPTY",o.get("app/settings/DEFAULT_VALUE"))))return!1}else if(!a.isNullOrEmpty($("#defaultvalue-box .box input"),e.defaultValue.value[t],o.get("app/settings/ERROR_FIELD_EMPTY",o.get("app/settings/DEFAULT_VALUE"))))return!1;return!0},__getBoPropertyBeforeSave:function(){var e=this._oModel.getValue("data"),t={};t.boName=this._oModel.getValue("boInfo/boName"),t.boNamespace=this._oModel.getValue("boInfo/boNamespace"),t.boNodeTypeName=this._oModel.getValue("boInfo/boNodeTypeName"),t.name=e.name.value.trim(),t.label=e.label.value.trim(),t.type=e.data_type.value.selectedType.key,t.description=e.description.value,t.validValues=[],e.userDefined?t.mandatory=e.mandatory.value:t.requireInput=e.mandatory.value,t.validationRule=null,t.validValues=[];var o=e.data_type.value.selectedType.category;if("advance"!=o)if(e.validValues.value.enable)$(e.validValues.value.list).each(function(){t.validValues.push({value:this.value,description:this.description})}),t.defaultValue=e.defaultValue.value.selectedValue;else{if(e.validation.value.enable){var a=e.validation.value;t.validationRule="bt"==a.selectedRule||"nb"==a.selectedRule?a.selectedRule+"=["+a.expression.from[o]+","+a.expression.to[o]+"]":a.selectedRule+"="+a.expression[o],t.customErrorMessage=a.errorMessage}t.defaultValue="BoYesNoEnum"==t.type?e.defaultValue.value.selectedValue:"date"==o&&e.defaultValue.value.useDateDelay?e.defaultValue.value.dateDelay:e.defaultValue.value[o]}else t.defaultValue=e.defaultValue.value.text;return t},__getProperty:function(e,t){return{value:e,isReadonly:t}},__getTypeByKey:function(e){var t=this._oModel.getValue("data"),a=$.grep(t.data_type.value.types,function(t){return t.key==e});if(0!=a.length)return a[0];var i=SboShell.getData("BoProperty");return i.enumValues?{key:e,text:o.get("app/settings/ADVANCE_ENUM"),category:"text",decimalPlace:0}:{key:e,text:e,category:"unknown",decimalPlace:0}},__storeDataBeforeNavigation:function(){SboShell.storeData("CustomerFieldData",this._oModel.getValue("data")),SboShell.storeData("BoProperty",this._oModel.getValue("boProperty"))},__removeDataBeforeLeavePage:function(){SboShell.removeData("CustomerFieldData"),SboShell.removeData("BoProperty")}}})}),define("sap.sbo.page.pad.settings.approval.ApprovalDetail",["sap.ui.Controller","sap.sbo.ui.PageController","sap.sbo.layout.pad.CardLayout","sap.core.klass","sap.core.JsonModel","sap.ui.widget.TextField","sap.formatter","sap.log","sap.util","sap.sbo.services.ApprovalSettingsService","sap.ui.widget.DropDownBox","sap.sbo.util.formatter","sap.ui.widget.ValueHelpField","sap.sbo.page.pad.settings.approval.ApprovalSettingUtil","css!sap.sbo.page.pad.settings.approval.ApprovalDetail","sap.sbo.localization.Helper","sap.ui.widget.Checkbox","sap.ui.Repeat"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={number_null:function(e){return e?e:"0.0"}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.PageController,Options:{},Public:{init:function(){t.sbo.ui.PageController.prototype.init.apply(this,arguments);var e=this;this.declareMember({_oModel:this.autoDestroy(new t.core.JsonModel({title:"",id:"",authorizerDisplayName:"",authorizer:"",TermTypeUI:[{termType:t.sbo.localization.Helper.get("app/appr/ALWAYS"),code:"Always"},{termType:t.sbo.localization.Helper.get("app/appr/TOTAL"),code:"Total"},{termType:t.sbo.localization.Helper.get("app/appr/DISCOUNT"),code:"Discount"}],TermConditionUI:[{termCondition:t.sbo.localization.Helper.get("app/appr/EQUALS"),code:"Equals"},{termCondition:t.sbo.localization.Helper.get("app/appr/GREATERTHAN"),code:"GreaterThan"},{termCondition:t.sbo.localization.Helper.get("app/appr/LESSTHAN"),code:"LessThan"}],StatusUI:[{status:t.sbo.localization.Helper.get("app/appr/ACTIVE"),code:"true"},{status:t.sbo.localization.Helper.get("app/appr/INACTIVE"),code:"false"}],term:{id:"",termType:"",termCondition:"",termValue:""},active:!0,originators:[],allUsers:!1})),_docType:"",_approvalId:"",_oService:this.autoDestroy(new t.sbo.services.ApprovalSettingsService),_mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),_bTriggerBySetModel:!1,chooseOriginator:function(){window.SboShell.openFrame({view:"sap.sbo.chooseList.pad.ChooseListEmployee",type:"right",width:400,height:600,callback:function(o,a){if("select"===o){var i=!1,s=e._oModel.getValue("originators");$.each(s,function(e,t){return t.originator==a.employeeID?(i=!0,void 0):void 0}),i?window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/appr/ORIGINATORDUPLICATED")):(s.unshift({originator:a.employeeID,originatorFirstName:a.firstName,originatorLastName:a.lastName,originatorDisplayName:a.displayName}),e._oModel.setValue("originators",s))}}})},chooseAuthorizer:function(){window.SboShell.openFrame({view:"sap.sbo.chooseList.pad.ChooseListEmployee",type:"right",width:400,height:600,callback:function(t,o){"select"===t&&(e._oModel.setValue("authorizer",o.employeeID),e._oModel.setValue("authorizerDisplayName",o.displayName))}})},chooseAllUsers:function(){return 1!=e._oModel.getValue("allUsers")?(e.$('div[data-sap-class="addoriginator"]').show(),!0):($.when(window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/appr/CLEARLISTCONFIRM"),"question",[{key:"yes",text:t.sbo.localization.Helper.get("common/YES")},{key:"no",text:t.sbo.localization.Helper.get("common/NO")}])).done(function(t){if("yes"!==t)return e._oModel.setValue("allUsers",!1),e.$('div[data-sap-class="addoriginator"]').show(),!1;var o=[];e._oModel.setValue("originators",o),e.$('div[data-sap-class="addoriginator"]').hide()}),void 0)},__tileOnClick:function(){var o=null;o=$(this).getModel();var a=o.getValue("originator");return $.when(window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/appr/REMOVEORIGINATOR"),"question",[{key:"yes",text:t.sbo.localization.Helper.get("common/YES")},{key:"no",text:t.sbo.localization.Helper.get("common/NO")}])).done(function(t){if("yes"===t){var o=e.__remove(e._oModel.getValue("originators"),"originator",a);e._oModel.setValue("originators",o)}}),!1},__remove:function(e,t,o){return $.grep(e,function(e){return e[t]!=o})},changeTermType:function(){var t=e._oModel.getValue("term").termType;switch(t){case"Always":e.$('div[data-sap-class="termCondition"]').hide(),e.$('div[class="term-input"]').hide();var o=e._oModel.getValue("term");o.termCondition=null,o.termValue=0;break;case"Discount":e.$('div[data-sap-class="termCondition"]').show(),e.$('div[class="term-input"]').show(),e.$('input[data-sap-class="termValue"]').width("85%"),e.$('div[class="discount-mark"]').show();break;default:e.$('div[data-sap-class="termCondition"]').show(),e.$('div[class="term-input"]').show(),e.$('input[data-sap-class="termValue"]').width("94%"),e.$('div[class="discount-mark"]').hide()}}});var e=this,o=function(t){e["onKey"+t]()};SboShell.attachEvent("actionButtonClick",o),this.autoDestroy("detach actionButtonClick",function(){SboShell.detachEvent("actionButtonClick",o)})},destroy:function(){},onKeySave:function(){var e=this,o=this._oModel.getValue(""),a={};a.title=o.title,a.originators=o.originators;var i=[],s=o.term;if(""==s.id&&delete s.id,i.push(s),a.terms=i,a.active=o.active,a.authorizer=o.authorizer,a.docType=this._docType,a.allUsers=o.allUsers,!this.validate(a))return!1;var n={};n.id=o.id,t.util.showLoading(),$.when(this.boSave(a,n)).done(function(){window.SboShell.gotoView("sap.sbo.page.pad.settings.approval.ApprovalList",{docType:e._docType})}).fail(function(){}).always(function(){t.util.hideLoading()})},onKeyDelete:function(){var e=this,o={},a=this._oModel.getValue("");o.id=a.id,$.when(window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/appr/DELETECONFIRM"),"question",[{key:"yes",text:t.sbo.localization.Helper.get("common/YES")},{key:"no",text:t.sbo.localization.Helper.get("common/NO")}])).done(function(a){"yes"===a&&(t.util.showLoading(),$.when(e._oService["delete"](o)).done(function(){window.SboShell.gotoView("sap.sbo.page.pad.settings.approval.ApprovalList",{docType:e._docType})}).fail(function(){}).always(function(){t.util.hideLoading()}))})},onKeyCreate:function(){window.SboShell.gotoView("sap.sbo.page.pad.settings.approval.ApprovalDetail","DocumentType")},onKeyCancel:function(){window.SboShell.gotoView("sap.sbo.page.pad.settings.approval.ApprovalList",{docType:this._docType})},initView:function(){var o=this,a=$.Deferred();this._approvalId=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo").storeParam.approvalId,this._docType=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo").storeParam.docType,o.setTitle({title:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo").storeParam.viewTitle}),o.$().setModel(o._oModel,"");var i;if(i=null!=o._approvalId?[{text:t.sbo.localization.Helper.get("common/SAVE"),key:"Save"},{text:t.sbo.localization.Helper.get("common/DELETE"),key:"Delete"},{text:t.sbo.localization.Helper.get("common/CANCEL"),key:"Cancel"}]:[{text:t.sbo.localization.Helper.get("common/SAVE"),key:"Save"},{text:t.sbo.localization.Helper.get("common/CANCEL"),key:"Cancel"}],SboShell.addActionButtons(i,this),this.$().on("vclick",'div[data-sfa-class="tile"]',this.__tileOnClick),this.$().on("vclick",'div[data-sap-class="originator"]',this.chooseOriginator),this.$().on("vclick",'div[data-sap-class="addoriginator"]',this.chooseOriginator),this.$().on("vclick",'div[data-sap-class="authorizer"]',this.chooseAuthorizer),this.$().on("vclick",'span[data-sap-class="allusers"]',this.chooseAllUsers),null!=o._approvalId){var s={};s.id=o._approvalId,$.when(this._oService.get(s)).done(function(t){o._oModel.setValue("",t),o._oModel.setValue("term",t.terms[0]),o.$().process(e),o.changeTermType(),o._oModel.getValue("allUsers")&&o.$('div[data-sap-class="addoriginator"]').hide(),a.resolve()}).fail(function(){})}else a.resolve();return o.$().process(e),this.$('div[data-sap-class="termType"]').getControl().attachEvent("change",this.changeTermType),a.promise()},destroyView:function(){this.$().off("vclick",'div[data-sap-class="originator"]',this.chooseOriginator),this.$().off("vclick",'div[data-sfa-class="tile"]',this.__tileOnClick),this.$().off("vclick",'div[data-sap-class="addoriginator"]',this.chooseOriginator),this.$().off("vclick",'div[data-sap-class="authorizer"]',this.chooseAuthorizer),this.$().off("vclick",'span[data-sap-class="allusers"]',this.chooseAllUsers),this.$('div[data-sap-class="termType"]').getControl().detachEvent("change",this.changeTermType),this.$().unprocess()},update:function(){},boSave:function(e,t){return null==t.id||""==t.id?this._oService.create(e):(e.id=t.id,this._oService.update(e,t))}},Protected:{_convertBoKey:function(e){for(var t={},o=0;e.length>o;o++)t[e[o].keyName]=e[o].keyValue;return t},validate:function(e){return""==e.title?(window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/appr/NAMENULL")),!1):""==e.terms[0].termType?(window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/appr/TERMTYPENULL")),!1):"Always"==e.terms[0].termType||null!=e.terms[0].termCondition&&""!=e.terms[0].termCondition?"Always"!=e.terms[0].termType&&isNaN(Number(e.terms[0].termValue))?(window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/appr/TERMVALUEERROR")),!1):null==e.authorizer||""==e.authorizer?(window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/appr/AUTHORIZERNULL")),!1):0!=e.allUsers||null!=e.originators&&0!=e.originators.length?!0:(window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/appr/ORIGINATORNULL")),!1):(window.SboShell.raiseMessage(t.sbo.localization.Helper.get("app/appr/TERMCONDITIONNULL")),!1)}}})}),define("sap.sbo.page.pad.settings.approval.ApprovalSettingUtil",["sap.sbo.services.BaseService","sap.sbo.localization.Helper","sap.core.klass"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.core.klass.declare({Name:this.getModuleInfo().moduleName,Static:{convertName:function(e){return null!=e?e.originatorFirstName+" "+e.originatorLastName:""},convertToString:function(e){return e+""},getActive:function(e){switch(e+""){case"true":return t.sbo.localization.Helper.get("app/appr/ACTIVE");case"false":return t.sbo.localization.Helper.get("app/appr/INACTIVE");default:return""}},getActiveImg:function(e){switch(e+""){case"true":return"active";case"false":return"inactive";default:return""}},getTermInfo:function(e){if(null==e||""==e)return"";var o=e.terms[0],a="",i="",s="";switch(s=o.termValue,o.termType){case"Always":return a=t.sbo.localization.Helper.get("app/appr/ALWAYS"),t.sbo.localization.Helper.get("app/appr/ALWAYS");case"Total":a=t.sbo.localization.Helper.get("app/appr/TOTAL");break;case"Discount":a=t.sbo.localization.Helper.get("app/appr/DISCOUNT"),s=Number(s)+"%"}switch(o.termCondition){case"Equals":i=t.sbo.localization.Helper.get("app/appr/EQUALS");break;case"GreaterThan":i=t.sbo.localization.Helper.get("app/appr/GREATERTHAN");break;case"LessThan":i=t.sbo.localization.Helper.get("app/appr/LESSTHAN")}return a+" "+i+" "+s},getAuthorizer:function(e){return null==e||""==e?"":e.authorizerFirstName+" "+e.authorizerLastName},getOriginator:function(e){return null==e||""==e?"":e.allUsers?t.sbo.localization.Helper.get("app/appr/ALLUSERS"):""}}})}),define("sap.sbo.page.pad.settings.approval.ApprovalList",["sap.sbo.ui.PageController","sap.ui.Controller","sap.sbo.layout.pad.CardLayout","sap.core.klass","sap.core.JsonModel","sap.ui.widget.TextField","sap.formatter","sap.log","sap.util","sap.sbo.services.ApprovalSettingsService","sap.sbo.util.formatter","sap.sbo.page.pad.settings.approval.ApprovalSettingUtil","json!sap.sbo.util.enums","css!sap.sbo.page.pad.settings.approval.ApprovalList","sap.sbo.localization.Helper","sap.ui.Repeat"],function(){"use strict";var e=this.getNS(),t=e.sap;return e.formatter={number_null:function(e){return e?e:"0.0"}},t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.ui.PageController,Options:{},Public:{init:function(){t.sbo.ui.PageController.prototype.init.apply(this,arguments),this.declareMember({_oModel:this.autoDestroy(new t.core.JsonModel({list:[]})),_docType:"",_viewTitle:"",_approvalId:"",_oService:this.autoDestroy(new t.sbo.services.ApprovalSettingsService),_mViewInfo:window.SboShell.callFeatureMethod("shell.getCurrentViewInfo"),_bTriggerBySetModel:!1});var e=this,o=function(t){e["onKey"+t]()};SboShell.attachEvent("actionButtonClick",o),this.autoDestroy("detach actionButtonClick",function(){SboShell.detachEvent("actionButtonClick",o)})},destroy:function(){},onKeyCreate:function(){window.SboShell.gotoView("sap.sbo.page.pad.settings.approval.ApprovalDetail",{docType:this._docType,viewTitle:this._viewTitle})},onKeyCancel:function(){},initView:function(){var o=this;this._docType=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo").storeParam.docType;var a=$.Deferred();switch(this._docType){case e.json.sap.sbo.util.enums.BoObjectTypes.Quotation:this._viewTitle=t.sbo.localization.Helper.get("common/QUOTATION_NAME")+" "+t.sbo.localization.Helper.get("app/appr/APPROVALSETTINGS");break;case e.json.sap.sbo.util.enums.BoObjectTypes.Order:this._viewTitle=t.sbo.localization.Helper.get("common/ORDER_NAME")+" "+t.sbo.localization.Helper.get("app/appr/APPROVALSETTINGS")}o.setTitle({title:this._viewTitle}),o.$().setModel(o._oModel,"");var i=[{text:t.sbo.localization.Helper.get("common/CREATE"),key:"Create"}];return SboShell.addActionButtons(i,this),$.when(this._oService.query({inlinecount:"allpages",filter:"docType eq '"+o._docType+"'"})).done(function(t){o._oModel.setValue("list",t.value),o.$().process(e),a.resolve()}).fail(function(){}),o.$().process(e),this.$().on("vclick",".list-item",function(){var e=$(this).getModel(),t=e.getValue("id");window.SboShell.gotoView("sap.sbo.page.pad.settings.approval.ApprovalDetail",{approvalId:t,docType:o._docType,viewTitle:o._viewTitle})}),this.$().on("vclick",".first>img.close",function(e){var a=parseInt($($(e.currentTarget).parent().parent()).attr("index"));t.util.showLoading(),$.when(o._oService.onPropertyChange(o._oModel.getValue(""),"Root/documentLines/"+a,"DeleteLine")).done(function(e){o._bTriggerBySetModel=!0,o._oModel.setValue("",e),o._bTriggerBySetModel=!1}).fail(function(){}).always(function(){t.util.hideLoading()})}),a.promise()},destroyView:function(){this.$().unprocess()},getBoKeyEntity:function(){return{boNamespace:"com.sap.sbo",boName:"Order",keyElements:this._mViewInfo.storeParam}},update:function(){}},Protected:{_convertBoKey:function(e){for(var t={},o=0;e.length>o;o++)t[e[o].keyName]=e[o].keyValue;return t}}})}),define("sap.sbo.page.pad.settings.approval.ApprovalTile",["sap.ui.Controller","sap.core.klass","sap.core.JsonModel","sap.ui.widget.TextField","sap.sbo.layout.TileViewController","sap.log","sap.sbo.services.ApprovalSettingsService","sap.formatter","sap.sbo.util.formatter","css!sap.sbo.page.pad.settings.approval.ApprovalTile","sap.sbo.shell.IFeaturable","sap.sbo.localization.Helper"],function(){"use strict";var e=this.getNS(),t=e.sap;return t.ui.Controller.declare({Name:this.getModuleInfo().moduleName,ControllerBase:t.sbo.layout.TileViewController,Interfaces:[t.sbo.shell.IFeaturable],Options:{},Public:{init:function(){t.sbo.layout.TileViewController.prototype.init.apply(this,arguments),t.core.klass.declareMember(this,{__oModel:new t.core.JsonModel({title:t.sbo.localization.Helper.get("app/appr/APPROVALSETTINGS"),count:0,datas:[]}),__boEntityKey:null,__oService:new t.sbo.services.ApprovalSettingsService,__clickProxy:$.proxy(this.__onClickTop,this)})},destroy:function(){this.__oService.destroy(),this.__oService=null,this.__docType="",this.__oModel.destroy(),this.__oModel=null},initView:function(){var t=this,o=window.SboShell.callFeatureMethod("shell.getDeviceType");"phone"===o&&$("div[data-sbo-class='count']").hide(),window.SboShell;var a=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo").storeParam.BusinessObjectName,i=window.SboShell.callFeatureMethod("shell.getCurrentViewInfo").storeParam.BusinessObjectNamespace;t.__docType=i+"."+a,this.$().setModel(this.__oModel),this.__loadInfo(),this.$().process(e),this.$().on("vclick",this.__clickProxy)},destroyView:function(){this.$().off("vclick",this.__clickProxy),this.$().unprocess()},update:function(e){e.data&&this.__loadInfo()},doFeature:function(e){switch(e){case"system.getBOEntityKey":return this.__boEntityKey}}},Protected:{__loadInfo:function(){var e={};e.filter="docType eq '"+this.__docType+"'";var o=this;$.when(this.__oService.count(e)).done(function(e){if(e){var t=e;t!==o.__oModel.getValue("count")&&o.__oModel.setValue("count",t)}}).fail(function(){t.log.error("Load note info failed.")}).always(function(){})},__onClickTop:function(){var e=this,t=window.SboShell.callFeatureMethod("shell.getDeviceType");"phone"===t||window.SboShell.gotoView("sap.sbo.page.pad.settings.approval.ApprovalList",{docType:e.__docType})}}})})});//@ sourceMappingURL=b1-anw.js.map