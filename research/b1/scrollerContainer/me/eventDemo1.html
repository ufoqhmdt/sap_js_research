<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">

		<!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame
		Remove this if you use the .htaccess -->
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

		<title>demo1</title>
		<meta name="description" content="">
		<meta name="author" content="C5193511">

		<meta name="viewport" content="width=device-width,initial-scale=1.0">

		<!-- Replace favicon.ico & apple-touch-icon.png in the root of your domain and delete these references -->
		<link rel="shortcut icon" href="/favicon.ico">
		<link rel="apple-touch-icon" href="/apple-touch-icon.png">
		<link rel="stylesheet" href="../css/bootstrap.css" />

		<style type="text/css">
			.sapMTCEdge {
				position: absolute;
				top: 0;
				width: 40px;
				height: 100%;
				border-left: 2px solid rgba(39,178,255,0.6);
				opacity: 0.01;
			}
			[draggable] {
				-moz-user-select: none;
				-khtml-user-select: none;
				-webkit-user-select: none;
				user-select: none;
				/* Required to make elements draggable in old WebKit */
				-khtml-user-drag: element;
				-webkit-user-drag: element;
			}

			.column {
				height: 150px;
				width: 150px;
				float: left;
				background-color: #ccc;
				margin-right: 5px;
				text-align: center;
				cursor: move;
			}
			.column header {
				color: #fff;
				background-color: black;
				padding: 5px;
			}
		</style>
	</head>

	<body>
		<div id="dragTest" draggable="true" class="column">
			<header>
				drag me
			</header>
			<div id="cnt1" style="width:120px;height:120px;background-color:red;">
				<div id="cnt2" style="width:80px;height:80px;background-color:green;">
					<div id="cnt3" style="width:40px;height:40px;background-color:blue;">
					</div>
				</div>
			</div>
		</div>

		<script src="../js/jquery-1.9.1.js"></script>
		<script src="../js/iscroll.js"></script>
		<script src="../js/jquery.gridly.js"></script>
		<script type="text/javascript">
			function log(l) {
				console.log(l);
			}

			function handleClick(e) {
				e.preventDefault();
				e.stopPropagation();
				log("handleClick");
			}

			function handleDragStart(e) {
				// e.stopPropagation();
				log("dragstart");
				// this.style.opacity = '0.4';
				// this / e.target is the source node.
			}

			function handleDragOver(e) {
				log("dragOver");
				e.stopPropagation();
				if (e.preventDefault) {
					e.preventDefault();
					// Necessary. Allows us to drop.
				}

				e.dataTransfer.dropEffect = 'move';
				// See the section on the DataTransfer object.

				return false;
			}

			function handleDragEnter(e) {
				e.stopPropagation();
				e.preventDefault();
				log("dragEnter");
				// this / e.target is the current hover target.
				this.classList.add('over');
			}

			function handleDragLeave(e) {
				e.stopPropagation();
				e.preventDefault();
				log("dragLeave");
				this.classList.remove('over');
				// this / e.target is previous target element.
			}

			function handleMouseover(e) {
				log("handleMouseover");
			}

			function handleMouseDown(e) {
				log("handleMouseDown");
			}
			function handleMouseDown1(e) {
				log("handleMouseDown1");
			}
			function handleMouseDown2(e) {
				log("handleMouseDown2");
			}
			function handleMouseDown3(e) {
				log("handleMouseDown3");
			}

			function handleMouseDownP(e) {
				log("handleMouseDownP");
			}
			function handleMouseDown1P(e) {
				log("handleMouseDown1P");
			}
			function handleMouseDown2P(e) {
				log("handleMouseDown2P");
			}
			function handleMouseDown3P(e) {
				log("handleMouseDown3P");
			}

			var dragTestDiv = document.querySelectorAll('#dragTest')[0];
			var cnt1 = document.querySelectorAll('#cnt1')[0];
			var cnt2 = document.querySelectorAll('#cnt2')[0];
			var cnt3 = document.querySelectorAll('#cnt3')[0];
			// var dragTestDiv = $('#dragTest');

			// dragTestDiv.addEventListener('dragstart', handleDragStart, false);
			// dragTestDiv.addEventListener('dragenter', handleDragEnter, false);
			// dragTestDiv.addEventListener('dragover', handleDragOver, false);
			// dragTestDiv.addEventListener('dragleave', handleDragLeave, false);

			// dragTestDiv.addEventListener('mouseover', handleMouseover, false);
			
			// dragTestDiv.addEventListener('mouseup', handleMouseover, false);

			dragTestDiv.addEventListener('mousedown', handleMouseDown, false);
			cnt1.addEventListener('mousedown', handleMouseDown1, false);
			cnt2.addEventListener('mousedown', handleMouseDown2, false);
			cnt3.addEventListener('mousedown', handleMouseDown3, false);

			dragTestDiv.addEventListener('mousedown', handleMouseDownP, true);
			cnt1.addEventListener('mousedown', handleMouseDown1P, true);
			cnt2.addEventListener('mousedown', handleMouseDown2P, true);
			cnt3.addEventListener('mousedown', handleMouseDown3P, true);

		</script>
	</body>
</html>
